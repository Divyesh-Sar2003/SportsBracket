var c0=t=>{throw TypeError(t)};var Lm=(t,e,n)=>e.has(t)||c0("Cannot "+n);var G=(t,e,n)=>(Lm(t,e,"read from private field"),n?n.call(t):e.get(t)),it=(t,e,n)=>e.has(t)?c0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Me=(t,e,n,r)=>(Lm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Cn=(t,e,n)=>(Lm(t,e,"access private method"),n);var Wd=(t,e,n,r)=>({set _(s){Me(t,e,s,n)},get _(){return G(t,e,r)}});function B2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function NT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PT={exports:{}},dp={},RT={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd=Symbol.for("react.element"),z2=Symbol.for("react.portal"),W2=Symbol.for("react.fragment"),H2=Symbol.for("react.strict_mode"),q2=Symbol.for("react.profiler"),G2=Symbol.for("react.provider"),K2=Symbol.for("react.context"),Q2=Symbol.for("react.forward_ref"),Y2=Symbol.for("react.suspense"),X2=Symbol.for("react.memo"),Z2=Symbol.for("react.lazy"),u0=Symbol.iterator;function J2(t){return t===null||typeof t!="object"?null:(t=u0&&t[u0]||t["@@iterator"],typeof t=="function"?t:null)}var jT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OT=Object.assign,DT={};function Jl(t,e,n){this.props=t,this.context=e,this.refs=DT,this.updater=n||jT}Jl.prototype.isReactComponent={};Jl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function MT(){}MT.prototype=Jl.prototype;function Vv(t,e,n){this.props=t,this.context=e,this.refs=DT,this.updater=n||jT}var Lv=Vv.prototype=new MT;Lv.constructor=Vv;OT(Lv,Jl.prototype);Lv.isPureReactComponent=!0;var d0=Array.isArray,VT=Object.prototype.hasOwnProperty,Fv={current:null},LT={key:!0,ref:!0,__self:!0,__source:!0};function FT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)VT.call(e,r)&&!LT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:rd,type:t,key:i,ref:o,props:s,_owner:Fv.current}}function ej(t,e){return{$$typeof:rd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uv(t){return typeof t=="object"&&t!==null&&t.$$typeof===rd}function tj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var h0=/\/+/g;function Fm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tj(""+t.key):e.toString(36)}function bh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rd:case z2:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Fm(o,0):r,d0(s)?(n="",t!=null&&(n=t.replace(h0,"$&/")+"/"),bh(s,e,n,"",function(d){return d})):s!=null&&(Uv(s)&&(s=ej(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(h0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",d0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Fm(i,a);o+=bh(i,e,n,l,s)}else if(l=J2(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Fm(i,a++),o+=bh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hd(t,e,n){if(t==null)return t;var r=[],s=0;return bh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function nj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bn={current:null},Th={transition:null},rj={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:Th,ReactCurrentOwner:Fv};function UT(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:Hd,forEach:function(t,e,n){Hd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hd(t,function(){e++}),e},toArray:function(t){return Hd(t,function(e){return e})||[]},only:function(t){if(!Uv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};We.Component=Jl;We.Fragment=W2;We.Profiler=q2;We.PureComponent=Vv;We.StrictMode=H2;We.Suspense=Y2;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rj;We.act=UT;We.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=OT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Fv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)VT.call(e,l)&&!LT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:rd,type:t.type,key:s,ref:i,props:r,_owner:o}};We.createContext=function(t){return t={$$typeof:K2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:G2,_context:t},t.Consumer=t};We.createElement=FT;We.createFactory=function(t){var e=FT.bind(null,t);return e.type=t,e};We.createRef=function(){return{current:null}};We.forwardRef=function(t){return{$$typeof:Q2,render:t}};We.isValidElement=Uv;We.lazy=function(t){return{$$typeof:Z2,_payload:{_status:-1,_result:t},_init:nj}};We.memo=function(t,e){return{$$typeof:X2,type:t,compare:e===void 0?null:e}};We.startTransition=function(t){var e=Th.transition;Th.transition={};try{t()}finally{Th.transition=e}};We.unstable_act=UT;We.useCallback=function(t,e){return Bn.current.useCallback(t,e)};We.useContext=function(t){return Bn.current.useContext(t)};We.useDebugValue=function(){};We.useDeferredValue=function(t){return Bn.current.useDeferredValue(t)};We.useEffect=function(t,e){return Bn.current.useEffect(t,e)};We.useId=function(){return Bn.current.useId()};We.useImperativeHandle=function(t,e,n){return Bn.current.useImperativeHandle(t,e,n)};We.useInsertionEffect=function(t,e){return Bn.current.useInsertionEffect(t,e)};We.useLayoutEffect=function(t,e){return Bn.current.useLayoutEffect(t,e)};We.useMemo=function(t,e){return Bn.current.useMemo(t,e)};We.useReducer=function(t,e,n){return Bn.current.useReducer(t,e,n)};We.useRef=function(t){return Bn.current.useRef(t)};We.useState=function(t){return Bn.current.useState(t)};We.useSyncExternalStore=function(t,e,n){return Bn.current.useSyncExternalStore(t,e,n)};We.useTransition=function(){return Bn.current.useTransition()};We.version="18.3.1";RT.exports=We;var m=RT.exports;const H=NT(m),$v=B2({__proto__:null,default:H},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sj=m,ij=Symbol.for("react.element"),oj=Symbol.for("react.fragment"),aj=Object.prototype.hasOwnProperty,lj=sj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cj={key:!0,ref:!0,__self:!0,__source:!0};function $T(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)aj.call(e,r)&&!cj.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ij,type:t,key:i,ref:o,props:s,_owner:lj.current}}dp.Fragment=oj;dp.jsx=$T;dp.jsxs=$T;PT.exports=dp;var c=PT.exports,BT={exports:{}},mr={},zT={exports:{}},WT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,$){var re=U.length;U.push($);e:for(;0<re;){var ge=re-1>>>1,le=U[ge];if(0<s(le,$))U[ge]=$,U[re]=le,re=ge;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var $=U[0],re=U.pop();if(re!==$){U[0]=re;e:for(var ge=0,le=U.length,ue=le>>>1;ge<ue;){var we=2*(ge+1)-1,De=U[we],lt=we+1,se=U[lt];if(0>s(De,re))lt<le&&0>s(se,De)?(U[ge]=se,U[lt]=re,ge=lt):(U[ge]=De,U[we]=re,ge=we);else if(lt<le&&0>s(se,re))U[ge]=se,U[lt]=re,ge=lt;else break e}}return $}function s(U,$){var re=U.sortIndex-$.sortIndex;return re!==0?re:U.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,f=null,p=3,g=!1,T=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(U){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=U)r(d),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(d)}}function I(U){if(x=!1,E(U),!T)if(n(l)!==null)T=!0,Q(D);else{var $=n(d);$!==null&&ee(I,$.startTime-U)}}function D(U,$){T=!1,x&&(x=!1,w(S),S=-1),g=!0;var re=p;try{for(E($),f=n(l);f!==null&&(!(f.expirationTime>$)||U&&!O());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,p=f.priorityLevel;var le=ge(f.expirationTime<=$);$=t.unstable_now(),typeof le=="function"?f.callback=le:f===n(l)&&r(l),E($)}else r(l);f=n(l)}if(f!==null)var ue=!0;else{var we=n(d);we!==null&&ee(I,we.startTime-$),ue=!1}return ue}finally{f=null,p=re,g=!1}}var j=!1,C=null,S=-1,k=5,P=-1;function O(){return!(t.unstable_now()-P<k)}function R(){if(C!==null){var U=t.unstable_now();P=U;var $=!0;try{$=C(!0,U)}finally{$?A():(j=!1,C=null)}}else j=!1}var A;if(typeof y=="function")A=function(){y(R)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,oe=W.port2;W.port1.onmessage=R,A=function(){oe.postMessage(null)}}else A=function(){_(R,0)};function Q(U){C=U,j||(j=!0,A())}function ee(U,$){S=_(function(){U(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){T||g||(T=!0,Q(D))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var re=p;p=$;try{return U()}finally{p=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var re=p;p=U;try{return $()}finally{p=re}},t.unstable_scheduleCallback=function(U,$,re){var ge=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ge+re:ge):re=ge,U){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=re+le,U={id:h++,callback:$,priorityLevel:U,startTime:re,expirationTime:le,sortIndex:-1},re>ge?(U.sortIndex=re,e(d,U),n(l)===null&&U===n(d)&&(x?(w(S),S=-1):x=!0,ee(I,re-ge))):(U.sortIndex=le,e(l,U),T||g||(T=!0,Q(D))),U},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(U){var $=p;return function(){var re=p;p=$;try{return U.apply(this,arguments)}finally{p=re}}}})(WT);zT.exports=WT;var uj=zT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dj=m,hr=uj;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HT=new Set,wu={};function xa(t,e){kl(t,e),kl(t+"Capture",e)}function kl(t,e){for(wu[t]=e,t=0;t<e.length;t++)HT.add(e[t])}var Gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$g=Object.prototype.hasOwnProperty,hj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f0={},p0={};function fj(t){return $g.call(p0,t)?!0:$g.call(f0,t)?!1:hj.test(t)?p0[t]=!0:(f0[t]=!0,!1)}function pj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mj(t,e,n,r){if(e===null||typeof e>"u"||pj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xn[t]=new zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xn[e]=new zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xn[t]=new zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xn[t]=new zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xn[t]=new zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xn[t]=new zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xn[t]=new zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xn[t]=new zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xn[t]=new zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bv=/[\-:]([a-z])/g;function zv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bv,zv);xn[e]=new zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bv,zv);xn[e]=new zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bv,zv);xn[e]=new zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xn[t]=new zn(t,1,!1,t.toLowerCase(),null,!1,!1)});xn.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xn[t]=new zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wv(t,e,n,r){var s=xn.hasOwnProperty(e)?xn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mj(e,n,s,r)&&(n=null),r||s===null?fj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ii=dj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qd=Symbol.for("react.element"),Ga=Symbol.for("react.portal"),Ka=Symbol.for("react.fragment"),Hv=Symbol.for("react.strict_mode"),Bg=Symbol.for("react.profiler"),qT=Symbol.for("react.provider"),GT=Symbol.for("react.context"),qv=Symbol.for("react.forward_ref"),zg=Symbol.for("react.suspense"),Wg=Symbol.for("react.suspense_list"),Gv=Symbol.for("react.memo"),Si=Symbol.for("react.lazy"),KT=Symbol.for("react.offscreen"),m0=Symbol.iterator;function Nc(t){return t===null||typeof t!="object"?null:(t=m0&&t[m0]||t["@@iterator"],typeof t=="function"?t:null)}var Dt=Object.assign,Um;function zc(t){if(Um===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Um=e&&e[1]||""}return`
`+Um+t}var $m=!1;function Bm(t,e){if(!t||$m)return"";$m=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$m=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zc(t):""}function gj(t){switch(t.tag){case 5:return zc(t.type);case 16:return zc("Lazy");case 13:return zc("Suspense");case 19:return zc("SuspenseList");case 0:case 2:case 15:return t=Bm(t.type,!1),t;case 11:return t=Bm(t.type.render,!1),t;case 1:return t=Bm(t.type,!0),t;default:return""}}function Hg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ka:return"Fragment";case Ga:return"Portal";case Bg:return"Profiler";case Hv:return"StrictMode";case zg:return"Suspense";case Wg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GT:return(t.displayName||"Context")+".Consumer";case qT:return(t._context.displayName||"Context")+".Provider";case qv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gv:return e=t.displayName||null,e!==null?e:Hg(t.type)||"Memo";case Si:e=t._payload,t=t._init;try{return Hg(t(e))}catch{}}return null}function yj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hg(e);case 8:return e===Hv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function co(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vj(t){var e=QT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gd(t){t._valueTracker||(t._valueTracker=vj(t))}function YT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=QT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qg(t,e){var n=e.checked;return Dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function g0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=co(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XT(t,e){e=e.checked,e!=null&&Wv(t,"checked",e,!1)}function Gg(t,e){XT(t,e);var n=co(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Kg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Kg(t,e.type,co(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function y0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Kg(t,e,n){(e!=="number"||Zh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wc=Array.isArray;function il(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+co(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Qg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function v0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(Wc(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:co(n)}}function ZT(t,e){var n=co(e.value),r=co(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kd,eS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kd=Kd||document.createElement("div"),Kd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_j=["Webkit","ms","Moz","O"];Object.keys(tu).forEach(function(t){_j.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tu[e]=tu[t]})});function tS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tu.hasOwnProperty(t)&&tu[t]?(""+e).trim():e+"px"}function nS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=tS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var wj=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xg(t,e){if(e){if(wj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function Zg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jg=null;function Kv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ey=null,ol=null,al=null;function w0(t){if(t=od(t)){if(typeof ey!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=gp(e),ey(t.stateNode,t.type,e))}}function rS(t){ol?al?al.push(t):al=[t]:ol=t}function sS(){if(ol){var t=ol,e=al;if(al=ol=null,w0(t),e)for(t=0;t<e.length;t++)w0(e[t])}}function iS(t,e){return t(e)}function oS(){}var zm=!1;function aS(t,e,n){if(zm)return t(e,n);zm=!0;try{return iS(t,e,n)}finally{zm=!1,(ol!==null||al!==null)&&(oS(),sS())}}function Eu(t,e){var n=t.stateNode;if(n===null)return null;var r=gp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var ty=!1;if(Gs)try{var Pc={};Object.defineProperty(Pc,"passive",{get:function(){ty=!0}}),window.addEventListener("test",Pc,Pc),window.removeEventListener("test",Pc,Pc)}catch{ty=!1}function xj(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var nu=!1,Jh=null,ef=!1,ny=null,Ej={onError:function(t){nu=!0,Jh=t}};function bj(t,e,n,r,s,i,o,a,l){nu=!1,Jh=null,xj.apply(Ej,arguments)}function Tj(t,e,n,r,s,i,o,a,l){if(bj.apply(this,arguments),nu){if(nu){var d=Jh;nu=!1,Jh=null}else throw Error(Z(198));ef||(ef=!0,ny=d)}}function Ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x0(t){if(Ea(t)!==t)throw Error(Z(188))}function Sj(t){var e=t.alternate;if(!e){if(e=Ea(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return x0(s),t;if(i===r)return x0(s),e;i=i.sibling}throw Error(Z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function cS(t){return t=Sj(t),t!==null?uS(t):null}function uS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uS(t);if(e!==null)return e;t=t.sibling}return null}var dS=hr.unstable_scheduleCallback,E0=hr.unstable_cancelCallback,Cj=hr.unstable_shouldYield,Ij=hr.unstable_requestPaint,Wt=hr.unstable_now,kj=hr.unstable_getCurrentPriorityLevel,Qv=hr.unstable_ImmediatePriority,hS=hr.unstable_UserBlockingPriority,tf=hr.unstable_NormalPriority,Aj=hr.unstable_LowPriority,fS=hr.unstable_IdlePriority,hp=null,ps=null;function Nj(t){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(hp,t,void 0,(t.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:jj,Pj=Math.log,Rj=Math.LN2;function jj(t){return t>>>=0,t===0?32:31-(Pj(t)/Rj|0)|0}var Qd=64,Yd=4194304;function Hc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Hc(a):(i&=o,i!==0&&(r=Hc(i)))}else o=n&~s,o!==0?r=Hc(o):i!==0&&(r=Hc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hr(e),s=1<<n,r|=t[n],e&=~s;return r}function Oj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Hr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Oj(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ry(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pS(){var t=Qd;return Qd<<=1,!(Qd&4194240)&&(Qd=64),t}function Wm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hr(e),t[e]=n}function Mj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Hr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Yv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ht=0;function mS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gS,Xv,yS,vS,_S,sy=!1,Xd=[],Wi=null,Hi=null,qi=null,bu=new Map,Tu=new Map,Ai=[],Vj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b0(t,e){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":bu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(e.pointerId)}}function Rc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=od(e),e!==null&&Xv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Lj(t,e,n,r,s){switch(e){case"focusin":return Wi=Rc(Wi,t,e,n,r,s),!0;case"dragenter":return Hi=Rc(Hi,t,e,n,r,s),!0;case"mouseover":return qi=Rc(qi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return bu.set(i,Rc(bu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Tu.set(i,Rc(Tu.get(i)||null,t,e,n,r,s)),!0}return!1}function wS(t){var e=Bo(t.target);if(e!==null){var n=Ea(e);if(n!==null){if(e=n.tag,e===13){if(e=lS(n),e!==null){t.blockedOn=e,_S(t.priority,function(){yS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=iy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Jg=r,n.target.dispatchEvent(r),Jg=null}else return e=od(n),e!==null&&Xv(e),t.blockedOn=n,!1;e.shift()}return!0}function T0(t,e,n){Sh(t)&&n.delete(e)}function Fj(){sy=!1,Wi!==null&&Sh(Wi)&&(Wi=null),Hi!==null&&Sh(Hi)&&(Hi=null),qi!==null&&Sh(qi)&&(qi=null),bu.forEach(T0),Tu.forEach(T0)}function jc(t,e){t.blockedOn===e&&(t.blockedOn=null,sy||(sy=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,Fj)))}function Su(t){function e(s){return jc(s,t)}if(0<Xd.length){jc(Xd[0],t);for(var n=1;n<Xd.length;n++){var r=Xd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wi!==null&&jc(Wi,t),Hi!==null&&jc(Hi,t),qi!==null&&jc(qi,t),bu.forEach(e),Tu.forEach(e),n=0;n<Ai.length;n++)r=Ai[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ai.length&&(n=Ai[0],n.blockedOn===null);)wS(n),n.blockedOn===null&&Ai.shift()}var ll=ii.ReactCurrentBatchConfig,rf=!0;function Uj(t,e,n,r){var s=ht,i=ll.transition;ll.transition=null;try{ht=1,Zv(t,e,n,r)}finally{ht=s,ll.transition=i}}function $j(t,e,n,r){var s=ht,i=ll.transition;ll.transition=null;try{ht=4,Zv(t,e,n,r)}finally{ht=s,ll.transition=i}}function Zv(t,e,n,r){if(rf){var s=iy(t,e,n,r);if(s===null)eg(t,e,r,sf,n),b0(t,r);else if(Lj(s,t,e,n,r))r.stopPropagation();else if(b0(t,r),e&4&&-1<Vj.indexOf(t)){for(;s!==null;){var i=od(s);if(i!==null&&gS(i),i=iy(t,e,n,r),i===null&&eg(t,e,r,sf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else eg(t,e,r,null,n)}}var sf=null;function iy(t,e,n,r){if(sf=null,t=Kv(r),t=Bo(t),t!==null)if(e=Ea(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sf=t,null}function xS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kj()){case Qv:return 1;case hS:return 4;case tf:case Aj:return 16;case fS:return 536870912;default:return 16}default:return 16}}var Fi=null,Jv=null,Ch=null;function ES(){if(Ch)return Ch;var t,e=Jv,n=e.length,r,s="value"in Fi?Fi.value:Fi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ch=s.slice(t,1<r?1-r:void 0)}function Ih(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zd(){return!0}function S0(){return!1}function gr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zd:S0,this.isPropagationStopped=S0,this}return Dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zd)},persist:function(){},isPersistent:Zd}),e}var ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e_=gr(ec),id=Dt({},ec,{view:0,detail:0}),Bj=gr(id),Hm,qm,Oc,fp=Dt({},id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oc&&(Oc&&t.type==="mousemove"?(Hm=t.screenX-Oc.screenX,qm=t.screenY-Oc.screenY):qm=Hm=0,Oc=t),Hm)},movementY:function(t){return"movementY"in t?t.movementY:qm}}),C0=gr(fp),zj=Dt({},fp,{dataTransfer:0}),Wj=gr(zj),Hj=Dt({},id,{relatedTarget:0}),Gm=gr(Hj),qj=Dt({},ec,{animationName:0,elapsedTime:0,pseudoElement:0}),Gj=gr(qj),Kj=Dt({},ec,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qj=gr(Kj),Yj=Dt({},ec,{data:0}),I0=gr(Yj),Xj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jj[t])?!!e[t]:!1}function t_(){return eO}var tO=Dt({},id,{key:function(t){if(t.key){var e=Xj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ih(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t_,charCode:function(t){return t.type==="keypress"?Ih(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ih(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nO=gr(tO),rO=Dt({},fp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k0=gr(rO),sO=Dt({},id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t_}),iO=gr(sO),oO=Dt({},ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),aO=gr(oO),lO=Dt({},fp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cO=gr(lO),uO=[9,13,27,32],n_=Gs&&"CompositionEvent"in window,ru=null;Gs&&"documentMode"in document&&(ru=document.documentMode);var dO=Gs&&"TextEvent"in window&&!ru,bS=Gs&&(!n_||ru&&8<ru&&11>=ru),A0=" ",N0=!1;function TS(t,e){switch(t){case"keyup":return uO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qa=!1;function hO(t,e){switch(t){case"compositionend":return SS(e);case"keypress":return e.which!==32?null:(N0=!0,A0);case"textInput":return t=e.data,t===A0&&N0?null:t;default:return null}}function fO(t,e){if(Qa)return t==="compositionend"||!n_&&TS(t,e)?(t=ES(),Ch=Jv=Fi=null,Qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bS&&e.locale!=="ko"?null:e.data;default:return null}}var pO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pO[t.type]:e==="textarea"}function CS(t,e,n,r){rS(r),e=of(e,"onChange"),0<e.length&&(n=new e_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var su=null,Cu=null;function mO(t){VS(t,0)}function pp(t){var e=Za(t);if(YT(e))return t}function gO(t,e){if(t==="change")return e}var IS=!1;if(Gs){var Km;if(Gs){var Qm="oninput"in document;if(!Qm){var R0=document.createElement("div");R0.setAttribute("oninput","return;"),Qm=typeof R0.oninput=="function"}Km=Qm}else Km=!1;IS=Km&&(!document.documentMode||9<document.documentMode)}function j0(){su&&(su.detachEvent("onpropertychange",kS),Cu=su=null)}function kS(t){if(t.propertyName==="value"&&pp(Cu)){var e=[];CS(e,Cu,t,Kv(t)),aS(mO,e)}}function yO(t,e,n){t==="focusin"?(j0(),su=e,Cu=n,su.attachEvent("onpropertychange",kS)):t==="focusout"&&j0()}function vO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pp(Cu)}function _O(t,e){if(t==="click")return pp(e)}function wO(t,e){if(t==="input"||t==="change")return pp(e)}function xO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qr=typeof Object.is=="function"?Object.is:xO;function Iu(t,e){if(Qr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!$g.call(e,s)||!Qr(t[s],e[s]))return!1}return!0}function O0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function D0(t,e){var n=O0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=O0(n)}}function AS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NS(){for(var t=window,e=Zh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zh(t.document)}return e}function r_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EO(t){var e=NS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AS(n.ownerDocument.documentElement,n)){if(r!==null&&r_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=D0(n,i);var o=D0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bO=Gs&&"documentMode"in document&&11>=document.documentMode,Ya=null,oy=null,iu=null,ay=!1;function M0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ay||Ya==null||Ya!==Zh(r)||(r=Ya,"selectionStart"in r&&r_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iu&&Iu(iu,r)||(iu=r,r=of(oy,"onSelect"),0<r.length&&(e=new e_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ya)))}function Jd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xa={animationend:Jd("Animation","AnimationEnd"),animationiteration:Jd("Animation","AnimationIteration"),animationstart:Jd("Animation","AnimationStart"),transitionend:Jd("Transition","TransitionEnd")},Ym={},PS={};Gs&&(PS=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function mp(t){if(Ym[t])return Ym[t];if(!Xa[t])return t;var e=Xa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in PS)return Ym[t]=e[n];return t}var RS=mp("animationend"),jS=mp("animationiteration"),OS=mp("animationstart"),DS=mp("transitionend"),MS=new Map,V0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bo(t,e){MS.set(t,e),xa(e,[t])}for(var Xm=0;Xm<V0.length;Xm++){var Zm=V0[Xm],TO=Zm.toLowerCase(),SO=Zm[0].toUpperCase()+Zm.slice(1);bo(TO,"on"+SO)}bo(RS,"onAnimationEnd");bo(jS,"onAnimationIteration");bo(OS,"onAnimationStart");bo("dblclick","onDoubleClick");bo("focusin","onFocus");bo("focusout","onBlur");bo(DS,"onTransitionEnd");kl("onMouseEnter",["mouseout","mouseover"]);kl("onMouseLeave",["mouseout","mouseover"]);kl("onPointerEnter",["pointerout","pointerover"]);kl("onPointerLeave",["pointerout","pointerover"]);xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CO=new Set("cancel close invalid load scroll toggle".split(" ").concat(qc));function L0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Tj(r,e,void 0,t),t.currentTarget=null}function VS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;L0(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;L0(s,a,d),i=l}}}if(ef)throw t=ny,ef=!1,ny=null,t}function Ct(t,e){var n=e[hy];n===void 0&&(n=e[hy]=new Set);var r=t+"__bubble";n.has(r)||(LS(e,t,2,!1),n.add(r))}function Jm(t,e,n){var r=0;e&&(r|=4),LS(n,t,r,e)}var eh="_reactListening"+Math.random().toString(36).slice(2);function ku(t){if(!t[eh]){t[eh]=!0,HT.forEach(function(n){n!=="selectionchange"&&(CO.has(n)||Jm(n,!1,t),Jm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[eh]||(e[eh]=!0,Jm("selectionchange",!1,e))}}function LS(t,e,n,r){switch(xS(e)){case 1:var s=Uj;break;case 4:s=$j;break;default:s=Zv}n=s.bind(null,e,n,t),s=void 0,!ty||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function eg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Bo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}aS(function(){var d=i,h=Kv(n),f=[];e:{var p=MS.get(t);if(p!==void 0){var g=e_,T=t;switch(t){case"keypress":if(Ih(n)===0)break e;case"keydown":case"keyup":g=nO;break;case"focusin":T="focus",g=Gm;break;case"focusout":T="blur",g=Gm;break;case"beforeblur":case"afterblur":g=Gm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=C0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Wj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=iO;break;case RS:case jS:case OS:g=Gj;break;case DS:g=aO;break;case"scroll":g=Bj;break;case"wheel":g=cO;break;case"copy":case"cut":case"paste":g=Qj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=k0}var x=(e&4)!==0,_=!x&&t==="scroll",w=x?p!==null?p+"Capture":null:p;x=[];for(var y=d,E;y!==null;){E=y;var I=E.stateNode;if(E.tag===5&&I!==null&&(E=I,w!==null&&(I=Eu(y,w),I!=null&&x.push(Au(y,I,E)))),_)break;y=y.return}0<x.length&&(p=new g(p,T,null,n,h),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Jg&&(T=n.relatedTarget||n.fromElement)&&(Bo(T)||T[Ks]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(T=n.relatedTarget||n.toElement,g=d,T=T?Bo(T):null,T!==null&&(_=Ea(T),T!==_||T.tag!==5&&T.tag!==6)&&(T=null)):(g=null,T=d),g!==T)){if(x=C0,I="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=k0,I="onPointerLeave",w="onPointerEnter",y="pointer"),_=g==null?p:Za(g),E=T==null?p:Za(T),p=new x(I,y+"leave",g,n,h),p.target=_,p.relatedTarget=E,I=null,Bo(h)===d&&(x=new x(w,y+"enter",T,n,h),x.target=E,x.relatedTarget=_,I=x),_=I,g&&T)t:{for(x=g,w=T,y=0,E=x;E;E=Ma(E))y++;for(E=0,I=w;I;I=Ma(I))E++;for(;0<y-E;)x=Ma(x),y--;for(;0<E-y;)w=Ma(w),E--;for(;y--;){if(x===w||w!==null&&x===w.alternate)break t;x=Ma(x),w=Ma(w)}x=null}else x=null;g!==null&&F0(f,p,g,x,!1),T!==null&&_!==null&&F0(f,_,T,x,!0)}}e:{if(p=d?Za(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var D=gO;else if(P0(p))if(IS)D=wO;else{D=vO;var j=yO}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=_O);if(D&&(D=D(t,d))){CS(f,D,n,h);break e}j&&j(t,p,d),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Kg(p,"number",p.value)}switch(j=d?Za(d):window,t){case"focusin":(P0(j)||j.contentEditable==="true")&&(Ya=j,oy=d,iu=null);break;case"focusout":iu=oy=Ya=null;break;case"mousedown":ay=!0;break;case"contextmenu":case"mouseup":case"dragend":ay=!1,M0(f,n,h);break;case"selectionchange":if(bO)break;case"keydown":case"keyup":M0(f,n,h)}var C;if(n_)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Qa?TS(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(bS&&n.locale!=="ko"&&(Qa||S!=="onCompositionStart"?S==="onCompositionEnd"&&Qa&&(C=ES()):(Fi=h,Jv="value"in Fi?Fi.value:Fi.textContent,Qa=!0)),j=of(d,S),0<j.length&&(S=new I0(S,t,null,n,h),f.push({event:S,listeners:j}),C?S.data=C:(C=SS(n),C!==null&&(S.data=C)))),(C=dO?hO(t,n):fO(t,n))&&(d=of(d,"onBeforeInput"),0<d.length&&(h=new I0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=C))}VS(f,e)})}function Au(t,e,n){return{instance:t,listener:e,currentTarget:n}}function of(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Eu(t,n),i!=null&&r.unshift(Au(t,i,s)),i=Eu(t,e),i!=null&&r.push(Au(t,i,s))),t=t.return}return r}function Ma(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=Eu(n,i),l!=null&&o.unshift(Au(n,l,a))):s||(l=Eu(n,i),l!=null&&o.push(Au(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var IO=/\r\n?/g,kO=/\u0000|\uFFFD/g;function U0(t){return(typeof t=="string"?t:""+t).replace(IO,`
`).replace(kO,"")}function th(t,e,n){if(e=U0(e),U0(t)!==e&&n)throw Error(Z(425))}function af(){}var ly=null,cy=null;function uy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dy=typeof setTimeout=="function"?setTimeout:void 0,AO=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,NO=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(t){return $0.resolve(null).then(t).catch(PO)}:dy;function PO(t){setTimeout(function(){throw t})}function tg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Su(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Su(e)}function Gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function B0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tc=Math.random().toString(36).slice(2),us="__reactFiber$"+tc,Nu="__reactProps$"+tc,Ks="__reactContainer$"+tc,hy="__reactEvents$"+tc,RO="__reactListeners$"+tc,jO="__reactHandles$"+tc;function Bo(t){var e=t[us];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ks]||n[us]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=B0(t);t!==null;){if(n=t[us])return n;t=B0(t)}return e}t=n,n=t.parentNode}return null}function od(t){return t=t[us]||t[Ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Za(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function gp(t){return t[Nu]||null}var fy=[],Ja=-1;function To(t){return{current:t}}function kt(t){0>Ja||(t.current=fy[Ja],fy[Ja]=null,Ja--)}function Et(t,e){Ja++,fy[Ja]=t.current,t.current=e}var uo={},On=To(uo),er=To(!1),ia=uo;function Al(t,e){var n=t.type.contextTypes;if(!n)return uo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function tr(t){return t=t.childContextTypes,t!=null}function lf(){kt(er),kt(On)}function z0(t,e,n){if(On.current!==uo)throw Error(Z(168));Et(On,e),Et(er,n)}function FS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Z(108,yj(t)||"Unknown",s));return Dt({},n,r)}function cf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||uo,ia=On.current,Et(On,t),Et(er,er.current),!0}function W0(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=FS(t,e,ia),r.__reactInternalMemoizedMergedChildContext=t,kt(er),kt(On),Et(On,t)):kt(er),Et(er,n)}var Ds=null,yp=!1,ng=!1;function US(t){Ds===null?Ds=[t]:Ds.push(t)}function OO(t){yp=!0,US(t)}function So(){if(!ng&&Ds!==null){ng=!0;var t=0,e=ht;try{var n=Ds;for(ht=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ds=null,yp=!1}catch(s){throw Ds!==null&&(Ds=Ds.slice(t+1)),dS(Qv,So),s}finally{ht=e,ng=!1}}return null}var el=[],tl=0,uf=null,df=0,wr=[],xr=0,oa=null,Fs=1,Us="";function Lo(t,e){el[tl++]=df,el[tl++]=uf,uf=t,df=e}function $S(t,e,n){wr[xr++]=Fs,wr[xr++]=Us,wr[xr++]=oa,oa=t;var r=Fs;t=Us;var s=32-Hr(r)-1;r&=~(1<<s),n+=1;var i=32-Hr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Fs=1<<32-Hr(e)+s|n<<s|r,Us=i+t}else Fs=1<<i|n<<s|r,Us=t}function s_(t){t.return!==null&&(Lo(t,1),$S(t,1,0))}function i_(t){for(;t===uf;)uf=el[--tl],el[tl]=null,df=el[--tl],el[tl]=null;for(;t===oa;)oa=wr[--xr],wr[xr]=null,Us=wr[--xr],wr[xr]=null,Fs=wr[--xr],wr[xr]=null}var ur=null,lr=null,Pt=!1,$r=null;function BS(t,e){var n=br(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function H0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ur=t,lr=Gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ur=t,lr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oa!==null?{id:Fs,overflow:Us}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=br(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ur=t,lr=null,!0):!1;default:return!1}}function py(t){return(t.mode&1)!==0&&(t.flags&128)===0}function my(t){if(Pt){var e=lr;if(e){var n=e;if(!H0(t,e)){if(py(t))throw Error(Z(418));e=Gi(n.nextSibling);var r=ur;e&&H0(t,e)?BS(r,n):(t.flags=t.flags&-4097|2,Pt=!1,ur=t)}}else{if(py(t))throw Error(Z(418));t.flags=t.flags&-4097|2,Pt=!1,ur=t}}}function q0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ur=t}function nh(t){if(t!==ur)return!1;if(!Pt)return q0(t),Pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uy(t.type,t.memoizedProps)),e&&(e=lr)){if(py(t))throw zS(),Error(Z(418));for(;e;)BS(t,e),e=Gi(e.nextSibling)}if(q0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){lr=Gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}lr=null}}else lr=ur?Gi(t.stateNode.nextSibling):null;return!0}function zS(){for(var t=lr;t;)t=Gi(t.nextSibling)}function Nl(){lr=ur=null,Pt=!1}function o_(t){$r===null?$r=[t]:$r.push(t)}var DO=ii.ReactCurrentBatchConfig;function Dc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function rh(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function G0(t){var e=t._init;return e(t._payload)}function WS(t){function e(w,y){if(t){var E=w.deletions;E===null?(w.deletions=[y],w.flags|=16):E.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Xi(w,y),w.index=0,w.sibling=null,w}function i(w,y,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<y?(w.flags|=2,y):E):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,E,I){return y===null||y.tag!==6?(y=cg(E,w.mode,I),y.return=w,y):(y=s(y,E),y.return=w,y)}function l(w,y,E,I){var D=E.type;return D===Ka?h(w,y,E.props.children,I,E.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Si&&G0(D)===y.type)?(I=s(y,E.props),I.ref=Dc(w,y,E),I.return=w,I):(I=Oh(E.type,E.key,E.props,null,w.mode,I),I.ref=Dc(w,y,E),I.return=w,I)}function d(w,y,E,I){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=ug(E,w.mode,I),y.return=w,y):(y=s(y,E.children||[]),y.return=w,y)}function h(w,y,E,I,D){return y===null||y.tag!==7?(y=ta(E,w.mode,I,D),y.return=w,y):(y=s(y,E),y.return=w,y)}function f(w,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=cg(""+y,w.mode,E),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case qd:return E=Oh(y.type,y.key,y.props,null,w.mode,E),E.ref=Dc(w,null,y),E.return=w,E;case Ga:return y=ug(y,w.mode,E),y.return=w,y;case Si:var I=y._init;return f(w,I(y._payload),E)}if(Wc(y)||Nc(y))return y=ta(y,w.mode,E,null),y.return=w,y;rh(w,y)}return null}function p(w,y,E,I){var D=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return D!==null?null:a(w,y,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case qd:return E.key===D?l(w,y,E,I):null;case Ga:return E.key===D?d(w,y,E,I):null;case Si:return D=E._init,p(w,y,D(E._payload),I)}if(Wc(E)||Nc(E))return D!==null?null:h(w,y,E,I,null);rh(w,E)}return null}function g(w,y,E,I,D){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(E)||null,a(y,w,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case qd:return w=w.get(I.key===null?E:I.key)||null,l(y,w,I,D);case Ga:return w=w.get(I.key===null?E:I.key)||null,d(y,w,I,D);case Si:var j=I._init;return g(w,y,E,j(I._payload),D)}if(Wc(I)||Nc(I))return w=w.get(E)||null,h(y,w,I,D,null);rh(y,I)}return null}function T(w,y,E,I){for(var D=null,j=null,C=y,S=y=0,k=null;C!==null&&S<E.length;S++){C.index>S?(k=C,C=null):k=C.sibling;var P=p(w,C,E[S],I);if(P===null){C===null&&(C=k);break}t&&C&&P.alternate===null&&e(w,C),y=i(P,y,S),j===null?D=P:j.sibling=P,j=P,C=k}if(S===E.length)return n(w,C),Pt&&Lo(w,S),D;if(C===null){for(;S<E.length;S++)C=f(w,E[S],I),C!==null&&(y=i(C,y,S),j===null?D=C:j.sibling=C,j=C);return Pt&&Lo(w,S),D}for(C=r(w,C);S<E.length;S++)k=g(C,w,S,E[S],I),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?S:k.key),y=i(k,y,S),j===null?D=k:j.sibling=k,j=k);return t&&C.forEach(function(O){return e(w,O)}),Pt&&Lo(w,S),D}function x(w,y,E,I){var D=Nc(E);if(typeof D!="function")throw Error(Z(150));if(E=D.call(E),E==null)throw Error(Z(151));for(var j=D=null,C=y,S=y=0,k=null,P=E.next();C!==null&&!P.done;S++,P=E.next()){C.index>S?(k=C,C=null):k=C.sibling;var O=p(w,C,P.value,I);if(O===null){C===null&&(C=k);break}t&&C&&O.alternate===null&&e(w,C),y=i(O,y,S),j===null?D=O:j.sibling=O,j=O,C=k}if(P.done)return n(w,C),Pt&&Lo(w,S),D;if(C===null){for(;!P.done;S++,P=E.next())P=f(w,P.value,I),P!==null&&(y=i(P,y,S),j===null?D=P:j.sibling=P,j=P);return Pt&&Lo(w,S),D}for(C=r(w,C);!P.done;S++,P=E.next())P=g(C,w,S,P.value,I),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?S:P.key),y=i(P,y,S),j===null?D=P:j.sibling=P,j=P);return t&&C.forEach(function(R){return e(w,R)}),Pt&&Lo(w,S),D}function _(w,y,E,I){if(typeof E=="object"&&E!==null&&E.type===Ka&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case qd:e:{for(var D=E.key,j=y;j!==null;){if(j.key===D){if(D=E.type,D===Ka){if(j.tag===7){n(w,j.sibling),y=s(j,E.props.children),y.return=w,w=y;break e}}else if(j.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Si&&G0(D)===j.type){n(w,j.sibling),y=s(j,E.props),y.ref=Dc(w,j,E),y.return=w,w=y;break e}n(w,j);break}else e(w,j);j=j.sibling}E.type===Ka?(y=ta(E.props.children,w.mode,I,E.key),y.return=w,w=y):(I=Oh(E.type,E.key,E.props,null,w.mode,I),I.ref=Dc(w,y,E),I.return=w,w=I)}return o(w);case Ga:e:{for(j=E.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(w,y.sibling),y=s(y,E.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=ug(E,w.mode,I),y.return=w,w=y}return o(w);case Si:return j=E._init,_(w,y,j(E._payload),I)}if(Wc(E))return T(w,y,E,I);if(Nc(E))return x(w,y,E,I);rh(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(w,y.sibling),y=s(y,E),y.return=w,w=y):(n(w,y),y=cg(E,w.mode,I),y.return=w,w=y),o(w)):n(w,y)}return _}var Pl=WS(!0),HS=WS(!1),hf=To(null),ff=null,nl=null,a_=null;function l_(){a_=nl=ff=null}function c_(t){var e=hf.current;kt(hf),t._currentValue=e}function gy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cl(t,e){ff=t,a_=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jn=!0),t.firstContext=null)}function Sr(t){var e=t._currentValue;if(a_!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(ff===null)throw Error(Z(308));nl=t,ff.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var zo=null;function u_(t){zo===null?zo=[t]:zo.push(t)}function qS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,u_(e)):(n.next=s.next,s.next=n),e.interleaved=n,Qs(t,r)}function Qs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ci=!1;function d_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,et&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Qs(t,n)}return s=r.interleaved,s===null?(e.next=e,u_(r)):(e.next=s.next,s.next=e),r.interleaved=e,Qs(t,n)}function kh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yv(t,n)}}function K0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pf(t,e,n,r){var s=t.updateQueue;Ci=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=d=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,x=a;switch(p=e,g=n,x.tag){case 1:if(T=x.payload,typeof T=="function"){f=T.call(g,f,p);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=x.payload,p=typeof T=="function"?T.call(g,f,p):T,p==null)break e;f=Dt({},f,p);break e;case 2:Ci=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=g,l=f):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);la|=o,t.lanes=o,t.memoizedState=f}}function Q0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Z(191,s));s.call(r)}}}var ad={},ms=To(ad),Pu=To(ad),Ru=To(ad);function Wo(t){if(t===ad)throw Error(Z(174));return t}function h_(t,e){switch(Et(Ru,e),Et(Pu,t),Et(ms,ad),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yg(e,t)}kt(ms),Et(ms,e)}function Rl(){kt(ms),kt(Pu),kt(Ru)}function KS(t){Wo(Ru.current);var e=Wo(ms.current),n=Yg(e,t.type);e!==n&&(Et(Pu,t),Et(ms,n))}function f_(t){Pu.current===t&&(kt(ms),kt(Pu))}var Rt=To(0);function mf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rg=[];function p_(){for(var t=0;t<rg.length;t++)rg[t]._workInProgressVersionPrimary=null;rg.length=0}var Ah=ii.ReactCurrentDispatcher,sg=ii.ReactCurrentBatchConfig,aa=0,jt=null,sn=null,dn=null,gf=!1,ou=!1,ju=0,MO=0;function In(){throw Error(Z(321))}function m_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qr(t[n],e[n]))return!1;return!0}function g_(t,e,n,r,s,i){if(aa=i,jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ah.current=t===null||t.memoizedState===null?UO:$O,t=n(r,s),ou){i=0;do{if(ou=!1,ju=0,25<=i)throw Error(Z(301));i+=1,dn=sn=null,e.updateQueue=null,Ah.current=BO,t=n(r,s)}while(ou)}if(Ah.current=yf,e=sn!==null&&sn.next!==null,aa=0,dn=sn=jt=null,gf=!1,e)throw Error(Z(300));return t}function y_(){var t=ju!==0;return ju=0,t}function is(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?jt.memoizedState=dn=t:dn=dn.next=t,dn}function Cr(){if(sn===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=sn.next;var e=dn===null?jt.memoizedState:dn.next;if(e!==null)dn=e,sn=t;else{if(t===null)throw Error(Z(310));sn=t,t={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},dn===null?jt.memoizedState=dn=t:dn=dn.next=t}return dn}function Ou(t,e){return typeof e=="function"?e(t):e}function ig(t){var e=Cr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=sn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var h=d.lane;if((aa&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,jt.lanes|=h,la|=h}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,Qr(r,e.memoizedState)||(Jn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,jt.lanes|=i,la|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function og(t){var e=Cr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Qr(i,e.memoizedState)||(Jn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function QS(){}function YS(t,e){var n=jt,r=Cr(),s=e(),i=!Qr(r.memoizedState,s);if(i&&(r.memoizedState=s,Jn=!0),r=r.queue,v_(JS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||dn!==null&&dn.memoizedState.tag&1){if(n.flags|=2048,Du(9,ZS.bind(null,n,r,s,e),void 0,null),hn===null)throw Error(Z(349));aa&30||XS(n,e,s)}return s}function XS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ZS(t,e,n,r){e.value=n,e.getSnapshot=r,eC(e)&&tC(t)}function JS(t,e,n){return n(function(){eC(e)&&tC(t)})}function eC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qr(t,n)}catch{return!0}}function tC(t){var e=Qs(t,1);e!==null&&qr(e,t,1,-1)}function Y0(t){var e=is();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ou,lastRenderedState:t},e.queue=t,t=t.dispatch=FO.bind(null,jt,t),[e.memoizedState,t]}function Du(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nC(){return Cr().memoizedState}function Nh(t,e,n,r){var s=is();jt.flags|=t,s.memoizedState=Du(1|e,n,void 0,r===void 0?null:r)}function vp(t,e,n,r){var s=Cr();r=r===void 0?null:r;var i=void 0;if(sn!==null){var o=sn.memoizedState;if(i=o.destroy,r!==null&&m_(r,o.deps)){s.memoizedState=Du(e,n,i,r);return}}jt.flags|=t,s.memoizedState=Du(1|e,n,i,r)}function X0(t,e){return Nh(8390656,8,t,e)}function v_(t,e){return vp(2048,8,t,e)}function rC(t,e){return vp(4,2,t,e)}function sC(t,e){return vp(4,4,t,e)}function iC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oC(t,e,n){return n=n!=null?n.concat([t]):null,vp(4,4,iC.bind(null,e,t),n)}function __(){}function aC(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&m_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lC(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&m_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cC(t,e,n){return aa&21?(Qr(n,e)||(n=pS(),jt.lanes|=n,la|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jn=!0),t.memoizedState=n)}function VO(t,e){var n=ht;ht=n!==0&&4>n?n:4,t(!0);var r=sg.transition;sg.transition={};try{t(!1),e()}finally{ht=n,sg.transition=r}}function uC(){return Cr().memoizedState}function LO(t,e,n){var r=Yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dC(t))hC(e,n);else if(n=qS(t,e,n,r),n!==null){var s=Un();qr(n,t,r,s),fC(n,e,r)}}function FO(t,e,n){var r=Yi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dC(t))hC(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Qr(a,o)){var l=e.interleaved;l===null?(s.next=s,u_(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=qS(t,e,s,r),n!==null&&(s=Un(),qr(n,t,r,s),fC(n,e,r))}}function dC(t){var e=t.alternate;return t===jt||e!==null&&e===jt}function hC(t,e){ou=gf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yv(t,n)}}var yf={readContext:Sr,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},UO={readContext:Sr,useCallback:function(t,e){return is().memoizedState=[t,e===void 0?null:e],t},useContext:Sr,useEffect:X0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nh(4194308,4,iC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nh(4,2,t,e)},useMemo:function(t,e){var n=is();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=is();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LO.bind(null,jt,t),[r.memoizedState,t]},useRef:function(t){var e=is();return t={current:t},e.memoizedState=t},useState:Y0,useDebugValue:__,useDeferredValue:function(t){return is().memoizedState=t},useTransition:function(){var t=Y0(!1),e=t[0];return t=VO.bind(null,t[1]),is().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=jt,s=is();if(Pt){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),hn===null)throw Error(Z(349));aa&30||XS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,X0(JS.bind(null,r,i,t),[t]),r.flags|=2048,Du(9,ZS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=is(),e=hn.identifierPrefix;if(Pt){var n=Us,r=Fs;n=(r&~(1<<32-Hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ju++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$O={readContext:Sr,useCallback:aC,useContext:Sr,useEffect:v_,useImperativeHandle:oC,useInsertionEffect:rC,useLayoutEffect:sC,useMemo:lC,useReducer:ig,useRef:nC,useState:function(){return ig(Ou)},useDebugValue:__,useDeferredValue:function(t){var e=Cr();return cC(e,sn.memoizedState,t)},useTransition:function(){var t=ig(Ou)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:QS,useSyncExternalStore:YS,useId:uC,unstable_isNewReconciler:!1},BO={readContext:Sr,useCallback:aC,useContext:Sr,useEffect:v_,useImperativeHandle:oC,useInsertionEffect:rC,useLayoutEffect:sC,useMemo:lC,useReducer:og,useRef:nC,useState:function(){return og(Ou)},useDebugValue:__,useDeferredValue:function(t){var e=Cr();return sn===null?e.memoizedState=t:cC(e,sn.memoizedState,t)},useTransition:function(){var t=og(Ou)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:QS,useSyncExternalStore:YS,useId:uC,unstable_isNewReconciler:!1};function Mr(t,e){if(t&&t.defaultProps){e=Dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _p={isMounted:function(t){return(t=t._reactInternals)?Ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Un(),s=Yi(t),i=zs(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ki(t,i,s),e!==null&&(qr(e,t,s,r),kh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Un(),s=Yi(t),i=zs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ki(t,i,s),e!==null&&(qr(e,t,s,r),kh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Un(),r=Yi(t),s=zs(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ki(t,s,r),e!==null&&(qr(e,t,r,n),kh(e,t,r))}};function Z0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Iu(n,r)||!Iu(s,i):!0}function pC(t,e,n){var r=!1,s=uo,i=e.contextType;return typeof i=="object"&&i!==null?i=Sr(i):(s=tr(e)?ia:On.current,r=e.contextTypes,i=(r=r!=null)?Al(t,s):uo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_p,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function J0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_p.enqueueReplaceState(e,e.state,null)}function vy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},d_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Sr(i):(i=tr(e)?ia:On.current,s.context=Al(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(yy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_p.enqueueReplaceState(s,s.state,null),pf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function jl(t,e){try{var n="",r=e;do n+=gj(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ag(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _y(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zO=typeof WeakMap=="function"?WeakMap:Map;function mC(t,e,n){n=zs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_f||(_f=!0,Ay=r),_y(t,e)},n}function gC(t,e,n){n=zs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){_y(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_y(t,e),typeof r!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function eE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=rD.bind(null,t,e,n),e.then(t,t))}function tE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zs(-1,1),e.tag=2,Ki(n,e,1))),n.lanes|=1),t)}var WO=ii.ReactCurrentOwner,Jn=!1;function Vn(t,e,n,r){e.child=t===null?HS(e,null,n,r):Pl(e,t.child,n,r)}function rE(t,e,n,r,s){n=n.render;var i=e.ref;return cl(e,s),r=g_(t,e,n,r,i,s),n=y_(),t!==null&&!Jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ys(t,e,s)):(Pt&&n&&s_(e),e.flags|=1,Vn(t,e,r,s),e.child)}function sE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!I_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,yC(t,e,i,r,s)):(t=Oh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Iu,n(o,r)&&t.ref===e.ref)return Ys(t,e,s)}return e.flags|=1,t=Xi(i,r),t.ref=e.ref,t.return=e,e.child=t}function yC(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Iu(i,r)&&t.ref===e.ref)if(Jn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Jn=!0);else return e.lanes=t.lanes,Ys(t,e,s)}return wy(t,e,n,r,s)}function vC(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(sl,sr),sr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Et(sl,sr),sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Et(sl,sr),sr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Et(sl,sr),sr|=r;return Vn(t,e,s,n),e.child}function _C(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wy(t,e,n,r,s){var i=tr(n)?ia:On.current;return i=Al(e,i),cl(e,s),n=g_(t,e,n,r,i,s),r=y_(),t!==null&&!Jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ys(t,e,s)):(Pt&&r&&s_(e),e.flags|=1,Vn(t,e,n,s),e.child)}function iE(t,e,n,r,s){if(tr(n)){var i=!0;cf(e)}else i=!1;if(cl(e,s),e.stateNode===null)Ph(t,e),pC(e,n,r),vy(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Sr(d):(d=tr(n)?ia:On.current,d=Al(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&J0(e,o,r,d),Ci=!1;var p=e.memoizedState;o.state=p,pf(e,r,o,s),l=e.memoizedState,a!==r||p!==l||er.current||Ci?(typeof h=="function"&&(yy(e,n,h,r),l=e.memoizedState),(a=Ci||Z0(e,n,a,r,p,l,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,GS(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Mr(e.type,a),o.props=d,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Sr(l):(l=tr(n)?ia:On.current,l=Al(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&J0(e,o,r,l),Ci=!1,p=e.memoizedState,o.state=p,pf(e,r,o,s);var T=e.memoizedState;a!==f||p!==T||er.current||Ci?(typeof g=="function"&&(yy(e,n,g,r),T=e.memoizedState),(d=Ci||Z0(e,n,d,r,p,T,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return xy(t,e,n,r,i,s)}function xy(t,e,n,r,s,i){_C(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&W0(e,n,!1),Ys(t,e,i);r=e.stateNode,WO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Pl(e,t.child,null,i),e.child=Pl(e,null,a,i)):Vn(t,e,a,i),e.memoizedState=r.state,s&&W0(e,n,!0),e.child}function wC(t){var e=t.stateNode;e.pendingContext?z0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&z0(t,e.context,!1),h_(t,e.containerInfo)}function oE(t,e,n,r,s){return Nl(),o_(s),e.flags|=256,Vn(t,e,n,r),e.child}var Ey={dehydrated:null,treeContext:null,retryLane:0};function by(t){return{baseLanes:t,cachePool:null,transitions:null}}function xC(t,e,n){var r=e.pendingProps,s=Rt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Et(Rt,s&1),t===null)return my(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ep(o,r,0,null),t=ta(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=by(n),e.memoizedState=Ey,t):w_(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return HO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Xi(a,i):(i=ta(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?by(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ey,r}return i=t.child,t=i.sibling,r=Xi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function w_(t,e){return e=Ep({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sh(t,e,n,r){return r!==null&&o_(r),Pl(e,t.child,null,n),t=w_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ag(Error(Z(422))),sh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ep({mode:"visible",children:r.children},s,0,null),i=ta(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Pl(e,t.child,null,o),e.child.memoizedState=by(o),e.memoizedState=Ey,i);if(!(e.mode&1))return sh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Z(419)),r=ag(i,r,void 0),sh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Jn||a){if(r=hn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Qs(t,s),qr(r,t,s,-1))}return C_(),r=ag(Error(Z(421))),sh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=sD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,lr=Gi(s.nextSibling),ur=e,Pt=!0,$r=null,t!==null&&(wr[xr++]=Fs,wr[xr++]=Us,wr[xr++]=oa,Fs=t.id,Us=t.overflow,oa=e),e=w_(e,r.children),e.flags|=4096,e)}function aE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gy(t.return,e,n)}function lg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function EC(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Vn(t,e,r.children,n),r=Rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&aE(t,n,e);else if(t.tag===19)aE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Et(Rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&mf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),lg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}lg(e,!0,n,null,i);break;case"together":lg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ph(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ys(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),la|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=Xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qO(t,e,n){switch(e.tag){case 3:wC(e),Nl();break;case 5:KS(e);break;case 1:tr(e.type)&&cf(e);break;case 4:h_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Et(hf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Et(Rt,Rt.current&1),e.flags|=128,null):n&e.child.childLanes?xC(t,e,n):(Et(Rt,Rt.current&1),t=Ys(t,e,n),t!==null?t.sibling:null);Et(Rt,Rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return EC(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Et(Rt,Rt.current),r)break;return null;case 22:case 23:return e.lanes=0,vC(t,e,n)}return Ys(t,e,n)}var bC,Ty,TC,SC;bC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ty=function(){};TC=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Wo(ms.current);var i=null;switch(n){case"input":s=qg(t,s),r=qg(t,r),i=[];break;case"select":s=Dt({},s,{value:void 0}),r=Dt({},r,{value:void 0}),i=[];break;case"textarea":s=Qg(t,s),r=Qg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=af)}Xg(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(wu.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(wu.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Ct("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};SC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mc(t,e){if(!Pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GO(t,e,n){var r=e.pendingProps;switch(i_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(e),null;case 1:return tr(e.type)&&lf(),kn(e),null;case 3:return r=e.stateNode,Rl(),kt(er),kt(On),p_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$r!==null&&(Ry($r),$r=null))),Ty(t,e),kn(e),null;case 5:f_(e);var s=Wo(Ru.current);if(n=e.type,t!==null&&e.stateNode!=null)TC(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return kn(e),null}if(t=Wo(ms.current),nh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[us]=e,r[Nu]=i,t=(e.mode&1)!==0,n){case"dialog":Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":case"embed":Ct("load",r);break;case"video":case"audio":for(s=0;s<qc.length;s++)Ct(qc[s],r);break;case"source":Ct("error",r);break;case"img":case"image":case"link":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"input":g0(r,i),Ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ct("invalid",r);break;case"textarea":v0(r,i),Ct("invalid",r)}Xg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&th(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&th(r.textContent,a,t),s=["children",""+a]):wu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ct("scroll",r)}switch(n){case"input":Gd(r),y0(r,i,!0);break;case"textarea":Gd(r),_0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=af)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[us]=e,t[Nu]=r,bC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zg(n,r),n){case"dialog":Ct("cancel",t),Ct("close",t),s=r;break;case"iframe":case"object":case"embed":Ct("load",t),s=r;break;case"video":case"audio":for(s=0;s<qc.length;s++)Ct(qc[s],t);s=r;break;case"source":Ct("error",t),s=r;break;case"img":case"image":case"link":Ct("error",t),Ct("load",t),s=r;break;case"details":Ct("toggle",t),s=r;break;case"input":g0(t,r),s=qg(t,r),Ct("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Dt({},r,{value:void 0}),Ct("invalid",t);break;case"textarea":v0(t,r),s=Qg(t,r),Ct("invalid",t);break;default:s=r}Xg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?nS(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eS(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xu(t,l):typeof l=="number"&&xu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ct("scroll",t):l!=null&&Wv(t,i,l,o))}switch(n){case"input":Gd(t),y0(t,r,!1);break;case"textarea":Gd(t),_0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+co(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?il(t,!!r.multiple,i,!1):r.defaultValue!=null&&il(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=af)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kn(e),null;case 6:if(t&&e.stateNode!=null)SC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=Wo(Ru.current),Wo(ms.current),nh(e)){if(r=e.stateNode,n=e.memoizedProps,r[us]=e,(i=r.nodeValue!==n)&&(t=ur,t!==null))switch(t.tag){case 3:th(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&th(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[us]=e,e.stateNode=r}return kn(e),null;case 13:if(kt(Rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pt&&lr!==null&&e.mode&1&&!(e.flags&128))zS(),Nl(),e.flags|=98560,i=!1;else if(i=nh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[us]=e}else Nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kn(e),i=!1}else $r!==null&&(Ry($r),$r=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Rt.current&1?an===0&&(an=3):C_())),e.updateQueue!==null&&(e.flags|=4),kn(e),null);case 4:return Rl(),Ty(t,e),t===null&&ku(e.stateNode.containerInfo),kn(e),null;case 10:return c_(e.type._context),kn(e),null;case 17:return tr(e.type)&&lf(),kn(e),null;case 19:if(kt(Rt),i=e.memoizedState,i===null)return kn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Mc(i,!1);else{if(an!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mf(t),o!==null){for(e.flags|=128,Mc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Et(Rt,Rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Wt()>Ol&&(e.flags|=128,r=!0,Mc(i,!1),e.lanes=4194304)}else{if(!r)if(t=mf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pt)return kn(e),null}else 2*Wt()-i.renderingStartTime>Ol&&n!==1073741824&&(e.flags|=128,r=!0,Mc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Wt(),e.sibling=null,n=Rt.current,Et(Rt,r?n&1|2:n&1),e):(kn(e),null);case 22:case 23:return S_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sr&1073741824&&(kn(e),e.subtreeFlags&6&&(e.flags|=8192)):kn(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function KO(t,e){switch(i_(e),e.tag){case 1:return tr(e.type)&&lf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rl(),kt(er),kt(On),p_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return f_(e),null;case 13:if(kt(Rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));Nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return kt(Rt),null;case 4:return Rl(),null;case 10:return c_(e.type._context),null;case 22:case 23:return S_(),null;case 24:return null;default:return null}}var ih=!1,Rn=!1,QO=typeof WeakSet=="function"?WeakSet:Set,me=null;function rl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$t(t,e,r)}else n.current=null}function Sy(t,e,n){try{n()}catch(r){$t(t,e,r)}}var lE=!1;function YO(t,e){if(ly=rf,t=NS(),r_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++d===s&&(a=o),p===i&&++h===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cy={focusedElem:t,selectionRange:n},rf=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var x=T.memoizedProps,_=T.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:Mr(e.type,x),_);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(I){$t(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return T=lE,lE=!1,T}function au(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Sy(e,n,i)}s=s.next}while(s!==r)}}function wp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function CC(t){var e=t.alternate;e!==null&&(t.alternate=null,CC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[us],delete e[Nu],delete e[hy],delete e[RO],delete e[jO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IC(t){return t.tag===5||t.tag===3||t.tag===4}function cE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Iy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=af));else if(r!==4&&(t=t.child,t!==null))for(Iy(t,e,n),t=t.sibling;t!==null;)Iy(t,e,n),t=t.sibling}function ky(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ky(t,e,n),t=t.sibling;t!==null;)ky(t,e,n),t=t.sibling}var yn=null,Ur=!1;function _i(t,e,n){for(n=n.child;n!==null;)kC(t,e,n),n=n.sibling}function kC(t,e,n){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(hp,n)}catch{}switch(n.tag){case 5:Rn||rl(n,e);case 6:var r=yn,s=Ur;yn=null,_i(t,e,n),yn=r,Ur=s,yn!==null&&(Ur?(t=yn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yn.removeChild(n.stateNode));break;case 18:yn!==null&&(Ur?(t=yn,n=n.stateNode,t.nodeType===8?tg(t.parentNode,n):t.nodeType===1&&tg(t,n),Su(t)):tg(yn,n.stateNode));break;case 4:r=yn,s=Ur,yn=n.stateNode.containerInfo,Ur=!0,_i(t,e,n),yn=r,Ur=s;break;case 0:case 11:case 14:case 15:if(!Rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Sy(n,e,o),s=s.next}while(s!==r)}_i(t,e,n);break;case 1:if(!Rn&&(rl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$t(n,e,a)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(Rn=(r=Rn)||n.memoizedState!==null,_i(t,e,n),Rn=r):_i(t,e,n);break;default:_i(t,e,n)}}function uE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QO),e.forEach(function(r){var s=iD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function jr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yn=a.stateNode,Ur=!1;break e;case 3:yn=a.stateNode.containerInfo,Ur=!0;break e;case 4:yn=a.stateNode.containerInfo,Ur=!0;break e}a=a.return}if(yn===null)throw Error(Z(160));kC(i,o,s),yn=null,Ur=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){$t(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AC(e,t),e=e.sibling}function AC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jr(e,t),ss(t),r&4){try{au(3,t,t.return),wp(3,t)}catch(x){$t(t,t.return,x)}try{au(5,t,t.return)}catch(x){$t(t,t.return,x)}}break;case 1:jr(e,t),ss(t),r&512&&n!==null&&rl(n,n.return);break;case 5:if(jr(e,t),ss(t),r&512&&n!==null&&rl(n,n.return),t.flags&32){var s=t.stateNode;try{xu(s,"")}catch(x){$t(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&XT(s,i),Zg(a,o);var d=Zg(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?nS(s,f):h==="dangerouslySetInnerHTML"?eS(s,f):h==="children"?xu(s,f):Wv(s,h,f,d)}switch(a){case"input":Gg(s,i);break;case"textarea":ZT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?il(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?il(s,!!i.multiple,i.defaultValue,!0):il(s,!!i.multiple,i.multiple?[]:"",!1))}s[Nu]=i}catch(x){$t(t,t.return,x)}}break;case 6:if(jr(e,t),ss(t),r&4){if(t.stateNode===null)throw Error(Z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){$t(t,t.return,x)}}break;case 3:if(jr(e,t),ss(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Su(e.containerInfo)}catch(x){$t(t,t.return,x)}break;case 4:jr(e,t),ss(t);break;case 13:jr(e,t),ss(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(b_=Wt())),r&4&&uE(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Rn=(d=Rn)||h,jr(e,t),Rn=d):jr(e,t),ss(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(me=t,h=t.child;h!==null;){for(f=me=h;me!==null;){switch(p=me,g=p.child,p.tag){case 0:case 11:case 14:case 15:au(4,p,p.return);break;case 1:rl(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(x){$t(r,n,x)}}break;case 5:rl(p,p.return);break;case 22:if(p.memoizedState!==null){hE(f);continue}}g!==null?(g.return=p,me=g):hE(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tS("display",o))}catch(x){$t(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){$t(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jr(e,t),ss(t),r&4&&uE(t);break;case 21:break;default:jr(e,t),ss(t)}}function ss(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IC(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(xu(s,""),r.flags&=-33);var i=cE(t);ky(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cE(t);Iy(t,a,o);break;default:throw Error(Z(161))}}catch(l){$t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XO(t,e,n){me=t,NC(t)}function NC(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var s=me,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ih;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Rn;a=ih;var d=Rn;if(ih=o,(Rn=l)&&!d)for(me=s;me!==null;)o=me,l=o.child,o.tag===22&&o.memoizedState!==null?fE(s):l!==null?(l.return=o,me=l):fE(s);for(;i!==null;)me=i,NC(i),i=i.sibling;me=s,ih=a,Rn=d}dE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,me=i):dE(t)}}function dE(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rn||wp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Mr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Q0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Q0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Su(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Rn||e.flags&512&&Cy(e)}catch(p){$t(e,e.return,p)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function hE(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function fE(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wp(4,e)}catch(l){$t(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){$t(e,s,l)}}var i=e.return;try{Cy(e)}catch(l){$t(e,i,l)}break;case 5:var o=e.return;try{Cy(e)}catch(l){$t(e,o,l)}}}catch(l){$t(e,e.return,l)}if(e===t){me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,me=a;break}me=e.return}}var ZO=Math.ceil,vf=ii.ReactCurrentDispatcher,x_=ii.ReactCurrentOwner,Tr=ii.ReactCurrentBatchConfig,et=0,hn=null,Zt=null,wn=0,sr=0,sl=To(0),an=0,Mu=null,la=0,xp=0,E_=0,lu=null,Xn=null,b_=0,Ol=1/0,Os=null,_f=!1,Ay=null,Qi=null,oh=!1,Ui=null,wf=0,cu=0,Ny=null,Rh=-1,jh=0;function Un(){return et&6?Wt():Rh!==-1?Rh:Rh=Wt()}function Yi(t){return t.mode&1?et&2&&wn!==0?wn&-wn:DO.transition!==null?(jh===0&&(jh=pS()),jh):(t=ht,t!==0||(t=window.event,t=t===void 0?16:xS(t.type)),t):1}function qr(t,e,n,r){if(50<cu)throw cu=0,Ny=null,Error(Z(185));sd(t,n,r),(!(et&2)||t!==hn)&&(t===hn&&(!(et&2)&&(xp|=n),an===4&&Ni(t,wn)),nr(t,r),n===1&&et===0&&!(e.mode&1)&&(Ol=Wt()+500,yp&&So()))}function nr(t,e){var n=t.callbackNode;Dj(t,e);var r=nf(t,t===hn?wn:0);if(r===0)n!==null&&E0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&E0(n),e===1)t.tag===0?OO(pE.bind(null,t)):US(pE.bind(null,t)),NO(function(){!(et&6)&&So()}),n=null;else{switch(mS(r)){case 1:n=Qv;break;case 4:n=hS;break;case 16:n=tf;break;case 536870912:n=fS;break;default:n=tf}n=LC(n,PC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PC(t,e){if(Rh=-1,jh=0,et&6)throw Error(Z(327));var n=t.callbackNode;if(ul()&&t.callbackNode!==n)return null;var r=nf(t,t===hn?wn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xf(t,r);else{e=r;var s=et;et|=2;var i=jC();(hn!==t||wn!==e)&&(Os=null,Ol=Wt()+500,ea(t,e));do try{tD();break}catch(a){RC(t,a)}while(!0);l_(),vf.current=i,et=s,Zt!==null?e=0:(hn=null,wn=0,e=an)}if(e!==0){if(e===2&&(s=ry(t),s!==0&&(r=s,e=Py(t,s))),e===1)throw n=Mu,ea(t,0),Ni(t,r),nr(t,Wt()),n;if(e===6)Ni(t,r);else{if(s=t.current.alternate,!(r&30)&&!JO(s)&&(e=xf(t,r),e===2&&(i=ry(t),i!==0&&(r=i,e=Py(t,i))),e===1))throw n=Mu,ea(t,0),Ni(t,r),nr(t,Wt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Fo(t,Xn,Os);break;case 3:if(Ni(t,r),(r&130023424)===r&&(e=b_+500-Wt(),10<e)){if(nf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Un(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=dy(Fo.bind(null,t,Xn,Os),e);break}Fo(t,Xn,Os);break;case 4:if(Ni(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Hr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZO(r/1960))-r,10<r){t.timeoutHandle=dy(Fo.bind(null,t,Xn,Os),r);break}Fo(t,Xn,Os);break;case 5:Fo(t,Xn,Os);break;default:throw Error(Z(329))}}}return nr(t,Wt()),t.callbackNode===n?PC.bind(null,t):null}function Py(t,e){var n=lu;return t.current.memoizedState.isDehydrated&&(ea(t,e).flags|=256),t=xf(t,e),t!==2&&(e=Xn,Xn=n,e!==null&&Ry(e)),t}function Ry(t){Xn===null?Xn=t:Xn.push.apply(Xn,t)}function JO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ni(t,e){for(e&=~E_,e&=~xp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hr(e),r=1<<n;t[n]=-1,e&=~r}}function pE(t){if(et&6)throw Error(Z(327));ul();var e=nf(t,0);if(!(e&1))return nr(t,Wt()),null;var n=xf(t,e);if(t.tag!==0&&n===2){var r=ry(t);r!==0&&(e=r,n=Py(t,r))}if(n===1)throw n=Mu,ea(t,0),Ni(t,e),nr(t,Wt()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fo(t,Xn,Os),nr(t,Wt()),null}function T_(t,e){var n=et;et|=1;try{return t(e)}finally{et=n,et===0&&(Ol=Wt()+500,yp&&So())}}function ca(t){Ui!==null&&Ui.tag===0&&!(et&6)&&ul();var e=et;et|=1;var n=Tr.transition,r=ht;try{if(Tr.transition=null,ht=1,t)return t()}finally{ht=r,Tr.transition=n,et=e,!(et&6)&&So()}}function S_(){sr=sl.current,kt(sl)}function ea(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AO(n)),Zt!==null)for(n=Zt.return;n!==null;){var r=n;switch(i_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lf();break;case 3:Rl(),kt(er),kt(On),p_();break;case 5:f_(r);break;case 4:Rl();break;case 13:kt(Rt);break;case 19:kt(Rt);break;case 10:c_(r.type._context);break;case 22:case 23:S_()}n=n.return}if(hn=t,Zt=t=Xi(t.current,null),wn=sr=e,an=0,Mu=null,E_=xp=la=0,Xn=lu=null,zo!==null){for(e=0;e<zo.length;e++)if(n=zo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}zo=null}return t}function RC(t,e){do{var n=Zt;try{if(l_(),Ah.current=yf,gf){for(var r=jt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gf=!1}if(aa=0,dn=sn=jt=null,ou=!1,ju=0,x_.current=null,n===null||n.return===null){an=1,Mu=e,Zt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=wn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=tE(o);if(g!==null){g.flags&=-257,nE(g,o,a,i,e),g.mode&1&&eE(i,d,e),e=g,l=d;var T=e.updateQueue;if(T===null){var x=new Set;x.add(l),e.updateQueue=x}else T.add(l);break e}else{if(!(e&1)){eE(i,d,e),C_();break e}l=Error(Z(426))}}else if(Pt&&a.mode&1){var _=tE(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),nE(_,o,a,i,e),o_(jl(l,a));break e}}i=l=jl(l,a),an!==4&&(an=2),lu===null?lu=[i]:lu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=mC(i,l,e);K0(i,w);break e;case 1:a=l;var y=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Qi===null||!Qi.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=gC(i,a,e);K0(i,I);break e}}i=i.return}while(i!==null)}DC(n)}catch(D){e=D,Zt===n&&n!==null&&(Zt=n=n.return);continue}break}while(!0)}function jC(){var t=vf.current;return vf.current=yf,t===null?yf:t}function C_(){(an===0||an===3||an===2)&&(an=4),hn===null||!(la&268435455)&&!(xp&268435455)||Ni(hn,wn)}function xf(t,e){var n=et;et|=2;var r=jC();(hn!==t||wn!==e)&&(Os=null,ea(t,e));do try{eD();break}catch(s){RC(t,s)}while(!0);if(l_(),et=n,vf.current=r,Zt!==null)throw Error(Z(261));return hn=null,wn=0,an}function eD(){for(;Zt!==null;)OC(Zt)}function tD(){for(;Zt!==null&&!Cj();)OC(Zt)}function OC(t){var e=VC(t.alternate,t,sr);t.memoizedProps=t.pendingProps,e===null?DC(t):Zt=e,x_.current=null}function DC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=KO(n,e),n!==null){n.flags&=32767,Zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{an=6,Zt=null;return}}else if(n=GO(n,e,sr),n!==null){Zt=n;return}if(e=e.sibling,e!==null){Zt=e;return}Zt=e=t}while(e!==null);an===0&&(an=5)}function Fo(t,e,n){var r=ht,s=Tr.transition;try{Tr.transition=null,ht=1,nD(t,e,n,r)}finally{Tr.transition=s,ht=r}return null}function nD(t,e,n,r){do ul();while(Ui!==null);if(et&6)throw Error(Z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Mj(t,i),t===hn&&(Zt=hn=null,wn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oh||(oh=!0,LC(tf,function(){return ul(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Tr.transition,Tr.transition=null;var o=ht;ht=1;var a=et;et|=4,x_.current=null,YO(t,n),AC(n,t),EO(cy),rf=!!ly,cy=ly=null,t.current=n,XO(n),Ij(),et=a,ht=o,Tr.transition=i}else t.current=n;if(oh&&(oh=!1,Ui=t,wf=s),i=t.pendingLanes,i===0&&(Qi=null),Nj(n.stateNode),nr(t,Wt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(_f)throw _f=!1,t=Ay,Ay=null,t;return wf&1&&t.tag!==0&&ul(),i=t.pendingLanes,i&1?t===Ny?cu++:(cu=0,Ny=t):cu=0,So(),null}function ul(){if(Ui!==null){var t=mS(wf),e=Tr.transition,n=ht;try{if(Tr.transition=null,ht=16>t?16:t,Ui===null)var r=!1;else{if(t=Ui,Ui=null,wf=0,et&6)throw Error(Z(331));var s=et;for(et|=4,me=t.current;me!==null;){var i=me,o=i.child;if(me.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(me=d;me!==null;){var h=me;switch(h.tag){case 0:case 11:case 15:au(8,h,i)}var f=h.child;if(f!==null)f.return=h,me=f;else for(;me!==null;){h=me;var p=h.sibling,g=h.return;if(CC(h),h===d){me=null;break}if(p!==null){p.return=g,me=p;break}me=g}}}var T=i.alternate;if(T!==null){var x=T.child;if(x!==null){T.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,me=o;else e:for(;me!==null;){if(i=me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:au(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,me=w;break e}me=i.return}}var y=t.current;for(me=y;me!==null;){o=me;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,me=E;else e:for(o=y;me!==null;){if(a=me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wp(9,a)}}catch(D){$t(a,a.return,D)}if(a===o){me=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,me=I;break e}me=a.return}}if(et=s,So(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(hp,t)}catch{}r=!0}return r}finally{ht=n,Tr.transition=e}}return!1}function mE(t,e,n){e=jl(n,e),e=mC(t,e,1),t=Ki(t,e,1),e=Un(),t!==null&&(sd(t,1,e),nr(t,e))}function $t(t,e,n){if(t.tag===3)mE(t,t,n);else for(;e!==null;){if(e.tag===3){mE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qi===null||!Qi.has(r))){t=jl(n,t),t=gC(e,t,1),e=Ki(e,t,1),t=Un(),e!==null&&(sd(e,1,t),nr(e,t));break}}e=e.return}}function rD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Un(),t.pingedLanes|=t.suspendedLanes&n,hn===t&&(wn&n)===n&&(an===4||an===3&&(wn&130023424)===wn&&500>Wt()-b_?ea(t,0):E_|=n),nr(t,e)}function MC(t,e){e===0&&(t.mode&1?(e=Yd,Yd<<=1,!(Yd&130023424)&&(Yd=4194304)):e=1);var n=Un();t=Qs(t,e),t!==null&&(sd(t,e,n),nr(t,n))}function sD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MC(t,n)}function iD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),MC(t,n)}var VC;VC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||er.current)Jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jn=!1,qO(t,e,n);Jn=!!(t.flags&131072)}else Jn=!1,Pt&&e.flags&1048576&&$S(e,df,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ph(t,e),t=e.pendingProps;var s=Al(e,On.current);cl(e,n),s=g_(null,e,r,t,s,n);var i=y_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tr(r)?(i=!0,cf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,d_(e),s.updater=_p,e.stateNode=s,s._reactInternals=e,vy(e,r,t,n),e=xy(null,e,r,!0,i,n)):(e.tag=0,Pt&&i&&s_(e),Vn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ph(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=aD(r),t=Mr(r,t),s){case 0:e=wy(null,e,r,t,n);break e;case 1:e=iE(null,e,r,t,n);break e;case 11:e=rE(null,e,r,t,n);break e;case 14:e=sE(null,e,r,Mr(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mr(r,s),wy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mr(r,s),iE(t,e,r,s,n);case 3:e:{if(wC(e),t===null)throw Error(Z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,GS(t,e),pf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=jl(Error(Z(423)),e),e=oE(t,e,r,n,s);break e}else if(r!==s){s=jl(Error(Z(424)),e),e=oE(t,e,r,n,s);break e}else for(lr=Gi(e.stateNode.containerInfo.firstChild),ur=e,Pt=!0,$r=null,n=HS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nl(),r===s){e=Ys(t,e,n);break e}Vn(t,e,r,n)}e=e.child}return e;case 5:return KS(e),t===null&&my(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,uy(r,s)?o=null:i!==null&&uy(r,i)&&(e.flags|=32),_C(t,e),Vn(t,e,o,n),e.child;case 6:return t===null&&my(e),null;case 13:return xC(t,e,n);case 4:return h_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pl(e,null,r,n):Vn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mr(r,s),rE(t,e,r,s,n);case 7:return Vn(t,e,e.pendingProps,n),e.child;case 8:return Vn(t,e,e.pendingProps.children,n),e.child;case 12:return Vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Et(hf,r._currentValue),r._currentValue=o,i!==null)if(Qr(i.value,o)){if(i.children===s.children&&!er.current){e=Ys(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=zs(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),gy(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gy(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Vn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,cl(e,n),s=Sr(s),r=r(s),e.flags|=1,Vn(t,e,r,n),e.child;case 14:return r=e.type,s=Mr(r,e.pendingProps),s=Mr(r.type,s),sE(t,e,r,s,n);case 15:return yC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mr(r,s),Ph(t,e),e.tag=1,tr(r)?(t=!0,cf(e)):t=!1,cl(e,n),pC(e,r,s),vy(e,r,s,n),xy(null,e,r,!0,t,n);case 19:return EC(t,e,n);case 22:return vC(t,e,n)}throw Error(Z(156,e.tag))};function LC(t,e){return dS(t,e)}function oD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(t,e,n,r){return new oD(t,e,n,r)}function I_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aD(t){if(typeof t=="function")return I_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qv)return 11;if(t===Gv)return 14}return 2}function Xi(t,e){var n=t.alternate;return n===null?(n=br(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Oh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")I_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ka:return ta(n.children,s,i,e);case Hv:o=8,s|=8;break;case Bg:return t=br(12,n,e,s|2),t.elementType=Bg,t.lanes=i,t;case zg:return t=br(13,n,e,s),t.elementType=zg,t.lanes=i,t;case Wg:return t=br(19,n,e,s),t.elementType=Wg,t.lanes=i,t;case KT:return Ep(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qT:o=10;break e;case GT:o=9;break e;case qv:o=11;break e;case Gv:o=14;break e;case Si:o=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=br(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ta(t,e,n,r){return t=br(7,t,r,e),t.lanes=n,t}function Ep(t,e,n,r){return t=br(22,t,r,e),t.elementType=KT,t.lanes=n,t.stateNode={isHidden:!1},t}function cg(t,e,n){return t=br(6,t,null,e),t.lanes=n,t}function ug(t,e,n){return e=br(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wm(0),this.expirationTimes=Wm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function k_(t,e,n,r,s,i,o,a,l){return t=new lD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=br(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},d_(i),t}function cD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function FC(t){if(!t)return uo;t=t._reactInternals;e:{if(Ea(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(tr(n))return FS(t,n,e)}return e}function UC(t,e,n,r,s,i,o,a,l){return t=k_(n,r,!0,t,s,i,o,a,l),t.context=FC(null),n=t.current,r=Un(),s=Yi(n),i=zs(r,s),i.callback=e??null,Ki(n,i,s),t.current.lanes=s,sd(t,s,r),nr(t,r),t}function bp(t,e,n,r){var s=e.current,i=Un(),o=Yi(s);return n=FC(n),e.context===null?e.context=n:e.pendingContext=n,e=zs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ki(s,e,o),t!==null&&(qr(t,s,o,i),kh(t,s,o)),o}function Ef(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function A_(t,e){gE(t,e),(t=t.alternate)&&gE(t,e)}function uD(){return null}var $C=typeof reportError=="function"?reportError:function(t){console.error(t)};function N_(t){this._internalRoot=t}Tp.prototype.render=N_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));bp(t,e,null,null)};Tp.prototype.unmount=N_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ca(function(){bp(null,t,null,null)}),e[Ks]=null}};function Tp(t){this._internalRoot=t}Tp.prototype.unstable_scheduleHydration=function(t){if(t){var e=vS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ai.length&&e!==0&&e<Ai[n].priority;n++);Ai.splice(n,0,t),n===0&&wS(t)}};function P_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yE(){}function dD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Ef(o);i.call(d)}}var o=UC(e,r,t,0,null,!1,!1,"",yE);return t._reactRootContainer=o,t[Ks]=o.current,ku(t.nodeType===8?t.parentNode:t),ca(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Ef(l);a.call(d)}}var l=k_(t,0,!1,null,null,!1,!1,"",yE);return t._reactRootContainer=l,t[Ks]=l.current,ku(t.nodeType===8?t.parentNode:t),ca(function(){bp(e,l,n,r)}),l}function Cp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ef(o);a.call(l)}}bp(e,o,t,s)}else o=dD(n,e,t,s,r);return Ef(o)}gS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hc(e.pendingLanes);n!==0&&(Yv(e,n|1),nr(e,Wt()),!(et&6)&&(Ol=Wt()+500,So()))}break;case 13:ca(function(){var r=Qs(t,1);if(r!==null){var s=Un();qr(r,t,1,s)}}),A_(t,1)}};Xv=function(t){if(t.tag===13){var e=Qs(t,134217728);if(e!==null){var n=Un();qr(e,t,134217728,n)}A_(t,134217728)}};yS=function(t){if(t.tag===13){var e=Yi(t),n=Qs(t,e);if(n!==null){var r=Un();qr(n,t,e,r)}A_(t,e)}};vS=function(){return ht};_S=function(t,e){var n=ht;try{return ht=t,e()}finally{ht=n}};ey=function(t,e,n){switch(e){case"input":if(Gg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=gp(r);if(!s)throw Error(Z(90));YT(r),Gg(r,s)}}}break;case"textarea":ZT(t,n);break;case"select":e=n.value,e!=null&&il(t,!!n.multiple,e,!1)}};iS=T_;oS=ca;var hD={usingClientEntryPoint:!1,Events:[od,Za,gp,rS,sS,T_]},Vc={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fD={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cS(t),t===null?null:t.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||uD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{hp=ah.inject(fD),ps=ah}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hD;mr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P_(e))throw Error(Z(200));return cD(t,e,null,n)};mr.createRoot=function(t,e){if(!P_(t))throw Error(Z(299));var n=!1,r="",s=$C;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=k_(t,1,!1,null,null,n,!1,r,s),t[Ks]=e.current,ku(t.nodeType===8?t.parentNode:t),new N_(e)};mr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=cS(e),t=t===null?null:t.stateNode,t};mr.flushSync=function(t){return ca(t)};mr.hydrate=function(t,e,n){if(!Sp(e))throw Error(Z(200));return Cp(null,t,e,!0,n)};mr.hydrateRoot=function(t,e,n){if(!P_(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=$C;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=UC(e,null,t,1,n??null,s,!1,i,o),t[Ks]=e.current,ku(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Tp(e)};mr.render=function(t,e,n){if(!Sp(e))throw Error(Z(200));return Cp(null,t,e,!1,n)};mr.unmountComponentAtNode=function(t){if(!Sp(t))throw Error(Z(40));return t._reactRootContainer?(ca(function(){Cp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ks]=null})}),!0):!1};mr.unstable_batchedUpdates=T_;mr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sp(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Cp(t,e,n,!1,r)};mr.version="18.3.1-next-f1338f8080-20240426";function BC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BC)}catch(t){console.error(t)}}BC(),BT.exports=mr;var ba=BT.exports;const zC=NT(ba);var WC,vE=ba;WC=vE.createRoot,vE.hydrateRoot;const pD=1,mD=1e6;let dg=0;function gD(){return dg=(dg+1)%Number.MAX_SAFE_INTEGER,dg.toString()}const hg=new Map,_E=t=>{if(hg.has(t))return;const e=setTimeout(()=>{hg.delete(t),uu({type:"REMOVE_TOAST",toastId:t})},mD);hg.set(t,e)},yD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,pD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?_E(n):t.toasts.forEach(r=>{_E(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Dh=[];let Mh={toasts:[]};function uu(t){Mh=yD(Mh,t),Dh.forEach(e=>{e(Mh)})}function vD({...t}){const e=gD(),n=s=>uu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>uu({type:"DISMISS_TOAST",toastId:e});return uu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Ss(){const[t,e]=m.useState(Mh);return m.useEffect(()=>(Dh.push(e),()=>{const n=Dh.indexOf(e);n>-1&&Dh.splice(n,1)}),[t]),{...t,toast:vD,dismiss:n=>uu({type:"DISMISS_TOAST",toastId:n})}}function Ve(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function wE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function HC(...t){return e=>{let n=!1;const r=t.map(s=>{const i=wE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():wE(t[s],null)}}}}function vt(...t){return m.useCallback(HC(...t),t)}function _D(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ta(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const d=f=>{var w;const{scope:p,children:g,...T}=f,x=((w=p==null?void 0:p[t])==null?void 0:w[l])||a,_=m.useMemo(()=>T,Object.values(T));return c.jsx(x.Provider,{value:_,children:g})};d.displayName=i+"Provider";function h(f,p){var x;const g=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,T=m.useContext(g);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,wD(s,...e)]}function wD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Dl(t){const e=xD(t),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),l=a.find(bD);if(l){const d=l.props.children,h=a.map(f=>f===l?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:f);return c.jsx(e,{...o,ref:s,children:m.isValidElement(d)?m.cloneElement(d,void 0,h):null})}return c.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var nc=Dl("Slot");function xD(t){const e=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const o=SD(s),a=TD(i,s.props);return s.type!==m.Fragment&&(a.ref=r?HC(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var qC=Symbol("radix.slottable");function ED(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=qC,e}function bD(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===qC}function TD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function SD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function GC(t){const e=t+"CollectionProvider",[n,r]=Ta(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:_,children:w}=x,y=H.useRef(null),E=H.useRef(new Map).current;return c.jsx(s,{scope:_,itemMap:E,collectionRef:y,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=Dl(a),d=H.forwardRef((x,_)=>{const{scope:w,children:y}=x,E=i(a,w),I=vt(_,E.collectionRef);return c.jsx(l,{ref:I,children:y})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=Dl(h),g=H.forwardRef((x,_)=>{const{scope:w,children:y,...E}=x,I=H.useRef(null),D=vt(_,I),j=i(h,w);return H.useEffect(()=>(j.itemMap.set(I,{ref:I,...E}),()=>void j.itemMap.delete(I))),c.jsx(p,{[f]:"",ref:D,children:y})});g.displayName=h;function T(x){const _=i(t+"CollectionConsumer",x);return H.useCallback(()=>{const y=_.collectionRef.current;if(!y)return[];const E=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((j,C)=>E.indexOf(j.ref.current)-E.indexOf(C.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},T,r]}var CD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=CD.reduce((t,e)=>{const n=Dl(`Primitive.${e}`),r=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function KC(t,e){t&&ba.flushSync(()=>t.dispatchEvent(e))}function Yr(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function ID(t,e=globalThis==null?void 0:globalThis.document){const n=Yr(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var kD="DismissableLayer",jy="dismissableLayer.update",AD="dismissableLayer.pointerDownOutside",ND="dismissableLayer.focusOutside",xE,QC=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ld=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,d=m.useContext(QC),[h,f]=m.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),T=vt(e,C=>f(C)),x=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(_),y=h?x.indexOf(h):-1,E=d.layersWithOutsidePointerEventsDisabled.size>0,I=y>=w,D=RD(C=>{const S=C.target,k=[...d.branches].some(P=>P.contains(S));!I||k||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),j=jD(C=>{const S=C.target;[...d.branches].some(P=>P.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return ID(C=>{y===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),m.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(xE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),EE(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=xE)}},[h,p,n,d]),m.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),EE())},[h,d]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(jy,C),()=>document.removeEventListener(jy,C)},[]),c.jsx(Be.div,{...l,ref:T,style:{pointerEvents:E?I?"auto":"none":void 0,...t.style},onFocusCapture:Ve(t.onFocusCapture,j.onFocusCapture),onBlurCapture:Ve(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Ve(t.onPointerDownCapture,D.onPointerDownCapture)})});ld.displayName=kD;var PD="DismissableLayerBranch",YC=m.forwardRef((t,e)=>{const n=m.useContext(QC),r=m.useRef(null),s=vt(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(Be.div,{...t,ref:s})});YC.displayName=PD;function RD(t,e=globalThis==null?void 0:globalThis.document){const n=Yr(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){XC(AD,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function jD(t,e=globalThis==null?void 0:globalThis.document){const n=Yr(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&XC(ND,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function EE(){const t=new CustomEvent(jy);document.dispatchEvent(t)}function XC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?KC(s,i):s.dispatchEvent(i)}var OD=ld,DD=YC,En=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},MD="Portal",Ip=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);En(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?zC.createPortal(c.jsx(Be.div,{...r,ref:e}),o):null});Ip.displayName=MD;function VD(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Sa=t=>{const{present:e,children:n}=t,r=LD(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=vt(r.ref,FD(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Sa.displayName="Presence";function LD(t){const[e,n]=m.useState(),r=m.useRef(null),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=VD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=lh(r.current);i.current=a==="mounted"?d:"none"},[a]),En(()=>{const d=r.current,h=s.current;if(h!==t){const p=i.current,g=lh(d);t?l("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),En(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=g=>{const x=lh(r.current).includes(g.animationName);if(g.target===e&&x&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=lh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function lh(t){return(t==null?void 0:t.animationName)||"none"}function FD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var UD=$v[" useInsertionEffect ".trim().toString()]||En;function Ml({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=$D({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=m.useRef(t!==void 0);m.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=m.useCallback(h=>{var f;if(a){const p=BD(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[a,t,i,o]);return[l,d]}function $D({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),s=m.useRef(n),i=m.useRef(e);return UD(()=>{i.current=e},[e]),m.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function BD(t){return typeof t=="function"}var ZC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zD="VisuallyHidden",kp=m.forwardRef((t,e)=>c.jsx(Be.span,{...t,ref:e,style:{...ZC,...t.style}}));kp.displayName=zD;var WD=kp,R_="ToastProvider",[j_,HD,qD]=GC("Toast"),[JC,JH]=Ta("Toast",[qD]),[GD,Ap]=JC(R_),eI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[d,h]=m.useState(0),f=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${R_}\`. Expected non-empty \`string\`.`),c.jsx(j_.Provider,{scope:e,children:c.jsx(GD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>h(g=>g+1),[]),onToastRemove:m.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};eI.displayName=R_;var tI="ToastViewport",KD=["F8"],Oy="toast.viewportPause",Dy="toast.viewportResume",nI=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=KD,label:s="Notifications ({hotkey})",...i}=t,o=Ap(tI,n),a=HD(n),l=m.useRef(null),d=m.useRef(null),h=m.useRef(null),f=m.useRef(null),p=vt(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;m.useEffect(()=>{const _=w=>{var E;r.length!==0&&r.every(I=>w[I]||w.code===I)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),m.useEffect(()=>{const _=l.current,w=f.current;if(T&&_&&w){const y=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(Oy);w.dispatchEvent(j),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(Dy);w.dispatchEvent(j),o.isClosePausedRef.current=!1}},I=j=>{!_.contains(j.relatedTarget)&&E()},D=()=>{_.contains(document.activeElement)||E()};return _.addEventListener("focusin",y),_.addEventListener("focusout",I),_.addEventListener("pointermove",y),_.addEventListener("pointerleave",D),window.addEventListener("blur",y),window.addEventListener("focus",E),()=>{_.removeEventListener("focusin",y),_.removeEventListener("focusout",I),_.removeEventListener("pointermove",y),_.removeEventListener("pointerleave",D),window.removeEventListener("blur",y),window.removeEventListener("focus",E)}}},[T,o.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:_})=>{const y=a().map(E=>{const I=E.ref.current,D=[I,...aM(I)];return _==="forwards"?D:D.reverse()});return(_==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const _=f.current;if(_){const w=y=>{var D,j,C;const E=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!E){const S=document.activeElement,k=y.shiftKey;if(y.target===_&&k){(D=d.current)==null||D.focus();return}const R=x({tabbingDirection:k?"backwards":"forwards"}),A=R.findIndex(W=>W===S);fg(R.slice(A+1))?y.preventDefault():k?(j=d.current)==null||j.focus():(C=h.current)==null||C.focus()}};return _.addEventListener("keydown",w),()=>_.removeEventListener("keydown",w)}},[a,x]),c.jsxs(DD,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&c.jsx(My,{ref:d,onFocusFromOutsideViewport:()=>{const _=x({tabbingDirection:"forwards"});fg(_)}}),c.jsx(j_.Slot,{scope:n,children:c.jsx(Be.ol,{tabIndex:-1,...i,ref:p})}),T&&c.jsx(My,{ref:h,onFocusFromOutsideViewport:()=>{const _=x({tabbingDirection:"backwards"});fg(_)}})]})});nI.displayName=tI;var rI="ToastFocusProxy",My=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Ap(rI,n);return c.jsx(kp,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});My.displayName=rI;var cd="Toast",QD="toast.swipeStart",YD="toast.swipeMove",XD="toast.swipeCancel",ZD="toast.swipeEnd",sI=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Ml({prop:r,defaultProp:s??!0,onChange:i,caller:cd});return c.jsx(Sa,{present:n||a,children:c.jsx(tM,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Yr(t.onPause),onResume:Yr(t.onResume),onSwipeStart:Ve(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ve(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ve(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ve(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});sI.displayName=cd;var[JD,eM]=JC(cd,{onClose(){}}),tM=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...T}=t,x=Ap(cd,n),[_,w]=m.useState(null),y=vt(e,W=>w(W)),E=m.useRef(null),I=m.useRef(null),D=s||x.duration,j=m.useRef(0),C=m.useRef(D),S=m.useRef(0),{onToastAdd:k,onToastRemove:P}=x,O=Yr(()=>{var oe;(_==null?void 0:_.contains(document.activeElement))&&((oe=x.viewport)==null||oe.focus()),o()}),R=m.useCallback(W=>{!W||W===1/0||(window.clearTimeout(S.current),j.current=new Date().getTime(),S.current=window.setTimeout(O,W))},[O]);m.useEffect(()=>{const W=x.viewport;if(W){const oe=()=>{R(C.current),d==null||d()},Q=()=>{const ee=new Date().getTime()-j.current;C.current=C.current-ee,window.clearTimeout(S.current),l==null||l()};return W.addEventListener(Oy,Q),W.addEventListener(Dy,oe),()=>{W.removeEventListener(Oy,Q),W.removeEventListener(Dy,oe)}}},[x.viewport,D,l,d,R]),m.useEffect(()=>{i&&!x.isClosePausedRef.current&&R(D)},[i,D,x.isClosePausedRef,R]),m.useEffect(()=>(k(),()=>P()),[k,P]);const A=m.useMemo(()=>_?dI(_):null,[_]);return x.viewport?c.jsxs(c.Fragment,{children:[A&&c.jsx(nM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),c.jsx(JD,{scope:n,onClose:O,children:ba.createPortal(c.jsx(j_.ItemSlot,{scope:n,children:c.jsx(OD,{asChild:!0,onEscapeKeyDown:Ve(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||O(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...T,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ve(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Ve(t.onPointerDown,W=>{W.button===0&&(E.current={x:W.clientX,y:W.clientY})}),onPointerMove:Ve(t.onPointerMove,W=>{if(!E.current)return;const oe=W.clientX-E.current.x,Q=W.clientY-E.current.y,ee=!!I.current,U=["left","right"].includes(x.swipeDirection),$=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,re=U?$(0,oe):0,ge=U?0:$(0,Q),le=W.pointerType==="touch"?10:2,ue={x:re,y:ge},we={originalEvent:W,delta:ue};ee?(I.current=ue,ch(YD,f,we,{discrete:!1})):bE(ue,x.swipeDirection,le)?(I.current=ue,ch(QD,h,we,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(oe)>le||Math.abs(Q)>le)&&(E.current=null)}),onPointerUp:Ve(t.onPointerUp,W=>{const oe=I.current,Q=W.target;if(Q.hasPointerCapture(W.pointerId)&&Q.releasePointerCapture(W.pointerId),I.current=null,E.current=null,oe){const ee=W.currentTarget,U={originalEvent:W,delta:oe};bE(oe,x.swipeDirection,x.swipeThreshold)?ch(ZD,g,U,{discrete:!0}):ch(XD,p,U,{discrete:!0}),ee.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),nM=t=>{const{__scopeToast:e,children:n,...r}=t,s=Ap(cd,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return iM(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:c.jsx(Ip,{asChild:!0,children:c.jsx(kp,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},rM="ToastTitle",iI=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Be.div,{...r,ref:e})});iI.displayName=rM;var sM="ToastDescription",oI=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Be.div,{...r,ref:e})});oI.displayName=sM;var aI="ToastAction",lI=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(uI,{altText:n,asChild:!0,children:c.jsx(O_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${aI}\`. Expected non-empty \`string\`.`),null)});lI.displayName=aI;var cI="ToastClose",O_=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=eM(cI,n);return c.jsx(uI,{asChild:!0,children:c.jsx(Be.button,{type:"button",...r,ref:e,onClick:Ve(t.onClick,s.onClose)})})});O_.displayName=cI;var uI=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function dI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),oM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...dI(r))}}),e}function ch(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?KC(s,i):s.dispatchEvent(i)}var bE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function iM(t=()=>{}){const e=Yr(t);En(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function oM(t){return t.nodeType===t.ELEMENT_NODE}function aM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function fg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var lM=eI,hI=nI,fI=sI,pI=iI,mI=oI,gI=lI,yI=O_;function vI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=vI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _I(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=vI(t))&&(r&&(r+=" "),r+=e);return r}const TE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,SE=_I,rc=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return SE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const p=TE(h)||TE(f);return s[d][p]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...g}=h;return Object.entries(g).every(T=>{let[x,_]=T;return Array.isArray(_)?_.includes({...i,...a}[x]):{...i,...a}[x]===_})?[...d,f,p]:d},[]);return SE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...uM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:wI("lucide",s),...a},[...o.map(([d,h])=>m.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(dM,{ref:i,iconNode:e,className:wI(`lucide-${cM(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=tt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=tt("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=tt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=tt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=tt("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=tt("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=tt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=tt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=tt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=tt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=tt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=tt("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=tt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=tt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=tt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=tt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=tt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=tt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=tt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=tt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=tt("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=tt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),V_="-",NM=t=>{const e=RM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(V_);return a[0]===""&&a.length!==1&&a.shift(),SI(a,e)||PM(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},SI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?SI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(V_);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},IE=/^\[(.+)\]$/,PM=t=>{if(IE.test(t)){const e=IE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},RM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return OM(Object.entries(t.classGroups),n).forEach(([i,o])=>{Vy(o,r,i,e)}),r},Vy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:kE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(jM(s)){Vy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Vy(o,kE(e,i),n,r)})})},kE=(t,e)=>{let n=t;return e.split(V_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jM=t=>t.isThemeGetter,OM=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,DM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},CI="!",MM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let d=0,h=0,f;for(let _=0;_<a.length;_++){let w=a[_];if(d===0){if(w===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(h,_)),h=_+i;continue}if(w==="/"){f=_;continue}}w==="["?d++:w==="]"&&d--}const p=l.length===0?a:a.substring(h),g=p.startsWith(CI),T=g?p.substring(1):p,x=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:T,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},VM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},LM=t=>({cache:DM(t.cacheSize),parseClassName:MM(t),...NM(t)}),FM=/\s+/,UM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(FM);let a="";for(let l=o.length-1;l>=0;l-=1){const d=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(d);let T=!!g,x=r(T?p.substring(0,g):p);if(!x){if(!T){a=d+(a.length>0?" "+a:a);continue}if(x=r(p),!x){a=d+(a.length>0?" "+a:a);continue}T=!1}const _=VM(h).join(":"),w=f?_+CI:_,y=w+x;if(i.includes(y))continue;i.push(y);const E=s(x,T);for(let I=0;I<E.length;++I){const D=E[I];i.push(w+D)}a=d+(a.length>0?" "+a:a)}return a};function $M(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=II(e))&&(r&&(r+=" "),r+=n);return r}const II=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=II(t[r]))&&(n&&(n+=" "),n+=e);return n};function BM(t,...e){let n,r,s,i=o;function o(l){const d=e.reduce((h,f)=>f(h),t());return n=LM(d),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const d=r(l);if(d)return d;const h=UM(l,n);return s(l,h),h}return function(){return i($M.apply(null,arguments))}}const St=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},kI=/^\[(?:([a-z-]+):)?(.+)\]$/i,zM=/^\d+\/\d+$/,WM=new Set(["px","full","screen"]),HM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,KM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ps=t=>dl(t)||WM.has(t)||zM.test(t),wi=t=>sc(t,"length",rV),dl=t=>!!t&&!Number.isNaN(Number(t)),pg=t=>sc(t,"number",dl),Lc=t=>!!t&&Number.isInteger(Number(t)),YM=t=>t.endsWith("%")&&dl(t.slice(0,-1)),Le=t=>kI.test(t),xi=t=>HM.test(t),XM=new Set(["length","size","percentage"]),ZM=t=>sc(t,XM,AI),JM=t=>sc(t,"position",AI),eV=new Set(["image","url"]),tV=t=>sc(t,eV,iV),nV=t=>sc(t,"",sV),Fc=()=>!0,sc=(t,e,n)=>{const r=kI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},rV=t=>qM.test(t)&&!GM.test(t),AI=()=>!1,sV=t=>KM.test(t),iV=t=>QM.test(t),oV=()=>{const t=St("colors"),e=St("spacing"),n=St("blur"),r=St("brightness"),s=St("borderColor"),i=St("borderRadius"),o=St("borderSpacing"),a=St("borderWidth"),l=St("contrast"),d=St("grayscale"),h=St("hueRotate"),f=St("invert"),p=St("gap"),g=St("gradientColorStops"),T=St("gradientColorStopPositions"),x=St("inset"),_=St("margin"),w=St("opacity"),y=St("padding"),E=St("saturate"),I=St("scale"),D=St("sepia"),j=St("skew"),C=St("space"),S=St("translate"),k=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Le,e],R=()=>[Le,e],A=()=>["",Ps,wi],W=()=>["auto",dl,Le],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Le],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[dl,Le];return{cacheSize:500,separator:":",theme:{colors:[Fc],spacing:[Ps,wi],blur:["none","",xi,Le],brightness:ge(),borderColor:[t],borderRadius:["none","","full",xi,Le],borderSpacing:R(),borderWidth:A(),contrast:ge(),grayscale:$(),hueRotate:ge(),invert:$(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[YM,wi],inset:O(),margin:O(),opacity:ge(),padding:R(),saturate:ge(),scale:ge(),sepia:$(),skew:ge(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[xi]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),Le]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lc,Le]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Lc,Le]}],"grid-cols":[{"grid-cols":[Fc]}],"col-start-end":[{col:["auto",{span:["full",Lc,Le]},Le]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Fc]}],"row-start-end":[{row:["auto",{span:[Lc,Le]},Le]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,e]}],"min-w":[{"min-w":[Le,e,"min","max","fit"]}],"max-w":[{"max-w":[Le,e,"none","full","min","max","fit","prose",{screen:[xi]},xi]}],h:[{h:[Le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xi,wi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pg]}],"font-family":[{font:[Fc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",dl,pg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ps,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ps,wi]}],"underline-offset":[{"underline-offset":["auto",Ps,Le]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),JM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Ps,Le]}],"outline-w":[{outline:[Ps,wi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ps,wi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xi,nV]}],"shadow-color":[{shadow:[Fc]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",xi,Le]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Lc,Le]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ps,wi,pg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},aV=BM(oV);function pe(...t){return aV(_I(t))}const lV=lM,NI=m.forwardRef(({className:t,...e},n)=>c.jsx(hI,{ref:n,className:pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));NI.displayName=hI.displayName;const cV=rc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),PI=m.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(fI,{ref:r,className:pe(cV({variant:e}),t),...n}));PI.displayName=fI.displayName;const uV=m.forwardRef(({className:t,...e},n)=>c.jsx(gI,{ref:n,className:pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));uV.displayName=gI.displayName;const RI=m.forwardRef(({className:t,...e},n)=>c.jsx(yI,{ref:n,className:pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(Pp,{className:"h-4 w-4"})}));RI.displayName=yI.displayName;const jI=m.forwardRef(({className:t,...e},n)=>c.jsx(pI,{ref:n,className:pe("text-sm font-semibold",t),...e}));jI.displayName=pI.displayName;const OI=m.forwardRef(({className:t,...e},n)=>c.jsx(mI,{ref:n,className:pe("text-sm opacity-90",t),...e}));OI.displayName=mI.displayName;function dV(){const{toasts:t}=Ss();return c.jsxs(lV,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(PI,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(jI,{children:n}),r&&c.jsx(OI,{children:r})]}),s,c.jsx(RI,{})]},e)}),c.jsx(NI,{})]})}var AE=["light","dark"],hV="(prefers-color-scheme: dark)",fV=m.createContext(void 0),pV={setTheme:t=>{},themes:[]},mV=()=>{var t;return(t=m.useContext(fV))!=null?t:pV};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let d=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?AE.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(T,x=!1,_=!0)=>{let w=o?o[T]:T,y=x?T+"|| ''":`'${w}'`,E="";return s&&_&&!x&&AE.includes(T)&&(E+=`d.style.colorScheme = '${T}';`),n==="class"?x||w?E+=`c.add(${y})`:E+="null":w&&(E+=`d[s](n,${y})`),E},g=t?`!function(){${h}${p(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${hV}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${d?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var gV=t=>{switch(t){case"success":return _V;case"info":return xV;case"warning":return wV;case"error":return EV;default:return null}},yV=Array(12).fill(0),vV=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},yV.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),_V=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),wV=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xV=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),EV=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),bV=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),TV=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ly=1,SV=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Ly++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async d=>{if(o=["resolve",d],H.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(IV(d)&&!d.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(d):n.success,f=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var d;i&&(this.dismiss(r),r=void 0),(d=n.finally)==null||d.call(n)}),l=()=>new Promise((d,h)=>a.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Ly++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Qn=new SV,CV=(t,e)=>{let n=(e==null?void 0:e.id)||Ly++;return Qn.addToast({title:t,...e,id:n}),n},IV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",kV=CV,AV=()=>Qn.toasts,NV=()=>Qn.getActiveToasts();Object.assign(kV,{success:Qn.success,info:Qn.info,warning:Qn.warning,error:Qn.error,custom:Qn.custom,message:Qn.message,promise:Qn.promise,dismiss:Qn.dismiss,loading:Qn.loading},{getHistory:AV,getToasts:NV});function PV(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}PV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function uh(t){return t.label!==void 0}var RV=3,jV="32px",OV="16px",NE=4e3,DV=356,MV=14,VV=20,LV=200;function Or(...t){return t.filter(Boolean).join(" ")}function FV(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var UV=t=>{var e,n,r,s,i,o,a,l,d,h,f;let{invert:p,toast:g,unstyled:T,interacting:x,setHeights:_,visibleToasts:w,heights:y,index:E,toasts:I,expanded:D,removeToast:j,defaultRichColors:C,closeButton:S,style:k,cancelButtonStyle:P,actionButtonStyle:O,className:R="",descriptionClassName:A="",duration:W,position:oe,gap:Q,loadingIcon:ee,expandByDefault:U,classNames:$,icons:re,closeButtonAriaLabel:ge="Close toast",pauseWhenPageIsHidden:le}=t,[ue,we]=H.useState(null),[De,lt]=H.useState(null),[se,Fe]=H.useState(!1),[rt,ke]=H.useState(!1),[Se,Ae]=H.useState(!1),[_t,fe]=H.useState(!1),[V,Ee]=H.useState(!1),[Ce,bt]=H.useState(0),[He,M]=H.useState(0),F=H.useRef(g.duration||W||NE),B=H.useRef(null),te=H.useRef(null),J=E===0,Y=E+1<=w,X=g.type,ve=g.dismissible!==!1,qe=g.className||"",Qt=g.descriptionClassName||"",Wn=H.useMemo(()=>y.findIndex(Ie=>Ie.toastId===g.id)||0,[y,g.id]),Hn=H.useMemo(()=>{var Ie;return(Ie=g.closeButton)!=null?Ie:S},[g.closeButton,S]),yr=H.useMemo(()=>g.duration||W||NE,[g.duration,W]),cn=H.useRef(0),fn=H.useRef(0),ns=H.useRef(0),Pr=H.useRef(null),[_c,mi]=oe.split("-"),wc=H.useMemo(()=>y.reduce((Ie,Ze,ft)=>ft>=Wn?Ie:Ie+Ze.height,0),[y,Wn]),xc=TV(),jo=g.invert||p,Oo=X==="loading";fn.current=H.useMemo(()=>Wn*Q+wc,[Wn,wc]),H.useEffect(()=>{F.current=yr},[yr]),H.useEffect(()=>{Fe(!0)},[]),H.useEffect(()=>{let Ie=te.current;if(Ie){let Ze=Ie.getBoundingClientRect().height;return M(Ze),_(ft=>[{toastId:g.id,height:Ze,position:g.position},...ft]),()=>_(ft=>ft.filter(pn=>pn.toastId!==g.id))}},[_,g.id]),H.useLayoutEffect(()=>{if(!se)return;let Ie=te.current,Ze=Ie.style.height;Ie.style.height="auto";let ft=Ie.getBoundingClientRect().height;Ie.style.height=Ze,M(ft),_(pn=>pn.find(qn=>qn.toastId===g.id)?pn.map(qn=>qn.toastId===g.id?{...qn,height:ft}:qn):[{toastId:g.id,height:ft,position:g.position},...pn])},[se,g.title,g.description,_,g.id]);let vr=H.useCallback(()=>{ke(!0),bt(fn.current),_(Ie=>Ie.filter(Ze=>Ze.toastId!==g.id)),setTimeout(()=>{j(g)},LV)},[g,j,_,fn]);H.useEffect(()=>{if(g.promise&&X==="loading"||g.duration===1/0||g.type==="loading")return;let Ie;return D||x||le&&xc?(()=>{if(ns.current<cn.current){let Ze=new Date().getTime()-cn.current;F.current=F.current-Ze}ns.current=new Date().getTime()})():F.current!==1/0&&(cn.current=new Date().getTime(),Ie=setTimeout(()=>{var Ze;(Ze=g.onAutoClose)==null||Ze.call(g,g),vr()},F.current)),()=>clearTimeout(Ie)},[D,x,g,X,le,xc,vr]),H.useEffect(()=>{g.delete&&vr()},[vr,g.delete]);function ks(){var Ie,Ze,ft;return re!=null&&re.loading?H.createElement("div",{className:Or($==null?void 0:$.loader,(Ie=g==null?void 0:g.classNames)==null?void 0:Ie.loader,"sonner-loader"),"data-visible":X==="loading"},re.loading):ee?H.createElement("div",{className:Or($==null?void 0:$.loader,(Ze=g==null?void 0:g.classNames)==null?void 0:Ze.loader,"sonner-loader"),"data-visible":X==="loading"},ee):H.createElement(vV,{className:Or($==null?void 0:$.loader,(ft=g==null?void 0:g.classNames)==null?void 0:ft.loader),visible:X==="loading"})}return H.createElement("li",{tabIndex:0,ref:te,className:Or(R,qe,$==null?void 0:$.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[X],(n=g==null?void 0:g.classNames)==null?void 0:n[X]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:C,"data-styled":!(g.jsx||g.unstyled||T),"data-mounted":se,"data-promise":!!g.promise,"data-swiped":V,"data-removed":rt,"data-visible":Y,"data-y-position":_c,"data-x-position":mi,"data-index":E,"data-front":J,"data-swiping":Se,"data-dismissible":ve,"data-type":X,"data-invert":jo,"data-swipe-out":_t,"data-swipe-direction":De,"data-expanded":!!(D||U&&se),style:{"--index":E,"--toasts-before":E,"--z-index":I.length-E,"--offset":`${rt?Ce:fn.current}px`,"--initial-height":U?"auto":`${He}px`,...k,...g.style},onDragEnd:()=>{Ae(!1),we(null),Pr.current=null},onPointerDown:Ie=>{Oo||!ve||(B.current=new Date,bt(fn.current),Ie.target.setPointerCapture(Ie.pointerId),Ie.target.tagName!=="BUTTON"&&(Ae(!0),Pr.current={x:Ie.clientX,y:Ie.clientY}))},onPointerUp:()=>{var Ie,Ze,ft,pn;if(_t||!ve)return;Pr.current=null;let qn=Number(((Ie=te.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),At=Number(((Ze=te.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),rs=new Date().getTime()-((ft=B.current)==null?void 0:ft.getTime()),mn=ue==="x"?qn:At,Gn=Math.abs(mn)/rs;if(Math.abs(mn)>=VV||Gn>.11){bt(fn.current),(pn=g.onDismiss)==null||pn.call(g,g),lt(ue==="x"?qn>0?"right":"left":At>0?"down":"up"),vr(),fe(!0),Ee(!1);return}Ae(!1),we(null)},onPointerMove:Ie=>{var Ze,ft,pn,qn;if(!Pr.current||!ve||((Ze=window.getSelection())==null?void 0:Ze.toString().length)>0)return;let At=Ie.clientY-Pr.current.y,rs=Ie.clientX-Pr.current.x,mn=(ft=t.swipeDirections)!=null?ft:FV(oe);!ue&&(Math.abs(rs)>1||Math.abs(At)>1)&&we(Math.abs(rs)>Math.abs(At)?"x":"y");let Gn={x:0,y:0};ue==="y"?(mn.includes("top")||mn.includes("bottom"))&&(mn.includes("top")&&At<0||mn.includes("bottom")&&At>0)&&(Gn.y=At):ue==="x"&&(mn.includes("left")||mn.includes("right"))&&(mn.includes("left")&&rs<0||mn.includes("right")&&rs>0)&&(Gn.x=rs),(Math.abs(Gn.x)>0||Math.abs(Gn.y)>0)&&Ee(!0),(pn=te.current)==null||pn.style.setProperty("--swipe-amount-x",`${Gn.x}px`),(qn=te.current)==null||qn.style.setProperty("--swipe-amount-y",`${Gn.y}px`)}},Hn&&!g.jsx?H.createElement("button",{"aria-label":ge,"data-disabled":Oo,"data-close-button":!0,onClick:Oo||!ve?()=>{}:()=>{var Ie;vr(),(Ie=g.onDismiss)==null||Ie.call(g,g)},className:Or($==null?void 0:$.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=re==null?void 0:re.close)!=null?i:bV):null,g.jsx||m.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:H.createElement(H.Fragment,null,X||g.icon||g.promise?H.createElement("div",{"data-icon":"",className:Or($==null?void 0:$.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ks():null,g.type!=="loading"?g.icon||(re==null?void 0:re[X])||gV(X):null):null,H.createElement("div",{"data-content":"",className:Or($==null?void 0:$.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:Or($==null?void 0:$.title,(l=g==null?void 0:g.classNames)==null?void 0:l.title)},typeof g.title=="function"?g.title():g.title),g.description?H.createElement("div",{"data-description":"",className:Or(A,Qt,$==null?void 0:$.description,(d=g==null?void 0:g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),m.isValidElement(g.cancel)?g.cancel:g.cancel&&uh(g.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||P,onClick:Ie=>{var Ze,ft;uh(g.cancel)&&ve&&((ft=(Ze=g.cancel).onClick)==null||ft.call(Ze,Ie),vr())},className:Or($==null?void 0:$.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,m.isValidElement(g.action)?g.action:g.action&&uh(g.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||O,onClick:Ie=>{var Ze,ft;uh(g.action)&&((ft=(Ze=g.action).onClick)==null||ft.call(Ze,Ie),!Ie.defaultPrevented&&vr())},className:Or($==null?void 0:$.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function PE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function $V(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?OV:jV;function l(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=a:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):l(a)}),n}var BV=m.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:d,theme:h="light",richColors:f,duration:p,style:g,visibleToasts:T=RV,toastOptions:x,dir:_=PE(),gap:w=MV,loadingIcon:y,icons:E,containerAriaLabel:I="Notifications",pauseWhenPageIsHidden:D}=t,[j,C]=H.useState([]),S=H.useMemo(()=>Array.from(new Set([r].concat(j.filter(le=>le.position).map(le=>le.position)))),[j,r]),[k,P]=H.useState([]),[O,R]=H.useState(!1),[A,W]=H.useState(!1),[oe,Q]=H.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=H.useRef(null),U=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=H.useRef(null),re=H.useRef(!1),ge=H.useCallback(le=>{C(ue=>{var we;return(we=ue.find(De=>De.id===le.id))!=null&&we.delete||Qn.dismiss(le.id),ue.filter(({id:De})=>De!==le.id)})},[]);return H.useEffect(()=>Qn.subscribe(le=>{if(le.dismiss){C(ue=>ue.map(we=>we.id===le.id?{...we,delete:!0}:we));return}setTimeout(()=>{zC.flushSync(()=>{C(ue=>{let we=ue.findIndex(De=>De.id===le.id);return we!==-1?[...ue.slice(0,we),{...ue[we],...le},...ue.slice(we+1)]:[le,...ue]})})})}),[]),H.useEffect(()=>{if(h!=="system"){Q(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;let le=window.matchMedia("(prefers-color-scheme: dark)");try{le.addEventListener("change",({matches:ue})=>{Q(ue?"dark":"light")})}catch{le.addListener(({matches:we})=>{try{Q(we?"dark":"light")}catch(De){console.error(De)}})}},[h]),H.useEffect(()=>{j.length<=1&&R(!1)},[j]),H.useEffect(()=>{let le=ue=>{var we,De;s.every(lt=>ue[lt]||ue.code===lt)&&(R(!0),(we=ee.current)==null||we.focus()),ue.code==="Escape"&&(document.activeElement===ee.current||(De=ee.current)!=null&&De.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",le),()=>document.removeEventListener("keydown",le)},[s]),H.useEffect(()=>{if(ee.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,re.current=!1)}},[ee.current]),H.createElement("section",{ref:e,"aria-label":`${I} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((le,ue)=>{var we;let[De,lt]=le.split("-");return j.length?H.createElement("ol",{key:le,dir:_==="auto"?PE():_,tabIndex:-1,ref:ee,className:a,"data-sonner-toaster":!0,"data-theme":oe,"data-y-position":De,"data-lifted":O&&j.length>1&&!i,"data-x-position":lt,style:{"--front-toast-height":`${((we=k[0])==null?void 0:we.height)||0}px`,"--width":`${DV}px`,"--gap":`${w}px`,...g,...$V(l,d)},onBlur:se=>{re.current&&!se.currentTarget.contains(se.relatedTarget)&&(re.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||re.current||(re.current=!0,$.current=se.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{A||R(!1)},onDragEnd:()=>R(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},j.filter(se=>!se.position&&ue===0||se.position===le).map((se,Fe)=>{var rt,ke;return H.createElement(UV,{key:se.id,icons:E,index:Fe,toast:se,defaultRichColors:f,duration:(rt=x==null?void 0:x.duration)!=null?rt:p,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:T,closeButton:(ke=x==null?void 0:x.closeButton)!=null?ke:o,interacting:A,position:le,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:ge,toasts:j.filter(Se=>Se.position==se.position),heights:k.filter(Se=>Se.position==se.position),setHeights:P,expandByDefault:i,gap:w,loadingIcon:y,expanded:O,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const zV=({...t})=>{const{theme:e="system"}=mV();return c.jsx(BV,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var WV=$v[" useId ".trim().toString()]||(()=>{}),HV=0;function na(t){const[e,n]=m.useState(WV());return En(()=>{n(r=>r??String(HV++))},[t]),e?`radix-${e}`:""}const qV=["top","right","bottom","left"],ho=Math.min,or=Math.max,Sf=Math.round,dh=Math.floor,gs=t=>({x:t,y:t}),GV={left:"right",right:"left",bottom:"top",top:"bottom"},KV={start:"end",end:"start"};function Fy(t,e,n){return or(t,ho(e,n))}function Xs(t,e){return typeof t=="function"?t(e):t}function Zs(t){return t.split("-")[0]}function ic(t){return t.split("-")[1]}function L_(t){return t==="x"?"y":"x"}function F_(t){return t==="y"?"height":"width"}const QV=new Set(["top","bottom"]);function hs(t){return QV.has(Zs(t))?"y":"x"}function U_(t){return L_(hs(t))}function YV(t,e,n){n===void 0&&(n=!1);const r=ic(t),s=U_(t),i=F_(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Cf(o)),[o,Cf(o)]}function XV(t){const e=Cf(t);return[Uy(t),e,Uy(e)]}function Uy(t){return t.replace(/start|end/g,e=>KV[e])}const RE=["left","right"],jE=["right","left"],ZV=["top","bottom"],JV=["bottom","top"];function eL(t,e,n){switch(t){case"top":case"bottom":return n?e?jE:RE:e?RE:jE;case"left":case"right":return e?ZV:JV;default:return[]}}function tL(t,e,n,r){const s=ic(t);let i=eL(Zs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Uy)))),i}function Cf(t){return t.replace(/left|right|bottom|top/g,e=>GV[e])}function nL(t){return{top:0,right:0,bottom:0,left:0,...t}}function DI(t){return typeof t!="number"?nL(t):{top:t,right:t,bottom:t,left:t}}function If(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function OE(t,e,n){let{reference:r,floating:s}=t;const i=hs(e),o=U_(e),a=F_(o),l=Zs(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(ic(e)){case"start":g[o]-=p*(n&&d?-1:1);break;case"end":g[o]+=p*(n&&d?-1:1);break}return g}const rL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=OE(d,r,l),p=r,g={},T=0;for(let x=0;x<a.length;x++){const{name:_,fn:w}=a[x],{x:y,y:E,data:I,reset:D}=await w({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:d,platform:o,elements:{reference:t,floating:e}});h=y??h,f=E??f,g={...g,[_]:{...g[_],...I}},D&&T<=50&&(T++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=OE(d,p,l)),x=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:g}};async function Vu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=Xs(e,t),T=DI(g),_=a[p?f==="floating"?"reference":"floating":f],w=If(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:l})),y=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),I=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},D=If(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:E,strategy:l}):y);return{top:(w.top-D.top+T.top)/I.y,bottom:(D.bottom-w.bottom+T.bottom)/I.y,left:(w.left-D.left+T.left)/I.x,right:(D.right-w.right+T.right)/I.x}}const sL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:d,padding:h=0}=Xs(t,e)||{};if(d==null)return{};const f=DI(h),p={x:n,y:r},g=U_(s),T=F_(g),x=await o.getDimensions(d),_=g==="y",w=_?"top":"left",y=_?"bottom":"right",E=_?"clientHeight":"clientWidth",I=i.reference[T]+i.reference[g]-p[g]-i.floating[T],D=p[g]-i.reference[g],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=j?j[E]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=a.floating[E]||i.floating[T]);const S=I/2-D/2,k=C/2-x[T]/2-1,P=ho(f[w],k),O=ho(f[y],k),R=P,A=C-x[T]-O,W=C/2-x[T]/2+S,oe=Fy(R,W,A),Q=!l.arrow&&ic(s)!=null&&W!==oe&&i.reference[T]/2-(W<R?P:O)-x[T]/2<0,ee=Q?W<R?W-R:W-A:0;return{[g]:p[g]+ee,data:{[g]:oe,centerOffset:W-oe-ee,...Q&&{alignmentOffset:ee}},reset:Q}}}),iL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:x=!0,..._}=Xs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Zs(s),y=hs(a),E=Zs(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(d.floating)),D=p||(E||!x?[Cf(a)]:XV(a)),j=T!=="none";!p&&j&&D.push(...tL(a,x,T,I));const C=[a,...D],S=await Vu(e,_),k=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&k.push(S[w]),f){const W=YV(s,o,I);k.push(S[W[0]],S[W[1]])}if(P=[...P,{placement:s,overflows:k}],!k.every(W=>W<=0)){var O,R;const W=(((O=i.flip)==null?void 0:O.index)||0)+1,oe=C[W];if(oe&&(!(f==="alignment"?y!==hs(oe):!1)||P.every(U=>U.overflows[0]>0&&hs(U.placement)===y)))return{data:{index:W,overflows:P},reset:{placement:oe}};let Q=(R=P.filter(ee=>ee.overflows[0]<=0).sort((ee,U)=>ee.overflows[1]-U.overflows[1])[0])==null?void 0:R.placement;if(!Q)switch(g){case"bestFit":{var A;const ee=(A=P.filter(U=>{if(j){const $=hs(U.placement);return $===y||$==="y"}return!0}).map(U=>[U.placement,U.overflows.filter($=>$>0).reduce(($,re)=>$+re,0)]).sort((U,$)=>U[1]-$[1])[0])==null?void 0:A[0];ee&&(Q=ee);break}case"initialPlacement":Q=a;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function DE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ME(t){return qV.some(e=>t[e]>=0)}const oL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Xs(t,e);switch(r){case"referenceHidden":{const i=await Vu(e,{...s,elementContext:"reference"}),o=DE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ME(o)}}}case"escaped":{const i=await Vu(e,{...s,altBoundary:!0}),o=DE(i,n.floating);return{data:{escapedOffsets:o,escaped:ME(o)}}}default:return{}}}}},MI=new Set(["left","top"]);async function aL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Zs(n),a=ic(n),l=hs(n)==="y",d=MI.has(o)?-1:1,h=i&&l?-1:1,f=Xs(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:T}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof T=="number"&&(g=a==="end"?T*-1:T),l?{x:g*h,y:p*d}:{x:p*d,y:g*h}}const lL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await aL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},cL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:w,y}=_;return{x:w,y}}},...l}=Xs(t,e),d={x:n,y:r},h=await Vu(e,l),f=hs(Zs(s)),p=L_(f);let g=d[p],T=d[f];if(i){const _=p==="y"?"top":"left",w=p==="y"?"bottom":"right",y=g+h[_],E=g-h[w];g=Fy(y,g,E)}if(o){const _=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=T+h[_],E=T-h[w];T=Fy(y,T,E)}const x=a.fn({...e,[p]:g,[f]:T});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:i,[f]:o}}}}}},uL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:d=!0}=Xs(t,e),h={x:n,y:r},f=hs(s),p=L_(f);let g=h[p],T=h[f];const x=Xs(a,e),_=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const E=p==="y"?"height":"width",I=i.reference[p]-i.floating[E]+_.mainAxis,D=i.reference[p]+i.reference[E]-_.mainAxis;g<I?g=I:g>D&&(g=D)}if(d){var w,y;const E=p==="y"?"width":"height",I=MI.has(Zs(s)),D=i.reference[f]-i.floating[E]+(I&&((w=o.offset)==null?void 0:w[f])||0)+(I?0:_.crossAxis),j=i.reference[f]+i.reference[E]+(I?0:((y=o.offset)==null?void 0:y[f])||0)-(I?_.crossAxis:0);T<D?T=D:T>j&&(T=j)}return{[p]:g,[f]:T}}}},dL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...d}=Xs(t,e),h=await Vu(e,d),f=Zs(s),p=ic(s),g=hs(s)==="y",{width:T,height:x}=i.floating;let _,w;f==="top"||f==="bottom"?(_=f,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,_=p==="end"?"top":"bottom");const y=x-h.top-h.bottom,E=T-h.left-h.right,I=ho(x-h[_],y),D=ho(T-h[w],E),j=!e.middlewareData.shift;let C=I,S=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=y),j&&!p){const P=or(h.left,0),O=or(h.right,0),R=or(h.top,0),A=or(h.bottom,0);g?S=T-2*(P!==0||O!==0?P+O:or(h.left,h.right)):C=x-2*(R!==0||A!==0?R+A:or(h.top,h.bottom))}await l({...e,availableWidth:S,availableHeight:C});const k=await o.getDimensions(a.floating);return T!==k.width||x!==k.height?{reset:{rects:!0}}:{}}}};function Rp(){return typeof window<"u"}function oc(t){return VI(t)?(t.nodeName||"").toLowerCase():"#document"}function dr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cs(t){var e;return(e=(VI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function VI(t){return Rp()?t instanceof Node||t instanceof dr(t).Node:!1}function Xr(t){return Rp()?t instanceof Element||t instanceof dr(t).Element:!1}function bs(t){return Rp()?t instanceof HTMLElement||t instanceof dr(t).HTMLElement:!1}function VE(t){return!Rp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof dr(t).ShadowRoot}const hL=new Set(["inline","contents"]);function hd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Zr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!hL.has(s)}const fL=new Set(["table","td","th"]);function pL(t){return fL.has(oc(t))}const mL=[":popover-open",":modal"];function jp(t){return mL.some(e=>{try{return t.matches(e)}catch{return!1}})}const gL=["transform","translate","scale","rotate","perspective"],yL=["transform","translate","scale","rotate","perspective","filter"],vL=["paint","layout","strict","content"];function $_(t){const e=B_(),n=Xr(t)?Zr(t):t;return gL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||yL.some(r=>(n.willChange||"").includes(r))||vL.some(r=>(n.contain||"").includes(r))}function _L(t){let e=fo(t);for(;bs(e)&&!Vl(e);){if($_(e))return e;if(jp(e))return null;e=fo(e)}return null}function B_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wL=new Set(["html","body","#document"]);function Vl(t){return wL.has(oc(t))}function Zr(t){return dr(t).getComputedStyle(t)}function Op(t){return Xr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function fo(t){if(oc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||VE(t)&&t.host||Cs(t);return VE(e)?e.host:e}function LI(t){const e=fo(t);return Vl(e)?t.ownerDocument?t.ownerDocument.body:t.body:bs(e)&&hd(e)?e:LI(e)}function Lu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=LI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=dr(s);if(i){const a=$y(o);return e.concat(o,o.visualViewport||[],hd(s)?s:[],a&&n?Lu(a):[])}return e.concat(s,Lu(s,[],n))}function $y(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function FI(t){const e=Zr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=bs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Sf(n)!==i||Sf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function z_(t){return Xr(t)?t:t.contextElement}function hl(t){const e=z_(t);if(!bs(e))return gs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=FI(e);let o=(i?Sf(n.width):n.width)/r,a=(i?Sf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const xL=gs(0);function UI(t){const e=dr(t);return!B_()||!e.visualViewport?xL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==dr(t)?!1:e}function ua(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=z_(t);let o=gs(1);e&&(r?Xr(r)&&(o=hl(r)):o=hl(t));const a=EL(i,n,r)?UI(i):gs(0);let l=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=dr(i),g=r&&Xr(r)?dr(r):r;let T=p,x=$y(T);for(;x&&r&&g!==T;){const _=hl(x),w=x.getBoundingClientRect(),y=Zr(x),E=w.left+(x.clientLeft+parseFloat(y.paddingLeft))*_.x,I=w.top+(x.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,d*=_.y,h*=_.x,f*=_.y,l+=E,d+=I,T=dr(x),x=$y(T)}}return If({width:h,height:f,x:l,y:d})}function W_(t,e){const n=Op(t).scrollLeft;return e?e.left+n:ua(Cs(t)).left+n}function $I(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:W_(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function bL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Cs(r),a=e?jp(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},d=gs(1);const h=gs(0),f=bs(r);if((f||!f&&!i)&&((oc(r)!=="body"||hd(o))&&(l=Op(r)),bs(r))){const g=ua(r);d=hl(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const p=o&&!f&&!i?$I(o,l,!0):gs(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-l.scrollTop*d.y+h.y+p.y}}function TL(t){return Array.from(t.getClientRects())}function SL(t){const e=Cs(t),n=Op(t),r=t.ownerDocument.body,s=or(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=or(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+W_(t);const a=-n.scrollTop;return Zr(r).direction==="rtl"&&(o+=or(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function CL(t,e){const n=dr(t),r=Cs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=B_();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const IL=new Set(["absolute","fixed"]);function kL(t,e){const n=ua(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=bs(t)?hl(t):gs(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,d=r*i.y;return{width:o,height:a,x:l,y:d}}function LE(t,e,n){let r;if(e==="viewport")r=CL(t,n);else if(e==="document")r=SL(Cs(t));else if(Xr(e))r=kL(e,n);else{const s=UI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return If(r)}function BI(t,e){const n=fo(t);return n===e||!Xr(n)||Vl(n)?!1:Zr(n).position==="fixed"||BI(n,e)}function AL(t,e){const n=e.get(t);if(n)return n;let r=Lu(t,[],!1).filter(a=>Xr(a)&&oc(a)!=="body"),s=null;const i=Zr(t).position==="fixed";let o=i?fo(t):t;for(;Xr(o)&&!Vl(o);){const a=Zr(o),l=$_(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&IL.has(s.position)||hd(o)&&!l&&BI(t,o))?r=r.filter(h=>h!==o):s=a,o=fo(o)}return e.set(t,r),r}function NL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?jp(e)?[]:AL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((d,h)=>{const f=LE(e,h,s);return d.top=or(f.top,d.top),d.right=ho(f.right,d.right),d.bottom=ho(f.bottom,d.bottom),d.left=or(f.left,d.left),d},LE(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function PL(t){const{width:e,height:n}=FI(t);return{width:e,height:n}}function RL(t,e,n){const r=bs(e),s=Cs(e),i=n==="fixed",o=ua(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=gs(0);function d(){l.x=W_(s)}if(r||!r&&!i)if((oc(e)!=="body"||hd(s))&&(a=Op(e)),r){const g=ua(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?$I(s,a):gs(0),f=o.left+a.scrollLeft-l.x-h.x,p=o.top+a.scrollTop-l.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function mg(t){return Zr(t).position==="static"}function FE(t,e){if(!bs(t)||Zr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cs(t)===n&&(n=n.ownerDocument.body),n}function zI(t,e){const n=dr(t);if(jp(t))return n;if(!bs(t)){let s=fo(t);for(;s&&!Vl(s);){if(Xr(s)&&!mg(s))return s;s=fo(s)}return n}let r=FE(t,e);for(;r&&pL(r)&&mg(r);)r=FE(r,e);return r&&Vl(r)&&mg(r)&&!$_(r)?n:r||_L(t)||n}const jL=async function(t){const e=this.getOffsetParent||zI,n=this.getDimensions,r=await n(t.floating);return{reference:RL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OL(t){return Zr(t).direction==="rtl"}const DL={convertOffsetParentRelativeRectToViewportRelativeRect:bL,getDocumentElement:Cs,getClippingRect:NL,getOffsetParent:zI,getElementRects:jL,getClientRects:TL,getDimensions:PL,getScale:hl,isElement:Xr,isRTL:OL};function WI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ML(t,e){let n=null,r;const s=Cs(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:g}=d;if(a||e(),!p||!g)return;const T=dh(f),x=dh(s.clientWidth-(h+p)),_=dh(s.clientHeight-(f+g)),w=dh(h),E={rootMargin:-T+"px "+-x+"px "+-_+"px "+-w+"px",threshold:or(0,ho(1,l))||1};let I=!0;function D(j){const C=j[0].intersectionRatio;if(C!==l){if(!I)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!WI(d,t.getBoundingClientRect())&&o(),I=!1}try{n=new IntersectionObserver(D,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,E)}n.observe(t)}return o(!0),i}function VL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=z_(t),h=s||i?[...d?Lu(d):[],...Lu(e)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=d&&a?ML(d,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(w=>{let[y]=w;y&&y.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),n()}),d&&!l&&g.observe(d),g.observe(e));let T,x=l?ua(t):null;l&&_();function _(){const w=ua(t);x&&!WI(x,w)&&n(),x=w,T=requestAnimationFrame(_)}return n(),()=>{var w;h.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(T)}}const LL=lL,FL=cL,UL=iL,$L=dL,BL=oL,UE=sL,zL=uL,WL=(t,e,n)=>{const r=new Map,s={platform:DL,...n},i={...s.platform,_c:r};return rL(t,e,{...s,platform:i})};var HL=typeof document<"u",qL=function(){},Vh=HL?m.useLayoutEffect:qL;function kf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!kf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!kf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function HI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function $E(t,e){const n=HI(t);return Math.round(e*n)/n}function gg(t){const e=m.useRef(t);return Vh(()=>{e.current=t}),e}function GL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:d}=t,[h,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=m.useState(r);kf(p,r)||g(r);const[T,x]=m.useState(null),[_,w]=m.useState(null),y=m.useCallback(U=>{U!==j.current&&(j.current=U,x(U))},[]),E=m.useCallback(U=>{U!==C.current&&(C.current=U,w(U))},[]),I=i||T,D=o||_,j=m.useRef(null),C=m.useRef(null),S=m.useRef(h),k=l!=null,P=gg(l),O=gg(s),R=gg(d),A=m.useCallback(()=>{if(!j.current||!C.current)return;const U={placement:e,strategy:n,middleware:p};O.current&&(U.platform=O.current),WL(j.current,C.current,U).then($=>{const re={...$,isPositioned:R.current!==!1};W.current&&!kf(S.current,re)&&(S.current=re,ba.flushSync(()=>{f(re)}))})},[p,e,n,O,R]);Vh(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(U=>({...U,isPositioned:!1})))},[d]);const W=m.useRef(!1);Vh(()=>(W.current=!0,()=>{W.current=!1}),[]),Vh(()=>{if(I&&(j.current=I),D&&(C.current=D),I&&D){if(P.current)return P.current(I,D,A);A()}},[I,D,A,P,k]);const oe=m.useMemo(()=>({reference:j,floating:C,setReference:y,setFloating:E}),[y,E]),Q=m.useMemo(()=>({reference:I,floating:D}),[I,D]),ee=m.useMemo(()=>{const U={position:n,left:0,top:0};if(!Q.floating)return U;const $=$E(Q.floating,h.x),re=$E(Q.floating,h.y);return a?{...U,transform:"translate("+$+"px, "+re+"px)",...HI(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:re}},[n,a,Q.floating,h.x,h.y]);return m.useMemo(()=>({...h,update:A,refs:oe,elements:Q,floatingStyles:ee}),[h,A,oe,Q,ee])}const KL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?UE({element:r.current,padding:s}).fn(n):{}:r?UE({element:r,padding:s}).fn(n):{}}}},QL=(t,e)=>({...LL(t),options:[t,e]}),YL=(t,e)=>({...FL(t),options:[t,e]}),XL=(t,e)=>({...zL(t),options:[t,e]}),ZL=(t,e)=>({...UL(t),options:[t,e]}),JL=(t,e)=>({...$L(t),options:[t,e]}),e4=(t,e)=>({...BL(t),options:[t,e]}),t4=(t,e)=>({...KL(t),options:[t,e]});var n4="Arrow",qI=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(Be.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});qI.displayName=n4;var r4=qI;function GI(t){const[e,n]=m.useState(void 0);return En(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var H_="Popper",[KI,Dp]=Ta(H_),[s4,QI]=KI(H_),YI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return c.jsx(s4,{scope:e,anchor:r,onAnchorChange:s,children:n})};YI.displayName=H_;var XI="PopperAnchor",ZI=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=QI(XI,n),o=m.useRef(null),a=vt(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(Be.div,{...s,ref:a})});ZI.displayName=XI;var q_="PopperContent",[i4,o4]=KI(q_),JI=m.forwardRef((t,e)=>{var se,Fe,rt,ke,Se,Ae;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:T,...x}=t,_=QI(q_,n),[w,y]=m.useState(null),E=vt(e,_t=>y(_t)),[I,D]=m.useState(null),j=GI(I),C=(j==null?void 0:j.width)??0,S=(j==null?void 0:j.height)??0,k=r+(i!=="center"?"-"+i:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},O=Array.isArray(d)?d:[d],R=O.length>0,A={padding:P,boundary:O.filter(l4),altBoundary:R},{refs:W,floatingStyles:oe,placement:Q,isPositioned:ee,middlewareData:U}=GL({strategy:"fixed",placement:k,whileElementsMounted:(..._t)=>VL(..._t,{animationFrame:g==="always"}),elements:{reference:_.anchor},middleware:[QL({mainAxis:s+S,alignmentAxis:o}),l&&YL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?XL():void 0,...A}),l&&ZL({...A}),JL({...A,apply:({elements:_t,rects:fe,availableWidth:V,availableHeight:Ee})=>{const{width:Ce,height:bt}=fe.reference,He=_t.floating.style;He.setProperty("--radix-popper-available-width",`${V}px`),He.setProperty("--radix-popper-available-height",`${Ee}px`),He.setProperty("--radix-popper-anchor-width",`${Ce}px`),He.setProperty("--radix-popper-anchor-height",`${bt}px`)}}),I&&t4({element:I,padding:a}),c4({arrowWidth:C,arrowHeight:S}),p&&e4({strategy:"referenceHidden",...A})]}),[$,re]=nk(Q),ge=Yr(T);En(()=>{ee&&(ge==null||ge())},[ee,ge]);const le=(se=U.arrow)==null?void 0:se.x,ue=(Fe=U.arrow)==null?void 0:Fe.y,we=((rt=U.arrow)==null?void 0:rt.centerOffset)!==0,[De,lt]=m.useState();return En(()=>{w&&lt(window.getComputedStyle(w).zIndex)},[w]),c.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:ee?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(ke=U.transformOrigin)==null?void 0:ke.x,(Se=U.transformOrigin)==null?void 0:Se.y].join(" "),...((Ae=U.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(i4,{scope:n,placedSide:$,onArrowChange:D,arrowX:le,arrowY:ue,shouldHideArrow:we,children:c.jsx(Be.div,{"data-side":$,"data-align":re,...x,ref:E,style:{...x.style,animation:ee?void 0:"none"}})})})});JI.displayName=q_;var ek="PopperArrow",a4={top:"bottom",right:"left",bottom:"top",left:"right"},tk=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=o4(ek,r),o=a4[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(r4,{...s,ref:n,style:{...s.style,display:"block"}})})});tk.displayName=ek;function l4(t){return t!==null}var c4=t=>({name:"transformOrigin",options:t,fn(e){var _,w,y;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[d,h]=nk(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let T="",x="";return d==="bottom"?(T=o?f:`${p}px`,x=`${-l}px`):d==="top"?(T=o?f:`${p}px`,x=`${r.floating.height+l}px`):d==="right"?(T=`${-l}px`,x=o?f:`${g}px`):d==="left"&&(T=`${r.floating.width+l}px`,x=o?f:`${g}px`),{data:{x:T,y:x}}}});function nk(t){const[e,n="center"]=t.split("-");return[e,n]}var rk=YI,sk=ZI,ik=JI,ok=tk,[Mp,tq]=Ta("Tooltip",[Dp]),Vp=Dp(),ak="TooltipProvider",u4=700,By="tooltip.open",[d4,G_]=Mp(ak),lk=t=>{const{__scopeTooltip:e,delayDuration:n=u4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),c.jsx(d4,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(d=>{a.current=d},[]),disableHoverableContent:s,children:i})};lk.displayName=ak;var Fu="Tooltip",[h4,Lp]=Mp(Fu),ck=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=G_(Fu,t.__scopeTooltip),d=Vp(e),[h,f]=m.useState(null),p=na(),g=m.useRef(0),T=o??l.disableHoverableContent,x=a??l.delayDuration,_=m.useRef(!1),[w,y]=Ml({prop:r,defaultProp:s??!1,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(By))):l.onClose(),i==null||i(C)},caller:Fu}),E=m.useMemo(()=>w?_.current?"delayed-open":"instant-open":"closed",[w]),I=m.useCallback(()=>{window.clearTimeout(g.current),g.current=0,_.current=!1,y(!0)},[y]),D=m.useCallback(()=>{window.clearTimeout(g.current),g.current=0,y(!1)},[y]),j=m.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{_.current=!0,y(!0),g.current=0},x)},[x,y]);return m.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),c.jsx(rk,{...d,children:c.jsx(h4,{scope:e,contentId:p,open:w,stateAttribute:E,trigger:h,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayedRef.current?j():I()},[l.isOpenDelayedRef,j,I]),onTriggerLeave:m.useCallback(()=>{T?D():(window.clearTimeout(g.current),g.current=0)},[D,T]),onOpen:I,onClose:D,disableHoverableContent:T,children:n})})};ck.displayName=Fu;var zy="TooltipTrigger",uk=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Lp(zy,n),i=G_(zy,n),o=Vp(n),a=m.useRef(null),l=vt(e,a,s.onTriggerChange),d=m.useRef(!1),h=m.useRef(!1),f=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(sk,{asChild:!0,...o,children:c.jsx(Be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Ve(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ve(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Ve(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ve(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:Ve(t.onBlur,s.onClose),onClick:Ve(t.onClick,s.onClose)})})});uk.displayName=zy;var f4="TooltipPortal",[nq,p4]=Mp(f4,{forceMount:void 0}),Ll="TooltipContent",dk=m.forwardRef((t,e)=>{const n=p4(Ll,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Lp(Ll,t.__scopeTooltip);return c.jsx(Sa,{present:r||o.open,children:o.disableHoverableContent?c.jsx(hk,{side:s,...i,ref:e}):c.jsx(m4,{side:s,...i,ref:e})})}),m4=m.forwardRef((t,e)=>{const n=Lp(Ll,t.__scopeTooltip),r=G_(Ll,t.__scopeTooltip),s=m.useRef(null),i=vt(e,s),[o,a]=m.useState(null),{trigger:l,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,p=m.useCallback(()=>{a(null),f(!1)},[f]),g=m.useCallback((T,x)=>{const _=T.currentTarget,w={x:T.clientX,y:T.clientY},y=w4(w,_.getBoundingClientRect()),E=x4(w,y),I=E4(x.getBoundingClientRect()),D=T4([...E,...I]);a(D),f(!0)},[f]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&h){const T=_=>g(_,h),x=_=>g(_,l);return l.addEventListener("pointerleave",T),h.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",T),h.removeEventListener("pointerleave",x)}}},[l,h,g,p]),m.useEffect(()=>{if(o){const T=x=>{const _=x.target,w={x:x.clientX,y:x.clientY},y=(l==null?void 0:l.contains(_))||(h==null?void 0:h.contains(_)),E=!b4(w,o);y?p():E&&(p(),d())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,h,o,d,p]),c.jsx(hk,{...t,ref:i})}),[g4,y4]=Mp(Fu,{isInside:!1}),v4=ED("TooltipContent"),hk=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Lp(Ll,n),d=Vp(n),{onClose:h}=l;return m.useEffect(()=>(document.addEventListener(By,h),()=>document.removeEventListener(By,h)),[h]),m.useEffect(()=>{if(l.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),c.jsx(ld,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:c.jsxs(ik,{"data-state":l.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(v4,{children:r}),c.jsx(g4,{scope:n,isInside:!0,children:c.jsx(WD,{id:l.contentId,role:"tooltip",children:s||r})})]})})});dk.displayName=Ll;var fk="TooltipArrow",_4=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Vp(n);return y4(fk,n).isInside?null:c.jsx(ok,{...s,...r,ref:e})});_4.displayName=fk;function w4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function x4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function E4(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function b4(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],d=a.x,h=a.y,f=l.x,p=l.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(s=!s)}return s}function T4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),S4(e)}function S4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var C4=lk,I4=ck,k4=uk,pk=dk;const mk=C4,A4=I4,N4=k4,gk=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(pk,{ref:r,sideOffset:e,className:pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));gk.displayName=pk.displayName;var Fp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Up=typeof window>"u"||"Deno"in globalThis;function Vr(){}function P4(t,e){return typeof t=="function"?t(e):t}function R4(t){return typeof t=="number"&&t>=0&&t!==1/0}function j4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wy(t,e){return typeof t=="function"?t(e):t}function O4(t,e){return typeof t=="function"?t(e):t}function BE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==K_(o,e.options))return!1}else if(!$u(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function zE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Uu(e.options.mutationKey)!==Uu(i))return!1}else if(!$u(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function K_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Uu)(t)}function Uu(t){return JSON.stringify(t,(e,n)=>Hy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function $u(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>$u(t[n],e[n])):!1}function yk(t,e){if(t===e)return t;const n=WE(t)&&WE(e);if(n||Hy(t)&&Hy(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let d=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,d++):(a[f]=yk(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&d++)}return s===o&&d===s?t:a}return e}function WE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hy(t){if(!HE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!HE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function HE(t){return Object.prototype.toString.call(t)==="[object Object]"}function D4(t){return new Promise(e=>{setTimeout(e,t)})}function M4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?yk(t,e):e}function V4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function L4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Q_=Symbol();function vk(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Q_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ko,Oi,wl,ET,F4=(ET=class extends Fp{constructor(){super();it(this,Ko);it(this,Oi);it(this,wl);Me(this,wl,e=>{if(!Up&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){G(this,Oi)||this.setEventListener(G(this,wl))}onUnsubscribe(){var e;this.hasListeners()||((e=G(this,Oi))==null||e.call(this),Me(this,Oi,void 0))}setEventListener(e){var n;Me(this,wl,e),(n=G(this,Oi))==null||n.call(this),Me(this,Oi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){G(this,Ko)!==e&&(Me(this,Ko,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof G(this,Ko)=="boolean"?G(this,Ko):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ko=new WeakMap,Oi=new WeakMap,wl=new WeakMap,ET),_k=new F4,xl,Di,El,bT,U4=(bT=class extends Fp{constructor(){super();it(this,xl,!0);it(this,Di);it(this,El);Me(this,El,e=>{if(!Up&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){G(this,Di)||this.setEventListener(G(this,El))}onUnsubscribe(){var e;this.hasListeners()||((e=G(this,Di))==null||e.call(this),Me(this,Di,void 0))}setEventListener(e){var n;Me(this,El,e),(n=G(this,Di))==null||n.call(this),Me(this,Di,e(this.setOnline.bind(this)))}setOnline(e){G(this,xl)!==e&&(Me(this,xl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return G(this,xl)}},xl=new WeakMap,Di=new WeakMap,El=new WeakMap,bT),Af=new U4;function $4(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function B4(t){return Math.min(1e3*2**t,3e4)}function wk(t){return(t??"online")==="online"?Af.isOnline():!0}var xk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function yg(t){return t instanceof xk}function Ek(t){let e=!1,n=0,r=!1,s;const i=$4(),o=x=>{var _;r||(p(new xk(x)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},d=()=>_k.isFocused()&&(t.networkMode==="always"||Af.isOnline())&&t.canRun(),h=()=>wk(t.networkMode)&&t.canRun(),f=x=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,x),s==null||s(),i.resolve(x))},p=x=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,x),s==null||s(),i.reject(x))},g=()=>new Promise(x=>{var _;s=w=>{(r||d())&&x(w)},(_=t.onPause)==null||_.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),T=()=>{if(r)return;let x;const _=n===0?t.initialPromise:void 0;try{x=_??t.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(f).catch(w=>{var j;if(r)return;const y=t.retry??(Up?0:3),E=t.retryDelay??B4,I=typeof E=="function"?E(n,w):E,D=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,w);if(e||!D){p(w);return}n++,(j=t.onFail)==null||j.call(t,n,w),D4(I).then(()=>d()?void 0:g()).then(()=>{e?p(w):T()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?T():g().then(T),i)}}var z4=t=>setTimeout(t,0);function W4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=z4;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Fn=W4(),Qo,TT,bk=(TT=class{constructor(){it(this,Qo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),R4(this.gcTime)&&Me(this,Qo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Up?1/0:5*60*1e3))}clearGcTimeout(){G(this,Qo)&&(clearTimeout(G(this,Qo)),Me(this,Qo,void 0))}},Qo=new WeakMap,TT),bl,Yo,_r,Xo,Nn,td,Zo,Lr,js,ST,H4=(ST=class extends bk{constructor(n){super();it(this,Lr);it(this,bl);it(this,Yo);it(this,_r);it(this,Xo);it(this,Nn);it(this,td);it(this,Zo);Me(this,Zo,!1),Me(this,td,n.defaultOptions),this.setOptions(n.options),this.observers=[],Me(this,Xo,n.client),Me(this,_r,G(this,Xo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Me(this,bl,G4(this.options)),this.state=n.state??G(this,bl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=G(this,Nn))==null?void 0:n.promise}setOptions(n){this.options={...G(this,td),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,_r).remove(this)}setData(n,r){const s=M4(this.state.data,n,this.options);return Cn(this,Lr,js).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Cn(this,Lr,js).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=G(this,Nn))==null?void 0:s.promise;return(i=G(this,Nn))==null||i.cancel(n),r?r.then(Vr).catch(Vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,bl))}isActive(){return this.observers.some(n=>O4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Q_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Wy(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!j4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=G(this,Nn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=G(this,Nn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),G(this,_r).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(G(this,Nn)&&(G(this,Zo)?G(this,Nn).cancel({revert:!0}):G(this,Nn).cancelRetry()),this.scheduleGc()),G(this,_r).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Cn(this,Lr,js).call(this,{type:"invalidate"})}fetch(n,r){var h,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(G(this,Nn))return G(this,Nn).continueRetry(),G(this,Nn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(T=>T.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Me(this,Zo,!0),s.signal)})},o=()=>{const g=vk(this.options,r),x=(()=>{const _={client:G(this,Xo),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return Me(this,Zo,!1),this.options.persister?this.options.persister(g,x,this):g(x)},l=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:G(this,Xo),state:this.state,fetchFn:o};return i(g),g})();(h=this.options.behavior)==null||h.onFetch(l,this),Me(this,Yo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Cn(this,Lr,js).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const d=g=>{var T,x,_,w;yg(g)&&g.silent||Cn(this,Lr,js).call(this,{type:"error",error:g}),yg(g)||((x=(T=G(this,_r).config).onError)==null||x.call(T,g,this),(w=(_=G(this,_r).config).onSettled)==null||w.call(_,this.state.data,g,this)),this.scheduleGc()};return Me(this,Nn,Ek({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var T,x,_,w;if(g===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(y){d(y);return}(x=(T=G(this,_r).config).onSuccess)==null||x.call(T,g,this),(w=(_=G(this,_r).config).onSettled)==null||w.call(_,g,this.state.error,this),this.scheduleGc()},onError:d,onFail:(g,T)=>{Cn(this,Lr,js).call(this,{type:"failed",failureCount:g,error:T})},onPause:()=>{Cn(this,Lr,js).call(this,{type:"pause"})},onContinue:()=>{Cn(this,Lr,js).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),G(this,Nn).start()}},bl=new WeakMap,Yo=new WeakMap,_r=new WeakMap,Xo=new WeakMap,Nn=new WeakMap,td=new WeakMap,Zo=new WeakMap,Lr=new WeakSet,js=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...q4(s.data,this.options),fetchMeta:n.meta??null};case"success":return Me(this,Yo,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return yg(i)&&i.revert&&G(this,Yo)?{...G(this,Yo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Fn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),G(this,_r).notify({query:this,type:"updated",action:n})})},ST);function q4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function G4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var as,CT,K4=(CT=class extends Fp{constructor(e={}){super();it(this,as);this.config=e,Me(this,as,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??K_(s,n);let o=this.get(i);return o||(o=new H4({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){G(this,as).has(e.queryHash)||(G(this,as).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=G(this,as).get(e.queryHash);n&&(e.destroy(),n===e&&G(this,as).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Fn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return G(this,as).get(e)}getAll(){return[...G(this,as).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>BE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>BE(e,r)):n}notify(e){Fn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Fn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Fn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},as=new WeakMap,CT),ls,Mn,Jo,cs,bi,IT,Q4=(IT=class extends bk{constructor(n){super();it(this,cs);it(this,ls);it(this,Mn);it(this,Jo);this.mutationId=n.mutationId,Me(this,Mn,n.mutationCache),Me(this,ls,[]),this.state=n.state||Y4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){G(this,ls).includes(n)||(G(this,ls).push(n),this.clearGcTimeout(),G(this,Mn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Me(this,ls,G(this,ls).filter(r=>r!==n)),this.scheduleGc(),G(this,Mn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){G(this,ls).length||(this.state.status==="pending"?this.scheduleGc():G(this,Mn).remove(this))}continue(){var n;return((n=G(this,Jo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,d,h,f,p,g,T,x,_,w,y,E,I,D,j,C,S,k;const r=()=>{Cn(this,cs,bi).call(this,{type:"continue"})};Me(this,Jo,Ek({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{Cn(this,cs,bi).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{Cn(this,cs,bi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,Mn).canRun(this)}));const s=this.state.status==="pending",i=!G(this,Jo).canStart();try{if(s)r();else{Cn(this,cs,bi).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=G(this,Mn).config).onMutate)==null?void 0:a.call(o,n,this));const O=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,n));O!==this.state.context&&Cn(this,cs,bi).call(this,{type:"pending",context:O,variables:n,isPaused:i})}const P=await G(this,Jo).start();return await((f=(h=G(this,Mn).config).onSuccess)==null?void 0:f.call(h,P,n,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,P,n,this.state.context)),await((x=(T=G(this,Mn).config).onSettled)==null?void 0:x.call(T,P,null,this.state.variables,this.state.context,this)),await((w=(_=this.options).onSettled)==null?void 0:w.call(_,P,null,n,this.state.context)),Cn(this,cs,bi).call(this,{type:"success",data:P}),P}catch(P){try{throw await((E=(y=G(this,Mn).config).onError)==null?void 0:E.call(y,P,n,this.state.context,this)),await((D=(I=this.options).onError)==null?void 0:D.call(I,P,n,this.state.context)),await((C=(j=G(this,Mn).config).onSettled)==null?void 0:C.call(j,void 0,P,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,P,n,this.state.context)),P}finally{Cn(this,cs,bi).call(this,{type:"error",error:P})}}finally{G(this,Mn).runNext(this)}}},ls=new WeakMap,Mn=new WeakMap,Jo=new WeakMap,cs=new WeakSet,bi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Fn.batch(()=>{G(this,ls).forEach(s=>{s.onMutationUpdate(n)}),G(this,Mn).notify({mutation:this,type:"updated",action:n})})},IT);function Y4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ms,Fr,nd,kT,X4=(kT=class extends Fp{constructor(e={}){super();it(this,Ms);it(this,Fr);it(this,nd);this.config=e,Me(this,Ms,new Set),Me(this,Fr,new Map),Me(this,nd,0)}build(e,n,r){const s=new Q4({mutationCache:this,mutationId:++Wd(this,nd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){G(this,Ms).add(e);const n=hh(e);if(typeof n=="string"){const r=G(this,Fr).get(n);r?r.push(e):G(this,Fr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(G(this,Ms).delete(e)){const n=hh(e);if(typeof n=="string"){const r=G(this,Fr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&G(this,Fr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=hh(e);if(typeof n=="string"){const r=G(this,Fr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=hh(e);if(typeof n=="string"){const s=(r=G(this,Fr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Fn.batch(()=>{G(this,Ms).forEach(e=>{this.notify({type:"removed",mutation:e})}),G(this,Ms).clear(),G(this,Fr).clear()})}getAll(){return Array.from(G(this,Ms))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>zE(n,r))}findAll(e={}){return this.getAll().filter(n=>zE(e,n))}notify(e){Fn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Fn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Vr))))}},Ms=new WeakMap,Fr=new WeakMap,nd=new WeakMap,kT);function hh(t){var e;return(e=t.options.scope)==null?void 0:e.id}function qE(t){return{onFetch:(e,n)=>{var h,f,p,g,T;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const d=async()=>{let x=!1;const _=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},w=vk(e.options,e.fetchOptions),y=async(E,I,D)=>{if(x)return Promise.reject();if(I==null&&E.pages.length)return Promise.resolve(E);const C=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:I,direction:D?"backward":"forward",meta:e.options.meta};return _(O),O})(),S=await w(C),{maxPages:k}=e.options,P=D?L4:V4;return{pages:P(E.pages,S,k),pageParams:P(E.pageParams,I,k)}};if(s&&i.length){const E=s==="backward",I=E?Z4:GE,D={pages:i,pageParams:o},j=I(r,D);a=await y(D,j,E)}else{const E=t??i.length;do{const I=l===0?o[0]??r.initialPageParam:GE(r,a);if(l>0&&I==null)break;a=await y(a,I),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var x,_;return(_=(x=e.options).persister)==null?void 0:_.call(x,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function GE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Z4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ft,Mi,Vi,Tl,Sl,Li,Cl,Il,AT,J4=(AT=class{constructor(t={}){it(this,Ft);it(this,Mi);it(this,Vi);it(this,Tl);it(this,Sl);it(this,Li);it(this,Cl);it(this,Il);Me(this,Ft,t.queryCache||new K4),Me(this,Mi,t.mutationCache||new X4),Me(this,Vi,t.defaultOptions||{}),Me(this,Tl,new Map),Me(this,Sl,new Map),Me(this,Li,0)}mount(){Wd(this,Li)._++,G(this,Li)===1&&(Me(this,Cl,_k.subscribe(async t=>{t&&(await this.resumePausedMutations(),G(this,Ft).onFocus())})),Me(this,Il,Af.subscribe(async t=>{t&&(await this.resumePausedMutations(),G(this,Ft).onOnline())})))}unmount(){var t,e;Wd(this,Li)._--,G(this,Li)===0&&((t=G(this,Cl))==null||t.call(this),Me(this,Cl,void 0),(e=G(this,Il))==null||e.call(this),Me(this,Il,void 0))}isFetching(t){return G(this,Ft).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return G(this,Mi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=G(this,Ft).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=G(this,Ft).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Wy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return G(this,Ft).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=G(this,Ft).get(r.queryHash),i=s==null?void 0:s.state.data,o=P4(e,i);if(o!==void 0)return G(this,Ft).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Fn.batch(()=>G(this,Ft).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=G(this,Ft).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=G(this,Ft);Fn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=G(this,Ft);return Fn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Fn.batch(()=>G(this,Ft).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Vr).catch(Vr)}invalidateQueries(t,e={}){return Fn.batch(()=>(G(this,Ft).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Fn.batch(()=>G(this,Ft).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Vr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Vr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=G(this,Ft).build(this,e);return n.isStaleByTime(Wy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vr).catch(Vr)}fetchInfiniteQuery(t){return t.behavior=qE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vr).catch(Vr)}ensureInfiniteQueryData(t){return t.behavior=qE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Af.isOnline()?G(this,Mi).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,Ft)}getMutationCache(){return G(this,Mi)}getDefaultOptions(){return G(this,Vi)}setDefaultOptions(t){Me(this,Vi,t)}setQueryDefaults(t,e){G(this,Tl).set(Uu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...G(this,Tl).values()],n={};return e.forEach(r=>{$u(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){G(this,Sl).set(Uu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...G(this,Sl).values()],n={};return e.forEach(r=>{$u(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...G(this,Vi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=K_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Q_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...G(this,Vi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){G(this,Ft).clear(),G(this,Mi).clear()}},Ft=new WeakMap,Mi=new WeakMap,Vi=new WeakMap,Tl=new WeakMap,Sl=new WeakMap,Li=new WeakMap,Cl=new WeakMap,Il=new WeakMap,AT),eF=m.createContext(void 0),tF=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(eF.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bu.apply(this,arguments)}var $i;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($i||($i={}));const KE="popstate";function nF(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return qy("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Nf(s)}return sF(e,n,null,t)}function Ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rF(){return Math.random().toString(36).substr(2,8)}function QE(t,e){return{usr:t.state,key:t.key,idx:e}}function qy(t,e,n,r){return n===void 0&&(n=null),Bu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ac(e):e,{state:n,key:e&&e.key||r||rF()})}function Nf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ac(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function sF(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=$i.Pop,l=null,d=h();d==null&&(d=0,o.replaceState(Bu({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=$i.Pop;let _=h(),w=_==null?null:_-d;d=_,l&&l({action:a,location:x.location,delta:w})}function p(_,w){a=$i.Push;let y=qy(x.location,_,w);d=h()+1;let E=QE(y,d),I=x.createHref(y);try{o.pushState(E,"",I)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(I)}i&&l&&l({action:a,location:x.location,delta:1})}function g(_,w){a=$i.Replace;let y=qy(x.location,_,w);d=h();let E=QE(y,d),I=x.createHref(y);o.replaceState(E,"",I),i&&l&&l({action:a,location:x.location,delta:0})}function T(_){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof _=="string"?_:Nf(_);return y=y.replace(/ $/,"%20"),Ot(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let x={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(KE,f),l=_,()=>{s.removeEventListener(KE,f),l=null}},createHref(_){return e(s,_)},createURL:T,encodeLocation(_){let w=T(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(_){return o.go(_)}};return x}var YE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(YE||(YE={}));function iF(t,e,n){return n===void 0&&(n="/"),oF(t,e,n,!1)}function oF(t,e,n,r){let s=typeof e=="string"?ac(e):e,i=Fl(s.pathname||"/",n);if(i==null)return null;let o=Sk(t);aF(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=vF(i);a=gF(o[l],d,r)}return a}function Sk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=Zi([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(Ot(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Sk(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:pF(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Ck(i.path))s(i,o,l)}),e}function Ck(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Ck(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function aF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lF=/^:[\w-]+$/,cF=3,uF=2,dF=1,hF=10,fF=-2,XE=t=>t==="*";function pF(t,e){let n=t.split("/"),r=n.length;return n.some(XE)&&(r+=fF),e&&(r+=uF),n.filter(s=>!XE(s)).reduce((s,i)=>s+(lF.test(i)?cF:i===""?dF:hF),r)}function mF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function gF(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Pf({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),p=l.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Pf({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Zi([i,f.pathname]),pathnameBase:EF(Zi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Zi([i,f.pathnameBase]))}return o}function Pf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=yF(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let x=a[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const T=a[f];return g&&!T?d[p]=void 0:d[p]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function yF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Tk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function vF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _F(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ac(t):t;return{pathname:n?n.startsWith("/")?n:wF(n,e):e,search:bF(r),hash:TF(s)}}function wF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Y_(t,e){let n=xF(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function X_(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ac(t):(s=Bu({},t),Ot(!s.pathname||!s.pathname.includes("?"),vg("?","pathname","search",s)),Ot(!s.pathname||!s.pathname.includes("#"),vg("#","pathname","hash",s)),Ot(!s.search||!s.search.includes("#"),vg("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=_F(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}const Zi=t=>t.join("/").replace(/\/\/+/g,"/"),EF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ik=["post","put","patch","delete"];new Set(Ik);const CF=["get",...Ik];new Set(CF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zu.apply(this,arguments)}const $p=m.createContext(null),kk=m.createContext(null),oi=m.createContext(null),Bp=m.createContext(null),Co=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Ak=m.createContext(null);function IF(t,e){let{relative:n}=e===void 0?{}:e;lc()||Ot(!1);let{basename:r,navigator:s}=m.useContext(oi),{hash:i,pathname:o,search:a}=zp(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Zi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function lc(){return m.useContext(Bp)!=null}function ai(){return lc()||Ot(!1),m.useContext(Bp).location}function Nk(t){m.useContext(oi).static||m.useLayoutEffect(t)}function fd(){let{isDataRoute:t}=m.useContext(Co);return t?UF():kF()}function kF(){lc()||Ot(!1);let t=m.useContext($p),{basename:e,future:n,navigator:r}=m.useContext(oi),{matches:s}=m.useContext(Co),{pathname:i}=ai(),o=JSON.stringify(Y_(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return Nk(()=>{a.current=!0}),m.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let f=X_(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Zi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function zp(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(oi),{matches:s}=m.useContext(Co),{pathname:i}=ai(),o=JSON.stringify(Y_(s,r.v7_relativeSplatPath));return m.useMemo(()=>X_(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function AF(t,e){return NF(t,e)}function NF(t,e,n,r){lc()||Ot(!1);let{navigator:s}=m.useContext(oi),{matches:i}=m.useContext(Co),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=ai(),h;if(e){var f;let _=typeof e=="string"?ac(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||Ot(!1),h=_}else h=d;let p=h.pathname||"/",g=p;if(l!=="/"){let _=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let T=iF(t,{pathname:g}),x=DF(T&&T.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Zi([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Zi([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&x?m.createElement(Bp.Provider,{value:{location:zu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:$i.Pop}},x):x}function PF(){let t=FF(),e=SF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const RF=m.createElement(PF,null);class jF extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Co.Provider,{value:this.props.routeContext},m.createElement(Ak.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OF(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext($p);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Co.Provider,{value:e},r)}function DF(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Ot(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:g}=n,T=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||T){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let g,T=!1,x=null,_=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||RF,l&&(d<0&&p===0?(T=!0,_=null):d===p&&(T=!0,_=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),y=()=>{let E;return g?E=x:T?E=_:f.route.Component?E=m.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,m.createElement(OF,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?m.createElement(jF,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var Pk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Pk||{}),Rf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rf||{});function MF(t){let e=m.useContext($p);return e||Ot(!1),e}function VF(t){let e=m.useContext(kk);return e||Ot(!1),e}function LF(t){let e=m.useContext(Co);return e||Ot(!1),e}function Rk(t){let e=LF(),n=e.matches[e.matches.length-1];return n.route.id||Ot(!1),n.route.id}function FF(){var t;let e=m.useContext(Ak),n=VF(Rf.UseRouteError),r=Rk(Rf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function UF(){let{router:t}=MF(Pk.UseNavigateStable),e=Rk(Rf.UseNavigateStable),n=m.useRef(!1);return Nk(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,zu({fromRouteId:e},i)))},[t,e])}function $F(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Gy(t){let{to:e,replace:n,state:r,relative:s}=t;lc()||Ot(!1);let{future:i,static:o}=m.useContext(oi),{matches:a}=m.useContext(Co),{pathname:l}=ai(),d=fd(),h=X_(e,Y_(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(h);return m.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function on(t){Ot(!1)}function BF(t){let{basename:e="/",children:n=null,location:r,navigationType:s=$i.Pop,navigator:i,static:o=!1,future:a}=t;lc()&&Ot(!1);let l=e.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:l,navigator:i,static:o,future:zu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ac(r));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:T="default"}=r,x=m.useMemo(()=>{let _=Fl(h,l);return _==null?null:{location:{pathname:_,search:f,hash:p,state:g,key:T},navigationType:s}},[l,h,f,p,g,T,s]);return x==null?null:m.createElement(oi.Provider,{value:d},m.createElement(Bp.Provider,{children:n,value:x}))}function Z_(t){let{children:e,location:n}=t;return AF(Ky(e),n)}new Promise(()=>{});function Ky(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let i=[...e,s];if(r.type===m.Fragment){n.push.apply(n,Ky(r.props.children,i));return}r.type!==on&&Ot(!1),!r.props.index||!r.props.children||Ot(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ky(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jf(){return jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jf.apply(this,arguments)}function jk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function zF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WF(t,e){return t.button===0&&(!e||e==="_self")&&!zF(t)}const HF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qF=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],GF="6";try{window.__reactRouterVersion=GF}catch{}const KF=m.createContext({isTransitioning:!1}),QF="startTransition",ZE=$v[QF];function YF(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=nF({window:s,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=m.useCallback(f=>{d&&ZE?ZE(()=>l(f)):l(f)},[l,d]);return m.useLayoutEffect(()=>o.listen(h),[o,h]),m.useEffect(()=>$F(r),[r]),m.createElement(BF,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const XF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:d,preventScrollReset:h,viewTransition:f}=e,p=jk(e,HF),{basename:g}=m.useContext(oi),T,x=!1;if(typeof d=="string"&&ZF.test(d)&&(T=d,XF))try{let E=new URL(window.location.href),I=d.startsWith("//")?new URL(E.protocol+d):new URL(d),D=Fl(I.pathname,g);I.origin===E.origin&&D!=null?d=D+I.search+I.hash:x=!0}catch{}let _=IF(d,{relative:s}),w=t6(d,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function y(E){r&&r(E),E.defaultPrevented||w(E)}return m.createElement("a",jf({},p,{href:T||_,onClick:x||i?r:y,ref:n,target:l}))}),JF=m.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:d,children:h}=e,f=jk(e,qF),p=zp(l,{relative:f.relative}),g=ai(),T=m.useContext(kk),{navigator:x,basename:_}=m.useContext(oi),w=T!=null&&n6(p)&&d===!0,y=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,E=g.pathname,I=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;s||(E=E.toLowerCase(),I=I?I.toLowerCase():null,y=y.toLowerCase()),I&&_&&(I=Fl(I,_)||I);const D=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let j=E===y||!o&&E.startsWith(y)&&E.charAt(D)==="/",C=I!=null&&(I===y||!o&&I.startsWith(y)&&I.charAt(y.length)==="/"),S={isActive:j,isPending:C,isTransitioning:w},k=j?r:void 0,P;typeof i=="function"?P=i(S):P=[i,j?"active":null,C?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(S):a;return m.createElement(mt,jf({},f,{"aria-current":k,className:P,ref:n,style:O,to:l,viewTransition:d}),typeof h=="function"?h(S):h)});var Qy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qy||(Qy={}));var JE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(JE||(JE={}));function e6(t){let e=m.useContext($p);return e||Ot(!1),e}function t6(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=fd(),d=ai(),h=zp(t,{relative:o});return m.useCallback(f=>{if(WF(f,n)){f.preventDefault();let p=r!==void 0?r:Nf(d)===Nf(h);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,l,h,r,s,n,t,i,o,a])}function n6(t,e){e===void 0&&(e={});let n=m.useContext(KF);n==null&&Ot(!1);let{basename:r}=e6(Qy.useViewTransitionState),s=zp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Fl(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Fl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pf(s.pathname,o)!=null||Pf(s.pathname,i)!=null}const r6=()=>{};var e1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},s6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Dk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,g=d&63;l||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ok(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):s6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new i6;const p=i<<2|a>>4;if(r.push(p),d!==64){const g=a<<4&240|d>>2;if(r.push(g),f!==64){const T=d<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class i6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o6=function(t){const e=Ok(t);return Dk.encodeByteArray(e,!0)},Of=function(t){return o6(t).replace(/\./g,"")},Mk=function(t){try{return Dk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=()=>a6().__FIREBASE_DEFAULTS__,c6=()=>{if(typeof process>"u"||typeof e1>"u")return;const t=e1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},u6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Mk(t[1]);return e&&JSON.parse(e)},Wp=()=>{try{return r6()||l6()||c6()||u6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vk=t=>{var e,n;return(n=(e=Wp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},d6=t=>{const e=Vk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Lk=()=>{var t;return(t=Wp())===null||t===void 0?void 0:t.config},Fk=t=>{var e;return(e=Wp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Of(JSON.stringify(n)),Of(JSON.stringify(o)),""].join(".")}const du={};function p6(){const t={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?t.emulator.push(e):t.prod.push(e);return t}function m6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let t1=!1;function $k(t,e){if(typeof window>"u"||typeof document>"u"||!cc(window.location.host)||du[t]===e||du[t]||t1)return;du[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=p6().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{t1=!0,o()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=m6(r),g=n("text"),T=document.getElementById(g)||document.createElement("span"),x=n("learnmore"),_=document.getElementById(x)||document.createElement("a"),w=n("preprendIcon"),y=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),h(_,x);const I=d();l(y,w),E.append(y,T,_,I),document.body.appendChild(E)}i?(T.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function y6(){var t;const e=(t=Wp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function w6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x6(){const t=Dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E6(){return!y6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b6(){try{return typeof indexedDB=="object"}catch{return!1}}function T6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6="FirebaseError";class li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=S6,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pd.prototype.create)}}class pd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?C6(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new li(s,a,r)}}function C6(t,e){return t.replace(I6,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const I6=/\{\$([^}]+)}/g;function k6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Js(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(n1(i)&&n1(o)){if(!Js(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function n1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Kc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function A6(t,e){const n=new N6(t,e);return n.subscribe.bind(n)}class N6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");P6(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=_g),s.error===void 0&&(s.error=_g),s.complete===void 0&&(s.complete=_g);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class da{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new h6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O6(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j6(t){return t===Uo?void 0:t}function O6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new R6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const M6={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},V6=Ge.INFO,L6={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},F6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=L6[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class J_{constructor(e){this.name=e,this._logLevel=V6,this._logHandler=F6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const U6=(t,e)=>e.some(n=>t instanceof n);let r1,s1;function $6(){return r1||(r1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B6(){return s1||(s1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bk=new WeakMap,Yy=new WeakMap,zk=new WeakMap,wg=new WeakMap,ew=new WeakMap;function z6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ji(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Bk.set(n,t)}).catch(()=>{}),ew.set(e,t),e}function W6(t){if(Yy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Yy.set(t,e)}let Xy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function H6(t){Xy=t(Xy)}function q6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xg(this),e,...n);return zk.set(r,e.sort?e.sort():[e]),Ji(r)}:B6().includes(t)?function(...e){return t.apply(xg(this),e),Ji(Bk.get(this))}:function(...e){return Ji(t.apply(xg(this),e))}}function G6(t){return typeof t=="function"?q6(t):(t instanceof IDBTransaction&&W6(t),U6(t,$6())?new Proxy(t,Xy):t)}function Ji(t){if(t instanceof IDBRequest)return z6(t);if(wg.has(t))return wg.get(t);const e=G6(t);return e!==t&&(wg.set(t,e),ew.set(e,t)),e}const xg=t=>ew.get(t);function K6(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ji(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ji(o.result),l.oldVersion,l.newVersion,Ji(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const Q6=["get","getKey","getAll","getAllKeys","count"],Y6=["put","add","delete","clear"],Eg=new Map;function i1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Eg.get(e))return Eg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Y6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Q6.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&l.done]))[0]};return Eg.set(e,i),i}H6(t=>({...t,get:(e,n,r)=>i1(e,n)||t.get(e,n,r),has:(e,n)=>!!i1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Z6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zy="@firebase/app",o1="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new J_("@firebase/app"),J6="@firebase/app-compat",e3="@firebase/analytics-compat",t3="@firebase/analytics",n3="@firebase/app-check-compat",r3="@firebase/app-check",s3="@firebase/auth",i3="@firebase/auth-compat",o3="@firebase/database",a3="@firebase/data-connect",l3="@firebase/database-compat",c3="@firebase/functions",u3="@firebase/functions-compat",d3="@firebase/installations",h3="@firebase/installations-compat",f3="@firebase/messaging",p3="@firebase/messaging-compat",m3="@firebase/performance",g3="@firebase/performance-compat",y3="@firebase/remote-config",v3="@firebase/remote-config-compat",_3="@firebase/storage",w3="@firebase/storage-compat",x3="@firebase/firestore",E3="@firebase/ai",b3="@firebase/firestore-compat",T3="firebase",S3="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="[DEFAULT]",C3={[Zy]:"fire-core",[J6]:"fire-core-compat",[t3]:"fire-analytics",[e3]:"fire-analytics-compat",[r3]:"fire-app-check",[n3]:"fire-app-check-compat",[s3]:"fire-auth",[i3]:"fire-auth-compat",[o3]:"fire-rtdb",[a3]:"fire-data-connect",[l3]:"fire-rtdb-compat",[c3]:"fire-fn",[u3]:"fire-fn-compat",[d3]:"fire-iid",[h3]:"fire-iid-compat",[f3]:"fire-fcm",[p3]:"fire-fcm-compat",[m3]:"fire-perf",[g3]:"fire-perf-compat",[y3]:"fire-rc",[v3]:"fire-rc-compat",[_3]:"fire-gcs",[w3]:"fire-gcs-compat",[x3]:"fire-fst",[b3]:"fire-fst-compat",[E3]:"fire-vertex","fire-js":"fire-js",[T3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Map,I3=new Map,ev=new Map;function a1(t,e){try{t.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ul(t){const e=t.name;if(ev.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;ev.set(e,t);for(const n of Df.values())a1(n,t);for(const n of I3.values())a1(n,t);return!0}function tw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ar(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},eo=new pd("app","Firebase",k3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=S3;function Wk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jy,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw eo.create("bad-app-name",{appName:String(s)});if(n||(n=Lk()),!n)throw eo.create("no-options");const i=Df.get(s);if(i){if(Js(n,i.options)&&Js(r,i.config))return i;throw eo.create("duplicate-app",{appName:s})}const o=new D6(s);for(const l of ev.values())o.addComponent(l);const a=new A3(n,r,o);return Df.set(s,a),a}function Hk(t=Jy){const e=Df.get(t);if(!e&&t===Jy&&Lk())return Wk();if(!e)throw eo.create("no-app",{appName:t});return e}function to(t,e,n){var r;let s=(r=C3[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(a.join(" "));return}Ul(new da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="firebase-heartbeat-database",P3=1,Wu="firebase-heartbeat-store";let bg=null;function qk(){return bg||(bg=K6(N3,P3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw eo.create("idb-open",{originalErrorMessage:t.message})})),bg}async function R3(t){try{const n=(await qk()).transaction(Wu),r=await n.objectStore(Wu).get(Gk(t));return await n.done,r}catch(e){if(e instanceof li)ei.warn(e.message);else{const n=eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(n.message)}}}async function l1(t,e){try{const r=(await qk()).transaction(Wu,"readwrite");await r.objectStore(Wu).put(e,Gk(t)),await r.done}catch(n){if(n instanceof li)ei.warn(n.message);else{const r=eo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ei.warn(r.message)}}}function Gk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=1024,O3=30;class D3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=c1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>O3){const o=L3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ei.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=c1(),{heartbeatsToSend:r,unsentEntries:s}=M3(this._heartbeatsCache.heartbeats),i=Of(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ei.warn(n),""}}}function c1(){return new Date().toISOString().substring(0,10)}function M3(t,e=j3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),u1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),u1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class V3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b6()?T6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return l1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return l1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function u1(t){return Of(JSON.stringify({version:2,heartbeats:t})).length}function L3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t){Ul(new da("platform-logger",e=>new X6(e),"PRIVATE")),Ul(new da("heartbeat",e=>new D3(e),"PRIVATE")),to(Zy,o1,t),to(Zy,o1,"esm2017"),to("fire-js","")}F3("");var ds=function(){return ds=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ds.apply(this,arguments)};function gd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function U3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Kk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $3=Kk,Qk=new pd("auth","Firebase",Kk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new J_("@firebase/auth");function B3(t,...e){Mf.logLevel<=Ge.WARN&&Mf.warn(`Auth (${uc}): ${t}`,...e)}function Lh(t,...e){Mf.logLevel<=Ge.ERROR&&Mf.error(`Auth (${uc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,...e){throw rw(t,...e)}function Gr(t,...e){return rw(t,...e)}function nw(t,e,n){const r=Object.assign(Object.assign({},$3()),{[e]:n});return new pd("auth","Firebase",r).create(e,{appName:t.name})}function Hs(t){return nw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z3(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&kr(t,"argument-error"),nw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Qk.create(t,...e)}function be(t,e,...n){if(!t)throw rw(e,...n)}function $s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lh(e),new Error(e)}function ti(t,e){t||$s(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function W3(){return d1()==="http:"||d1()==="https:"}function d1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W3()||_6()||"connection"in navigator)?navigator.onLine:!0}function q3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ti(n>e,"Short delay should be less than long delay!"),this.isMobile=g6()||w6()}get(){return H3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t,e){ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q3=new yd(3e4,6e4);function ci(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Is(t,e,n,r,s={}){return Xk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=md(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:l},i);return v6()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&cc(t.emulatorConfig.host)&&(d.credentials="include"),Yk.fetch()(await Zk(t,t.config.apiHost,n,a),d)})}async function Xk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},G3),e);try{const s=new X3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw fh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fh(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw nw(t,h,d);kr(t,h)}}catch(s){if(s instanceof li)throw s;kr(t,"network-request-failed",{message:String(s)})}}async function vd(t,e,n,r,s={}){const i=await Is(t,e,n,r,s);return"mfaPendingCredential"in i&&kr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Zk(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?sw(t.config,s):`${t.config.apiScheme}://${s}`;return K3.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function Y3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gr(this.auth,"network-request-failed")),Q3.get())})}}function fh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Gr(t,e,r);return s.customData._tokenResponse=n,s}function h1(t){return t!==void 0&&t.enterprise!==void 0}class Z3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Y3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J3(t,e){return Is(t,"GET","/v2/recaptchaConfig",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e5(t,e){return Is(t,"POST","/v1/accounts:delete",e)}async function Vf(t,e){return Is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t5(t,e=!1){const n=Mt(t),r=await n.getIdToken(e),s=iw(r);be(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:hu(Tg(s.auth_time)),issuedAtTime:hu(Tg(s.iat)),expirationTime:hu(Tg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Tg(t){return Number(t)*1e3}function iw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Mk(n);return s?JSON.parse(s):(Lh("Failed to decode base64 JWT payload"),null)}catch(s){return Lh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function f1(t){const e=iw(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof li&&n5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function n5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await $l(t,Vf(n,{idToken:r}));be(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Jk(i.providerUserInfo):[],a=i5(t.providerData,o),l=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new nv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function s5(t){const e=Mt(t);await Lf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Jk(t){return t.map(e=>{var{providerId:n}=e,r=gd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(t,e){const n=await Xk(t,{},async()=>{const r=md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Zk(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&cc(t.emulatorConfig.host)&&(l.credentials="include"),Yk.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a5(t,e){return Is(t,"POST","/v2/accounts:revokeToken",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=f1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await o5(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new fl;return r&&(be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(be(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(be(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return $s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=gd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new nv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await $l(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return t5(this,e)}reload(){return s5(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(Hs(this.auth));const e=await this.getIdToken();return await $l(this,e5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,d,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:I,isAnonymous:D,providerData:j,stsTokenManager:C}=n;be(E&&C,e,"internal-error");const S=fl.fromJSON(this.name,C);be(typeof E=="string",e,"internal-error"),Ei(f,e.name),Ei(p,e.name),be(typeof I=="boolean",e,"internal-error"),be(typeof D=="boolean",e,"internal-error"),Ei(g,e.name),Ei(T,e.name),Ei(x,e.name),Ei(_,e.name),Ei(w,e.name),Ei(y,e.name);const k=new Wr({uid:E,auth:e,email:p,emailVerified:I,displayName:f,isAnonymous:D,photoURL:T,phoneNumber:g,tenantId:x,stsTokenManager:S,createdAt:w,lastLoginAt:y});return j&&Array.isArray(j)&&(k.providerData=j.map(P=>Object.assign({},P))),_&&(k._redirectEventId=_),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new fl;s.updateFromServerResponse(n);const i=new Wr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Lf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];be(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Jk(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new fl;a.updateFromIdToken(r);const l=new Wr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new nv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new Map;function Bs(t){ti(t instanceof Function,"Expected a class definition");let e=p1.get(t);return e?(ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eA.type="NONE";const m1=eA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t,e,n){return`firebase:${t}:${e}:${n}`}class pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Fh(this.userKey,s.apiKey,i),this.fullPersistenceKey=Fh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vf(this.auth,{idToken:e}).catch(()=>{});return n?Wr._fromGetAccountInfoResponse(this.auth,n,e):null}return Wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pl(Bs(m1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Bs(m1);const o=Fh(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const p=await Vf(e,{idToken:h}).catch(()=>{});if(!p)break;f=await Wr._fromGetAccountInfoResponse(e,p,h)}else f=Wr._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new pl(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new pl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oA(e))return"Blackberry";if(aA(e))return"Webos";if(nA(e))return"Safari";if((e.includes("chrome/")||rA(e))&&!e.includes("edge/"))return"Chrome";if(iA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tA(t=Dn()){return/firefox\//i.test(t)}function nA(t=Dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rA(t=Dn()){return/crios\//i.test(t)}function sA(t=Dn()){return/iemobile/i.test(t)}function iA(t=Dn()){return/android/i.test(t)}function oA(t=Dn()){return/blackberry/i.test(t)}function aA(t=Dn()){return/webos/i.test(t)}function ow(t=Dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l5(t=Dn()){var e;return ow(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c5(){return x6()&&document.documentMode===10}function lA(t=Dn()){return ow(t)||iA(t)||aA(t)||oA(t)||/windows phone/i.test(t)||sA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t,e=[]){let n;switch(t){case"Browser":n=g1(Dn());break;case"Worker":n=`${g1(Dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(t,e={}){return Is(t,"GET","/v2/passwordPolicy",ci(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=6;class f5{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:h5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y1(this),this.idTokenSubscription=new y1(this),this.beforeStateQueue=new u5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bs(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await pl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vf(this,{idToken:e}),r=await Wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ar(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(Hs(this));const n=e?Mt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d5(this),n=new f5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await a5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await pl.create(this,[Bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&B3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ui(t){return Mt(t)}class y1{constructor(e){this.auth=e,this.observer=null,this.addObserver=A6(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m5(t){Hp=t}function uA(t){return Hp.loadJS(t)}function g5(){return Hp.recaptchaEnterpriseScript}function y5(){return Hp.gapiScript}function v5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _5{constructor(){this.enterprise=new w5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class w5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const x5="recaptcha-enterprise",dA="NO_RECAPTCHA";class E5{constructor(e){this.type=x5,this.auth=ui(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{J3(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new Z3(l);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;h1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(dA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _5().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&h1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=g5();l.length!==0&&(l+=a),uA(l).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function v1(t,e,n,r=!1,s=!1){const i=new E5(t);let o;if(s)o=dA;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ff(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await v1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await v1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t,e){const n=tw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Js(i,e??{}))return s;kr(s,"already-initialized")}return n.initialize({options:e})}function T5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function S5(t,e,n){const r=ui(t);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=hA(e),{host:o,port:a}=C5(e),l=a===null?"":`:${a}`,d={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(Js(d,r.config.emulator)&&Js(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,cc(o)?(Uk(`${i}//${o}${l}`),$k("Auth",!0)):I5()}function hA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function C5(t){const e=hA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:_1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:_1(o)}}}function _1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function I5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $s("not implemented")}_getIdTokenResponse(e){return $s("not implemented")}_linkToIdToken(e,n){return $s("not implemented")}_getReauthenticationResolver(e){return $s("not implemented")}}async function k5(t,e){return Is(t,"POST","/v1/accounts:update",e)}async function A5(t,e){return Is(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5(t,e){return vd(t,"POST","/v1/accounts:signInWithPassword",ci(t,e))}async function P5(t,e){return Is(t,"POST","/v1/accounts:sendOobCode",ci(t,e))}async function R5(t,e){return P5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5(t,e){return vd(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}async function O5(t,e){return vd(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends aw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Hu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Hu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ff(e,n,"signInWithPassword",N5);case"emailLink":return j5(e,{email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ff(e,r,"signUpPassword",A5);case"emailLink":return O5(e,{idToken:n,email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e){return vd(t,"POST","/v1/accounts:signInWithIdp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="http://localhost";class ha extends aw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=gd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ha(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ml(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:D5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=md(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V5(t){const e=Gc(Kc(t)).link,n=e?Gc(Kc(e)).deep_link_id:null,r=Gc(Kc(t)).deep_link_id;return(r?Gc(Kc(r)).link:null)||r||n||e||t}class lw{constructor(e){var n,r,s,i,o,a;const l=Gc(Kc(e)),d=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=M5((s=l.mode)!==null&&s!==void 0?s:null);be(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=V5(e);try{return new lw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.providerId=Ca.PROVIDER_ID}static credential(e,n){return Hu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lw.parseLink(n);return be(r,"argument-error"),Hu._fromEmailAndCode(e,r.code,r.tenantId)}}Ca.PROVIDER_ID="password";Ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends cw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends _d{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends _d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vs.credential(n,r)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends _d{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends _d{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ji.credential(n,r)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L5(t,e){return vd(t,"POST","/v1/accounts:signUp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Wr._fromIdTokenResponse(e,r,s),o=w1(r);return new fa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=w1(r);return new fa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function w1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends li{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Uf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Uf(e,n,r,s)}}function fA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Uf._fromErrorAndOperation(t,i,e,r):i})}async function F5(t,e,n=!1){const r=await $l(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(t,e,n=!1){const{auth:r}=t;if(ar(r.app))return Promise.reject(Hs(r));const s="reauthenticate";try{const i=await $l(t,fA(r,s,e,t),n);be(i.idToken,r,"internal-error");const o=iw(i.idToken);be(o,r,"internal-error");const{sub:a}=o;return be(t.uid===a,r,"user-mismatch"),fa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&kr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(t,e,n=!1){if(ar(t.app))return Promise.reject(Hs(t));const r="signIn",s=await fA(t,r,e),i=await fa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function U5(t,e){return mA(ui(t),e)}async function $5(t,e){return pA(Mt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(t){const e=ui(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function B5(t,e,n){const r=ui(t);await Ff(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",R5)}async function z5(t,e,n){if(ar(t.app))return Promise.reject(Hs(t));const r=ui(t),o=await Ff(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",L5).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&gA(t),l}),a=await fa._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function W5(t,e,n){return ar(t.app)?Promise.reject(Hs(t)):U5(Mt(t),Ca.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gA(t),r})}function H5(t,e){return q5(Mt(t),null,e)}async function q5(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const o=await $l(t,k5(r,i));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t,e){return Mt(t).setPersistence(e)}function K5(t,e,n,r){return Mt(t).onIdTokenChanged(e,n,r)}function Q5(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}function Y5(t,e,n,r){return Mt(t).onAuthStateChanged(e,n,r)}function X5(t){return Mt(t).signOut()}const $f="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($f,"1"),this.storage.removeItem($f),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=1e3,J5=10;class vA extends yA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);c5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,J5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Z5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vA.type="LOCAL";const _A=vA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA extends yA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wA.type="SESSION";const xA=wA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new qp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),l=await eU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=uw("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return window}function nU(t){ys().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function rU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iU(){return EA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="firebaseLocalStorageDb",oU=1,Bf="firebaseLocalStorage",TA="fbase_key";class wd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gp(t,e){return t.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function aU(){const t=indexedDB.deleteDatabase(bA);return new wd(t).toPromise()}function rv(){const t=indexedDB.open(bA,oU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bf,{keyPath:TA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bf)?e(r):(r.close(),await aU(),e(await rv()))})})}async function x1(t,e,n){const r=Gp(t,!0).put({[TA]:e,value:n});return new wd(r).toPromise()}async function lU(t,e){const n=Gp(t,!1).get(e),r=await new wd(n).toPromise();return r===void 0?null:r.value}function E1(t,e){const n=Gp(t,!0).delete(e);return new wd(n).toPromise()}const cU=800,uU=3;class SA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qp._getInstance(iU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rU(),!this.activeServiceWorker)return;this.sender=new tU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rv();return await x1(e,$f,"1"),await E1(e,$f),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>x1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>E1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Gp(s,!1).getAll();return new wd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SA.type="LOCAL";const dU=SA;new yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t,e){return e?Bs(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends aw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hU(t){return mA(t.auth,new dw(t),t.bypassAuthState)}function fU(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),pA(n,new dw(t),t.bypassAuthState)}async function pU(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),F5(n,new dw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hU;case"linkViaPopup":case"linkViaRedirect":return pU;case"reauthViaPopup":case"reauthViaRedirect":return fU;default:kr(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=new yd(2e3,1e4);async function gU(t,e,n){if(ar(t.app))return Promise.reject(Gr(t,"operation-not-supported-in-this-environment"));const r=ui(t);z3(t,e,cw);const s=CA(r,n);return new Ho(r,"signInViaPopup",e,s).executeNotNull()}class Ho extends IA{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=uw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mU.get())};e()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="pendingRedirect",Uh=new Map;class vU extends IA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Uh.get(this.auth._key());if(!e){try{const r=await _U(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Uh.set(this.auth._key(),e)}return this.bypassAuthState||Uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _U(t,e){const n=EU(e),r=xU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function wU(t,e){Uh.set(t._key(),e)}function xU(t){return Bs(t._redirectPersistence)}function EU(t){return Fh(yU,t.config.apiKey,t.name)}async function bU(t,e,n=!1){if(ar(t.app))return Promise.reject(Hs(t));const r=ui(t),s=CA(r,e),o=await new vU(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=10*60*1e3;class SU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kA(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TU&&this.cachedEventUids.clear(),this.cachedEventUids.has(b1(e))}saveEventToCache(e){this.cachedEventUids.add(b1(e)),this.lastProcessedEventTime=Date.now()}}function b1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IU(t,e={}){return Is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AU=/^https?/;async function NU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IU(t);for(const n of e)try{if(PU(n))return}catch{}kr(t,"unauthorized-domain")}function PU(t){const e=tv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!AU.test(n))return!1;if(kU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=new yd(3e4,6e4);function T1(){const t=ys().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jU(t){return new Promise((e,n)=>{var r,s,i;function o(){T1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T1(),n(Gr(t,"network-request-failed"))},timeout:RU.get()})}if(!((s=(r=ys().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ys().gapi)===null||i===void 0)&&i.load)o();else{const a=v5("iframefcb");return ys()[a]=()=>{gapi.load?o():n(Gr(t,"network-request-failed"))},uA(`${y5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $h=null,e})}let $h=null;function OU(t){return $h=$h||jU(t),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=new yd(5e3,15e3),MU="__/auth/iframe",VU="emulator/auth/iframe",LU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UU(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sw(e,VU):`https://${t.config.authDomain}/${MU}`,r={apiKey:e.apiKey,appName:t.name,v:uc},s=FU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${md(r).slice(1)}`}async function $U(t){const e=await OU(t),n=ys().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:UU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Gr(t,"network-request-failed"),a=ys().setTimeout(()=>{i(o)},DU.get());function l(){ys().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zU=500,WU=600,HU="_blank",qU="http://localhost";class S1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GU(t,e,n,r=zU,s=WU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},BU),{width:r.toString(),height:s.toString(),top:i,left:o}),d=Dn().toLowerCase();n&&(a=rA(d)?HU:n),tA(d)&&(e=e||qU,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[g,T])=>`${p}${g}=${T},`,"");if(l5(d)&&a!=="_self")return KU(e||"",a),new S1(null);const f=window.open(e||"",a,h);be(f,t,"popup-blocked");try{f.focus()}catch{}return new S1(f)}function KU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU="__/auth/handler",YU="emulator/auth/handler",XU=encodeURIComponent("fac");async function C1(t,e,n,r,s,i){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:uc,eventId:s};if(e instanceof cw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",k6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof _d){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${XU}=${encodeURIComponent(l)}`:"";return`${ZU(t)}?${md(a).slice(1)}${d}`}function ZU({config:t}){return t.emulator?sw(t,YU):`https://${t.authDomain}/${QU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="webStorageSupport";class JU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xA,this._completeRedirectFn=bU,this._overrideRedirectResult=wU}async _openPopup(e,n,r,s){var i;ti((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await C1(e,n,r,tv(),s);return GU(e,o,uw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await C1(e,n,r,tv(),s);return nU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ti(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $U(e),r=new SU(e);return n.register("authEvent",s=>(be(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sg,{type:Sg},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Sg];o!==void 0&&n(!!o),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lA()||nA()||ow()}}const e9=JU;var I1="@firebase/auth",k1="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r9(t){Ul(new da("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cA(t)},d=new p5(r,s,i,l);return T5(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ul(new da("auth-internal",e=>{const n=ui(e.getProvider("auth").getImmediate());return(r=>new t9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),to(I1,k1,n9(t)),to(I1,k1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=5*60,i9=Fk("authIdTokenMaxAge")||s9;let A1=null;const o9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>i9)return;const s=n==null?void 0:n.token;A1!==s&&(A1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function a9(t=Hk()){const e=tw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=b5(t,{popupRedirectResolver:e9,persistence:[dU,_A,xA]}),r=Fk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=o9(i.toString());Q5(n,o,()=>o(n.currentUser)),K5(n,a=>o(a))}}const s=Vk("auth");return s&&S5(n,`http://${s}`),n}function l9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}m5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Gr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",l9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r9("Browser");var N1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var no,AA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function k(){}k.prototype=S.prototype,C.D=S.prototype,C.prototype=new k,C.prototype.constructor=C,C.C=function(P,O,R){for(var A=Array(arguments.length-2),W=2;W<arguments.length;W++)A[W-2]=arguments[W];return S.prototype[O].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,k){k||(k=0);var P=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)P[O]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(O=0;16>O;++O)P[O]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=C.g[0],k=C.g[1],O=C.g[2];var R=C.g[3],A=S+(R^k&(O^R))+P[0]+3614090360&4294967295;S=k+(A<<7&4294967295|A>>>25),A=R+(O^S&(k^O))+P[1]+3905402710&4294967295,R=S+(A<<12&4294967295|A>>>20),A=O+(k^R&(S^k))+P[2]+606105819&4294967295,O=R+(A<<17&4294967295|A>>>15),A=k+(S^O&(R^S))+P[3]+3250441966&4294967295,k=O+(A<<22&4294967295|A>>>10),A=S+(R^k&(O^R))+P[4]+4118548399&4294967295,S=k+(A<<7&4294967295|A>>>25),A=R+(O^S&(k^O))+P[5]+1200080426&4294967295,R=S+(A<<12&4294967295|A>>>20),A=O+(k^R&(S^k))+P[6]+2821735955&4294967295,O=R+(A<<17&4294967295|A>>>15),A=k+(S^O&(R^S))+P[7]+4249261313&4294967295,k=O+(A<<22&4294967295|A>>>10),A=S+(R^k&(O^R))+P[8]+1770035416&4294967295,S=k+(A<<7&4294967295|A>>>25),A=R+(O^S&(k^O))+P[9]+2336552879&4294967295,R=S+(A<<12&4294967295|A>>>20),A=O+(k^R&(S^k))+P[10]+4294925233&4294967295,O=R+(A<<17&4294967295|A>>>15),A=k+(S^O&(R^S))+P[11]+2304563134&4294967295,k=O+(A<<22&4294967295|A>>>10),A=S+(R^k&(O^R))+P[12]+1804603682&4294967295,S=k+(A<<7&4294967295|A>>>25),A=R+(O^S&(k^O))+P[13]+4254626195&4294967295,R=S+(A<<12&4294967295|A>>>20),A=O+(k^R&(S^k))+P[14]+2792965006&4294967295,O=R+(A<<17&4294967295|A>>>15),A=k+(S^O&(R^S))+P[15]+1236535329&4294967295,k=O+(A<<22&4294967295|A>>>10),A=S+(O^R&(k^O))+P[1]+4129170786&4294967295,S=k+(A<<5&4294967295|A>>>27),A=R+(k^O&(S^k))+P[6]+3225465664&4294967295,R=S+(A<<9&4294967295|A>>>23),A=O+(S^k&(R^S))+P[11]+643717713&4294967295,O=R+(A<<14&4294967295|A>>>18),A=k+(R^S&(O^R))+P[0]+3921069994&4294967295,k=O+(A<<20&4294967295|A>>>12),A=S+(O^R&(k^O))+P[5]+3593408605&4294967295,S=k+(A<<5&4294967295|A>>>27),A=R+(k^O&(S^k))+P[10]+38016083&4294967295,R=S+(A<<9&4294967295|A>>>23),A=O+(S^k&(R^S))+P[15]+3634488961&4294967295,O=R+(A<<14&4294967295|A>>>18),A=k+(R^S&(O^R))+P[4]+3889429448&4294967295,k=O+(A<<20&4294967295|A>>>12),A=S+(O^R&(k^O))+P[9]+568446438&4294967295,S=k+(A<<5&4294967295|A>>>27),A=R+(k^O&(S^k))+P[14]+3275163606&4294967295,R=S+(A<<9&4294967295|A>>>23),A=O+(S^k&(R^S))+P[3]+4107603335&4294967295,O=R+(A<<14&4294967295|A>>>18),A=k+(R^S&(O^R))+P[8]+1163531501&4294967295,k=O+(A<<20&4294967295|A>>>12),A=S+(O^R&(k^O))+P[13]+2850285829&4294967295,S=k+(A<<5&4294967295|A>>>27),A=R+(k^O&(S^k))+P[2]+4243563512&4294967295,R=S+(A<<9&4294967295|A>>>23),A=O+(S^k&(R^S))+P[7]+1735328473&4294967295,O=R+(A<<14&4294967295|A>>>18),A=k+(R^S&(O^R))+P[12]+2368359562&4294967295,k=O+(A<<20&4294967295|A>>>12),A=S+(k^O^R)+P[5]+4294588738&4294967295,S=k+(A<<4&4294967295|A>>>28),A=R+(S^k^O)+P[8]+2272392833&4294967295,R=S+(A<<11&4294967295|A>>>21),A=O+(R^S^k)+P[11]+1839030562&4294967295,O=R+(A<<16&4294967295|A>>>16),A=k+(O^R^S)+P[14]+4259657740&4294967295,k=O+(A<<23&4294967295|A>>>9),A=S+(k^O^R)+P[1]+2763975236&4294967295,S=k+(A<<4&4294967295|A>>>28),A=R+(S^k^O)+P[4]+1272893353&4294967295,R=S+(A<<11&4294967295|A>>>21),A=O+(R^S^k)+P[7]+4139469664&4294967295,O=R+(A<<16&4294967295|A>>>16),A=k+(O^R^S)+P[10]+3200236656&4294967295,k=O+(A<<23&4294967295|A>>>9),A=S+(k^O^R)+P[13]+681279174&4294967295,S=k+(A<<4&4294967295|A>>>28),A=R+(S^k^O)+P[0]+3936430074&4294967295,R=S+(A<<11&4294967295|A>>>21),A=O+(R^S^k)+P[3]+3572445317&4294967295,O=R+(A<<16&4294967295|A>>>16),A=k+(O^R^S)+P[6]+76029189&4294967295,k=O+(A<<23&4294967295|A>>>9),A=S+(k^O^R)+P[9]+3654602809&4294967295,S=k+(A<<4&4294967295|A>>>28),A=R+(S^k^O)+P[12]+3873151461&4294967295,R=S+(A<<11&4294967295|A>>>21),A=O+(R^S^k)+P[15]+530742520&4294967295,O=R+(A<<16&4294967295|A>>>16),A=k+(O^R^S)+P[2]+3299628645&4294967295,k=O+(A<<23&4294967295|A>>>9),A=S+(O^(k|~R))+P[0]+4096336452&4294967295,S=k+(A<<6&4294967295|A>>>26),A=R+(k^(S|~O))+P[7]+1126891415&4294967295,R=S+(A<<10&4294967295|A>>>22),A=O+(S^(R|~k))+P[14]+2878612391&4294967295,O=R+(A<<15&4294967295|A>>>17),A=k+(R^(O|~S))+P[5]+4237533241&4294967295,k=O+(A<<21&4294967295|A>>>11),A=S+(O^(k|~R))+P[12]+1700485571&4294967295,S=k+(A<<6&4294967295|A>>>26),A=R+(k^(S|~O))+P[3]+2399980690&4294967295,R=S+(A<<10&4294967295|A>>>22),A=O+(S^(R|~k))+P[10]+4293915773&4294967295,O=R+(A<<15&4294967295|A>>>17),A=k+(R^(O|~S))+P[1]+2240044497&4294967295,k=O+(A<<21&4294967295|A>>>11),A=S+(O^(k|~R))+P[8]+1873313359&4294967295,S=k+(A<<6&4294967295|A>>>26),A=R+(k^(S|~O))+P[15]+4264355552&4294967295,R=S+(A<<10&4294967295|A>>>22),A=O+(S^(R|~k))+P[6]+2734768916&4294967295,O=R+(A<<15&4294967295|A>>>17),A=k+(R^(O|~S))+P[13]+1309151649&4294967295,k=O+(A<<21&4294967295|A>>>11),A=S+(O^(k|~R))+P[4]+4149444226&4294967295,S=k+(A<<6&4294967295|A>>>26),A=R+(k^(S|~O))+P[11]+3174756917&4294967295,R=S+(A<<10&4294967295|A>>>22),A=O+(S^(R|~k))+P[2]+718787259&4294967295,O=R+(A<<15&4294967295|A>>>17),A=k+(R^(O|~S))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+R&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var k=S-this.blockSize,P=this.B,O=this.h,R=0;R<S;){if(O==0)for(;R<=k;)s(this,C,R),R+=this.blockSize;if(typeof C=="string"){for(;R<S;)if(P[O++]=C.charCodeAt(R++),O==this.blockSize){s(this,P),O=0;break}}else for(;R<S;)if(P[O++]=C[R++],O==this.blockSize){s(this,P),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var k=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=k&255,k/=256;for(this.u(C),C=Array(16),S=k=0;4>S;++S)for(var P=0;32>P;P+=8)C[k++]=this.g[S]>>>P&255;return C};function i(C,S){var k=a;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=S(C)}function o(C,S){this.h=S;for(var k=[],P=!0,O=C.length-1;0<=O;O--){var R=C[O]|0;P&&R==S||(k[O]=R,P=!1)}this.g=k}var a={};function l(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return _(d(-C));for(var S=[],k=1,P=0;C>=k;P++)S[P]=C/k|0,k*=4294967296;return new o(S,0)}function h(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return _(h(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(S,8)),P=f,O=0;O<C.length;O+=8){var R=Math.min(8,C.length-O),A=parseInt(C.substring(O,O+R),S);8>R?(R=d(Math.pow(S,R)),P=P.j(R).add(d(A))):(P=P.j(k),P=P.add(d(A)))}return P}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-_(this).m();for(var C=0,S=1,k=0;k<this.g.length;k++){var P=this.i(k);C+=(0<=P?P:4294967296+P)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(T(this))return"0";if(x(this))return"-"+_(this).toString(C);for(var S=d(Math.pow(C,6)),k=this,P="";;){var O=I(k,S).g;k=w(k,O.j(S));var R=((0<k.g.length?k.g[0]:k.h)>>>0).toString(C);if(k=O,T(k))return R+P;for(;6>R.length;)R="0"+R;P=R+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function T(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function x(C){return C.h==-1}t.l=function(C){return C=w(this,C),x(C)?-1:T(C)?0:1};function _(C){for(var S=C.g.length,k=[],P=0;P<S;P++)k[P]=~C.g[P];return new o(k,~C.h).add(p)}t.abs=function(){return x(this)?_(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),k=[],P=0,O=0;O<=S;O++){var R=P+(this.i(O)&65535)+(C.i(O)&65535),A=(R>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);P=A>>>16,R&=65535,A&=65535,k[O]=A<<16|R}return new o(k,k[k.length-1]&-2147483648?-1:0)};function w(C,S){return C.add(_(S))}t.j=function(C){if(T(this)||T(C))return f;if(x(this))return x(C)?_(this).j(_(C)):_(_(this).j(C));if(x(C))return _(this.j(_(C)));if(0>this.l(g)&&0>C.l(g))return d(this.m()*C.m());for(var S=this.g.length+C.g.length,k=[],P=0;P<2*S;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<C.g.length;O++){var R=this.i(P)>>>16,A=this.i(P)&65535,W=C.i(O)>>>16,oe=C.i(O)&65535;k[2*P+2*O]+=A*oe,y(k,2*P+2*O),k[2*P+2*O+1]+=R*oe,y(k,2*P+2*O+1),k[2*P+2*O+1]+=A*W,y(k,2*P+2*O+1),k[2*P+2*O+2]+=R*W,y(k,2*P+2*O+2)}for(P=0;P<S;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=S;P<2*S;P++)k[P]=0;return new o(k,0)};function y(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function E(C,S){this.g=C,this.h=S}function I(C,S){if(T(S))throw Error("division by zero");if(T(C))return new E(f,f);if(x(C))return S=I(_(C),S),new E(_(S.g),_(S.h));if(x(S))return S=I(C,_(S)),new E(_(S.g),S.h);if(30<C.g.length){if(x(C)||x(S))throw Error("slowDivide_ only works with positive integers.");for(var k=p,P=S;0>=P.l(C);)k=D(k),P=D(P);var O=j(k,1),R=j(P,1);for(P=j(P,2),k=j(k,2);!T(P);){var A=R.add(P);0>=A.l(C)&&(O=O.add(k),R=A),P=j(P,1),k=j(k,1)}return S=w(C,O.j(S)),new E(O,S)}for(O=f;0<=C.l(S);){for(k=Math.max(1,Math.floor(C.m()/S.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),R=d(k),A=R.j(S);x(A)||0<A.l(C);)k-=P,R=d(k),A=R.j(S);T(R)&&(R=p),O=O.add(R),C=w(C,A)}return new E(O,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),k=[],P=0;P<S;P++)k[P]=this.i(P)&C.i(P);return new o(k,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),k=[],P=0;P<S;P++)k[P]=this.i(P)|C.i(P);return new o(k,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),k=[],P=0;P<S;P++)k[P]=this.i(P)^C.i(P);return new o(k,this.h^C.h)};function D(C){for(var S=C.g.length+1,k=[],P=0;P<S;P++)k[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(k,C.h)}function j(C,S){var k=S>>5;S%=32;for(var P=C.g.length-k,O=[],R=0;R<P;R++)O[R]=0<S?C.i(R+k)>>>S|C.i(R+k+1)<<32-S:C.i(R+k);return new o(O,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,no=o}).apply(typeof N1<"u"?N1:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NA,Qc,PA,Bh,sv,RA,jA,OA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,b){return u==Array.prototype||u==Object.prototype||(u[v]=b.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(u,v){if(v)e:{var b=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var L=u[N];if(!(L in b))break e;b=b[L]}u=u[u.length-1],N=b[u],v=v(N),v!=N&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}function i(u,v){u instanceof String&&(u+="");var b=0,N=!1,L={next:function(){if(!N&&b<u.length){var z=b++;return{value:v(z,u[z]),done:!1}}return N=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function d(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function h(u,v,b){return u.call.apply(u.bind,arguments)}function f(u,v,b){if(!u)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,N),u.apply(v,L)}}return function(){return u.apply(v,arguments)}}function p(u,v,b){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var N=b.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function T(u,v){function b(){}b.prototype=v.prototype,u.aa=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(N,L,z){for(var ie=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)ie[pt-2]=arguments[pt];return v.prototype[L].apply(N,ie)}}function x(u){const v=u.length;if(0<v){const b=Array(v);for(let N=0;N<v;N++)b[N]=u[N];return b}return[]}function _(u,v){for(let b=1;b<arguments.length;b++){const N=arguments[b];if(l(N)){const L=u.length||0,z=N.length||0;u.length=L+z;for(let ie=0;ie<z;ie++)u[L+ie]=N[ie]}else u.push(N)}}class w{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function y(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function I(u){return I[" "](u),u}I[" "]=function(){};var D=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function j(u,v,b){for(const N in u)v.call(b,u[N],N,u)}function C(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function S(u){const v={};for(const b in u)v[b]=u[b];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,v){let b,N;for(let L=1;L<arguments.length;L++){N=arguments[L];for(b in N)u[b]=N[b];for(let z=0;z<k.length;z++)b=k[z],Object.prototype.hasOwnProperty.call(N,b)&&(u[b]=N[b])}}function O(u){var v=1;u=u.split(":");const b=[];for(;0<v&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function R(u){a.setTimeout(()=>{throw u},0)}function A(){var u=$;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class W{constructor(){this.h=this.g=null}add(v,b){const N=oe.get();N.set(v,b),this.h?this.h.next=N:this.g=N,this.h=N}}var oe=new w(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,U=!1,$=new W,re=()=>{const u=a.Promise.resolve(void 0);ee=()=>{u.then(ge)}};var ge=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(b){R(b)}var v=oe;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}U=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};a.addEventListener("test",b,v),a.removeEventListener("test",b,v)}catch{}return u}();function De(u,v){if(ue.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(D){e:{try{I(v.nodeName);var L=!0;break e}catch{}L=!1}L||(v=null)}}else b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:lt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&De.aa.h.call(this)}}T(De,ue);var lt={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function rt(u,v,b,N,L){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!N,this.ha=L,this.key=++Fe,this.da=this.fa=!1}function ke(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Se(u){this.src=u,this.g={},this.h=0}Se.prototype.add=function(u,v,b,N,L){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var ie=_t(u,v,N,L);return-1<ie?(v=u[ie],b||(v.fa=!1)):(v=new rt(v,this.src,z,!!N,L),v.fa=b,u.push(v)),v};function Ae(u,v){var b=v.type;if(b in u.g){var N=u.g[b],L=Array.prototype.indexOf.call(N,v,void 0),z;(z=0<=L)&&Array.prototype.splice.call(N,L,1),z&&(ke(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function _t(u,v,b,N){for(var L=0;L<u.length;++L){var z=u[L];if(!z.da&&z.listener==v&&z.capture==!!b&&z.ha==N)return L}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),V={};function Ee(u,v,b,N,L){if(Array.isArray(v)){for(var z=0;z<v.length;z++)Ee(u,v[z],b,N,L);return null}return b=Y(b),u&&u[se]?u.K(v,b,d(N)?!!N.capture:!!N,L):Ce(u,v,b,!1,N,L)}function Ce(u,v,b,N,L,z){if(!v)throw Error("Invalid event type");var ie=d(L)?!!L.capture:!!L,pt=te(u);if(pt||(u[fe]=pt=new Se(u)),b=pt.add(v,b,N,ie,z),b.proxy)return b;if(N=bt(),b.proxy=N,N.src=u,N.listener=b,u.addEventListener)we||(L=ie),L===void 0&&(L=!1),u.addEventListener(v.toString(),N,L);else if(u.attachEvent)u.attachEvent(F(v.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return b}function bt(){function u(b){return v.call(u.src,u.listener,b)}const v=B;return u}function He(u,v,b,N,L){if(Array.isArray(v))for(var z=0;z<v.length;z++)He(u,v[z],b,N,L);else N=d(N)?!!N.capture:!!N,b=Y(b),u&&u[se]?(u=u.i,v=String(v).toString(),v in u.g&&(z=u.g[v],b=_t(z,b,N,L),-1<b&&(ke(z[b]),Array.prototype.splice.call(z,b,1),z.length==0&&(delete u.g[v],u.h--)))):u&&(u=te(u))&&(v=u.g[v.toString()],u=-1,v&&(u=_t(v,b,N,L)),(b=-1<u?v[u]:null)&&M(b))}function M(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[se])Ae(v.i,u);else{var b=u.type,N=u.proxy;v.removeEventListener?v.removeEventListener(b,N,u.capture):v.detachEvent?v.detachEvent(F(b),N):v.addListener&&v.removeListener&&v.removeListener(N),(b=te(v))?(Ae(b,u),b.h==0&&(b.src=null,v[fe]=null)):ke(u)}}}function F(u){return u in V?V[u]:V[u]="on"+u}function B(u,v){if(u.da)u=!0;else{v=new De(v,this);var b=u.listener,N=u.ha||u.src;u.fa&&M(u),u=b.call(N,v)}return u}function te(u){return u=u[fe],u instanceof Se?u:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y(u){return typeof u=="function"?u:(u[J]||(u[J]=function(v){return u.handleEvent(v)}),u[J])}function X(){le.call(this),this.i=new Se(this),this.M=this,this.F=null}T(X,le),X.prototype[se]=!0,X.prototype.removeEventListener=function(u,v,b,N){He(this,u,v,b,N)};function ve(u,v){var b,N=u.F;if(N)for(b=[];N;N=N.F)b.push(N);if(u=u.M,N=v.type||v,typeof v=="string")v=new ue(v,u);else if(v instanceof ue)v.target=v.target||u;else{var L=v;v=new ue(N,u),P(v,L)}if(L=!0,b)for(var z=b.length-1;0<=z;z--){var ie=v.g=b[z];L=qe(ie,N,!0,v)&&L}if(ie=v.g=u,L=qe(ie,N,!0,v)&&L,L=qe(ie,N,!1,v)&&L,b)for(z=0;z<b.length;z++)ie=v.g=b[z],L=qe(ie,N,!1,v)&&L}X.prototype.N=function(){if(X.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var b=u.g[v],N=0;N<b.length;N++)ke(b[N]);delete u.g[v],u.h--}}this.F=null},X.prototype.K=function(u,v,b,N){return this.i.add(String(u),v,!1,b,N)},X.prototype.L=function(u,v,b,N){return this.i.add(String(u),v,!0,b,N)};function qe(u,v,b,N){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var L=!0,z=0;z<v.length;++z){var ie=v[z];if(ie&&!ie.da&&ie.capture==b){var pt=ie.listener,gn=ie.ha||ie.src;ie.fa&&Ae(u.i,ie),L=pt.call(gn,N)!==!1&&L}}return L&&!N.defaultPrevented}function Qt(u,v,b){if(typeof u=="function")b&&(u=p(u,b));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(u,v||0)}function Wn(u){u.g=Qt(()=>{u.g=null,u.i&&(u.i=!1,Wn(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Hn extends le{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Wn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(u){le.call(this),this.h=u,this.g={}}T(yr,le);var cn=[];function fn(u){j(u.g,function(v,b){this.g.hasOwnProperty(b)&&M(v)},u),u.g={}}yr.prototype.N=function(){yr.aa.N.call(this),fn(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ns=a.JSON.stringify,Pr=a.JSON.parse,_c=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function mi(){}mi.prototype.h=null;function wc(u){return u.h||(u.h=u.i())}function xc(){}var jo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oo(){ue.call(this,"d")}T(Oo,ue);function vr(){ue.call(this,"c")}T(vr,ue);var ks={},Ie=null;function Ze(){return Ie=Ie||new X}ks.La="serverreachability";function ft(u){ue.call(this,ks.La,u)}T(ft,ue);function pn(u){const v=Ze();ve(v,new ft(v))}ks.STAT_EVENT="statevent";function qn(u,v){ue.call(this,ks.STAT_EVENT,u),this.stat=v}T(qn,ue);function At(u){const v=Ze();ve(v,new qn(v,u))}ks.Ma="timingevent";function rs(u,v){ue.call(this,ks.Ma,u),this.size=v}T(rs,ue);function mn(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},v)}function Gn(){this.g=!0}Gn.prototype.xa=function(){this.g=!1};function _2(u,v,b,N,L,z){u.info(function(){if(u.g)if(z)for(var ie="",pt=z.split("&"),gn=0;gn<pt.length;gn++){var st=pt[gn].split("=");if(1<st.length){var Tn=st[0];st=st[1];var Sn=Tn.split("_");ie=2<=Sn.length&&Sn[1]=="type"?ie+(Tn+"="+st+"&"):ie+(Tn+"=redacted&")}}else ie=null;else ie=z;return"XMLHTTP REQ ("+N+") [attempt "+L+"]: "+v+`
`+b+`
`+ie})}function w2(u,v,b,N,L,z,ie){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+L+"]: "+v+`
`+b+`
`+z+" "+ie})}function Ra(u,v,b,N){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+E2(u,b)+(N?" "+N:"")})}function x2(u,v){u.info(function(){return"TIMEOUT: "+v})}Gn.prototype.info=function(){};function E2(u,v){if(!u.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var N=b[u];if(!(2>N.length)){var L=N[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ie=1;ie<L.length;ie++)L[ie]=""}}}}return ns(b)}catch{return v}}var Nd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cm;function Pd(){}T(Pd,mi),Pd.prototype.g=function(){return new XMLHttpRequest},Pd.prototype.i=function(){return{}},Cm=new Pd;function gi(u,v,b,N){this.j=u,this.i=v,this.l=b,this.R=N||1,this.U=new yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sx}function Sx(){this.i=null,this.g="",this.h=!1}var Cx={},Im={};function km(u,v,b){u.L=1,u.v=Dd(As(v)),u.m=b,u.P=!0,Ix(u,null)}function Ix(u,v){u.F=Date.now(),Rd(u),u.A=As(u.v);var b=u.A,N=u.R;Array.isArray(N)||(N=[String(N)]),$x(b.i,"t",N),u.C=0,b=u.j.J,u.h=new Sx,u.g=i0(u.j,b?v:null,!u.m),0<u.O&&(u.M=new Hn(p(u.Y,u,u.g),u.O)),v=u.U,b=u.g,N=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(cn[0]=L.toString()),L=cn);for(var z=0;z<L.length;z++){var ie=Ee(b,L[z],N||v.handleEvent,!1,v.h||v);if(!ie)break;v.g[ie.key]=ie}v=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),pn(),_2(u.i,u.u,u.A,u.l,u.R,u.m)}gi.prototype.ca=function(u){u=u.target;const v=this.M;v&&Ns(u)==3?v.j():this.Y(u)},gi.prototype.Y=function(u){try{if(u==this.g)e:{const Sn=Ns(this.g);var v=this.g.Ba();const Da=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||Kx(this.g)))){this.J||Sn!=4||v==7||(v==8||0>=Da?pn(3):pn(2)),Am(this);var b=this.g.Z();this.X=b;t:if(kx(this)){var N=Kx(this.g);u="";var L=N.length,z=Ns(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Do(this),Ec(this);var ie="";break t}this.h.i=new a.TextDecoder}for(v=0;v<L;v++)this.h.h=!0,u+=this.h.i.decode(N[v],{stream:!(z&&v==L-1)});N.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=b==200,w2(this.i,this.u,this.A,this.l,this.R,Sn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,gn=this.g;if((pt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(pt)){var st=pt;break t}}st=null}if(b=st)Ra(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nm(this,b);else{this.o=!1,this.s=3,At(12),Do(this),Ec(this);break e}}if(this.P){b=!0;let Rr;for(;!this.J&&this.C<ie.length;)if(Rr=b2(this,ie),Rr==Im){Sn==4&&(this.s=4,At(14),b=!1),Ra(this.i,this.l,null,"[Incomplete Response]");break}else if(Rr==Cx){this.s=4,At(15),Ra(this.i,this.l,ie,"[Invalid Chunk]"),b=!1;break}else Ra(this.i,this.l,Rr,null),Nm(this,Rr);if(kx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||ie.length!=0||this.h.h||(this.s=1,At(16),b=!1),this.o=this.o&&b,!b)Ra(this.i,this.l,ie,"[Invalid Chunked Response]"),Do(this),Ec(this);else if(0<ie.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Mm(Tn),Tn.M=!0,At(11))}}else Ra(this.i,this.l,ie,null),Nm(this,ie);Sn==4&&Do(this),this.o&&!this.J&&(Sn==4?t0(this.j,this):(this.o=!1,Rd(this)))}else U2(this.g),b==400&&0<ie.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Do(this),Ec(this)}}}catch{}finally{}};function kx(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function b2(u,v){var b=u.C,N=v.indexOf(`
`,b);return N==-1?Im:(b=Number(v.substring(b,N)),isNaN(b)?Cx:(N+=1,N+b>v.length?Im:(v=v.slice(N,N+b),u.C=N+b,v)))}gi.prototype.cancel=function(){this.J=!0,Do(this)};function Rd(u){u.S=Date.now()+u.I,Ax(u,u.I)}function Ax(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=mn(p(u.ba,u),v)}function Am(u){u.B&&(a.clearTimeout(u.B),u.B=null)}gi.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(x2(this.i,this.A),this.L!=2&&(pn(),At(17)),Do(this),this.s=2,Ec(this)):Ax(this,this.S-u)};function Ec(u){u.j.G==0||u.J||t0(u.j,u)}function Do(u){Am(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,fn(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function Nm(u,v){try{var b=u.j;if(b.G!=0&&(b.g==u||Pm(b.h,u))){if(!u.K&&Pm(b.h,u)&&b.G==3){try{var N=b.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var L=N;if(L[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)$d(b),Fd(b);else break e;Dm(b),At(18)}}else b.za=L[1],0<b.za-b.T&&37500>L[2]&&b.F&&b.v==0&&!b.C&&(b.C=mn(p(b.Za,b),6e3));if(1>=Rx(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Vo(b,11)}else if((u.K||b.g==u)&&$d(b),!y(v))for(L=b.Da.g.parse(v),v=0;v<L.length;v++){let st=L[v];if(b.T=st[0],st=st[1],b.G==2)if(st[0]=="c"){b.K=st[1],b.ia=st[2];const Tn=st[3];Tn!=null&&(b.la=Tn,b.j.info("VER="+b.la));const Sn=st[4];Sn!=null&&(b.Aa=Sn,b.j.info("SVER="+b.Aa));const Da=st[5];Da!=null&&typeof Da=="number"&&0<Da&&(N=1.5*Da,b.L=N,b.j.info("backChannelRequestTimeoutMs_="+N)),N=b;const Rr=u.g;if(Rr){const zd=Rr.g?Rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zd){var z=N.h;z.g||zd.indexOf("spdy")==-1&&zd.indexOf("quic")==-1&&zd.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Rm(z,z.h),z.h=null))}if(N.D){const Vm=Rr.g?Rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Vm&&(N.ya=Vm,Tt(N.I,N.D,Vm))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),N=b;var ie=u;if(N.qa=s0(N,N.J?N.ia:null,N.W),ie.K){jx(N.h,ie);var pt=ie,gn=N.L;gn&&(pt.I=gn),pt.B&&(Am(pt),Rd(pt)),N.g=ie}else Jx(N);0<b.i.length&&Ud(b)}else st[0]!="stop"&&st[0]!="close"||Vo(b,7);else b.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Vo(b,7):Om(b):st[0]!="noop"&&b.l&&b.l.ta(st),b.v=0)}}pn(4)}catch{}}var T2=class{constructor(u,v){this.g=u,this.map=v}};function Nx(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Px(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rx(u){return u.h?1:u.g?u.g.size:0}function Pm(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Rm(u,v){u.g?u.g.add(v):u.h=v}function jx(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Nx.prototype.cancel=function(){if(this.i=Ox(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ox(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.D);return v}return x(u.i)}function S2(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var v=[],b=u.length,N=0;N<b;N++)v.push(u[N]);return v}v=[],b=0;for(N in u)v[b++]=u[N];return v}function C2(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var v=[];u=u.length;for(var b=0;b<u;b++)v.push(b);return v}v=[],b=0;for(const N in u)v[b++]=N;return v}}}function Dx(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var b=C2(u),N=S2(u),L=N.length,z=0;z<L;z++)v.call(void 0,N[z],b&&b[z],u)}var Mx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function I2(u,v){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var N=u[b].indexOf("="),L=null;if(0<=N){var z=u[b].substring(0,N);L=u[b].substring(N+1)}else z=u[b];v(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Mo(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Mo){this.h=u.h,jd(this,u.j),this.o=u.o,this.g=u.g,Od(this,u.s),this.l=u.l;var v=u.i,b=new Sc;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),Vx(this,b),this.m=u.m}else u&&(v=String(u).match(Mx))?(this.h=!1,jd(this,v[1]||"",!0),this.o=bc(v[2]||""),this.g=bc(v[3]||"",!0),Od(this,v[4]),this.l=bc(v[5]||"",!0),Vx(this,v[6]||"",!0),this.m=bc(v[7]||"")):(this.h=!1,this.i=new Sc(null,this.h))}Mo.prototype.toString=function(){var u=[],v=this.j;v&&u.push(Tc(v,Lx,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Tc(v,Lx,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Tc(b,b.charAt(0)=="/"?N2:A2,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Tc(b,R2)),u.join("")};function As(u){return new Mo(u)}function jd(u,v,b){u.j=b?bc(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Od(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function Vx(u,v,b){v instanceof Sc?(u.i=v,j2(u.i,u.h)):(b||(v=Tc(v,P2)),u.i=new Sc(v,u.h))}function Tt(u,v,b){u.i.set(v,b)}function Dd(u){return Tt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function bc(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tc(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,k2),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function k2(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Lx=/[#\/\?@]/g,A2=/[#\?:]/g,N2=/[#\?]/g,P2=/[#\?@]/g,R2=/#/g;function Sc(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function yi(u){u.g||(u.g=new Map,u.h=0,u.i&&I2(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=Sc.prototype,t.add=function(u,v){yi(this),this.i=null,u=ja(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function Fx(u,v){yi(u),v=ja(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Ux(u,v){return yi(u),v=ja(u,v),u.g.has(v)}t.forEach=function(u,v){yi(this),this.g.forEach(function(b,N){b.forEach(function(L){u.call(v,L,N,this)},this)},this)},t.na=function(){yi(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let N=0;N<v.length;N++){const L=u[N];for(let z=0;z<L.length;z++)b.push(v[N])}return b},t.V=function(u){yi(this);let v=[];if(typeof u=="string")Ux(this,u)&&(v=v.concat(this.g.get(ja(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)v=v.concat(u[b])}return v},t.set=function(u,v){return yi(this),this.i=null,u=ja(this,u),Ux(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},t.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function $x(u,v,b){Fx(u,v),0<b.length&&(u.i=null,u.g.set(ja(u,v),x(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var N=v[b];const z=encodeURIComponent(String(N)),ie=this.V(N);for(N=0;N<ie.length;N++){var L=z;ie[N]!==""&&(L+="="+encodeURIComponent(String(ie[N]))),u.push(L)}}return this.i=u.join("&")};function ja(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function j2(u,v){v&&!u.j&&(yi(u),u.i=null,u.g.forEach(function(b,N){var L=N.toLowerCase();N!=L&&(Fx(this,N),$x(this,L,b))},u)),u.j=v}function O2(u,v){const b=new Gn;if(a.Image){const N=new Image;N.onload=g(vi,b,"TestLoadImage: loaded",!0,v,N),N.onerror=g(vi,b,"TestLoadImage: error",!1,v,N),N.onabort=g(vi,b,"TestLoadImage: abort",!1,v,N),N.ontimeout=g(vi,b,"TestLoadImage: timeout",!1,v,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else v(!1)}function D2(u,v){const b=new Gn,N=new AbortController,L=setTimeout(()=>{N.abort(),vi(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:N.signal}).then(z=>{clearTimeout(L),z.ok?vi(b,"TestPingServer: ok",!0,v):vi(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(L),vi(b,"TestPingServer: error",!1,v)})}function vi(u,v,b,N,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),N(b)}catch{}}function M2(){this.g=new _c}function V2(u,v,b){const N=b||"";try{Dx(u,function(L,z){let ie=L;d(L)&&(ie=ns(L)),v.push(N+z+"="+encodeURIComponent(ie))})}catch(L){throw v.push(N+"type="+encodeURIComponent("_badmap")),L}}function Md(u){this.l=u.Ub||null,this.j=u.eb||!1}T(Md,mi),Md.prototype.g=function(){return new Vd(this.l,this.j)},Md.prototype.i=function(u){return function(){return u}}({});function Vd(u,v){X.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Vd,X),t=Vd.prototype,t.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,Ic(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ic(this)),this.g&&(this.readyState=3,Ic(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bx(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bx(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Cc(this):Ic(this),this.readyState==3&&Bx(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Cc(this))},t.Qa=function(u){this.g&&(this.response=u,Cc(this))},t.ga=function(){this.g&&Cc(this)};function Cc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ic(u)}t.setRequestHeader=function(u,v){this.u.append(u,v)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function Ic(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Vd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zx(u){let v="";return j(u,function(b,N){v+=N,v+=":",v+=b,v+=`\r
`}),v}function jm(u,v,b){e:{for(N in b){var N=!1;break e}N=!0}N||(b=zx(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):Tt(u,v,b))}function Lt(u){X.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Lt,X);var L2=/^https?$/i,F2=["POST","PUT"];t=Lt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,v,b,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cm.g(),this.v=this.o?wc(this.o):wc(Cm),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(z){Wx(this,z);return}if(u=b||"",b=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var L in N)b.set(L,N[L]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const z of N.keys())b.set(z,N.get(z));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(b.keys()).find(z=>z.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(F2,v,void 0))||N||L||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ie]of b)this.g.setRequestHeader(z,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gx(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){Wx(this,z)}};function Wx(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,Hx(u),Ld(u)}function Hx(u){u.A||(u.A=!0,ve(u,"complete"),ve(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ve(this,"complete"),ve(this,"abort"),Ld(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ld(this,!0)),Lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qx(this):this.bb())},t.bb=function(){qx(this)};function qx(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Ns(u)!=4||u.Z()!=2)){if(u.u&&Ns(u)==4)Qt(u.Ea,0,u);else if(ve(u,"readystatechange"),Ns(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var N;if(N=ie===0){var L=String(u.D).match(Mx)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),N=!L2.test(L?L.toLowerCase():"")}b=N}if(b)ve(u,"complete"),ve(u,"success");else{u.m=6;try{var z=2<Ns(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",Hx(u)}}finally{Ld(u)}}}}function Ld(u,v){if(u.g){Gx(u);const b=u.g,N=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||ve(u,"ready");try{b.onreadystatechange=N}catch{}}}function Gx(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ns(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ns(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),Pr(v)}};function Kx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function U2(u){const v={};u=(u.g&&2<=Ns(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(y(u[N]))continue;var b=O(u[N]);const L=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const z=v[L]||[];v[L]=z,z.push(b)}C(v,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kc(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function Qx(u){this.Aa=0,this.i=[],this.j=new Gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kc("baseRetryDelayMs",5e3,u),this.cb=kc("retryDelaySeedMs",1e4,u),this.Wa=kc("forwardChannelMaxRetries",2,u),this.wa=kc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Nx(u&&u.concurrentRequestLimit),this.Da=new M2,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qx.prototype,t.la=8,t.G=1,t.connect=function(u,v,b,N){At(0),this.W=u,this.H=v||{},b&&N!==void 0&&(this.H.OSID=b,this.H.OAID=N),this.F=this.X,this.I=s0(this,null,this.W),Ud(this)};function Om(u){if(Yx(u),u.G==3){var v=u.U++,b=As(u.I);if(Tt(b,"SID",u.K),Tt(b,"RID",v),Tt(b,"TYPE","terminate"),Ac(u,b),v=new gi(u,u.j,v),v.L=2,v.v=Dd(As(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=v.v,b=!0),b||(v.g=i0(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Rd(v)}r0(u)}function Fd(u){u.g&&(Mm(u),u.g.cancel(),u.g=null)}function Yx(u){Fd(u),u.u&&(a.clearTimeout(u.u),u.u=null),$d(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ud(u){if(!Px(u.h)&&!u.s){u.s=!0;var v=u.Ga;ee||re(),U||(ee(),U=!0),$.add(v,u),u.B=0}}function $2(u,v){return Rx(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=mn(p(u.Ga,u,v),n0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new gi(this,this.j,u);let z=this.o;if(this.S&&(z?(z=S(z),P(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var N=this.i[b];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Zx(this,L,v),b=As(this.I),Tt(b,"RID",u),Tt(b,"CVER",22),this.D&&Tt(b,"X-HTTP-Session-Id",this.D),Ac(this,b),z&&(this.O?v="headers="+encodeURIComponent(String(zx(z)))+"&"+v:this.m&&jm(b,this.m,z)),Rm(this.h,L),this.Ua&&Tt(b,"TYPE","init"),this.P?(Tt(b,"$req",v),Tt(b,"SID","null"),L.T=!0,km(L,b,null)):km(L,b,v),this.G=2}}else this.G==3&&(u?Xx(this,u):this.i.length==0||Px(this.h)||Xx(this))};function Xx(u,v){var b;v?b=v.l:b=u.U++;const N=As(u.I);Tt(N,"SID",u.K),Tt(N,"RID",b),Tt(N,"AID",u.T),Ac(u,N),u.m&&u.o&&jm(N,u.m,u.o),b=new gi(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),v&&(u.i=v.D.concat(u.i)),v=Zx(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Rm(u.h,b),km(b,N,v)}function Ac(u,v){u.H&&j(u.H,function(b,N){Tt(v,N,b)}),u.l&&Dx({},function(b,N){Tt(v,N,b)})}function Zx(u,v,b){b=Math.min(u.i.length,b);var N=u.l?p(u.l.Na,u.l,u):null;e:{var L=u.i;let z=-1;for(;;){const ie=["count="+b];z==-1?0<b?(z=L[0].g,ie.push("ofs="+z)):z=0:ie.push("ofs="+z);let pt=!0;for(let gn=0;gn<b;gn++){let st=L[gn].g;const Tn=L[gn].map;if(st-=z,0>st)z=Math.max(0,L[gn].g-100),pt=!1;else try{V2(Tn,ie,"req"+st+"_")}catch{N&&N(Tn)}}if(pt){N=ie.join("&");break e}}}return u=u.i.splice(0,b),v.D=u,N}function Jx(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;ee||re(),U||(ee(),U=!0),$.add(v,u),u.v=0}}function Dm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=mn(p(u.Fa,u),n0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,e0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=mn(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Fd(this),e0(this))};function Mm(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function e0(u){u.g=new gi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=As(u.qa);Tt(v,"RID","rpc"),Tt(v,"SID",u.K),Tt(v,"AID",u.T),Tt(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&Tt(v,"TO",u.ja),Tt(v,"TYPE","xmlhttp"),Ac(u,v),u.m&&u.o&&jm(v,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=Dd(As(v)),b.m=null,b.P=!0,Ix(b,u)}t.Za=function(){this.C!=null&&(this.C=null,Fd(this),Dm(this),At(19))};function $d(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function t0(u,v){var b=null;if(u.g==v){$d(u),Mm(u),u.g=null;var N=2}else if(Pm(u.h,v))b=v.D,jx(u.h,v),N=1;else return;if(u.G!=0){if(v.o)if(N==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var L=u.B;N=Ze(),ve(N,new rs(N,b)),Ud(u)}else Jx(u);else if(L=v.s,L==3||L==0&&0<v.X||!(N==1&&$2(u,v)||N==2&&Dm(u)))switch(b&&0<b.length&&(v=u.h,v.i=v.i.concat(b)),L){case 1:Vo(u,5);break;case 4:Vo(u,10);break;case 3:Vo(u,6);break;default:Vo(u,2)}}}function n0(u,v){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*v}function Vo(u,v){if(u.j.info("Error code "+v),v==2){var b=p(u.fb,u),N=u.Xa;const L=!N;N=new Mo(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||jd(N,"https"),Dd(N),L?O2(N.toString(),b):D2(N.toString(),b)}else At(2);u.G=0,u.l&&u.l.sa(v),r0(u),Yx(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function r0(u){if(u.G=0,u.ka=[],u.l){const v=Ox(u.h);(v.length!=0||u.i.length!=0)&&(_(u.ka,v),_(u.ka,u.i),u.h.i.length=0,x(u.i),u.i.length=0),u.l.ra()}}function s0(u,v,b){var N=b instanceof Mo?As(b):new Mo(b);if(N.g!="")v&&(N.g=v+"."+N.g),Od(N,N.s);else{var L=a.location;N=L.protocol,v=v?v+"."+L.hostname:L.hostname,L=+L.port;var z=new Mo(null);N&&jd(z,N),v&&(z.g=v),L&&Od(z,L),b&&(z.l=b),N=z}return b=u.D,v=u.ya,b&&v&&Tt(N,b,v),Tt(N,"VER",u.la),Ac(u,N),N}function i0(u,v,b){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new Lt(new Md({eb:b})):new Lt(u.pa),v.Ha(u.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function o0(){}t=o0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bd(){}Bd.prototype.g=function(u,v){return new rr(u,v)};function rr(u,v){X.call(this),this.g=new Qx(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!y(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!y(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Oa(this)}T(rr,X),rr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rr.prototype.close=function(){Om(this.g)},rr.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=ns(u),u=b);v.i.push(new T2(v.Ya++,u)),v.G==3&&Ud(v)},rr.prototype.N=function(){this.g.l=null,delete this.j,Om(this.g),delete this.g,rr.aa.N.call(this)};function a0(u){Oo.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}T(a0,Oo);function l0(){vr.call(this),this.status=1}T(l0,vr);function Oa(u){this.g=u}T(Oa,o0),Oa.prototype.ua=function(){ve(this.g,"a")},Oa.prototype.ta=function(u){ve(this.g,new a0(u))},Oa.prototype.sa=function(u){ve(this.g,new l0)},Oa.prototype.ra=function(){ve(this.g,"b")},Bd.prototype.createWebChannel=Bd.prototype.g,rr.prototype.send=rr.prototype.o,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,OA=function(){return new Bd},jA=function(){return Ze()},RA=ks,sv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nd.NO_ERROR=0,Nd.TIMEOUT=8,Nd.HTTP_ERROR=6,Bh=Nd,Tx.COMPLETE="complete",PA=Tx,xc.EventType=jo,jo.OPEN="a",jo.CLOSE="b",jo.ERROR="c",jo.MESSAGE="d",X.prototype.listen=X.prototype.K,Qc=xc,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,NA=Lt}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const P1="@firebase/firestore",R1="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new J_("@firebase/firestore");function Ba(){return pa.logLevel}function he(t,...e){if(pa.logLevel<=Ge.DEBUG){const n=e.map(hw);pa.debug(`Firestore (${dc}): ${t}`,...n)}}function ni(t,...e){if(pa.logLevel<=Ge.ERROR){const n=e.map(hw);pa.error(`Firestore (${dc}): ${t}`,...n)}}function po(t,...e){if(pa.logLevel<=Ge.WARN){const n=e.map(hw);pa.warn(`Firestore (${dc}): ${t}`,...n)}}function hw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,DA(t,r,n)}function DA(t,e,n){let r=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ni(r),new Error(r)}function ut(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||DA(e,s,r)}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pn.UNAUTHENTICATED))}shutdown(){}}class u9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class d9{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new MA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Pn(e)}}class h9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class f9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new h9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const r=i=>{i.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new j1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new j1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=m9(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function iv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ue(r,s);{const i=VA(),o=g9(i.encode(O1(t,n)),i.encode(O1(e,n)));return o!==0?o:Ue(r,s)}}n+=r>65535?2:1}return Ue(t.length,e.length)}function O1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function g9(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ue(t[n],e[n]);return Ue(t.length,e.length)}function Bl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="__name__";class os{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return os.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof os?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=os.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ue(e.length,n.length)}static compareSegments(e,n){const r=os.isNumericId(e),s=os.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?os.extractNumericId(e).compare(os.extractNumericId(n)):iv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return no.fromString(e.substring(4,e.length-2))}}class wt extends os{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const y9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends os{construct(e,n,r){return new _n(e,n,r)}static isValidIdentifier(e){return y9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D1}static keyField(){return new _n([D1])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ce(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ce(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(wt.fromString(e))}static fromName(e){return new xe(wt.fromString(e).popFirst(5))}static empty(){return new xe(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t,e,n){if(!n)throw new ce(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function v9(t,e,n,r){if(e===!0&&r===!0)throw new ce(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M1(t){if(!xe.isDocumentKey(t))throw new ce(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V1(t){if(xe.isDocumentKey(t))throw new ce(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function FA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Kp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function Ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kp(t);throw new ce(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,e){const n={typeString:t};return e&&(n.value=e),n}function xd(t,e){if(!FA(t))throw new ce(q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ce(q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=-62135596800,F1=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*F1);return new It(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<L1)throw new ce(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F1}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xd(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:nn("string",It._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new It(0,0))}static max(){return new Ne(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=-1;function _9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new It(n+1,0):new It(n,r));return new mo(s,xe.empty(),e)}function w9(t){return new mo(t.readTime,t.key,qu)}class mo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mo(Ne.min(),xe.empty(),qu)}static max(){return new mo(Ne.max(),xe.empty(),qu)}}function x9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==E9)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(s=>s?K.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new K((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new K((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function T9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Qp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=-1;function Yp(t){return t==null}function zf(t){return t===0&&1/t==-1/0}function S9(t){return typeof t=="number"&&Number.isInteger(t)&&!zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="";function C9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=U1(e)),e=I9(t.get(n),e);return U1(e)}function I9(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case UA:n+="";break;default:n+=i}}return n}function U1(t){return t+UA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Io(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $A(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}}class mh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??vn.RED,this.left=s??vn.EMPTY,this.right=i??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new vn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new B1(this.data.getIterator())}getIteratorFrom(e){return new B1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class B1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new cr([])}unionWith(e){let n=new ln(_n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new BA("Invalid base64 string: "+i):i}}(e);return new bn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const k9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=k9.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yo(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="server_timestamp",WA="__type__",HA="__previous_value__",qA="__local_write_time__";function mw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[WA])===null||n===void 0?void 0:n.stringValue)===zA}function Xp(t){const e=t.mapValue.fields[HA];return mw(e)?Xp(e):e}function Gu(t){const e=go(t.mapValue.fields[qA].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n,r,s,i,o,a,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=h}}const Wf="(default)";class Ku{constructor(e,n){this.projectId=e,this.database=n||Wf}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===Wf}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="__type__",KA="__max__",gh={mapValue:{fields:{__type__:{stringValue:KA}}}},QA="__vector__",Hf="value";function vo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mw(t)?4:P9(t)?9007199254740991:N9(t)?10:11:Te(28295,{value:t})}function Ts(t,e){if(t===e)return!0;const n=vo(t);if(n!==vo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gu(t).isEqual(Gu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=go(s.timestampValue),a=go(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return yo(s.bytesValue).isEqual(yo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Bt(s.geoPointValue.latitude)===Bt(i.geoPointValue.latitude)&&Bt(s.geoPointValue.longitude)===Bt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Bt(s.integerValue)===Bt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Bt(s.doubleValue),a=Bt(i.doubleValue);return o===a?zf(o)===zf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Bl(t.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if($1(o)!==$1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ts(o[l],a[l])))return!1;return!0}(t,e);default:return Te(52216,{left:t})}}function Qu(t,e){return(t.values||[]).find(n=>Ts(n,e))!==void 0}function zl(t,e){if(t===e)return 0;const n=vo(t),r=vo(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Bt(i.integerValue||i.doubleValue),l=Bt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return z1(t.timestampValue,e.timestampValue);case 4:return z1(Gu(t),Gu(e));case 5:return iv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=yo(i),l=yo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=Ue(a[d],l[d]);if(h!==0)return h}return Ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ue(Bt(i.latitude),Bt(o.latitude));return a!==0?a:Ue(Bt(i.longitude),Bt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return W1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,d,h;const f=i.fields||{},p=o.fields||{},g=(a=f[Hf])===null||a===void 0?void 0:a.arrayValue,T=(l=p[Hf])===null||l===void 0?void 0:l.arrayValue,x=Ue(((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0,((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:W1(g,T)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===gh.mapValue&&o===gh.mapValue)return 0;if(i===gh.mapValue)return 1;if(o===gh.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=iv(l[f],h[f]);if(p!==0)return p;const g=zl(a[l[f]],d[h[f]]);if(g!==0)return g}return Ue(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Te(23264,{le:n})}}function z1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=go(t),r=go(e),s=Ue(n.seconds,r.seconds);return s!==0?s:Ue(n.nanos,r.nanos)}function W1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=zl(n[s],r[s]);if(i)return i}return Ue(n.length,r.length)}function Wl(t){return ov(t)}function ov(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=go(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ov(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ov(n.fields[o])}`;return s+"}"}(t.mapValue):Te(61005,{value:t})}function zh(t){switch(vo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xp(t);return e?16+zh(e):16;case 5:return 2*t.stringValue.length;case 6:return yo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+zh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Io(r.fields,(i,o)=>{s+=i.length+zh(o)}),s}(t.mapValue);default:throw Te(13486,{value:t})}}function H1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function av(t){return!!t&&"integerValue"in t}function gw(t){return!!t&&"arrayValue"in t}function q1(t){return!!t&&"nullValue"in t}function G1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wh(t){return!!t&&"mapValue"in t}function N9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[GA])===null||n===void 0?void 0:n.stringValue)===QA}function fu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Io(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function P9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===KA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(n)}setAll(e){let n=_n.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=fu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Wh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Io(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Zn(fu(this.value))}}function YA(t){const e=[];return Io(t.fields,(n,r)=>{const s=new _n([n]);if(Wh(r)){const i=YA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new jn(e,0,Ne.min(),Ne.min(),Ne.min(),Zn.empty(),0)}static newFoundDocument(e,n,r,s){return new jn(e,1,n,Ne.min(),r,s,0)}static newNoDocument(e,n){return new jn(e,2,n,Ne.min(),Ne.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new jn(e,3,n,Ne.min(),Ne.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this.position=e,this.inclusive=n}}function K1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=xe.comparator(xe.fromName(o.referenceValue),n.key):r=zl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function R9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{}class Jt extends XA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new O9(e,n,r):n==="array-contains"?new V9(e,r):n==="in"?new L9(e,r):n==="not-in"?new F9(e,r):n==="array-contains-any"?new U9(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D9(e,r):new M9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zl(n,this.value)):n!==null&&vo(this.value)===vo(n)&&this.matchesComparison(zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jr extends XA{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Jr(e,n)}matches(e){return ZA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function ZA(t){return t.op==="and"}function JA(t){return j9(t)&&ZA(t)}function j9(t){for(const e of t.filters)if(e instanceof Jr)return!1;return!0}function lv(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+Wl(t.value);if(JA(t))return t.filters.map(e=>lv(e)).join(",");{const e=t.filters.map(n=>lv(n)).join(",");return`${t.op}(${e})`}}function eN(t,e){return t instanceof Jt?function(r,s){return s instanceof Jt&&r.op===s.op&&r.field.isEqual(s.field)&&Ts(r.value,s.value)}(t,e):t instanceof Jr?function(r,s){return s instanceof Jr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&eN(o,s.filters[a]),!0):!1}(t,e):void Te(19439)}function tN(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${Wl(n.value)}`}(t):t instanceof Jr?function(n){return n.op.toString()+" {"+n.getFilters().map(tN).join(" ,")+"}"}(t):"Filter"}class O9 extends Jt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class D9 extends Jt{constructor(e,n){super(e,"in",n),this.keys=nN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class M9 extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=nN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function nN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class V9 extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gw(n)&&Qu(n.arrayValue,this.value)}}class L9 extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qu(this.value.arrayValue,n)}}class F9 extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qu(this.value.arrayValue,n)}}class U9 extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function Y1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new $9(t,e,n,r,s,i,o)}function yw(t){const e=Oe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Yp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wl(r)).join(",")),e.Pe=n}return e.Pe}function vw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q1(t.startAt,e.startAt)&&Q1(t.endAt,e.endAt)}function cv(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function B9(t,e,n,r,s,i,o,a){return new pc(t,e,n,r,s,i,o,a)}function _w(t){return new pc(t)}function X1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rN(t){return t.collectionGroup!==null}function pu(t){const e=Oe(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ln(_n.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new Yu(i,r))}),n.has(_n.keyField().canonicalString())||e.Te.push(new Yu(_n.keyField(),r))}return e.Te}function vs(t){const e=Oe(t);return e.Ie||(e.Ie=z9(e,pu(t))),e.Ie}function z9(t,e){if(t.limitType==="F")return Y1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Yu(s.field,i)});const n=t.endAt?new qf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qf(t.startAt.position,t.startAt.inclusive):null;return Y1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uv(t,e){const n=t.filters.concat([e]);return new pc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dv(t,e,n){return new pc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zp(t,e){return vw(vs(t),vs(e))&&t.limitType===e.limitType}function sN(t){return`${yw(vs(t))}|lt:${t.limitType}`}function za(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>tN(s)).join(", ")}]`),Yp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Wl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Wl(s)).join(",")),`Target(${r})`}(vs(t))}; limitType=${t.limitType})`}function Jp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):xe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of pu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const d=K1(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,pu(r),s)||r.endAt&&!function(o,a,l){const d=K1(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,pu(r),s))}(t,e)}function W9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iN(t){return(e,n)=>{let r=!1;for(const s of pu(t)){const i=H9(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function H9(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?zl(l,d):Te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return $A(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=new Vt(xe.comparator);function ri(){return q9}const oN=new Vt(xe.comparator);function Yc(...t){let e=oN;for(const n of t)e=e.insert(n.key,n);return e}function aN(t){let e=oN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qo(){return mu()}function lN(){return mu()}function mu(){return new Ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const G9=new Vt(xe.comparator),K9=new ln(xe.comparator);function Ke(...t){let e=K9;for(const n of t)e=e.add(n);return e}const Q9=new ln(Ue);function Y9(){return Q9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(e)?"-0":e}}function cN(t){return{integerValue:""+t}}function X9(t,e){return S9(e)?cN(e):ww(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this._=void 0}}function Z9(t,e,n){return t instanceof Xu?function(s,i){const o={fields:{[WA]:{stringValue:zA},[qA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&mw(i)&&(i=Xp(i)),i&&(o.fields[HA]=i),{mapValue:o}}(n,e):t instanceof Hl?dN(t,e):t instanceof ql?hN(t,e):function(s,i){const o=uN(s,i),a=Z1(o)+Z1(s.Ee);return av(o)&&av(s.Ee)?cN(a):ww(s.serializer,a)}(t,e)}function J9(t,e,n){return t instanceof Hl?dN(t,e):t instanceof ql?hN(t,e):n}function uN(t,e){return t instanceof Gf?function(r){return av(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Xu extends em{}class Hl extends em{constructor(e){super(),this.elements=e}}function dN(t,e){const n=fN(e);for(const r of t.elements)n.some(s=>Ts(s,r))||n.push(r);return{arrayValue:{values:n}}}class ql extends em{constructor(e){super(),this.elements=e}}function hN(t,e){let n=fN(e);for(const r of t.elements)n=n.filter(s=>!Ts(s,r));return{arrayValue:{values:n}}}class Gf extends em{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Z1(t){return Bt(t.integerValue||t.doubleValue)}function fN(t){return gw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n){this.field=e,this.transform=n}}function e$(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Hl&&s instanceof Hl||r instanceof ql&&s instanceof ql?Bl(r.elements,s.elements,Ts):r instanceof Gf&&s instanceof Gf?Ts(r.Ee,s.Ee):r instanceof Xu&&s instanceof Xu}(t.transform,e.transform)}class t${constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tm{}function pN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nm(t.key,$n.none()):new Ed(t.key,t.data,$n.none());{const n=t.data,r=Zn.empty();let s=new ln(_n.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ko(t.key,r,new cr(s.toArray()),$n.none())}}function n$(t,e,n){t instanceof Ed?function(s,i,o){const a=s.value.clone(),l=eb(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ko?function(s,i,o){if(!Hh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=eb(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(mN(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function gu(t,e,n,r){return t instanceof Ed?function(i,o,a,l){if(!Hh(i.precondition,o))return a;const d=i.value.clone(),h=tb(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ko?function(i,o,a,l){if(!Hh(i.precondition,o))return a;const d=tb(i.fieldTransforms,l,o),h=o.data;return h.setAll(mN(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Hh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function r$(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=uN(r.transform,s||null);i!=null&&(n===null&&(n=Zn.empty()),n.set(r.field,i))}return n||null}function J1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Bl(r,s,(i,o)=>e$(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ed extends tm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ko extends tm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function mN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eb(t,e,n){const r=new Map;ut(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,J9(o,a,n[s]))}return r}function tb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Z9(i,o,e))}return r}class nm extends tm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s$ extends tm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&n$(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lN();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=pN(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ke())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,(n,r)=>J1(n,r))&&Bl(this.baseMutations,e.baseMutations,(n,r)=>J1(n,r))}}class Ew{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ut(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return G9}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ew(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o$=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,Xe;function l$(t){switch(t){case q.OK:return Te(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function gN(t){if(t===void 0)return ni("GRPC error has no .code"),q.UNKNOWN;switch(t){case Xt.OK:return q.OK;case Xt.CANCELLED:return q.CANCELLED;case Xt.UNKNOWN:return q.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return q.INTERNAL;case Xt.UNAVAILABLE:return q.UNAVAILABLE;case Xt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Xt.NOT_FOUND:return q.NOT_FOUND;case Xt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Xt.ABORTED:return q.ABORTED;case Xt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Xt.DATA_LOSS:return q.DATA_LOSS;default:return Te(39323,{code:t})}}(Xe=Xt||(Xt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=new no([4294967295,4294967295],0);function nb(t){const e=VA().encode(t),n=new AA;return n.update(e),new Uint8Array(n.digest())}function rb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new no([n,r],0),new no([s,i],0)]}class bw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xc(`Invalid padding: ${n}`);if(r<0)throw new Xc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=no.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(no.fromNumber(r)));return s.compare(c$)===1&&(s=new no([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=nb(e),[r,s]=rb(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new bw(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=nb(e),[r,s]=rb(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,bd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rm(Ne.min(),s,new Vt(Ue),ri(),Ke())}}class bd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bd(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class yN{constructor(e,n){this.targetId=e,this.De=n}}class vN{constructor(e,n,r=bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class sb{constructor(){this.ve=0,this.Ce=ib(),this.Fe=bn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ke(),n=Ke(),r=Ke();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Te(38017,{changeType:i})}}),new bd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=ib()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class u${constructor(e){this.We=e,this.Ge=new Map,this.ze=ri(),this.je=yh(),this.Je=yh(),this.He=new Vt(Ue)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(cv(i))if(r===0){const o=new xe(i.path);this.Xe(n,o,jn.newNoDocument(o,Ne.min()))}else ut(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,d)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=yo(r).toUint8Array()}catch(l){if(l instanceof BA)return po("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new bw(o,s,i)}catch(l){return po(l instanceof Xc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const a=this.st(o);if(a){if(i.current&&cv(a.target)){const l=new xe(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,jn.newNoDocument(l,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=Ke();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.st(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new rm(e,n,this.He,this.ze,r);return this.ze=ri(),this.je=yh(),this.Je=yh(),this.He=new Vt(Ue),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new sb,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new ln(Ue),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new ln(Ue),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new sb),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function yh(){return new Vt(xe.comparator)}function ib(){return new Vt(xe.comparator)}const d$={asc:"ASCENDING",desc:"DESCENDING"},h$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f$={and:"AND",or:"OR"};class p${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hv(t,e){return t.useProto3Json||Yp(e)?e:{value:e}}function Kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _N(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m$(t,e){return Kf(t,e.toTimestamp())}function _s(t){return ut(!!t,49232),Ne.fromTimestamp(function(n){const r=go(n);return new It(r.seconds,r.nanos)}(t))}function Tw(t,e){return fv(t,e).canonicalString()}function fv(t,e){const n=function(s){return new wt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wN(t){const e=wt.fromString(t);return ut(SN(e),10190,{key:e.toString()}),e}function pv(t,e){return Tw(t.databaseId,e.path)}function Cg(t,e){const n=wN(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(EN(n))}function xN(t,e){return Tw(t.databaseId,e)}function g$(t){const e=wN(t);return e.length===4?wt.emptyPath():EN(e)}function mv(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EN(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ob(t,e,n){return{name:pv(t,e),fields:n.value.mapValue.fields}}function y$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Te(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(ut(h===void 0||typeof h=="string",58123),bn.fromBase64String(h||"")):(ut(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),bn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?q.UNKNOWN:gN(d.code);return new ce(h,d.message||"")}(o);n=new vN(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Cg(t,r.document.name),i=_s(r.document.updateTime),o=r.document.createTime?_s(r.document.createTime):Ne.min(),a=new Zn({mapValue:{fields:r.document.fields}}),l=jn.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new qh(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Cg(t,r.document),i=r.readTime?_s(r.readTime):Ne.min(),o=jn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new qh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Cg(t,r.document),i=r.removedTargetIds||[];n=new qh([],i,s,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new a$(s,i),a=r.targetId;n=new yN(a,o)}}return n}function v$(t,e){let n;if(e instanceof Ed)n={update:ob(t,e.key,e.value)};else if(e instanceof nm)n={delete:pv(t,e.key)};else if(e instanceof ko)n={update:ob(t,e.key,e.data),updateMask:I$(e.fieldMask)};else{if(!(e instanceof s$))return Te(16599,{Rt:e.type});n={verify:pv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Xu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ql)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gf)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw Te(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:m$(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Te(27497)}(t,e.precondition)),n}function _$(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?_s(s.updateTime):_s(i);return o.isEqual(Ne.min())&&(o=_s(i)),new t$(o,s.transformResults||[])}(n,e))):[]}function w$(t,e){return{documents:[xN(t,e.path)]}}function x$(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xN(t,s);const i=function(d){if(d.length!==0)return TN(Jr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:Wa(p.field),direction:T$(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=hv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{Vt:n,parent:s}}function E$(t){let e=g$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ut(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=bN(f);return p instanceof Jr&&JA(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(T){return new Yu(Ha(T.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Yp(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new qf(g,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,g=f.values||[];return new qf(g,p)}(n.endAt)),B9(e,s,o,i,a,"F",l,d)}function b$(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ha(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ha(n.unaryFilter.field);return Jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ha(n.unaryFilter.field);return Jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ha(n.unaryFilter.field);return Jt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(Ha(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jr.create(n.compositeFilter.filters.map(r=>bN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(t):Te(30097,{filter:t})}function T$(t){return d$[t]}function S$(t){return h$[t]}function C$(t){return f$[t]}function Wa(t){return{fieldPath:t.canonicalString()}}function Ha(t){return _n.fromServerFormat(t.fieldPath)}function TN(t){return t instanceof Jt?function(n){if(n.op==="=="){if(G1(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(q1(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G1(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(q1(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:S$(n.op),value:n.value}}}(t):t instanceof Jr?function(n){const r=n.getFilters().map(s=>TN(s));return r.length===1?r[0]:{compositeFilter:{op:C$(n.op),filters:r}}}(t):Te(54877,{filter:t})}function I$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,r,s,i=Ne.min(),o=Ne.min(),a=bn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(e){this.gt=e}}function A$(t){const e=E$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(){this.Dn=new P$}addToCollectionParentIndex(e,n){return this.Dn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(mo.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class P${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ln(wt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ln(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CN=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(CN,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Gl(0)}static ur(){return new Gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="LruGarbageCollector",R$=1048576;function cb([t,e],[n,r]){const s=Ue(t,n);return s===0?Ue(e,r):s}class j${constructor(e){this.Tr=e,this.buffer=new ln(cb),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class O${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){he(lb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fc(n)?he(lb,"Ignoring IndexedDB error during garbage collection: ",n):await hc(n)}await this.Rr(3e5)})}}class D${constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(Qp.ue);const r=new j$(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(ab)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ab):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,a,l,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),Ba()<=Ge.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function M$(t,e){return new D$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(){this.changes=new Ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&gu(r.mutation,s,cr.empty(),It.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ke()){const s=qo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Yc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ke()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ri();const o=mu(),a=function(){return mu()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof ko)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),gu(h.mutation,d,h.mutation.getFieldMask(),It.now())):o.set(d.key,cr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var f;return a.set(d,new L$(h,(f=o.get(d))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=mu();let s=new Vt((o,a)=>o-a),i=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||cr.empty();h=a.applyToLocalView(d,h),r.set(l,h);const f=(s.get(a.batchId)||Ke()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,f=lN();h.forEach(p=>{if(!i.has(p)){const g=pN(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return xe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):K.resolve(qo());let a=qu,l=i;return o.next(d=>K.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?K.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,Ke())).next(h=>({batchId:a,changes:aN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let s=Yc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Yc();return this.indexManager.getCollectionParents(e,i).next(a=>K.forEach(a,l=>{const d=function(f,p){return new pc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,jn.newInvalidDocument(h)))});let a=Yc();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&gu(h.mutation,d,cr.empty(),It.now()),Jp(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return K.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:_s(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:A$(s.bundledQuery),readTime:_s(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(){this.overlays=new Vt(xe.comparator),this.kr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qo();return K.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const s=qo(),i=n.length+1,o=new xe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Vt((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=qo(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=qo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return K.resolve(a)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new o$(n,r));let i=this.kr.get(n);i===void 0&&(i=Ke(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.qr=new ln(un.Qr),this.$r=new ln(un.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new un(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new un(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new xe(new wt([])),r=new un(n,e),s=new un(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new xe(new wt([])),r=new un(n,e),s=new un(n,e+1);let i=Ke();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new un(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class un{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return xe.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new ln(un.Qr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new i$(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new un(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?pw:this.er-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new un(n,0),s=new un(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(Ue);return n.forEach(s=>{const i=new un(s,0),o=new un(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),K.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;xe.isDocumentKey(i)||(i=i.child(""));const o=new un(new xe(i),0);let a=new ln(Ue);return this.Yr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.Hr)),!0)},o),K.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ut(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return K.forEach(n.mutations,s=>{const i=new un(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new un(n,0),s=this.Yr.firstAfterOrEqual(r);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e){this.ni=e,this.docs=function(){return new Vt(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(n))}getEntries(e,n){let r=ri();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():jn.newInvalidDocument(s))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ri();const o=n.path,a=new xe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||x9(w9(h),r)<=0||(s.has(h.key)||Jp(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Te(9500)}ri(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new H$(this)}getSize(e){return K.resolve(this.size)}}class H$ extends V${constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e){this.persistence=e,this.ii=new Ia(n=>yw(n),vw),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.si=0,this.oi=new Sw,this.targetCount=0,this._i=Gl.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),K.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Gl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.hr(n),K.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),K.waitFor(i).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),K.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){this.ai={},this.overlays={},this.ui=new Qp(0),this.ci=!1,this.ci=!0,this.li=new B$,this.referenceDelegate=e(this),this.hi=new q$(this),this.indexManager=new N$,this.remoteDocumentCache=function(s){return new W$(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new k$(n),this.Ti=new U$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new z$(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const s=new G$(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return K.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class G$ extends b9{constructor(e){super(),this.currentSequenceNumber=e}}class Cw{constructor(e){this.persistence=e,this.Ai=new Sw,this.Ri=null}static Vi(e){return new Cw(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.mi,r=>{const s=xe.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,Ne.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return K.or([()=>K.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Qf{constructor(e,n){this.persistence=e,this.gi=new Ia(r=>C9(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=M$(this,n)}static Vi(e,n){return new Qf(e,n)}Ii(){}di(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return K.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?K.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Ne.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),K.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zh(e.data.value)),n}Sr(e,n,r){return K.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return K.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=Ke(),s=Ke();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Iw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return E6()?8:T9(Dn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new K$;return this.ws(e,n,o).next(a=>{if(i.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(Ba()<=Ge.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(Ba()<=Ge.DEBUG&&he("QueryEngine","Query:",za(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Ba()<=Ge.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vs(n))):K.resolve())}ps(e,n){if(X1(n))return K.resolve(null);let r=vs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=dv(n,null,"F"),r=vs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ke(...i);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.bs(n,a);return this.Ds(n,d,o,l.readTime)?this.ps(e,dv(n,null,"F")):this.vs(e,d,n,l)}))})))}ys(e,n,r,s){return X1(n)||s.isEqual(Ne.min())?K.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?K.resolve(null):(Ba()<=Ge.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),za(n)),this.vs(e,o,n,_9(s,qu)).next(a=>a))})}bs(e,n){let r=new ln(iN(e));return n.forEach((s,i)=>{Jp(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return Ba()<=Ge.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",za(n)),this.gs.getDocumentsMatchingQuery(e,n,mo.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="LocalStore",Y$=3e8;class X${constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Vt(Ue),this.Ms=new Ia(i=>yw(i),vw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F$(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function Z$(t,e,n,r){return new X$(t,e,n,r)}async function kN(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ke();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({Bs:d,removedBatchIds:o,addedBatchIds:a}))})})}function J$(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){const f=d.batch,p=f.keys();let g=K.resolve();return p.forEach(T=>{g=g.next(()=>h.getEntry(l,T)).next(x=>{const _=d.docVersions.get(T);ut(_!==null,48541),x.version.compareTo(_)<0&&(f.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),h.addEntry(x)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ke();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function AN(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function eB(t,e){const n=Oe(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.hi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.hi.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(bn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(x,_,w){return x.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Y$?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,g,h)&&a.push(n.hi.updateTargetData(i,g))});let l=ri(),d=Ke();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(tB(i,o,e.documentUpdates).next(h=>{l=h.Ls,d=h.ks})),!r.isEqual(Ne.min())){const h=n.hi.getLastRemoteSnapshotVersion(i).next(f=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return K.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.Fs=s,i))}function tB(t,e,n){let r=Ke(),s=Ke();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ri();return n.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):he(kw,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{Ls:o,ks:s}})}function nB(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=pw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rB(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,K.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new Bi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function gv(t,e,n){const r=Oe(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!fc(o))throw o;he(kw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function ub(t,e,n){const r=Oe(t);let s=Ne.min(),i=Ke();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const f=Oe(l),p=f.Ms.get(h);return p!==void 0?K.resolve(f.Fs.get(p)):f.hi.getTargetData(d,h)}(r,o,vs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:Ne.min(),n?i:Ke())).next(a=>(sB(r,W9(e),a),{documents:a,qs:i})))}function sB(t,e,n){let r=t.xs.get(e)||Ne.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class db{constructor(){this.activeTargetIds=Y9()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iB{constructor(){this.Fo=new db,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new db,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="ConnectivityMonitor";class fb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){he(hb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){he(hb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function yv(){return vh===null?vh=function(){return 268435456+Math.round(2147483648*Math.random())}():vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="RestConnection",aB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lB{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Wf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=yv(),a=this.Go(e,n.toUriEncodedString());he(Ig,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,s,i);const{host:d}=new URL(a),h=cc(d);return this.jo(e,a,l,r,h).then(f=>(he(Ig,`Received RPC '${e}' ${o}: `,f),f),f=>{throw po(Ig,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=aB[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class uB extends lB{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=yv();return new Promise((a,l)=>{const d=new NA;d.setWithCredentials(!0),d.listenOnce(PA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Bh.NO_ERROR:const f=d.getResponseJson();he(An,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Bh.TIMEOUT:he(An,`RPC '${e}' ${o} timed out`),l(new ce(q.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:const p=d.getStatus();if(he(An,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);const T=g==null?void 0:g.error;if(T&&T.status&&T.message){const x=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(y)>=0?y:q.UNKNOWN}(T.status);l(new ce(x,T.message))}else l(new ce(q.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new ce(q.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:o,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{he(An,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);he(An,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}P_(e,n,r){const s=yv(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OA(),a=jA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");he(An,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);this.T_(f);let p=!1,g=!1;const T=new cB({Ho:_=>{g?he(An,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(he(An,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),he(An,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},Yo:()=>f.close()}),x=(_,w,y)=>{_.listen(w,E=>{try{y(E)}catch(I){setTimeout(()=>{throw I},0)}})};return x(f,Qc.EventType.OPEN,()=>{g||(he(An,`RPC '${e}' stream ${s} transport opened.`),T.s_())}),x(f,Qc.EventType.CLOSE,()=>{g||(g=!0,he(An,`RPC '${e}' stream ${s} transport closed`),T.__(),this.I_(f))}),x(f,Qc.EventType.ERROR,_=>{g||(g=!0,po(An,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),T.__(new ce(q.UNAVAILABLE,"The operation could not be completed")))}),x(f,Qc.EventType.MESSAGE,_=>{var w;if(!g){const y=_.data[0];ut(!!y,16349);const E=y,I=(E==null?void 0:E.error)||((w=E[0])===null||w===void 0?void 0:w.error);if(I){he(An,`RPC '${e}' stream ${s} received error:`,I);const D=I.status;let j=function(k){const P=Xt[k];if(P!==void 0)return gN(P)}(D),C=I.message;j===void 0&&(j=q.INTERNAL,C="Unknown error status: "+D+" with message "+I.message),g=!0,T.__(new ce(j,C)),f.close()}else he(An,`RPC '${e}' stream ${s} received:`,y),T.a_(y)}}),x(a,RA.STAT_EVENT,_=>{_.stat===sv.PROXY?he(An,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===sv.NOPROXY&&he(An,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t){return new p$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="PersistentStream";class PN{constructor(e,n,r,s,i,o,a,l){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new NN(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new ce(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return he(pb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(he(pb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dB extends PN{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=y$(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ne.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?_s(o.readTime):Ne.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=mv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=cv(l)?{documents:w$(i,l)}:{query:x$(i,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_N(i,o.resumeToken);const d=hv(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ne.min())>0){a.readTime=Kf(i,o.snapshotVersion.toTimestamp());const d=hv(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=b$(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=mv(this.serializer),n.removeTarget=e,this.k_(n)}}class hB extends PN{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=_$(e.writeResults,e.commitTime),r=_s(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=mv(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>v$(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{}class pB extends fB{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new ce(q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,fv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(q.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,fv(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(q.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class mB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ni(n),this._a=!1):he("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="RemoteStore";class gB{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{ka(this)&&(he(ma,"Restarting streams for network reachability change."),await async function(l){const d=Oe(l);d.Ia.add(4),await Td(d),d.Aa.set("Unknown"),d.Ia.delete(4),await im(d)}(this))})}),this.Aa=new mB(r,s)}}async function im(t){if(ka(t))for(const e of t.da)await e(!0)}async function Td(t){for(const e of t.da)await e(!1)}function RN(t,e){const n=Oe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Rw(n)?Pw(n):mc(n).x_()&&Nw(n,e))}function Aw(t,e){const n=Oe(t),r=mc(n);n.Ta.delete(e),r.x_()&&jN(n,e),n.Ta.size===0&&(r.x_()?r.B_():ka(n)&&n.Aa.set("Unknown"))}function Nw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mc(t).H_(e)}function jN(t,e){t.Ra.$e(e),mc(t).Y_(e)}function Pw(t){t.Ra=new u$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),mc(t).start(),t.Aa.aa()}function Rw(t){return ka(t)&&!mc(t).M_()&&t.Ta.size>0}function ka(t){return Oe(t).Ia.size===0}function ON(t){t.Ra=void 0}async function yB(t){t.Aa.set("Online")}async function vB(t){t.Ta.forEach((e,n)=>{Nw(t,e)})}async function _B(t,e){ON(t),Rw(t)?(t.Aa.la(e),Pw(t)):t.Aa.set("Unknown")}async function wB(t,e,n){if(t.Aa.set("Online"),e instanceof vN&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(r){he(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yf(t,r)}else if(e instanceof qh?t.Ra.Ye(e):e instanceof yN?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Ne.min()))try{const r=await AN(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Ra.Pt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ta.get(d);h&&i.Ta.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.Ta.get(l);if(!h)return;i.Ta.set(l,h.withResumeToken(bn.EMPTY_BYTE_STRING,h.snapshotVersion)),jN(i,l);const f=new Bi(h.target,l,d,h.sequenceNumber);Nw(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){he(ma,"Failed to raise snapshot:",r),await Yf(t,r)}}async function Yf(t,e,n){if(!fc(e))throw e;t.Ia.add(1),await Td(t),t.Aa.set("Offline"),n||(n=()=>AN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(ma,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await im(t)})}function DN(t,e){return e().catch(n=>Yf(t,n,e))}async function om(t){const e=Oe(t),n=_o(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:pw;for(;xB(e);)try{const s=await nB(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,EB(e,s)}catch(s){await Yf(e,s)}MN(e)&&VN(e)}function xB(t){return ka(t)&&t.Pa.length<10}function EB(t,e){t.Pa.push(e);const n=_o(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function MN(t){return ka(t)&&!_o(t).M_()&&t.Pa.length>0}function VN(t){_o(t).start()}async function bB(t){_o(t).na()}async function TB(t){const e=_o(t);for(const n of t.Pa)e.X_(n.mutations)}async function SB(t,e,n){const r=t.Pa.shift(),s=Ew.from(r,e,n);await DN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await om(t)}async function CB(t,e){e&&_o(t).Z_&&await async function(r,s){if(function(o){return l$(o)&&o!==q.ABORTED}(s.code)){const i=r.Pa.shift();_o(r).N_(),await DN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await om(r)}}(t,e),MN(t)&&VN(t)}async function mb(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),he(ma,"RemoteStore received new credentials");const r=ka(n);n.Ia.add(3),await Td(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await im(n)}async function IB(t,e){const n=Oe(t);e?(n.Ia.delete(2),await im(n)):e||(n.Ia.add(2),await Td(n),n.Aa.set("Unknown"))}function mc(t){return t.Va||(t.Va=function(n,r,s){const i=Oe(n);return i.ia(),new dB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:yB.bind(null,t),e_:vB.bind(null,t),n_:_B.bind(null,t),J_:wB.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Rw(t)?Pw(t):t.Aa.set("Unknown")):(await t.Va.stop(),ON(t))})),t.Va}function _o(t){return t.ma||(t.ma=function(n,r,s){const i=Oe(n);return i.ia(),new hB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:bB.bind(null,t),n_:CB.bind(null,t),ea:TB.bind(null,t),ta:SB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await om(t)):(await t.ma.stop(),t.Pa.length>0&&(he(ma,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new jw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ow(t,e){if(ni("AsyncQueue",`${e}: ${t}`),fc(t))return new ce(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Yc(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.fa=new Vt(xe.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Te(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Kl{constructor(e,n,r,s,i,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Kl(e,n,gl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class AB{constructor(){this.queries=yb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=Oe(n),i=s.queries;s.queries=yb(),i.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new ce(q.ABORTED,"Firestore shutting down"))}}function yb(){return new Ia(t=>sN(t),Zp)}async function LN(t,e){const n=Oe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new kB,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Ow(o,`Initialization of query '${za(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&Dw(n)}async function FN(t,e){const n=Oe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NB(t,e){const n=Oe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.wa)a.Ca(s)&&(r=!0);o.ya=s}}r&&Dw(n)}function PB(t,e,n){const r=Oe(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function Dw(t){t.Da.forEach(e=>{e.next()})}var vv,vb;(vb=vv||(vv={})).Fa="default",vb.Cache="cache";class UN{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==vv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.key=e}}class BN{constructor(e){this.key=e}}class RB{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ke(),this.mutatedKeys=Ke(),this.Xa=iN(e),this.eu=new gl(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new gb,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=Jp(this.query,f)?f:null,T=!!p&&this.mutatedKeys.has(p.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;p&&g?p.data.isEqual(g.data)?T!==x&&(r.track({type:3,doc:g}),_=!0):this.iu(p,g)||(r.track({type:2,doc:g}),_=!0,(l&&this.Xa(g,l)>0||d&&this.Xa(g,d)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),_=!0):p&&!g&&(r.track({type:1,doc:p}),_=!0,(l||d)&&(a=!0)),_&&(g?(o=o.add(g),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{eu:o,ru:r,Ds:a,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,f)=>function(g,T){const x=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:_})}};return x(g)-x(T)}(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(r),s=s!=null&&s;const a=n&&!s?this.ou():[],l=this.Za.size===0&&this.current&&!s?1:0,d=l!==this.Ya;return this.Ya=l,o.length!==0||d?{snapshot:new Kl(this.query,e.eu,i,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new gb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ke(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new BN(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new $N(r))}),n}uu(e){this.Ha=e.qs,this.Za=Ke();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Kl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Mw="SyncEngine";class jB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class OB{constructor(e){this.key=e,this.lu=!1}}class DB{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Ia(a=>sN(a),Zp),this.Tu=new Map,this.Iu=new Set,this.du=new Vt(xe.comparator),this.Eu=new Map,this.Au=new Sw,this.Ru={},this.Vu=new Map,this.mu=Gl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function MB(t,e,n=!0){const r=KN(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await zN(r,e,n,!0),s}async function VB(t,e){const n=KN(t);await zN(n,e,!0,!1)}async function zN(t,e,n,r){const s=await rB(t.localStore,vs(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await LB(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&RN(t.remoteStore,s),a}async function LB(t,e,n,r,s){t.gu=(f,p,g)=>async function(x,_,w,y){let E=_.view.nu(w);E.Ds&&(E=await ub(x.localStore,_.query,!1).then(({documents:C})=>_.view.nu(C,E)));const I=y&&y.targetChanges.get(_.targetId),D=y&&y.targetMismatches.get(_.targetId)!=null,j=_.view.applyChanges(E,x.isPrimaryClient,I,D);return wb(x,_.targetId,j._u),j.snapshot}(t,f,p,g);const i=await ub(t.localStore,e,!0),o=new RB(e,i.qs),a=o.nu(i.documents),l=bd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);wb(t,n,d._u);const h=new jB(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),d.snapshot}async function FB(t,e,n){const r=Oe(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!Zp(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await gv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Aw(r.remoteStore,s.targetId),_v(r,s.targetId)}).catch(hc)):(_v(r,s.targetId),await gv(r.localStore,s.targetId,!0))}async function UB(t,e){const n=Oe(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Aw(n.remoteStore,r.targetId))}async function $B(t,e,n){const r=KB(t);try{const s=await function(o,a){const l=Oe(o),d=It.now(),h=a.reduce((g,T)=>g.add(T.key),Ke());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let T=ri(),x=Ke();return l.Os.getEntries(g,h).next(_=>{T=_,T.forEach((w,y)=>{y.isValidDocument()||(x=x.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,T)).next(_=>{f=_;const w=[];for(const y of a){const E=r$(y,f.get(y.key).overlayedDocument);E!=null&&w.push(new ko(y.key,E,YA(E.value.mapValue),$n.exists(!0)))}return l.mutationQueue.addMutationBatch(g,d,w,a)}).next(_=>{p=_;const w=_.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(g,_.batchId,w)})}).then(()=>({batchId:p.batchId,changes:aN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let d=o.Ru[o.currentUser.toKey()];d||(d=new Vt(Ue)),d=d.insert(a,l),o.Ru[o.currentUser.toKey()]=d}(r,s.batchId,n),await Sd(r,s.changes),await om(r.remoteStore)}catch(s){const i=Ow(s,"Failed to persist write");n.reject(i)}}async function WN(t,e){const n=Oe(t);try{const r=await eB(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(ut(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?ut(o.lu,14607):s.removedDocuments.size>0&&(ut(o.lu,42227),o.lu=!1))}),await Sd(n,r,e)}catch(r){await hc(r)}}function _b(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Oe(o);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(const p of f.wa)p.va(a)&&(d=!0)}),d&&Dw(l)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BB(t,e,n){const r=Oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Vt(xe.comparator);o=o.insert(i,jn.newNoDocument(i,Ne.min()));const a=Ke().add(i),l=new rm(Ne.min(),new Map,new Vt(Ue),o,a);await WN(r,l),r.du=r.du.remove(i),r.Eu.delete(e),Vw(r)}else await gv(r.localStore,e,!1).then(()=>_v(r,e,n)).catch(hc)}async function zB(t,e){const n=Oe(t),r=e.batch.batchId;try{const s=await J$(n.localStore,e);qN(n,r,null),HN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sd(n,s)}catch(s){await hc(s)}}async function WB(t,e,n){const r=Oe(t);try{const s=await function(o,a){const l=Oe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(f=>(ut(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);qN(r,e,n),HN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sd(r,s)}catch(s){await hc(s)}}function HN(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function qN(t,e,n){const r=Oe(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function _v(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||GN(t,r)})}function GN(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Aw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Vw(t))}function wb(t,e,n){for(const r of n)r instanceof $N?(t.Au.addReference(r.key,e),HB(t,r)):r instanceof BN?(he(Mw,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||GN(t,r.key)):Te(19791,{yu:r})}function HB(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(he(Mw,"New document in limbo: "+n),t.Iu.add(r),Vw(t))}function Vw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new xe(wt.fromString(e)),r=t.mu.next();t.Eu.set(r,new OB(n)),t.du=t.du.insert(n,r),RN(t.remoteStore,new Bi(vs(_w(n.path)),r,"TargetPurposeLimboResolution",Qp.ue))}}async function Sd(t,e,n){const r=Oe(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Iw.Es(l.targetId,d);i.push(f)}}))}),await Promise.all(o),r.hu.J_(s),await async function(l,d){const h=Oe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>K.forEach(d,p=>K.forEach(p.Is,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>K.forEach(p.ds,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!fc(f))throw f;he(kw,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const g=h.Fs.get(p),T=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(T);h.Fs=h.Fs.insert(p,x)}}}(r.localStore,i))}async function qB(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){he(Mw,"User change. New user:",e.toKey());const r=await kN(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(a=>{a.forEach(l=>{l.reject(new ce(q.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sd(n,r.Bs)}}function GB(t,e){const n=Oe(t),r=n.Eu.get(e);if(r&&r.lu)return Ke().add(r.key);{let s=Ke();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const a=n.Pu.get(o);s=s.unionWith(a.view.tu)}return s}}function KN(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BB.bind(null,e),e.hu.J_=NB.bind(null,e.eventManager),e.hu.pu=PB.bind(null,e.eventManager),e}function KB(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WB.bind(null,e),e}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Z$(this.persistence,new Q$,e.initialUser,this.serializer)}Du(e){return new IN(Cw.Vi,this.serializer)}bu(e){return new iB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class QB extends Xf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ut(this.persistence.referenceDelegate instanceof Qf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new O$(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new IN(r=>Qf.Vi(r,n),this.serializer)}}class wv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_b(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qB.bind(null,this.syncEngine),await IB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AB}()}createDatastore(e){const n=sm(e.databaseInfo.databaseId),r=function(i){return new uB(i)}(e.databaseInfo);return function(i,o,a,l){return new pB(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new gB(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_b(this.syncEngine,n,0),function(){return fb.C()?new fb:new oB}())}createSyncEngine(e,n){return function(s,i,o,a,l,d,h){const f=new DB(s,i,o,a,l,d);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Oe(s);he(ma,"RemoteStore shutting down."),i.Ia.add(5),await Td(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wv.provider={build:()=>new wv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="FirestoreClient";class YB{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Pn.UNAUTHENTICATED,this.clientId=fw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{he(wo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(he(wo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ow(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ag(t,e){t.asyncQueue.verifyOperationInProgress(),he(wo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await kN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{po("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{he("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{po("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function xb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XB(t);he(wo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>mb(e.remoteStore,s)),t._onlineComponents=e}async function XB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(wo,"Using user provided OfflineComponentProvider");try{await Ag(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Ag(t,new Xf)}}else he(wo,"Using default OfflineComponentProvider"),await Ag(t,new QB(void 0));return t._offlineComponents}async function YN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(wo,"Using user provided OnlineComponentProvider"),await xb(t,t._uninitializedComponentsProvider._online)):(he(wo,"Using default OnlineComponentProvider"),await xb(t,new wv))),t._onlineComponents}function ZB(t){return YN(t).then(e=>e.syncEngine)}async function XN(t){const e=await YN(t),n=e.eventManager;return n.onListen=MB.bind(null,e.syncEngine),n.onUnlisten=FB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UB.bind(null,e.syncEngine),n}function JB(t,e,n={}){const r=new qs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new QN({next:p=>{h.Ou(),o.enqueueAndForget(()=>FN(i,f));const g=p.docs.has(a);!g&&p.fromCache?d.reject(new ce(q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?d.reject(new ce(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new UN(_w(a.path),h,{includeMetadataChanges:!0,ka:!0});return LN(i,f)}(await XN(t),t.asyncQueue,e,n,r)),r.promise}function ez(t,e,n={}){const r=new qs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new QN({next:p=>{h.Ou(),o.enqueueAndForget(()=>FN(i,f)),p.fromCache&&l.source==="server"?d.reject(new ce(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new UN(a,h,{includeMetadataChanges:!0,ka:!0});return LN(i,f)}(await XN(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="firestore.googleapis.com",bb=!0;class Tb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JN,this.ssl=bb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:bb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R$)throw new ce(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class am{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new c9;switch(r.type){case"firstParty":return new f9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Eb.get(n);r&&(he("ComponentProvider","Removing Datastore"),Eb.delete(n),r.terminate())}(this),Promise.resolve()}}function tz(t,e,n,r={}){var s;t=Ar(t,am);const i=cc(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(Uk(`https://${l}`),$k("Firestore",!0)),o.host!==JN&&o.host!==l&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!Js(d,a)&&(t._setSettings(d),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Pn.MOCK_USER;else{h=f6(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ce(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Pn(p)}t._authCredentials=new u9(new MA(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Aa(this.firestore,e,this._query)}}class Gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xd(n,Gt._jsonSchema))return new Gt(e,r||null,new xe(wt.fromString(n.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:nn("string",Gt._jsonSchemaVersion),referencePath:nn("string")};class ro extends Aa{constructor(e,n,r){super(e,n,_w(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new xe(e))}withConverter(e){return new ro(this.firestore,e,this._path)}}function fr(t,e,...n){if(t=Mt(t),LA("collection","path",e),t instanceof am){const r=wt.fromString(e,...n);return V1(r),new ro(t,null,r)}{if(!(t instanceof Gt||t instanceof ro))throw new ce(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return V1(r),new ro(t.firestore,null,r)}}function Nt(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=fw.newId()),LA("doc","path",e),t instanceof am){const r=wt.fromString(e,...n);return M1(r),new Gt(t,null,new xe(r))}{if(!(t instanceof Gt||t instanceof ro))throw new ce(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return M1(r),new Gt(t.firestore,t instanceof ro?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="AsyncQueue";class Cb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new NN(this,"async_queue_retry"),this.oc=()=>{const r=kg();r&&he(Sb,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new qs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!fc(e))throw e;he(Sb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ni("INTERNAL UNHANDLED ERROR: ",Ib(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=jw.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&Te(47125,{hc:Ib(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Ib(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ao extends am{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Cb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cb(e),this._firestoreClient=void 0,await e}}}function nz(t,e){const n=typeof t=="object"?t:Hk(),r=typeof t=="string"?t:Wf,s=tw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=d6("firestore");i&&tz(s,...i)}return s}function lm(t){if(t._terminated)throw new ce(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rz(t),t._firestoreClient}function rz(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,d,h){return new A9(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ZN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new YB(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Er(bn.fromBase64String(e))}catch(n){throw new ce(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Er(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Er._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xd(e,Er._jsonSchema))return Er.fromBase64String(e.bytes)}}Er._jsonSchemaVersion="firestore/bytes/1.0",Er._jsonSchema={type:nn("string",Er._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ws._jsonSchemaVersion}}static fromJSON(e){if(xd(e,ws._jsonSchema))return new ws(e.latitude,e.longitude)}}ws._jsonSchemaVersion="firestore/geoPoint/1.0",ws._jsonSchema={type:nn("string",ws._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:xs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xd(e,xs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new xs(e.vectorValues);throw new ce(q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xs._jsonSchemaVersion="firestore/vectorValue/1.0",xs._jsonSchema={type:nn("string",xs._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=/^__.*__$/;class iz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ed(e,this.data,n,this.fieldTransforms)}}class eP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:t})}}class cm{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Zf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(tP(this.Ec)&&sz.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class oz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sm(e)}Dc(e,n,r,s=!1){return new cm({Ec:e,methodName:n,bc:r,path:_n.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Id(t){const e=t._freezeSettings(),n=sm(t._databaseId);return new oz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Lw(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);Bw("Data must be an object, but it was:",o,r);const a=iP(r,o);let l,d;if(i.merge)l=new cr(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=xv(e,f,n);if(!o.contains(p))throw new ce(q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);aP(h,p)||h.push(p)}l=new cr(h),d=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=o.fieldTransforms;return new iz(new Zn(a),l,d)}class um extends gc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof um}}function nP(t,e,n){return new cm({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Fw extends gc{_toFieldTransform(e){return new xw(e.path,new Xu)}isEqual(e){return e instanceof Fw}}class Uw extends gc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=nP(this,e,!0),r=this.vc.map(i=>Na(i,n)),s=new Hl(r);return new xw(e.path,s)}isEqual(e){return e instanceof Uw&&Js(this.vc,e.vc)}}class $w extends gc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=nP(this,e,!0),r=this.vc.map(i=>Na(i,n)),s=new ql(r);return new xw(e.path,s)}isEqual(e){return e instanceof $w&&Js(this.vc,e.vc)}}function rP(t,e,n,r){const s=t.Dc(1,e,n);Bw("Data must be an object, but it was:",s,r);const i=[],o=Zn.empty();Io(r,(l,d)=>{const h=zw(e,l,n);d=Mt(d);const f=s.gc(h);if(d instanceof um)i.push(h);else{const p=Na(d,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new cr(i);return new eP(o,a,s.fieldTransforms)}function sP(t,e,n,r,s,i){const o=t.Dc(1,e,n),a=[xv(e,r,n)],l=[s];if(i.length%2!=0)throw new ce(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(xv(e,i[p])),l.push(i[p+1]);const d=[],h=Zn.empty();for(let p=a.length-1;p>=0;--p)if(!aP(d,a[p])){const g=a[p];let T=l[p];T=Mt(T);const x=o.gc(g);if(T instanceof um)d.push(g);else{const _=Na(T,x);_!=null&&(d.push(g),h.set(g,_))}}const f=new cr(d);return new eP(h,f,o.fieldTransforms)}function az(t,e,n,r=!1){return Na(n,t.Dc(r?4:3,e))}function Na(t,e){if(oP(t=Mt(t)))return Bw("Unsupported field value:",e,t),iP(t,e);if(t instanceof gc)return function(r,s){if(!tP(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Na(a,s.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return X9(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=It.fromDate(r);return{timestampValue:Kf(s.serializer,i)}}if(r instanceof It){const i=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kf(s.serializer,i)}}if(r instanceof ws)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Er)return{bytesValue:_N(s.serializer,r._byteString)};if(r instanceof Gt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Tw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xs)return function(o,a){return{mapValue:{fields:{[GA]:{stringValue:QA},[Hf]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.wc("VectorValues must only contain numeric values.");return ww(a.serializer,d)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${Kp(r)}`)}(t,e)}function iP(t,e){const n={};return $A(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(t,(r,s)=>{const i=Na(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function oP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof It||t instanceof ws||t instanceof Er||t instanceof Gt||t instanceof gc||t instanceof xs)}function Bw(t,e,n){if(!oP(n)||!FA(n)){const r=Kp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function xv(t,e,n){if((e=Mt(e))instanceof Cd)return e._internalPath;if(typeof e=="string")return zw(t,e);throw Zf("Field path arguments must be of type string or ",t,!1,void 0,n)}const lz=new RegExp("[~\\*/\\[\\]]");function zw(t,e,n){if(e.search(lz)>=0)throw Zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cd(...e.split("."))._internalPath}catch{throw Zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ce(q.INVALID_ARGUMENT,a+t+l)}function aP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cz extends lP{data(){return super.data()}}function dm(t,e){return typeof e=="string"?zw(t,e):e instanceof Cd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ww{}class cP extends Ww{}function di(t,e,...n){let r=[];e instanceof Ww&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Hw).length,a=i.filter(l=>l instanceof hm).length;if(o>1||o>0&&a>0)throw new ce(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class hm extends cP{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hm(e,n,r)}_apply(e){const n=this._parse(e);return uP(e._query,n),new Aa(e.firestore,e.converter,uv(e._query,n))}_parse(e){const n=Id(e.firestore);return function(i,o,a,l,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ce(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Ab(f,h);const T=[];for(const x of f)T.push(kb(l,i,x));p={arrayValue:{values:T}}}else p=kb(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Ab(f,h),p=az(a,o,f,h==="in"||h==="not-in");return Jt.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kr(t,e,n){const r=e,s=dm("where",t);return hm._create(s,r,n)}class Hw extends Ww{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)uP(o,l),o=uv(o,l)}(e._query,n),new Aa(e.firestore,e.converter,uv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qw extends cP{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qw(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ce(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ce(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yu(i,o)}(e._query,this._field,this._direction);return new Aa(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new pc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function es(t,e="asc"){const n=e,r=dm("orderBy",t);return qw._create(r,n)}function kb(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new ce(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rN(e)&&n.indexOf("/")!==-1)throw new ce(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(wt.fromString(n));if(!xe.isDocumentKey(r))throw new ce(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return H1(t,new xe(r))}if(n instanceof Gt)return H1(t,n._key);throw new ce(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kp(n)}.`)}function Ab(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uP(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dz{convertValue(e,n="none"){switch(vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Io(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Hf].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Bt(o.doubleValue));return new xs(i)}convertGeoPoint(e){return new ws(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const n=go(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);ut(SN(r),9688,{name:e});const s=new Ku(r.get(1),r.get(3)),i=new xe(r.popFirst(5));return s.isEqual(n)||ni(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Zc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends lP{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ra._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:nn("string",ra._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class Gh extends ra{data(e={}){return super.data(e)}}class yl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Zc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gh(this._firestore,this._userDataWriter,r.key,r,new Zc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Gh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Zc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Gh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Zc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:hz(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t){t=Ar(t,Gt);const e=Ar(t.firestore,Ao);return JB(lm(e),t._key).then(n=>fz(e,t,n))}yl._jsonSchemaVersion="firestore/querySnapshot/1.0",yl._jsonSchema={type:nn("string",yl._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class dP extends dz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Er(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,n)}}function hi(t){t=Ar(t,Aa);const e=Ar(t.firestore,Ao),n=lm(e),r=new dP(e);return uz(t._query),ez(n,t._query).then(s=>new yl(e,r,t,s))}function Va(t,e,n){t=Ar(t,Gt);const r=Ar(t.firestore,Ao),s=Gw(t.converter,e,n);return kd(r,[Lw(Id(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,$n.none())])}function fi(t,e,n,...r){t=Ar(t,Gt);const s=Ar(t.firestore,Ao),i=Id(s);let o;return o=typeof(e=Mt(e))=="string"||e instanceof Cd?sP(i,"updateDoc",t._key,e,n,r):rP(i,"updateDoc",t._key,e),kd(s,[o.toMutation(t._key,$n.exists(!0))])}function fm(t){return kd(Ar(t.firestore,Ao),[new nm(t._key,$n.none())])}function yc(t,e){const n=Ar(t.firestore,Ao),r=Nt(t),s=Gw(t.converter,e);return kd(n,[Lw(Id(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}function kd(t,e){return function(r,s){const i=new qs;return r.asyncQueue.enqueueAndForget(async()=>$B(await ZB(r),s,i)),i.promise}(lm(t),e)}function fz(t,e,n){const r=n.docs.get(e._key),s=new dP(t);return new ra(t,s,e._key,r,new Zc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Id(e)}set(e,n,r){this._verifyNotCommitted();const s=Ng(e,this._firestore),i=Gw(s.converter,n,r),o=Lw(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,$n.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Ng(e,this._firestore);let o;return o=typeof(n=Mt(n))=="string"||n instanceof Cd?sP(this._dataReader,"WriteBatch.update",i._key,n,r,s):rP(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,$n.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ng(e,this._firestore);return this._mutations=this._mutations.concat(new nm(n._key,$n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ng(t,e){if((t=Mt(t)).firestore!==e)throw new ce(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Je(){return new Fw("serverTimestamp")}function mz(...t){return new Uw("arrayUnion",t)}function gz(...t){return new $w("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t){return lm(t=Ar(t,Ao)),new pz(t,e=>kd(t,e))}(function(e,n=!0){(function(s){dc=s})(uc),Ul(new da("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ao(new d9(r.getProvider("auth-internal")),new p9(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ce(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),to(P1,R1,e),to(P1,R1,"esm2017")})();var vz="firebase",_z="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */to(vz,_z,"app");const wz={apiKey:"AIzaSyDvxFHXf3JsSv3FSd_aEGoFAdb0VmduwdM",authDomain:"qtonz-sports.firebaseapp.com",projectId:"qtonz-sports",storageBucket:"qtonz-sports.firebasestorage.app",messagingSenderId:"61854773542",appId:"1:61854773542:web:5114c630865f5a929091e7"},hP=Wk(wz),Ii=a9(hP),ze=nz(hP);G5(Ii,_A).catch(t=>{console.error("Failed to set Firebase auth persistence:",t)});const fP=m.createContext(void 0),xz=({children:t})=>{const[e,n]=m.useState(null),[r,s]=m.useState(!0),[i,o]=m.useState(!1),[a,l]=m.useState(!1),d=fd();m.useEffect(()=>{const _=Y5(Ii,async w=>{n(w),w?await h(w.uid):(o(!1),l(!1)),s(!1)});return()=>_()},[]);const h=async _=>{try{const w=await Ev(Nt(ze,"user_roles",_)),y=w.exists()?w.data():null,E=(y==null?void 0:y.roles)??[];o(E.includes("admin")),l(!E.includes("admin"))}catch(w){console.error("Error checking admin role:",w),o(!1),l(!1)}},f=async(_,w,y)=>{try{const I=(await z5(Ii,_,w)).user;return await Va(Nt(ze,"profiles",I.uid),{name:(y==null?void 0:y.name)||"",email:_,phone:(y==null?void 0:y.phone)||"",department:(y==null?void 0:y.department)||"",gender:(y==null?void 0:y.gender)||"",created_at:Je(),updated_at:Je()},{merge:!0}),await Va(Nt(ze,"user_roles",I.uid),{roles:["player"],updated_at:Je(),created_at:Je()},{merge:!0}),{error:null}}catch(E){return{error:E}}},p=async(_,w)=>{try{return await W5(Ii,_,w),d("/"),{error:null}}catch(y){return{error:y}}},g=async()=>{try{const _=new Vs,y=(await gU(Ii,_)).user;return(await Ev(Nt(ze,"profiles",y.uid))).exists()?{error:null,user:y,isNewUser:!1}:(await Va(Nt(ze,"profiles",y.uid),{name:y.displayName||"",email:y.email||"",created_at:Je(),updated_at:Je()},{merge:!0}),await Va(Nt(ze,"user_roles",y.uid),{roles:["player"],updated_at:Je(),created_at:Je()},{merge:!0}),{error:null,user:y,isNewUser:!0})}catch(_){return{error:_}}},T=async _=>{try{const w=Ii.currentUser;if(!w)throw new Error("No authenticated user found");return await Va(Nt(ze,"profiles",w.uid),{name:w.displayName||"",email:w.email||"",phone:(_==null?void 0:_.phone)||"",department:(_==null?void 0:_.department)||"",gender:(_==null?void 0:_.gender)||"",password:(_==null?void 0:_.password)||"",created_at:Je(),updated_at:Je()},{merge:!0}),await Va(Nt(ze,"user_roles",w.uid),{roles:["player"],updated_at:Je(),created_at:Je()},{merge:!0}),{error:null}}catch(w){return{error:w}}},x=async()=>{await X5(Ii),o(!1),d("/")};return c.jsx(fP.Provider,{value:{user:e,loading:r,isAdmin:i,isPlayer:a,signUp:f,signIn:p,signInWithGoogle:g,signUpWithGoogle:T,signOut:x},children:t})},No=()=>{const t=m.useContext(fP);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Ez=rc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pe=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?nc:"button";return c.jsx(o,{className:pe(Ez({variant:e,size:n,className:t})),ref:i,...s})});Pe.displayName="Button";const bz=()=>{const{user:t,signOut:e,isAdmin:n,isPlayer:r}=No(),[s,i]=m.useState(!1);return c.jsxs("nav",{className:"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[c.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[c.jsxs(mt,{to:"/",className:"flex items-center space-x-2",children:[c.jsx(Ir,{className:"h-6 w-6 text-primary"}),c.jsx("span",{className:"text-xl font-bold text-foreground",children:"SportsBracket"})]}),c.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[c.jsx(mt,{to:"/leaderboard",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Leaderboard"}),r&&c.jsx(mt,{to:"/dashboard",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Player Dashboard"}),n&&c.jsx(mt,{to:"/admin",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Admin"})]}),c.jsx("div",{className:"hidden md:flex items-center space-x-3",children:t?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:t.displayName}),c.jsxs(Pe,{variant:"ghost",onClick:e,children:[c.jsx(bf,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):c.jsxs(c.Fragment,{children:[c.jsx(mt,{to:"/login",children:c.jsx(Pe,{variant:"ghost",children:"Login"})}),c.jsx(mt,{to:"/register",children:c.jsx(Pe,{children:"Register"})})]})}),c.jsx("button",{className:"md:hidden p-2",onClick:()=>i(!s),"aria-label":"Toggle menu",children:s?c.jsx(Pp,{className:"h-6 w-6"}):c.jsx(bM,{className:"h-6 w-6"})})]}),s&&c.jsx("div",{className:"md:hidden border-t border-border bg-background",children:c.jsxs("div",{className:"container py-4 space-y-3",children:[c.jsx(mt,{to:"/leaderboard",className:"block py-2 text-sm font-medium text-foreground hover:text-primary transition-colors",onClick:()=>i(!1),children:"Leaderboard"}),r&&c.jsx(mt,{to:"/dashboard",className:"block py-2 text-sm font-medium text-foreground hover:text-primary transition-colors",onClick:()=>i(!1),children:"Player Dashboard"}),n&&c.jsx(mt,{to:"/admin",className:"block py-2 text-sm font-medium text-foreground hover:text-primary transition-colors",onClick:()=>i(!1),children:"Admin"}),c.jsx("div",{className:"flex flex-col space-y-2 pt-2",children:t?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:t.email}),c.jsxs(Pe,{variant:"ghost",onClick:e,className:"w-full",children:[c.jsx(bf,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):c.jsxs(c.Fragment,{children:[c.jsx(mt,{to:"/login",onClick:()=>i(!1),children:c.jsx(Pe,{variant:"ghost",className:"w-full",children:"Login"})}),c.jsx(mt,{to:"/register",onClick:()=>i(!1),children:c.jsx(Pe,{className:"w-full",children:"Register"})})]})})]})})]})},Tz=()=>c.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-primary via-primary to-primary/80 py-20 md:py-32",children:[c.jsxs("div",{className:"container relative z-10",children:[c.jsxs("div",{className:"mx-auto max-w-4xl text-center",children:[c.jsxs("div",{className:"mb-6 inline-flex items-center rounded-full bg-white/10 px-4 py-2 backdrop-blur-sm",children:[c.jsx(Ir,{className:"mr-2 h-5 w-5 text-accent"}),c.jsx("span",{className:"text-sm font-medium text-white",children:"Sports Week 2025"})]}),c.jsx("h1",{className:"mb-6 text-4xl font-bold tracking-tight text-white sm:text-6xl md:text-7xl",children:"Tournament Management Made Simple"}),c.jsx("p",{className:"mb-8 text-lg text-white/90 md:text-xl",children:"Organize, track, and manage your sports tournaments with ease. From registration to final results, we've got you covered."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(mt,{to:"/register",children:c.jsx(Pe,{size:"lg",className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:"Register Now"})}),c.jsx(mt,{to:"/games",children:c.jsx(Pe,{size:"lg",variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20 backdrop-blur-sm",children:"View Games"})})]})]}),c.jsxs("div",{className:"mt-16 grid gap-6 md:grid-cols-3",children:[c.jsxs("div",{className:"rounded-xl bg-white/10 p-6 backdrop-blur-sm border border-white/20",children:[c.jsx(Ir,{className:"mb-4 h-10 w-10 text-accent"}),c.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"7 Sports"}),c.jsx("p",{className:"text-sm text-white/80",children:"Cricket, Volleyball, Chess, Table Tennis, Carrom, Pool, Pickleball"})]}),c.jsxs("div",{className:"rounded-xl bg-white/10 p-6 backdrop-blur-sm border border-white/20",children:[c.jsx(dd,{className:"mb-4 h-10 w-10 text-accent"}),c.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"Team Management"}),c.jsx("p",{className:"text-sm text-white/80",children:"Create teams, pairs, and track individual players seamlessly"})]}),c.jsxs("div",{className:"rounded-xl bg-white/10 p-6 backdrop-blur-sm border border-white/20",children:[c.jsx(ud,{className:"mb-4 h-10 w-10 text-accent"}),c.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"Live Brackets"}),c.jsx("p",{className:"text-sm text-white/80",children:"Real-time tournament brackets with instant result updates"})]})]})]}),c.jsx("div",{className:"absolute top-0 left-0 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-accent/20 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute bottom-0 right-0 translate-x-1/2 translate-y-1/2 w-96 h-96 bg-white/10 rounded-full blur-3xl"})]}),Qe=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:pe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Qe.displayName="Card";const gt=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:pe("flex flex-col space-y-1.5 p-6",t),...e}));gt.displayName="CardHeader";const yt=m.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:pe("text-2xl font-semibold leading-none tracking-tight",t),...e}));yt.displayName="CardTitle";const ga=m.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:pe("text-sm text-muted-foreground",t),...e}));ga.displayName="CardDescription";const Ye=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:pe("p-6 pt-0",t),...e}));Ye.displayName="CardContent";const Sz=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:pe("flex items-center p-6 pt-0",t),...e}));Sz.displayName="CardFooter";const Cz=rc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Kw({className:t,variant:e,...n}){return c.jsx("div",{className:pe(Cz({variant:e}),t),...n})}const Iz=({name:t,type:e,playersPerTeam:n,icon:r})=>{const s=()=>{switch(e){case"SINGLE":return"1v1";case"PAIR":return"2v2";case"TEAM":return`${n}v${n}`}},i=()=>{switch(e){case"SINGLE":return"default";case"PAIR":return"secondary";case"TEAM":return"outline"}};return c.jsx(Qe,{className:"overflow-hidden transition-all hover:shadow-lg hover:-translate-y-1 cursor-pointer",children:c.jsxs(Ye,{className:"p-6",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsx("div",{className:"rounded-lg bg-primary/10 p-3 text-primary",children:r}),c.jsx(Kw,{variant:i(),className:"text-xs",children:s()})]}),c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:t}),c.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[c.jsx(dd,{className:"mr-1 h-4 w-4"}),c.jsxs("span",{children:[e==="SINGLE"?"Individual":e==="PAIR"?"Doubles":"Team"," Competition"]})]})]})})},kz=()=>{const t=[{name:"Cricket",type:"TEAM",playersPerTeam:11,icon:c.jsx(M_,{className:"h-6 w-6"})},{name:"Volleyball",type:"TEAM",playersPerTeam:6,icon:c.jsx(kM,{className:"h-6 w-6"})},{name:"Chess",type:"SINGLE",playersPerTeam:1,icon:c.jsx(vM,{className:"h-6 w-6"})},{name:"Table Tennis",type:"PAIR",playersPerTeam:2,icon:c.jsx(CE,{className:"h-6 w-6"})},{name:"Carrom",type:"PAIR",playersPerTeam:2,icon:c.jsx(SM,{className:"h-6 w-6"})},{name:"8 Ball Pool",type:"PAIR",playersPerTeam:2,icon:c.jsx(CE,{className:"h-6 w-6"})},{name:"Pickleball",type:"PAIR",playersPerTeam:2,icon:c.jsx(AM,{className:"h-6 w-6"})}];return c.jsx("section",{className:"py-16 md:py-24 bg-muted/30",children:c.jsxs("div",{className:"container",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold tracking-tight text-foreground md:text-4xl mb-4",children:"Tournament Games"}),c.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Compete in 7 exciting sports across different formats - singles, doubles, and team events"})]}),c.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map(e=>c.jsx(Iz,{...e},e.name))})]})})},Az=()=>c.jsx("section",{className:"py-16 md:py-24",children:c.jsxs("div",{className:"container",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold tracking-tight text-foreground md:text-4xl mb-4",children:"Interactive Tournament Brackets"}),c.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Visualize and track tournament progress with our clean bracket system"})]}),c.jsxs(Qe,{className:"overflow-hidden",children:[c.jsx(gt,{className:"bg-gradient-to-r from-primary to-primary/80",children:c.jsx(yt,{className:"text-white",children:"Sample Bracket - 8 Teams"})}),c.jsx(Ye,{className:"p-8",children:c.jsxs("div",{className:"flex justify-center items-center gap-8",children:[c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Quarter Finals"}),[1,2,3,4].map(t=>c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-card hover:border-primary transition-colors cursor-pointer",children:c.jsxs("div",{className:"text-sm font-medium",children:["Team ",t*2-1]})}),c.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-card hover:border-primary transition-colors cursor-pointer",children:c.jsxs("div",{className:"text-sm font-medium",children:["Team ",t*2]})})]},t))]}),c.jsxs("div",{className:"space-y-16",children:[c.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Semi Finals"}),[1,2].map(t=>c.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-muted hover:border-primary transition-colors cursor-pointer min-w-[120px]",children:c.jsxs("div",{className:"text-sm font-medium text-muted-foreground",children:["Winner ",t]})},t))]}),c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Final"}),c.jsx("div",{className:"border-2 border-accent rounded-lg px-4 py-3 bg-accent/5 hover:border-accent transition-colors cursor-pointer min-w-[120px]",children:c.jsx("div",{className:"text-sm font-semibold text-accent",children:"Champion"})})]})]})})]}),c.jsx("div",{className:"mt-8 text-center",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Supports 8, 16, and 32 team brackets with automatic advancement"})})]})}),Nz=()=>c.jsx("footer",{className:"border-t border-border bg-muted/30",children:c.jsxs("div",{className:"container py-12",children:[c.jsxs("div",{className:"grid gap-8 md:grid-cols-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx(Ir,{className:"h-6 w-6 text-primary"}),c.jsx("span",{className:"text-xl font-bold text-foreground",children:"SportsBracket"})]}),c.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Complete tournament management system for organizing and tracking sports events. Built for Sports Week 2025."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsx("li",{children:c.jsx(mt,{to:"/games",className:"text-muted-foreground hover:text-primary transition-colors",children:"Games"})}),c.jsx("li",{children:c.jsx(mt,{to:"/schedule",className:"text-muted-foreground hover:text-primary transition-colors",children:"Schedule"})}),c.jsx("li",{children:c.jsx(mt,{to:"/results",className:"text-muted-foreground hover:text-primary transition-colors",children:"Results"})}),c.jsx("li",{children:c.jsx(mt,{to:"/leaderboard",className:"text-muted-foreground hover:text-primary transition-colors",children:"Leaderboard"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Account"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsx("li",{children:c.jsx(mt,{to:"/login",className:"text-muted-foreground hover:text-primary transition-colors",children:"Login"})}),c.jsx("li",{children:c.jsx(mt,{to:"/register",className:"text-muted-foreground hover:text-primary transition-colors",children:"Register"})})]})]})]}),c.jsx("div",{className:"mt-8 pt-8 border-t border-border text-center text-sm text-muted-foreground",children:" 2025 SportsBracket. Sports Week Tournament Management System."})]})}),Pz=()=>c.jsxs("div",{className:"min-h-screen",children:[c.jsx(bz,{}),c.jsx(Tz,{}),c.jsx(kz,{}),c.jsx(Az,{}),c.jsx(Nz,{})]});var Pg="focusScope.autoFocusOnMount",Rg="focusScope.autoFocusOnUnmount",Nb={bubbles:!1,cancelable:!0},Rz="FocusScope",Qw=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),d=Yr(s),h=Yr(i),f=m.useRef(null),p=vt(e,x=>l(x)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let x=function(E){if(g.paused||!a)return;const I=E.target;a.contains(I)?f.current=I:Ti(f.current,{select:!0})},_=function(E){if(g.paused||!a)return;const I=E.relatedTarget;I!==null&&(a.contains(I)||Ti(f.current,{select:!0}))},w=function(E){if(document.activeElement===document.body)for(const D of E)D.removedNodes.length>0&&Ti(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",_);const y=new MutationObserver(w);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),y.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){Rb.add(g);const x=document.activeElement;if(!a.contains(x)){const w=new CustomEvent(Pg,Nb);a.addEventListener(Pg,d),a.dispatchEvent(w),w.defaultPrevented||(jz(Lz(pP(a)),{select:!0}),document.activeElement===x&&Ti(a))}return()=>{a.removeEventListener(Pg,d),setTimeout(()=>{const w=new CustomEvent(Rg,Nb);a.addEventListener(Rg,h),a.dispatchEvent(w),w.defaultPrevented||Ti(x??document.body,{select:!0}),a.removeEventListener(Rg,h),Rb.remove(g)},0)}}},[a,d,h,g]);const T=m.useCallback(x=>{if(!n&&!r||g.paused)return;const _=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(_&&w){const y=x.currentTarget,[E,I]=Oz(y);E&&I?!x.shiftKey&&w===I?(x.preventDefault(),n&&Ti(E,{select:!0})):x.shiftKey&&w===E&&(x.preventDefault(),n&&Ti(I,{select:!0})):w===y&&x.preventDefault()}},[n,r,g.paused]);return c.jsx(Be.div,{tabIndex:-1,...o,ref:p,onKeyDown:T})});Qw.displayName=Rz;function jz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ti(r,{select:e}),document.activeElement!==n)return}function Oz(t){const e=pP(t),n=Pb(e,t),r=Pb(e.reverse(),t);return[n,r]}function pP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Pb(t,e){for(const n of t)if(!Dz(n,{upTo:e}))return n}function Dz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Mz(t){return t instanceof HTMLInputElement&&"select"in t}function Ti(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Mz(t)&&e&&t.select()}}var Rb=Vz();function Vz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=jb(t,e),t.unshift(e)},remove(e){var n;t=jb(t,e),(n=t[0])==null||n.resume()}}}function jb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Lz(t){return t.filter(e=>e.tagName!=="A")}var jg=0;function mP(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ob()),document.body.insertAdjacentElement("beforeend",t[1]??Ob()),jg++,()=>{jg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),jg--}},[])}function Ob(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Kh="right-scroll-bar-position",Qh="width-before-scroll-bar",Fz="with-scroll-bars-hidden",Uz="--removed-body-scroll-bar-size";function Og(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $z(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Bz=typeof window<"u"?m.useLayoutEffect:m.useEffect,Db=new WeakMap;function zz(t,e){var n=$z(null,function(r){return t.forEach(function(s){return Og(s,r)})});return Bz(function(){var r=Db.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Og(a,null)}),i.forEach(function(a){s.has(a)||Og(a,o)})}Db.set(n,t)},[t]),n}function Wz(t){return t}function Hz(t,e){e===void 0&&(e=Wz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function qz(t){t===void 0&&(t={});var e=Hz(null);return e.options=ds({async:!0,ssr:!1},t),e}var gP=function(t){var e=t.sideCar,n=gd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,ds({},n))};gP.isSideCarExport=!0;function Gz(t,e){return t.useMedium(e),gP}var yP=qz(),Dg=function(){},pm=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Dg,onWheelCapture:Dg,onTouchMoveCapture:Dg}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,g=t.noRelative,T=t.noIsolation,x=t.inert,_=t.allowPinchZoom,w=t.as,y=w===void 0?"div":w,E=t.gapMode,I=gd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=p,j=zz([n,e]),C=ds(ds({},I),s);return m.createElement(m.Fragment,null,h&&m.createElement(D,{sideCar:yP,removeScrollBar:d,shards:f,noRelative:g,noIsolation:T,inert:x,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:E}),o?m.cloneElement(m.Children.only(a),ds(ds({},C),{ref:j})):m.createElement(y,ds({},C,{className:l,ref:j}),a))});pm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pm.classNames={fullWidth:Qh,zeroRight:Kh};var Kz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Qz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Kz();return e&&t.setAttribute("nonce",e),t}function Yz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Xz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Zz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Qz())&&(Yz(e,n),Xz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Jz=function(){var t=Zz();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},vP=function(){var t=Jz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},e8={left:0,top:0,right:0,gap:0},Mg=function(t){return parseInt(t||"",10)||0},t8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Mg(n),Mg(r),Mg(s)]},n8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return e8;var e=t8(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},r8=vP(),vl="data-scroll-locked",s8=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Fz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(vl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Qh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Kh," .").concat(Kh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qh," .").concat(Qh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vl,`] {
    `).concat(Uz,": ").concat(a,`px;
  }
`)},Mb=function(){var t=parseInt(document.body.getAttribute(vl)||"0",10);return isFinite(t)?t:0},i8=function(){m.useEffect(function(){return document.body.setAttribute(vl,(Mb()+1).toString()),function(){var t=Mb()-1;t<=0?document.body.removeAttribute(vl):document.body.setAttribute(vl,t.toString())}},[])},o8=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;i8();var i=m.useMemo(function(){return n8(s)},[s]);return m.createElement(r8,{styles:s8(i,!e,s,n?"":"!important")})},bv=!1;if(typeof window<"u")try{var _h=Object.defineProperty({},"passive",{get:function(){return bv=!0,!0}});window.addEventListener("test",_h,_h),window.removeEventListener("test",_h,_h)}catch{bv=!1}var La=bv?{passive:!1}:!1,a8=function(t){return t.tagName==="TEXTAREA"},_P=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!a8(t)&&n[e]==="visible")},l8=function(t){return _P(t,"overflowY")},c8=function(t){return _P(t,"overflowX")},Vb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=wP(t,r);if(s){var i=xP(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},u8=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},d8=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},wP=function(t,e){return t==="v"?l8(e):c8(e)},xP=function(t,e){return t==="v"?u8(e):d8(e)},h8=function(t,e){return t==="h"&&e==="rtl"?-1:1},f8=function(t,e,n,r,s){var i=h8(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),d=!1,h=o>0,f=0,p=0;do{if(!a)break;var g=xP(t,a),T=g[0],x=g[1],_=g[2],w=x-_-i*T;(T||w)&&wP(t,a)&&(f+=w,p+=T);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(p)<1||!s))&&(d=!0),d},wh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Lb=function(t){return[t.deltaX,t.deltaY]},Fb=function(t){return t&&"current"in t?t.current:t},p8=function(t,e){return t[0]===e[0]&&t[1]===e[1]},m8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},g8=0,Fa=[];function y8(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(g8++)[0],i=m.useState(vP)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=U3([t.lockRef.current],(t.shards||[]).map(Fb),!0).filter(Boolean);return x.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(x,_){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var w=wh(x),y=n.current,E="deltaX"in x?x.deltaX:y[0]-w[0],I="deltaY"in x?x.deltaY:y[1]-w[1],D,j=x.target,C=Math.abs(E)>Math.abs(I)?"h":"v";if("touches"in x&&C==="h"&&j.type==="range")return!1;var S=Vb(C,j);if(!S)return!0;if(S?D=C:(D=C==="v"?"h":"v",S=Vb(C,j)),!S)return!1;if(!r.current&&"changedTouches"in x&&(E||I)&&(r.current=D),!D)return!0;var k=r.current||D;return f8(k,_,x,k==="h"?E:I,!0)},[]),l=m.useCallback(function(x){var _=x;if(!(!Fa.length||Fa[Fa.length-1]!==i)){var w="deltaY"in _?Lb(_):wh(_),y=e.current.filter(function(D){return D.name===_.type&&(D.target===_.target||_.target===D.shadowParent)&&p8(D.delta,w)})[0];if(y&&y.should){_.cancelable&&_.preventDefault();return}if(!y){var E=(o.current.shards||[]).map(Fb).filter(Boolean).filter(function(D){return D.contains(_.target)}),I=E.length>0?a(_,E[0]):!o.current.noIsolation;I&&_.cancelable&&_.preventDefault()}}},[]),d=m.useCallback(function(x,_,w,y){var E={name:x,delta:_,target:w,should:y,shadowParent:v8(w)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(I){return I!==E})},1)},[]),h=m.useCallback(function(x){n.current=wh(x),r.current=void 0},[]),f=m.useCallback(function(x){d(x.type,Lb(x),x.target,a(x,t.lockRef.current))},[]),p=m.useCallback(function(x){d(x.type,wh(x),x.target,a(x,t.lockRef.current))},[]);m.useEffect(function(){return Fa.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,La),document.addEventListener("touchmove",l,La),document.addEventListener("touchstart",h,La),function(){Fa=Fa.filter(function(x){return x!==i}),document.removeEventListener("wheel",l,La),document.removeEventListener("touchmove",l,La),document.removeEventListener("touchstart",h,La)}},[]);var g=t.removeScrollBar,T=t.inert;return m.createElement(m.Fragment,null,T?m.createElement(i,{styles:m8(s)}):null,g?m.createElement(o8,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function v8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const _8=Gz(yP,y8);var Yw=m.forwardRef(function(t,e){return m.createElement(pm,ds({},t,{ref:e,sideCar:_8}))});Yw.classNames=pm.classNames;var w8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ua=new WeakMap,xh=new WeakMap,Eh={},Vg=0,EP=function(t){return t&&(t.host||EP(t.parentNode))},x8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=EP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},E8=function(t,e,n,r){var s=x8(e,Array.isArray(t)?t:[t]);Eh[n]||(Eh[n]=new WeakMap);var i=Eh[n],o=[],a=new Set,l=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var g=p.getAttribute(r),T=g!==null&&g!=="false",x=(Ua.get(p)||0)+1,_=(i.get(p)||0)+1;Ua.set(p,x),i.set(p,_),o.push(p),x===1&&T&&xh.set(p,!0),_===1&&p.setAttribute(n,"true"),T||p.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return h(e),a.clear(),Vg++,function(){o.forEach(function(f){var p=Ua.get(f)-1,g=i.get(f)-1;Ua.set(f,p),i.set(f,g),p||(xh.has(f)||f.removeAttribute(r),xh.delete(f)),g||f.removeAttribute(n)}),Vg--,Vg||(Ua=new WeakMap,Ua=new WeakMap,xh=new WeakMap,Eh={})}},bP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=w8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),E8(r,s,n,"aria-hidden")):function(){return null}},mm="Dialog",[TP,aq]=Ta(mm),[b8,ts]=TP(mm),SP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[d,h]=Ml({prop:r,defaultProp:s??!1,onChange:i,caller:mm});return c.jsx(b8,{scope:e,triggerRef:a,contentRef:l,contentId:na(),titleId:na(),descriptionId:na(),open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};SP.displayName=mm;var CP="DialogTrigger",IP=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ts(CP,n),i=vt(e,s.triggerRef);return c.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Jw(s.open),...r,ref:i,onClick:Ve(t.onClick,s.onOpenToggle)})});IP.displayName=CP;var Xw="DialogPortal",[T8,kP]=TP(Xw,{forceMount:void 0}),AP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ts(Xw,e);return c.jsx(T8,{scope:e,forceMount:n,children:m.Children.map(r,o=>c.jsx(Sa,{present:n||i.open,children:c.jsx(Ip,{asChild:!0,container:s,children:o})}))})};AP.displayName=Xw;var Jf="DialogOverlay",NP=m.forwardRef((t,e)=>{const n=kP(Jf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ts(Jf,t.__scopeDialog);return i.modal?c.jsx(Sa,{present:r||i.open,children:c.jsx(C8,{...s,ref:e})}):null});NP.displayName=Jf;var S8=Dl("DialogOverlay.RemoveScroll"),C8=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ts(Jf,n);return c.jsx(Yw,{as:S8,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(Be.div,{"data-state":Jw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ya="DialogContent",PP=m.forwardRef((t,e)=>{const n=kP(ya,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ts(ya,t.__scopeDialog);return c.jsx(Sa,{present:r||i.open,children:i.modal?c.jsx(I8,{...s,ref:e}):c.jsx(k8,{...s,ref:e})})});PP.displayName=ya;var I8=m.forwardRef((t,e)=>{const n=ts(ya,t.__scopeDialog),r=m.useRef(null),s=vt(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return bP(i)},[]),c.jsx(RP,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ve(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ve(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ve(t.onFocusOutside,i=>i.preventDefault())})}),k8=m.forwardRef((t,e)=>{const n=ts(ya,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return c.jsx(RP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,d;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),RP=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=ts(ya,n),l=m.useRef(null),d=vt(e,l);return mP(),c.jsxs(c.Fragment,{children:[c.jsx(Qw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(ld,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Jw(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(A8,{titleId:a.titleId}),c.jsx(P8,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Zw="DialogTitle",jP=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ts(Zw,n);return c.jsx(Be.h2,{id:s.titleId,...r,ref:e})});jP.displayName=Zw;var OP="DialogDescription",DP=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ts(OP,n);return c.jsx(Be.p,{id:s.descriptionId,...r,ref:e})});DP.displayName=OP;var MP="DialogClose",VP=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ts(MP,n);return c.jsx(Be.button,{type:"button",...r,ref:e,onClick:Ve(t.onClick,()=>s.onOpenChange(!1))})});VP.displayName=MP;function Jw(t){return t?"open":"closed"}var LP="DialogTitleWarning",[lq,FP]=_D(LP,{contentName:ya,titleName:Zw,docsSlug:"dialog"}),A8=({titleId:t})=>{const e=FP(LP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},N8="DialogDescriptionWarning",P8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${FP(N8).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},UP=SP,R8=IP,$P=AP,gm=NP,ym=PP,vm=jP,_m=DP,BP=VP;const sa=UP,ex=R8,j8=$P,zP=m.forwardRef(({className:t,...e},n)=>c.jsx(gm,{ref:n,className:pe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));zP.displayName=gm.displayName;const so=m.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(j8,{children:[c.jsx(zP,{}),c.jsxs(ym,{ref:r,className:pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(BP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(Pp,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));so.displayName=ym.displayName;const io=({className:t,...e})=>c.jsx("div",{className:pe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});io.displayName="DialogHeader";const oo=m.forwardRef(({className:t,...e},n)=>c.jsx(vm,{ref:n,className:pe("text-lg font-semibold leading-none tracking-tight",t),...e}));oo.displayName=vm.displayName;const Tv=m.forwardRef(({className:t,...e},n)=>c.jsx(_m,{ref:n,className:pe("text-sm text-muted-foreground",t),...e}));Tv.displayName=_m.displayName;const xt=m.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));xt.displayName="Input";var O8=Object.defineProperty,D8=Object.defineProperties,M8=Object.getOwnPropertyDescriptors,ep=Object.getOwnPropertySymbols,WP=Object.prototype.hasOwnProperty,HP=Object.prototype.propertyIsEnumerable,Ub=(t,e,n)=>e in t?O8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V8=(t,e)=>{for(var n in e||(e={}))WP.call(e,n)&&Ub(t,n,e[n]);if(ep)for(var n of ep(e))HP.call(e,n)&&Ub(t,n,e[n]);return t},L8=(t,e)=>D8(t,M8(e)),F8=(t,e)=>{var n={};for(var r in t)WP.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ep)for(var r of ep(t))e.indexOf(r)<0&&HP.call(t,r)&&(n[r]=t[r]);return n};function U8(t){let e=setTimeout(t,0),n=setTimeout(t,10),r=setTimeout(t,50);return[e,n,r]}function $8(t){let e=m.useRef();return m.useEffect(()=>{e.current=t}),e.current}var B8=18,qP=40,z8=`${qP}px`,W8=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function H8({containerRef:t,inputRef:e,pushPasswordManagerStrategy:n,isFocused:r}){let[s,i]=m.useState(!1),[o,a]=m.useState(!1),[l,d]=m.useState(!1),h=m.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&s&&o,[s,o,n]),f=m.useCallback(()=>{let p=t.current,g=e.current;if(!p||!g||l||n==="none")return;let T=p,x=T.getBoundingClientRect().left+T.offsetWidth,_=T.getBoundingClientRect().top+T.offsetHeight/2,w=x-B8,y=_;document.querySelectorAll(W8).length===0&&document.elementFromPoint(w,y)===p||(i(!0),d(!0))},[t,e,l,n]);return m.useEffect(()=>{let p=t.current;if(!p||n==="none")return;function g(){let x=window.innerWidth-p.getBoundingClientRect().right;a(x>=qP)}g();let T=setInterval(g,1e3);return()=>{clearInterval(T)}},[t,n]),m.useEffect(()=>{let p=r||document.activeElement===e.current;if(n==="none"||!p)return;let g=setTimeout(f,0),T=setTimeout(f,2e3),x=setTimeout(f,5e3),_=setTimeout(()=>{d(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(T),clearTimeout(x),clearTimeout(_)}},[e,r,n,f]),{hasPWMBadge:s,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:z8}}var GP=m.createContext({}),KP=m.forwardRef((t,e)=>{var n=t,{value:r,onChange:s,maxLength:i,textAlign:o="left",pattern:a,placeholder:l,inputMode:d="numeric",onComplete:h,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:p,containerClassName:g,noScriptCSSFallback:T=q8,render:x,children:_}=n,w=F8(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),y,E,I,D,j;let[C,S]=m.useState(typeof w.defaultValue=="string"?w.defaultValue:""),k=r??C,P=$8(k),O=m.useCallback(fe=>{s==null||s(fe),S(fe)},[s]),R=m.useMemo(()=>a?typeof a=="string"?new RegExp(a):a:null,[a]),A=m.useRef(null),W=m.useRef(null),oe=m.useRef({value:k,onChange:O,isIOS:typeof window<"u"&&((E=(y=window==null?void 0:window.CSS)==null?void 0:y.supports)==null?void 0:E.call(y,"-webkit-touch-callout","none"))}),Q=m.useRef({prev:[(I=A.current)==null?void 0:I.selectionStart,(D=A.current)==null?void 0:D.selectionEnd,(j=A.current)==null?void 0:j.selectionDirection]});m.useImperativeHandle(e,()=>A.current,[]),m.useEffect(()=>{let fe=A.current,V=W.current;if(!fe||!V)return;oe.current.value!==fe.value&&oe.current.onChange(fe.value),Q.current.prev=[fe.selectionStart,fe.selectionEnd,fe.selectionDirection];function Ee(){if(document.activeElement!==fe){le(null),we(null);return}let He=fe.selectionStart,M=fe.selectionEnd,F=fe.selectionDirection,B=fe.maxLength,te=fe.value,J=Q.current.prev,Y=-1,X=-1,ve;if(te.length!==0&&He!==null&&M!==null){let Hn=He===M,yr=He===te.length&&te.length<B;if(Hn&&!yr){let cn=He;if(cn===0)Y=0,X=1,ve="forward";else if(cn===B)Y=cn-1,X=cn,ve="backward";else if(B>1&&te.length>1){let fn=0;if(J[0]!==null&&J[1]!==null){ve=cn<J[1]?"backward":"forward";let ns=J[0]===J[1]&&J[0]<B;ve==="backward"&&!ns&&(fn=-1)}Y=fn+cn,X=fn+cn+1}}Y!==-1&&X!==-1&&Y!==X&&A.current.setSelectionRange(Y,X,ve)}let qe=Y!==-1?Y:He,Qt=X!==-1?X:M,Wn=ve??F;le(qe),we(Qt),Q.current.prev=[qe,Qt,Wn]}if(document.addEventListener("selectionchange",Ee,{capture:!0}),Ee(),document.activeElement===fe&&re(!0),!document.getElementById("input-otp-style")){let He=document.createElement("style");if(He.id="input-otp-style",document.head.appendChild(He),He.sheet){let M="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Uc(He.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Uc(He.sheet,`[data-input-otp]:autofill { ${M} }`),Uc(He.sheet,`[data-input-otp]:-webkit-autofill { ${M} }`),Uc(He.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Uc(He.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let Ce=()=>{V&&V.style.setProperty("--root-height",`${fe.clientHeight}px`)};Ce();let bt=new ResizeObserver(Ce);return bt.observe(fe),()=>{document.removeEventListener("selectionchange",Ee,{capture:!0}),bt.disconnect()}},[]);let[ee,U]=m.useState(!1),[$,re]=m.useState(!1),[ge,le]=m.useState(null),[ue,we]=m.useState(null);m.useEffect(()=>{U8(()=>{var fe,V,Ee,Ce;(fe=A.current)==null||fe.dispatchEvent(new Event("input"));let bt=(V=A.current)==null?void 0:V.selectionStart,He=(Ee=A.current)==null?void 0:Ee.selectionEnd,M=(Ce=A.current)==null?void 0:Ce.selectionDirection;bt!==null&&He!==null&&(le(bt),we(He),Q.current.prev=[bt,He,M])})},[k,$]),m.useEffect(()=>{P!==void 0&&k!==P&&P.length<i&&k.length===i&&(h==null||h(k))},[i,h,P,k]);let De=H8({containerRef:W,inputRef:A,pushPasswordManagerStrategy:f,isFocused:$}),lt=m.useCallback(fe=>{let V=fe.currentTarget.value.slice(0,i);if(V.length>0&&R&&!R.test(V)){fe.preventDefault();return}typeof P=="string"&&V.length<P.length&&document.dispatchEvent(new Event("selectionchange")),O(V)},[i,O,P,R]),se=m.useCallback(()=>{var fe;if(A.current){let V=Math.min(A.current.value.length,i-1),Ee=A.current.value.length;(fe=A.current)==null||fe.setSelectionRange(V,Ee),le(V),we(Ee)}re(!0)},[i]),Fe=m.useCallback(fe=>{var V,Ee;let Ce=A.current;if(!p&&(!oe.current.isIOS||!fe.clipboardData||!Ce))return;let bt=fe.clipboardData.getData("text/plain"),He=p?p(bt):bt;fe.preventDefault();let M=(V=A.current)==null?void 0:V.selectionStart,F=(Ee=A.current)==null?void 0:Ee.selectionEnd,B=(M!==F?k.slice(0,M)+He+k.slice(F):k.slice(0,M)+He+k.slice(M)).slice(0,i);if(B.length>0&&R&&!R.test(B))return;Ce.value=B,O(B);let te=Math.min(B.length,i-1),J=B.length;Ce.setSelectionRange(te,J),le(te),we(J)},[i,O,R,k]),rt=m.useMemo(()=>({position:"relative",cursor:w.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[w.disabled]),ke=m.useMemo(()=>({position:"absolute",inset:0,width:De.willPushPWMBadge?`calc(100% + ${De.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:De.willPushPWMBadge?`inset(0 ${De.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[De.PWM_BADGE_SPACE_WIDTH,De.willPushPWMBadge,o]),Se=m.useMemo(()=>m.createElement("input",L8(V8({autoComplete:w.autoComplete||"one-time-code"},w),{"data-input-otp":!0,"data-input-otp-placeholder-shown":k.length===0||void 0,"data-input-otp-mss":ge,"data-input-otp-mse":ue,inputMode:d,pattern:R==null?void 0:R.source,"aria-placeholder":l,style:ke,maxLength:i,value:k,ref:A,onPaste:fe=>{var V;Fe(fe),(V=w.onPaste)==null||V.call(w,fe)},onChange:lt,onMouseOver:fe=>{var V;U(!0),(V=w.onMouseOver)==null||V.call(w,fe)},onMouseLeave:fe=>{var V;U(!1),(V=w.onMouseLeave)==null||V.call(w,fe)},onFocus:fe=>{var V;se(),(V=w.onFocus)==null||V.call(w,fe)},onBlur:fe=>{var V;re(!1),(V=w.onBlur)==null||V.call(w,fe)}})),[lt,se,Fe,d,ke,i,ue,ge,w,R==null?void 0:R.source,k]),Ae=m.useMemo(()=>({slots:Array.from({length:i}).map((fe,V)=>{var Ee;let Ce=$&&ge!==null&&ue!==null&&(ge===ue&&V===ge||V>=ge&&V<ue),bt=k[V]!==void 0?k[V]:null,He=k[0]!==void 0?null:(Ee=l==null?void 0:l[V])!=null?Ee:null;return{char:bt,placeholderChar:He,isActive:Ce,hasFakeCaret:Ce&&bt===null}}),isFocused:$,isHovering:!w.disabled&&ee}),[$,ee,i,ue,ge,w.disabled,k]),_t=m.useMemo(()=>x?x(Ae):m.createElement(GP.Provider,{value:Ae},_),[_,Ae,x]);return m.createElement(m.Fragment,null,T!==null&&m.createElement("noscript",null,m.createElement("style",null,T)),m.createElement("div",{ref:W,"data-input-otp-container":!0,style:rt,className:g},_t,m.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Se)))});KP.displayName="Input";function Uc(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var q8=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const QP=m.forwardRef(({className:t,containerClassName:e,...n},r)=>c.jsx(KP,{ref:r,containerClassName:pe("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:pe("disabled:cursor-not-allowed",t),...n}));QP.displayName="InputOTP";const YP=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:pe("flex items-center",t),...e}));YP.displayName="InputOTPGroup";const $o=m.forwardRef(({index:t,className:e,...n},r)=>{const s=m.useContext(GP),{char:i,hasFakeCaret:o,isActive:a}=s.slots[t];return c.jsxs("div",{ref:r,className:pe("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",a&&"z-10 ring-2 ring-ring ring-offset-background",e),...n,children:[i,o&&c.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});$o.displayName="InputOTPSlot";const G8=m.forwardRef(({...t},e)=>c.jsx("div",{ref:e,role:"separator",...t,children:c.jsx(yM,{})}));G8.displayName="InputOTPSeparator";var K8="Label",XP=m.forwardRef((t,e)=>c.jsx(Be.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));XP.displayName=K8;var ZP=XP;const Q8=rc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ot=m.forwardRef(({className:t,...e},n)=>c.jsx(ZP,{ref:n,className:pe(Q8(),t),...e}));ot.displayName=ZP.displayName;const Y8=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(!1),[o,a]=m.useState(!1),[l,d]=m.useState(!1),[h,f]=m.useState(""),[p,g]=m.useState(""),[T,x]=m.useState(!1),[_,w]=m.useState(!1),{signIn:y,signInWithGoogle:E,user:I}=No(),{toast:D}=Ss(),j=fd();m.useEffect(()=>{I&&j("/")},[I,j]);const C=async O=>{O.preventDefault(),i(!0);try{const{error:R}=await y(t,n);R&&D({title:"Login failed",description:R.message,variant:"destructive"})}catch(R){D({title:"Error",description:R.message,variant:"destructive"})}finally{i(!1)}},S=async()=>{i(!0);try{const{error:O}=await E();O&&D({title:"Google sign-in failed",description:O.message,variant:"destructive"})}catch(O){D({title:"Error",description:O.message,variant:"destructive"})}finally{i(!1)}},k=async()=>{if(!h){D({title:"Email required",description:"Please enter your email address",variant:"destructive"});return}x(!0);try{await B5(Ii,h),D({title:"Password reset email sent",description:"Check your email for password reset instructions"}),a(!1)}catch(O){D({title:"Error",description:O.message,variant:"destructive"})}finally{x(!1)}},P=async()=>{if(p.length!==6){D({title:"Invalid OTP",description:"Please enter a valid 6-digit OTP",variant:"destructive"});return}w(!0);try{D({title:"OTP verified",description:"Password reset functionality implemented"}),d(!1),g("")}catch(O){D({title:"Error",description:O.message,variant:"destructive"})}finally{w(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsxs(mt,{to:"/",className:"inline-flex items-center space-x-2 mb-4",children:[c.jsx(Ir,{className:"h-8 w-8 text-primary"}),c.jsx("span",{className:"text-2xl font-bold text-foreground",children:"SportsBracket"})]})}),c.jsxs(Qe,{children:[c.jsxs(gt,{children:[c.jsx(yt,{children:"Welcome Back"}),c.jsx(ga,{children:"Login to manage your tournament participation"})]}),c.jsx(Ye,{children:c.jsxs("form",{className:"space-y-4",onSubmit:C,children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"email",children:"Email"}),c.jsx(xt,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:O=>e(O.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"password",children:"Password"}),c.jsx(xt,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:O=>r(O.target.value),required:!0})]}),c.jsx(Pe,{className:"w-full",type:"submit",disabled:s,children:s?"Logging in...":"Login"}),c.jsx(Pe,{className:"w-full",variant:"outline",onClick:S,disabled:s,children:"Continue with Google"}),c.jsxs("div",{className:"text-center text-sm space-y-2",children:[c.jsx("button",{type:"button",onClick:()=>a(!0),className:"text-primary hover:underline",children:"Forgot password?"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),c.jsx(mt,{to:"/register",className:"text-primary hover:underline",children:"Register here"})]})]})]})})]}),c.jsx(sa,{open:o,onOpenChange:a,children:c.jsxs(so,{children:[c.jsxs(io,{children:[c.jsx(oo,{children:"Reset Password"}),c.jsx(Tv,{children:"Enter your email address and we'll send you a password reset link."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"forgot-email",children:"Email"}),c.jsx(xt,{id:"forgot-email",type:"email",placeholder:"Enter your email",value:h,onChange:O=>f(O.target.value)})]}),c.jsx(Pe,{className:"w-full",onClick:k,disabled:T,children:T?"Sending...":"Send Reset Email"})]})]})}),c.jsx(sa,{open:l,onOpenChange:d,children:c.jsxs(so,{children:[c.jsxs(io,{children:[c.jsx(oo,{children:"Enter OTP"}),c.jsx(Tv,{children:"Enter the 6-digit code sent to your email."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx(QP,{value:p,onChange:g,maxLength:6,children:c.jsxs(YP,{children:[c.jsx($o,{index:0}),c.jsx($o,{index:1}),c.jsx($o,{index:2}),c.jsx($o,{index:3}),c.jsx($o,{index:4}),c.jsx($o,{index:5})]})})}),c.jsx(Pe,{className:"w-full",onClick:P,disabled:_,children:_?"Verifying...":"Verify OTP"})]})]})})]})})};function $b(t,[e,n]){return Math.min(n,Math.max(e,t))}var X8=m.createContext(void 0);function Z8(t){const e=m.useContext(X8);return t||e||"ltr"}function JP(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var J8=[" ","Enter","ArrowUp","ArrowDown"],e7=[" ","Enter"],va="Select",[wm,xm,t7]=GC(va),[vc,cq]=Ta(va,[t7,Dp]),Em=Dp(),[n7,Po]=vc(va),[r7,s7]=vc(va),eR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:d,name:h,autoComplete:f,disabled:p,required:g,form:T}=t,x=Em(e),[_,w]=m.useState(null),[y,E]=m.useState(null),[I,D]=m.useState(!1),j=Z8(d),[C,S]=Ml({prop:r,defaultProp:s??!1,onChange:i,caller:va}),[k,P]=Ml({prop:o,defaultProp:a,onChange:l,caller:va}),O=m.useRef(null),R=_?T||!!_.closest("form"):!0,[A,W]=m.useState(new Set),oe=Array.from(A).map(Q=>Q.props.value).join(";");return c.jsx(rk,{...x,children:c.jsxs(n7,{required:g,scope:e,trigger:_,onTriggerChange:w,valueNode:y,onValueNodeChange:E,valueNodeHasChildren:I,onValueNodeHasChildrenChange:D,contentId:na(),value:k,onValueChange:P,open:C,onOpenChange:S,dir:j,triggerPointerDownPosRef:O,disabled:p,children:[c.jsx(wm.Provider,{scope:e,children:c.jsx(r7,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(Q=>{W(ee=>new Set(ee).add(Q))},[]),onNativeOptionRemove:m.useCallback(Q=>{W(ee=>{const U=new Set(ee);return U.delete(Q),U})},[]),children:n})}),R?c.jsxs(TR,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:f,value:k,onChange:Q=>P(Q.target.value),disabled:p,form:T,children:[k===void 0?c.jsx("option",{value:""}):null,Array.from(A)]},oe):null]})})};eR.displayName=va;var tR="SelectTrigger",nR=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Em(n),o=Po(tR,n),a=o.disabled||r,l=vt(e,o.onTriggerChange),d=xm(n),h=m.useRef("touch"),[f,p,g]=CR(x=>{const _=d().filter(E=>!E.disabled),w=_.find(E=>E.value===o.value),y=IR(_,x,w);y!==void 0&&o.onValueChange(y.value)}),T=x=>{a||(o.onOpenChange(!0),g()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return c.jsx(sk,{asChild:!0,...i,children:c.jsx(Be.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":SR(o.value)?"":void 0,...s,ref:l,onClick:Ve(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&T(x)}),onPointerDown:Ve(s.onPointerDown,x=>{h.current=x.pointerType;const _=x.target;_.hasPointerCapture(x.pointerId)&&_.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(T(x),x.preventDefault())}),onKeyDown:Ve(s.onKeyDown,x=>{const _=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(_&&x.key===" ")&&J8.includes(x.key)&&(T(),x.preventDefault())})})})});nR.displayName=tR;var rR="SelectValue",sR=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Po(rR,n),{onValueNodeHasChildrenChange:d}=l,h=i!==void 0,f=vt(e,l.onValueNodeChange);return En(()=>{d(h)},[d,h]),c.jsx(Be.span,{...a,ref:f,style:{pointerEvents:"none"},children:SR(l.value)?c.jsx(c.Fragment,{children:o}):i})});sR.displayName=rR;var i7="SelectIcon",iR=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(Be.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});iR.displayName=i7;var o7="SelectPortal",oR=t=>c.jsx(Ip,{asChild:!0,...t});oR.displayName=o7;var _a="SelectContent",aR=m.forwardRef((t,e)=>{const n=Po(_a,t.__scopeSelect),[r,s]=m.useState();if(En(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ba.createPortal(c.jsx(lR,{scope:t.__scopeSelect,children:c.jsx(wm.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(cR,{...t,ref:e})});aR.displayName=_a;var Dr=10,[lR,Ro]=vc(_a),a7="SelectContentImpl",l7=Dl("SelectContent.RemoveScroll"),cR=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:T,hideWhenDetached:x,avoidCollisions:_,...w}=t,y=Po(_a,n),[E,I]=m.useState(null),[D,j]=m.useState(null),C=vt(e,se=>I(se)),[S,k]=m.useState(null),[P,O]=m.useState(null),R=xm(n),[A,W]=m.useState(!1),oe=m.useRef(!1);m.useEffect(()=>{if(E)return bP(E)},[E]),mP();const Q=m.useCallback(se=>{const[Fe,...rt]=R().map(Ae=>Ae.ref.current),[ke]=rt.slice(-1),Se=document.activeElement;for(const Ae of se)if(Ae===Se||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===Fe&&D&&(D.scrollTop=0),Ae===ke&&D&&(D.scrollTop=D.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Se))return},[R,D]),ee=m.useCallback(()=>Q([S,E]),[Q,S,E]);m.useEffect(()=>{A&&ee()},[A,ee]);const{onOpenChange:U,triggerPointerDownPosRef:$}=y;m.useEffect(()=>{if(E){let se={x:0,y:0};const Fe=ke=>{var Se,Ae;se={x:Math.abs(Math.round(ke.pageX)-(((Se=$.current)==null?void 0:Se.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((Ae=$.current)==null?void 0:Ae.y)??0))}},rt=ke=>{se.x<=10&&se.y<=10?ke.preventDefault():E.contains(ke.target)||U(!1),document.removeEventListener("pointermove",Fe),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",rt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",rt,{capture:!0})}}},[E,U,$]),m.useEffect(()=>{const se=()=>U(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[U]);const[re,ge]=CR(se=>{const Fe=R().filter(Se=>!Se.disabled),rt=Fe.find(Se=>Se.ref.current===document.activeElement),ke=IR(Fe,se,rt);ke&&setTimeout(()=>ke.ref.current.focus())}),le=m.useCallback((se,Fe,rt)=>{const ke=!oe.current&&!rt;(y.value!==void 0&&y.value===Fe||ke)&&(k(se),ke&&(oe.current=!0))},[y.value]),ue=m.useCallback(()=>E==null?void 0:E.focus(),[E]),we=m.useCallback((se,Fe,rt)=>{const ke=!oe.current&&!rt;(y.value!==void 0&&y.value===Fe||ke)&&O(se)},[y.value]),De=r==="popper"?Sv:uR,lt=De===Sv?{side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:T,hideWhenDetached:x,avoidCollisions:_}:{};return c.jsx(lR,{scope:n,content:E,viewport:D,onViewportChange:j,itemRefCallback:le,selectedItem:S,onItemLeave:ue,itemTextRefCallback:we,focusSelectedItem:ee,selectedItemText:P,position:r,isPositioned:A,searchRef:re,children:c.jsx(Yw,{as:l7,allowPinchZoom:!0,children:c.jsx(Qw,{asChild:!0,trapped:y.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:Ve(s,se=>{var Fe;(Fe=y.trigger)==null||Fe.focus({preventScroll:!0}),se.preventDefault()}),children:c.jsx(ld,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:c.jsx(De,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:se=>se.preventDefault(),...w,...lt,onPlaced:()=>W(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Ve(w.onKeyDown,se=>{const Fe=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!Fe&&se.key.length===1&&ge(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let ke=R().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(se.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Se=se.target,Ae=ke.indexOf(Se);ke=ke.slice(Ae+1)}setTimeout(()=>Q(ke)),se.preventDefault()}})})})})})})});cR.displayName=a7;var c7="SelectItemAlignedPosition",uR=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Po(_a,n),o=Ro(_a,n),[a,l]=m.useState(null),[d,h]=m.useState(null),f=vt(e,C=>h(C)),p=xm(n),g=m.useRef(!1),T=m.useRef(!0),{viewport:x,selectedItem:_,selectedItemText:w,focusSelectedItem:y}=o,E=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&x&&_&&w){const C=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),P=w.getBoundingClientRect();if(i.dir!=="rtl"){const Se=P.left-S.left,Ae=k.left-Se,_t=C.left-Ae,fe=C.width+_t,V=Math.max(fe,S.width),Ee=window.innerWidth-Dr,Ce=$b(Ae,[Dr,Math.max(Dr,Ee-V)]);a.style.minWidth=fe+"px",a.style.left=Ce+"px"}else{const Se=S.right-P.right,Ae=window.innerWidth-k.right-Se,_t=window.innerWidth-C.right-Ae,fe=C.width+_t,V=Math.max(fe,S.width),Ee=window.innerWidth-Dr,Ce=$b(Ae,[Dr,Math.max(Dr,Ee-V)]);a.style.minWidth=fe+"px",a.style.right=Ce+"px"}const O=p(),R=window.innerHeight-Dr*2,A=x.scrollHeight,W=window.getComputedStyle(d),oe=parseInt(W.borderTopWidth,10),Q=parseInt(W.paddingTop,10),ee=parseInt(W.borderBottomWidth,10),U=parseInt(W.paddingBottom,10),$=oe+Q+A+U+ee,re=Math.min(_.offsetHeight*5,$),ge=window.getComputedStyle(x),le=parseInt(ge.paddingTop,10),ue=parseInt(ge.paddingBottom,10),we=C.top+C.height/2-Dr,De=R-we,lt=_.offsetHeight/2,se=_.offsetTop+lt,Fe=oe+Q+se,rt=$-Fe;if(Fe<=we){const Se=O.length>0&&_===O[O.length-1].ref.current;a.style.bottom="0px";const Ae=d.clientHeight-x.offsetTop-x.offsetHeight,_t=Math.max(De,lt+(Se?ue:0)+Ae+ee),fe=Fe+_t;a.style.height=fe+"px"}else{const Se=O.length>0&&_===O[0].ref.current;a.style.top="0px";const _t=Math.max(we,oe+x.offsetTop+(Se?le:0)+lt)+rt;a.style.height=_t+"px",x.scrollTop=Fe-we+x.offsetTop}a.style.margin=`${Dr}px 0`,a.style.minHeight=re+"px",a.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,d,x,_,w,i.dir,r]);En(()=>E(),[E]);const[I,D]=m.useState();En(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const j=m.useCallback(C=>{C&&T.current===!0&&(E(),y==null||y(),T.current=!1)},[E,y]);return c.jsx(d7,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:j,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:c.jsx(Be.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});uR.displayName=c7;var u7="SelectPopperPosition",Sv=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Dr,...i}=t,o=Em(n);return c.jsx(ik,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sv.displayName=u7;var[d7,tx]=vc(_a,{}),Cv="SelectViewport",dR=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ro(Cv,n),o=tx(Cv,n),a=vt(e,i.onViewportChange),l=m.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(wm.Slot,{scope:n,children:c.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ve(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const g=Math.abs(l.current-h.scrollTop);if(g>0){const T=window.innerHeight-Dr*2,x=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),w=Math.max(x,_);if(w<T){const y=w+g,E=Math.min(T,y),I=y-E;f.style.height=E+"px",f.style.bottom==="0px"&&(h.scrollTop=I>0?I:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});dR.displayName=Cv;var hR="SelectGroup",[h7,f7]=vc(hR),p7=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=na();return c.jsx(h7,{scope:n,id:s,children:c.jsx(Be.div,{role:"group","aria-labelledby":s,...r,ref:e})})});p7.displayName=hR;var fR="SelectLabel",pR=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=f7(fR,n);return c.jsx(Be.div,{id:s.id,...r,ref:e})});pR.displayName=fR;var tp="SelectItem",[m7,mR]=vc(tp),gR=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Po(tp,n),l=Ro(tp,n),d=a.value===r,[h,f]=m.useState(i??""),[p,g]=m.useState(!1),T=vt(e,y=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,y,r,s)}),x=na(),_=m.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(m7,{scope:n,value:r,disabled:s,textId:x,isSelected:d,onItemTextChange:m.useCallback(y=>{f(E=>E||((y==null?void 0:y.textContent)??"").trim())},[]),children:c.jsx(wm.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:c.jsx(Be.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:T,onFocus:Ve(o.onFocus,()=>g(!0)),onBlur:Ve(o.onBlur,()=>g(!1)),onClick:Ve(o.onClick,()=>{_.current!=="mouse"&&w()}),onPointerUp:Ve(o.onPointerUp,()=>{_.current==="mouse"&&w()}),onPointerDown:Ve(o.onPointerDown,y=>{_.current=y.pointerType}),onPointerMove:Ve(o.onPointerMove,y=>{var E;_.current=y.pointerType,s?(E=l.onItemLeave)==null||E.call(l):_.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ve(o.onPointerLeave,y=>{var E;y.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:Ve(o.onKeyDown,y=>{var I;((I=l.searchRef)==null?void 0:I.current)!==""&&y.key===" "||(e7.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});gR.displayName=tp;var Jc="SelectItemText",yR=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Po(Jc,n),a=Ro(Jc,n),l=mR(Jc,n),d=s7(Jc,n),[h,f]=m.useState(null),p=vt(e,w=>f(w),l.onItemTextChange,w=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,w,l.value,l.disabled)}),g=h==null?void 0:h.textContent,T=m.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:_}=d;return En(()=>(x(T),()=>_(T)),[x,_,T]),c.jsxs(c.Fragment,{children:[c.jsx(Be.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ba.createPortal(i.children,o.valueNode):null]})});yR.displayName=Jc;var vR="SelectItemIndicator",_R=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return mR(vR,n).isSelected?c.jsx(Be.span,{"aria-hidden":!0,...r,ref:e}):null});_R.displayName=vR;var Iv="SelectScrollUpButton",wR=m.forwardRef((t,e)=>{const n=Ro(Iv,t.__scopeSelect),r=tx(Iv,t.__scopeSelect),[s,i]=m.useState(!1),o=vt(e,r.onScrollButtonChange);return En(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollTop>0;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(ER,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});wR.displayName=Iv;var kv="SelectScrollDownButton",xR=m.forwardRef((t,e)=>{const n=Ro(kv,t.__scopeSelect),r=tx(kv,t.__scopeSelect),[s,i]=m.useState(!1),o=vt(e,r.onScrollButtonChange);return En(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<d;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(ER,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});xR.displayName=kv;var ER=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ro("SelectScrollButton",n),o=m.useRef(null),a=xm(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),En(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),c.jsx(Be.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ve(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ve(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ve(s.onPointerLeave,()=>{l()})})}),g7="SelectSeparator",bR=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(Be.div,{"aria-hidden":!0,...r,ref:e})});bR.displayName=g7;var Av="SelectArrow",y7=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Em(n),i=Po(Av,n),o=Ro(Av,n);return i.open&&o.position==="popper"?c.jsx(ok,{...s,...r,ref:e}):null});y7.displayName=Av;var v7="SelectBubbleInput",TR=m.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=m.useRef(null),i=vt(r,s),o=JP(e);return m.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),c.jsx(Be.select,{...n,style:{...ZC,...n.style},ref:i,defaultValue:e})});TR.displayName=v7;function SR(t){return t===""||t===void 0}function CR(t){const e=Yr(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function IR(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=_7(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const l=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function _7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var w7=eR,kR=nR,x7=sR,E7=iR,b7=oR,AR=aR,T7=dR,NR=pR,PR=gR,S7=yR,C7=_R,RR=wR,jR=xR,OR=bR;const en=w7,tn=x7,Ht=m.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(kR,{ref:r,className:pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(E7,{asChild:!0,children:c.jsx(EI,{className:"h-4 w-4 opacity-50"})})]}));Ht.displayName=kR.displayName;const DR=m.forwardRef(({className:t,...e},n)=>c.jsx(RR,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(fM,{className:"h-4 w-4"})}));DR.displayName=RR.displayName;const MR=m.forwardRef(({className:t,...e},n)=>c.jsx(jR,{ref:n,className:pe("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(EI,{className:"h-4 w-4"})}));MR.displayName=jR.displayName;const qt=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx(b7,{children:c.jsxs(AR,{ref:s,className:pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(DR,{}),c.jsx(T7,{className:pe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(MR,{})]})}));qt.displayName=AR.displayName;const I7=m.forwardRef(({className:t,...e},n)=>c.jsx(NR,{ref:n,className:pe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));I7.displayName=NR.displayName;const ct=m.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(PR,{ref:r,className:pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(C7,{children:c.jsx(xI,{className:"h-4 w-4"})})}),c.jsx(S7,{children:e})]}));ct.displayName=PR.displayName;const k7=m.forwardRef(({className:t,...e},n)=>c.jsx(OR,{ref:n,className:pe("-mx-1 my-1 h-px bg-muted",t),...e}));k7.displayName=OR.displayName;const A7=()=>{const[t,e]=m.useState({name:"",email:"",phone:"",department:"",gender:"",password:""}),[n,r]=m.useState(!1),[s,i]=m.useState(1),[o,a]=m.useState(null),{signUp:l,signInWithGoogle:d,signUpWithGoogle:h,user:f}=No(),{toast:p}=Ss(),g=fd();m.useEffect(()=>{f&&s===1&&g("/")},[f,g,s]);const T=async()=>{r(!0);try{const{error:_,user:w,isNewUser:y}=await d();_?p({title:"Google sign-in failed",description:_.message,variant:"destructive"}):w&&y?(a(w),i(2)):w&&!y&&g("/")}catch(_){p({title:"Error",description:_.message,variant:"destructive"})}finally{r(!1)}},x=async _=>{_.preventDefault(),r(!0);try{const{error:w}=await h({password:t.password,department:t.department,gender:t.gender});w?p({title:"Registration failed",description:w.message,variant:"destructive"}):(p({title:"Registration successful!",description:"You can now login with your credentials"}),g("/"))}catch(w){p({title:"Error",description:w.message,variant:"destructive"})}finally{r(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4 py-12",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsxs(mt,{to:"/",className:"inline-flex items-center space-x-2 mb-4",children:[c.jsx(Ir,{className:"h-8 w-8 text-primary"}),c.jsx("span",{className:"text-2xl font-bold text-foreground",children:"SportsBracket"})]})}),c.jsxs(Qe,{children:[c.jsxs(gt,{children:[c.jsx(yt,{children:"Create Account"}),c.jsx(ga,{children:"Register to participate in Sports Week 2025"})]}),c.jsx(Ye,{children:s===1?c.jsxs("div",{className:"space-y-4",children:[c.jsx(Pe,{className:"w-full",onClick:T,disabled:n,variant:"outline",children:n?"Signing in...":"Continue with Google"}),c.jsxs("div",{className:"text-center text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),c.jsx(mt,{to:"/login",className:"text-primary hover:underline",children:"Login here"})]})]}):c.jsxs("form",{className:"space-y-4",onSubmit:x,children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{children:"Full Name"}),c.jsx(xt,{value:(o==null?void 0:o.displayName)||"",disabled:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{children:"Email"}),c.jsx(xt,{value:(o==null?void 0:o.email)||"",disabled:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"department",children:"Department / Class"}),c.jsx(xt,{id:"department",placeholder:"Enter your department or class",value:t.department,onChange:_=>e({...t,department:_.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"gender",children:"Gender"}),c.jsxs(en,{value:t.gender,onValueChange:_=>e({...t,gender:_}),children:[c.jsx(Ht,{id:"gender",children:c.jsx(tn,{placeholder:"Select gender"})}),c.jsxs(qt,{children:[c.jsx(ct,{value:"male",children:"Male"}),c.jsx(ct,{value:"female",children:"Female"}),c.jsx(ct,{value:"other",children:"Other"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"password",children:"Password"}),c.jsx(xt,{id:"password",type:"password",placeholder:"Create a password",value:t.password,onChange:_=>e({...t,password:_.target.value}),required:!0})]}),c.jsx(Pe,{className:"w-full",type:"submit",disabled:n,children:n?"Completing registration...":"Complete Registration"}),c.jsx("div",{className:"text-center",children:c.jsx(Pe,{variant:"ghost",onClick:()=>i(1),className:"text-sm",children:"Back to Google sign-in"})})]})})]})]})})},N7=fr(ze,"tournaments"),pi=async()=>{const t=di(N7,es("created_at","desc"));return(await hi(t)).docs.map(n=>({id:n.id,...n.data()}))},P7=fr(ze,"leaderboard"),VR=async t=>{const e=di(P7,Kr("tournament_id","==",t),es("points","desc"));return(await hi(e)).docs.map(r=>({id:r.id,...r.data()}))},R7=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(""),[s,i]=m.useState([]),[o,a]=m.useState(!1);m.useEffect(()=>{pi().then(h=>{e(h),h.length>0&&r(h[0].id)})},[]),m.useEffect(()=>{if(!n){i([]);return}a(!0),VR(n).then(i).finally(()=>a(!1))},[n]);const l=s.slice(0,3),d=s.slice(3);return c.jsx("div",{className:"min-h-screen bg-muted/30 py-12",children:c.jsxs("div",{className:"container space-y-8",children:[c.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm uppercase text-muted-foreground tracking-wide",children:"Standings"}),c.jsx("h1",{className:"text-3xl font-bold",children:"Leaderboard"}),c.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl",children:"Track the top performers across all sports and divisions. Standings update automatically after each verified match result."})]}),c.jsxs("div",{className:"w-full md:w-64",children:[c.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Tournament"}),c.jsxs(en,{value:n,onValueChange:r,children:[c.jsx(Ht,{children:c.jsx(tn,{placeholder:"Select tournament"})}),c.jsx(qt,{children:t.map(h=>c.jsx(ct,{value:h.id,children:h.name},h.id))})]})]})]}),c.jsxs(Qe,{children:[c.jsxs(gt,{className:"flex items-center justify-between",children:[c.jsx(yt,{children:"Top Performers"}),o&&c.jsx(Ws,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),c.jsx(Ye,{children:l.length===0?c.jsx("p",{className:"text-sm text-muted-foreground",children:"No leaderboard data yet."}):c.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:l.map((h,f)=>c.jsxs("div",{className:"rounded-xl border bg-gradient-to-br from-background to-muted/50 p-5 flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-muted-foreground uppercase tracking-wide",children:h.entity_type.toLowerCase()}),c.jsx(EM,{className:`h-5 w-5 ${f===0?"text-yellow-500":"text-muted-foreground"}`})]}),c.jsx("h3",{className:"text-2xl font-bold mt-3",children:h.name}),c.jsxs("div",{className:"mt-auto pt-6 flex items-center justify-between text-sm font-medium",children:[c.jsxs("span",{children:[h.points," pts"]}),c.jsxs("span",{children:[h.wins,"-",h.losses]})]})]},h.id))})})]}),d.length>0&&c.jsxs(Qe,{children:[c.jsx(gt,{children:c.jsx(yt,{children:"Full Standings"})}),c.jsx(Ye,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-left text-muted-foreground border-b",children:[c.jsx("th",{className:"py-2 pr-4",children:"Rank"}),c.jsx("th",{className:"py-2 pr-4",children:"Name"}),c.jsx("th",{className:"py-2 pr-4",children:"Type"}),c.jsx("th",{className:"py-2 pr-4",children:"Points"}),c.jsx("th",{className:"py-2 pr-4",children:"Wins"}),c.jsx("th",{className:"py-2 pr-4",children:"Losses"})]})}),c.jsx("tbody",{children:d.map((h,f)=>c.jsxs("tr",{className:"border-b last:border-0",children:[c.jsx("td",{className:"py-2 pr-4",children:h.rank??f+4}),c.jsx("td",{className:"py-2 pr-4 font-medium",children:h.name}),c.jsx("td",{className:"py-2 pr-4 capitalize",children:h.entity_type.toLowerCase()}),c.jsx("td",{className:"py-2 pr-4",children:h.points}),c.jsx("td",{className:"py-2 pr-4",children:h.wins}),c.jsx("td",{className:"py-2 pr-4",children:h.losses})]},h.id))})]})})})]})]})})},j7=fr(ze,"games"),Pa=async t=>{const e=[es("created_at","desc")];t&&e.unshift(Kr("tournament_id","==",t));const n=di(j7,...e);return(await hi(n)).docs.map(s=>({id:s.id,...s.data()}))},O7=fr(ze,"matches"),D7=fr(ze,"match_results"),yu=async t=>{const e=[Kr("tournament_id","==",t.tournamentId),es("round_index","asc"),es("match_order","asc")];t.gameId&&e.splice(1,0,Kr("game_id","==",t.gameId));const n=di(O7,...e);return(await hi(n)).docs.map(s=>({id:s.id,...s.data()}))},Yh=async(t,e)=>{await fi(Nt(ze,"matches",t),{...e,updated_at:Je()})},M7=async(t,e)=>{const n=await yc(D7,{...e,match_id:t,created_at:Je(),updated_at:Je()});return await Yh(t,{status:"COMPLETED"}),n.id},LR=fr(ze,"participants"),nx=async t=>{const e=[Kr("tournament_id","==",t.tournamentId),es("seed","asc"),es("created_at","asc")];t.gameId&&e.splice(1,0,Kr("game_id","==",t.gameId));const n=di(LR,...e);return(await hi(n)).docs.map(s=>({id:s.id,...s.data()}))},V7=async t=>(await yc(LR,{...t,created_at:Je(),updated_at:Je()})).id,L7=async(t,e)=>{await fi(Nt(ze,"participants",t),{...e,updated_at:Je()})},F7=async t=>{await fm(Nt(ze,"participants",t))},U7=t=>t?new Date(t).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"}):"TBD",$7=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState([]),[o,a]=m.useState([]),[l,d]=m.useState([]),[h,f]=m.useState([]),[p,g]=m.useState(!1);m.useEffect(()=>{pi().then(_=>{i(_),_.length>0&&e(_[0].id)})},[]),m.useEffect(()=>{if(!t){a([]),d([]);return}(async()=>{g(!0);const[w,y,E]=await Promise.all([Pa(t),yu({tournamentId:t,gameId:n||void 0}),nx({tournamentId:t,gameId:n||void 0})]);a(w),d(y),f(E),g(!1)})()},[t,n]);const T=m.useMemo(()=>h.reduce((_,w)=>(_[w.id]=w,_),{}),[h]),x=l.filter(_=>_.status!=="COMPLETED");return c.jsx("div",{className:"min-h-screen bg-muted/30 py-12",children:c.jsxs("div",{className:"container space-y-8",children:[c.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm uppercase text-muted-foreground tracking-wide",children:"Live Schedule"}),c.jsx("h1",{className:"text-3xl font-bold",children:"Matches & Fixtures"}),c.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl",children:"Stay on top of every match happening this week. Filter by tournament or sport to find exact fixtures, venues, and kickoff times."})]}),c.jsxs("div",{className:"w-full md:w-[28rem] flex flex-col gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Tournament"}),c.jsxs(en,{value:t,onValueChange:e,children:[c.jsx(Ht,{children:c.jsx(tn,{placeholder:"Select tournament"})}),c.jsx(qt,{children:s.map(_=>c.jsx(ct,{value:_.id,children:_.name},_.id))})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Game"}),c.jsxs(en,{value:n,onValueChange:r,disabled:!t,children:[c.jsx(Ht,{children:c.jsx(tn,{placeholder:"All games"})}),c.jsxs(qt,{children:[c.jsx(ct,{value:"",children:"All games"}),o.map(_=>c.jsx(ct,{value:_.id,children:_.name},_.id))]})]})]})]})]}),c.jsxs(Qe,{children:[c.jsxs(gt,{className:"flex items-center justify-between",children:[c.jsx(yt,{children:"Upcoming & Live Matches"}),p&&c.jsx(Ws,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),c.jsx(Ye,{children:t?x.length===0?c.jsx("p",{className:"text-sm text-muted-foreground",children:"No scheduled matches yet. Check back later once brackets are published."}):c.jsx("div",{className:"grid gap-4",children:x.map(_=>{var I;const w=_.participant_a_id?T[_.participant_a_id]:void 0,y=_.participant_b_id?T[_.participant_b_id]:void 0,E=((I=o.find(D=>D.id===_.game_id))==null?void 0:I.name)??"Tournament Game";return c.jsxs("div",{className:"rounded-xl border bg-background p-5",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:E}),c.jsx("h3",{className:"text-lg font-semibold",children:_.round_name})]}),c.jsx(Kw,{variant:_.status==="SCHEDULED"?"secondary":"default",children:_.status==="SCHEDULED"?"Scheduled":_.status.toLowerCase()})]}),c.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Participant A"}),c.jsx("p",{className:"text-lg font-medium",children:(w==null?void 0:w.user_id)||(w==null?void 0:w.team_id)||"TBD"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Participant B"}),c.jsx("p",{className:"text-lg font-medium",children:(y==null?void 0:y.user_id)||(y==null?void 0:y.team_id)||"TBD"})]})]}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-muted-foreground",children:[c.jsxs("span",{className:"inline-flex items-center gap-2",children:[c.jsx(gM,{className:"h-4 w-4"}),U7(_.match_time)]}),c.jsxs("span",{className:"inline-flex items-center gap-2",children:[c.jsx(xM,{className:"h-4 w-4"}),_.venue||"Venue TBD"]})]})]},_.id)})}):c.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a tournament to view fixtures."})})]})]})})},Lg=768;function B7(){const[t,e]=m.useState(void 0);return m.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Lg-1}px)`),r=()=>{e(window.innerWidth<Lg)};return n.addEventListener("change",r),e(window.innerWidth<Lg),()=>n.removeEventListener("change",r)},[]),!!t}var z7="Separator",Bb="horizontal",W7=["horizontal","vertical"],FR=m.forwardRef((t,e)=>{const{decorative:n,orientation:r=Bb,...s}=t,i=H7(r)?r:Bb,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c.jsx(Be.div,{"data-orientation":i,...a,...s,ref:e})});FR.displayName=z7;function H7(t){return W7.includes(t)}var UR=FR;const $R=m.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>c.jsx(UR,{ref:s,decorative:n,orientation:e,className:pe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));$R.displayName=UR.displayName;const q7=UP,G7=$P,BR=m.forwardRef(({className:t,...e},n)=>c.jsx(gm,{className:pe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));BR.displayName=gm.displayName;const K7=rc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),zR=m.forwardRef(({side:t="right",className:e,children:n,...r},s)=>c.jsxs(G7,{children:[c.jsx(BR,{}),c.jsxs(ym,{ref:s,className:pe(K7({side:t}),e),...r,children:[n,c.jsxs(BP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(Pp,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zR.displayName=ym.displayName;const WR=m.forwardRef(({className:t,...e},n)=>c.jsx(vm,{ref:n,className:pe("text-lg font-semibold text-foreground",t),...e}));WR.displayName=vm.displayName;const Q7=m.forwardRef(({className:t,...e},n)=>c.jsx(_m,{ref:n,className:pe("text-sm text-muted-foreground",t),...e}));Q7.displayName=_m.displayName;function zb({className:t,...e}){return c.jsx("div",{className:pe("animate-pulse rounded-md bg-muted",t),...e})}const Y7="sidebar:state",X7=60*60*24*7,Z7="16rem",J7="18rem",eW="3rem",tW="b",HR=m.createContext(null);function bm(){const t=m.useContext(HR);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const rx=m.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:s,children:i,...o},a)=>{const l=B7(),[d,h]=m.useState(!1),[f,p]=m.useState(t),g=e??f,T=m.useCallback(y=>{const E=typeof y=="function"?y(g):y;n?n(E):p(E),document.cookie=`${Y7}=${E}; path=/; max-age=${X7}`},[n,g]),x=m.useCallback(()=>l?h(y=>!y):T(y=>!y),[l,T,h]);m.useEffect(()=>{const y=E=>{E.key===tW&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),x())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[x]);const _=g?"expanded":"collapsed",w=m.useMemo(()=>({state:_,open:g,setOpen:T,isMobile:l,openMobile:d,setOpenMobile:h,toggleSidebar:x}),[_,g,T,l,d,h,x]);return c.jsx(HR.Provider,{value:w,children:c.jsx(mk,{delayDuration:0,children:c.jsx("div",{style:{"--sidebar-width":Z7,"--sidebar-width-icon":eW,...s},className:pe("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:a,...o,children:i})})})});rx.displayName="SidebarProvider";const sx=m.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:s,...i},o)=>{const{isMobile:a,state:l,openMobile:d,setOpenMobile:h}=bm();return n==="none"?c.jsx("div",{className:pe("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:s}):a?c.jsx(q7,{open:d,onOpenChange:h,...i,children:c.jsxs(zR,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":J7},side:t,children:[c.jsx(WR,{className:"sr-only",children:"Navigation"}),c.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):c.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":e,"data-side":t,children:[c.jsx("div",{className:pe("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),c.jsx("div",{className:pe("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:c.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});sx.displayName="Sidebar";const ix=m.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:s}=bm();return c.jsxs(Pe,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:pe("h-7 w-7",t),onClick:i=>{e==null||e(i),s()},...n,children:[c.jsx(TM,{}),c.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});ix.displayName="SidebarTrigger";const nW=m.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=bm();return c.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:pe("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});nW.displayName="SidebarRail";const rW=m.forwardRef(({className:t,...e},n)=>c.jsx("main",{ref:n,className:pe("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));rW.displayName="SidebarInset";const sW=m.forwardRef(({className:t,...e},n)=>c.jsx(xt,{ref:n,"data-sidebar":"input",className:pe("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));sW.displayName="SidebarInput";const iW=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"header",className:pe("flex flex-col gap-2 p-2",t),...e}));iW.displayName="SidebarHeader";const oW=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"footer",className:pe("flex flex-col gap-2 p-2",t),...e}));oW.displayName="SidebarFooter";const aW=m.forwardRef(({className:t,...e},n)=>c.jsx($R,{ref:n,"data-sidebar":"separator",className:pe("mx-2 w-auto bg-sidebar-border",t),...e}));aW.displayName="SidebarSeparator";const ox=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"content",className:pe("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));ox.displayName="SidebarContent";const ax=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"group",className:pe("relative flex w-full min-w-0 flex-col p-2",t),...e}));ax.displayName="SidebarGroup";const lx=m.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?nc:"div";return c.jsx(s,{ref:r,"data-sidebar":"group-label",className:pe("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});lx.displayName="SidebarGroupLabel";const lW=m.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?nc:"button";return c.jsx(s,{ref:r,"data-sidebar":"group-action",className:pe("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});lW.displayName="SidebarGroupAction";const cx=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"group-content",className:pe("w-full text-sm",t),...e}));cx.displayName="SidebarGroupContent";const ux=m.forwardRef(({className:t,...e},n)=>c.jsx("ul",{ref:n,"data-sidebar":"menu",className:pe("flex w-full min-w-0 flex-col gap-1",t),...e}));ux.displayName="SidebarMenu";const dx=m.forwardRef(({className:t,...e},n)=>c.jsx("li",{ref:n,"data-sidebar":"menu-item",className:pe("group/menu-item relative",t),...e}));dx.displayName="SidebarMenuItem";const cW=rc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),hx=m.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:s,className:i,...o},a)=>{const l=t?nc:"button",{isMobile:d,state:h}=bm(),f=c.jsx(l,{ref:a,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:pe(cW({variant:n,size:r}),i),...o});return s?(typeof s=="string"&&(s={children:s}),c.jsxs(A4,{children:[c.jsx(N4,{asChild:!0,children:f}),c.jsx(gk,{side:"right",align:"center",hidden:h!=="collapsed"||d,...s})]})):f});hx.displayName="SidebarMenuButton";const uW=m.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},s)=>{const i=e?nc:"button";return c.jsx(i,{ref:s,"data-sidebar":"menu-action",className:pe("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});uW.displayName="SidebarMenuAction";const dW=m.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:pe("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));dW.displayName="SidebarMenuBadge";const hW=m.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const s=m.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return c.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:pe("flex h-8 items-center gap-2 rounded-md px-2",t),...n,children:[e&&c.jsx(zb,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),c.jsx(zb,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});hW.displayName="SidebarMenuSkeleton";const fW=m.forwardRef(({className:t,...e},n)=>c.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:pe("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));fW.displayName="SidebarMenuSub";const pW=m.forwardRef(({...t},e)=>c.jsx("li",{ref:e,...t}));pW.displayName="SidebarMenuSubItem";const mW=m.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...s},i)=>{const o=t?nc:"a";return c.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:pe("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});mW.displayName="SidebarMenuSubButton";const qR=m.forwardRef(({className:t,activeClassName:e,pendingClassName:n,to:r,...s},i)=>c.jsx(JF,{ref:i,to:r,className:({isActive:o,isPending:a})=>pe(t,o&&e,a&&n),...s}));qR.displayName="NavLink";const gW=[{title:"Overview",url:"/admin",icon:wM},{title:"Registrations",url:"/admin/registrations",icon:mM},{title:"Participants",url:"/admin/participants",icon:dd},{title:"Tournaments",url:"/admin/tournaments",icon:Ir},{title:"Games",url:"/admin/games",icon:bI},{title:"Teams",url:"/admin/teams",icon:CM},{title:"Matches",url:"/admin/matches",icon:ud},{title:"Leaderboard",url:"/admin/leaderboard",icon:hM},{title:"Users",url:"/admin/users",icon:IM}];function yW(){const t=ai();return c.jsx(sx,{collapsible:"icon",children:c.jsx(ox,{children:c.jsxs(ax,{children:[c.jsx(lx,{children:"Admin Panel"}),c.jsx(cx,{children:c.jsx(ux,{children:gW.map(e=>c.jsx(dx,{children:c.jsx(hx,{asChild:!0,isActive:t.pathname===e.url,tooltip:e.title,children:c.jsxs(qR,{to:e.url,className:"hover:bg-muted/50",activeClassName:"bg-muted text-primary font-medium",children:[c.jsx(e.icon,{className:"h-4 w-4"}),c.jsx("span",{children:e.title})]})})},e.title))})})]})})})}function vW(){const{signOut:t,user:e}=No();return c.jsxs("header",{className:"h-16 border-b bg-card flex items-center justify-between px-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(ix,{}),c.jsxs(mt,{to:"/admin",className:"flex items-center gap-2",children:[c.jsx(Ir,{className:"h-6 w-6 text-primary"}),c.jsx("span",{className:"text-lg font-bold",children:"Admin Dashboard"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.displayName}),c.jsxs(Pe,{variant:"outline",size:"sm",onClick:t,children:[c.jsx(bf,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}const _W=()=>{const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState(""),[o,a]=m.useState(!0),[l,d]=m.useState(!1),[h,f]=m.useState(null),[p,g]=m.useState({name:"",game_type:"SINGLE",players_per_team:1,is_active:!0,tournament_id:""}),{toast:T}=Ss();m.useEffect(()=>{x()},[]),m.useEffect(()=>{s?_():e([])},[s]);const x=async()=>{try{const j=await pi();r(j),j.length>0&&!s&&i(j[0].id)}catch(j){T({title:"Error",description:j.message,variant:"destructive"})}},_=async()=>{if(s)try{a(!0);const j=await Pa(s);e(j)}catch(j){T({title:"Error",description:j.message,variant:"destructive"})}finally{a(!1)}},w=async j=>{if(j.preventDefault(),!p.tournament_id){T({title:"Error",description:"Please select a tournament",variant:"destructive"});return}try{h?(await fi(Nt(ze,"games",h),{...p,updated_at:Je()}),T({title:"Game updated successfully"})):(await yc(fr(ze,"games"),{...p,created_at:Je(),updated_at:Je()}),T({title:"Game created successfully"})),d(!1),I(),_()}catch(C){T({title:"Error",description:C.message,variant:"destructive"})}},y=j=>{f(j.id),g({name:j.name,game_type:j.game_type,players_per_team:j.players_per_team,is_active:j.is_active,tournament_id:j.tournament_id||s}),d(!0)},E=async j=>{if(confirm("Are you sure you want to delete this game?"))try{await fm(Nt(ze,"games",j)),T({title:"Game deleted successfully"}),_()}catch(C){T({title:"Error",description:C.message,variant:"destructive"})}},I=()=>{g({name:"",game_type:"SINGLE",players_per_team:1,is_active:!0,tournament_id:s}),f(null)},D=j=>{const C=n.find(S=>S.id===j);return(C==null?void 0:C.name)||"Unknown Tournament"};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Games"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Configure sports and game settings"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-full md:w-64",children:[c.jsx(ot,{htmlFor:"tournament-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Tournament"}),c.jsxs(en,{value:s,onValueChange:i,children:[c.jsx(Ht,{id:"tournament-select",children:c.jsx(tn,{placeholder:"Select tournament"})}),c.jsx(qt,{children:n.map(j=>c.jsx(ct,{value:j.id,children:j.name},j.id))})]})]}),c.jsxs(sa,{open:l,onOpenChange:j=>{d(j),j&&!h&&g(C=>({...C,tournament_id:s})),j||I()},children:[c.jsx(ex,{asChild:!0,children:c.jsxs(Pe,{disabled:!s,children:[c.jsx(Tf,{className:"h-4 w-4 mr-2"}),"Add Game"]})}),c.jsxs(so,{children:[c.jsx(io,{children:c.jsxs(oo,{children:[h?"Edit":"Create"," Game"]})}),c.jsxs("form",{onSubmit:w,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"tournament_id",children:"Tournament"}),c.jsxs(en,{value:p.tournament_id,onValueChange:j=>g({...p,tournament_id:j}),disabled:!!h,children:[c.jsx(Ht,{id:"tournament_id",children:c.jsx(tn,{placeholder:"Select tournament"})}),c.jsx(qt,{children:n.map(j=>c.jsx(ct,{value:j.id,children:j.name},j.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"name",children:"Game Name"}),c.jsx(xt,{id:"name",value:p.name,onChange:j=>g({...p,name:j.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"game_type",children:"Game Type"}),c.jsxs(en,{value:p.game_type,onValueChange:j=>g({...p,game_type:j}),children:[c.jsx(Ht,{children:c.jsx(tn,{})}),c.jsxs(qt,{children:[c.jsx(ct,{value:"SINGLE",children:"Single (1v1)"}),c.jsx(ct,{value:"PAIR",children:"Pair (2v2)"}),c.jsx(ct,{value:"TEAM",children:"Team"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"players_per_team",children:"Players Per Team"}),c.jsx(xt,{id:"players_per_team",type:"number",min:"1",value:p.players_per_team,onChange:j=>g({...p,players_per_team:parseInt(j.target.value)}),required:!0})]}),c.jsxs(Pe,{type:"submit",className:"w-full",children:[h?"Update":"Create"," Game"]})]})]})]})]})]}),s?o?c.jsx(Qe,{children:c.jsx(Ye,{className:"py-8 text-center text-muted-foreground",children:"Loading games..."})}):t.length===0?c.jsx(Qe,{children:c.jsx(Ye,{className:"py-8 text-center text-muted-foreground",children:'No games found for this tournament. Click "Add Game" to create one.'})}):c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(j=>c.jsxs(Qe,{children:[c.jsx(gt,{children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(yt,{children:j.name}),j.tournament_id&&c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:D(j.tournament_id)})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>y(j),children:c.jsx(D_,{className:"h-4 w-4"})}),c.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>E(j.id),children:c.jsx(Np,{className:"h-4 w-4"})})]})]})}),c.jsxs(Ye,{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Type:"}),c.jsx("span",{className:"font-medium",children:j.game_type})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Players:"}),c.jsx("span",{className:"font-medium",children:j.players_per_team})]}),c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${j.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:j.is_active?"Active":"Inactive"})]})]},j.id))}):c.jsx(Qe,{children:c.jsx(Ye,{className:"py-8 text-center text-muted-foreground",children:"Please select a tournament to view or create games."})})]})};var Tm="Checkbox",[wW,uq]=Ta(Tm),[xW,fx]=wW(Tm);function EW(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:l,required:d,value:h="on",internal_do_not_use_render:f}=t,[p,g]=Ml({prop:n,defaultProp:s??!1,onChange:l,caller:Tm}),[T,x]=m.useState(null),[_,w]=m.useState(null),y=m.useRef(!1),E=T?!!o||!!T.closest("form"):!0,I={checked:p,disabled:i,setChecked:g,control:T,setControl:x,name:a,form:o,value:h,hasConsumerStoppedPropagationRef:y,required:d,defaultChecked:ao(s)?!1:s,isFormControl:E,bubbleInput:_,setBubbleInput:w};return c.jsx(xW,{scope:e,...I,children:bW(f)?f(I):r})}var GR="CheckboxTrigger",KR=m.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:l,required:d,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:T}=fx(GR,t),x=vt(s,h),_=m.useRef(l);return m.useEffect(()=>{const w=i==null?void 0:i.form;if(w){const y=()=>f(_.current);return w.addEventListener("reset",y),()=>w.removeEventListener("reset",y)}},[i,f]),c.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":ao(l)?"mixed":l,"aria-required":d,"data-state":JR(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:x,onKeyDown:Ve(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Ve(n,w=>{f(y=>ao(y)?!0:!y),T&&g&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})})});KR.displayName=GR;var px=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l,onCheckedChange:d,form:h,...f}=t;return c.jsx(EW,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:d,name:r,form:h,value:l,internal_do_not_use_render:({isFormControl:p})=>c.jsxs(c.Fragment,{children:[c.jsx(KR,{...f,ref:e,__scopeCheckbox:n}),p&&c.jsx(ZR,{__scopeCheckbox:n})]})})});px.displayName=Tm;var QR="CheckboxIndicator",YR=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=fx(QR,n);return c.jsx(Sa,{present:r||ao(i.checked)||i.checked===!0,children:c.jsx(Be.span,{"data-state":JR(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});YR.displayName=QR;var XR="CheckboxBubbleInput",ZR=m.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:l,name:d,value:h,form:f,bubbleInput:p,setBubbleInput:g}=fx(XR,t),T=vt(n,g),x=JP(i),_=GI(r);m.useEffect(()=>{const y=p;if(!y)return;const E=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(E,"checked").set,j=!s.current;if(x!==i&&D){const C=new Event("click",{bubbles:j});y.indeterminate=ao(i),D.call(y,ao(i)?!1:i),y.dispatchEvent(C)}},[p,x,i,s]);const w=m.useRef(ao(i)?!1:i);return c.jsx(Be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??w.current,required:a,disabled:l,name:d,value:h,form:f,...e,tabIndex:-1,ref:T,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ZR.displayName=XR;function bW(t){return typeof t=="function"}function ao(t){return t==="indeterminate"}function JR(t){return ao(t)?"indeterminate":t?"checked":"unchecked"}const Nv=m.forwardRef(({className:t,...e},n)=>c.jsx(px,{ref:n,className:pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:c.jsx(YR,{className:pe("flex items-center justify-center text-current"),children:c.jsx(xI,{className:"h-4 w-4"})})}));Nv.displayName=px.displayName;const e2=fr(ze,"teams"),TW=async t=>{const e=[Kr("tournament_id","==",t.tournamentId),es("created_at","desc")];t.gameId&&e.splice(1,0,Kr("game_id","==",t.gameId));const n=di(e2,...e);return(await hi(n)).docs.map(s=>({id:s.id,...s.data()}))},Wb=async t=>(await yc(e2,{...t,created_at:Je(),updated_at:Je()})).id,SW=async(t,e)=>{await fi(Nt(ze,"teams",t),{...e,updated_at:Je()})},CW=async(t,e)=>{await fi(Nt(ze,"teams",t),{player_ids:mz(e),updated_at:Je()})},IW=async t=>{await fm(Nt(ze,"teams",t))},kW=fr(ze,"profiles"),mx=async()=>{const t=di(kW,es("created_at","desc"));return(await hi(t)).docs.map(n=>({id:n.id,...n.data()}))},AW=()=>{const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState([]),[o,a]=m.useState([]),[l,d]=m.useState(""),[h,f]=m.useState(""),[p,g]=m.useState(!0),[T,x]=m.useState(!1),[_,w]=m.useState(!1),[y,E]=m.useState(!1),[I,D]=m.useState(null),[j,C]=m.useState(null),[S,k]=m.useState({name:"",is_pair:!1,status:"pending",tournament_id:"",game_id:""}),[P,O]=m.useState([]),[R,A]=m.useState([]),[W,oe]=m.useState(""),{toast:Q}=Ss(),ee=s.find(V=>V.id===h),U=(ee==null?void 0:ee.game_type)==="TEAM",$=(ee==null?void 0:ee.game_type)==="PAIR",re=(ee==null?void 0:ee.game_type)==="SINGLE";m.useEffect(()=>{ge(),we()},[]),m.useEffect(()=>{l?le():(i([]),f(""))},[l]),m.useEffect(()=>{l&&h?ue():e([])},[l,h]);const ge=async()=>{try{const V=await pi();r(V),V.length>0&&!l&&d(V[0].id)}catch(V){Q({title:"Error",description:V.message,variant:"destructive"})}},le=async()=>{if(l)try{const V=await Pa(l);i(V),V.length>0&&!h&&f(V[0].id)}catch(V){Q({title:"Error",description:V.message,variant:"destructive"})}},ue=async()=>{if(!(!l||!h))try{g(!0);const V=await TW({tournamentId:l,gameId:h});e(V)}catch(V){Q({title:"Error",description:V.message,variant:"destructive"})}finally{g(!1)}},we=async()=>{try{const V=await mx();a(V)}catch(V){Q({title:"Error",description:V.message,variant:"destructive"})}},De=async V=>{if(V.preventDefault(),!S.tournament_id||!S.game_id){Q({title:"Error",description:"Please select a tournament and game",variant:"destructive"});return}if(!$&&!S.name.trim()){Q({title:"Error",description:"Team name is required",variant:"destructive"});return}try{I?(await SW(I,{name:S.name,is_pair:S.is_pair,status:S.status}),Q({title:`${$?"Pair":"Team"} updated successfully`})):(await Wb({...S,name:$?`Pair ${Date.now()}`:S.name,player_ids:[]}),Q({title:`${$?"Pair":"Team"} created successfully`})),x(!1),Se(),ue()}catch(Ee){Q({title:"Error",description:Ee.message,variant:"destructive"})}},lt=V=>{D(V.id),k({name:V.name,is_pair:V.is_pair,status:V.status,tournament_id:V.tournament_id,game_id:V.game_id}),x(!0)},se=async V=>{if(confirm("Are you sure you want to delete this team?"))try{await IW(V),Q({title:"Team deleted successfully"}),ue()}catch(Ee){Q({title:"Error",description:Ee.message,variant:"destructive"})}},Fe=V=>{C(V),O(V.player_ids),w(!0)},rt=async()=>{if(R.length===2)try{await Wb({tournament_id:l,game_id:h,name:`Pair ${Date.now()}`,is_pair:!0,player_ids:R,status:"pending"}),Q({title:"Pair created successfully"}),E(!1),A([]),ue()}catch(V){Q({title:"Error",description:V.message,variant:"destructive"})}},ke=async()=>{if(j)try{const V=j.player_ids.filter(Ce=>!P.includes(Ce));for(const Ce of V)await fi(Nt(ze,"teams",j.id),{player_ids:gz(Ce),updated_at:Je()});const Ee=P.filter(Ce=>!j.player_ids.includes(Ce));for(const Ce of Ee)await CW(j.id,Ce);Q({title:"Team players updated successfully"}),w(!1),C(null),ue()}catch(V){Q({title:"Error",description:V.message,variant:"destructive"})}},Se=()=>{k({name:"",is_pair:!1,status:"pending",tournament_id:l,game_id:h}),D(null)},Ae=V=>{const Ee=n.find(Ce=>Ce.id===V);return(Ee==null?void 0:Ee.name)||"Unknown Tournament"},_t=V=>{const Ee=s.find(Ce=>Ce.id===V);return(Ee==null?void 0:Ee.name)||"Unknown Game"},fe=V=>{const Ee=o.find(Ce=>Ce.id===V);return(Ee==null?void 0:Ee.name)||"Unknown User"};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Teams"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Create and manage teams for tournaments"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-full md:w-64",children:[c.jsx(ot,{htmlFor:"tournament-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Tournament"}),c.jsxs(en,{value:l,onValueChange:d,children:[c.jsx(Ht,{id:"tournament-select",children:c.jsx(tn,{placeholder:"Select tournament"})}),c.jsx(qt,{children:n.map(V=>c.jsx(ct,{value:V.id,children:V.name},V.id))})]})]}),c.jsxs("div",{className:"w-full md:w-64",children:[c.jsx(ot,{htmlFor:"game-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Game"}),c.jsxs(en,{value:h,onValueChange:f,disabled:!l,children:[c.jsx(Ht,{id:"game-select",children:c.jsx(tn,{placeholder:"Select game"})}),c.jsx(qt,{children:s.map(V=>c.jsx(ct,{value:V.id,children:V.name},V.id))})]})]}),U&&c.jsxs(sa,{open:T,onOpenChange:V=>{x(V),V&&!I&&k(Ee=>({...Ee,tournament_id:l,game_id:h,is_pair:!1})),V||Se()},children:[c.jsx(ex,{asChild:!0,children:c.jsxs(Pe,{disabled:!l||!h,children:[c.jsx(Tf,{className:"h-4 w-4 mr-2"}),"Add Team"]})}),c.jsxs(so,{children:[c.jsx(io,{children:c.jsxs(oo,{children:[I?"Edit":"Create"," Team"]})}),c.jsxs("form",{onSubmit:De,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"tournament_id",children:"Tournament"}),c.jsxs(en,{value:S.tournament_id,onValueChange:V=>k({...S,tournament_id:V}),disabled:!!I,children:[c.jsx(Ht,{id:"tournament_id",children:c.jsx(tn,{placeholder:"Select tournament"})}),c.jsx(qt,{children:n.map(V=>c.jsx(ct,{value:V.id,children:V.name},V.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"game_id",children:"Game"}),c.jsxs(en,{value:S.game_id,onValueChange:V=>k({...S,game_id:V}),disabled:!!I,children:[c.jsx(Ht,{id:"game_id",children:c.jsx(tn,{placeholder:"Select game"})}),c.jsx(qt,{children:s.map(V=>c.jsx(ct,{value:V.id,children:V.name},V.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"name",children:"Team Name"}),c.jsx(xt,{id:"name",value:S.name,onChange:V=>k({...S,name:V.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"status",children:"Status"}),c.jsxs(en,{value:S.status,onValueChange:V=>k({...S,status:V}),children:[c.jsx(Ht,{children:c.jsx(tn,{})}),c.jsxs(qt,{children:[c.jsx(ct,{value:"pending",children:"Pending"}),c.jsx(ct,{value:"confirmed",children:"Confirmed"})]})]})]}),c.jsxs(Pe,{type:"submit",className:"w-full",children:[I?"Update":"Create"," Team"]})]})]})]}),$&&c.jsxs(Pe,{disabled:!l||!h,onClick:()=>E(!0),children:[c.jsx(Tf,{className:"h-4 w-4 mr-2"}),"Add Pair"]})]})]}),!l||!h?c.jsx(Qe,{children:c.jsx(Ye,{className:"py-8 text-center text-muted-foreground",children:"Please select a tournament and game to view or create teams."})}):re?c.jsx(Qe,{children:c.jsx(Ye,{className:"py-8 text-center text-muted-foreground",children:"Single player games don't require team management. Players are managed through registrations."})}):p?c.jsx(Qe,{children:c.jsxs(Ye,{className:"py-8 text-center text-muted-foreground",children:["Loading ",$?"pairs":"teams","..."]})}):t.length===0?c.jsx(Qe,{children:c.jsxs(Ye,{className:"py-8 text-center text-muted-foreground",children:["No ",$?"pairs":"teams",' found for this tournament and game. Click "Add ',$?"Pair":"Team",'" to create one.']})}):c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(V=>c.jsxs(Qe,{children:[c.jsx(gt,{children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(yt,{children:V.is_pair?V.player_ids.length===2?`${fe(V.player_ids[0])} & ${fe(V.player_ids[1])}`:`Pair ${V.id.slice(-4)}`:V.name}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Ae(V.tournament_id)," - ",_t(V.game_id)]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>Fe(V),children:c.jsx(dd,{className:"h-4 w-4"})}),!V.is_pair&&c.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>lt(V),children:c.jsx(D_,{className:"h-4 w-4"})}),c.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>se(V.id),children:c.jsx(Np,{className:"h-4 w-4"})})]})]})}),c.jsxs(Ye,{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Type:"}),c.jsx("span",{className:"font-medium",children:V.is_pair?"Pair":"Team"})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Players:"}),c.jsx("span",{className:"font-medium",children:V.player_ids.length})]}),c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${V.status==="confirmed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:V.status})]})]},V.id))}),c.jsx(sa,{open:y,onOpenChange:V=>{E(V),V||(A([]),oe(""))},children:c.jsxs(so,{className:"max-w-2xl",children:[c.jsx(io,{children:c.jsx(oo,{children:"Create Pair"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Select exactly 2 players for this pair",R.length>0&&c.jsxs("span",{className:"font-medium",children:[" (",R.length," selected)"]})]}),c.jsx("div",{className:"space-y-2",children:c.jsx(xt,{placeholder:"Search users by name or email...",value:W,onChange:V=>oe(V.target.value),className:"w-full"})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.filter(V=>V.name.toLowerCase().includes(W.toLowerCase())||V.email.toLowerCase().includes(W.toLowerCase())).map(V=>c.jsxs("div",{className:"flex items-center space-x-2 p-2 border-b",children:[c.jsx(Nv,{id:`pair-user-${V.id}`,checked:R.includes(V.id),disabled:!R.includes(V.id)&&R.length>=2,onCheckedChange:Ee=>{A(Ee?Ce=>[...Ce,V.id]:Ce=>Ce.filter(bt=>bt!==V.id))}}),c.jsxs(ot,{htmlFor:`pair-user-${V.id}`,className:"flex-1",children:[V.name," (",V.email,")"]})]},V.id))}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Pe,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),c.jsx(Pe,{onClick:rt,disabled:R.length!==2,children:"Create Pair"})]})]})]})}),c.jsx(sa,{open:_,onOpenChange:V=>{w(V),V||oe("")},children:c.jsxs(so,{className:"max-w-2xl",children:[c.jsx(io,{children:c.jsxs(oo,{children:["Manage Players - ",j!=null&&j.is_pair?j.player_ids.length===2?`${fe(j.player_ids[0])} & ${fe(j.player_ids[1])}`:`Pair ${j.id.slice(-4)}`:j==null?void 0:j.name]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:[j!=null&&j.is_pair?"Select exactly 2 players for this pair":`Select up to ${(ee==null?void 0:ee.players_per_team)||1} players for this team`,P.length>0&&c.jsxs("span",{className:"font-medium",children:[" (",P.length," selected)"]})]}),c.jsx("div",{className:"space-y-2",children:c.jsx(xt,{placeholder:"Search users by name or email...",value:W,onChange:V=>oe(V.target.value),className:"w-full"})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.filter(V=>V.name.toLowerCase().includes(W.toLowerCase())||V.email.toLowerCase().includes(W.toLowerCase())).map(V=>c.jsxs("div",{className:"flex items-center space-x-2 p-2 border-b",children:[c.jsx(Nv,{id:`user-${V.id}`,checked:P.includes(V.id),disabled:!P.includes(V.id)&&P.length>=(j!=null&&j.is_pair?2:(ee==null?void 0:ee.players_per_team)||1),onCheckedChange:Ee=>{O(Ee?Ce=>[...Ce,V.id]:Ce=>Ce.filter(bt=>bt!==V.id))}}),c.jsxs(ot,{htmlFor:`user-${V.id}`,className:"flex-1",children:[V.name," (",V.email,")"]})]},V.id))}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Pe,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),c.jsx(Pe,{onClick:ke,children:"Update Players"})]})]})]})})]})},NW=(t,e)=>{const n=e-t;return n===0?"Final":n===1?"Semi Final":n===2?"Quarter Final":`Round ${t+1}`},PW=t=>Math.pow(2,Math.ceil(Math.log2(Math.max(1,t)))),RW=(t,e=[])=>{var h,f,p;const n=[...t].sort((g,T)=>g.seed&&T.seed?g.seed-T.seed:g.seed?-1:T.seed?1:(g.created_at||"").localeCompare(T.created_at||"")),r=n.length,s=PW(r),i=Math.log2(s),o=[],a=Array(s).fill(null);n.forEach((g,T)=>{a[T]=g});let l=s/2,d=[];for(let g=0;g<i;g++){const T=[];for(let x=0;x<l;x++){const _=((h=e.shift())==null?void 0:h.id)||crypto.randomUUID(),w=x*2,y={id:_,round_index:g,round_name:NW(g,i-1),match_order:x,participant_a_id:(f=a[w])==null?void 0:f.id,participant_b_id:(p=a[w+1])==null?void 0:p.id};if(d.length){const E=Math.floor(x/2);y.next_match_id=d[E],y.winner_slot_in_next=x%2===0?"A":"B"}o.push(y),T.push(_)}d=T,l=l/2}return o},jW=async(t,e,n)=>{const r=yz(ze);n.forEach(s=>{const i=Nt(ze,"matches",s.id);r.set(i,{tournament_id:t,game_id:e,...s,status:"SCHEDULED",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{merge:!0})}),await r.commit()},OW=()=>{const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState([]),[o,a]=m.useState([]),[l,d]=m.useState(""),[h,f]=m.useState(""),[p,g]=m.useState(!1),{toast:T}=Ss();m.useEffect(()=>{pi().then(e)},[]),m.useEffect(()=>{f("")},[l]),m.useEffect(()=>{(async()=>{if(!l){r([]),i([]),a([]);return}g(!0);try{const[I,D,j]=await Promise.all([Pa(l),nx({tournamentId:l,gameId:h||void 0}),yu({tournamentId:l,gameId:h||void 0})]);r(I),i(D),a(j)}catch(I){T({title:"Error loading data",description:I.message,variant:"destructive"}),r([]),i([]),a([])}finally{g(!1)}})()},[l,h]);const x=m.useMemo(()=>s.reduce((E,I)=>(E[I.id]=I,E),{}),[s]),_=m.useMemo(()=>o.reduce((E,I)=>(E[I.round_index]||(E[I.round_index]=[]),E[I.round_index].push(I),E),{}),[o]),w=async()=>{if(!l||!h){T({title:"Select tournament and game",description:"Both tournament and game are required to generate bracket.",variant:"destructive"});return}if(s.length<2){T({title:"Not enough participants",description:"At least two participants are required to create a bracket.",variant:"destructive"});return}try{g(!0);const E=RW(s);await jW(l,h,E);const I=await yu({tournamentId:l,gameId:h});a(I),T({title:"Bracket generated",description:"Matches created successfully."})}catch(E){T({title:"Generation failed",description:E.message,variant:"destructive"})}finally{g(!1)}},y=async(E,I)=>{try{await M7(E.id,{tournament_id:E.tournament_id,game_id:E.game_id,winner_participant_id:I,score_details:"",points_awarded:{[I]:3},submitted_by:"admin"}),E.next_match_id&&E.winner_slot_in_next&&await Yh(E.next_match_id,E.winner_slot_in_next==="A"?{participant_a_id:I}:{participant_b_id:I});const D=await yu({tournamentId:l,gameId:h||void 0});a(D),T({title:"Result recorded"})}catch(D){T({title:"Failed to record result",description:D.message,variant:"destructive"})}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[c.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),c.jsxs(en,{value:l,onValueChange:d,children:[c.jsx(Ht,{children:c.jsx(tn,{placeholder:"Select tournament"})}),c.jsx(qt,{children:t.map(E=>c.jsx(ct,{value:E.id,children:E.name},E.id))})]})]}),c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[c.jsx("p",{className:"text-sm font-medium",children:"Game"}),c.jsxs(en,{value:h,onValueChange:f,disabled:!l,children:[c.jsx(Ht,{children:c.jsx(tn,{placeholder:"Select game"})}),c.jsx(qt,{children:n.map(E=>c.jsx(ct,{value:E.id,children:E.name},E.id))})]})]}),c.jsxs(Pe,{onClick:w,disabled:!h||p,children:[c.jsx(pM,{className:"h-4 w-4 mr-2"}),"Generate Bracket"]})]}),c.jsxs(Qe,{children:[c.jsxs(gt,{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(yt,{children:"Match Schedule"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-generated bracket with manual override support."})]}),p&&c.jsx(Ws,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),c.jsx(Ye,{children:l?o.length===0?c.jsx("p",{className:"text-muted-foreground text-sm",children:"No matches yet. Generate a bracket or create matches manually."}):Object.entries(_).map(([E,I])=>c.jsxs("div",{className:"mb-6",children:[c.jsxs("p",{className:"text-sm font-semibold mb-3 uppercase text-muted-foreground",children:["Round ",Number(E)+1]}),c.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:I.map(D=>{const j=D.participant_a_id?x[D.participant_a_id]:void 0,C=D.participant_b_id?x[D.participant_b_id]:void 0;return c.jsx(Qe,{children:c.jsxs(Ye,{className:"space-y-3 pt-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Match"}),c.jsx("p",{className:"font-semibold",children:D.round_name})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{children:(j==null?void 0:j.user_id)||(j==null?void 0:j.team_id)||"TBD"}),c.jsx(Pe,{variant:"outline",size:"sm",disabled:!j,onClick:()=>j&&y(D,j.id),children:"Win"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{children:(C==null?void 0:C.user_id)||(C==null?void 0:C.team_id)||"TBD"}),c.jsx(Pe,{variant:"outline",size:"sm",disabled:!C,onClick:()=>C&&y(D,C.id),children:"Win"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx(xt,{type:"datetime-local",value:D.match_time||"",onChange:S=>Yh(D.id,{match_time:S.target.value})}),c.jsx(xt,{placeholder:"Venue",value:D.venue||"",onChange:S=>Yh(D.id,{venue:S.target.value})})]})]})},D.id)})})]},E)):c.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament and game to view matches."})})]})]})},DW=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!0),[s,i]=m.useState(!1),[o,a]=m.useState(null),[l,d]=m.useState({name:"",start_date:"",end_date:"",is_active:!0}),{toast:h}=Ss();m.useEffect(()=>{f()},[]);const f=async()=>{try{const _=di(fr(ze,"tournaments"),es("created_at","desc")),y=(await hi(_)).docs.map(E=>{const I=E.data();return{id:E.id,name:I.name??"",start_date:I.start_date||"",end_date:I.end_date||"",is_active:I.is_active??!0}});e(y)}catch(_){h({title:"Error",description:_.message,variant:"destructive"})}finally{r(!1)}},p=async _=>{_.preventDefault();try{o?(await fi(Nt(ze,"tournaments",o),{...l,updated_at:Je()}),h({title:"Tournament updated successfully"})):(await yc(fr(ze,"tournaments"),{...l,created_at:Je(),updated_at:Je()}),h({title:"Tournament created successfully"})),i(!1),x(),f()}catch(w){h({title:"Error",description:w.message,variant:"destructive"})}},g=_=>{a(_.id),d({name:_.name,start_date:_.start_date||"",end_date:_.end_date||"",is_active:_.is_active}),i(!0)},T=async _=>{if(confirm("Are you sure you want to delete this tournament?"))try{await fm(Nt(ze,"tournaments",_)),h({title:"Tournament deleted successfully"}),f()}catch(w){h({title:"Error",description:w.message,variant:"destructive"})}},x=()=>{d({name:"",start_date:"",end_date:"",is_active:!0}),a(null)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Tournaments"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage tournament configurations"})]}),c.jsxs(sa,{open:s,onOpenChange:_=>{i(_),_||x()},children:[c.jsx(ex,{asChild:!0,children:c.jsxs(Pe,{children:[c.jsx(Tf,{className:"h-4 w-4 mr-2"}),"Add Tournament"]})}),c.jsxs(so,{children:[c.jsx(io,{children:c.jsxs(oo,{children:[o?"Edit":"Create"," Tournament"]})}),c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"name",children:"Tournament Name"}),c.jsx(xt,{id:"name",value:l.name,onChange:_=>d({...l,name:_.target.value}),required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"start_date",children:"Start Date"}),c.jsx(xt,{id:"start_date",type:"date",value:l.start_date,onChange:_=>d({...l,start_date:_.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"end_date",children:"End Date"}),c.jsx(xt,{id:"end_date",type:"date",value:l.end_date,onChange:_=>d({...l,end_date:_.target.value})})]})]}),c.jsxs(Pe,{type:"submit",className:"w-full",children:[o?"Update":"Create"," Tournament"]})]})]})]})]}),n?c.jsx("p",{children:"Loading..."}):c.jsx("div",{className:"grid gap-4",children:t.map(_=>c.jsxs(Qe,{children:[c.jsx(gt,{children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(yt,{children:_.name}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:_.start_date&&_.end_date&&`${new Date(_.start_date).toLocaleDateString()} - ${new Date(_.end_date).toLocaleDateString()}`})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>g(_),children:c.jsx(D_,{className:"h-4 w-4"})}),c.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>T(_.id),children:c.jsx(Np,{className:"h-4 w-4"})})]})]})}),c.jsx(Ye,{children:c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${_.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.is_active?"Active":"Inactive"})})]},_.id))})]})},MW=()=>{const[t,e]=m.useState({activeTournamentsCount:0,activeTournamentName:"Loading...",totalGames:0,registeredPlayers:0,scheduledMatches:0}),[n,r]=m.useState(!0);return m.useEffect(()=>{(async()=>{try{const[i,o,a]=await Promise.all([pi(),mx(),Pa()]),l=i.filter(f=>f.is_active),d=l[0]||i[0];let h=0;d&&(h=(await yu({tournamentId:d.id})).length),e({activeTournamentsCount:l.length,activeTournamentName:d?d.name:"No Tournaments",totalGames:a.length,registeredPlayers:o.length,scheduledMatches:h})}catch(i){console.error("Error fetching dashboard data:",i),e(o=>({...o,activeTournamentName:"Error loading data"}))}finally{r(!1)}})()},[]),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Overview"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Welcome to the Sports Week Admin Dashboard"})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[c.jsxs(Qe,{children:[c.jsxs(gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(yt,{className:"text-sm font-medium",children:"Active Tournaments"}),c.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ye,{children:[c.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.activeTournamentsCount}),c.jsx("p",{className:"text-xs text-muted-foreground",children:t.activeTournamentName})]})]}),c.jsxs(Qe,{children:[c.jsxs(gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(yt,{className:"text-sm font-medium",children:"Total Games"}),c.jsx(bI,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ye,{children:[c.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.totalGames}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all tournaments"})]})]}),c.jsxs(Qe,{children:[c.jsxs(gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(yt,{className:"text-sm font-medium",children:"Registered Players"}),c.jsx(dd,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ye,{children:[c.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.registeredPlayers}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total registered users"})]})]}),c.jsxs(Qe,{children:[c.jsxs(gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(yt,{className:"text-sm font-medium",children:"Scheduled Matches"}),c.jsx(ud,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ye,{children:[c.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.scheduledMatches}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"For current tournament"})]})]})]}),c.jsxs(Qe,{children:[c.jsx(gt,{children:c.jsx(yt,{children:"Quick Start Guide"})}),c.jsxs(Ye,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"1"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:"Create a Tournament"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Set up Sports Week 2025 with start and end dates"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"2"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:"Add Games"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure games like Chess, Cricket, Volleyball, etc."})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:"Create Teams"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Build teams and pairs for various games"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:"Schedule Matches"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Create match fixtures with dates, times, and venues"})]})]})]})]})]})},VW=fr(ze,"registrations"),Hb=async t=>{const e=[];t.tournamentId&&e.push(Kr("tournament_id","==",t.tournamentId)),t.gameId&&e.push(Kr("game_id","==",t.gameId)),t.status&&e.push(Kr("status","==",t.status));const n=di(VW,...e,es("created_at","desc"));return(await hi(n)).docs.map(s=>({id:s.id,...s.data()}))},LW=async(t,e)=>{await fi(Nt(ze,"registrations",t),{status:e,updated_at:Je()})},FW=fr(ze,"notifications"),UW=async t=>{await yc(FW,{...t,is_read:!1,created_at:Je(),updated_at:Je()})},$W=async(t,e)=>{await UW({user_id:t,title:"Registration Approved",message:`You have been added to ${e.tournamentName}. Check your dashboard for match updates.`,type:"registration"})},BW={pending:"secondary",approved:"default",rejected:"destructive"},zW=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState([]),[o,a]=m.useState([]),[l,d]=m.useState([]),[h,f]=m.useState([]),[p,g]=m.useState(!1),{toast:T}=Ss();m.useEffect(()=>{(async()=>{const[y,E]=await Promise.all([pi(),mx()]);i(y),f(E)})()},[]),m.useEffect(()=>{if(!t){a([]),d([]);return}(async()=>{g(!0);const[y,E]=await Promise.all([Pa(t),Hb({tournamentId:t,gameId:n||void 0})]);a(y),d(E),g(!1)})()},[t,n]);const x=m.useMemo(()=>s.find(w=>w.id===t),[s,t]),_=async(w,y)=>{try{if(await LW(w.id,y),y==="approved"){const I=await V7({tournament_id:w.tournament_id,game_id:w.game_id,type:"USER",user_id:w.user_id});await $W(w.user_id,{tournamentName:(x==null?void 0:x.name)||"Tournament"}),console.debug("Participant created:",I)}T({title:`Registration ${y}`,description:y==="approved"?"Player added to participants list.":void 0});const E=await Hb({tournamentId:w.tournament_id,gameId:n||void 0});d(E)}catch(E){T({title:"Action failed",description:E.message,variant:"destructive"})}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[c.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),c.jsxs(en,{value:t,onValueChange:e,children:[c.jsx(Ht,{children:c.jsx(tn,{placeholder:"Select tournament"})}),c.jsx(qt,{children:s.map(w=>c.jsx(ct,{value:w.id,children:w.name},w.id))})]})]}),c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[c.jsx("p",{className:"text-sm font-medium",children:"Game"}),c.jsxs(en,{value:n,onValueChange:r,disabled:!t,children:[c.jsx(Ht,{children:c.jsx(tn,{placeholder:"All games"})}),c.jsxs(qt,{children:[c.jsx(ct,{value:"all",children:"All games"}),o.map(w=>c.jsx(ct,{value:w.id,children:w.name},w.id))]})]})]})]}),c.jsxs(Qe,{children:[c.jsxs(gt,{className:"flex flex-row items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(yt,{children:"Registrations"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Approve or reject player registrations for the selected tournament."})]}),p&&c.jsx(Ws,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),c.jsx(Ye,{children:t?l.length===0?c.jsx("p",{className:"text-muted-foreground text-sm",children:"No registrations found."}):c.jsx("div",{className:"space-y-4",children:l.map(w=>{var y,E,I;return c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between border-b pb-4 last:border-0",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:((y=h.find(D=>D.id===w.user_id))==null?void 0:y.name)??w.user_id}),c.jsx("p",{className:"text-sm text-muted-foreground",children:((E=h.find(D=>D.id===w.user_id))==null?void 0:E.email)??""}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Game: ",((I=o.find(D=>D.id===w.game_id))==null?void 0:I.name)??"Unknown"]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Kw,{variant:BW[w.status],children:w.status}),w.status==="pending"&&c.jsxs(c.Fragment,{children:[c.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>_(w,"approved"),children:"Approve"}),c.jsx(Pe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>_(w,"rejected"),children:"Reject"})]})]})]},w.id)})}):c.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view registrations."})})]})]})},WW=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState([]),[o,a]=m.useState([]),[l,d]=m.useState([]),[h,f]=m.useState(!1),{toast:p}=Ss();m.useEffect(()=>{pi().then(i)},[]),m.useEffect(()=>{if(!t){a([]),d([]);return}(async()=>{f(!0);const[w,y]=await Promise.all([Pa(t),nx({tournamentId:t,gameId:n||void 0})]);a(w),d(y),f(!1)})()},[t,n]);const g=m.useMemo(()=>o.find(_=>_.id===n),[o,n]),T=async(_,w)=>{try{await L7(_.id,{seed:w}),p({title:"Seed updated"})}catch(y){p({title:"Update failed",description:y.message,variant:"destructive"})}},x=async _=>{try{await F7(_),d(w=>w.filter(y=>y.id!==_)),p({title:"Participant removed"})}catch(w){p({title:"Removal failed",description:w.message,variant:"destructive"})}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[c.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),c.jsxs(en,{value:t,onValueChange:e,children:[c.jsx(Ht,{children:c.jsx(tn,{placeholder:"Select tournament"})}),c.jsx(qt,{children:s.map(_=>c.jsx(ct,{value:_.id,children:_.name},_.id))})]})]}),c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[c.jsx("p",{className:"text-sm font-medium",children:"Game"}),c.jsxs(en,{value:n,onValueChange:r,disabled:!t,children:[c.jsx(Ht,{children:c.jsx(tn,{placeholder:"All games"})}),c.jsxs(qt,{children:[c.jsx(ct,{value:"",children:"All games"}),o.map(_=>c.jsx(ct,{value:_.id,children:_.name},_.id))]})]})]})]}),c.jsxs(Qe,{children:[c.jsxs(gt,{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(yt,{children:"Participants"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage seeds and eligibility for bracket generation."})]}),h&&c.jsx(Ws,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),c.jsx(Ye,{children:t?l.length===0?c.jsx("p",{className:"text-muted-foreground text-sm",children:"No participants found."}):c.jsx("div",{className:"space-y-3",children:l.map(_=>c.jsxs("div",{className:"flex flex-col gap-3 border rounded-lg p-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:_.user_id||_.team_id}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.type==="USER"?"Player":"Team"," "," ",(g==null?void 0:g.name)??"Tournament Game"]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:"Seed"}),c.jsx(xt,{type:"number",min:1,className:"w-24",defaultValue:_.seed??"",onBlur:w=>{const y=Number(w.target.value);!Number.isNaN(y)&&y>0&&T(_,y)}})]}),c.jsx(Pe,{variant:"ghost",size:"icon",onClick:()=>x(_.id),children:c.jsx(Np,{className:"h-4 w-4 text-destructive"})})]})]},_.id))}):c.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view participants."})})]})]})},HW=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(""),[s,i]=m.useState([]),[o,a]=m.useState(!1);return m.useEffect(()=>{pi().then(e)},[]),m.useEffect(()=>{if(!n){i([]);return}a(!0),VR(n).then(i).finally(()=>a(!1))},[n]),c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex flex-wrap gap-4 items-end",children:c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[c.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),c.jsxs(en,{value:n,onValueChange:r,children:[c.jsx(Ht,{children:c.jsx(tn,{placeholder:"Select tournament"})}),c.jsx(qt,{children:t.map(l=>c.jsx(ct,{value:l.id,children:l.name},l.id))})]})]})}),c.jsxs(Qe,{children:[c.jsxs(gt,{className:"flex items-center justify-between",children:[c.jsx(yt,{children:"Leaderboard"}),o&&c.jsx(Ws,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),c.jsx(Ye,{children:n?s.length===0?c.jsx("p",{className:"text-muted-foreground text-sm",children:"No leaderboard data yet."}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-left text-muted-foreground border-b",children:[c.jsx("th",{className:"py-2 pr-4",children:"Rank"}),c.jsx("th",{className:"py-2 pr-4",children:"Name"}),c.jsx("th",{className:"py-2 pr-4",children:"Type"}),c.jsx("th",{className:"py-2 pr-4",children:"Points"}),c.jsx("th",{className:"py-2 pr-4",children:"Wins"}),c.jsx("th",{className:"py-2 pr-4",children:"Losses"})]})}),c.jsx("tbody",{children:s.map((l,d)=>c.jsxs("tr",{className:"border-b last:border-0",children:[c.jsx("td",{className:"py-2 pr-4",children:l.rank??d+1}),c.jsx("td",{className:"py-2 pr-4 font-medium",children:l.name}),c.jsx("td",{className:"py-2 pr-4 capitalize",children:l.entity_type.toLowerCase()}),c.jsx("td",{className:"py-2 pr-4",children:l.points}),c.jsx("td",{className:"py-2 pr-4",children:l.wins}),c.jsx("td",{className:"py-2 pr-4",children:l.losses})]},l.id))})]})}):c.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view standings."})})]})]})},qW=()=>{const{loading:t,isAdmin:e}=No();return t?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading..."})}):e?c.jsx(rx,{children:c.jsxs("div",{className:"min-h-screen flex w-full bg-muted/30",children:[c.jsx(yW,{}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsx(vW,{}),c.jsx("main",{className:"flex-1 p-6",children:c.jsxs(Z_,{children:[c.jsx(on,{path:"/",element:c.jsx(MW,{})}),c.jsx(on,{path:"/registrations",element:c.jsx(zW,{})}),c.jsx(on,{path:"/participants",element:c.jsx(WW,{})}),c.jsx(on,{path:"/tournaments",element:c.jsx(DW,{})}),c.jsx(on,{path:"/games",element:c.jsx(_W,{})}),c.jsx(on,{path:"/teams",element:c.jsx(AW,{})}),c.jsx(on,{path:"/matches",element:c.jsx(OW,{})}),c.jsx(on,{path:"/leaderboard",element:c.jsx(HW,{})})]})})]})]})}):c.jsx(Gy,{to:"/",replace:!0})},GW=[{title:"Dashboard",url:"/dashboard",icon:_M},{title:"My Tournaments",url:"/dashboard/tournaments",icon:Ir},{title:"My Matches",url:"/dashboard/matches",icon:M_},{title:"Schedule",url:"/dashboard/schedule",icon:ud},{title:"Profile",url:"/dashboard/profile",icon:TI}];function KW(){const t=ai();return c.jsx(sx,{collapsible:"icon",children:c.jsx(ox,{children:c.jsxs(ax,{children:[c.jsx(lx,{children:"Player Panel"}),c.jsx(cx,{children:c.jsx(ux,{children:GW.map(e=>c.jsx(dx,{children:c.jsx(hx,{asChild:!0,isActive:t.pathname===e.url,tooltip:e.title,children:c.jsxs(mt,{to:e.url,children:[c.jsx(e.icon,{className:"h-4 w-4"}),c.jsx("span",{children:e.title})]})})},e.title))})})]})})})}function QW(){const{signOut:t,user:e}=No();return c.jsxs("header",{className:"h-16 border-b bg-card flex items-center justify-between px-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(ix,{}),c.jsxs(mt,{to:"/dashboard",className:"flex items-center gap-2",children:[c.jsx(TI,{className:"h-6 w-6 text-primary"}),c.jsx("span",{className:"text-lg font-bold",children:"Player Dashboard"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)}),c.jsxs(Pe,{variant:"outline",size:"sm",onClick:t,children:[c.jsx(bf,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}var Ad=t=>t.type==="checkbox",Go=t=>t instanceof Date,Ln=t=>t==null;const t2=t=>typeof t=="object";var Kt=t=>!Ln(t)&&!Array.isArray(t)&&t2(t)&&!Go(t),n2=t=>Kt(t)&&t.target?Ad(t.target)?t.target.checked:t.target.value:t,YW=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,r2=(t,e)=>t.has(YW(e)),XW=t=>{const e=t.constructor&&t.constructor.prototype;return Kt(e)&&e.hasOwnProperty("isPrototypeOf")},gx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function rn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(gx&&(t instanceof Blob||r))&&(n||Kt(t)))if(e=n?[]:{},!n&&!XW(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=rn(t[s]));else return t;return e}var Sm=t=>/^\w*$/.test(t),zt=t=>t===void 0,yx=t=>Array.isArray(t)?t.filter(Boolean):[],vx=t=>yx(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ae=(t,e,n)=>{if(!e||!Kt(t))return n;const r=(Sm(e)?[e]:vx(e)).reduce((s,i)=>Ln(s)?s:s[i],t);return zt(r)||r===t?zt(t[e])?n:t[e]:r},ir=t=>typeof t=="boolean",dt=(t,e,n)=>{let r=-1;const s=Sm(e)?[e]:vx(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const d=t[a];l=Kt(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const np={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Br={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Rs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},s2=H.createContext(null);s2.displayName="HookFormContext";const _x=()=>H.useContext(s2);var i2=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Br.all&&(e._proxyFormState[o]=!r||Br.all),n&&(n[o]=!0),t[o]}});return s};const wx=typeof window<"u"?H.useLayoutEffect:H.useEffect;function ZW(t){const e=_x(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=H.useState(n._formState),l=H.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return wx(()=>n._subscribe({name:s,formState:l.current,exact:i,callback:d=>{!r&&a({...n._formState,...d})}}),[s,r,i]),H.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),H.useMemo(()=>i2(o,n,l.current,!1),[o,n])}var fs=t=>typeof t=="string",o2=(t,e,n,r,s)=>fs(t)?(r&&e.watch.add(t),ae(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ae(n,i))):(r&&(e.watchAll=!0),n),Pv=t=>Ln(t)||!t2(t);function Ls(t,e,n=new WeakSet){if(Pv(t)||Pv(e))return t===e;if(Go(t)&&Go(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const a=e[i];if(Go(o)&&Go(a)||Kt(o)&&Kt(a)||Array.isArray(o)&&Array.isArray(a)?!Ls(o,a,n):o!==a)return!1}}return!0}function JW(t){const e=_x(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o,compute:a}=t||{},l=H.useRef(s),d=H.useRef(a),h=H.useRef(void 0);d.current=a;const f=H.useMemo(()=>n._getWatch(r,l.current),[n,r]),[p,g]=H.useState(d.current?d.current(f):f);return wx(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:T=>{if(!i){const x=o2(r,n._names,T.values||n._formValues,!1,l.current);if(d.current){const _=d.current(x);Ls(_,h.current)||(g(_),h.current=_)}else g(x)}}}),[n,i,r,o]),H.useEffect(()=>n._removeUnmounted()),p}function eH(t){const e=_x(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:o}=t,a=r2(s._names.array,n),l=H.useMemo(()=>ae(s._formValues,n,ae(s._defaultValues,n,o)),[s,n,o]),d=JW({control:s,name:n,defaultValue:l,exact:!0}),h=ZW({control:s,name:n,exact:!0}),f=H.useRef(t),p=H.useRef(s.register(n,{...t.rules,value:d,...ir(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const g=H.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ae(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!ae(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ae(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ae(h.validatingFields,n)},error:{enumerable:!0,get:()=>ae(h.errors,n)}}),[h,n]),T=H.useCallback(y=>p.current.onChange({target:{value:n2(y),name:n},type:np.CHANGE}),[n]),x=H.useCallback(()=>p.current.onBlur({target:{value:ae(s._formValues,n),name:n},type:np.BLUR}),[n,s._formValues]),_=H.useCallback(y=>{const E=ae(s._fields,n);E&&y&&(E._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:I=>y.setCustomValidity(I),reportValidity:()=>y.reportValidity()})},[s._fields,n]),w=H.useMemo(()=>({name:n,value:d,...ir(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:T,onBlur:x,ref:_}),[n,r,h.disabled,T,x,_,d]);return H.useEffect(()=>{const y=s._options.shouldUnregister||i;s.register(n,{...f.current.rules,...ir(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(I,D)=>{const j=ae(s._fields,I);j&&j._f&&(j._f.mount=D)};if(E(n,!0),y){const I=rn(ae(s._options.defaultValues,n));dt(s._defaultValues,n,I),zt(ae(s._formValues,n))&&dt(s._formValues,n,I)}return!a&&s.register(n),()=>{(a?y&&!s._state.action:y)?s.unregister(n):E(n,!1)}},[n,s,a,i]),H.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),H.useMemo(()=>({field:w,formState:h,fieldState:g}),[w,h,g])}const tH=t=>t.render(eH(t));var a2=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},vu=t=>Array.isArray(t)?t:[t],qb=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Kn=t=>Kt(t)&&!Object.keys(t).length,xx=t=>t.type==="file",zr=t=>typeof t=="function",rp=t=>{if(!gx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},l2=t=>t.type==="select-multiple",Ex=t=>t.type==="radio",nH=t=>Ex(t)||Ad(t),Fg=t=>rp(t)&&t.isConnected;function rH(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=zt(t)?r++:t[e[r++]];return t}function sH(t){for(const e in t)if(t.hasOwnProperty(e)&&!zt(t[e]))return!1;return!0}function Yt(t,e){const n=Array.isArray(e)?e:Sm(e)?[e]:vx(e),r=n.length===1?t:rH(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Kt(r)&&Kn(r)||Array.isArray(r)&&sH(r))&&Yt(t,n.slice(0,-1)),t}var c2=t=>{for(const e in t)if(zr(t[e]))return!0;return!1};function sp(t,e={}){const n=Array.isArray(t);if(Kt(t)||n)for(const r in t)Array.isArray(t[r])||Kt(t[r])&&!c2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},sp(t[r],e[r])):Ln(t[r])||(e[r]=!0);return e}function u2(t,e,n){const r=Array.isArray(t);if(Kt(t)||r)for(const s in t)Array.isArray(t[s])||Kt(t[s])&&!c2(t[s])?zt(e)||Pv(n[s])?n[s]=Array.isArray(t[s])?sp(t[s],[]):{...sp(t[s])}:u2(t[s],Ln(e)?{}:e[s],n[s]):n[s]=!Ls(t[s],e[s]);return n}var $c=(t,e)=>u2(t,e,sp(e));const Gb={value:!1,isValid:!1},Kb={value:!0,isValid:!0};var d2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!zt(t[0].attributes.value)?zt(t[0].value)||t[0].value===""?Kb:{value:t[0].value,isValid:!0}:Kb:Gb}return Gb},h2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>zt(t)?t:e?t===""?NaN:t&&+t:n&&fs(t)?new Date(t):r?r(t):t;const Qb={isValid:!1,value:null};var f2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Qb):Qb;function Yb(t){const e=t.ref;return xx(e)?e.files:Ex(e)?f2(t.refs).value:l2(e)?[...e.selectedOptions].map(({value:n})=>n):Ad(e)?d2(t.refs).value:h2(zt(e.value)?t.ref.value:e.value,t)}var iH=(t,e,n,r)=>{const s={};for(const i of t){const o=ae(e,i);o&&dt(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},ip=t=>t instanceof RegExp,Bc=t=>zt(t)?t:ip(t)?t.source:Kt(t)?ip(t.value)?t.value.source:t.value:t,Xb=t=>({isOnSubmit:!t||t===Br.onSubmit,isOnBlur:t===Br.onBlur,isOnChange:t===Br.onChange,isOnAll:t===Br.all,isOnTouch:t===Br.onTouched});const Zb="AsyncFunction";var oH=t=>!!t&&!!t.validate&&!!(zr(t.validate)&&t.validate.constructor.name===Zb||Kt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Zb)),aH=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Jb=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const _u=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ae(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(_u(a,e))break}else if(Kt(a)&&_u(a,e))break}}};function eT(t,e,n){const r=ae(t,n);if(r||Sm(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=ae(e,i),a=ae(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};if(a&&a.root&&a.root.type)return{name:`${i}.root`,error:a.root};s.pop()}return{name:n}}var lH=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Kn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Br.all))},cH=(t,e,n)=>!t||!e||t===e||vu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),uH=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,dH=(t,e)=>!yx(ae(t,e)).length&&Yt(t,e),hH=(t,e,n)=>{const r=vu(ae(t,n));return dt(r,"root",e[n]),dt(t,n,r),t},Xh=t=>fs(t);function tT(t,e,n="validate"){if(Xh(t)||Array.isArray(t)&&t.every(Xh)||ir(t)&&!t)return{type:n,message:Xh(t)?t:"",ref:e}}var $a=t=>Kt(t)&&!ip(t)?t:{value:t,message:""},nT=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:l,maxLength:d,minLength:h,min:f,max:p,pattern:g,validate:T,name:x,valueAsNumber:_,mount:w}=t._f,y=ae(n,x);if(!w||e.has(x))return{};const E=a?a[0]:o,I=R=>{s&&E.reportValidity&&(E.setCustomValidity(ir(R)?"":R||""),E.reportValidity())},D={},j=Ex(o),C=Ad(o),S=j||C,k=(_||xx(o))&&zt(o.value)&&zt(y)||rp(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,P=a2.bind(null,x,r,D),O=(R,A,W,oe=Rs.maxLength,Q=Rs.minLength)=>{const ee=R?A:W;D[x]={type:R?oe:Q,message:ee,ref:o,...P(R?oe:Q,ee)}};if(i?!Array.isArray(y)||!y.length:l&&(!S&&(k||Ln(y))||ir(y)&&!y||C&&!d2(a).isValid||j&&!f2(a).isValid)){const{value:R,message:A}=Xh(l)?{value:!!l,message:l}:$a(l);if(R&&(D[x]={type:Rs.required,message:A,ref:E,...P(Rs.required,A)},!r))return I(A),D}if(!k&&(!Ln(f)||!Ln(p))){let R,A;const W=$a(p),oe=$a(f);if(!Ln(y)&&!isNaN(y)){const Q=o.valueAsNumber||y&&+y;Ln(W.value)||(R=Q>W.value),Ln(oe.value)||(A=Q<oe.value)}else{const Q=o.valueAsDate||new Date(y),ee=re=>new Date(new Date().toDateString()+" "+re),U=o.type=="time",$=o.type=="week";fs(W.value)&&y&&(R=U?ee(y)>ee(W.value):$?y>W.value:Q>new Date(W.value)),fs(oe.value)&&y&&(A=U?ee(y)<ee(oe.value):$?y<oe.value:Q<new Date(oe.value))}if((R||A)&&(O(!!R,W.message,oe.message,Rs.max,Rs.min),!r))return I(D[x].message),D}if((d||h)&&!k&&(fs(y)||i&&Array.isArray(y))){const R=$a(d),A=$a(h),W=!Ln(R.value)&&y.length>+R.value,oe=!Ln(A.value)&&y.length<+A.value;if((W||oe)&&(O(W,R.message,A.message),!r))return I(D[x].message),D}if(g&&!k&&fs(y)){const{value:R,message:A}=$a(g);if(ip(R)&&!y.match(R)&&(D[x]={type:Rs.pattern,message:A,ref:o,...P(Rs.pattern,A)},!r))return I(A),D}if(T){if(zr(T)){const R=await T(y,n),A=tT(R,E);if(A&&(D[x]={...A,...P(Rs.validate,A.message)},!r))return I(A.message),D}else if(Kt(T)){let R={};for(const A in T){if(!Kn(R)&&!r)break;const W=tT(await T[A](y,n),E,A);W&&(R={...W,...P(A,W.message)},I(W.message),r&&(D[x]=R))}if(!Kn(R)&&(D[x]={ref:E,...R},!r))return D}}return I(!0),D};const fH={mode:Br.onSubmit,reValidateMode:Br.onChange,shouldFocusError:!0};function pH(t={}){let e={...fH,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:zr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Kt(e.defaultValues)||Kt(e.values)?rn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:rn(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const p={array:qb(),state:qb()},g=e.criteriaMode===Br.all,T=M=>F=>{clearTimeout(d),d=setTimeout(M,F)},x=async M=>{if(!e.disabled&&(h.isValid||f.isValid||M)){const F=e.resolver?Kn((await C()).errors):await k(r,!0);F!==n.isValid&&p.state.next({isValid:F})}},_=(M,F)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(a.mount)).forEach(B=>{B&&(F?dt(n.validatingFields,B,F):Yt(n.validatingFields,B))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Kn(n.validatingFields)}))},w=(M,F=[],B,te,J=!0,Y=!0)=>{if(te&&B&&!e.disabled){if(o.action=!0,Y&&Array.isArray(ae(r,M))){const X=B(ae(r,M),te.argA,te.argB);J&&dt(r,M,X)}if(Y&&Array.isArray(ae(n.errors,M))){const X=B(ae(n.errors,M),te.argA,te.argB);J&&dt(n.errors,M,X),dH(n.errors,M)}if((h.touchedFields||f.touchedFields)&&Y&&Array.isArray(ae(n.touchedFields,M))){const X=B(ae(n.touchedFields,M),te.argA,te.argB);J&&dt(n.touchedFields,M,X)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=$c(s,i)),p.state.next({name:M,isDirty:O(M,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else dt(i,M,F)},y=(M,F)=>{dt(n.errors,M,F),p.state.next({errors:n.errors})},E=M=>{n.errors=M,p.state.next({errors:n.errors,isValid:!1})},I=(M,F,B,te)=>{const J=ae(r,M);if(J){const Y=ae(i,M,zt(B)?ae(s,M):B);zt(Y)||te&&te.defaultChecked||F?dt(i,M,F?Y:Yb(J._f)):W(M,Y),o.mount&&x()}},D=(M,F,B,te,J)=>{let Y=!1,X=!1;const ve={name:M};if(!e.disabled){if(!B||te){(h.isDirty||f.isDirty)&&(X=n.isDirty,n.isDirty=ve.isDirty=O(),Y=X!==ve.isDirty);const qe=Ls(ae(s,M),F);X=!!ae(n.dirtyFields,M),qe?Yt(n.dirtyFields,M):dt(n.dirtyFields,M,!0),ve.dirtyFields=n.dirtyFields,Y=Y||(h.dirtyFields||f.dirtyFields)&&X!==!qe}if(B){const qe=ae(n.touchedFields,M);qe||(dt(n.touchedFields,M,B),ve.touchedFields=n.touchedFields,Y=Y||(h.touchedFields||f.touchedFields)&&qe!==B)}Y&&J&&p.state.next(ve)}return Y?ve:{}},j=(M,F,B,te)=>{const J=ae(n.errors,M),Y=(h.isValid||f.isValid)&&ir(F)&&n.isValid!==F;if(e.delayError&&B?(l=T(()=>y(M,B)),l(e.delayError)):(clearTimeout(d),l=null,B?dt(n.errors,M,B):Yt(n.errors,M)),(B?!Ls(J,B):J)||!Kn(te)||Y){const X={...te,...Y&&ir(F)?{isValid:F}:{},errors:n.errors,name:M};n={...n,...X},p.state.next(X)}},C=async M=>{_(M,!0);const F=await e.resolver(i,e.context,iH(M||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(M),F},S=async M=>{const{errors:F}=await C(M);if(M)for(const B of M){const te=ae(F,B);te?dt(n.errors,B,te):Yt(n.errors,B)}else n.errors=F;return F},k=async(M,F,B={valid:!0})=>{for(const te in M){const J=M[te];if(J){const{_f:Y,...X}=J;if(Y){const ve=a.array.has(Y.name),qe=J._f&&oH(J._f);qe&&h.validatingFields&&_([te],!0);const Qt=await nT(J,a.disabled,i,g,e.shouldUseNativeValidation&&!F,ve);if(qe&&h.validatingFields&&_([te]),Qt[Y.name]&&(B.valid=!1,F))break;!F&&(ae(Qt,Y.name)?ve?hH(n.errors,Qt,Y.name):dt(n.errors,Y.name,Qt[Y.name]):Yt(n.errors,Y.name))}!Kn(X)&&await k(X,F,B)}}return B.valid},P=()=>{for(const M of a.unMount){const F=ae(r,M);F&&(F._f.refs?F._f.refs.every(B=>!Fg(B)):!Fg(F._f.ref))&&se(M)}a.unMount=new Set},O=(M,F)=>!e.disabled&&(M&&F&&dt(i,M,F),!Ls(re(),s)),R=(M,F,B)=>o2(M,a,{...o.mount?i:zt(F)?s:fs(M)?{[M]:F}:F},B,F),A=M=>yx(ae(o.mount?i:s,M,e.shouldUnregister?ae(s,M,[]):[])),W=(M,F,B={})=>{const te=ae(r,M);let J=F;if(te){const Y=te._f;Y&&(!Y.disabled&&dt(i,M,h2(F,Y)),J=rp(Y.ref)&&Ln(F)?"":F,l2(Y.ref)?[...Y.ref.options].forEach(X=>X.selected=J.includes(X.value)):Y.refs?Ad(Y.ref)?Y.refs.forEach(X=>{(!X.defaultChecked||!X.disabled)&&(Array.isArray(J)?X.checked=!!J.find(ve=>ve===X.value):X.checked=J===X.value||!!J)}):Y.refs.forEach(X=>X.checked=X.value===J):xx(Y.ref)?Y.ref.value="":(Y.ref.value=J,Y.ref.type||p.state.next({name:M,values:rn(i)})))}(B.shouldDirty||B.shouldTouch)&&D(M,J,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&$(M)},oe=(M,F,B)=>{for(const te in F){if(!F.hasOwnProperty(te))return;const J=F[te],Y=M+"."+te,X=ae(r,Y);(a.array.has(M)||Kt(J)||X&&!X._f)&&!Go(J)?oe(Y,J,B):W(Y,J,B)}},Q=(M,F,B={})=>{const te=ae(r,M),J=a.array.has(M),Y=rn(F);dt(i,M,Y),J?(p.array.next({name:M,values:rn(i)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&B.shouldDirty&&p.state.next({name:M,dirtyFields:$c(s,i),isDirty:O(M,Y)})):te&&!te._f&&!Ln(Y)?oe(M,Y,B):W(M,Y,B),Jb(M,a)&&p.state.next({...n,name:M}),p.state.next({name:o.mount?M:void 0,values:rn(i)})},ee=async M=>{o.mount=!0;const F=M.target;let B=F.name,te=!0;const J=ae(r,B),Y=qe=>{te=Number.isNaN(qe)||Go(qe)&&isNaN(qe.getTime())||Ls(qe,ae(i,B,qe))},X=Xb(e.mode),ve=Xb(e.reValidateMode);if(J){let qe,Qt;const Wn=F.type?Yb(J._f):n2(M),Hn=M.type===np.BLUR||M.type===np.FOCUS_OUT,yr=!aH(J._f)&&!e.resolver&&!ae(n.errors,B)&&!J._f.deps||uH(Hn,ae(n.touchedFields,B),n.isSubmitted,ve,X),cn=Jb(B,a,Hn);dt(i,B,Wn),Hn?(J._f.onBlur&&J._f.onBlur(M),l&&l(0)):J._f.onChange&&J._f.onChange(M);const fn=D(B,Wn,Hn),ns=!Kn(fn)||cn;if(!Hn&&p.state.next({name:B,type:M.type,values:rn(i)}),yr)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?Hn&&x():Hn||x()),ns&&p.state.next({name:B,...cn?{}:fn});if(!Hn&&cn&&p.state.next({...n}),e.resolver){const{errors:Pr}=await C([B]);if(Y(Wn),te){const _c=eT(n.errors,r,B),mi=eT(Pr,r,_c.name||B);qe=mi.error,B=mi.name,Qt=Kn(Pr)}}else _([B],!0),qe=(await nT(J,a.disabled,i,g,e.shouldUseNativeValidation))[B],_([B]),Y(Wn),te&&(qe?Qt=!1:(h.isValid||f.isValid)&&(Qt=await k(r,!0)));te&&(J._f.deps&&$(J._f.deps),j(B,Qt,qe,fn))}},U=(M,F)=>{if(ae(n.errors,F)&&M.focus)return M.focus(),1},$=async(M,F={})=>{let B,te;const J=vu(M);if(e.resolver){const Y=await S(zt(M)?M:J);B=Kn(Y),te=M?!J.some(X=>ae(Y,X)):B}else M?(te=(await Promise.all(J.map(async Y=>{const X=ae(r,Y);return await k(X&&X._f?{[Y]:X}:X)}))).every(Boolean),!(!te&&!n.isValid)&&x()):te=B=await k(r);return p.state.next({...!fs(M)||(h.isValid||f.isValid)&&B!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:B}:{},errors:n.errors}),F.shouldFocus&&!te&&_u(r,U,M?J:a.mount),te},re=M=>{const F={...o.mount?i:s};return zt(M)?F:fs(M)?ae(F,M):M.map(B=>ae(F,B))},ge=(M,F)=>({invalid:!!ae((F||n).errors,M),isDirty:!!ae((F||n).dirtyFields,M),error:ae((F||n).errors,M),isValidating:!!ae(n.validatingFields,M),isTouched:!!ae((F||n).touchedFields,M)}),le=M=>{M&&vu(M).forEach(F=>Yt(n.errors,F)),p.state.next({errors:M?n.errors:{}})},ue=(M,F,B)=>{const te=(ae(r,M,{_f:{}})._f||{}).ref,J=ae(n.errors,M)||{},{ref:Y,message:X,type:ve,...qe}=J;dt(n.errors,M,{...qe,...F,ref:te}),p.state.next({name:M,errors:n.errors,isValid:!1}),B&&B.shouldFocus&&te&&te.focus&&te.focus()},we=(M,F)=>zr(M)?p.state.subscribe({next:B=>"values"in B&&M(R(void 0,F),B)}):R(M,F,!0),De=M=>p.state.subscribe({next:F=>{cH(M.name,F.name,M.exact)&&lH(F,M.formState||h,Ce,M.reRenderRoot)&&M.callback({values:{...i},...n,...F,defaultValues:s})}}).unsubscribe,lt=M=>(o.mount=!0,f={...f,...M.formState},De({...M,formState:f})),se=(M,F={})=>{for(const B of M?vu(M):a.mount)a.mount.delete(B),a.array.delete(B),F.keepValue||(Yt(r,B),Yt(i,B)),!F.keepError&&Yt(n.errors,B),!F.keepDirty&&Yt(n.dirtyFields,B),!F.keepTouched&&Yt(n.touchedFields,B),!F.keepIsValidating&&Yt(n.validatingFields,B),!e.shouldUnregister&&!F.keepDefaultValue&&Yt(s,B);p.state.next({values:rn(i)}),p.state.next({...n,...F.keepDirty?{isDirty:O()}:{}}),!F.keepIsValid&&x()},Fe=({disabled:M,name:F})=>{(ir(M)&&o.mount||M||a.disabled.has(F))&&(M?a.disabled.add(F):a.disabled.delete(F))},rt=(M,F={})=>{let B=ae(r,M);const te=ir(F.disabled)||ir(e.disabled);return dt(r,M,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:M}},name:M,mount:!0,...F}}),a.mount.add(M),B?Fe({disabled:ir(F.disabled)?F.disabled:e.disabled,name:M}):I(M,!0,F.value),{...te?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:Bc(F.min),max:Bc(F.max),minLength:Bc(F.minLength),maxLength:Bc(F.maxLength),pattern:Bc(F.pattern)}:{},name:M,onChange:ee,onBlur:ee,ref:J=>{if(J){rt(M,F),B=ae(r,M);const Y=zt(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,X=nH(Y),ve=B._f.refs||[];if(X?ve.find(qe=>qe===Y):Y===B._f.ref)return;dt(r,M,{_f:{...B._f,...X?{refs:[...ve.filter(Fg),Y,...Array.isArray(ae(s,M))?[{}]:[]],ref:{type:Y.type,name:M}}:{ref:Y}}}),I(M,!1,void 0,Y)}else B=ae(r,M,{}),B._f&&(B._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(r2(a.array,M)&&o.action)&&a.unMount.add(M)}}},ke=()=>e.shouldFocusError&&_u(r,U,a.mount),Se=M=>{ir(M)&&(p.state.next({disabled:M}),_u(r,(F,B)=>{const te=ae(r,B);te&&(F.disabled=te._f.disabled||M,Array.isArray(te._f.refs)&&te._f.refs.forEach(J=>{J.disabled=te._f.disabled||M}))},0,!1))},Ae=(M,F)=>async B=>{let te;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let J=rn(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:X}=await C();n.errors=Y,J=rn(X)}else await k(r);if(a.disabled.size)for(const Y of a.disabled)Yt(J,Y);if(Yt(n.errors,"root"),Kn(n.errors)){p.state.next({errors:{}});try{await M(J,B)}catch(Y){te=Y}}else F&&await F({...n.errors},B),ke(),setTimeout(ke);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Kn(n.errors)&&!te,submitCount:n.submitCount+1,errors:n.errors}),te)throw te},_t=(M,F={})=>{ae(r,M)&&(zt(F.defaultValue)?Q(M,rn(ae(s,M))):(Q(M,F.defaultValue),dt(s,M,rn(F.defaultValue))),F.keepTouched||Yt(n.touchedFields,M),F.keepDirty||(Yt(n.dirtyFields,M),n.isDirty=F.defaultValue?O(M,rn(ae(s,M))):O()),F.keepError||(Yt(n.errors,M),h.isValid&&x()),p.state.next({...n}))},fe=(M,F={})=>{const B=M?rn(M):s,te=rn(B),J=Kn(M),Y=J?s:te;if(F.keepDefaultValues||(s=B),!F.keepValues){if(F.keepDirtyValues){const X=new Set([...a.mount,...Object.keys($c(s,i))]);for(const ve of Array.from(X))ae(n.dirtyFields,ve)?dt(Y,ve,ae(i,ve)):Q(ve,ae(Y,ve))}else{if(gx&&zt(M))for(const X of a.mount){const ve=ae(r,X);if(ve&&ve._f){const qe=Array.isArray(ve._f.refs)?ve._f.refs[0]:ve._f.ref;if(rp(qe)){const Qt=qe.closest("form");if(Qt){Qt.reset();break}}}}if(F.keepFieldsRef)for(const X of a.mount)Q(X,ae(Y,X));else r={}}i=e.shouldUnregister?F.keepDefaultValues?rn(s):{}:rn(Y),p.array.next({values:{...Y}}),p.state.next({values:{...Y}})}a={mount:F.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!F.keepIsValid||!!F.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:J?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!Ls(M,s)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:F.keepDirtyValues?F.keepDefaultValues&&i?$c(s,i):n.dirtyFields:F.keepDefaultValues&&M?$c(s,M):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},V=(M,F)=>fe(zr(M)?M(i):M,F),Ee=(M,F={})=>{const B=ae(r,M),te=B&&B._f;if(te){const J=te.refs?te.refs[0]:te.ref;J.focus&&(J.focus(),F.shouldSelect&&zr(J.select)&&J.select())}},Ce=M=>{n={...n,...M}},He={control:{register:rt,unregister:se,getFieldState:ge,handleSubmit:Ae,setError:ue,_subscribe:De,_runSchema:C,_focusError:ke,_getWatch:R,_getDirty:O,_setValid:x,_setFieldArray:w,_setDisabledField:Fe,_setErrors:E,_getFieldArray:A,_reset:fe,_resetDefaultValues:()=>zr(e.defaultValues)&&e.defaultValues().then(M=>{V(M,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:Se,_subjects:p,_proxyFormState:h,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(M){o=M},get _defaultValues(){return s},get _names(){return a},set _names(M){a=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:lt,trigger:$,register:rt,handleSubmit:Ae,watch:we,setValue:Q,getValues:re,reset:V,resetField:_t,clearErrors:le,unregister:se,setError:ue,setFocus:Ee,getFieldState:ge};return{...He,formControl:He}}function rT(t={}){const e=H.useRef(void 0),n=H.useRef(void 0),[r,s]=H.useState({isDirty:!1,isValidating:!1,isLoading:zr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:zr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!zr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=pH(t);e.current={...a,formState:r}}const i=e.current.control;return i._options=t,wx(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(a=>({...a,isReady:!0})),i._formState.isReady=!0,o},[i]),H.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),H.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),H.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),H.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),H.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),H.useEffect(()=>{t.values&&!Ls(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),H.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=i2(r,i),e.current}const sT=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ae(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},p2=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?sT(r.ref,n,t):r.refs&&r.refs.forEach(s=>sT(s,n,t))}},mH=(t,e)=>{e.shouldUseNativeValidation&&p2(t,e);const n={};for(const r in t){const s=ae(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(gH(e.names||Object.keys(t),r)){const o=Object.assign({},ae(n,r));dt(o,"root",i),dt(n,r,o)}else dt(n,r,i)}return n},gH=(t,e)=>t.some(n=>n.startsWith(e+"."));var yH=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var l=n[o].types,d=l&&l[r.code];n[o]=a2(o,e,n,s,d?[].concat(d,r.message):r.message)}t.shift()}return n},iT=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return i.shouldUseNativeValidation&&p2({},i),{errors:{},values:n.raw?r:d}})}catch(d){return a(d)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:mH(yH(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},at;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(at||(at={}));var oT;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(oT||(oT={}));const ye=at.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ki=t=>{switch(typeof t){case"undefined":return ye.undefined;case"string":return ye.string;case"number":return Number.isNaN(t)?ye.nan:ye.number;case"boolean":return ye.boolean;case"function":return ye.function;case"bigint":return ye.bigint;case"symbol":return ye.symbol;case"object":return Array.isArray(t)?ye.array:t===null?ye.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ye.promise:typeof Map<"u"&&t instanceof Map?ye.map:typeof Set<"u"&&t instanceof Set?ye.set:typeof Date<"u"&&t instanceof Date?ye.date:ye.object;default:return ye.unknown}},ne=at.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class si extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const d=o.path[l];l===o.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(n(o))):a[d]=a[d]||{_errors:[]},a=a[d],l++}}};return s(this),r}static assert(e){if(!(e instanceof si))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,at.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}si.create=t=>new si(t);const Rv=(t,e)=>{let n;switch(t.code){case ne.invalid_type:t.received===ye.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ne.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,at.jsonStringifyReplacer)}`;break;case ne.unrecognized_keys:n=`Unrecognized key(s) in object: ${at.joinValues(t.keys,", ")}`;break;case ne.invalid_union:n="Invalid input";break;case ne.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${at.joinValues(t.options)}`;break;case ne.invalid_enum_value:n=`Invalid enum value. Expected ${at.joinValues(t.options)}, received '${t.received}'`;break;case ne.invalid_arguments:n="Invalid function arguments";break;case ne.invalid_return_type:n="Invalid function return type";break;case ne.invalid_date:n="Invalid date";break;case ne.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:at.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ne.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ne.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ne.custom:n="Invalid input";break;case ne.invalid_intersection_types:n="Intersection results could not be merged";break;case ne.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ne.not_finite:n="Number must be finite";break;default:n=e.defaultError,at.assertNever(t)}return{message:n}};let vH=Rv;function _H(){return vH}const wH=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(d=>!!d).slice().reverse();for(const d of l)a=d(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function de(t,e){const n=_H(),r=wH({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Rv?void 0:Rv].filter(s=>!!s)});t.common.issues.push(r)}class pr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Re;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return pr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Re;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Re=Object.freeze({status:"aborted"}),eu=t=>({status:"dirty",value:t}),Nr=t=>({status:"valid",value:t}),aT=t=>t.status==="aborted",lT=t=>t.status==="dirty",Ql=t=>t.status==="valid",op=t=>typeof Promise<"u"&&t instanceof Promise;var _e;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_e||(_e={}));class xo{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cT=(t,e)=>{if(Ql(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new si(t.common.issues);return this._error=n,this._error}}};function $e(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:s}}class nt{get description(){return this._def.description}_getType(e){return ki(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ki(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new pr,ctx:{common:e.parent.common,data:e.data,parsedType:ki(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(op(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ki(e)},s=this._parseSync({data:e,path:r.path,parent:r});return cT(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ki(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Ql(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Ql(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ki(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(op(s)?s:Promise.resolve(s));return cT(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:ne.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Xl({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return lo.create(this,this._def)}nullable(){return Zl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Es.create(this)}promise(){return up.create(this,this._def)}or(e){return lp.create([this,e],this._def)}and(e){return cp.create(this,e,this._def)}transform(e){return new Xl({...$e(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ov({...$e(this._def),innerType:this,defaultValue:n,typeName:je.ZodDefault})}brand(){return new zH({typeName:je.ZodBranded,type:this,...$e(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Dv({...$e(this._def),innerType:this,catchValue:n,typeName:je.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return bx.create(this,e)}readonly(){return Mv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xH=/^c[^\s-]{8,}$/i,EH=/^[0-9a-z]+$/,bH=/^[0-9A-HJKMNP-TV-Z]{26}$/i,TH=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,SH=/^[a-z0-9_-]{21}$/i,CH=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,IH=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kH=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,AH="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ug;const NH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,RH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,OH=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,DH=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,m2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",MH=new RegExp(`^${m2}$`);function g2(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function VH(t){return new RegExp(`^${g2(t)}$`)}function LH(t){let e=`${m2}T${g2(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function FH(t,e){return!!((e==="v4"||!e)&&NH.test(t)||(e==="v6"||!e)&&RH.test(t))}function UH(t,e){if(!CH.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function $H(t,e){return!!((e==="v4"||!e)&&PH.test(t)||(e==="v6"||!e)&&jH.test(t))}class zi extends nt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ye.string){const i=this._getOrReturnCtx(e);return de(i,{code:ne.invalid_type,expected:ye.string,received:i.parsedType}),Re}const r=new pr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?de(s,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&de(s,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")kH.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"email",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Ug||(Ug=new RegExp(AH,"u")),Ug.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"emoji",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")TH.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"uuid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")SH.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"nanoid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")xH.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"cuid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")EH.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"cuid2",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")bH.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"ulid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),de(s,{validation:"url",code:ne.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"regex",code:ne.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),de(s,{code:ne.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),de(s,{code:ne.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),de(s,{code:ne.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?LH(i).test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{code:ne.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?MH.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{code:ne.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?VH(i).test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{code:ne.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?IH.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"duration",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?FH(e.data,i.version)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"ip",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?UH(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"jwt",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?$H(e.data,i.version)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"cidr",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?OH.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"base64",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?DH.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"base64url",code:ne.invalid_string,message:i.message}),r.dirty()):at.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:ne.invalid_string,..._e.errToObj(r)})}_addCheck(e){return new zi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._e.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._e.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._e.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._e.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._e.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._e.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._e.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._e.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._e.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._e.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._e.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._e.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._e.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,..._e.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,..._e.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",..._e.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,..._e.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,..._e.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,..._e.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,..._e.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,..._e.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,..._e.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,..._e.errToObj(n)})}nonempty(e){return this.min(1,_e.errToObj(e))}trim(){return new zi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}zi.create=t=>new zi({checks:[],typeName:je.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...$e(t)});function BH(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class Zu extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ye.number){const i=this._getOrReturnCtx(e);return de(i,{code:ne.invalid_type,expected:ye.number,received:i.parsedType}),Re}let r;const s=new pr;for(const i of this._def.checks)i.kind==="int"?at.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:ne.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:ne.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:ne.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?BH(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),de(r,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:ne.not_finite,message:i.message}),s.dirty()):at.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,_e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_e.toString(n))}setLimit(e,n,r,s){return new Zu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_e.toString(s)}]})}_addCheck(e){return new Zu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_e.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:_e.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_e.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_e.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&at.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Zu.create=t=>new Zu({checks:[],typeName:je.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...$e(t)});class Ju extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ye.bigint)return this._getInvalidInput(e);let r;const s=new pr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:ne.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:ne.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),de(r,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):at.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return de(n,{code:ne.invalid_type,expected:ye.bigint,received:n.parsedType}),Re}gte(e,n){return this.setLimit("min",e,!0,_e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_e.toString(n))}setLimit(e,n,r,s){return new Ju({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_e.toString(s)}]})}_addCheck(e){return new Ju({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ju.create=t=>new Ju({checks:[],typeName:je.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...$e(t)});class uT extends nt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ye.boolean){const r=this._getOrReturnCtx(e);return de(r,{code:ne.invalid_type,expected:ye.boolean,received:r.parsedType}),Re}return Nr(e.data)}}uT.create=t=>new uT({typeName:je.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...$e(t)});class ap extends nt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ye.date){const i=this._getOrReturnCtx(e);return de(i,{code:ne.invalid_type,expected:ye.date,received:i.parsedType}),Re}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return de(i,{code:ne.invalid_date}),Re}const r=new pr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:ne.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:ne.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):at.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ap({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:_e.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:_e.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ap.create=t=>new ap({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:je.ZodDate,...$e(t)});class dT extends nt{_parse(e){if(this._getType(e)!==ye.symbol){const r=this._getOrReturnCtx(e);return de(r,{code:ne.invalid_type,expected:ye.symbol,received:r.parsedType}),Re}return Nr(e.data)}}dT.create=t=>new dT({typeName:je.ZodSymbol,...$e(t)});class hT extends nt{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return de(r,{code:ne.invalid_type,expected:ye.undefined,received:r.parsedType}),Re}return Nr(e.data)}}hT.create=t=>new hT({typeName:je.ZodUndefined,...$e(t)});class fT extends nt{_parse(e){if(this._getType(e)!==ye.null){const r=this._getOrReturnCtx(e);return de(r,{code:ne.invalid_type,expected:ye.null,received:r.parsedType}),Re}return Nr(e.data)}}fT.create=t=>new fT({typeName:je.ZodNull,...$e(t)});class pT extends nt{constructor(){super(...arguments),this._any=!0}_parse(e){return Nr(e.data)}}pT.create=t=>new pT({typeName:je.ZodAny,...$e(t)});class mT extends nt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Nr(e.data)}}mT.create=t=>new mT({typeName:je.ZodUnknown,...$e(t)});class Eo extends nt{_parse(e){const n=this._getOrReturnCtx(e);return de(n,{code:ne.invalid_type,expected:ye.never,received:n.parsedType}),Re}}Eo.create=t=>new Eo({typeName:je.ZodNever,...$e(t)});class gT extends nt{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return de(r,{code:ne.invalid_type,expected:ye.void,received:r.parsedType}),Re}return Nr(e.data)}}gT.create=t=>new gT({typeName:je.ZodVoid,...$e(t)});class Es extends nt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ye.array)return de(n,{code:ne.invalid_type,expected:ye.array,received:n.parsedType}),Re;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(de(n,{code:o?ne.too_big:ne.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(de(n,{code:ne.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(de(n,{code:ne.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new xo(n,o,n.path,a)))).then(o=>pr.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new xo(n,o,n.path,a)));return pr.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Es({...this._def,minLength:{value:e,message:_e.toString(n)}})}max(e,n){return new Es({...this._def,maxLength:{value:e,message:_e.toString(n)}})}length(e,n){return new Es({...this._def,exactLength:{value:e,message:_e.toString(n)}})}nonempty(e){return this.min(1,e)}}Es.create=(t,e)=>new Es({type:t,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...$e(e)});function qa(t){if(t instanceof Ut){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=lo.create(qa(r))}return new Ut({...t._def,shape:()=>e})}else return t instanceof Es?new Es({...t._def,type:qa(t.element)}):t instanceof lo?lo.create(qa(t.unwrap())):t instanceof Zl?Zl.create(qa(t.unwrap())):t instanceof wa?wa.create(t.items.map(e=>qa(e))):t}class Ut extends nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=at.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ye.object){const d=this._getOrReturnCtx(e);return de(d,{code:ne.invalid_type,expected:ye.object,received:d.parsedType}),Re}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Eo&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||a.push(d);const l=[];for(const d of o){const h=i[d],f=s.data[d];l.push({key:{status:"valid",value:d},value:h._parse(new xo(s,f,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Eo){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of a)l.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(d==="strict")a.length>0&&(de(s,{code:ne.unrecognized_keys,keys:a}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of a){const f=s.data[h];l.push({key:{status:"valid",value:h},value:d._parse(new xo(s,f,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of l){const f=await h.key,p=await h.value;d.push({key:f,value:p,alwaysSet:h.alwaysSet})}return d}).then(d=>pr.mergeObjectSync(r,d)):pr.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return _e.errToObj,new Ut({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:_e.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Ut({...this._def,unknownKeys:"strip"})}passthrough(){return new Ut({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ut({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ut({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:je.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ut({...this._def,catchall:e})}pick(e){const n={};for(const r of at.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Ut({...this._def,shape:()=>n})}omit(e){const n={};for(const r of at.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Ut({...this._def,shape:()=>n})}deepPartial(){return qa(this)}partial(e){const n={};for(const r of at.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new Ut({...this._def,shape:()=>n})}required(e){const n={};for(const r of at.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof lo;)i=i._def.innerType;n[r]=i}return new Ut({...this._def,shape:()=>n})}keyof(){return y2(at.objectKeys(this.shape))}}Ut.create=(t,e)=>new Ut({shape:()=>t,unknownKeys:"strip",catchall:Eo.create(),typeName:je.ZodObject,...$e(e)});Ut.strictCreate=(t,e)=>new Ut({shape:()=>t,unknownKeys:"strict",catchall:Eo.create(),typeName:je.ZodObject,...$e(e)});Ut.lazycreate=(t,e)=>new Ut({shape:t,unknownKeys:"strip",catchall:Eo.create(),typeName:je.ZodObject,...$e(e)});class lp extends nt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new si(a.ctx.common.issues));return de(n,{code:ne.invalid_union,unionErrors:o}),Re}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=l._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new si(l));return de(n,{code:ne.invalid_union,unionErrors:a}),Re}}get options(){return this._def.options}}lp.create=(t,e)=>new lp({options:t,typeName:je.ZodUnion,...$e(e)});function jv(t,e){const n=ki(t),r=ki(e);if(t===e)return{valid:!0,data:t};if(n===ye.object&&r===ye.object){const s=at.objectKeys(e),i=at.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=jv(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ye.array&&r===ye.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=jv(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===ye.date&&r===ye.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class cp extends nt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(aT(i)||aT(o))return Re;const a=jv(i.value,o.value);return a.valid?((lT(i)||lT(o))&&n.dirty(),{status:n.value,value:a.data}):(de(r,{code:ne.invalid_intersection_types}),Re)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}cp.create=(t,e,n)=>new cp({left:t,right:e,typeName:je.ZodIntersection,...$e(n)});class wa extends nt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.array)return de(r,{code:ne.invalid_type,expected:ye.array,received:r.parsedType}),Re;if(r.data.length<this._def.items.length)return de(r,{code:ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Re;!this._def.rest&&r.data.length>this._def.items.length&&(de(r,{code:ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new xo(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>pr.mergeArray(n,o)):pr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new wa({...this._def,rest:e})}}wa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wa({items:t,typeName:je.ZodTuple,rest:null,...$e(e)})};class yT extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.map)return de(r,{code:ne.invalid_type,expected:ye.map,received:r.parsedType}),Re;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],d)=>({key:s._parse(new xo(r,a,r.path,[d,"key"])),value:i._parse(new xo(r,l,r.path,[d,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const d=await l.key,h=await l.value;if(d.status==="aborted"||h.status==="aborted")return Re;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(d.value,h.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const d=l.key,h=l.value;if(d.status==="aborted"||h.status==="aborted")return Re;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(d.value,h.value)}return{status:n.value,value:a}}}}yT.create=(t,e,n)=>new yT({valueType:e,keyType:t,typeName:je.ZodMap,...$e(n)});class ed extends nt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.set)return de(r,{code:ne.invalid_type,expected:ye.set,received:r.parsedType}),Re;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(de(r,{code:ne.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(de(r,{code:ne.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const d=new Set;for(const h of l){if(h.status==="aborted")return Re;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const a=[...r.data.values()].map((l,d)=>i._parse(new xo(r,l,r.path,d)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new ed({...this._def,minSize:{value:e,message:_e.toString(n)}})}max(e,n){return new ed({...this._def,maxSize:{value:e,message:_e.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ed.create=(t,e)=>new ed({valueType:t,minSize:null,maxSize:null,typeName:je.ZodSet,...$e(e)});class vT extends nt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}vT.create=(t,e)=>new vT({getter:t,typeName:je.ZodLazy,...$e(e)});class _T extends nt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return de(n,{received:n.data,code:ne.invalid_literal,expected:this._def.value}),Re}return{status:"valid",value:e.data}}get value(){return this._def.value}}_T.create=(t,e)=>new _T({value:t,typeName:je.ZodLiteral,...$e(e)});function y2(t,e){return new Yl({values:t,typeName:je.ZodEnum,...$e(e)})}class Yl extends nt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return de(n,{expected:at.joinValues(r),received:n.parsedType,code:ne.invalid_type}),Re}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return de(n,{received:n.data,code:ne.invalid_enum_value,options:r}),Re}return Nr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Yl.create(e,{...this._def,...n})}exclude(e,n=this._def){return Yl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Yl.create=y2;class wT extends nt{_parse(e){const n=at.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ye.string&&r.parsedType!==ye.number){const s=at.objectValues(n);return de(r,{expected:at.joinValues(s),received:r.parsedType,code:ne.invalid_type}),Re}if(this._cache||(this._cache=new Set(at.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=at.objectValues(n);return de(r,{received:r.data,code:ne.invalid_enum_value,options:s}),Re}return Nr(e.data)}get enum(){return this._def.values}}wT.create=(t,e)=>new wT({values:t,typeName:je.ZodNativeEnum,...$e(e)});class up extends nt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.promise&&n.common.async===!1)return de(n,{code:ne.invalid_type,expected:ye.promise,received:n.parsedType}),Re;const r=n.parsedType===ye.promise?n.data:Promise.resolve(n.data);return Nr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}up.create=(t,e)=>new up({type:t,typeName:je.ZodPromise,...$e(e)});class Xl extends nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{de(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Re;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Re:l.status==="dirty"||n.value==="dirty"?eu(l.value):l});{if(n.value==="aborted")return Re;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Re:a.status==="dirty"||n.value==="dirty"?eu(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Re:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Re:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ql(o))return Re;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ql(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):Re);at.assertNever(s)}}Xl.create=(t,e,n)=>new Xl({schema:t,typeName:je.ZodEffects,effect:e,...$e(n)});Xl.createWithPreprocess=(t,e,n)=>new Xl({schema:e,effect:{type:"preprocess",transform:t},typeName:je.ZodEffects,...$e(n)});class lo extends nt{_parse(e){return this._getType(e)===ye.undefined?Nr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lo.create=(t,e)=>new lo({innerType:t,typeName:je.ZodOptional,...$e(e)});class Zl extends nt{_parse(e){return this._getType(e)===ye.null?Nr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zl.create=(t,e)=>new Zl({innerType:t,typeName:je.ZodNullable,...$e(e)});class Ov extends nt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ov.create=(t,e)=>new Ov({innerType:t,typeName:je.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...$e(e)});class Dv extends nt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return op(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new si(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new si(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Dv.create=(t,e)=>new Dv({innerType:t,typeName:je.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...$e(e)});class xT extends nt{_parse(e){if(this._getType(e)!==ye.nan){const r=this._getOrReturnCtx(e);return de(r,{code:ne.invalid_type,expected:ye.nan,received:r.parsedType}),Re}return{status:"valid",value:e.data}}}xT.create=t=>new xT({typeName:je.ZodNaN,...$e(t)});class zH extends nt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class bx extends nt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Re:i.status==="dirty"?(n.dirty(),eu(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Re:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new bx({in:e,out:n,typeName:je.ZodPipeline})}}class Mv extends nt{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Ql(s)&&(s.value=Object.freeze(s.value)),s);return op(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Mv.create=(t,e)=>new Mv({innerType:t,typeName:je.ZodReadonly,...$e(e)});Ut.lazycreate;var je;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(je||(je={}));const _l=zi.create;Eo.create;Es.create;const v2=Ut.create;Ut.strictCreate;lp.create;cp.create;wa.create;const WH=Yl.create;up.create;lo.create;Zl.create;const HH=v2({name:_l().min(1,"Name is required"),phone:_l().min(10,"Phone number must be at least 10 digits"),gender:WH(["male","female","other"],{required_error:"Please select a gender"}),department:_l().min(1,"Department is required")}),qH=v2({currentPassword:_l().min(1,"Current password is required"),newPassword:_l().min(6,"New password must be at least 6 characters"),confirmPassword:_l().min(6,"Please confirm your new password")}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),GH=()=>{const{user:t}=No(),{toast:e}=Ss(),[n,r]=m.useState(!0),[s,i]=m.useState(!1),[o,a]=m.useState(!1),l=rT({resolver:iT(HH)}),d=rT({resolver:iT(qH)});m.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{const g=await Ev(Nt(ze,"profiles",t.uid));if(g.exists()){const T=g.data();l.reset({name:T.name||"",phone:T.phone||"",gender:T.gender||"",department:T.department||""})}}catch(g){console.error("Error fetching profile:",g),e({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{r(!1)}},f=async g=>{if(t){i(!0);try{await fi(Nt(ze,"profiles",t.uid),{...g,updated_at:Je()}),e({title:"Success",description:"Profile updated successfully"})}catch(T){console.error("Error updating profile:",T),e({title:"Error",description:"Failed to update profile",variant:"destructive"})}finally{i(!1)}}},p=async g=>{if(!(!t||!t.email)){a(!0);try{const T=Ca.credential(t.email,g.currentPassword);await $5(t,T),await H5(t,g.newPassword),e({title:"Success",description:"Password changed successfully"}),d.reset()}catch(T){console.error("Error changing password:",T);let x="Failed to change password";T.code==="auth/wrong-password"?x="Current password is incorrect":T.code==="auth/weak-password"&&(x="New password is too weak"),e({title:"Error",description:x,variant:"destructive"})}finally{a(!1)}}};return n?c.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:c.jsx(Ws,{className:"h-8 w-8 animate-spin"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Profile Management"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[c.jsxs(Qe,{children:[c.jsxs(gt,{children:[c.jsx(yt,{children:"Profile Information"}),c.jsx(ga,{children:"Update your personal details"})]}),c.jsx(Ye,{children:c.jsxs("form",{onSubmit:l.handleSubmit(f),className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"name",children:"Full Name"}),c.jsx(xt,{id:"name",...l.register("name"),placeholder:"Enter your full name"}),l.formState.errors.name&&c.jsx("p",{className:"text-sm text-red-500",children:l.formState.errors.name.message})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"phone",children:"Mobile Number"}),c.jsx(xt,{id:"phone",...l.register("phone"),placeholder:"Enter your mobile number"}),l.formState.errors.phone&&c.jsx("p",{className:"text-sm text-red-500",children:l.formState.errors.phone.message})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"gender",children:"Gender"}),c.jsx(tH,{name:"gender",control:l.control,render:({field:g})=>c.jsxs(en,{value:g.value,onValueChange:g.onChange,children:[c.jsx(Ht,{children:c.jsx(tn,{placeholder:"Select gender"})}),c.jsxs(qt,{children:[c.jsx(ct,{value:"male",children:"Male"}),c.jsx(ct,{value:"female",children:"Female"}),c.jsx(ct,{value:"other",children:"Other"})]})]})}),l.formState.errors.gender&&c.jsx("p",{className:"text-sm text-red-500",children:l.formState.errors.gender.message})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"department",children:"Department"}),c.jsx(xt,{id:"department",...l.register("department"),placeholder:"Enter your department"}),l.formState.errors.department&&c.jsx("p",{className:"text-sm text-red-500",children:l.formState.errors.department.message})]}),c.jsxs(Pe,{type:"submit",disabled:s,children:[s&&c.jsx(Ws,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Profile"]})]})})]}),c.jsxs(Qe,{children:[c.jsxs(gt,{children:[c.jsx(yt,{children:"Change Password"}),c.jsx(ga,{children:"Update your account password"})]}),c.jsx(Ye,{children:c.jsxs("form",{onSubmit:d.handleSubmit(p),className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"currentPassword",children:"Current Password"}),c.jsx(xt,{id:"currentPassword",type:"password",...d.register("currentPassword"),placeholder:"Enter current password"}),d.formState.errors.currentPassword&&c.jsx("p",{className:"text-sm text-red-500",children:d.formState.errors.currentPassword.message})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"newPassword",children:"New Password"}),c.jsx(xt,{id:"newPassword",type:"password",...d.register("newPassword"),placeholder:"Enter new password"}),d.formState.errors.newPassword&&c.jsx("p",{className:"text-sm text-red-500",children:d.formState.errors.newPassword.message})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ot,{htmlFor:"confirmPassword",children:"Confirm New Password"}),c.jsx(xt,{id:"confirmPassword",type:"password",...d.register("confirmPassword"),placeholder:"Confirm new password"}),d.formState.errors.confirmPassword&&c.jsx("p",{className:"text-sm text-red-500",children:d.formState.errors.confirmPassword.message})]}),c.jsxs(Pe,{type:"submit",disabled:o,children:[o&&c.jsx(Ws,{className:"mr-2 h-4 w-4 animate-spin"}),"Change Password"]})]})})]})]})]})},KH=()=>{const{user:t,loading:e,isAdmin:n}=No();return e?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading..."})}):t?n?c.jsx(Gy,{to:"/admin",replace:!0}):c.jsx(rx,{children:c.jsxs("div",{className:"min-h-screen flex w-full bg-muted/30",children:[c.jsx(KW,{}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsx(QW,{}),c.jsx("main",{className:"flex-1 p-6",children:c.jsxs(Z_,{children:[c.jsx(on,{index:!0,element:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Player Dashboard"}),c.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",t.displayName||t.email,"!"]})]}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[c.jsxs(Qe,{children:[c.jsxs(gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(yt,{className:"text-sm font-medium",children:"Tournaments Joined"}),c.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ye,{children:[c.jsx("div",{className:"text-2xl font-bold",children:"0"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Active tournaments"})]})]}),c.jsxs(Qe,{children:[c.jsxs(gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(yt,{className:"text-sm font-medium",children:"Matches Played"}),c.jsx(M_,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ye,{children:[c.jsx("div",{className:"text-2xl font-bold",children:"0"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total matches"})]})]}),c.jsxs(Qe,{children:[c.jsxs(gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(yt,{className:"text-sm font-medium",children:"Wins"}),c.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ye,{children:[c.jsx("div",{className:"text-2xl font-bold",children:"0"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Victories achieved"})]})]}),c.jsxs(Qe,{children:[c.jsxs(gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(yt,{className:"text-sm font-medium",children:"Upcoming Matches"}),c.jsx(ud,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ye,{children:[c.jsx("div",{className:"text-2xl font-bold",children:"0"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled matches"})]})]})]}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[c.jsxs(Qe,{children:[c.jsxs(gt,{children:[c.jsx(yt,{children:"Recent Activity"}),c.jsx(ga,{children:"Your latest tournament activities"})]}),c.jsx(Ye,{children:c.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No recent activity yet. Join a tournament to get started!"})})]}),c.jsxs(Qe,{children:[c.jsxs(gt,{children:[c.jsx(yt,{children:"Current Tournaments"}),c.jsx(ga,{children:"Tournaments you're participating in"})]}),c.jsx(Ye,{children:c.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No active tournaments. Browse available tournaments to join!"})})]})]})]})}),c.jsx(on,{path:"profile",element:c.jsx(GH,{})})]})})]})]})}):c.jsx(Gy,{to:"/login",replace:!0})},QH=()=>{const t=ai();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},YH=new J4,XH=()=>c.jsx(tF,{client:YH,children:c.jsxs(mk,{children:[c.jsx(dV,{}),c.jsx(zV,{}),c.jsx(YF,{children:c.jsx(xz,{children:c.jsxs(Z_,{children:[c.jsx(on,{path:"/",element:c.jsx(Pz,{})}),c.jsx(on,{path:"/leaderboard",element:c.jsx(R7,{})}),c.jsx(on,{path:"/schedule",element:c.jsx($7,{})}),c.jsx(on,{path:"/login",element:c.jsx(Y8,{})}),c.jsx(on,{path:"/register",element:c.jsx(A7,{})}),c.jsx(on,{path:"/dashboard/*",element:c.jsx(KH,{})}),c.jsx(on,{path:"/admin/*",element:c.jsx(qW,{})}),c.jsx(on,{path:"*",element:c.jsx(QH,{})})]})})})]})});WC(document.getElementById("root")).render(c.jsx(XH,{}));
