var I0=t=>{throw TypeError(t)};var Gp=(t,e,n)=>e.has(t)||I0("Cannot "+n);var G=(t,e,n)=>(Gp(t,e,"read from private field"),n?n.call(t):e.get(t)),ct=(t,e,n)=>e.has(t)?I0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ue=(t,e,n,r)=>(Gp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),In=(t,e,n)=>(Gp(t,e,"access private method"),n);var eh=(t,e,n,r)=>({set _(s){Ue(t,e,s,n)},get _(){return G(t,e,r)}});function D2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function KT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QT={exports:{}},_m={},YT={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=Symbol.for("react.element"),O2=Symbol.for("react.portal"),M2=Symbol.for("react.fragment"),L2=Symbol.for("react.strict_mode"),V2=Symbol.for("react.profiler"),F2=Symbol.for("react.provider"),U2=Symbol.for("react.context"),$2=Symbol.for("react.forward_ref"),B2=Symbol.for("react.suspense"),z2=Symbol.for("react.memo"),W2=Symbol.for("react.lazy"),N0=Symbol.iterator;function H2(t){return t===null||typeof t!="object"?null:(t=N0&&t[N0]||t["@@iterator"],typeof t=="function"?t:null)}var XT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZT=Object.assign,JT={};function lc(t,e,n){this.props=t,this.context=e,this.refs=JT,this.updater=n||XT}lc.prototype.isReactComponent={};lc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eS(){}eS.prototype=lc.prototype;function Qy(t,e,n){this.props=t,this.context=e,this.refs=JT,this.updater=n||XT}var Yy=Qy.prototype=new eS;Yy.constructor=Qy;ZT(Yy,lc.prototype);Yy.isPureReactComponent=!0;var k0=Array.isArray,tS=Object.prototype.hasOwnProperty,Xy={current:null},nS={key:!0,ref:!0,__self:!0,__source:!0};function rS(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)tS.call(e,r)&&!nS.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:fd,type:t,key:i,ref:o,props:s,_owner:Xy.current}}function q2(t,e){return{$$typeof:fd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zy(t){return typeof t=="object"&&t!==null&&t.$$typeof===fd}function G2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var A0=/\/+/g;function Kp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?G2(""+t.key):e.toString(36)}function jh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fd:case O2:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Kp(o,0):r,k0(s)?(n="",t!=null&&(n=t.replace(A0,"$&/")+"/"),jh(s,e,n,"",function(u){return u})):s!=null&&(Zy(s)&&(s=q2(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(A0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",k0(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Kp(i,l);o+=jh(i,e,n,c,s)}else if(c=H2(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Kp(i,l++),o+=jh(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function th(t,e,n){if(t==null)return t;var r=[],s=0;return jh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function K2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wn={current:null},Dh={transition:null},Q2={ReactCurrentDispatcher:Wn,ReactCurrentBatchConfig:Dh,ReactCurrentOwner:Xy};function sS(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:th,forEach:function(t,e,n){th(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return th(t,function(){e++}),e},toArray:function(t){return th(t,function(e){return e})||[]},only:function(t){if(!Zy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ke.Component=lc;Ke.Fragment=M2;Ke.Profiler=V2;Ke.PureComponent=Qy;Ke.StrictMode=L2;Ke.Suspense=B2;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q2;Ke.act=sS;Ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ZT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Xy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)tS.call(e,c)&&!nS.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:fd,type:t.type,key:s,ref:i,props:r,_owner:o}};Ke.createContext=function(t){return t={$$typeof:U2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:F2,_context:t},t.Consumer=t};Ke.createElement=rS;Ke.createFactory=function(t){var e=rS.bind(null,t);return e.type=t,e};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(t){return{$$typeof:$2,render:t}};Ke.isValidElement=Zy;Ke.lazy=function(t){return{$$typeof:W2,_payload:{_status:-1,_result:t},_init:K2}};Ke.memo=function(t,e){return{$$typeof:z2,type:t,compare:e===void 0?null:e}};Ke.startTransition=function(t){var e=Dh.transition;Dh.transition={};try{t()}finally{Dh.transition=e}};Ke.unstable_act=sS;Ke.useCallback=function(t,e){return Wn.current.useCallback(t,e)};Ke.useContext=function(t){return Wn.current.useContext(t)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(t){return Wn.current.useDeferredValue(t)};Ke.useEffect=function(t,e){return Wn.current.useEffect(t,e)};Ke.useId=function(){return Wn.current.useId()};Ke.useImperativeHandle=function(t,e,n){return Wn.current.useImperativeHandle(t,e,n)};Ke.useInsertionEffect=function(t,e){return Wn.current.useInsertionEffect(t,e)};Ke.useLayoutEffect=function(t,e){return Wn.current.useLayoutEffect(t,e)};Ke.useMemo=function(t,e){return Wn.current.useMemo(t,e)};Ke.useReducer=function(t,e,n){return Wn.current.useReducer(t,e,n)};Ke.useRef=function(t){return Wn.current.useRef(t)};Ke.useState=function(t){return Wn.current.useState(t)};Ke.useSyncExternalStore=function(t,e,n){return Wn.current.useSyncExternalStore(t,e,n)};Ke.useTransition=function(){return Wn.current.useTransition()};Ke.version="18.3.1";YT.exports=Ke;var p=YT.exports;const H=KT(p),Jy=D2({__proto__:null,default:H},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2=p,X2=Symbol.for("react.element"),Z2=Symbol.for("react.fragment"),J2=Object.prototype.hasOwnProperty,eD=Y2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tD={key:!0,ref:!0,__self:!0,__source:!0};function iS(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)J2.call(e,r)&&!tD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:X2,type:t,key:i,ref:o,props:s,_owner:eD.current}}_m.Fragment=Z2;_m.jsx=iS;_m.jsxs=iS;QT.exports=_m;var a=QT.exports,oS={exports:{}},_r={},aS={exports:{}},lS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,$){var re=U.length;U.push($);e:for(;0<re;){var ge=re-1>>>1,le=U[ge];if(0<s(le,$))U[ge]=$,U[re]=le,re=ge;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var $=U[0],re=U.pop();if(re!==$){U[0]=re;e:for(var ge=0,le=U.length,ue=le>>>1;ge<ue;){var we=2*(ge+1)-1,Fe=U[we],dt=we+1,se=U[dt];if(0>s(Fe,re))dt<le&&0>s(se,Fe)?(U[ge]=se,U[dt]=re,ge=dt):(U[ge]=Fe,U[we]=re,ge=we);else if(dt<le&&0>s(se,re))U[ge]=se,U[dt]=re,ge=dt;else break e}}return $}function s(U,$){var re=U.sortIndex-$.sortIndex;return re!==0?re:U.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,f=null,m=3,g=!1,b=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(U){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=U)r(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(u)}}function S(U){if(E=!1,y(U),!b)if(n(c)!==null)b=!0,Q(k);else{var $=n(u);$!==null&&ee(S,$.startTime-U)}}function k(U,$){b=!1,E&&(E=!1,_(C),C=-1),g=!0;var re=m;try{for(y($),f=n(c);f!==null&&(!(f.expirationTime>$)||U&&!P());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,m=f.priorityLevel;var le=ge(f.expirationTime<=$);$=t.unstable_now(),typeof le=="function"?f.callback=le:f===n(c)&&r(c),y($)}else r(c);f=n(c)}if(f!==null)var ue=!0;else{var we=n(u);we!==null&&ee(S,we.startTime-$),ue=!1}return ue}finally{f=null,m=re,g=!1}}var D=!1,I=null,C=-1,N=5,R=-1;function P(){return!(t.unstable_now()-R<N)}function O(){if(I!==null){var U=t.unstable_now();R=U;var $=!0;try{$=I(!0,U)}finally{$?A():(D=!1,I=null)}}else D=!1}var A;if(typeof v=="function")A=function(){v(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,oe=W.port2;W.port1.onmessage=O,A=function(){oe.postMessage(null)}}else A=function(){x(O,0)};function Q(U){I=U,D||(D=!0,A())}function ee(U,$){C=x(function(){U(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,Q(k))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var re=m;m=$;try{return U()}finally{m=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var re=m;m=U;try{return $()}finally{m=re}},t.unstable_scheduleCallback=function(U,$,re){var ge=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ge+re:ge):re=ge,U){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=re+le,U={id:h++,callback:$,priorityLevel:U,startTime:re,expirationTime:le,sortIndex:-1},re>ge?(U.sortIndex=re,e(u,U),n(c)===null&&U===n(u)&&(E?(_(C),C=-1):E=!0,ee(S,re-ge))):(U.sortIndex=le,e(c,U),b||g||(b=!0,Q(k))),U},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(U){var $=m;return function(){var re=m;m=$;try{return U.apply(this,arguments)}finally{m=re}}}})(lS);aS.exports=lS;var nD=aS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rD=p,xr=nD;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cS=new Set,Au={};function ja(t,e){Vl(t,e),Vl(t+"Capture",e)}function Vl(t,e){for(Au[t]=e,t=0;t<e.length;t++)cS.add(e[t])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zg=Object.prototype.hasOwnProperty,sD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R0={},P0={};function iD(t){return Zg.call(P0,t)?!0:Zg.call(R0,t)?!1:sD.test(t)?P0[t]=!0:(R0[t]=!0,!1)}function oD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aD(t,e,n,r){if(e===null||typeof e>"u"||oD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){En[t]=new Hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];En[e]=new Hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){En[t]=new Hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){En[t]=new Hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){En[t]=new Hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){En[t]=new Hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){En[t]=new Hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){En[t]=new Hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){En[t]=new Hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ex=/[\-:]([a-z])/g;function tx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ex,tx);En[e]=new Hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ex,tx);En[e]=new Hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ex,tx);En[e]=new Hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){En[t]=new Hn(t,1,!1,t.toLowerCase(),null,!1,!1)});En.xlinkHref=new Hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){En[t]=new Hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function nx(t,e,n,r){var s=En.hasOwnProperty(e)?En[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aD(e,n,s,r)&&(n=null),r||s===null?iD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gi=rD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nh=Symbol.for("react.element"),rl=Symbol.for("react.portal"),sl=Symbol.for("react.fragment"),rx=Symbol.for("react.strict_mode"),Jg=Symbol.for("react.profiler"),uS=Symbol.for("react.provider"),dS=Symbol.for("react.context"),sx=Symbol.for("react.forward_ref"),ev=Symbol.for("react.suspense"),tv=Symbol.for("react.suspense_list"),ix=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),hS=Symbol.for("react.offscreen"),j0=Symbol.iterator;function Lc(t){return t===null||typeof t!="object"?null:(t=j0&&t[j0]||t["@@iterator"],typeof t=="function"?t:null)}var $t=Object.assign,Qp;function Yc(t){if(Qp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qp=e&&e[1]||""}return`
`+Qp+t}var Yp=!1;function Xp(t,e){if(!t||Yp)return"";Yp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Yp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yc(t):""}function lD(t){switch(t.tag){case 5:return Yc(t.type);case 16:return Yc("Lazy");case 13:return Yc("Suspense");case 19:return Yc("SuspenseList");case 0:case 2:case 15:return t=Xp(t.type,!1),t;case 11:return t=Xp(t.type.render,!1),t;case 1:return t=Xp(t.type,!0),t;default:return""}}function nv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sl:return"Fragment";case rl:return"Portal";case Jg:return"Profiler";case rx:return"StrictMode";case ev:return"Suspense";case tv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dS:return(t.displayName||"Context")+".Consumer";case uS:return(t._context.displayName||"Context")+".Provider";case sx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ix:return e=t.displayName||null,e!==null?e:nv(t.type)||"Memo";case Di:e=t._payload,t=t._init;try{return nv(t(e))}catch{}}return null}function cD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nv(e);case 8:return e===rx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uD(t){var e=fS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rh(t){t._valueTracker||(t._valueTracker=uD(t))}function mS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rv(t,e){var n=e.checked;return $t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function D0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pS(t,e){e=e.checked,e!=null&&nx(t,"checked",e,!1)}function sv(t,e){pS(t,e);var n=xo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?iv(t,e.type,n):e.hasOwnProperty("defaultValue")&&iv(t,e.type,xo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function O0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function iv(t,e,n){(e!=="number"||cf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xc=Array.isArray;function pl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ov(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return $t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function M0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(Xc(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xo(n)}}function gS(t,e){var n=xo(e.value),r=xo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function L0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function av(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sh,yS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sh=sh||document.createElement("div"),sh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ru(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dD=["Webkit","ms","Moz","O"];Object.keys(uu).forEach(function(t){dD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uu[e]=uu[t]})});function xS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uu.hasOwnProperty(t)&&uu[t]?(""+e).trim():e+"px"}function wS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=xS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var hD=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lv(t,e){if(e){if(hD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function cv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uv=null;function ox(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dv=null,gl=null,vl=null;function V0(t){if(t=gd(t)){if(typeof dv!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Cm(e),dv(t.stateNode,t.type,e))}}function _S(t){gl?vl?vl.push(t):vl=[t]:gl=t}function ES(){if(gl){var t=gl,e=vl;if(vl=gl=null,V0(t),e)for(t=0;t<e.length;t++)V0(e[t])}}function bS(t,e){return t(e)}function TS(){}var Zp=!1;function SS(t,e,n){if(Zp)return t(e,n);Zp=!0;try{return bS(t,e,n)}finally{Zp=!1,(gl!==null||vl!==null)&&(TS(),ES())}}function Pu(t,e){var n=t.stateNode;if(n===null)return null;var r=Cm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var hv=!1;if(si)try{var Vc={};Object.defineProperty(Vc,"passive",{get:function(){hv=!0}}),window.addEventListener("test",Vc,Vc),window.removeEventListener("test",Vc,Vc)}catch{hv=!1}function fD(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var du=!1,uf=null,df=!1,fv=null,mD={onError:function(t){du=!0,uf=t}};function pD(t,e,n,r,s,i,o,l,c){du=!1,uf=null,fD.apply(mD,arguments)}function gD(t,e,n,r,s,i,o,l,c){if(pD.apply(this,arguments),du){if(du){var u=uf;du=!1,uf=null}else throw Error(Z(198));df||(df=!0,fv=u)}}function Da(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function F0(t){if(Da(t)!==t)throw Error(Z(188))}function vD(t){var e=t.alternate;if(!e){if(e=Da(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return F0(s),t;if(i===r)return F0(s),e;i=i.sibling}throw Error(Z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function IS(t){return t=vD(t),t!==null?NS(t):null}function NS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=NS(t);if(e!==null)return e;t=t.sibling}return null}var kS=xr.unstable_scheduleCallback,U0=xr.unstable_cancelCallback,yD=xr.unstable_shouldYield,xD=xr.unstable_requestPaint,Qt=xr.unstable_now,wD=xr.unstable_getCurrentPriorityLevel,ax=xr.unstable_ImmediatePriority,AS=xr.unstable_UserBlockingPriority,hf=xr.unstable_NormalPriority,_D=xr.unstable_LowPriority,RS=xr.unstable_IdlePriority,Em=null,Ss=null;function ED(t){if(Ss&&typeof Ss.onCommitFiberRoot=="function")try{Ss.onCommitFiberRoot(Em,t,void 0,(t.current.flags&128)===128)}catch{}}var Jr=Math.clz32?Math.clz32:SD,bD=Math.log,TD=Math.LN2;function SD(t){return t>>>=0,t===0?32:31-(bD(t)/TD|0)|0}var ih=64,oh=4194304;function Zc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ff(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Zc(l):(i&=o,i!==0&&(r=Zc(i)))}else o=n&~s,o!==0?r=Zc(o):i!==0&&(r=Zc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jr(e),s=1<<n,r|=t[n],e&=~s;return r}function CD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ID(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Jr(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=CD(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function mv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function PS(){var t=ih;return ih<<=1,!(ih&4194240)&&(ih=64),t}function Jp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function md(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jr(e),t[e]=n}function ND(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Jr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function lx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var mt=0;function jS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DS,cx,OS,MS,LS,pv=!1,ah=[],Zi=null,Ji=null,eo=null,ju=new Map,Du=new Map,Li=[],kD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $0(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":ju.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Du.delete(e.pointerId)}}function Fc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=gd(e),e!==null&&cx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function AD(t,e,n,r,s){switch(e){case"focusin":return Zi=Fc(Zi,t,e,n,r,s),!0;case"dragenter":return Ji=Fc(Ji,t,e,n,r,s),!0;case"mouseover":return eo=Fc(eo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ju.set(i,Fc(ju.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Du.set(i,Fc(Du.get(i)||null,t,e,n,r,s)),!0}return!1}function VS(t){var e=ta(t.target);if(e!==null){var n=Da(e);if(n!==null){if(e=n.tag,e===13){if(e=CS(n),e!==null){t.blockedOn=e,LS(t.priority,function(){OS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uv=r,n.target.dispatchEvent(r),uv=null}else return e=gd(n),e!==null&&cx(e),t.blockedOn=n,!1;e.shift()}return!0}function B0(t,e,n){Oh(t)&&n.delete(e)}function RD(){pv=!1,Zi!==null&&Oh(Zi)&&(Zi=null),Ji!==null&&Oh(Ji)&&(Ji=null),eo!==null&&Oh(eo)&&(eo=null),ju.forEach(B0),Du.forEach(B0)}function Uc(t,e){t.blockedOn===e&&(t.blockedOn=null,pv||(pv=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,RD)))}function Ou(t){function e(s){return Uc(s,t)}if(0<ah.length){Uc(ah[0],t);for(var n=1;n<ah.length;n++){var r=ah[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zi!==null&&Uc(Zi,t),Ji!==null&&Uc(Ji,t),eo!==null&&Uc(eo,t),ju.forEach(e),Du.forEach(e),n=0;n<Li.length;n++)r=Li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Li.length&&(n=Li[0],n.blockedOn===null);)VS(n),n.blockedOn===null&&Li.shift()}var yl=gi.ReactCurrentBatchConfig,mf=!0;function PD(t,e,n,r){var s=mt,i=yl.transition;yl.transition=null;try{mt=1,ux(t,e,n,r)}finally{mt=s,yl.transition=i}}function jD(t,e,n,r){var s=mt,i=yl.transition;yl.transition=null;try{mt=4,ux(t,e,n,r)}finally{mt=s,yl.transition=i}}function ux(t,e,n,r){if(mf){var s=gv(t,e,n,r);if(s===null)cg(t,e,r,pf,n),$0(t,r);else if(AD(s,t,e,n,r))r.stopPropagation();else if($0(t,r),e&4&&-1<kD.indexOf(t)){for(;s!==null;){var i=gd(s);if(i!==null&&DS(i),i=gv(t,e,n,r),i===null&&cg(t,e,r,pf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else cg(t,e,r,null,n)}}var pf=null;function gv(t,e,n,r){if(pf=null,t=ox(r),t=ta(t),t!==null)if(e=Da(t),e===null)t=null;else if(n=e.tag,n===13){if(t=CS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pf=t,null}function FS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wD()){case ax:return 1;case AS:return 4;case hf:case _D:return 16;case RS:return 536870912;default:return 16}default:return 16}}var Gi=null,dx=null,Mh=null;function US(){if(Mh)return Mh;var t,e=dx,n=e.length,r,s="value"in Gi?Gi.value:Gi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Mh=s.slice(t,1<r?1-r:void 0)}function Lh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lh(){return!0}function z0(){return!1}function Er(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?lh:z0,this.isPropagationStopped=z0,this}return $t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lh)},persist:function(){},isPersistent:lh}),e}var cc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hx=Er(cc),pd=$t({},cc,{view:0,detail:0}),DD=Er(pd),eg,tg,$c,bm=$t({},pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$c&&($c&&t.type==="mousemove"?(eg=t.screenX-$c.screenX,tg=t.screenY-$c.screenY):tg=eg=0,$c=t),eg)},movementY:function(t){return"movementY"in t?t.movementY:tg}}),W0=Er(bm),OD=$t({},bm,{dataTransfer:0}),MD=Er(OD),LD=$t({},pd,{relatedTarget:0}),ng=Er(LD),VD=$t({},cc,{animationName:0,elapsedTime:0,pseudoElement:0}),FD=Er(VD),UD=$t({},cc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$D=Er(UD),BD=$t({},cc,{data:0}),H0=Er(BD),zD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HD[t])?!!e[t]:!1}function fx(){return qD}var GD=$t({},pd,{key:function(t){if(t.key){var e=zD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fx,charCode:function(t){return t.type==="keypress"?Lh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KD=Er(GD),QD=$t({},bm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q0=Er(QD),YD=$t({},pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fx}),XD=Er(YD),ZD=$t({},cc,{propertyName:0,elapsedTime:0,pseudoElement:0}),JD=Er(ZD),eO=$t({},bm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tO=Er(eO),nO=[9,13,27,32],mx=si&&"CompositionEvent"in window,hu=null;si&&"documentMode"in document&&(hu=document.documentMode);var rO=si&&"TextEvent"in window&&!hu,$S=si&&(!mx||hu&&8<hu&&11>=hu),G0=" ",K0=!1;function BS(t,e){switch(t){case"keyup":return nO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var il=!1;function sO(t,e){switch(t){case"compositionend":return zS(e);case"keypress":return e.which!==32?null:(K0=!0,G0);case"textInput":return t=e.data,t===G0&&K0?null:t;default:return null}}function iO(t,e){if(il)return t==="compositionend"||!mx&&BS(t,e)?(t=US(),Mh=dx=Gi=null,il=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $S&&e.locale!=="ko"?null:e.data;default:return null}}var oO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oO[t.type]:e==="textarea"}function WS(t,e,n,r){_S(r),e=gf(e,"onChange"),0<e.length&&(n=new hx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fu=null,Mu=null;function aO(t){tC(t,0)}function Tm(t){var e=ll(t);if(mS(e))return t}function lO(t,e){if(t==="change")return e}var HS=!1;if(si){var rg;if(si){var sg="oninput"in document;if(!sg){var Y0=document.createElement("div");Y0.setAttribute("oninput","return;"),sg=typeof Y0.oninput=="function"}rg=sg}else rg=!1;HS=rg&&(!document.documentMode||9<document.documentMode)}function X0(){fu&&(fu.detachEvent("onpropertychange",qS),Mu=fu=null)}function qS(t){if(t.propertyName==="value"&&Tm(Mu)){var e=[];WS(e,Mu,t,ox(t)),SS(aO,e)}}function cO(t,e,n){t==="focusin"?(X0(),fu=e,Mu=n,fu.attachEvent("onpropertychange",qS)):t==="focusout"&&X0()}function uO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tm(Mu)}function dO(t,e){if(t==="click")return Tm(e)}function hO(t,e){if(t==="input"||t==="change")return Tm(e)}function fO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ns=typeof Object.is=="function"?Object.is:fO;function Lu(t,e){if(ns(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zg.call(e,s)||!ns(t[s],e[s]))return!1}return!0}function Z0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function J0(t,e){var n=Z0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Z0(n)}}function GS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KS(){for(var t=window,e=cf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cf(t.document)}return e}function px(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mO(t){var e=KS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&GS(n.ownerDocument.documentElement,n)){if(r!==null&&px(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=J0(n,i);var o=J0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pO=si&&"documentMode"in document&&11>=document.documentMode,ol=null,vv=null,mu=null,yv=!1;function e1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yv||ol==null||ol!==cf(r)||(r=ol,"selectionStart"in r&&px(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mu&&Lu(mu,r)||(mu=r,r=gf(vv,"onSelect"),0<r.length&&(e=new hx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ol)))}function ch(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var al={animationend:ch("Animation","AnimationEnd"),animationiteration:ch("Animation","AnimationIteration"),animationstart:ch("Animation","AnimationStart"),transitionend:ch("Transition","TransitionEnd")},ig={},QS={};si&&(QS=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Sm(t){if(ig[t])return ig[t];if(!al[t])return t;var e=al[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in QS)return ig[t]=e[n];return t}var YS=Sm("animationend"),XS=Sm("animationiteration"),ZS=Sm("animationstart"),JS=Sm("transitionend"),eC=new Map,t1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oo(t,e){eC.set(t,e),ja(e,[t])}for(var og=0;og<t1.length;og++){var ag=t1[og],gO=ag.toLowerCase(),vO=ag[0].toUpperCase()+ag.slice(1);Oo(gO,"on"+vO)}Oo(YS,"onAnimationEnd");Oo(XS,"onAnimationIteration");Oo(ZS,"onAnimationStart");Oo("dblclick","onDoubleClick");Oo("focusin","onFocus");Oo("focusout","onBlur");Oo(JS,"onTransitionEnd");Vl("onMouseEnter",["mouseout","mouseover"]);Vl("onMouseLeave",["mouseout","mouseover"]);Vl("onPointerEnter",["pointerout","pointerover"]);Vl("onPointerLeave",["pointerout","pointerover"]);ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jc));function n1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gD(r,e,void 0,t),t.currentTarget=null}function tC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;n1(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;n1(s,l,u),i=c}}}if(df)throw t=fv,df=!1,fv=null,t}function It(t,e){var n=e[bv];n===void 0&&(n=e[bv]=new Set);var r=t+"__bubble";n.has(r)||(nC(e,t,2,!1),n.add(r))}function lg(t,e,n){var r=0;e&&(r|=4),nC(n,t,r,e)}var uh="_reactListening"+Math.random().toString(36).slice(2);function Vu(t){if(!t[uh]){t[uh]=!0,cS.forEach(function(n){n!=="selectionchange"&&(yO.has(n)||lg(n,!1,t),lg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uh]||(e[uh]=!0,lg("selectionchange",!1,e))}}function nC(t,e,n,r){switch(FS(e)){case 1:var s=PD;break;case 4:s=jD;break;default:s=ux}n=s.bind(null,e,n,t),s=void 0,!hv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function cg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ta(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}SS(function(){var u=i,h=ox(n),f=[];e:{var m=eC.get(t);if(m!==void 0){var g=hx,b=t;switch(t){case"keypress":if(Lh(n)===0)break e;case"keydown":case"keyup":g=KD;break;case"focusin":b="focus",g=ng;break;case"focusout":b="blur",g=ng;break;case"beforeblur":case"afterblur":g=ng;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=W0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=MD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=XD;break;case YS:case XS:case ZS:g=FD;break;case JS:g=JD;break;case"scroll":g=DD;break;case"wheel":g=tO;break;case"copy":case"cut":case"paste":g=$D;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=q0}var E=(e&4)!==0,x=!E&&t==="scroll",_=E?m!==null?m+"Capture":null:m;E=[];for(var v=u,y;v!==null;){y=v;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,_!==null&&(S=Pu(v,_),S!=null&&E.push(Fu(v,S,y)))),x)break;v=v.return}0<E.length&&(m=new g(m,b,null,n,h),f.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==uv&&(b=n.relatedTarget||n.fromElement)&&(ta(b)||b[ii]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=u,b=b?ta(b):null,b!==null&&(x=Da(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(E=W0,S="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(E=q0,S="onPointerLeave",_="onPointerEnter",v="pointer"),x=g==null?m:ll(g),y=b==null?m:ll(b),m=new E(S,v+"leave",g,n,h),m.target=x,m.relatedTarget=y,S=null,ta(h)===u&&(E=new E(_,v+"enter",b,n,h),E.target=y,E.relatedTarget=x,S=E),x=S,g&&b)t:{for(E=g,_=b,v=0,y=E;y;y=Ga(y))v++;for(y=0,S=_;S;S=Ga(S))y++;for(;0<v-y;)E=Ga(E),v--;for(;0<y-v;)_=Ga(_),y--;for(;v--;){if(E===_||_!==null&&E===_.alternate)break t;E=Ga(E),_=Ga(_)}E=null}else E=null;g!==null&&r1(f,m,g,E,!1),b!==null&&x!==null&&r1(f,x,b,E,!0)}}e:{if(m=u?ll(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var k=lO;else if(Q0(m))if(HS)k=hO;else{k=uO;var D=cO}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=dO);if(k&&(k=k(t,u))){WS(f,k,n,h);break e}D&&D(t,m,u),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&iv(m,"number",m.value)}switch(D=u?ll(u):window,t){case"focusin":(Q0(D)||D.contentEditable==="true")&&(ol=D,vv=u,mu=null);break;case"focusout":mu=vv=ol=null;break;case"mousedown":yv=!0;break;case"contextmenu":case"mouseup":case"dragend":yv=!1,e1(f,n,h);break;case"selectionchange":if(pO)break;case"keydown":case"keyup":e1(f,n,h)}var I;if(mx)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else il?BS(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&($S&&n.locale!=="ko"&&(il||C!=="onCompositionStart"?C==="onCompositionEnd"&&il&&(I=US()):(Gi=h,dx="value"in Gi?Gi.value:Gi.textContent,il=!0)),D=gf(u,C),0<D.length&&(C=new H0(C,t,null,n,h),f.push({event:C,listeners:D}),I?C.data=I:(I=zS(n),I!==null&&(C.data=I)))),(I=rO?sO(t,n):iO(t,n))&&(u=gf(u,"onBeforeInput"),0<u.length&&(h=new H0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=I))}tC(f,e)})}function Fu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pu(t,n),i!=null&&r.unshift(Fu(t,i,s)),i=Pu(t,e),i!=null&&r.push(Fu(t,i,s))),t=t.return}return r}function Ga(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function r1(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Pu(n,i),c!=null&&o.unshift(Fu(n,c,l))):s||(c=Pu(n,i),c!=null&&o.push(Fu(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var xO=/\r\n?/g,wO=/\u0000|\uFFFD/g;function s1(t){return(typeof t=="string"?t:""+t).replace(xO,`
`).replace(wO,"")}function dh(t,e,n){if(e=s1(e),s1(t)!==e&&n)throw Error(Z(425))}function vf(){}var xv=null,wv=null;function _v(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ev=typeof setTimeout=="function"?setTimeout:void 0,_O=typeof clearTimeout=="function"?clearTimeout:void 0,i1=typeof Promise=="function"?Promise:void 0,EO=typeof queueMicrotask=="function"?queueMicrotask:typeof i1<"u"?function(t){return i1.resolve(null).then(t).catch(bO)}:Ev;function bO(t){setTimeout(function(){throw t})}function ug(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ou(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ou(e)}function to(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function o1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uc=Math.random().toString(36).slice(2),xs="__reactFiber$"+uc,Uu="__reactProps$"+uc,ii="__reactContainer$"+uc,bv="__reactEvents$"+uc,TO="__reactListeners$"+uc,SO="__reactHandles$"+uc;function ta(t){var e=t[xs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ii]||n[xs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=o1(t);t!==null;){if(n=t[xs])return n;t=o1(t)}return e}t=n,n=t.parentNode}return null}function gd(t){return t=t[xs]||t[ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ll(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Cm(t){return t[Uu]||null}var Tv=[],cl=-1;function Mo(t){return{current:t}}function kt(t){0>cl||(t.current=Tv[cl],Tv[cl]=null,cl--)}function bt(t,e){cl++,Tv[cl]=t.current,t.current=e}var wo={},On=Mo(wo),nr=Mo(!1),va=wo;function Fl(t,e){var n=t.type.contextTypes;if(!n)return wo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function rr(t){return t=t.childContextTypes,t!=null}function yf(){kt(nr),kt(On)}function a1(t,e,n){if(On.current!==wo)throw Error(Z(168));bt(On,e),bt(nr,n)}function rC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Z(108,cD(t)||"Unknown",s));return $t({},n,r)}function xf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wo,va=On.current,bt(On,t),bt(nr,nr.current),!0}function l1(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=rC(t,e,va),r.__reactInternalMemoizedMergedChildContext=t,kt(nr),kt(On),bt(On,t)):kt(nr),bt(nr,n)}var qs=null,Im=!1,dg=!1;function sC(t){qs===null?qs=[t]:qs.push(t)}function CO(t){Im=!0,sC(t)}function Lo(){if(!dg&&qs!==null){dg=!0;var t=0,e=mt;try{var n=qs;for(mt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qs=null,Im=!1}catch(s){throw qs!==null&&(qs=qs.slice(t+1)),kS(ax,Lo),s}finally{mt=e,dg=!1}}return null}var ul=[],dl=0,wf=null,_f=0,Ir=[],Nr=0,ya=null,Ys=1,Xs="";function Yo(t,e){ul[dl++]=_f,ul[dl++]=wf,wf=t,_f=e}function iC(t,e,n){Ir[Nr++]=Ys,Ir[Nr++]=Xs,Ir[Nr++]=ya,ya=t;var r=Ys;t=Xs;var s=32-Jr(r)-1;r&=~(1<<s),n+=1;var i=32-Jr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ys=1<<32-Jr(e)+s|n<<s|r,Xs=i+t}else Ys=1<<i|n<<s|r,Xs=t}function gx(t){t.return!==null&&(Yo(t,1),iC(t,1,0))}function vx(t){for(;t===wf;)wf=ul[--dl],ul[dl]=null,_f=ul[--dl],ul[dl]=null;for(;t===ya;)ya=Ir[--Nr],Ir[Nr]=null,Xs=Ir[--Nr],Ir[Nr]=null,Ys=Ir[--Nr],Ir[Nr]=null}var gr=null,mr=null,Rt=!1,Qr=null;function oC(t,e){var n=Ar(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function c1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gr=t,mr=to(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gr=t,mr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ya!==null?{id:Ys,overflow:Xs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ar(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gr=t,mr=null,!0):!1;default:return!1}}function Sv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cv(t){if(Rt){var e=mr;if(e){var n=e;if(!c1(t,e)){if(Sv(t))throw Error(Z(418));e=to(n.nextSibling);var r=gr;e&&c1(t,e)?oC(r,n):(t.flags=t.flags&-4097|2,Rt=!1,gr=t)}}else{if(Sv(t))throw Error(Z(418));t.flags=t.flags&-4097|2,Rt=!1,gr=t}}}function u1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gr=t}function hh(t){if(t!==gr)return!1;if(!Rt)return u1(t),Rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_v(t.type,t.memoizedProps)),e&&(e=mr)){if(Sv(t))throw aC(),Error(Z(418));for(;e;)oC(t,e),e=to(e.nextSibling)}if(u1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mr=to(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mr=null}}else mr=gr?to(t.stateNode.nextSibling):null;return!0}function aC(){for(var t=mr;t;)t=to(t.nextSibling)}function Ul(){mr=gr=null,Rt=!1}function yx(t){Qr===null?Qr=[t]:Qr.push(t)}var IO=gi.ReactCurrentBatchConfig;function Bc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function fh(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function d1(t){var e=t._init;return e(t._payload)}function lC(t){function e(_,v){if(t){var y=_.deletions;y===null?(_.deletions=[v],_.flags|=16):y.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=io(_,v),_.index=0,_.sibling=null,_}function i(_,v,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<v?(_.flags|=2,v):y):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,v,y,S){return v===null||v.tag!==6?(v=yg(y,_.mode,S),v.return=_,v):(v=s(v,y),v.return=_,v)}function c(_,v,y,S){var k=y.type;return k===sl?h(_,v,y.props.children,S,y.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Di&&d1(k)===v.type)?(S=s(v,y.props),S.ref=Bc(_,v,y),S.return=_,S):(S=Wh(y.type,y.key,y.props,null,_.mode,S),S.ref=Bc(_,v,y),S.return=_,S)}function u(_,v,y,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=xg(y,_.mode,S),v.return=_,v):(v=s(v,y.children||[]),v.return=_,v)}function h(_,v,y,S,k){return v===null||v.tag!==7?(v=ma(y,_.mode,S,k),v.return=_,v):(v=s(v,y),v.return=_,v)}function f(_,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=yg(""+v,_.mode,y),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case nh:return y=Wh(v.type,v.key,v.props,null,_.mode,y),y.ref=Bc(_,null,v),y.return=_,y;case rl:return v=xg(v,_.mode,y),v.return=_,v;case Di:var S=v._init;return f(_,S(v._payload),y)}if(Xc(v)||Lc(v))return v=ma(v,_.mode,y,null),v.return=_,v;fh(_,v)}return null}function m(_,v,y,S){var k=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:l(_,v,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case nh:return y.key===k?c(_,v,y,S):null;case rl:return y.key===k?u(_,v,y,S):null;case Di:return k=y._init,m(_,v,k(y._payload),S)}if(Xc(y)||Lc(y))return k!==null?null:h(_,v,y,S,null);fh(_,y)}return null}function g(_,v,y,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return _=_.get(y)||null,l(v,_,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case nh:return _=_.get(S.key===null?y:S.key)||null,c(v,_,S,k);case rl:return _=_.get(S.key===null?y:S.key)||null,u(v,_,S,k);case Di:var D=S._init;return g(_,v,y,D(S._payload),k)}if(Xc(S)||Lc(S))return _=_.get(y)||null,h(v,_,S,k,null);fh(v,S)}return null}function b(_,v,y,S){for(var k=null,D=null,I=v,C=v=0,N=null;I!==null&&C<y.length;C++){I.index>C?(N=I,I=null):N=I.sibling;var R=m(_,I,y[C],S);if(R===null){I===null&&(I=N);break}t&&I&&R.alternate===null&&e(_,I),v=i(R,v,C),D===null?k=R:D.sibling=R,D=R,I=N}if(C===y.length)return n(_,I),Rt&&Yo(_,C),k;if(I===null){for(;C<y.length;C++)I=f(_,y[C],S),I!==null&&(v=i(I,v,C),D===null?k=I:D.sibling=I,D=I);return Rt&&Yo(_,C),k}for(I=r(_,I);C<y.length;C++)N=g(I,_,C,y[C],S),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?C:N.key),v=i(N,v,C),D===null?k=N:D.sibling=N,D=N);return t&&I.forEach(function(P){return e(_,P)}),Rt&&Yo(_,C),k}function E(_,v,y,S){var k=Lc(y);if(typeof k!="function")throw Error(Z(150));if(y=k.call(y),y==null)throw Error(Z(151));for(var D=k=null,I=v,C=v=0,N=null,R=y.next();I!==null&&!R.done;C++,R=y.next()){I.index>C?(N=I,I=null):N=I.sibling;var P=m(_,I,R.value,S);if(P===null){I===null&&(I=N);break}t&&I&&P.alternate===null&&e(_,I),v=i(P,v,C),D===null?k=P:D.sibling=P,D=P,I=N}if(R.done)return n(_,I),Rt&&Yo(_,C),k;if(I===null){for(;!R.done;C++,R=y.next())R=f(_,R.value,S),R!==null&&(v=i(R,v,C),D===null?k=R:D.sibling=R,D=R);return Rt&&Yo(_,C),k}for(I=r(_,I);!R.done;C++,R=y.next())R=g(I,_,C,R.value,S),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?C:R.key),v=i(R,v,C),D===null?k=R:D.sibling=R,D=R);return t&&I.forEach(function(O){return e(_,O)}),Rt&&Yo(_,C),k}function x(_,v,y,S){if(typeof y=="object"&&y!==null&&y.type===sl&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case nh:e:{for(var k=y.key,D=v;D!==null;){if(D.key===k){if(k=y.type,k===sl){if(D.tag===7){n(_,D.sibling),v=s(D,y.props.children),v.return=_,_=v;break e}}else if(D.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Di&&d1(k)===D.type){n(_,D.sibling),v=s(D,y.props),v.ref=Bc(_,D,y),v.return=_,_=v;break e}n(_,D);break}else e(_,D);D=D.sibling}y.type===sl?(v=ma(y.props.children,_.mode,S,y.key),v.return=_,_=v):(S=Wh(y.type,y.key,y.props,null,_.mode,S),S.ref=Bc(_,v,y),S.return=_,_=S)}return o(_);case rl:e:{for(D=y.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(_,v.sibling),v=s(v,y.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=xg(y,_.mode,S),v.return=_,_=v}return o(_);case Di:return D=y._init,x(_,v,D(y._payload),S)}if(Xc(y))return b(_,v,y,S);if(Lc(y))return E(_,v,y,S);fh(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,y),v.return=_,_=v):(n(_,v),v=yg(y,_.mode,S),v.return=_,_=v),o(_)):n(_,v)}return x}var $l=lC(!0),cC=lC(!1),Ef=Mo(null),bf=null,hl=null,xx=null;function wx(){xx=hl=bf=null}function _x(t){var e=Ef.current;kt(Ef),t._currentValue=e}function Iv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xl(t,e){bf=t,xx=hl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tr=!0),t.firstContext=null)}function Pr(t){var e=t._currentValue;if(xx!==t)if(t={context:t,memoizedValue:e,next:null},hl===null){if(bf===null)throw Error(Z(308));hl=t,bf.dependencies={lanes:0,firstContext:t}}else hl=hl.next=t;return e}var na=null;function Ex(t){na===null?na=[t]:na.push(t)}function uC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ex(e)):(n.next=s.next,s.next=n),e.interleaved=n,oi(t,r)}function oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oi=!1;function bx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function no(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,it&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,oi(t,n)}return s=r.interleaved,s===null?(e.next=e,Ex(r)):(e.next=s.next,s.next=e),r.interleaved=e,oi(t,n)}function Vh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lx(t,n)}}function h1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tf(t,e,n,r){var s=t.updateQueue;Oi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=u=c=null,l=i;do{var m=l.lane,g=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,E=l;switch(m=e,g=n,E.tag){case 1:if(b=E.payload,typeof b=="function"){f=b.call(g,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=E.payload,m=typeof b=="function"?b.call(g,f,m):b,m==null)break e;f=$t({},f,m);break e;case 2:Oi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=f):h=h.next=g,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);wa|=o,t.lanes=o,t.memoizedState=f}}function f1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Z(191,s));s.call(r)}}}var vd={},Cs=Mo(vd),$u=Mo(vd),Bu=Mo(vd);function ra(t){if(t===vd)throw Error(Z(174));return t}function Tx(t,e){switch(bt(Bu,e),bt($u,t),bt(Cs,vd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:av(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=av(e,t)}kt(Cs),bt(Cs,e)}function Bl(){kt(Cs),kt($u),kt(Bu)}function hC(t){ra(Bu.current);var e=ra(Cs.current),n=av(e,t.type);e!==n&&(bt($u,t),bt(Cs,n))}function Sx(t){$u.current===t&&(kt(Cs),kt($u))}var Mt=Mo(0);function Sf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hg=[];function Cx(){for(var t=0;t<hg.length;t++)hg[t]._workInProgressVersionPrimary=null;hg.length=0}var Fh=gi.ReactCurrentDispatcher,fg=gi.ReactCurrentBatchConfig,xa=0,Ft=null,on=null,dn=null,Cf=!1,pu=!1,zu=0,NO=0;function Nn(){throw Error(Z(321))}function Ix(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ns(t[n],e[n]))return!1;return!0}function Nx(t,e,n,r,s,i){if(xa=i,Ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=t===null||t.memoizedState===null?PO:jO,t=n(r,s),pu){i=0;do{if(pu=!1,zu=0,25<=i)throw Error(Z(301));i+=1,dn=on=null,e.updateQueue=null,Fh.current=DO,t=n(r,s)}while(pu)}if(Fh.current=If,e=on!==null&&on.next!==null,xa=0,dn=on=Ft=null,Cf=!1,e)throw Error(Z(300));return t}function kx(){var t=zu!==0;return zu=0,t}function fs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Ft.memoizedState=dn=t:dn=dn.next=t,dn}function jr(){if(on===null){var t=Ft.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var e=dn===null?Ft.memoizedState:dn.next;if(e!==null)dn=e,on=t;else{if(t===null)throw Error(Z(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},dn===null?Ft.memoizedState=dn=t:dn=dn.next=t}return dn}function Wu(t,e){return typeof e=="function"?e(t):e}function mg(t){var e=jr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=on,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var h=u.lane;if((xa&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Ft.lanes|=h,wa|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,ns(r,e.memoizedState)||(tr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ft.lanes|=i,wa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pg(t){var e=jr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ns(i,e.memoizedState)||(tr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function fC(){}function mC(t,e){var n=Ft,r=jr(),s=e(),i=!ns(r.memoizedState,s);if(i&&(r.memoizedState=s,tr=!0),r=r.queue,Ax(vC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||dn!==null&&dn.memoizedState.tag&1){if(n.flags|=2048,Hu(9,gC.bind(null,n,r,s,e),void 0,null),hn===null)throw Error(Z(349));xa&30||pC(n,e,s)}return s}function pC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gC(t,e,n,r){e.value=n,e.getSnapshot=r,yC(e)&&xC(t)}function vC(t,e,n){return n(function(){yC(e)&&xC(t)})}function yC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ns(t,n)}catch{return!0}}function xC(t){var e=oi(t,1);e!==null&&es(e,t,1,-1)}function m1(t){var e=fs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wu,lastRenderedState:t},e.queue=t,t=t.dispatch=RO.bind(null,Ft,t),[e.memoizedState,t]}function Hu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wC(){return jr().memoizedState}function Uh(t,e,n,r){var s=fs();Ft.flags|=t,s.memoizedState=Hu(1|e,n,void 0,r===void 0?null:r)}function Nm(t,e,n,r){var s=jr();r=r===void 0?null:r;var i=void 0;if(on!==null){var o=on.memoizedState;if(i=o.destroy,r!==null&&Ix(r,o.deps)){s.memoizedState=Hu(e,n,i,r);return}}Ft.flags|=t,s.memoizedState=Hu(1|e,n,i,r)}function p1(t,e){return Uh(8390656,8,t,e)}function Ax(t,e){return Nm(2048,8,t,e)}function _C(t,e){return Nm(4,2,t,e)}function EC(t,e){return Nm(4,4,t,e)}function bC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TC(t,e,n){return n=n!=null?n.concat([t]):null,Nm(4,4,bC.bind(null,e,t),n)}function Rx(){}function SC(t,e){var n=jr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ix(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function CC(t,e){var n=jr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ix(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function IC(t,e,n){return xa&21?(ns(n,e)||(n=PS(),Ft.lanes|=n,wa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tr=!0),t.memoizedState=n)}function kO(t,e){var n=mt;mt=n!==0&&4>n?n:4,t(!0);var r=fg.transition;fg.transition={};try{t(!1),e()}finally{mt=n,fg.transition=r}}function NC(){return jr().memoizedState}function AO(t,e,n){var r=so(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kC(t))AC(e,n);else if(n=uC(t,e,n,r),n!==null){var s=$n();es(n,t,r,s),RC(n,e,r)}}function RO(t,e,n){var r=so(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kC(t))AC(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,ns(l,o)){var c=e.interleaved;c===null?(s.next=s,Ex(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=uC(t,e,s,r),n!==null&&(s=$n(),es(n,t,r,s),RC(n,e,r))}}function kC(t){var e=t.alternate;return t===Ft||e!==null&&e===Ft}function AC(t,e){pu=Cf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lx(t,n)}}var If={readContext:Pr,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useInsertionEffect:Nn,useLayoutEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useMutableSource:Nn,useSyncExternalStore:Nn,useId:Nn,unstable_isNewReconciler:!1},PO={readContext:Pr,useCallback:function(t,e){return fs().memoizedState=[t,e===void 0?null:e],t},useContext:Pr,useEffect:p1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Uh(4194308,4,bC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uh(4,2,t,e)},useMemo:function(t,e){var n=fs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=AO.bind(null,Ft,t),[r.memoizedState,t]},useRef:function(t){var e=fs();return t={current:t},e.memoizedState=t},useState:m1,useDebugValue:Rx,useDeferredValue:function(t){return fs().memoizedState=t},useTransition:function(){var t=m1(!1),e=t[0];return t=kO.bind(null,t[1]),fs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ft,s=fs();if(Rt){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),hn===null)throw Error(Z(349));xa&30||pC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,p1(vC.bind(null,r,i,t),[t]),r.flags|=2048,Hu(9,gC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=fs(),e=hn.identifierPrefix;if(Rt){var n=Xs,r=Ys;n=(r&~(1<<32-Jr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=NO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jO={readContext:Pr,useCallback:SC,useContext:Pr,useEffect:Ax,useImperativeHandle:TC,useInsertionEffect:_C,useLayoutEffect:EC,useMemo:CC,useReducer:mg,useRef:wC,useState:function(){return mg(Wu)},useDebugValue:Rx,useDeferredValue:function(t){var e=jr();return IC(e,on.memoizedState,t)},useTransition:function(){var t=mg(Wu)[0],e=jr().memoizedState;return[t,e]},useMutableSource:fC,useSyncExternalStore:mC,useId:NC,unstable_isNewReconciler:!1},DO={readContext:Pr,useCallback:SC,useContext:Pr,useEffect:Ax,useImperativeHandle:TC,useInsertionEffect:_C,useLayoutEffect:EC,useMemo:CC,useReducer:pg,useRef:wC,useState:function(){return pg(Wu)},useDebugValue:Rx,useDeferredValue:function(t){var e=jr();return on===null?e.memoizedState=t:IC(e,on.memoizedState,t)},useTransition:function(){var t=pg(Wu)[0],e=jr().memoizedState;return[t,e]},useMutableSource:fC,useSyncExternalStore:mC,useId:NC,unstable_isNewReconciler:!1};function Wr(t,e){if(t&&t.defaultProps){e=$t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Nv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var km={isMounted:function(t){return(t=t._reactInternals)?Da(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$n(),s=so(t),i=ei(r,s);i.payload=e,n!=null&&(i.callback=n),e=no(t,i,s),e!==null&&(es(e,t,s,r),Vh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$n(),s=so(t),i=ei(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=no(t,i,s),e!==null&&(es(e,t,s,r),Vh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$n(),r=so(t),s=ei(n,r);s.tag=2,e!=null&&(s.callback=e),e=no(t,s,r),e!==null&&(es(e,t,r,n),Vh(e,t,r))}};function g1(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Lu(n,r)||!Lu(s,i):!0}function PC(t,e,n){var r=!1,s=wo,i=e.contextType;return typeof i=="object"&&i!==null?i=Pr(i):(s=rr(e)?va:On.current,r=e.contextTypes,i=(r=r!=null)?Fl(t,s):wo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=km,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function v1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&km.enqueueReplaceState(e,e.state,null)}function kv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},bx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Pr(i):(i=rr(e)?va:On.current,s.context=Fl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Nv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&km.enqueueReplaceState(s,s.state,null),Tf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zl(t,e){try{var n="",r=e;do n+=lD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function gg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Av(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OO=typeof WeakMap=="function"?WeakMap:Map;function jC(t,e,n){n=ei(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kf||(kf=!0,Uv=r),Av(t,e)},n}function DC(t,e,n){n=ei(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Av(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Av(t,e),typeof r!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function y1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=QO.bind(null,t,e,n),e.then(t,t))}function x1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function w1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ei(-1,1),e.tag=2,no(n,e,1))),n.lanes|=1),t)}var MO=gi.ReactCurrentOwner,tr=!1;function Vn(t,e,n,r){e.child=t===null?cC(e,null,n,r):$l(e,t.child,n,r)}function _1(t,e,n,r,s){n=n.render;var i=e.ref;return xl(e,s),r=Nx(t,e,n,r,i,s),n=kx(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ai(t,e,s)):(Rt&&n&&gx(e),e.flags|=1,Vn(t,e,r,s),e.child)}function E1(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Fx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,OC(t,e,i,r,s)):(t=Wh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Lu,n(o,r)&&t.ref===e.ref)return ai(t,e,s)}return e.flags|=1,t=io(i,r),t.ref=e.ref,t.return=e,e.child=t}function OC(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Lu(i,r)&&t.ref===e.ref)if(tr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(tr=!0);else return e.lanes=t.lanes,ai(t,e,s)}return Rv(t,e,n,r,s)}function MC(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(ml,ur),ur|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bt(ml,ur),ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,bt(ml,ur),ur|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,bt(ml,ur),ur|=r;return Vn(t,e,s,n),e.child}function LC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rv(t,e,n,r,s){var i=rr(n)?va:On.current;return i=Fl(e,i),xl(e,s),n=Nx(t,e,n,r,i,s),r=kx(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ai(t,e,s)):(Rt&&r&&gx(e),e.flags|=1,Vn(t,e,n,s),e.child)}function b1(t,e,n,r,s){if(rr(n)){var i=!0;xf(e)}else i=!1;if(xl(e,s),e.stateNode===null)$h(t,e),PC(e,n,r),kv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pr(u):(u=rr(n)?va:On.current,u=Fl(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&v1(e,o,r,u),Oi=!1;var m=e.memoizedState;o.state=m,Tf(e,r,o,s),c=e.memoizedState,l!==r||m!==c||nr.current||Oi?(typeof h=="function"&&(Nv(e,n,h,r),c=e.memoizedState),(l=Oi||g1(e,n,l,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,dC(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Wr(e.type,l),o.props=u,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Pr(c):(c=rr(n)?va:On.current,c=Fl(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&v1(e,o,r,c),Oi=!1,m=e.memoizedState,o.state=m,Tf(e,r,o,s);var b=e.memoizedState;l!==f||m!==b||nr.current||Oi?(typeof g=="function"&&(Nv(e,n,g,r),b=e.memoizedState),(u=Oi||g1(e,n,u,r,m,b,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Pv(t,e,n,r,i,s)}function Pv(t,e,n,r,s,i){LC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&l1(e,n,!1),ai(t,e,i);r=e.stateNode,MO.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$l(e,t.child,null,i),e.child=$l(e,null,l,i)):Vn(t,e,l,i),e.memoizedState=r.state,s&&l1(e,n,!0),e.child}function VC(t){var e=t.stateNode;e.pendingContext?a1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&a1(t,e.context,!1),Tx(t,e.containerInfo)}function T1(t,e,n,r,s){return Ul(),yx(s),e.flags|=256,Vn(t,e,n,r),e.child}var jv={dehydrated:null,treeContext:null,retryLane:0};function Dv(t){return{baseLanes:t,cachePool:null,transitions:null}}function FC(t,e,n){var r=e.pendingProps,s=Mt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),bt(Mt,s&1),t===null)return Cv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Pm(o,r,0,null),t=ma(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Dv(n),e.memoizedState=jv,t):Px(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return LO(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=io(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=io(l,i):(i=ma(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Dv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=jv,r}return i=t.child,t=i.sibling,r=io(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Px(t,e){return e=Pm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mh(t,e,n,r){return r!==null&&yx(r),$l(e,t.child,null,n),t=Px(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=gg(Error(Z(422))),mh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Pm({mode:"visible",children:r.children},s,0,null),i=ma(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$l(e,t.child,null,o),e.child.memoizedState=Dv(o),e.memoizedState=jv,i);if(!(e.mode&1))return mh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Z(419)),r=gg(i,r,void 0),mh(t,e,o,r)}if(l=(o&t.childLanes)!==0,tr||l){if(r=hn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,oi(t,s),es(r,t,s,-1))}return Vx(),r=gg(Error(Z(421))),mh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=YO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,mr=to(s.nextSibling),gr=e,Rt=!0,Qr=null,t!==null&&(Ir[Nr++]=Ys,Ir[Nr++]=Xs,Ir[Nr++]=ya,Ys=t.id,Xs=t.overflow,ya=e),e=Px(e,r.children),e.flags|=4096,e)}function S1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Iv(t.return,e,n)}function vg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function UC(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Vn(t,e,r.children,n),r=Mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&S1(t,n,e);else if(t.tag===19)S1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(bt(Mt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Sf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),vg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Sf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}vg(e,!0,n,null,i);break;case"together":vg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $h(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=io(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=io(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VO(t,e,n){switch(e.tag){case 3:VC(e),Ul();break;case 5:hC(e);break;case 1:rr(e.type)&&xf(e);break;case 4:Tx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;bt(Ef,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(bt(Mt,Mt.current&1),e.flags|=128,null):n&e.child.childLanes?FC(t,e,n):(bt(Mt,Mt.current&1),t=ai(t,e,n),t!==null?t.sibling:null);bt(Mt,Mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return UC(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),bt(Mt,Mt.current),r)break;return null;case 22:case 23:return e.lanes=0,MC(t,e,n)}return ai(t,e,n)}var $C,Ov,BC,zC;$C=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ov=function(){};BC=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ra(Cs.current);var i=null;switch(n){case"input":s=rv(t,s),r=rv(t,r),i=[];break;case"select":s=$t({},s,{value:void 0}),r=$t({},r,{value:void 0}),i=[];break;case"textarea":s=ov(t,s),r=ov(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vf)}lv(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Au.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Au.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&It("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};zC=function(t,e,n,r){n!==r&&(e.flags|=4)};function zc(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function FO(t,e,n){var r=e.pendingProps;switch(vx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(e),null;case 1:return rr(e.type)&&yf(),kn(e),null;case 3:return r=e.stateNode,Bl(),kt(nr),kt(On),Cx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qr!==null&&(zv(Qr),Qr=null))),Ov(t,e),kn(e),null;case 5:Sx(e);var s=ra(Bu.current);if(n=e.type,t!==null&&e.stateNode!=null)BC(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return kn(e),null}if(t=ra(Cs.current),hh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[xs]=e,r[Uu]=i,t=(e.mode&1)!==0,n){case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":case"embed":It("load",r);break;case"video":case"audio":for(s=0;s<Jc.length;s++)It(Jc[s],r);break;case"source":It("error",r);break;case"img":case"image":case"link":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"input":D0(r,i),It("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},It("invalid",r);break;case"textarea":M0(r,i),It("invalid",r)}lv(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&dh(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&dh(r.textContent,l,t),s=["children",""+l]):Au.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&It("scroll",r)}switch(n){case"input":rh(r),O0(r,i,!0);break;case"textarea":rh(r),L0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xs]=e,t[Uu]=r,$C(t,e,!1,!1),e.stateNode=t;e:{switch(o=cv(n,r),n){case"dialog":It("cancel",t),It("close",t),s=r;break;case"iframe":case"object":case"embed":It("load",t),s=r;break;case"video":case"audio":for(s=0;s<Jc.length;s++)It(Jc[s],t);s=r;break;case"source":It("error",t),s=r;break;case"img":case"image":case"link":It("error",t),It("load",t),s=r;break;case"details":It("toggle",t),s=r;break;case"input":D0(t,r),s=rv(t,r),It("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=$t({},r,{value:void 0}),It("invalid",t);break;case"textarea":M0(t,r),s=ov(t,r),It("invalid",t);break;default:s=r}lv(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?wS(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yS(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ru(t,c):typeof c=="number"&&Ru(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Au.hasOwnProperty(i)?c!=null&&i==="onScroll"&&It("scroll",t):c!=null&&nx(t,i,c,o))}switch(n){case"input":rh(t),O0(t,r,!1);break;case"textarea":rh(t),L0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?pl(t,!!r.multiple,i,!1):r.defaultValue!=null&&pl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=vf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kn(e),null;case 6:if(t&&e.stateNode!=null)zC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=ra(Bu.current),ra(Cs.current),hh(e)){if(r=e.stateNode,n=e.memoizedProps,r[xs]=e,(i=r.nodeValue!==n)&&(t=gr,t!==null))switch(t.tag){case 3:dh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xs]=e,e.stateNode=r}return kn(e),null;case 13:if(kt(Mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rt&&mr!==null&&e.mode&1&&!(e.flags&128))aC(),Ul(),e.flags|=98560,i=!1;else if(i=hh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[xs]=e}else Ul(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kn(e),i=!1}else Qr!==null&&(zv(Qr),Qr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Mt.current&1?an===0&&(an=3):Vx())),e.updateQueue!==null&&(e.flags|=4),kn(e),null);case 4:return Bl(),Ov(t,e),t===null&&Vu(e.stateNode.containerInfo),kn(e),null;case 10:return _x(e.type._context),kn(e),null;case 17:return rr(e.type)&&yf(),kn(e),null;case 19:if(kt(Mt),i=e.memoizedState,i===null)return kn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)zc(i,!1);else{if(an!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Sf(t),o!==null){for(e.flags|=128,zc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return bt(Mt,Mt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Qt()>Wl&&(e.flags|=128,r=!0,zc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Sf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Rt)return kn(e),null}else 2*Qt()-i.renderingStartTime>Wl&&n!==1073741824&&(e.flags|=128,r=!0,zc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Qt(),e.sibling=null,n=Mt.current,bt(Mt,r?n&1|2:n&1),e):(kn(e),null);case 22:case 23:return Lx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ur&1073741824&&(kn(e),e.subtreeFlags&6&&(e.flags|=8192)):kn(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function UO(t,e){switch(vx(e),e.tag){case 1:return rr(e.type)&&yf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bl(),kt(nr),kt(On),Cx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sx(e),null;case 13:if(kt(Mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));Ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return kt(Mt),null;case 4:return Bl(),null;case 10:return _x(e.type._context),null;case 22:case 23:return Lx(),null;case 24:return null;default:return null}}var ph=!1,jn=!1,$O=typeof WeakSet=="function"?WeakSet:Set,pe=null;function fl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qt(t,e,r)}else n.current=null}function Mv(t,e,n){try{n()}catch(r){qt(t,e,r)}}var C1=!1;function BO(t,e){if(xv=mf,t=KS(),px(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++u===s&&(l=o),m===i&&++h===r&&(c=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(wv={focusedElem:t,selectionRange:n},mf=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var E=b.memoizedProps,x=b.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?E:Wr(e.type,E),x);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(S){qt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return b=C1,C1=!1,b}function gu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Mv(e,n,i)}s=s.next}while(s!==r)}}function Am(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function WC(t){var e=t.alternate;e!==null&&(t.alternate=null,WC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xs],delete e[Uu],delete e[bv],delete e[TO],delete e[SO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function HC(t){return t.tag===5||t.tag===3||t.tag===4}function I1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||HC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vf));else if(r!==4&&(t=t.child,t!==null))for(Vv(t,e,n),t=t.sibling;t!==null;)Vv(t,e,n),t=t.sibling}function Fv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fv(t,e,n),t=t.sibling;t!==null;)Fv(t,e,n),t=t.sibling}var vn=null,Kr=!1;function Ni(t,e,n){for(n=n.child;n!==null;)qC(t,e,n),n=n.sibling}function qC(t,e,n){if(Ss&&typeof Ss.onCommitFiberUnmount=="function")try{Ss.onCommitFiberUnmount(Em,n)}catch{}switch(n.tag){case 5:jn||fl(n,e);case 6:var r=vn,s=Kr;vn=null,Ni(t,e,n),vn=r,Kr=s,vn!==null&&(Kr?(t=vn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vn.removeChild(n.stateNode));break;case 18:vn!==null&&(Kr?(t=vn,n=n.stateNode,t.nodeType===8?ug(t.parentNode,n):t.nodeType===1&&ug(t,n),Ou(t)):ug(vn,n.stateNode));break;case 4:r=vn,s=Kr,vn=n.stateNode.containerInfo,Kr=!0,Ni(t,e,n),vn=r,Kr=s;break;case 0:case 11:case 14:case 15:if(!jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Mv(n,e,o),s=s.next}while(s!==r)}Ni(t,e,n);break;case 1:if(!jn&&(fl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){qt(n,e,l)}Ni(t,e,n);break;case 21:Ni(t,e,n);break;case 22:n.mode&1?(jn=(r=jn)||n.memoizedState!==null,Ni(t,e,n),jn=r):Ni(t,e,n);break;default:Ni(t,e,n)}}function N1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $O),e.forEach(function(r){var s=XO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function $r(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:vn=l.stateNode,Kr=!1;break e;case 3:vn=l.stateNode.containerInfo,Kr=!0;break e;case 4:vn=l.stateNode.containerInfo,Kr=!0;break e}l=l.return}if(vn===null)throw Error(Z(160));qC(i,o,s),vn=null,Kr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){qt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GC(e,t),e=e.sibling}function GC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($r(e,t),hs(t),r&4){try{gu(3,t,t.return),Am(3,t)}catch(E){qt(t,t.return,E)}try{gu(5,t,t.return)}catch(E){qt(t,t.return,E)}}break;case 1:$r(e,t),hs(t),r&512&&n!==null&&fl(n,n.return);break;case 5:if($r(e,t),hs(t),r&512&&n!==null&&fl(n,n.return),t.flags&32){var s=t.stateNode;try{Ru(s,"")}catch(E){qt(t,t.return,E)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&pS(s,i),cv(l,o);var u=cv(l,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?wS(s,f):h==="dangerouslySetInnerHTML"?yS(s,f):h==="children"?Ru(s,f):nx(s,h,f,u)}switch(l){case"input":sv(s,i);break;case"textarea":gS(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?pl(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?pl(s,!!i.multiple,i.defaultValue,!0):pl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Uu]=i}catch(E){qt(t,t.return,E)}}break;case 6:if($r(e,t),hs(t),r&4){if(t.stateNode===null)throw Error(Z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){qt(t,t.return,E)}}break;case 3:if($r(e,t),hs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ou(e.containerInfo)}catch(E){qt(t,t.return,E)}break;case 4:$r(e,t),hs(t);break;case 13:$r(e,t),hs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ox=Qt())),r&4&&N1(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(jn=(u=jn)||h,$r(e,t),jn=u):$r(e,t),hs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(pe=t,h=t.child;h!==null;){for(f=pe=h;pe!==null;){switch(m=pe,g=m.child,m.tag){case 0:case 11:case 14:case 15:gu(4,m,m.return);break;case 1:fl(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(E){qt(r,n,E)}}break;case 5:fl(m,m.return);break;case 22:if(m.memoizedState!==null){A1(f);continue}}g!==null?(g.return=m,pe=g):A1(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=xS("display",o))}catch(E){qt(t,t.return,E)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(E){qt(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$r(e,t),hs(t),r&4&&N1(t);break;case 21:break;default:$r(e,t),hs(t)}}function hs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(HC(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ru(s,""),r.flags&=-33);var i=I1(t);Fv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=I1(t);Vv(t,l,o);break;default:throw Error(Z(161))}}catch(c){qt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zO(t,e,n){pe=t,KC(t)}function KC(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var s=pe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ph;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||jn;l=ph;var u=jn;if(ph=o,(jn=c)&&!u)for(pe=s;pe!==null;)o=pe,c=o.child,o.tag===22&&o.memoizedState!==null?R1(s):c!==null?(c.return=o,pe=c):R1(s);for(;i!==null;)pe=i,KC(i),i=i.sibling;pe=s,ph=l,jn=u}k1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,pe=i):k1(t)}}function k1(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jn||Am(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Wr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&f1(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}f1(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ou(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}jn||e.flags&512&&Lv(e)}catch(m){qt(e,e.return,m)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function A1(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function R1(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Am(4,e)}catch(c){qt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){qt(e,s,c)}}var i=e.return;try{Lv(e)}catch(c){qt(e,i,c)}break;case 5:var o=e.return;try{Lv(e)}catch(c){qt(e,o,c)}}}catch(c){qt(e,e.return,c)}if(e===t){pe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,pe=l;break}pe=e.return}}var WO=Math.ceil,Nf=gi.ReactCurrentDispatcher,jx=gi.ReactCurrentOwner,Rr=gi.ReactCurrentBatchConfig,it=0,hn=null,tn=null,_n=0,ur=0,ml=Mo(0),an=0,qu=null,wa=0,Rm=0,Dx=0,vu=null,Jn=null,Ox=0,Wl=1/0,Hs=null,kf=!1,Uv=null,ro=null,gh=!1,Ki=null,Af=0,yu=0,$v=null,Bh=-1,zh=0;function $n(){return it&6?Qt():Bh!==-1?Bh:Bh=Qt()}function so(t){return t.mode&1?it&2&&_n!==0?_n&-_n:IO.transition!==null?(zh===0&&(zh=PS()),zh):(t=mt,t!==0||(t=window.event,t=t===void 0?16:FS(t.type)),t):1}function es(t,e,n,r){if(50<yu)throw yu=0,$v=null,Error(Z(185));md(t,n,r),(!(it&2)||t!==hn)&&(t===hn&&(!(it&2)&&(Rm|=n),an===4&&Vi(t,_n)),sr(t,r),n===1&&it===0&&!(e.mode&1)&&(Wl=Qt()+500,Im&&Lo()))}function sr(t,e){var n=t.callbackNode;ID(t,e);var r=ff(t,t===hn?_n:0);if(r===0)n!==null&&U0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&U0(n),e===1)t.tag===0?CO(P1.bind(null,t)):sC(P1.bind(null,t)),EO(function(){!(it&6)&&Lo()}),n=null;else{switch(jS(r)){case 1:n=ax;break;case 4:n=AS;break;case 16:n=hf;break;case 536870912:n=RS;break;default:n=hf}n=nI(n,QC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function QC(t,e){if(Bh=-1,zh=0,it&6)throw Error(Z(327));var n=t.callbackNode;if(wl()&&t.callbackNode!==n)return null;var r=ff(t,t===hn?_n:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rf(t,r);else{e=r;var s=it;it|=2;var i=XC();(hn!==t||_n!==e)&&(Hs=null,Wl=Qt()+500,fa(t,e));do try{GO();break}catch(l){YC(t,l)}while(!0);wx(),Nf.current=i,it=s,tn!==null?e=0:(hn=null,_n=0,e=an)}if(e!==0){if(e===2&&(s=mv(t),s!==0&&(r=s,e=Bv(t,s))),e===1)throw n=qu,fa(t,0),Vi(t,r),sr(t,Qt()),n;if(e===6)Vi(t,r);else{if(s=t.current.alternate,!(r&30)&&!HO(s)&&(e=Rf(t,r),e===2&&(i=mv(t),i!==0&&(r=i,e=Bv(t,i))),e===1))throw n=qu,fa(t,0),Vi(t,r),sr(t,Qt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Xo(t,Jn,Hs);break;case 3:if(Vi(t,r),(r&130023424)===r&&(e=Ox+500-Qt(),10<e)){if(ff(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){$n(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ev(Xo.bind(null,t,Jn,Hs),e);break}Xo(t,Jn,Hs);break;case 4:if(Vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Jr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WO(r/1960))-r,10<r){t.timeoutHandle=Ev(Xo.bind(null,t,Jn,Hs),r);break}Xo(t,Jn,Hs);break;case 5:Xo(t,Jn,Hs);break;default:throw Error(Z(329))}}}return sr(t,Qt()),t.callbackNode===n?QC.bind(null,t):null}function Bv(t,e){var n=vu;return t.current.memoizedState.isDehydrated&&(fa(t,e).flags|=256),t=Rf(t,e),t!==2&&(e=Jn,Jn=n,e!==null&&zv(e)),t}function zv(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function HO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ns(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vi(t,e){for(e&=~Dx,e&=~Rm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jr(e),r=1<<n;t[n]=-1,e&=~r}}function P1(t){if(it&6)throw Error(Z(327));wl();var e=ff(t,0);if(!(e&1))return sr(t,Qt()),null;var n=Rf(t,e);if(t.tag!==0&&n===2){var r=mv(t);r!==0&&(e=r,n=Bv(t,r))}if(n===1)throw n=qu,fa(t,0),Vi(t,e),sr(t,Qt()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xo(t,Jn,Hs),sr(t,Qt()),null}function Mx(t,e){var n=it;it|=1;try{return t(e)}finally{it=n,it===0&&(Wl=Qt()+500,Im&&Lo())}}function _a(t){Ki!==null&&Ki.tag===0&&!(it&6)&&wl();var e=it;it|=1;var n=Rr.transition,r=mt;try{if(Rr.transition=null,mt=1,t)return t()}finally{mt=r,Rr.transition=n,it=e,!(it&6)&&Lo()}}function Lx(){ur=ml.current,kt(ml)}function fa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_O(n)),tn!==null)for(n=tn.return;n!==null;){var r=n;switch(vx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yf();break;case 3:Bl(),kt(nr),kt(On),Cx();break;case 5:Sx(r);break;case 4:Bl();break;case 13:kt(Mt);break;case 19:kt(Mt);break;case 10:_x(r.type._context);break;case 22:case 23:Lx()}n=n.return}if(hn=t,tn=t=io(t.current,null),_n=ur=e,an=0,qu=null,Dx=Rm=wa=0,Jn=vu=null,na!==null){for(e=0;e<na.length;e++)if(n=na[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}na=null}return t}function YC(t,e){do{var n=tn;try{if(wx(),Fh.current=If,Cf){for(var r=Ft.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Cf=!1}if(xa=0,dn=on=Ft=null,pu=!1,zu=0,jx.current=null,n===null||n.return===null){an=1,qu=e,tn=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=_n,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=x1(o);if(g!==null){g.flags&=-257,w1(g,o,l,i,e),g.mode&1&&y1(i,u,e),e=g,c=u;var b=e.updateQueue;if(b===null){var E=new Set;E.add(c),e.updateQueue=E}else b.add(c);break e}else{if(!(e&1)){y1(i,u,e),Vx();break e}c=Error(Z(426))}}else if(Rt&&l.mode&1){var x=x1(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),w1(x,o,l,i,e),yx(zl(c,l));break e}}i=c=zl(c,l),an!==4&&(an=2),vu===null?vu=[i]:vu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=jC(i,c,e);h1(i,_);break e;case 1:l=c;var v=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ro===null||!ro.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=DC(i,l,e);h1(i,S);break e}}i=i.return}while(i!==null)}JC(n)}catch(k){e=k,tn===n&&n!==null&&(tn=n=n.return);continue}break}while(!0)}function XC(){var t=Nf.current;return Nf.current=If,t===null?If:t}function Vx(){(an===0||an===3||an===2)&&(an=4),hn===null||!(wa&268435455)&&!(Rm&268435455)||Vi(hn,_n)}function Rf(t,e){var n=it;it|=2;var r=XC();(hn!==t||_n!==e)&&(Hs=null,fa(t,e));do try{qO();break}catch(s){YC(t,s)}while(!0);if(wx(),it=n,Nf.current=r,tn!==null)throw Error(Z(261));return hn=null,_n=0,an}function qO(){for(;tn!==null;)ZC(tn)}function GO(){for(;tn!==null&&!yD();)ZC(tn)}function ZC(t){var e=tI(t.alternate,t,ur);t.memoizedProps=t.pendingProps,e===null?JC(t):tn=e,jx.current=null}function JC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UO(n,e),n!==null){n.flags&=32767,tn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{an=6,tn=null;return}}else if(n=FO(n,e,ur),n!==null){tn=n;return}if(e=e.sibling,e!==null){tn=e;return}tn=e=t}while(e!==null);an===0&&(an=5)}function Xo(t,e,n){var r=mt,s=Rr.transition;try{Rr.transition=null,mt=1,KO(t,e,n,r)}finally{Rr.transition=s,mt=r}return null}function KO(t,e,n,r){do wl();while(Ki!==null);if(it&6)throw Error(Z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ND(t,i),t===hn&&(tn=hn=null,_n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gh||(gh=!0,nI(hf,function(){return wl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Rr.transition,Rr.transition=null;var o=mt;mt=1;var l=it;it|=4,jx.current=null,BO(t,n),GC(n,t),mO(wv),mf=!!xv,wv=xv=null,t.current=n,zO(n),xD(),it=l,mt=o,Rr.transition=i}else t.current=n;if(gh&&(gh=!1,Ki=t,Af=s),i=t.pendingLanes,i===0&&(ro=null),ED(n.stateNode),sr(t,Qt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(kf)throw kf=!1,t=Uv,Uv=null,t;return Af&1&&t.tag!==0&&wl(),i=t.pendingLanes,i&1?t===$v?yu++:(yu=0,$v=t):yu=0,Lo(),null}function wl(){if(Ki!==null){var t=jS(Af),e=Rr.transition,n=mt;try{if(Rr.transition=null,mt=16>t?16:t,Ki===null)var r=!1;else{if(t=Ki,Ki=null,Af=0,it&6)throw Error(Z(331));var s=it;for(it|=4,pe=t.current;pe!==null;){var i=pe,o=i.child;if(pe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(pe=u;pe!==null;){var h=pe;switch(h.tag){case 0:case 11:case 15:gu(8,h,i)}var f=h.child;if(f!==null)f.return=h,pe=f;else for(;pe!==null;){h=pe;var m=h.sibling,g=h.return;if(WC(h),h===u){pe=null;break}if(m!==null){m.return=g,pe=m;break}pe=g}}}var b=i.alternate;if(b!==null){var E=b.child;if(E!==null){b.child=null;do{var x=E.sibling;E.sibling=null,E=x}while(E!==null)}}pe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,pe=o;else e:for(;pe!==null;){if(i=pe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gu(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,pe=_;break e}pe=i.return}}var v=t.current;for(pe=v;pe!==null;){o=pe;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,pe=y;else e:for(o=v;pe!==null;){if(l=pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Am(9,l)}}catch(k){qt(l,l.return,k)}if(l===o){pe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,pe=S;break e}pe=l.return}}if(it=s,Lo(),Ss&&typeof Ss.onPostCommitFiberRoot=="function")try{Ss.onPostCommitFiberRoot(Em,t)}catch{}r=!0}return r}finally{mt=n,Rr.transition=e}}return!1}function j1(t,e,n){e=zl(n,e),e=jC(t,e,1),t=no(t,e,1),e=$n(),t!==null&&(md(t,1,e),sr(t,e))}function qt(t,e,n){if(t.tag===3)j1(t,t,n);else for(;e!==null;){if(e.tag===3){j1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ro===null||!ro.has(r))){t=zl(n,t),t=DC(e,t,1),e=no(e,t,1),t=$n(),e!==null&&(md(e,1,t),sr(e,t));break}}e=e.return}}function QO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$n(),t.pingedLanes|=t.suspendedLanes&n,hn===t&&(_n&n)===n&&(an===4||an===3&&(_n&130023424)===_n&&500>Qt()-Ox?fa(t,0):Dx|=n),sr(t,e)}function eI(t,e){e===0&&(t.mode&1?(e=oh,oh<<=1,!(oh&130023424)&&(oh=4194304)):e=1);var n=$n();t=oi(t,e),t!==null&&(md(t,e,n),sr(t,n))}function YO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),eI(t,n)}function XO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),eI(t,n)}var tI;tI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nr.current)tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tr=!1,VO(t,e,n);tr=!!(t.flags&131072)}else tr=!1,Rt&&e.flags&1048576&&iC(e,_f,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$h(t,e),t=e.pendingProps;var s=Fl(e,On.current);xl(e,n),s=Nx(null,e,r,t,s,n);var i=kx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rr(r)?(i=!0,xf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bx(e),s.updater=km,e.stateNode=s,s._reactInternals=e,kv(e,r,t,n),e=Pv(null,e,r,!0,i,n)):(e.tag=0,Rt&&i&&gx(e),Vn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch($h(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=JO(r),t=Wr(r,t),s){case 0:e=Rv(null,e,r,t,n);break e;case 1:e=b1(null,e,r,t,n);break e;case 11:e=_1(null,e,r,t,n);break e;case 14:e=E1(null,e,r,Wr(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wr(r,s),Rv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wr(r,s),b1(t,e,r,s,n);case 3:e:{if(VC(e),t===null)throw Error(Z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,dC(t,e),Tf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zl(Error(Z(423)),e),e=T1(t,e,r,n,s);break e}else if(r!==s){s=zl(Error(Z(424)),e),e=T1(t,e,r,n,s);break e}else for(mr=to(e.stateNode.containerInfo.firstChild),gr=e,Rt=!0,Qr=null,n=cC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ul(),r===s){e=ai(t,e,n);break e}Vn(t,e,r,n)}e=e.child}return e;case 5:return hC(e),t===null&&Cv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_v(r,s)?o=null:i!==null&&_v(r,i)&&(e.flags|=32),LC(t,e),Vn(t,e,o,n),e.child;case 6:return t===null&&Cv(e),null;case 13:return FC(t,e,n);case 4:return Tx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$l(e,null,r,n):Vn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wr(r,s),_1(t,e,r,s,n);case 7:return Vn(t,e,e.pendingProps,n),e.child;case 8:return Vn(t,e,e.pendingProps.children,n),e.child;case 12:return Vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,bt(Ef,r._currentValue),r._currentValue=o,i!==null)if(ns(i.value,o)){if(i.children===s.children&&!nr.current){e=ai(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ei(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Iv(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Z(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Iv(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Vn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,xl(e,n),s=Pr(s),r=r(s),e.flags|=1,Vn(t,e,r,n),e.child;case 14:return r=e.type,s=Wr(r,e.pendingProps),s=Wr(r.type,s),E1(t,e,r,s,n);case 15:return OC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wr(r,s),$h(t,e),e.tag=1,rr(r)?(t=!0,xf(e)):t=!1,xl(e,n),PC(e,r,s),kv(e,r,s,n),Pv(null,e,r,!0,t,n);case 19:return UC(t,e,n);case 22:return MC(t,e,n)}throw Error(Z(156,e.tag))};function nI(t,e){return kS(t,e)}function ZO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(t,e,n,r){return new ZO(t,e,n,r)}function Fx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JO(t){if(typeof t=="function")return Fx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sx)return 11;if(t===ix)return 14}return 2}function io(t,e){var n=t.alternate;return n===null?(n=Ar(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Fx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case sl:return ma(n.children,s,i,e);case rx:o=8,s|=8;break;case Jg:return t=Ar(12,n,e,s|2),t.elementType=Jg,t.lanes=i,t;case ev:return t=Ar(13,n,e,s),t.elementType=ev,t.lanes=i,t;case tv:return t=Ar(19,n,e,s),t.elementType=tv,t.lanes=i,t;case hS:return Pm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uS:o=10;break e;case dS:o=9;break e;case sx:o=11;break e;case ix:o=14;break e;case Di:o=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Ar(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ma(t,e,n,r){return t=Ar(7,t,r,e),t.lanes=n,t}function Pm(t,e,n,r){return t=Ar(22,t,r,e),t.elementType=hS,t.lanes=n,t.stateNode={isHidden:!1},t}function yg(t,e,n){return t=Ar(6,t,null,e),t.lanes=n,t}function xg(t,e,n){return e=Ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eM(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jp(0),this.expirationTimes=Jp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ux(t,e,n,r,s,i,o,l,c){return t=new eM(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ar(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bx(i),t}function tM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rI(t){if(!t)return wo;t=t._reactInternals;e:{if(Da(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(rr(n))return rC(t,n,e)}return e}function sI(t,e,n,r,s,i,o,l,c){return t=Ux(n,r,!0,t,s,i,o,l,c),t.context=rI(null),n=t.current,r=$n(),s=so(n),i=ei(r,s),i.callback=e??null,no(n,i,s),t.current.lanes=s,md(t,s,r),sr(t,r),t}function jm(t,e,n,r){var s=e.current,i=$n(),o=so(s);return n=rI(n),e.context===null?e.context=n:e.pendingContext=n,e=ei(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=no(s,e,o),t!==null&&(es(t,s,o,i),Vh(t,s,o)),o}function Pf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function D1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $x(t,e){D1(t,e),(t=t.alternate)&&D1(t,e)}function nM(){return null}var iI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bx(t){this._internalRoot=t}Dm.prototype.render=Bx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));jm(t,e,null,null)};Dm.prototype.unmount=Bx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_a(function(){jm(null,t,null,null)}),e[ii]=null}};function Dm(t){this._internalRoot=t}Dm.prototype.unstable_scheduleHydration=function(t){if(t){var e=MS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Li.length&&e!==0&&e<Li[n].priority;n++);Li.splice(n,0,t),n===0&&VS(t)}};function zx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function O1(){}function rM(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Pf(o);i.call(u)}}var o=sI(e,r,t,0,null,!1,!1,"",O1);return t._reactRootContainer=o,t[ii]=o.current,Vu(t.nodeType===8?t.parentNode:t),_a(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Pf(c);l.call(u)}}var c=Ux(t,0,!1,null,null,!1,!1,"",O1);return t._reactRootContainer=c,t[ii]=c.current,Vu(t.nodeType===8?t.parentNode:t),_a(function(){jm(e,c,n,r)}),c}function Mm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Pf(o);l.call(c)}}jm(e,o,t,s)}else o=rM(n,e,t,s,r);return Pf(o)}DS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zc(e.pendingLanes);n!==0&&(lx(e,n|1),sr(e,Qt()),!(it&6)&&(Wl=Qt()+500,Lo()))}break;case 13:_a(function(){var r=oi(t,1);if(r!==null){var s=$n();es(r,t,1,s)}}),$x(t,1)}};cx=function(t){if(t.tag===13){var e=oi(t,134217728);if(e!==null){var n=$n();es(e,t,134217728,n)}$x(t,134217728)}};OS=function(t){if(t.tag===13){var e=so(t),n=oi(t,e);if(n!==null){var r=$n();es(n,t,e,r)}$x(t,e)}};MS=function(){return mt};LS=function(t,e){var n=mt;try{return mt=t,e()}finally{mt=n}};dv=function(t,e,n){switch(e){case"input":if(sv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Cm(r);if(!s)throw Error(Z(90));mS(r),sv(r,s)}}}break;case"textarea":gS(t,n);break;case"select":e=n.value,e!=null&&pl(t,!!n.multiple,e,!1)}};bS=Mx;TS=_a;var sM={usingClientEntryPoint:!1,Events:[gd,ll,Cm,_S,ES,Mx]},Wc={findFiberByHostInstance:ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iM={bundleType:Wc.bundleType,version:Wc.version,rendererPackageName:Wc.rendererPackageName,rendererConfig:Wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IS(t),t===null?null:t.stateNode},findFiberByHostInstance:Wc.findFiberByHostInstance||nM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{Em=vh.inject(iM),Ss=vh}catch{}}_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sM;_r.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zx(e))throw Error(Z(200));return tM(t,e,null,n)};_r.createRoot=function(t,e){if(!zx(t))throw Error(Z(299));var n=!1,r="",s=iI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ux(t,1,!1,null,null,n,!1,r,s),t[ii]=e.current,Vu(t.nodeType===8?t.parentNode:t),new Bx(e)};_r.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=IS(e),t=t===null?null:t.stateNode,t};_r.flushSync=function(t){return _a(t)};_r.hydrate=function(t,e,n){if(!Om(e))throw Error(Z(200));return Mm(null,t,e,!0,n)};_r.hydrateRoot=function(t,e,n){if(!zx(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=iI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sI(e,null,t,1,n??null,s,!1,i,o),t[ii]=e.current,Vu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Dm(e)};_r.render=function(t,e,n){if(!Om(e))throw Error(Z(200));return Mm(null,t,e,!1,n)};_r.unmountComponentAtNode=function(t){if(!Om(t))throw Error(Z(40));return t._reactRootContainer?(_a(function(){Mm(null,null,t,!1,function(){t._reactRootContainer=null,t[ii]=null})}),!0):!1};_r.unstable_batchedUpdates=Mx;_r.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Om(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Mm(t,e,n,!1,r)};_r.version="18.3.1-next-f1338f8080-20240426";function oI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oI)}catch(t){console.error(t)}}oI(),oS.exports=_r;var Oa=oS.exports;const aI=KT(Oa);var lI,M1=Oa;lI=M1.createRoot,M1.hydrateRoot;const oM=1,aM=1e6;let wg=0;function lM(){return wg=(wg+1)%Number.MAX_SAFE_INTEGER,wg.toString()}const _g=new Map,L1=t=>{if(_g.has(t))return;const e=setTimeout(()=>{_g.delete(t),xu({type:"REMOVE_TOAST",toastId:t})},aM);_g.set(t,e)},cM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,oM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?L1(n):t.toasts.forEach(r=>{L1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Hh=[];let qh={toasts:[]};function xu(t){qh=cM(qh,t),Hh.forEach(e=>{e(qh)})}function uM({...t}){const e=lM(),n=s=>xu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>xu({type:"DISMISS_TOAST",toastId:e});return xu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function br(){const[t,e]=p.useState(qh);return p.useEffect(()=>(Hh.push(e),()=>{const n=Hh.indexOf(e);n>-1&&Hh.splice(n,1)}),[t]),{...t,toast:uM,dismiss:n=>xu({type:"DISMISS_TOAST",toastId:n})}}function be(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function V1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cI(...t){return e=>{let n=!1;const r=t.map(s=>{const i=V1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():V1(t[s],null)}}}}function yt(...t){return p.useCallback(cI(...t),t)}function dM(t,e){const n=p.createContext(e),r=i=>{const{children:o,...l}=i,c=p.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function vi(t,e=[]){let n=[];function r(i,o){const l=p.createContext(o),c=n.length;n=[...n,o];const u=f=>{var _;const{scope:m,children:g,...b}=f,E=((_=m==null?void 0:m[t])==null?void 0:_[c])||l,x=p.useMemo(()=>b,Object.values(b));return a.jsx(E.Provider,{value:x,children:g})};u.displayName=i+"Provider";function h(f,m){var E;const g=((E=m==null?void 0:m[t])==null?void 0:E[c])||l,b=p.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,hM(s,...e)]}function hM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Hl(t){const e=fM(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(pM);if(c){const u=c.props.children,h=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var dc=Hl("Slot");function fM(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=vM(s),l=gM(i,s.props);return s.type!==p.Fragment&&(l.ref=r?cI(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var uI=Symbol("radix.slottable");function mM(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=uI,e}function pM(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===uI}function gM(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function vM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Wx(t){const e=t+"CollectionProvider",[n,r]=vi(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:x,children:_}=E,v=H.useRef(null),y=H.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:y,collectionRef:v,children:_})};o.displayName=e;const l=t+"CollectionSlot",c=Hl(l),u=H.forwardRef((E,x)=>{const{scope:_,children:v}=E,y=i(l,_),S=yt(x,y.collectionRef);return a.jsx(c,{ref:S,children:v})});u.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=Hl(h),g=H.forwardRef((E,x)=>{const{scope:_,children:v,...y}=E,S=H.useRef(null),k=yt(x,S),D=i(h,_);return H.useEffect(()=>(D.itemMap.set(S,{ref:S,...y}),()=>void D.itemMap.delete(S))),a.jsx(m,{[f]:"",ref:k,children:v})});g.displayName=h;function b(E){const x=i(t+"CollectionConsumer",E);return H.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((D,I)=>y.indexOf(D.ref.current)-y.indexOf(I.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},b,r]}var yM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=yM.reduce((t,e)=>{const n=Hl(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function dI(t,e){t&&Oa.flushSync(()=>t.dispatchEvent(e))}function Dr(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function xM(t,e=globalThis==null?void 0:globalThis.document){const n=Dr(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var wM="DismissableLayer",Wv="dismissableLayer.update",_M="dismissableLayer.pointerDownOutside",EM="dismissableLayer.focusOutside",F1,hI=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yd=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,u=p.useContext(hI),[h,f]=p.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),b=yt(e,I=>f(I)),E=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=E.indexOf(x),v=h?E.indexOf(h):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,S=v>=_,k=TM(I=>{const C=I.target,N=[...u.branches].some(R=>R.contains(C));!S||N||(s==null||s(I),o==null||o(I),I.defaultPrevented||l==null||l())},m),D=SM(I=>{const C=I.target;[...u.branches].some(R=>R.contains(C))||(i==null||i(I),o==null||o(I),I.defaultPrevented||l==null||l())},m);return xM(I=>{v===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},m),p.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(F1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),U1(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=F1)}},[h,m,n,u]),p.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),U1())},[h,u]),p.useEffect(()=>{const I=()=>g({});return document.addEventListener(Wv,I),()=>document.removeEventListener(Wv,I)},[]),a.jsx(Ve.div,{...c,ref:b,style:{pointerEvents:y?S?"auto":"none":void 0,...t.style},onFocusCapture:be(t.onFocusCapture,D.onFocusCapture),onBlurCapture:be(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:be(t.onPointerDownCapture,k.onPointerDownCapture)})});yd.displayName=wM;var bM="DismissableLayerBranch",fI=p.forwardRef((t,e)=>{const n=p.useContext(hI),r=p.useRef(null),s=yt(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(Ve.div,{...t,ref:s})});fI.displayName=bM;function TM(t,e=globalThis==null?void 0:globalThis.document){const n=Dr(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){mI(_M,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function SM(t,e=globalThis==null?void 0:globalThis.document){const n=Dr(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&mI(EM,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function U1(){const t=new CustomEvent(Wv);document.dispatchEvent(t)}function mI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?dI(s,i):s.dispatchEvent(i)}var CM=yd,IM=fI,bn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},NM="Portal",Lm=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=p.useState(!1);bn(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?aI.createPortal(a.jsx(Ve.div,{...r,ref:e}),o):null});Lm.displayName=NM;function kM(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Vo=t=>{const{present:e,children:n}=t,r=AM(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=yt(r.ref,RM(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};Vo.displayName="Presence";function AM(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=kM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=yh(r.current);i.current=l==="mounted"?u:"none"},[l]),bn(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,g=yh(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),bn(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=g=>{const E=yh(r.current).includes(g.animationName);if(g.target===e&&E&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=g=>{g.target===e&&(i.current=yh(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function yh(t){return(t==null?void 0:t.animationName)||"none"}function RM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var PM=Jy[" useInsertionEffect ".trim().toString()]||bn;function _o({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=jM({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=p.useRef(t!==void 0);p.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=p.useCallback(h=>{var f;if(l){const m=DM(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[l,t,i,o]);return[c,u]}function jM({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return PM(()=>{i.current=e},[e]),p.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function DM(t){return typeof t=="function"}var pI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OM="VisuallyHidden",Vm=p.forwardRef((t,e)=>a.jsx(Ve.span,{...t,ref:e,style:{...pI,...t.style}}));Vm.displayName=OM;var MM=Vm,Hx="ToastProvider",[qx,LM,VM]=Wx("Toast"),[gI,mG]=vi("Toast",[VM]),[FM,Fm]=gI(Hx),vI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,c]=p.useState(null),[u,h]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hx}\`. Expected non-empty \`string\`.`),a.jsx(qx.Provider,{scope:e,children:a.jsx(FM,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>h(g=>g+1),[]),onToastRemove:p.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};vI.displayName=Hx;var yI="ToastViewport",UM=["F8"],Hv="toast.viewportPause",qv="toast.viewportResume",xI=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=UM,label:s="Notifications ({hotkey})",...i}=t,o=Fm(yI,n),l=LM(n),c=p.useRef(null),u=p.useRef(null),h=p.useRef(null),f=p.useRef(null),m=yt(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;p.useEffect(()=>{const x=_=>{var y;r.length!==0&&r.every(S=>_[S]||_.code===S)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),p.useEffect(()=>{const x=c.current,_=f.current;if(b&&x&&_){const v=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(Hv);_.dispatchEvent(D),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(qv);_.dispatchEvent(D),o.isClosePausedRef.current=!1}},S=D=>{!x.contains(D.relatedTarget)&&y()},k=()=>{x.contains(document.activeElement)||y()};return x.addEventListener("focusin",v),x.addEventListener("focusout",S),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",k),window.addEventListener("blur",v),window.addEventListener("focus",y),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",k),window.removeEventListener("blur",v),window.removeEventListener("focus",y)}}},[b,o.isClosePausedRef]);const E=p.useCallback(({tabbingDirection:x})=>{const v=l().map(y=>{const S=y.ref.current,k=[S,...JM(S)];return x==="forwards"?k:k.reverse()});return(x==="forwards"?v.reverse():v).flat()},[l]);return p.useEffect(()=>{const x=f.current;if(x){const _=v=>{var k,D,I;const y=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!y){const C=document.activeElement,N=v.shiftKey;if(v.target===x&&N){(k=u.current)==null||k.focus();return}const O=E({tabbingDirection:N?"backwards":"forwards"}),A=O.findIndex(W=>W===C);Eg(O.slice(A+1))?v.preventDefault():N?(D=u.current)==null||D.focus():(I=h.current)==null||I.focus()}};return x.addEventListener("keydown",_),()=>x.removeEventListener("keydown",_)}},[l,E]),a.jsxs(IM,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&a.jsx(Gv,{ref:u,onFocusFromOutsideViewport:()=>{const x=E({tabbingDirection:"forwards"});Eg(x)}}),a.jsx(qx.Slot,{scope:n,children:a.jsx(Ve.ol,{tabIndex:-1,...i,ref:m})}),b&&a.jsx(Gv,{ref:h,onFocusFromOutsideViewport:()=>{const x=E({tabbingDirection:"backwards"});Eg(x)}})]})});xI.displayName=yI;var wI="ToastFocusProxy",Gv=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Fm(wI,n);return a.jsx(Vm,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});Gv.displayName=wI;var xd="Toast",$M="toast.swipeStart",BM="toast.swipeMove",zM="toast.swipeCancel",WM="toast.swipeEnd",_I=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l,c]=_o({prop:r,defaultProp:s??!0,onChange:i,caller:xd});return a.jsx(Vo,{present:n||l,children:a.jsx(GM,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Dr(t.onPause),onResume:Dr(t.onResume),onSwipeStart:be(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:be(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:be(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:be(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});_I.displayName=xd;var[HM,qM]=gI(xd,{onClose(){}}),GM=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...b}=t,E=Fm(xd,n),[x,_]=p.useState(null),v=yt(e,W=>_(W)),y=p.useRef(null),S=p.useRef(null),k=s||E.duration,D=p.useRef(0),I=p.useRef(k),C=p.useRef(0),{onToastAdd:N,onToastRemove:R}=E,P=Dr(()=>{var oe;(x==null?void 0:x.contains(document.activeElement))&&((oe=E.viewport)==null||oe.focus()),o()}),O=p.useCallback(W=>{!W||W===1/0||(window.clearTimeout(C.current),D.current=new Date().getTime(),C.current=window.setTimeout(P,W))},[P]);p.useEffect(()=>{const W=E.viewport;if(W){const oe=()=>{O(I.current),u==null||u()},Q=()=>{const ee=new Date().getTime()-D.current;I.current=I.current-ee,window.clearTimeout(C.current),c==null||c()};return W.addEventListener(Hv,Q),W.addEventListener(qv,oe),()=>{W.removeEventListener(Hv,Q),W.removeEventListener(qv,oe)}}},[E.viewport,k,c,u,O]),p.useEffect(()=>{i&&!E.isClosePausedRef.current&&O(k)},[i,k,E.isClosePausedRef,O]),p.useEffect(()=>(N(),()=>R()),[N,R]);const A=p.useMemo(()=>x?NI(x):null,[x]);return E.viewport?a.jsxs(a.Fragment,{children:[A&&a.jsx(KM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),a.jsx(HM,{scope:n,onClose:P,children:Oa.createPortal(a.jsx(qx.ItemSlot,{scope:n,children:a.jsx(CM,{asChild:!0,onEscapeKeyDown:be(l,()=>{E.isFocusedToastEscapeKeyDownRef.current||P(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":E.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:be(t.onKeyDown,W=>{W.key==="Escape"&&(l==null||l(W.nativeEvent),W.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:be(t.onPointerDown,W=>{W.button===0&&(y.current={x:W.clientX,y:W.clientY})}),onPointerMove:be(t.onPointerMove,W=>{if(!y.current)return;const oe=W.clientX-y.current.x,Q=W.clientY-y.current.y,ee=!!S.current,U=["left","right"].includes(E.swipeDirection),$=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,re=U?$(0,oe):0,ge=U?0:$(0,Q),le=W.pointerType==="touch"?10:2,ue={x:re,y:ge},we={originalEvent:W,delta:ue};ee?(S.current=ue,xh(BM,f,we,{discrete:!1})):$1(ue,E.swipeDirection,le)?(S.current=ue,xh($M,h,we,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(oe)>le||Math.abs(Q)>le)&&(y.current=null)}),onPointerUp:be(t.onPointerUp,W=>{const oe=S.current,Q=W.target;if(Q.hasPointerCapture(W.pointerId)&&Q.releasePointerCapture(W.pointerId),S.current=null,y.current=null,oe){const ee=W.currentTarget,U={originalEvent:W,delta:oe};$1(oe,E.swipeDirection,E.swipeThreshold)?xh(WM,g,U,{discrete:!0}):xh(zM,m,U,{discrete:!0}),ee.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),KM=t=>{const{__scopeToast:e,children:n,...r}=t,s=Fm(xd,e),[i,o]=p.useState(!1),[l,c]=p.useState(!1);return XM(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Lm,{asChild:!0,children:a.jsx(Vm,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},QM="ToastTitle",EI=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Ve.div,{...r,ref:e})});EI.displayName=QM;var YM="ToastDescription",bI=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Ve.div,{...r,ref:e})});bI.displayName=YM;var TI="ToastAction",SI=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(II,{altText:n,asChild:!0,children:a.jsx(Gx,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${TI}\`. Expected non-empty \`string\`.`),null)});SI.displayName=TI;var CI="ToastClose",Gx=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=qM(CI,n);return a.jsx(II,{asChild:!0,children:a.jsx(Ve.button,{type:"button",...r,ref:e,onClick:be(t.onClick,s.onClose)})})});Gx.displayName=CI;var II=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function NI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),ZM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...NI(r))}}),e}function xh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?dI(s,i):s.dispatchEvent(i)}var $1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function XM(t=()=>{}){const e=Dr(t);bn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function ZM(t){return t.nodeType===t.ELEMENT_NODE}function JM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Eg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var e4=vI,kI=xI,AI=_I,RI=EI,PI=bI,jI=SI,DI=Gx;function OI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=OI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function MI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=OI(t))&&(r&&(r+=" "),r+=e);return r}const B1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,z1=MI,Ma=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return z1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const m=B1(h)||B1(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...g}=h;return Object.entries(g).every(b=>{let[E,x]=b;return Array.isArray(x)?x.includes({...i,...l}[E]):{...i,...l}[E]===x})?[...u,f,m]:u},[]);return z1(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...n4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:LI("lucide",s),...l},[...o.map(([u,h])=>p.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(r4,{ref:i,iconNode:e,className:LI(`lucide-${t4(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=He("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=He("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=He("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=He("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=He("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=He("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=He("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=He("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=He("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=He("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=He("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=He("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=He("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=He("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=He("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=He("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=He("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=He("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=He("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=He("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=He("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=He("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=He("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=He("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=He("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=He("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=He("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=He("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=He("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=He("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=He("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=He("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=He("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ew="-",b4=t=>{const e=S4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(ew);return l[0]===""&&l.length!==1&&l.shift(),zI(l,e)||T4(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},zI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?zI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ew);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},H1=/^\[(.+)\]$/,T4=t=>{if(H1.test(t)){const e=H1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},S4=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return I4(Object.entries(t.classGroups),n).forEach(([i,o])=>{Kv(o,r,i,e)}),r},Kv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:q1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(C4(s)){Kv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Kv(o,q1(e,i),n,r)})})},q1=(t,e)=>{let n=t;return e.split(ew).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},C4=t=>t.isThemeGetter,I4=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,N4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},WI="!",k4=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let u=0,h=0,f;for(let x=0;x<l.length;x++){let _=l[x];if(u===0){if(_===s&&(r||l.slice(x,x+i)===e)){c.push(l.slice(h,x)),h=x+i;continue}if(_==="/"){f=x;continue}}_==="["?u++:_==="]"&&u--}const m=c.length===0?l:l.substring(h),g=m.startsWith(WI),b=g?m.substring(1):m,E=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:E}};return n?l=>n({className:l,parseClassName:o}):o},A4=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},R4=t=>({cache:N4(t.cacheSize),parseClassName:k4(t),...b4(t)}),P4=/\s+/,j4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(P4);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let b=!!g,E=r(b?m.substring(0,g):m);if(!E){if(!b){l=u+(l.length>0?" "+l:l);continue}if(E=r(m),!E){l=u+(l.length>0?" "+l:l);continue}b=!1}const x=A4(h).join(":"),_=f?x+WI:x,v=_+E;if(i.includes(v))continue;i.push(v);const y=s(E,b);for(let S=0;S<y.length;++S){const k=y[S];i.push(_+k)}l=u+(l.length>0?" "+l:l)}return l};function D4(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=HI(e))&&(r&&(r+=" "),r+=n);return r}const HI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=HI(t[r]))&&(n&&(n+=" "),n+=e);return n};function O4(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((h,f)=>f(h),t());return n=R4(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=j4(c,n);return s(c,h),h}return function(){return i(D4.apply(null,arguments))}}const Ct=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},qI=/^\[(?:([a-z-]+):)?(.+)\]$/i,M4=/^\d+\/\d+$/,L4=new Set(["px","full","screen"]),V4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,F4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,U4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,B4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bs=t=>_l(t)||L4.has(t)||M4.test(t),ki=t=>hc(t,"length",Y4),_l=t=>!!t&&!Number.isNaN(Number(t)),bg=t=>hc(t,"number",_l),Hc=t=>!!t&&Number.isInteger(Number(t)),z4=t=>t.endsWith("%")&&_l(t.slice(0,-1)),$e=t=>qI.test(t),Ai=t=>V4.test(t),W4=new Set(["length","size","percentage"]),H4=t=>hc(t,W4,GI),q4=t=>hc(t,"position",GI),G4=new Set(["image","url"]),K4=t=>hc(t,G4,Z4),Q4=t=>hc(t,"",X4),qc=()=>!0,hc=(t,e,n)=>{const r=qI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Y4=t=>F4.test(t)&&!U4.test(t),GI=()=>!1,X4=t=>$4.test(t),Z4=t=>B4.test(t),J4=()=>{const t=Ct("colors"),e=Ct("spacing"),n=Ct("blur"),r=Ct("brightness"),s=Ct("borderColor"),i=Ct("borderRadius"),o=Ct("borderSpacing"),l=Ct("borderWidth"),c=Ct("contrast"),u=Ct("grayscale"),h=Ct("hueRotate"),f=Ct("invert"),m=Ct("gap"),g=Ct("gradientColorStops"),b=Ct("gradientColorStopPositions"),E=Ct("inset"),x=Ct("margin"),_=Ct("opacity"),v=Ct("padding"),y=Ct("saturate"),S=Ct("scale"),k=Ct("sepia"),D=Ct("skew"),I=Ct("space"),C=Ct("translate"),N=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",$e,e],O=()=>[$e,e],A=()=>["",Bs,ki],W=()=>["auto",_l,$e],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",$e],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[_l,$e];return{cacheSize:500,separator:":",theme:{colors:[qc],spacing:[Bs,ki],blur:["none","",Ai,$e],brightness:ge(),borderColor:[t],borderRadius:["none","","full",Ai,$e],borderSpacing:O(),borderWidth:A(),contrast:ge(),grayscale:$(),hueRotate:ge(),invert:$(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[z4,ki],inset:P(),margin:P(),opacity:ge(),padding:O(),saturate:ge(),scale:ge(),sepia:$(),skew:ge(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[Ai]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),$e]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hc,$e]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Hc,$e]}],"grid-cols":[{"grid-cols":[qc]}],"col-start-end":[{col:["auto",{span:["full",Hc,$e]},$e]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[qc]}],"row-start-end":[{row:["auto",{span:[Hc,$e]},$e]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,e]}],"min-w":[{"min-w":[$e,e,"min","max","fit"]}],"max-w":[{"max-w":[$e,e,"none","full","min","max","fit","prose",{screen:[Ai]},Ai]}],h:[{h:[$e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ai,ki]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bg]}],"font-family":[{font:[qc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",_l,bg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bs,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bs,ki]}],"underline-offset":[{"underline-offset":["auto",Bs,$e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),q4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",H4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},K4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Bs,$e]}],"outline-w":[{outline:[Bs,ki]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Bs,ki]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ai,Q4]}],"shadow-color":[{shadow:[qc]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ai,$e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Hc,$e]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Bs,ki,bg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},eL=O4(J4);function de(...t){return eL(MI(t))}const tL=e4,KI=p.forwardRef(({className:t,...e},n)=>a.jsx(kI,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));KI.displayName=kI.displayName;const nL=Ma("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),QI=p.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(AI,{ref:r,className:de(nL({variant:e}),t),...n}));QI.displayName=AI.displayName;const rL=p.forwardRef(({className:t,...e},n)=>a.jsx(jI,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));rL.displayName=jI.displayName;const YI=p.forwardRef(({className:t,...e},n)=>a.jsx(DI,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Um,{className:"h-4 w-4"})}));YI.displayName=DI.displayName;const XI=p.forwardRef(({className:t,...e},n)=>a.jsx(RI,{ref:n,className:de("text-sm font-semibold",t),...e}));XI.displayName=RI.displayName;const ZI=p.forwardRef(({className:t,...e},n)=>a.jsx(PI,{ref:n,className:de("text-sm opacity-90",t),...e}));ZI.displayName=PI.displayName;function sL(){const{toasts:t}=br();return a.jsxs(tL,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return a.jsxs(QI,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(XI,{children:n}),r&&a.jsx(ZI,{children:r})]}),s,a.jsx(YI,{})]},e)}),a.jsx(KI,{})]})}var G1=["light","dark"],iL="(prefers-color-scheme: dark)",oL=p.createContext(void 0),aL={setTheme:t=>{},themes:[]},lL=()=>{var t;return(t=p.useContext(oL))!=null?t:aL};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?G1.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(b,E=!1,x=!0)=>{let _=o?o[b]:b,v=E?b+"|| ''":`'${_}'`,y="";return s&&x&&!E&&G1.includes(b)&&(y+=`d.style.colorScheme = '${b}';`),n==="class"?E||_?y+=`c.add(${v})`:y+="null":_&&(y+=`d[s](n,${v})`),y},g=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${iL}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var cL=t=>{switch(t){case"success":return hL;case"info":return mL;case"warning":return fL;case"error":return pL;default:return null}},uL=Array(12).fill(0),dL=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},uL.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),hL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),fL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vL=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Qv=1,yL=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Qv++,o=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,l=s.then(async u=>{if(o=["resolve",u],H.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(wL(u)&&!u.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,h)=>l.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Qv++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Xn=new yL,xL=(t,e)=>{let n=(e==null?void 0:e.id)||Qv++;return Xn.addToast({title:t,...e,id:n}),n},wL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",_L=xL,EL=()=>Xn.toasts,bL=()=>Xn.getActiveToasts();Object.assign(_L,{success:Xn.success,info:Xn.info,warning:Xn.warning,error:Xn.error,custom:Xn.custom,message:Xn.message,promise:Xn.promise,dismiss:Xn.dismiss,loading:Xn.loading},{getHistory:EL,getToasts:bL});function TL(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}TL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function wh(t){return t.label!==void 0}var SL=3,CL="32px",IL="16px",K1=4e3,NL=356,kL=14,AL=20,RL=200;function Br(...t){return t.filter(Boolean).join(" ")}function PL(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var jL=t=>{var e,n,r,s,i,o,l,c,u,h,f;let{invert:m,toast:g,unstyled:b,interacting:E,setHeights:x,visibleToasts:_,heights:v,index:y,toasts:S,expanded:k,removeToast:D,defaultRichColors:I,closeButton:C,style:N,cancelButtonStyle:R,actionButtonStyle:P,className:O="",descriptionClassName:A="",duration:W,position:oe,gap:Q,loadingIcon:ee,expandByDefault:U,classNames:$,icons:re,closeButtonAriaLabel:ge="Close toast",pauseWhenPageIsHidden:le}=t,[ue,we]=H.useState(null),[Fe,dt]=H.useState(null),[se,ze]=H.useState(!1),[at,Ae]=H.useState(!1),[Ie,Re]=H.useState(!1),[_t,me]=H.useState(!1),[L,Ee]=H.useState(!1),[Ne,Tt]=H.useState(0),[Qe,M]=H.useState(0),F=H.useRef(g.duration||W||K1),B=H.useRef(null),te=H.useRef(null),J=y===0,Y=y+1<=_,X=g.type,ye=g.dismissible!==!1,Ye=g.className||"",Zt=g.descriptionClassName||"",qn=H.useMemo(()=>v.findIndex(ke=>ke.toastId===g.id)||0,[v,g.id]),Gn=H.useMemo(()=>{var ke;return(ke=g.closeButton)!=null?ke:C},[g.closeButton,C]),Tr=H.useMemo(()=>g.duration||W||K1,[g.duration,W]),cn=H.useRef(0),fn=H.useRef(0),us=H.useRef(0),Fr=H.useRef(null),[Cc,Ti]=oe.split("-"),Ic=H.useMemo(()=>v.reduce((ke,st,xt)=>xt>=qn?ke:ke+st.height,0),[v,qn]),Nc=vL(),Ho=g.invert||m,qo=X==="loading";fn.current=H.useMemo(()=>qn*Q+Ic,[qn,Ic]),H.useEffect(()=>{F.current=Tr},[Tr]),H.useEffect(()=>{ze(!0)},[]),H.useEffect(()=>{let ke=te.current;if(ke){let st=ke.getBoundingClientRect().height;return M(st),x(xt=>[{toastId:g.id,height:st,position:g.position},...xt]),()=>x(xt=>xt.filter(mn=>mn.toastId!==g.id))}},[x,g.id]),H.useLayoutEffect(()=>{if(!se)return;let ke=te.current,st=ke.style.height;ke.style.height="auto";let xt=ke.getBoundingClientRect().height;ke.style.height=st,M(xt),x(mn=>mn.find(Kn=>Kn.toastId===g.id)?mn.map(Kn=>Kn.toastId===g.id?{...Kn,height:xt}:Kn):[{toastId:g.id,height:xt,position:g.position},...mn])},[se,g.title,g.description,x,g.id]);let Sr=H.useCallback(()=>{Ae(!0),Tt(fn.current),x(ke=>ke.filter(st=>st.toastId!==g.id)),setTimeout(()=>{D(g)},RL)},[g,D,x,fn]);H.useEffect(()=>{if(g.promise&&X==="loading"||g.duration===1/0||g.type==="loading")return;let ke;return k||E||le&&Nc?(()=>{if(us.current<cn.current){let st=new Date().getTime()-cn.current;F.current=F.current-st}us.current=new Date().getTime()})():F.current!==1/0&&(cn.current=new Date().getTime(),ke=setTimeout(()=>{var st;(st=g.onAutoClose)==null||st.call(g,g),Sr()},F.current)),()=>clearTimeout(ke)},[k,E,g,X,le,Nc,Sr]),H.useEffect(()=>{g.delete&&Sr()},[Sr,g.delete]);function Fs(){var ke,st,xt;return re!=null&&re.loading?H.createElement("div",{className:Br($==null?void 0:$.loader,(ke=g==null?void 0:g.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":X==="loading"},re.loading):ee?H.createElement("div",{className:Br($==null?void 0:$.loader,(st=g==null?void 0:g.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":X==="loading"},ee):H.createElement(dL,{className:Br($==null?void 0:$.loader,(xt=g==null?void 0:g.classNames)==null?void 0:xt.loader),visible:X==="loading"})}return H.createElement("li",{tabIndex:0,ref:te,className:Br(O,Ye,$==null?void 0:$.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[X],(n=g==null?void 0:g.classNames)==null?void 0:n[X]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:I,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":se,"data-promise":!!g.promise,"data-swiped":L,"data-removed":at,"data-visible":Y,"data-y-position":Cc,"data-x-position":Ti,"data-index":y,"data-front":J,"data-swiping":Ie,"data-dismissible":ye,"data-type":X,"data-invert":Ho,"data-swipe-out":_t,"data-swipe-direction":Fe,"data-expanded":!!(k||U&&se),style:{"--index":y,"--toasts-before":y,"--z-index":S.length-y,"--offset":`${at?Ne:fn.current}px`,"--initial-height":U?"auto":`${Qe}px`,...N,...g.style},onDragEnd:()=>{Re(!1),we(null),Fr.current=null},onPointerDown:ke=>{qo||!ye||(B.current=new Date,Tt(fn.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(Re(!0),Fr.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,st,xt,mn;if(_t||!ye)return;Fr.current=null;let Kn=Number(((ke=te.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),At=Number(((st=te.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ds=new Date().getTime()-((xt=B.current)==null?void 0:xt.getTime()),pn=ue==="x"?Kn:At,Qn=Math.abs(pn)/ds;if(Math.abs(pn)>=AL||Qn>.11){Tt(fn.current),(mn=g.onDismiss)==null||mn.call(g,g),dt(ue==="x"?Kn>0?"right":"left":At>0?"down":"up"),Sr(),me(!0),Ee(!1);return}Re(!1),we(null)},onPointerMove:ke=>{var st,xt,mn,Kn;if(!Fr.current||!ye||((st=window.getSelection())==null?void 0:st.toString().length)>0)return;let At=ke.clientY-Fr.current.y,ds=ke.clientX-Fr.current.x,pn=(xt=t.swipeDirections)!=null?xt:PL(oe);!ue&&(Math.abs(ds)>1||Math.abs(At)>1)&&we(Math.abs(ds)>Math.abs(At)?"x":"y");let Qn={x:0,y:0};ue==="y"?(pn.includes("top")||pn.includes("bottom"))&&(pn.includes("top")&&At<0||pn.includes("bottom")&&At>0)&&(Qn.y=At):ue==="x"&&(pn.includes("left")||pn.includes("right"))&&(pn.includes("left")&&ds<0||pn.includes("right")&&ds>0)&&(Qn.x=ds),(Math.abs(Qn.x)>0||Math.abs(Qn.y)>0)&&Ee(!0),(mn=te.current)==null||mn.style.setProperty("--swipe-amount-x",`${Qn.x}px`),(Kn=te.current)==null||Kn.style.setProperty("--swipe-amount-y",`${Qn.y}px`)}},Gn&&!g.jsx?H.createElement("button",{"aria-label":ge,"data-disabled":qo,"data-close-button":!0,onClick:qo||!ye?()=>{}:()=>{var ke;Sr(),(ke=g.onDismiss)==null||ke.call(g,g)},className:Br($==null?void 0:$.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=re==null?void 0:re.close)!=null?i:gL):null,g.jsx||p.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:H.createElement(H.Fragment,null,X||g.icon||g.promise?H.createElement("div",{"data-icon":"",className:Br($==null?void 0:$.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Fs():null,g.type!=="loading"?g.icon||(re==null?void 0:re[X])||cL(X):null):null,H.createElement("div",{"data-content":"",className:Br($==null?void 0:$.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},H.createElement("div",{"data-title":"",className:Br($==null?void 0:$.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?H.createElement("div",{"data-description":"",className:Br(A,Zt,$==null?void 0:$.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),p.isValidElement(g.cancel)?g.cancel:g.cancel&&wh(g.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||R,onClick:ke=>{var st,xt;wh(g.cancel)&&ye&&((xt=(st=g.cancel).onClick)==null||xt.call(st,ke),Sr())},className:Br($==null?void 0:$.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,p.isValidElement(g.action)?g.action:g.action&&wh(g.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||P,onClick:ke=>{var st,xt;wh(g.action)&&((xt=(st=g.action).onClick)==null||xt.call(st,ke),!ke.defaultPrevented&&Sr())},className:Br($==null?void 0:$.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function Q1(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function DL(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?IL:CL;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var OL=p.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:m,style:g,visibleToasts:b=SL,toastOptions:E,dir:x=Q1(),gap:_=kL,loadingIcon:v,icons:y,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:k}=t,[D,I]=H.useState([]),C=H.useMemo(()=>Array.from(new Set([r].concat(D.filter(le=>le.position).map(le=>le.position)))),[D,r]),[N,R]=H.useState([]),[P,O]=H.useState(!1),[A,W]=H.useState(!1),[oe,Q]=H.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=H.useRef(null),U=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=H.useRef(null),re=H.useRef(!1),ge=H.useCallback(le=>{I(ue=>{var we;return(we=ue.find(Fe=>Fe.id===le.id))!=null&&we.delete||Xn.dismiss(le.id),ue.filter(({id:Fe})=>Fe!==le.id)})},[]);return H.useEffect(()=>Xn.subscribe(le=>{if(le.dismiss){I(ue=>ue.map(we=>we.id===le.id?{...we,delete:!0}:we));return}setTimeout(()=>{aI.flushSync(()=>{I(ue=>{let we=ue.findIndex(Fe=>Fe.id===le.id);return we!==-1?[...ue.slice(0,we),{...ue[we],...le},...ue.slice(we+1)]:[le,...ue]})})})}),[]),H.useEffect(()=>{if(h!=="system"){Q(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;let le=window.matchMedia("(prefers-color-scheme: dark)");try{le.addEventListener("change",({matches:ue})=>{Q(ue?"dark":"light")})}catch{le.addListener(({matches:we})=>{try{Q(we?"dark":"light")}catch(Fe){console.error(Fe)}})}},[h]),H.useEffect(()=>{D.length<=1&&O(!1)},[D]),H.useEffect(()=>{let le=ue=>{var we,Fe;s.every(dt=>ue[dt]||ue.code===dt)&&(O(!0),(we=ee.current)==null||we.focus()),ue.code==="Escape"&&(document.activeElement===ee.current||(Fe=ee.current)!=null&&Fe.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",le),()=>document.removeEventListener("keydown",le)},[s]),H.useEffect(()=>{if(ee.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,re.current=!1)}},[ee.current]),H.createElement("section",{ref:e,"aria-label":`${S} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((le,ue)=>{var we;let[Fe,dt]=le.split("-");return D.length?H.createElement("ol",{key:le,dir:x==="auto"?Q1():x,tabIndex:-1,ref:ee,className:l,"data-sonner-toaster":!0,"data-theme":oe,"data-y-position":Fe,"data-lifted":P&&D.length>1&&!i,"data-x-position":dt,style:{"--front-toast-height":`${((we=N[0])==null?void 0:we.height)||0}px`,"--width":`${NL}px`,"--gap":`${_}px`,...g,...DL(c,u)},onBlur:se=>{re.current&&!se.currentTarget.contains(se.relatedTarget)&&(re.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||re.current||(re.current=!0,$.current=se.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{A||O(!1)},onDragEnd:()=>O(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},D.filter(se=>!se.position&&ue===0||se.position===le).map((se,ze)=>{var at,Ae;return H.createElement(jL,{key:se.id,icons:y,index:ze,toast:se,defaultRichColors:f,duration:(at=E==null?void 0:E.duration)!=null?at:m,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:n,visibleToasts:b,closeButton:(Ae=E==null?void 0:E.closeButton)!=null?Ae:o,interacting:A,position:le,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,removeToast:ge,toasts:D.filter(Ie=>Ie.position==se.position),heights:N.filter(Ie=>Ie.position==se.position),setHeights:R,expandByDefault:i,gap:_,loadingIcon:v,expanded:P,pauseWhenPageIsHidden:k,swipeDirections:t.swipeDirections})})):null}))});const ML=({...t})=>{const{theme:e="system"}=lL();return a.jsx(OL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var LL=Jy[" useId ".trim().toString()]||(()=>{}),VL=0;function ti(t){const[e,n]=p.useState(LL());return bn(()=>{n(r=>r??String(VL++))},[t]),e?`radix-${e}`:""}const FL=["top","right","bottom","left"],To=Math.min,hr=Math.max,Of=Math.round,_h=Math.floor,Is=t=>({x:t,y:t}),UL={left:"right",right:"left",bottom:"top",top:"bottom"},$L={start:"end",end:"start"};function Yv(t,e,n){return hr(t,To(e,n))}function li(t,e){return typeof t=="function"?t(e):t}function ci(t){return t.split("-")[0]}function fc(t){return t.split("-")[1]}function tw(t){return t==="x"?"y":"x"}function nw(t){return t==="y"?"height":"width"}const BL=new Set(["top","bottom"]);function bs(t){return BL.has(ci(t))?"y":"x"}function rw(t){return tw(bs(t))}function zL(t,e,n){n===void 0&&(n=!1);const r=fc(t),s=rw(t),i=nw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Mf(o)),[o,Mf(o)]}function WL(t){const e=Mf(t);return[Xv(t),e,Xv(e)]}function Xv(t){return t.replace(/start|end/g,e=>$L[e])}const Y1=["left","right"],X1=["right","left"],HL=["top","bottom"],qL=["bottom","top"];function GL(t,e,n){switch(t){case"top":case"bottom":return n?e?X1:Y1:e?Y1:X1;case"left":case"right":return e?HL:qL;default:return[]}}function KL(t,e,n,r){const s=fc(t);let i=GL(ci(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Xv)))),i}function Mf(t){return t.replace(/left|right|bottom|top/g,e=>UL[e])}function QL(t){return{top:0,right:0,bottom:0,left:0,...t}}function JI(t){return typeof t!="number"?QL(t):{top:t,right:t,bottom:t,left:t}}function Lf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Z1(t,e,n){let{reference:r,floating:s}=t;const i=bs(e),o=rw(e),l=nw(o),c=ci(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(fc(e)){case"start":g[o]-=m*(n&&u?-1:1);break;case"end":g[o]+=m*(n&&u?-1:1);break}return g}const YL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=Z1(u,r,c),m=r,g={},b=0;for(let E=0;E<l.length;E++){const{name:x,fn:_}=l[E],{x:v,y,data:S,reset:k}=await _({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});h=v??h,f=y??f,g={...g,[x]:{...g[x],...S}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(m=k.placement),k.rects&&(u=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:h,y:f}=Z1(u,m,c)),E=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:g}};async function Gu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=li(e,t),b=JI(g),x=l[m?f==="floating"?"reference":"floating":f],_=Lf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},k=Lf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(_.top-k.top+b.top)/S.y,bottom:(k.bottom-_.bottom+b.bottom)/S.y,left:(_.left-k.left+b.left)/S.x,right:(k.right-_.right+b.right)/S.x}}const XL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=li(t,e)||{};if(u==null)return{};const f=JI(h),m={x:n,y:r},g=rw(s),b=nw(g),E=await o.getDimensions(u),x=g==="y",_=x?"top":"left",v=x?"bottom":"right",y=x?"clientHeight":"clientWidth",S=i.reference[b]+i.reference[g]-m[g]-i.floating[b],k=m[g]-i.reference[g],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=D?D[y]:0;(!I||!await(o.isElement==null?void 0:o.isElement(D)))&&(I=l.floating[y]||i.floating[b]);const C=S/2-k/2,N=I/2-E[b]/2-1,R=To(f[_],N),P=To(f[v],N),O=R,A=I-E[b]-P,W=I/2-E[b]/2+C,oe=Yv(O,W,A),Q=!c.arrow&&fc(s)!=null&&W!==oe&&i.reference[b]/2-(W<O?R:P)-E[b]/2<0,ee=Q?W<O?W-O:W-A:0;return{[g]:m[g]+ee,data:{[g]:oe,centerOffset:W-oe-ee,...Q&&{alignmentOffset:ee}},reset:Q}}}),ZL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:E=!0,...x}=li(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=ci(s),v=bs(l),y=ci(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=m||(y||!E?[Mf(l)]:WL(l)),D=b!=="none";!m&&D&&k.push(...KL(l,E,b,S));const I=[l,...k],C=await Gu(e,x),N=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&N.push(C[_]),f){const W=zL(s,o,S);N.push(C[W[0]],C[W[1]])}if(R=[...R,{placement:s,overflows:N}],!N.every(W=>W<=0)){var P,O;const W=(((P=i.flip)==null?void 0:P.index)||0)+1,oe=I[W];if(oe&&(!(f==="alignment"?v!==bs(oe):!1)||R.every(U=>U.overflows[0]>0&&bs(U.placement)===v)))return{data:{index:W,overflows:R},reset:{placement:oe}};let Q=(O=R.filter(ee=>ee.overflows[0]<=0).sort((ee,U)=>ee.overflows[1]-U.overflows[1])[0])==null?void 0:O.placement;if(!Q)switch(g){case"bestFit":{var A;const ee=(A=R.filter(U=>{if(D){const $=bs(U.placement);return $===v||$==="y"}return!0}).map(U=>[U.placement,U.overflows.filter($=>$>0).reduce(($,re)=>$+re,0)]).sort((U,$)=>U[1]-$[1])[0])==null?void 0:A[0];ee&&(Q=ee);break}case"initialPlacement":Q=l;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function J1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function eE(t){return FL.some(e=>t[e]>=0)}const JL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=li(t,e);switch(r){case"referenceHidden":{const i=await Gu(e,{...s,elementContext:"reference"}),o=J1(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:eE(o)}}}case"escaped":{const i=await Gu(e,{...s,altBoundary:!0}),o=J1(i,n.floating);return{data:{escapedOffsets:o,escaped:eE(o)}}}default:return{}}}}},eN=new Set(["left","top"]);async function eV(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ci(n),l=fc(n),c=bs(n)==="y",u=eN.has(o)?-1:1,h=i&&c?-1:1,f=li(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(g=l==="end"?b*-1:b),c?{x:g*h,y:m*u}:{x:m*u,y:g*h}}const tV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await eV(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},nV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:_,y:v}=x;return{x:_,y:v}}},...c}=li(t,e),u={x:n,y:r},h=await Gu(e,c),f=bs(ci(s)),m=tw(f);let g=u[m],b=u[f];if(i){const x=m==="y"?"top":"left",_=m==="y"?"bottom":"right",v=g+h[x],y=g-h[_];g=Yv(v,g,y)}if(o){const x=f==="y"?"top":"left",_=f==="y"?"bottom":"right",v=b+h[x],y=b-h[_];b=Yv(v,b,y)}const E=l.fn({...e,[m]:g,[f]:b});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[m]:i,[f]:o}}}}}},rV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=li(t,e),h={x:n,y:r},f=bs(s),m=tw(f);let g=h[m],b=h[f];const E=li(l,e),x=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(c){const y=m==="y"?"height":"width",S=i.reference[m]-i.floating[y]+x.mainAxis,k=i.reference[m]+i.reference[y]-x.mainAxis;g<S?g=S:g>k&&(g=k)}if(u){var _,v;const y=m==="y"?"width":"height",S=eN.has(ci(s)),k=i.reference[f]-i.floating[y]+(S&&((_=o.offset)==null?void 0:_[f])||0)+(S?0:x.crossAxis),D=i.reference[f]+i.reference[y]+(S?0:((v=o.offset)==null?void 0:v[f])||0)-(S?x.crossAxis:0);b<k?b=k:b>D&&(b=D)}return{[m]:g,[f]:b}}}},sV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...u}=li(t,e),h=await Gu(e,u),f=ci(s),m=fc(s),g=bs(s)==="y",{width:b,height:E}=i.floating;let x,_;f==="top"||f==="bottom"?(x=f,_=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,x=m==="end"?"top":"bottom");const v=E-h.top-h.bottom,y=b-h.left-h.right,S=To(E-h[x],v),k=To(b-h[_],y),D=!e.middlewareData.shift;let I=S,C=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=y),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=v),D&&!m){const R=hr(h.left,0),P=hr(h.right,0),O=hr(h.top,0),A=hr(h.bottom,0);g?C=b-2*(R!==0||P!==0?R+P:hr(h.left,h.right)):I=E-2*(O!==0||A!==0?O+A:hr(h.top,h.bottom))}await c({...e,availableWidth:C,availableHeight:I});const N=await o.getDimensions(l.floating);return b!==N.width||E!==N.height?{reset:{rects:!0}}:{}}}};function $m(){return typeof window<"u"}function mc(t){return tN(t)?(t.nodeName||"").toLowerCase():"#document"}function vr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ms(t){var e;return(e=(tN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tN(t){return $m()?t instanceof Node||t instanceof vr(t).Node:!1}function rs(t){return $m()?t instanceof Element||t instanceof vr(t).Element:!1}function Ds(t){return $m()?t instanceof HTMLElement||t instanceof vr(t).HTMLElement:!1}function tE(t){return!$m()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vr(t).ShadowRoot}const iV=new Set(["inline","contents"]);function wd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ss(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!iV.has(s)}const oV=new Set(["table","td","th"]);function aV(t){return oV.has(mc(t))}const lV=[":popover-open",":modal"];function Bm(t){return lV.some(e=>{try{return t.matches(e)}catch{return!1}})}const cV=["transform","translate","scale","rotate","perspective"],uV=["transform","translate","scale","rotate","perspective","filter"],dV=["paint","layout","strict","content"];function sw(t){const e=iw(),n=rs(t)?ss(t):t;return cV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||uV.some(r=>(n.willChange||"").includes(r))||dV.some(r=>(n.contain||"").includes(r))}function hV(t){let e=So(t);for(;Ds(e)&&!ql(e);){if(sw(e))return e;if(Bm(e))return null;e=So(e)}return null}function iw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fV=new Set(["html","body","#document"]);function ql(t){return fV.has(mc(t))}function ss(t){return vr(t).getComputedStyle(t)}function zm(t){return rs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function So(t){if(mc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tE(t)&&t.host||Ms(t);return tE(e)?e.host:e}function nN(t){const e=So(t);return ql(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ds(e)&&wd(e)?e:nN(e)}function Ku(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=nN(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=vr(s);if(i){const l=Zv(o);return e.concat(o,o.visualViewport||[],wd(s)?s:[],l&&n?Ku(l):[])}return e.concat(s,Ku(s,[],n))}function Zv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function rN(t){const e=ss(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ds(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=Of(n)!==i||Of(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function ow(t){return rs(t)?t:t.contextElement}function El(t){const e=ow(t);if(!Ds(e))return Is(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=rN(e);let o=(i?Of(n.width):n.width)/r,l=(i?Of(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const mV=Is(0);function sN(t){const e=vr(t);return!iw()||!e.visualViewport?mV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==vr(t)?!1:e}function Ea(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ow(t);let o=Is(1);e&&(r?rs(r)&&(o=El(r)):o=El(t));const l=pV(i,n,r)?sN(i):Is(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=vr(i),g=r&&rs(r)?vr(r):r;let b=m,E=Zv(b);for(;E&&r&&g!==b;){const x=El(E),_=E.getBoundingClientRect(),v=ss(E),y=_.left+(E.clientLeft+parseFloat(v.paddingLeft))*x.x,S=_.top+(E.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,u*=x.y,h*=x.x,f*=x.y,c+=y,u+=S,b=vr(E),E=Zv(b)}}return Lf({width:h,height:f,x:c,y:u})}function aw(t,e){const n=zm(t).scrollLeft;return e?e.left+n:Ea(Ms(t)).left+n}function iN(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:aw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function gV(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ms(r),l=e?Bm(e.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Is(1);const h=Is(0),f=Ds(r);if((f||!f&&!i)&&((mc(r)!=="body"||wd(o))&&(c=zm(r)),Ds(r))){const g=Ea(r);u=El(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const m=o&&!f&&!i?iN(o,c,!0):Is(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function vV(t){return Array.from(t.getClientRects())}function yV(t){const e=Ms(t),n=zm(t),r=t.ownerDocument.body,s=hr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=hr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+aw(t);const l=-n.scrollTop;return ss(r).direction==="rtl"&&(o+=hr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function xV(t,e){const n=vr(t),r=Ms(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=iw();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}const wV=new Set(["absolute","fixed"]);function _V(t,e){const n=Ea(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ds(t)?El(t):Is(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function nE(t,e,n){let r;if(e==="viewport")r=xV(t,n);else if(e==="document")r=yV(Ms(t));else if(rs(e))r=_V(e,n);else{const s=sN(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Lf(r)}function oN(t,e){const n=So(t);return n===e||!rs(n)||ql(n)?!1:ss(n).position==="fixed"||oN(n,e)}function EV(t,e){const n=e.get(t);if(n)return n;let r=Ku(t,[],!1).filter(l=>rs(l)&&mc(l)!=="body"),s=null;const i=ss(t).position==="fixed";let o=i?So(t):t;for(;rs(o)&&!ql(o);){const l=ss(o),c=sw(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&wV.has(s.position)||wd(o)&&!c&&oN(t,o))?r=r.filter(h=>h!==o):s=l,o=So(o)}return e.set(t,r),r}function bV(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Bm(e)?[]:EV(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,h)=>{const f=nE(e,h,s);return u.top=hr(f.top,u.top),u.right=To(f.right,u.right),u.bottom=To(f.bottom,u.bottom),u.left=hr(f.left,u.left),u},nE(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function TV(t){const{width:e,height:n}=rN(t);return{width:e,height:n}}function SV(t,e,n){const r=Ds(e),s=Ms(e),i=n==="fixed",o=Ea(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Is(0);function u(){c.x=aw(s)}if(r||!r&&!i)if((mc(e)!=="body"||wd(s))&&(l=zm(e)),r){const g=Ea(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?iN(s,l):Is(0),f=o.left+l.scrollLeft-c.x-h.x,m=o.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function Tg(t){return ss(t).position==="static"}function rE(t,e){if(!Ds(t)||ss(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ms(t)===n&&(n=n.ownerDocument.body),n}function aN(t,e){const n=vr(t);if(Bm(t))return n;if(!Ds(t)){let s=So(t);for(;s&&!ql(s);){if(rs(s)&&!Tg(s))return s;s=So(s)}return n}let r=rE(t,e);for(;r&&aV(r)&&Tg(r);)r=rE(r,e);return r&&ql(r)&&Tg(r)&&!sw(r)?n:r||hV(t)||n}const CV=async function(t){const e=this.getOffsetParent||aN,n=this.getDimensions,r=await n(t.floating);return{reference:SV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function IV(t){return ss(t).direction==="rtl"}const NV={convertOffsetParentRelativeRectToViewportRelativeRect:gV,getDocumentElement:Ms,getClippingRect:bV,getOffsetParent:aN,getElementRects:CV,getClientRects:vV,getDimensions:TV,getScale:El,isElement:rs,isRTL:IV};function lN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function kV(t,e){let n=null,r;const s=Ms(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:h,top:f,width:m,height:g}=u;if(l||e(),!m||!g)return;const b=_h(f),E=_h(s.clientWidth-(h+m)),x=_h(s.clientHeight-(f+g)),_=_h(h),y={rootMargin:-b+"px "+-E+"px "+-x+"px "+-_+"px",threshold:hr(0,To(1,c))||1};let S=!0;function k(D){const I=D[0].intersectionRatio;if(I!==c){if(!S)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!lN(u,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(k,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,y)}n.observe(t)}return o(!0),i}function AV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=ow(t),h=s||i?[...u?Ku(u):[],...Ku(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=u&&l?kV(u,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(_=>{let[v]=_;v&&v.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=g)==null||y.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let b,E=c?Ea(t):null;c&&x();function x(){const _=Ea(t);E&&!lN(E,_)&&n(),E=_,b=requestAnimationFrame(x)}return n(),()=>{var _;h.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(_=g)==null||_.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const RV=tV,PV=nV,jV=ZL,DV=sV,OV=JL,sE=XL,MV=rV,LV=(t,e,n)=>{const r=new Map,s={platform:NV,...n},i={...s.platform,_c:r};return YL(t,e,{...s,platform:i})};var VV=typeof document<"u",FV=function(){},Gh=VV?p.useLayoutEffect:FV;function Vf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Vf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Vf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function cN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function iE(t,e){const n=cN(t);return Math.round(e*n)/n}function Sg(t){const e=p.useRef(t);return Gh(()=>{e.current=t}),e}function UV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=p.useState(r);Vf(m,r)||g(r);const[b,E]=p.useState(null),[x,_]=p.useState(null),v=p.useCallback(U=>{U!==D.current&&(D.current=U,E(U))},[]),y=p.useCallback(U=>{U!==I.current&&(I.current=U,_(U))},[]),S=i||b,k=o||x,D=p.useRef(null),I=p.useRef(null),C=p.useRef(h),N=c!=null,R=Sg(c),P=Sg(s),O=Sg(u),A=p.useCallback(()=>{if(!D.current||!I.current)return;const U={placement:e,strategy:n,middleware:m};P.current&&(U.platform=P.current),LV(D.current,I.current,U).then($=>{const re={...$,isPositioned:O.current!==!1};W.current&&!Vf(C.current,re)&&(C.current=re,Oa.flushSync(()=>{f(re)}))})},[m,e,n,P,O]);Gh(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(U=>({...U,isPositioned:!1})))},[u]);const W=p.useRef(!1);Gh(()=>(W.current=!0,()=>{W.current=!1}),[]),Gh(()=>{if(S&&(D.current=S),k&&(I.current=k),S&&k){if(R.current)return R.current(S,k,A);A()}},[S,k,A,R,N]);const oe=p.useMemo(()=>({reference:D,floating:I,setReference:v,setFloating:y}),[v,y]),Q=p.useMemo(()=>({reference:S,floating:k}),[S,k]),ee=p.useMemo(()=>{const U={position:n,left:0,top:0};if(!Q.floating)return U;const $=iE(Q.floating,h.x),re=iE(Q.floating,h.y);return l?{...U,transform:"translate("+$+"px, "+re+"px)",...cN(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:re}},[n,l,Q.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:A,refs:oe,elements:Q,floatingStyles:ee}),[h,A,oe,Q,ee])}const $V=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?sE({element:r.current,padding:s}).fn(n):{}:r?sE({element:r,padding:s}).fn(n):{}}}},BV=(t,e)=>({...RV(t),options:[t,e]}),zV=(t,e)=>({...PV(t),options:[t,e]}),WV=(t,e)=>({...MV(t),options:[t,e]}),HV=(t,e)=>({...jV(t),options:[t,e]}),qV=(t,e)=>({...DV(t),options:[t,e]}),GV=(t,e)=>({...OV(t),options:[t,e]}),KV=(t,e)=>({...$V(t),options:[t,e]});var QV="Arrow",uN=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return a.jsx(Ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});uN.displayName=QV;var YV=uN;function dN(t){const[e,n]=p.useState(void 0);return bn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var lw="Popper",[hN,Wm]=vi(lw),[XV,fN]=hN(lw),mN=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return a.jsx(XV,{scope:e,anchor:r,onAnchorChange:s,children:n})};mN.displayName=lw;var pN="PopperAnchor",gN=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=fN(pN,n),o=p.useRef(null),l=yt(e,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(Ve.div,{...s,ref:l})});gN.displayName=pN;var cw="PopperContent",[ZV,JV]=hN(cw),vN=p.forwardRef((t,e)=>{var se,ze,at,Ae,Ie,Re;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:b,...E}=t,x=fN(cw,n),[_,v]=p.useState(null),y=yt(e,_t=>v(_t)),[S,k]=p.useState(null),D=dN(S),I=(D==null?void 0:D.width)??0,C=(D==null?void 0:D.height)??0,N=r+(i!=="center"?"-"+i:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(u)?u:[u],O=P.length>0,A={padding:R,boundary:P.filter(tF),altBoundary:O},{refs:W,floatingStyles:oe,placement:Q,isPositioned:ee,middlewareData:U}=UV({strategy:"fixed",placement:N,whileElementsMounted:(..._t)=>AV(..._t,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[BV({mainAxis:s+C,alignmentAxis:o}),c&&zV({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?WV():void 0,...A}),c&&HV({...A}),qV({...A,apply:({elements:_t,rects:me,availableWidth:L,availableHeight:Ee})=>{const{width:Ne,height:Tt}=me.reference,Qe=_t.floating.style;Qe.setProperty("--radix-popper-available-width",`${L}px`),Qe.setProperty("--radix-popper-available-height",`${Ee}px`),Qe.setProperty("--radix-popper-anchor-width",`${Ne}px`),Qe.setProperty("--radix-popper-anchor-height",`${Tt}px`)}}),S&&KV({element:S,padding:l}),nF({arrowWidth:I,arrowHeight:C}),m&&GV({strategy:"referenceHidden",...A})]}),[$,re]=wN(Q),ge=Dr(b);bn(()=>{ee&&(ge==null||ge())},[ee,ge]);const le=(se=U.arrow)==null?void 0:se.x,ue=(ze=U.arrow)==null?void 0:ze.y,we=((at=U.arrow)==null?void 0:at.centerOffset)!==0,[Fe,dt]=p.useState();return bn(()=>{_&&dt(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:ee?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(Ae=U.transformOrigin)==null?void 0:Ae.x,(Ie=U.transformOrigin)==null?void 0:Ie.y].join(" "),...((Re=U.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(ZV,{scope:n,placedSide:$,onArrowChange:k,arrowX:le,arrowY:ue,shouldHideArrow:we,children:a.jsx(Ve.div,{"data-side":$,"data-align":re,...E,ref:y,style:{...E.style,animation:ee?void 0:"none"}})})})});vN.displayName=cw;var yN="PopperArrow",eF={top:"bottom",right:"left",bottom:"top",left:"right"},xN=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=JV(yN,r),o=eF[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(YV,{...s,ref:n,style:{...s.style,display:"block"}})})});xN.displayName=yN;function tF(t){return t!==null}var nF=t=>({name:"transformOrigin",options:t,fn(e){var x,_,v;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,h]=wN(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((_=s.arrow)==null?void 0:_.x)??0)+l/2,g=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let b="",E="";return u==="bottom"?(b=o?f:`${m}px`,E=`${-c}px`):u==="top"?(b=o?f:`${m}px`,E=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,E=o?f:`${g}px`):u==="left"&&(b=`${r.floating.width+c}px`,E=o?f:`${g}px`),{data:{x:b,y:E}}}});function wN(t){const[e,n="center"]=t.split("-");return[e,n]}var _N=mN,EN=gN,bN=vN,TN=xN,[Hm,gG]=vi("Tooltip",[Wm]),qm=Wm(),SN="TooltipProvider",rF=700,Jv="tooltip.open",[sF,uw]=Hm(SN),CN=t=>{const{__scopeTooltip:e,delayDuration:n=rF,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(sF,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};CN.displayName=SN;var Qu="Tooltip",[iF,Gm]=Hm(Qu),IN=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=t,c=uw(Qu,t.__scopeTooltip),u=qm(e),[h,f]=p.useState(null),m=ti(),g=p.useRef(0),b=o??c.disableHoverableContent,E=l??c.delayDuration,x=p.useRef(!1),[_,v]=_o({prop:r,defaultProp:s??!1,onChange:I=>{I?(c.onOpen(),document.dispatchEvent(new CustomEvent(Jv))):c.onClose(),i==null||i(I)},caller:Qu}),y=p.useMemo(()=>_?x.current?"delayed-open":"instant-open":"closed",[_]),S=p.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x.current=!1,v(!0)},[v]),k=p.useCallback(()=>{window.clearTimeout(g.current),g.current=0,v(!1)},[v]),D=p.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,v(!0),g.current=0},E)},[E,v]);return p.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),a.jsx(_N,{...u,children:a.jsx(iF,{scope:e,contentId:m,open:_,stateAttribute:y,trigger:h,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?D():S()},[c.isOpenDelayedRef,D,S]),onTriggerLeave:p.useCallback(()=>{b?k():(window.clearTimeout(g.current),g.current=0)},[k,b]),onOpen:S,onClose:k,disableHoverableContent:b,children:n})})};IN.displayName=Qu;var ey="TooltipTrigger",NN=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Gm(ey,n),i=uw(ey,n),o=qm(n),l=p.useRef(null),c=yt(e,l,s.onTriggerChange),u=p.useRef(!1),h=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(EN,{asChild:!0,...o,children:a.jsx(Ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:be(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:be(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:be(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:be(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:be(t.onBlur,s.onClose),onClick:be(t.onClick,s.onClose)})})});NN.displayName=ey;var oF="TooltipPortal",[vG,aF]=Hm(oF,{forceMount:void 0}),Gl="TooltipContent",kN=p.forwardRef((t,e)=>{const n=aF(Gl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Gm(Gl,t.__scopeTooltip);return a.jsx(Vo,{present:r||o.open,children:o.disableHoverableContent?a.jsx(AN,{side:s,...i,ref:e}):a.jsx(lF,{side:s,...i,ref:e})})}),lF=p.forwardRef((t,e)=>{const n=Gm(Gl,t.__scopeTooltip),r=uw(Gl,t.__scopeTooltip),s=p.useRef(null),i=yt(e,s),[o,l]=p.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,m=p.useCallback(()=>{l(null),f(!1)},[f]),g=p.useCallback((b,E)=>{const x=b.currentTarget,_={x:b.clientX,y:b.clientY},v=fF(_,x.getBoundingClientRect()),y=mF(_,v),S=pF(E.getBoundingClientRect()),k=vF([...y,...S]);l(k),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&h){const b=x=>g(x,h),E=x=>g(x,c);return c.addEventListener("pointerleave",b),h.addEventListener("pointerleave",E),()=>{c.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",E)}}},[c,h,g,m]),p.useEffect(()=>{if(o){const b=E=>{const x=E.target,_={x:E.clientX,y:E.clientY},v=(c==null?void 0:c.contains(x))||(h==null?void 0:h.contains(x)),y=!gF(_,o);v?m():y&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,h,o,u,m]),a.jsx(AN,{...t,ref:i})}),[cF,uF]=Hm(Qu,{isInside:!1}),dF=mM("TooltipContent"),AN=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=Gm(Gl,n),u=qm(n),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(Jv,h),()=>document.removeEventListener(Jv,h)),[h]),p.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),a.jsx(yd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:a.jsxs(bN,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(dF,{children:r}),a.jsx(cF,{scope:n,isInside:!0,children:a.jsx(MM,{id:c.contentId,role:"tooltip",children:s||r})})]})})});kN.displayName=Gl;var RN="TooltipArrow",hF=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=qm(n);return uF(RN,n).isInside?null:a.jsx(TN,{...s,...r,ref:e})});hF.displayName=RN;function fF(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function mF(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function pF(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function gF(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],u=l.x,h=l.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function vF(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),yF(e)}function yF(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var xF=CN,wF=IN,_F=NN,PN=kN;const jN=xF,EF=wF,bF=_F,DN=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(PN,{ref:r,sideOffset:e,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));DN.displayName=PN.displayName;var Km=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qm=typeof window>"u"||"Deno"in globalThis;function Hr(){}function TF(t,e){return typeof t=="function"?t(e):t}function SF(t){return typeof t=="number"&&t>=0&&t!==1/0}function CF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ty(t,e){return typeof t=="function"?t(e):t}function IF(t,e){return typeof t=="function"?t(e):t}function oE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==dw(o,e.options))return!1}else if(!Xu(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function aE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Yu(e.options.mutationKey)!==Yu(i))return!1}else if(!Xu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function dw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Yu)(t)}function Yu(t){return JSON.stringify(t,(e,n)=>ny(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Xu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Xu(t[n],e[n])):!1}function ON(t,e){if(t===e)return t;const n=lE(t)&&lE(e);if(n||ny(t)&&ny(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=ON(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return s===o&&u===s?t:l}return e}function lE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ny(t){if(!cE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!cE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function cE(t){return Object.prototype.toString.call(t)==="[object Object]"}function NF(t){return new Promise(e=>{setTimeout(e,t)})}function kF(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ON(t,e):e}function AF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function RF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var hw=Symbol();function MN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===hw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var aa,Bi,Al,UT,PF=(UT=class extends Km{constructor(){super();ct(this,aa);ct(this,Bi);ct(this,Al);Ue(this,Al,e=>{if(!Qm&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){G(this,Bi)||this.setEventListener(G(this,Al))}onUnsubscribe(){var e;this.hasListeners()||((e=G(this,Bi))==null||e.call(this),Ue(this,Bi,void 0))}setEventListener(e){var n;Ue(this,Al,e),(n=G(this,Bi))==null||n.call(this),Ue(this,Bi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){G(this,aa)!==e&&(Ue(this,aa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof G(this,aa)=="boolean"?G(this,aa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},aa=new WeakMap,Bi=new WeakMap,Al=new WeakMap,UT),LN=new PF,Rl,zi,Pl,$T,jF=($T=class extends Km{constructor(){super();ct(this,Rl,!0);ct(this,zi);ct(this,Pl);Ue(this,Pl,e=>{if(!Qm&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){G(this,zi)||this.setEventListener(G(this,Pl))}onUnsubscribe(){var e;this.hasListeners()||((e=G(this,zi))==null||e.call(this),Ue(this,zi,void 0))}setEventListener(e){var n;Ue(this,Pl,e),(n=G(this,zi))==null||n.call(this),Ue(this,zi,e(this.setOnline.bind(this)))}setOnline(e){G(this,Rl)!==e&&(Ue(this,Rl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return G(this,Rl)}},Rl=new WeakMap,zi=new WeakMap,Pl=new WeakMap,$T),Ff=new jF;function DF(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function OF(t){return Math.min(1e3*2**t,3e4)}function VN(t){return(t??"online")==="online"?Ff.isOnline():!0}var FN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Cg(t){return t instanceof FN}function UN(t){let e=!1,n=0,r=!1,s;const i=DF(),o=E=>{var x;r||(m(new FN(E)),(x=t.abort)==null||x.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>LN.isFocused()&&(t.networkMode==="always"||Ff.isOnline())&&t.canRun(),h=()=>VN(t.networkMode)&&t.canRun(),f=E=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,E),s==null||s(),i.resolve(E))},m=E=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,E),s==null||s(),i.reject(E))},g=()=>new Promise(E=>{var x;s=_=>{(r||u())&&E(_)},(x=t.onPause)==null||x.call(t)}).then(()=>{var E;s=void 0,r||(E=t.onContinue)==null||E.call(t)}),b=()=>{if(r)return;let E;const x=n===0?t.initialPromise:void 0;try{E=x??t.fn()}catch(_){E=Promise.reject(_)}Promise.resolve(E).then(f).catch(_=>{var D;if(r)return;const v=t.retry??(Qm?0:3),y=t.retryDelay??OF,S=typeof y=="function"?y(n,_):y,k=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,_);if(e||!k){m(_);return}n++,(D=t.onFail)==null||D.call(t,n,_),NF(S).then(()=>u()?void 0:g()).then(()=>{e?m(_):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?b():g().then(b),i)}}var MF=t=>setTimeout(t,0);function LF(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=MF;const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Un=LF(),la,BT,$N=(BT=class{constructor(){ct(this,la)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),SF(this.gcTime)&&Ue(this,la,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qm?1/0:5*60*1e3))}clearGcTimeout(){G(this,la)&&(clearTimeout(G(this,la)),Ue(this,la,void 0))}},la=new WeakMap,BT),jl,ca,Cr,ua,Rn,dd,da,qr,Ws,zT,VF=(zT=class extends $N{constructor(n){super();ct(this,qr);ct(this,jl);ct(this,ca);ct(this,Cr);ct(this,ua);ct(this,Rn);ct(this,dd);ct(this,da);Ue(this,da,!1),Ue(this,dd,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ue(this,ua,n.client),Ue(this,Cr,G(this,ua).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ue(this,jl,UF(this.options)),this.state=n.state??G(this,jl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=G(this,Rn))==null?void 0:n.promise}setOptions(n){this.options={...G(this,dd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,Cr).remove(this)}setData(n,r){const s=kF(this.state.data,n,this.options);return In(this,qr,Ws).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){In(this,qr,Ws).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=G(this,Rn))==null?void 0:s.promise;return(i=G(this,Rn))==null||i.cancel(n),r?r.then(Hr).catch(Hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,jl))}isActive(){return this.observers.some(n=>IF(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ty(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!CF(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=G(this,Rn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=G(this,Rn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),G(this,Cr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(G(this,Rn)&&(G(this,da)?G(this,Rn).cancel({revert:!0}):G(this,Rn).cancelRetry()),this.scheduleGc()),G(this,Cr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||In(this,qr,Ws).call(this,{type:"invalidate"})}fetch(n,r){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(G(this,Rn))return G(this,Rn).continueRetry(),G(this,Rn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(b=>b.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Ue(this,da,!0),s.signal)})},o=()=>{const g=MN(this.options,r),E=(()=>{const x={client:G(this,ua),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return Ue(this,da,!1),this.options.persister?this.options.persister(g,E,this):g(E)},c=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:G(this,ua),state:this.state,fetchFn:o};return i(g),g})();(h=this.options.behavior)==null||h.onFetch(c,this),Ue(this,ca,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&In(this,qr,Ws).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=g=>{var b,E,x,_;Cg(g)&&g.silent||In(this,qr,Ws).call(this,{type:"error",error:g}),Cg(g)||((E=(b=G(this,Cr).config).onError)==null||E.call(b,g,this),(_=(x=G(this,Cr).config).onSettled)==null||_.call(x,this.state.data,g,this)),this.scheduleGc()};return Ue(this,Rn,UN({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var b,E,x,_;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(v){u(v);return}(E=(b=G(this,Cr).config).onSuccess)==null||E.call(b,g,this),(_=(x=G(this,Cr).config).onSettled)==null||_.call(x,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,b)=>{In(this,qr,Ws).call(this,{type:"failed",failureCount:g,error:b})},onPause:()=>{In(this,qr,Ws).call(this,{type:"pause"})},onContinue:()=>{In(this,qr,Ws).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),G(this,Rn).start()}},jl=new WeakMap,ca=new WeakMap,Cr=new WeakMap,ua=new WeakMap,Rn=new WeakMap,dd=new WeakMap,da=new WeakMap,qr=new WeakSet,Ws=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...FF(s.data,this.options),fetchMeta:n.meta??null};case"success":return Ue(this,ca,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Cg(i)&&i.revert&&G(this,ca)?{...G(this,ca),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Un.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),G(this,Cr).notify({query:this,type:"updated",action:n})})},zT);function FF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function UF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var gs,WT,$F=(WT=class extends Km{constructor(e={}){super();ct(this,gs);this.config=e,Ue(this,gs,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??dw(s,n);let o=this.get(i);return o||(o=new VF({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){G(this,gs).has(e.queryHash)||(G(this,gs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=G(this,gs).get(e.queryHash);n&&(e.destroy(),n===e&&G(this,gs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return G(this,gs).get(e)}getAll(){return[...G(this,gs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>oE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>oE(e,r)):n}notify(e){Un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Un.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Un.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gs=new WeakMap,WT),vs,Ln,ha,ys,Pi,HT,BF=(HT=class extends $N{constructor(n){super();ct(this,ys);ct(this,vs);ct(this,Ln);ct(this,ha);this.mutationId=n.mutationId,Ue(this,Ln,n.mutationCache),Ue(this,vs,[]),this.state=n.state||zF(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){G(this,vs).includes(n)||(G(this,vs).push(n),this.clearGcTimeout(),G(this,Ln).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ue(this,vs,G(this,vs).filter(r=>r!==n)),this.scheduleGc(),G(this,Ln).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){G(this,vs).length||(this.state.status==="pending"?this.scheduleGc():G(this,Ln).remove(this))}continue(){var n;return((n=G(this,ha))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,l,c,u,h,f,m,g,b,E,x,_,v,y,S,k,D,I,C,N;const r=()=>{In(this,ys,Pi).call(this,{type:"continue"})};Ue(this,ha,UN({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,P)=>{In(this,ys,Pi).call(this,{type:"failed",failureCount:R,error:P})},onPause:()=>{In(this,ys,Pi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,Ln).canRun(this)}));const s=this.state.status==="pending",i=!G(this,ha).canStart();try{if(s)r();else{In(this,ys,Pi).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(o=G(this,Ln).config).onMutate)==null?void 0:l.call(o,n,this));const P=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));P!==this.state.context&&In(this,ys,Pi).call(this,{type:"pending",context:P,variables:n,isPaused:i})}const R=await G(this,ha).start();return await((f=(h=G(this,Ln).config).onSuccess)==null?void 0:f.call(h,R,n,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,R,n,this.state.context)),await((E=(b=G(this,Ln).config).onSettled)==null?void 0:E.call(b,R,null,this.state.variables,this.state.context,this)),await((_=(x=this.options).onSettled)==null?void 0:_.call(x,R,null,n,this.state.context)),In(this,ys,Pi).call(this,{type:"success",data:R}),R}catch(R){try{throw await((y=(v=G(this,Ln).config).onError)==null?void 0:y.call(v,R,n,this.state.context,this)),await((k=(S=this.options).onError)==null?void 0:k.call(S,R,n,this.state.context)),await((I=(D=G(this,Ln).config).onSettled)==null?void 0:I.call(D,void 0,R,this.state.variables,this.state.context,this)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,void 0,R,n,this.state.context)),R}finally{In(this,ys,Pi).call(this,{type:"error",error:R})}}finally{G(this,Ln).runNext(this)}}},vs=new WeakMap,Ln=new WeakMap,ha=new WeakMap,ys=new WeakSet,Pi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Un.batch(()=>{G(this,vs).forEach(s=>{s.onMutationUpdate(n)}),G(this,Ln).notify({mutation:this,type:"updated",action:n})})},HT);function zF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gs,Gr,hd,qT,WF=(qT=class extends Km{constructor(e={}){super();ct(this,Gs);ct(this,Gr);ct(this,hd);this.config=e,Ue(this,Gs,new Set),Ue(this,Gr,new Map),Ue(this,hd,0)}build(e,n,r){const s=new BF({mutationCache:this,mutationId:++eh(this,hd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){G(this,Gs).add(e);const n=Eh(e);if(typeof n=="string"){const r=G(this,Gr).get(n);r?r.push(e):G(this,Gr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(G(this,Gs).delete(e)){const n=Eh(e);if(typeof n=="string"){const r=G(this,Gr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&G(this,Gr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Eh(e);if(typeof n=="string"){const r=G(this,Gr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Eh(e);if(typeof n=="string"){const s=(r=G(this,Gr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Un.batch(()=>{G(this,Gs).forEach(e=>{this.notify({type:"removed",mutation:e})}),G(this,Gs).clear(),G(this,Gr).clear()})}getAll(){return Array.from(G(this,Gs))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>aE(n,r))}findAll(e={}){return this.getAll().filter(n=>aE(e,n))}notify(e){Un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Un.batch(()=>Promise.all(e.map(n=>n.continue().catch(Hr))))}},Gs=new WeakMap,Gr=new WeakMap,hd=new WeakMap,qT);function Eh(t){var e;return(e=t.options.scope)==null?void 0:e.id}function uE(t){return{onFetch:(e,n)=>{var h,f,m,g,b;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let E=!1;const x=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?E=!0:e.signal.addEventListener("abort",()=>{E=!0}),e.signal)})},_=MN(e.options,e.fetchOptions),v=async(y,S,k)=>{if(E)return Promise.reject();if(S==null&&y.pages.length)return Promise.resolve(y);const I=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:S,direction:k?"backward":"forward",meta:e.options.meta};return x(P),P})(),C=await _(I),{maxPages:N}=e.options,R=k?RF:AF;return{pages:R(y.pages,C,N),pageParams:R(y.pageParams,S,N)}};if(s&&i.length){const y=s==="backward",S=y?HF:dE,k={pages:i,pageParams:o},D=S(r,k);l=await v(k,D,y)}else{const y=t??i.length;do{const S=c===0?o[0]??r.initialPageParam:dE(r,l);if(c>0&&S==null)break;l=await v(l,S),c++}while(c<y)}return l};e.options.persister?e.fetchFn=()=>{var E,x;return(x=(E=e.options).persister)==null?void 0:x.call(E,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function dE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function HF(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Wt,Wi,Hi,Dl,Ol,qi,Ml,Ll,GT,qF=(GT=class{constructor(t={}){ct(this,Wt);ct(this,Wi);ct(this,Hi);ct(this,Dl);ct(this,Ol);ct(this,qi);ct(this,Ml);ct(this,Ll);Ue(this,Wt,t.queryCache||new $F),Ue(this,Wi,t.mutationCache||new WF),Ue(this,Hi,t.defaultOptions||{}),Ue(this,Dl,new Map),Ue(this,Ol,new Map),Ue(this,qi,0)}mount(){eh(this,qi)._++,G(this,qi)===1&&(Ue(this,Ml,LN.subscribe(async t=>{t&&(await this.resumePausedMutations(),G(this,Wt).onFocus())})),Ue(this,Ll,Ff.subscribe(async t=>{t&&(await this.resumePausedMutations(),G(this,Wt).onOnline())})))}unmount(){var t,e;eh(this,qi)._--,G(this,qi)===0&&((t=G(this,Ml))==null||t.call(this),Ue(this,Ml,void 0),(e=G(this,Ll))==null||e.call(this),Ue(this,Ll,void 0))}isFetching(t){return G(this,Wt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return G(this,Wi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=G(this,Wt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=G(this,Wt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ty(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return G(this,Wt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=G(this,Wt).get(r.queryHash),i=s==null?void 0:s.state.data,o=TF(e,i);if(o!==void 0)return G(this,Wt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Un.batch(()=>G(this,Wt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=G(this,Wt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=G(this,Wt);Un.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=G(this,Wt);return Un.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Un.batch(()=>G(this,Wt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Hr).catch(Hr)}invalidateQueries(t,e={}){return Un.batch(()=>(G(this,Wt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Un.batch(()=>G(this,Wt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Hr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Hr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=G(this,Wt).build(this,e);return n.isStaleByTime(ty(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hr).catch(Hr)}fetchInfiniteQuery(t){return t.behavior=uE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hr).catch(Hr)}ensureInfiniteQueryData(t){return t.behavior=uE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ff.isOnline()?G(this,Wi).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,Wt)}getMutationCache(){return G(this,Wi)}getDefaultOptions(){return G(this,Hi)}setDefaultOptions(t){Ue(this,Hi,t)}setQueryDefaults(t,e){G(this,Dl).set(Yu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...G(this,Dl).values()],n={};return e.forEach(r=>{Xu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){G(this,Ol).set(Yu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...G(this,Ol).values()],n={};return e.forEach(r=>{Xu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...G(this,Hi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===hw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...G(this,Hi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){G(this,Wt).clear(),G(this,Wi).clear()}},Wt=new WeakMap,Wi=new WeakMap,Hi=new WeakMap,Dl=new WeakMap,Ol=new WeakMap,qi=new WeakMap,Ml=new WeakMap,Ll=new WeakMap,GT),GF=p.createContext(void 0),KF=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(GF.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}var Qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qi||(Qi={}));const hE="popstate";function QF(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return ry("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Uf(s)}return XF(e,n,null,t)}function Ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YF(){return Math.random().toString(36).substr(2,8)}function fE(t,e){return{usr:t.state,key:t.key,idx:e}}function ry(t,e,n,r){return n===void 0&&(n=null),Zu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pc(e):e,{state:n,key:e&&e.key||r||YF()})}function Uf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function XF(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Qi.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(Zu({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=Qi.Pop;let x=h(),_=x==null?null:x-u;u=x,c&&c({action:l,location:E.location,delta:_})}function m(x,_){l=Qi.Push;let v=ry(E.location,x,_);u=h()+1;let y=fE(v,u),S=E.createHref(v);try{o.pushState(y,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}i&&c&&c({action:l,location:E.location,delta:1})}function g(x,_){l=Qi.Replace;let v=ry(E.location,x,_);u=h();let y=fE(v,u),S=E.createHref(v);o.replaceState(y,"",S),i&&c&&c({action:l,location:E.location,delta:0})}function b(x){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:Uf(x);return v=v.replace(/ $/,"%20"),Ut(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let E={get action(){return l},get location(){return t(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(hE,f),c=x,()=>{s.removeEventListener(hE,f),c=null}},createHref(x){return e(s,x)},createURL:b,encodeLocation(x){let _=b(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:g,go(x){return o.go(x)}};return E}var mE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mE||(mE={}));function ZF(t,e,n){return n===void 0&&(n="/"),JF(t,e,n,!1)}function JF(t,e,n,r){let s=typeof e=="string"?pc(e):e,i=Kl(s.pathname||"/",n);if(i==null)return null;let o=zN(t);e5(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=d5(i);l=c5(o[c],u,r)}return l}function zN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ut(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=oo([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(Ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zN(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:a5(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of WN(i.path))s(i,o,c)}),e}function WN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=WN(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function e5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:l5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const t5=/^:[\w-]+$/,n5=3,r5=2,s5=1,i5=10,o5=-2,pE=t=>t==="*";function a5(t,e){let n=t.split("/"),r=n.length;return n.some(pE)&&(r+=o5),e&&(r+=r5),n.filter(s=>!pE(s)).reduce((s,i)=>s+(t5.test(i)?n5:i===""?s5:i5),r)}function l5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function c5(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=$f({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=$f({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:oo([i,f.pathname]),pathnameBase:p5(oo([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=oo([i,f.pathnameBase]))}return o}function $f(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=u5(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let E=l[f]||"";o=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const b=l[f];return g&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function u5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),BN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function d5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return BN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Kl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function h5(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?pc(t):t;return{pathname:n?n.startsWith("/")?n:f5(n,e):e,search:g5(r),hash:v5(s)}}function f5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ig(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fw(t,e){let n=m5(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mw(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=pc(t):(s=Zu({},t),Ut(!s.pathname||!s.pathname.includes("?"),Ig("?","pathname","search",s)),Ut(!s.pathname||!s.pathname.includes("#"),Ig("#","pathname","hash",s)),Ut(!s.search||!s.search.includes("#"),Ig("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=h5(s,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const oo=t=>t.join("/").replace(/\/\/+/g,"/"),p5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function y5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const HN=["post","put","patch","delete"];new Set(HN);const x5=["get",...HN];new Set(x5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}const Ym=p.createContext(null),qN=p.createContext(null),yi=p.createContext(null),Xm=p.createContext(null),Fo=p.createContext({outlet:null,matches:[],isDataRoute:!1}),GN=p.createContext(null);function w5(t,e){let{relative:n}=e===void 0?{}:e;gc()||Ut(!1);let{basename:r,navigator:s}=p.useContext(yi),{hash:i,pathname:o,search:l}=Zm(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:oo([r,o])),s.createHref({pathname:c,search:l,hash:i})}function gc(){return p.useContext(Xm)!=null}function Ls(){return gc()||Ut(!1),p.useContext(Xm).location}function KN(t){p.useContext(yi).static||p.useLayoutEffect(t)}function _d(){let{isDataRoute:t}=p.useContext(Fo);return t?j5():_5()}function _5(){gc()||Ut(!1);let t=p.useContext(Ym),{basename:e,future:n,navigator:r}=p.useContext(yi),{matches:s}=p.useContext(Fo),{pathname:i}=Ls(),o=JSON.stringify(fw(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return KN(()=>{l.current=!0}),p.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=mw(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:oo([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function Zm(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(yi),{matches:s}=p.useContext(Fo),{pathname:i}=Ls(),o=JSON.stringify(fw(s,r.v7_relativeSplatPath));return p.useMemo(()=>mw(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function E5(t,e){return b5(t,e)}function b5(t,e,n,r){gc()||Ut(!1);let{navigator:s}=p.useContext(yi),{matches:i}=p.useContext(Fo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ls(),h;if(e){var f;let x=typeof e=="string"?pc(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ut(!1),h=x}else h=u;let m=h.pathname||"/",g=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=ZF(t,{pathname:g}),E=N5(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:oo([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:oo([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&E?p.createElement(Xm.Provider,{value:{location:Ju({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Qi.Pop}},E):E}function T5(){let t=P5(),e=y5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const S5=p.createElement(T5,null);class C5 extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Fo.Provider,{value:this.props.routeContext},p.createElement(GN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I5(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(Ym);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Fo.Provider,{value:e},r)}function N5(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||Ut(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:g}=n,b=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let g,b=!1,E=null,x=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,E=f.route.errorElement||S5,c&&(u<0&&m===0?(b=!0,x=null):u===m&&(b=!0,x=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),v=()=>{let y;return g?y=E:b?y=x:f.route.Component?y=p.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=h,p.createElement(I5,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?p.createElement(C5,{location:n.location,revalidation:n.revalidation,component:E,error:g,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var QN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(QN||{}),Bf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bf||{});function k5(t){let e=p.useContext(Ym);return e||Ut(!1),e}function A5(t){let e=p.useContext(qN);return e||Ut(!1),e}function R5(t){let e=p.useContext(Fo);return e||Ut(!1),e}function YN(t){let e=R5(),n=e.matches[e.matches.length-1];return n.route.id||Ut(!1),n.route.id}function P5(){var t;let e=p.useContext(GN),n=A5(Bf.UseRouteError),r=YN(Bf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function j5(){let{router:t}=k5(QN.UseNavigateStable),e=YN(Bf.UseNavigateStable),n=p.useRef(!1);return KN(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ju({fromRouteId:e},i)))},[t,e])}function D5(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function sy(t){let{to:e,replace:n,state:r,relative:s}=t;gc()||Ut(!1);let{future:i,static:o}=p.useContext(yi),{matches:l}=p.useContext(Fo),{pathname:c}=Ls(),u=_d(),h=mw(e,fw(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return p.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Ot(t){Ut(!1)}function O5(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Qi.Pop,navigator:i,static:o=!1,future:l}=t;gc()&&Ut(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:Ju({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=pc(r));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:b="default"}=r,E=p.useMemo(()=>{let x=Kl(h,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:g,key:b},navigationType:s}},[c,h,f,m,g,b,s]);return E==null?null:p.createElement(yi.Provider,{value:u},p.createElement(Xm.Provider,{children:n,value:E}))}function pw(t){let{children:e,location:n}=t;return E5(iy(e),n)}new Promise(()=>{});function iy(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,iy(r.props.children,i));return}r.type!==Ot&&Ut(!1),!r.props.index||!r.props.children||Ut(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=iy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zf.apply(this,arguments)}function XN(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function M5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function L5(t,e){return t.button===0&&(!e||e==="_self")&&!M5(t)}const V5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],F5=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],U5="6";try{window.__reactRouterVersion=U5}catch{}const $5=p.createContext({isTransitioning:!1}),B5="startTransition",gE=Jy[B5];function z5(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=QF({window:s,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=p.useCallback(f=>{u&&gE?gE(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>o.listen(h),[o,h]),p.useEffect(()=>D5(r),[r]),p.createElement(O5,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const W5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,m=XN(e,V5),{basename:g}=p.useContext(yi),b,E=!1;if(typeof u=="string"&&H5.test(u)&&(b=u,W5))try{let y=new URL(window.location.href),S=u.startsWith("//")?new URL(y.protocol+u):new URL(u),k=Kl(S.pathname,g);S.origin===y.origin&&k!=null?u=k+S.search+S.hash:E=!0}catch{}let x=w5(u,{relative:s}),_=K5(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function v(y){r&&r(y),y.defaultPrevented||_(y)}return p.createElement("a",zf({},m,{href:b||x,onClick:E||i?r:v,ref:n,target:c}))}),q5=p.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:h}=e,f=XN(e,F5),m=Zm(c,{relative:f.relative}),g=Ls(),b=p.useContext(qN),{navigator:E,basename:x}=p.useContext(yi),_=b!=null&&Q5(m)&&u===!0,v=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,y=g.pathname,S=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(y=y.toLowerCase(),S=S?S.toLowerCase():null,v=v.toLowerCase()),S&&x&&(S=Kl(S,x)||S);const k=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let D=y===v||!o&&y.startsWith(v)&&y.charAt(k)==="/",I=S!=null&&(S===v||!o&&S.startsWith(v)&&S.charAt(v.length)==="/"),C={isActive:D,isPending:I,isTransitioning:_},N=D?r:void 0,R;typeof i=="function"?R=i(C):R=[i,D?"active":null,I?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(C):l;return p.createElement(pt,zf({},f,{"aria-current":N,className:R,ref:n,style:P,to:c,viewTransition:u}),typeof h=="function"?h(C):h)});var oy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oy||(oy={}));var vE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vE||(vE={}));function G5(t){let e=p.useContext(Ym);return e||Ut(!1),e}function K5(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=_d(),u=Ls(),h=Zm(t,{relative:o});return p.useCallback(f=>{if(L5(f,n)){f.preventDefault();let m=r!==void 0?r:Uf(u)===Uf(h);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,h,r,s,n,t,i,o,l])}function Q5(t,e){e===void 0&&(e={});let n=p.useContext($5);n==null&&Ut(!1);let{basename:r}=G5(oy.useViewTransitionState),s=Zm(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Kl(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Kl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $f(s.pathname,o)!=null||$f(s.pathname,i)!=null}const Y5=()=>{};var yE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},X5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},JN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,g=u&63;c||(g=64,o||(m=64)),r.push(n[h],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):X5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new Z5;const m=i<<2|l>>4;if(r.push(m),u!==64){const g=l<<4&240|u>>2;if(r.push(g),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J5=function(t){const e=ZN(t);return JN.encodeByteArray(e,!0)},Wf=function(t){return J5(t).replace(/\./g,"")},ek=function(t){try{return JN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=()=>e3().__FIREBASE_DEFAULTS__,n3=()=>{if(typeof process>"u"||typeof yE>"u")return;const t=yE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},r3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ek(t[1]);return e&&JSON.parse(e)},Jm=()=>{try{return Y5()||t3()||n3()||r3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tk=t=>{var e,n;return(n=(e=Jm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},s3=t=>{const e=tk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nk=()=>{var t;return(t=Jm())===null||t===void 0?void 0:t.config},rk=t=>{var e;return(e=Jm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wf(JSON.stringify(n)),Wf(JSON.stringify(o)),""].join(".")}const _u={};function a3(){const t={prod:[],emulator:[]};for(const e of Object.keys(_u))_u[e]?t.emulator.push(e):t.prod.push(e);return t}function l3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xE=!1;function ik(t,e){if(typeof window>"u"||typeof document>"u"||!vc(window.location.host)||_u[t]===e||_u[t]||xE)return;_u[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=a3().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{xE=!0,o()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=l3(r),g=n("text"),b=document.getElementById(g)||document.createElement("span"),E=n("learnmore"),x=document.getElementById(E)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const y=m.element;l(y),h(x,E);const S=u();c(v,_),y.append(v,b,x,S),document.body.appendChild(y)}i?(b.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function u3(){var t;const e=(t=Jm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function f3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m3(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function p3(){return!u3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g3(){try{return typeof indexedDB=="object"}catch{return!1}}function v3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="FirebaseError";class xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=y3,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ed.prototype.create)}}class Ed{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?x3(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new xi(s,l,r)}}function x3(t,e){return t.replace(w3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const w3=/\{\$([^}]+)}/g;function _3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ui(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(wE(i)&&wE(o)){if(!ui(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function wE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function tu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function E3(t,e){const n=new b3(t,e);return n.subscribe.bind(n)}class b3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");T3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ng),s.error===void 0&&(s.error=Ng),s.complete===void 0&&(s.complete=Ng);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ng(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class ba{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new i3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I3(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:C3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C3(t){return t===Zo?void 0:t}function I3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new S3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const k3={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},A3=Ze.INFO,R3={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},P3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=R3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gw{constructor(e){this.name=e,this._logLevel=A3,this._logHandler=P3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const j3=(t,e)=>e.some(n=>t instanceof n);let _E,EE;function D3(){return _E||(_E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O3(){return EE||(EE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ok=new WeakMap,ay=new WeakMap,ak=new WeakMap,kg=new WeakMap,vw=new WeakMap;function M3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ao(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ok.set(n,t)}).catch(()=>{}),vw.set(e,t),e}function L3(t){if(ay.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ay.set(t,e)}let ly={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ay.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ak.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ao(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V3(t){ly=t(ly)}function F3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ag(this),e,...n);return ak.set(r,e.sort?e.sort():[e]),ao(r)}:O3().includes(t)?function(...e){return t.apply(Ag(this),e),ao(ok.get(this))}:function(...e){return ao(t.apply(Ag(this),e))}}function U3(t){return typeof t=="function"?F3(t):(t instanceof IDBTransaction&&L3(t),j3(t,D3())?new Proxy(t,ly):t)}function ao(t){if(t instanceof IDBRequest)return M3(t);if(kg.has(t))return kg.get(t);const e=U3(t);return e!==t&&(kg.set(t,e),vw.set(e,t)),e}const Ag=t=>vw.get(t);function $3(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=ao(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ao(o.result),c.oldVersion,c.newVersion,ao(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const B3=["get","getKey","getAll","getAllKeys","count"],z3=["put","add","delete","clear"],Rg=new Map;function bE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rg.get(e))return Rg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=z3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||B3.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Rg.set(e,i),i}V3(t=>({...t,get:(e,n,r)=>bE(e,n)||t.get(e,n,r),has:(e,n)=>!!bE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(H3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function H3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cy="@firebase/app",TE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new gw("@firebase/app"),q3="@firebase/app-compat",G3="@firebase/analytics-compat",K3="@firebase/analytics",Q3="@firebase/app-check-compat",Y3="@firebase/app-check",X3="@firebase/auth",Z3="@firebase/auth-compat",J3="@firebase/database",e6="@firebase/data-connect",t6="@firebase/database-compat",n6="@firebase/functions",r6="@firebase/functions-compat",s6="@firebase/installations",i6="@firebase/installations-compat",o6="@firebase/messaging",a6="@firebase/messaging-compat",l6="@firebase/performance",c6="@firebase/performance-compat",u6="@firebase/remote-config",d6="@firebase/remote-config-compat",h6="@firebase/storage",f6="@firebase/storage-compat",m6="@firebase/firestore",p6="@firebase/ai",g6="@firebase/firestore-compat",v6="firebase",y6="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="[DEFAULT]",x6={[cy]:"fire-core",[q3]:"fire-core-compat",[K3]:"fire-analytics",[G3]:"fire-analytics-compat",[Y3]:"fire-app-check",[Q3]:"fire-app-check-compat",[X3]:"fire-auth",[Z3]:"fire-auth-compat",[J3]:"fire-rtdb",[e6]:"fire-data-connect",[t6]:"fire-rtdb-compat",[n6]:"fire-fn",[r6]:"fire-fn-compat",[s6]:"fire-iid",[i6]:"fire-iid-compat",[o6]:"fire-fcm",[a6]:"fire-fcm-compat",[l6]:"fire-perf",[c6]:"fire-perf-compat",[u6]:"fire-rc",[d6]:"fire-rc-compat",[h6]:"fire-gcs",[f6]:"fire-gcs-compat",[m6]:"fire-fst",[g6]:"fire-fst-compat",[p6]:"fire-vertex","fire-js":"fire-js",[v6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new Map,w6=new Map,dy=new Map;function SE(t,e){try{t.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ql(t){const e=t.name;if(dy.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;dy.set(e,t);for(const n of Hf.values())SE(n,t);for(const n of w6.values())SE(n,t);return!0}function yw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new Ed("app","Firebase",_6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=y6;function lk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:uy,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw lo.create("bad-app-name",{appName:String(s)});if(n||(n=nk()),!n)throw lo.create("no-options");const i=Hf.get(s);if(i){if(ui(n,i.options)&&ui(r,i.config))return i;throw lo.create("duplicate-app",{appName:s})}const o=new N3(s);for(const c of dy.values())o.addComponent(c);const l=new E6(n,r,o);return Hf.set(s,l),l}function ck(t=uy){const e=Hf.get(t);if(!e&&t===uy&&nk())return lk();if(!e)throw lo.create("no-app",{appName:t});return e}function co(t,e,n){var r;let s=(r=x6[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(l.join(" "));return}Ql(new ba(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="firebase-heartbeat-database",T6=1,ed="firebase-heartbeat-store";let Pg=null;function uk(){return Pg||(Pg=$3(b6,T6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ed)}catch(n){console.warn(n)}}}}).catch(t=>{throw lo.create("idb-open",{originalErrorMessage:t.message})})),Pg}async function S6(t){try{const n=(await uk()).transaction(ed),r=await n.objectStore(ed).get(dk(t));return await n.done,r}catch(e){if(e instanceof xi)di.warn(e.message);else{const n=lo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(n.message)}}}async function CE(t,e){try{const r=(await uk()).transaction(ed,"readwrite");await r.objectStore(ed).put(e,dk(t)),await r.done}catch(n){if(n instanceof xi)di.warn(n.message);else{const r=lo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});di.warn(r.message)}}}function dk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=1024,I6=30;class N6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=IE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>I6){const o=R6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){di.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=IE(),{heartbeatsToSend:r,unsentEntries:s}=k6(this._heartbeatsCache.heartbeats),i=Wf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return di.warn(n),""}}}function IE(){return new Date().toISOString().substring(0,10)}function k6(t,e=C6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),NE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),NE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class A6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g3()?v3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await S6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return CE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return CE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function NE(t){return Wf(JSON.stringify({version:2,heartbeats:t})).length}function R6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){Ql(new ba("platform-logger",e=>new W3(e),"PRIVATE")),Ql(new ba("heartbeat",e=>new N6(e),"PRIVATE")),co(cy,TE,t),co(cy,TE,"esm2017"),co("fire-js","")}P6("");var ws=function(){return ws=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ws.apply(this,arguments)};function Td(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function j6(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function hk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D6=hk,fk=new Ed("auth","Firebase",hk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new gw("@firebase/auth");function O6(t,...e){qf.logLevel<=Ze.WARN&&qf.warn(`Auth (${yc}): ${t}`,...e)}function Kh(t,...e){qf.logLevel<=Ze.ERROR&&qf.error(`Auth (${yc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,...e){throw ww(t,...e)}function ts(t,...e){return ww(t,...e)}function xw(t,e,n){const r=Object.assign(Object.assign({},D6()),{[e]:n});return new Ed("auth","Firebase",r).create(e,{appName:t.name})}function ni(t){return xw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Or(t,"argument-error"),xw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ww(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fk.create(t,...e)}function Se(t,e,...n){if(!t)throw ww(e,...n)}function Zs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kh(e),new Error(e)}function hi(t,e){t||Zs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function L6(){return kE()==="http:"||kE()==="https:"}function kE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L6()||h3()||"connection"in navigator)?navigator.onLine:!0}function F6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=c3()||f3()}get(){return V6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t,e){hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],B6=new Sd(3e4,6e4);function wi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Vs(t,e,n,r,s={}){return pk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=bd(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return d3()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&vc(t.emulatorConfig.host)&&(u.credentials="include"),mk.fetch()(await gk(t,t.config.apiHost,n,l),u)})}async function pk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},U6),e);try{const s=new W6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw bh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw bh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw bh(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xw(t,h,u);Or(t,h)}}catch(s){if(s instanceof xi)throw s;Or(t,"network-request-failed",{message:String(s)})}}async function Cd(t,e,n,r,s={}){const i=await Vs(t,e,n,r,s);return"mfaPendingCredential"in i&&Or(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function gk(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?_w(t.config,s):`${t.config.apiScheme}://${s}`;return $6.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function z6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ts(this.auth,"network-request-failed")),B6.get())})}}function bh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ts(t,e,r);return s.customData._tokenResponse=n,s}function AE(t){return t!==void 0&&t.enterprise!==void 0}class H6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return z6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function q6(t,e){return Vs(t,"GET","/v2/recaptchaConfig",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(t,e){return Vs(t,"POST","/v1/accounts:delete",e)}async function Gf(t,e){return Vs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function K6(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),s=Ew(r);Se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Eu(jg(s.auth_time)),issuedAtTime:Eu(jg(s.iat)),expirationTime:Eu(jg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function jg(t){return Number(t)*1e3}function Ew(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{const s=ek(n);return s?JSON.parse(s):(Kh("Failed to decode base64 JWT payload"),null)}catch(s){return Kh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function RE(t){const e=Ew(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xi&&Q6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Q6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Yl(t,Gf(n,{idToken:r}));Se(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?vk(i.providerUserInfo):[],l=Z6(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new fy(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function X6(t){const e=Dt(t);await Kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z6(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function vk(t){return t.map(e=>{var{providerId:n}=e,r=Td(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(t,e){const n=await pk(t,{},async()=>{const r=bd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await gk(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&vc(t.emulatorConfig.host)&&(c.credentials="include"),mk.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eU(t,e){return Vs(t,"POST","/v2/accounts:revokeToken",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=RE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await J6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new bl;return r&&(Se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Se(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Se(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return Zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Td(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Yl(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return K6(this,e)}reload(){return X6(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await Yl(this,G6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:y,emailVerified:S,isAnonymous:k,providerData:D,stsTokenManager:I}=n;Se(y&&I,e,"internal-error");const C=bl.fromJSON(this.name,I);Se(typeof y=="string",e,"internal-error"),Ri(f,e.name),Ri(m,e.name),Se(typeof S=="boolean",e,"internal-error"),Se(typeof k=="boolean",e,"internal-error"),Ri(g,e.name),Ri(b,e.name),Ri(E,e.name),Ri(x,e.name),Ri(_,e.name),Ri(v,e.name);const N=new Zr({uid:y,auth:e,email:m,emailVerified:S,displayName:f,isAnonymous:k,photoURL:b,phoneNumber:g,tenantId:E,stsTokenManager:C,createdAt:_,lastLoginAt:v});return D&&Array.isArray(D)&&(N.providerData=D.map(R=>Object.assign({},R))),x&&(N._redirectEventId=x),N}static async _fromIdTokenResponse(e,n,r=!1){const s=new bl;s.updateFromServerResponse(n);const i=new Zr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Kf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Se(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?vk(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new bl;l.updateFromIdToken(r);const c=new Zr({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new fy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;function Js(t){hi(t instanceof Function,"Expected a class definition");let e=PE.get(t);return e?(hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yk.type="NONE";const jE=yk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Qh(this.userKey,s.apiKey,i),this.fullPersistenceKey=Qh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gf(this.auth,{idToken:e}).catch(()=>{});return n?Zr._fromGetAccountInfoResponse(this.auth,n,e):null}return Zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Tl(Js(jE),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Js(jE);const o=Qh(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const m=await Gf(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Zr._fromGetAccountInfoResponse(e,m,h)}else f=Zr._fromJSON(e,h);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Tl(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Tl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ek(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tk(e))return"Blackberry";if(Sk(e))return"Webos";if(wk(e))return"Safari";if((e.includes("chrome/")||_k(e))&&!e.includes("edge/"))return"Chrome";if(bk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xk(t=Mn()){return/firefox\//i.test(t)}function wk(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _k(t=Mn()){return/crios\//i.test(t)}function Ek(t=Mn()){return/iemobile/i.test(t)}function bk(t=Mn()){return/android/i.test(t)}function Tk(t=Mn()){return/blackberry/i.test(t)}function Sk(t=Mn()){return/webos/i.test(t)}function bw(t=Mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tU(t=Mn()){var e;return bw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nU(){return m3()&&document.documentMode===10}function Ck(t=Mn()){return bw(t)||bk(t)||Sk(t)||Tk(t)||/windows phone/i.test(t)||Ek(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t,e=[]){let n;switch(t){case"Browser":n=DE(Mn());break;case"Worker":n=`${DE(Mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(t,e={}){return Vs(t,"GET","/v2/passwordPolicy",wi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=6;class oU{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:iU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OE(this),this.idTokenSubscription=new OE(this),this.beforeStateQueue=new rU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Js(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gf(this,{idToken:e}),r=await Zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(ni(this));const n=e?Dt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sU(this),n=new oU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ed("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Js(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[Js(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ik(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&O6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _i(t){return Dt(t)}class OE{constructor(e){this.auth=e,this.observer=null,this.addObserver=E3(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lU(t){ep=t}function Nk(t){return ep.loadJS(t)}function cU(){return ep.recaptchaEnterpriseScript}function uU(){return ep.gapiScript}function dU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class hU{constructor(){this.enterprise=new fU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mU="recaptcha-enterprise",kk="NO_RECAPTCHA";class pU{constructor(e){this.type=mU,this.auth=_i(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{q6(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new H6(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;AE(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(kk)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hU().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&AE(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=cU();c.length!==0&&(c+=l),Nk(c).then(()=>{s(l,i,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function ME(t,e,n,r=!1,s=!1){const i=new pU(t);let o;if(s)o=kk;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Qf(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ME(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await ME(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t,e){const n=yw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ui(i,e??{}))return s;Or(s,"already-initialized")}return n.initialize({options:e})}function vU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Js);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function yU(t,e,n){const r=_i(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Ak(e),{host:o,port:l}=xU(e),c=l===null?"":`:${l}`,u={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(ui(u,r.config.emulator)&&ui(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,vc(o)?(sk(`${i}//${o}${c}`),ik("Auth",!0)):wU()}function Ak(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xU(t){const e=Ak(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:LE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:LE(o)}}}function LE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zs("not implemented")}_getIdTokenResponse(e){return Zs("not implemented")}_linkToIdToken(e,n){return Zs("not implemented")}_getReauthenticationResolver(e){return Zs("not implemented")}}async function _U(t,e){return Vs(t,"POST","/v1/accounts:update",e)}async function EU(t,e){return Vs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e){return Cd(t,"POST","/v1/accounts:signInWithPassword",wi(t,e))}async function Rk(t,e){return Vs(t,"POST","/v1/accounts:sendOobCode",wi(t,e))}async function TU(t,e){return Rk(t,e)}async function SU(t,e){return Rk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(t,e){return Cd(t,"POST","/v1/accounts:signInWithEmailLink",wi(t,e))}async function IU(t,e){return Cd(t,"POST","/v1/accounts:signInWithEmailLink",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends Tw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new td(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new td(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,n,"signInWithPassword",bU);case"emailLink":return CU(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qf(e,r,"signUpPassword",EU);case"emailLink":return IU(e,{idToken:n,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e){return Cd(t,"POST","/v1/accounts:signInWithIdp",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="http://localhost";class Ta extends Tw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Td(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ta(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sl(e,n)}buildRequest(){const e={requestUri:NU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AU(t){const e=eu(tu(t)).link,n=e?eu(tu(e)).deep_link_id:null,r=eu(tu(t)).deep_link_id;return(r?eu(tu(r)).link:null)||r||n||e||t}class Sw{constructor(e){var n,r,s,i,o,l;const c=eu(tu(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=kU((s=c.mode)!==null&&s!==void 0?s:null);Se(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=AU(e);try{return new Sw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.providerId=La.PROVIDER_ID}static credential(e,n){return td._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sw.parseLink(n);return Se(r,"argument-error"),td._fromEmailAndCode(e,r.code,r.tenantId)}}La.PROVIDER_ID="password";La.EMAIL_PASSWORD_SIGN_IN_METHOD="password";La.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends Cw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Id{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Id{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ta._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ks.credential(n,r)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Id{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Id{constructor(){super("twitter.com")}static credential(e,n){return Ta._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(t,e){return Cd(t,"POST","/v1/accounts:signUp",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Zr._fromIdTokenResponse(e,r,s),o=VE(r);return new Sa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=VE(r);return new Sa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function VE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends xi{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Yf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Yf(e,n,r,s)}}function Pk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Yf._fromErrorAndOperation(t,i,e,r):i})}async function PU(t,e,n=!1){const r=await Yl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Sa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(ni(r));const s="reauthenticate";try{const i=await Yl(t,Pk(r,s,e,t),n);Se(i.idToken,r,"internal-error");const o=Ew(i.idToken);Se(o,r,"internal-error");const{sub:l}=o;return Se(t.uid===l,r,"user-mismatch"),Sa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Or(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(t,e,n=!1){if(fr(t.app))return Promise.reject(ni(t));const r="signIn",s=await Pk(t,r,e),i=await Sa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function jU(t,e){return Dk(_i(t),e)}async function DU(t,e){return jk(Dt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(t){const e=_i(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OU(t,e,n){const r=_i(t);await Qf(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",SU)}async function MU(t,e,n){if(fr(t.app))return Promise.reject(ni(t));const r=_i(t),o=await Qf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RU).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Ok(t),c}),l=await Sa._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function LU(t,e,n){return fr(t.app)?Promise.reject(ni(t)):jU(Dt(t),La.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ok(t),r})}async function VU(t,e){const n=Dt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await TU(n.auth,s);i!==t.email&&await t.reload()}function FU(t,e){return UU(Dt(t),null,e)}async function UU(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const o=await Yl(t,_U(r,i));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t,e){return Dt(t).setPersistence(e)}function BU(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function zU(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function WU(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function Dg(t){return Dt(t).signOut()}const Xf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xf,"1"),this.storage.removeItem(Xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=1e3,qU=10;class Lk extends Mk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ck(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);nU()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,qU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},HU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lk.type="LOCAL";const Vk=Lk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk extends Mk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Fk.type="SESSION";const Uk=Fk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new tp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await GU(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=Iw("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(){return window}function QU(t){Ns().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(){return typeof Ns().WorkerGlobalScope<"u"&&typeof Ns().importScripts=="function"}async function YU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZU(){return $k()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="firebaseLocalStorageDb",JU=1,Zf="firebaseLocalStorage",zk="fbase_key";class Nd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function np(t,e){return t.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function e9(){const t=indexedDB.deleteDatabase(Bk);return new Nd(t).toPromise()}function my(){const t=indexedDB.open(Bk,JU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zf,{keyPath:zk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zf)?e(r):(r.close(),await e9(),e(await my()))})})}async function FE(t,e,n){const r=np(t,!0).put({[zk]:e,value:n});return new Nd(r).toPromise()}async function t9(t,e){const n=np(t,!1).get(e),r=await new Nd(n).toPromise();return r===void 0?null:r.value}function UE(t,e){const n=np(t,!0).delete(e);return new Nd(n).toPromise()}const n9=800,r9=3;class Wk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await my(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>r9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $k()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tp._getInstance(ZU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await YU(),!this.activeServiceWorker)return;this.sender=new KU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await my();return await FE(e,Xf,"1"),await UE(e,Xf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>FE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>t9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>UE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=np(s,!1).getAll();return new Nd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wk.type="LOCAL";const s9=Wk;new Sd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t,e){return e?Js(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw extends Tw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i9(t){return Dk(t.auth,new Nw(t),t.bypassAuthState)}function o9(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),jk(n,new Nw(t),t.bypassAuthState)}async function a9(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),PU(n,new Nw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i9;case"linkViaPopup":case"linkViaRedirect":return a9;case"reauthViaPopup":case"reauthViaRedirect":return o9;default:Or(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=new Sd(2e3,1e4);async function c9(t,e,n){if(fr(t.app))return Promise.reject(ts(t,"operation-not-supported-in-this-environment"));const r=_i(t);M6(t,e,Cw);const s=Hk(r,n);return new sa(r,"signInViaPopup",e,s).executeNotNull()}class sa extends qk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=Iw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,l9.get())};e()}}sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9="pendingRedirect",Yh=new Map;class d9 extends qk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yh.get(this.auth._key());if(!e){try{const r=await h9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yh.set(this.auth._key(),e)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h9(t,e){const n=p9(e),r=m9(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function f9(t,e){Yh.set(t._key(),e)}function m9(t){return Js(t._redirectPersistence)}function p9(t){return Qh(u9,t.config.apiKey,t.name)}async function g9(t,e,n=!1){if(fr(t.app))return Promise.reject(ni(t));const r=_i(t),s=Hk(r,e),o=await new d9(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=10*60*1e3;class y9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!x9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Gk(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ts(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v9&&this.cachedEventUids.clear(),this.cachedEventUids.has($E(e))}saveEventToCache(e){this.cachedEventUids.add($E(e)),this.lastProcessedEventTime=Date.now()}}function $E(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Gk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function x9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(t,e={}){return Vs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E9=/^https?/;async function b9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await w9(t);for(const n of e)try{if(T9(n))return}catch{}Or(t,"unauthorized-domain")}function T9(t){const e=hy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!E9.test(n))return!1;if(_9.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=new Sd(3e4,6e4);function BE(){const t=Ns().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function C9(t){return new Promise((e,n)=>{var r,s,i;function o(){BE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BE(),n(ts(t,"network-request-failed"))},timeout:S9.get()})}if(!((s=(r=Ns().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ns().gapi)===null||i===void 0)&&i.load)o();else{const l=dU("iframefcb");return Ns()[l]=()=>{gapi.load?o():n(ts(t,"network-request-failed"))},Nk(`${uU()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Xh=null,e})}let Xh=null;function I9(t){return Xh=Xh||C9(t),Xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=new Sd(5e3,15e3),k9="__/auth/iframe",A9="emulator/auth/iframe",R9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j9(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_w(e,A9):`https://${t.config.authDomain}/${k9}`,r={apiKey:e.apiKey,appName:t.name,v:yc},s=P9.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${bd(r).slice(1)}`}async function D9(t){const e=await I9(t),n=Ns().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:j9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R9,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ts(t,"network-request-failed"),l=Ns().setTimeout(()=>{i(o)},N9.get());function c(){Ns().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M9=500,L9=600,V9="_blank",F9="http://localhost";class zE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U9(t,e,n,r=M9,s=L9){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},O9),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Mn().toLowerCase();n&&(l=_k(u)?V9:n),xk(u)&&(e=e||F9,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[g,b])=>`${m}${g}=${b},`,"");if(tU(u)&&l!=="_self")return $9(e||"",l),new zE(null);const f=window.open(e||"",l,h);Se(f,t,"popup-blocked");try{f.focus()}catch{}return new zE(f)}function $9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9="__/auth/handler",z9="emulator/auth/handler",W9=encodeURIComponent("fac");async function WE(t,e,n,r,s,i){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yc,eventId:s};if(e instanceof Cw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Id){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${W9}=${encodeURIComponent(c)}`:"";return`${H9(t)}?${bd(l).slice(1)}${u}`}function H9({config:t}){return t.emulator?_w(t,z9):`https://${t.authDomain}/${B9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="webStorageSupport";class q9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uk,this._completeRedirectFn=g9,this._overrideRedirectResult=f9}async _openPopup(e,n,r,s){var i;hi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await WE(e,n,r,hy(),s);return U9(e,o,Iw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await WE(e,n,r,hy(),s);return QU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(hi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await D9(e),r=new y9(e);return n.register("authEvent",s=>(Se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Og,{type:Og},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Og];o!==void 0&&n(!!o),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=b9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ck()||wk()||bw()}}const G9=q9;var HE="@firebase/auth",qE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y9(t){Ql(new ba("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ik(t)},u=new aU(r,s,i,c);return vU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ql(new ba("auth-internal",e=>{const n=_i(e.getProvider("auth").getImmediate());return(r=>new K9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(HE,qE,Q9(t)),co(HE,qE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=5*60,Z9=rk("authIdTokenMaxAge")||X9;let GE=null;const J9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Z9)return;const s=n==null?void 0:n.token;GE!==s&&(GE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function e$(t=ck()){const e=yw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gU(t,{popupRedirectResolver:G9,persistence:[s9,Vk,Uk]}),r=rk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=J9(i.toString());zU(n,o,()=>o(n.currentUser)),BU(n,l=>o(l))}}const s=tk("auth");return s&&yU(n,`http://${s}`),n}function t$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ts("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",t$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y9("Browser");var KE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uo,Kk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function N(){}N.prototype=C.prototype,I.D=C.prototype,I.prototype=new N,I.prototype.constructor=I,I.C=function(R,P,O){for(var A=Array(arguments.length-2),W=2;W<arguments.length;W++)A[W-2]=arguments[W];return C.prototype[P].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,C,N){N||(N=0);var R=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)R[P]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(P=0;16>P;++P)R[P]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=I.g[0],N=I.g[1],P=I.g[2];var O=I.g[3],A=C+(O^N&(P^O))+R[0]+3614090360&4294967295;C=N+(A<<7&4294967295|A>>>25),A=O+(P^C&(N^P))+R[1]+3905402710&4294967295,O=C+(A<<12&4294967295|A>>>20),A=P+(N^O&(C^N))+R[2]+606105819&4294967295,P=O+(A<<17&4294967295|A>>>15),A=N+(C^P&(O^C))+R[3]+3250441966&4294967295,N=P+(A<<22&4294967295|A>>>10),A=C+(O^N&(P^O))+R[4]+4118548399&4294967295,C=N+(A<<7&4294967295|A>>>25),A=O+(P^C&(N^P))+R[5]+1200080426&4294967295,O=C+(A<<12&4294967295|A>>>20),A=P+(N^O&(C^N))+R[6]+2821735955&4294967295,P=O+(A<<17&4294967295|A>>>15),A=N+(C^P&(O^C))+R[7]+4249261313&4294967295,N=P+(A<<22&4294967295|A>>>10),A=C+(O^N&(P^O))+R[8]+1770035416&4294967295,C=N+(A<<7&4294967295|A>>>25),A=O+(P^C&(N^P))+R[9]+2336552879&4294967295,O=C+(A<<12&4294967295|A>>>20),A=P+(N^O&(C^N))+R[10]+4294925233&4294967295,P=O+(A<<17&4294967295|A>>>15),A=N+(C^P&(O^C))+R[11]+2304563134&4294967295,N=P+(A<<22&4294967295|A>>>10),A=C+(O^N&(P^O))+R[12]+1804603682&4294967295,C=N+(A<<7&4294967295|A>>>25),A=O+(P^C&(N^P))+R[13]+4254626195&4294967295,O=C+(A<<12&4294967295|A>>>20),A=P+(N^O&(C^N))+R[14]+2792965006&4294967295,P=O+(A<<17&4294967295|A>>>15),A=N+(C^P&(O^C))+R[15]+1236535329&4294967295,N=P+(A<<22&4294967295|A>>>10),A=C+(P^O&(N^P))+R[1]+4129170786&4294967295,C=N+(A<<5&4294967295|A>>>27),A=O+(N^P&(C^N))+R[6]+3225465664&4294967295,O=C+(A<<9&4294967295|A>>>23),A=P+(C^N&(O^C))+R[11]+643717713&4294967295,P=O+(A<<14&4294967295|A>>>18),A=N+(O^C&(P^O))+R[0]+3921069994&4294967295,N=P+(A<<20&4294967295|A>>>12),A=C+(P^O&(N^P))+R[5]+3593408605&4294967295,C=N+(A<<5&4294967295|A>>>27),A=O+(N^P&(C^N))+R[10]+38016083&4294967295,O=C+(A<<9&4294967295|A>>>23),A=P+(C^N&(O^C))+R[15]+3634488961&4294967295,P=O+(A<<14&4294967295|A>>>18),A=N+(O^C&(P^O))+R[4]+3889429448&4294967295,N=P+(A<<20&4294967295|A>>>12),A=C+(P^O&(N^P))+R[9]+568446438&4294967295,C=N+(A<<5&4294967295|A>>>27),A=O+(N^P&(C^N))+R[14]+3275163606&4294967295,O=C+(A<<9&4294967295|A>>>23),A=P+(C^N&(O^C))+R[3]+4107603335&4294967295,P=O+(A<<14&4294967295|A>>>18),A=N+(O^C&(P^O))+R[8]+1163531501&4294967295,N=P+(A<<20&4294967295|A>>>12),A=C+(P^O&(N^P))+R[13]+2850285829&4294967295,C=N+(A<<5&4294967295|A>>>27),A=O+(N^P&(C^N))+R[2]+4243563512&4294967295,O=C+(A<<9&4294967295|A>>>23),A=P+(C^N&(O^C))+R[7]+1735328473&4294967295,P=O+(A<<14&4294967295|A>>>18),A=N+(O^C&(P^O))+R[12]+2368359562&4294967295,N=P+(A<<20&4294967295|A>>>12),A=C+(N^P^O)+R[5]+4294588738&4294967295,C=N+(A<<4&4294967295|A>>>28),A=O+(C^N^P)+R[8]+2272392833&4294967295,O=C+(A<<11&4294967295|A>>>21),A=P+(O^C^N)+R[11]+1839030562&4294967295,P=O+(A<<16&4294967295|A>>>16),A=N+(P^O^C)+R[14]+4259657740&4294967295,N=P+(A<<23&4294967295|A>>>9),A=C+(N^P^O)+R[1]+2763975236&4294967295,C=N+(A<<4&4294967295|A>>>28),A=O+(C^N^P)+R[4]+1272893353&4294967295,O=C+(A<<11&4294967295|A>>>21),A=P+(O^C^N)+R[7]+4139469664&4294967295,P=O+(A<<16&4294967295|A>>>16),A=N+(P^O^C)+R[10]+3200236656&4294967295,N=P+(A<<23&4294967295|A>>>9),A=C+(N^P^O)+R[13]+681279174&4294967295,C=N+(A<<4&4294967295|A>>>28),A=O+(C^N^P)+R[0]+3936430074&4294967295,O=C+(A<<11&4294967295|A>>>21),A=P+(O^C^N)+R[3]+3572445317&4294967295,P=O+(A<<16&4294967295|A>>>16),A=N+(P^O^C)+R[6]+76029189&4294967295,N=P+(A<<23&4294967295|A>>>9),A=C+(N^P^O)+R[9]+3654602809&4294967295,C=N+(A<<4&4294967295|A>>>28),A=O+(C^N^P)+R[12]+3873151461&4294967295,O=C+(A<<11&4294967295|A>>>21),A=P+(O^C^N)+R[15]+530742520&4294967295,P=O+(A<<16&4294967295|A>>>16),A=N+(P^O^C)+R[2]+3299628645&4294967295,N=P+(A<<23&4294967295|A>>>9),A=C+(P^(N|~O))+R[0]+4096336452&4294967295,C=N+(A<<6&4294967295|A>>>26),A=O+(N^(C|~P))+R[7]+1126891415&4294967295,O=C+(A<<10&4294967295|A>>>22),A=P+(C^(O|~N))+R[14]+2878612391&4294967295,P=O+(A<<15&4294967295|A>>>17),A=N+(O^(P|~C))+R[5]+4237533241&4294967295,N=P+(A<<21&4294967295|A>>>11),A=C+(P^(N|~O))+R[12]+1700485571&4294967295,C=N+(A<<6&4294967295|A>>>26),A=O+(N^(C|~P))+R[3]+2399980690&4294967295,O=C+(A<<10&4294967295|A>>>22),A=P+(C^(O|~N))+R[10]+4293915773&4294967295,P=O+(A<<15&4294967295|A>>>17),A=N+(O^(P|~C))+R[1]+2240044497&4294967295,N=P+(A<<21&4294967295|A>>>11),A=C+(P^(N|~O))+R[8]+1873313359&4294967295,C=N+(A<<6&4294967295|A>>>26),A=O+(N^(C|~P))+R[15]+4264355552&4294967295,O=C+(A<<10&4294967295|A>>>22),A=P+(C^(O|~N))+R[6]+2734768916&4294967295,P=O+(A<<15&4294967295|A>>>17),A=N+(O^(P|~C))+R[13]+1309151649&4294967295,N=P+(A<<21&4294967295|A>>>11),A=C+(P^(N|~O))+R[4]+4149444226&4294967295,C=N+(A<<6&4294967295|A>>>26),A=O+(N^(C|~P))+R[11]+3174756917&4294967295,O=C+(A<<10&4294967295|A>>>22),A=P+(C^(O|~N))+R[2]+718787259&4294967295,P=O+(A<<15&4294967295|A>>>17),A=N+(O^(P|~C))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var N=C-this.blockSize,R=this.B,P=this.h,O=0;O<C;){if(P==0)for(;O<=N;)s(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<C;)if(R[P++]=I.charCodeAt(O++),P==this.blockSize){s(this,R),P=0;break}}else for(;O<C;)if(R[P++]=I[O++],P==this.blockSize){s(this,R),P=0;break}}this.h=P,this.o+=C},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var N=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=N&255,N/=256;for(this.u(I),I=Array(16),C=N=0;4>C;++C)for(var R=0;32>R;R+=8)I[N++]=this.g[C]>>>R&255;return I};function i(I,C){var N=l;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=C(I)}function o(I,C){this.h=C;for(var N=[],R=!0,P=I.length-1;0<=P;P--){var O=I[P]|0;R&&O==C||(N[P]=O,R=!1)}this.g=N}var l={};function c(I){return-128<=I&&128>I?i(I,function(C){return new o([C|0],0>C?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return x(u(-I));for(var C=[],N=1,R=0;I>=N;R++)C[R]=I/N|0,N*=4294967296;return new o(C,0)}function h(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return x(h(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(C,8)),R=f,P=0;P<I.length;P+=8){var O=Math.min(8,I.length-P),A=parseInt(I.substring(P,P+O),C);8>O?(O=u(Math.pow(C,O)),R=R.j(O).add(u(A))):(R=R.j(N),R=R.add(u(A)))}return R}var f=c(0),m=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(E(this))return-x(this).m();for(var I=0,C=1,N=0;N<this.g.length;N++){var R=this.i(N);I+=(0<=R?R:4294967296+R)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(E(this))return"-"+x(this).toString(I);for(var C=u(Math.pow(I,6)),N=this,R="";;){var P=S(N,C).g;N=_(N,P.j(C));var O=((0<N.g.length?N.g[0]:N.h)>>>0).toString(I);if(N=P,b(N))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=_(this,I),E(I)?-1:b(I)?0:1};function x(I){for(var C=I.g.length,N=[],R=0;R<C;R++)N[R]=~I.g[R];return new o(N,~I.h).add(m)}t.abs=function(){return E(this)?x(this):this},t.add=function(I){for(var C=Math.max(this.g.length,I.g.length),N=[],R=0,P=0;P<=C;P++){var O=R+(this.i(P)&65535)+(I.i(P)&65535),A=(O>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);R=A>>>16,O&=65535,A&=65535,N[P]=A<<16|O}return new o(N,N[N.length-1]&-2147483648?-1:0)};function _(I,C){return I.add(x(C))}t.j=function(I){if(b(this)||b(I))return f;if(E(this))return E(I)?x(this).j(x(I)):x(x(this).j(I));if(E(I))return x(this.j(x(I)));if(0>this.l(g)&&0>I.l(g))return u(this.m()*I.m());for(var C=this.g.length+I.g.length,N=[],R=0;R<2*C;R++)N[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<I.g.length;P++){var O=this.i(R)>>>16,A=this.i(R)&65535,W=I.i(P)>>>16,oe=I.i(P)&65535;N[2*R+2*P]+=A*oe,v(N,2*R+2*P),N[2*R+2*P+1]+=O*oe,v(N,2*R+2*P+1),N[2*R+2*P+1]+=A*W,v(N,2*R+2*P+1),N[2*R+2*P+2]+=O*W,v(N,2*R+2*P+2)}for(R=0;R<C;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=C;R<2*C;R++)N[R]=0;return new o(N,0)};function v(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function y(I,C){this.g=I,this.h=C}function S(I,C){if(b(C))throw Error("division by zero");if(b(I))return new y(f,f);if(E(I))return C=S(x(I),C),new y(x(C.g),x(C.h));if(E(C))return C=S(I,x(C)),new y(x(C.g),C.h);if(30<I.g.length){if(E(I)||E(C))throw Error("slowDivide_ only works with positive integers.");for(var N=m,R=C;0>=R.l(I);)N=k(N),R=k(R);var P=D(N,1),O=D(R,1);for(R=D(R,2),N=D(N,2);!b(R);){var A=O.add(R);0>=A.l(I)&&(P=P.add(N),O=A),R=D(R,1),N=D(N,1)}return C=_(I,P.j(C)),new y(P,C)}for(P=f;0<=I.l(C);){for(N=Math.max(1,Math.floor(I.m()/C.m())),R=Math.ceil(Math.log(N)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=u(N),A=O.j(C);E(A)||0<A.l(I);)N-=R,O=u(N),A=O.j(C);b(O)&&(O=m),P=P.add(O),I=_(I,A)}return new y(P,I)}t.A=function(I){return S(this,I).h},t.and=function(I){for(var C=Math.max(this.g.length,I.g.length),N=[],R=0;R<C;R++)N[R]=this.i(R)&I.i(R);return new o(N,this.h&I.h)},t.or=function(I){for(var C=Math.max(this.g.length,I.g.length),N=[],R=0;R<C;R++)N[R]=this.i(R)|I.i(R);return new o(N,this.h|I.h)},t.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),N=[],R=0;R<C;R++)N[R]=this.i(R)^I.i(R);return new o(N,this.h^I.h)};function k(I){for(var C=I.g.length+1,N=[],R=0;R<C;R++)N[R]=I.i(R)<<1|I.i(R-1)>>>31;return new o(N,I.h)}function D(I,C){var N=C>>5;C%=32;for(var R=I.g.length-N,P=[],O=0;O<R;O++)P[O]=0<C?I.i(O+N)>>>C|I.i(O+N+1)<<32-C:I.i(O+N);return new o(P,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Kk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,uo=o}).apply(typeof KE<"u"?KE:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qk,nu,Yk,Zh,py,Xk,Zk,Jk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,T){return d==Array.prototype||d==Object.prototype||(d[w]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var w=0;w<d.length;++w){var T=d[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(d,w){if(w)e:{var T=r;d=d.split(".");for(var j=0;j<d.length-1;j++){var V=d[j];if(!(V in T))break e;T=T[V]}d=d[d.length-1],j=T[d],w=w(j),w!=j&&w!=null&&e(T,d,{configurable:!0,writable:!0,value:w})}}function i(d,w){d instanceof String&&(d+="");var T=0,j=!1,V={next:function(){if(!j&&T<d.length){var z=T++;return{value:w(z,d[z]),done:!1}}return j=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(d){return d||function(){return i(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function u(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function h(d,w,T){return d.call.apply(d.bind,arguments)}function f(d,w,T){if(!d)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,j),d.apply(w,V)}}return function(){return d.apply(w,arguments)}}function m(d,w,T){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function g(d,w){var T=Array.prototype.slice.call(arguments,1);return function(){var j=T.slice();return j.push.apply(j,arguments),d.apply(this,j)}}function b(d,w){function T(){}T.prototype=w.prototype,d.aa=w.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(j,V,z){for(var ie=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)ie[wt-2]=arguments[wt];return w.prototype[V].apply(j,ie)}}function E(d){const w=d.length;if(0<w){const T=Array(w);for(let j=0;j<w;j++)T[j]=d[j];return T}return[]}function x(d,w){for(let T=1;T<arguments.length;T++){const j=arguments[T];if(c(j)){const V=d.length||0,z=j.length||0;d.length=V+z;for(let ie=0;ie<z;ie++)d[V+ie]=j[ie]}else d.push(j)}}class _{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function v(d){return/^[\s\xa0]*$/.test(d)}function y(){var d=l.navigator;return d&&(d=d.userAgent)?d:""}function S(d){return S[" "](d),d}S[" "]=function(){};var k=y().indexOf("Gecko")!=-1&&!(y().toLowerCase().indexOf("webkit")!=-1&&y().indexOf("Edge")==-1)&&!(y().indexOf("Trident")!=-1||y().indexOf("MSIE")!=-1)&&y().indexOf("Edge")==-1;function D(d,w,T){for(const j in d)w.call(T,d[j],j,d)}function I(d,w){for(const T in d)w.call(void 0,d[T],T,d)}function C(d){const w={};for(const T in d)w[T]=d[T];return w}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(d,w){let T,j;for(let V=1;V<arguments.length;V++){j=arguments[V];for(T in j)d[T]=j[T];for(let z=0;z<N.length;z++)T=N[z],Object.prototype.hasOwnProperty.call(j,T)&&(d[T]=j[T])}}function P(d){var w=1;d=d.split(":");const T=[];for(;0<w&&d.length;)T.push(d.shift()),w--;return d.length&&T.push(d.join(":")),T}function O(d){l.setTimeout(()=>{throw d},0)}function A(){var d=$;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class W{constructor(){this.h=this.g=null}add(w,T){const j=oe.get();j.set(w,T),this.h?this.h.next=j:this.g=j,this.h=j}}var oe=new _(()=>new Q,d=>d.reset());class Q{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,U=!1,$=new W,re=()=>{const d=l.Promise.resolve(void 0);ee=()=>{d.then(ge)}};var ge=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(T){O(T)}var w=oe;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}U=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};l.addEventListener("test",T,w),l.removeEventListener("test",T,w)}catch{}return d}();function Fe(d,w){if(ue.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,j=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(k){e:{try{S(w.nodeName);var V=!0;break e}catch{}V=!1}V||(w=null)}}else T=="mouseover"?w=d.fromElement:T=="mouseout"&&(w=d.toElement);this.relatedTarget=w,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:dt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Fe.aa.h.call(this)}}b(Fe,ue);var dt={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),ze=0;function at(d,w,T,j,V){this.listener=d,this.proxy=null,this.src=w,this.type=T,this.capture=!!j,this.ha=V,this.key=++ze,this.da=this.fa=!1}function Ae(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ie(d){this.src=d,this.g={},this.h=0}Ie.prototype.add=function(d,w,T,j,V){var z=d.toString();d=this.g[z],d||(d=this.g[z]=[],this.h++);var ie=_t(d,w,j,V);return-1<ie?(w=d[ie],T||(w.fa=!1)):(w=new at(w,this.src,z,!!j,V),w.fa=T,d.push(w)),w};function Re(d,w){var T=w.type;if(T in d.g){var j=d.g[T],V=Array.prototype.indexOf.call(j,w,void 0),z;(z=0<=V)&&Array.prototype.splice.call(j,V,1),z&&(Ae(w),d.g[T].length==0&&(delete d.g[T],d.h--))}}function _t(d,w,T,j){for(var V=0;V<d.length;++V){var z=d[V];if(!z.da&&z.listener==w&&z.capture==!!T&&z.ha==j)return V}return-1}var me="closure_lm_"+(1e6*Math.random()|0),L={};function Ee(d,w,T,j,V){if(Array.isArray(w)){for(var z=0;z<w.length;z++)Ee(d,w[z],T,j,V);return null}return T=Y(T),d&&d[se]?d.K(w,T,u(j)?!!j.capture:!!j,V):Ne(d,w,T,!1,j,V)}function Ne(d,w,T,j,V,z){if(!w)throw Error("Invalid event type");var ie=u(V)?!!V.capture:!!V,wt=te(d);if(wt||(d[me]=wt=new Ie(d)),T=wt.add(w,T,j,ie,z),T.proxy)return T;if(j=Tt(),T.proxy=j,j.src=d,j.listener=T,d.addEventListener)we||(V=ie),V===void 0&&(V=!1),d.addEventListener(w.toString(),j,V);else if(d.attachEvent)d.attachEvent(F(w.toString()),j);else if(d.addListener&&d.removeListener)d.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Tt(){function d(T){return w.call(d.src,d.listener,T)}const w=B;return d}function Qe(d,w,T,j,V){if(Array.isArray(w))for(var z=0;z<w.length;z++)Qe(d,w[z],T,j,V);else j=u(j)?!!j.capture:!!j,T=Y(T),d&&d[se]?(d=d.i,w=String(w).toString(),w in d.g&&(z=d.g[w],T=_t(z,T,j,V),-1<T&&(Ae(z[T]),Array.prototype.splice.call(z,T,1),z.length==0&&(delete d.g[w],d.h--)))):d&&(d=te(d))&&(w=d.g[w.toString()],d=-1,w&&(d=_t(w,T,j,V)),(T=-1<d?w[d]:null)&&M(T))}function M(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[se])Re(w.i,d);else{var T=d.type,j=d.proxy;w.removeEventListener?w.removeEventListener(T,j,d.capture):w.detachEvent?w.detachEvent(F(T),j):w.addListener&&w.removeListener&&w.removeListener(j),(T=te(w))?(Re(T,d),T.h==0&&(T.src=null,w[me]=null)):Ae(d)}}}function F(d){return d in L?L[d]:L[d]="on"+d}function B(d,w){if(d.da)d=!0;else{w=new Fe(w,this);var T=d.listener,j=d.ha||d.src;d.fa&&M(d),d=T.call(j,w)}return d}function te(d){return d=d[me],d instanceof Ie?d:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y(d){return typeof d=="function"?d:(d[J]||(d[J]=function(w){return d.handleEvent(w)}),d[J])}function X(){le.call(this),this.i=new Ie(this),this.M=this,this.F=null}b(X,le),X.prototype[se]=!0,X.prototype.removeEventListener=function(d,w,T,j){Qe(this,d,w,T,j)};function ye(d,w){var T,j=d.F;if(j)for(T=[];j;j=j.F)T.push(j);if(d=d.M,j=w.type||w,typeof w=="string")w=new ue(w,d);else if(w instanceof ue)w.target=w.target||d;else{var V=w;w=new ue(j,d),R(w,V)}if(V=!0,T)for(var z=T.length-1;0<=z;z--){var ie=w.g=T[z];V=Ye(ie,j,!0,w)&&V}if(ie=w.g=d,V=Ye(ie,j,!0,w)&&V,V=Ye(ie,j,!1,w)&&V,T)for(z=0;z<T.length;z++)ie=w.g=T[z],V=Ye(ie,j,!1,w)&&V}X.prototype.N=function(){if(X.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var T=d.g[w],j=0;j<T.length;j++)Ae(T[j]);delete d.g[w],d.h--}}this.F=null},X.prototype.K=function(d,w,T,j){return this.i.add(String(d),w,!1,T,j)},X.prototype.L=function(d,w,T,j){return this.i.add(String(d),w,!0,T,j)};function Ye(d,w,T,j){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var V=!0,z=0;z<w.length;++z){var ie=w[z];if(ie&&!ie.da&&ie.capture==T){var wt=ie.listener,gn=ie.ha||ie.src;ie.fa&&Re(d.i,ie),V=wt.call(gn,j)!==!1&&V}}return V&&!j.defaultPrevented}function Zt(d,w,T){if(typeof d=="function")T&&(d=m(d,T));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:l.setTimeout(d,w||0)}function qn(d){d.g=Zt(()=>{d.g=null,d.i&&(d.i=!1,qn(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Gn extends le{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:qn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(d){le.call(this),this.h=d,this.g={}}b(Tr,le);var cn=[];function fn(d){D(d.g,function(w,T){this.g.hasOwnProperty(T)&&M(w)},d),d.g={}}Tr.prototype.N=function(){Tr.aa.N.call(this),fn(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=l.JSON.stringify,Fr=l.JSON.parse,Cc=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Ti(){}Ti.prototype.h=null;function Ic(d){return d.h||(d.h=d.i())}function Nc(){}var Ho={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qo(){ue.call(this,"d")}b(qo,ue);function Sr(){ue.call(this,"c")}b(Sr,ue);var Fs={},ke=null;function st(){return ke=ke||new X}Fs.La="serverreachability";function xt(d){ue.call(this,Fs.La,d)}b(xt,ue);function mn(d){const w=st();ye(w,new xt(w))}Fs.STAT_EVENT="statevent";function Kn(d,w){ue.call(this,Fs.STAT_EVENT,d),this.stat=w}b(Kn,ue);function At(d){const w=st();ye(w,new Kn(w,d))}Fs.Ma="timingevent";function ds(d,w){ue.call(this,Fs.Ma,d),this.size=w}b(ds,ue);function pn(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},w)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function d2(d,w,T,j,V,z){d.info(function(){if(d.g)if(z)for(var ie="",wt=z.split("&"),gn=0;gn<wt.length;gn++){var lt=wt[gn].split("=");if(1<lt.length){var Sn=lt[0];lt=lt[1];var Cn=Sn.split("_");ie=2<=Cn.length&&Cn[1]=="type"?ie+(Sn+"="+lt+"&"):ie+(Sn+"=redacted&")}}else ie=null;else ie=z;return"XMLHTTP REQ ("+j+") [attempt "+V+"]: "+w+`
`+T+`
`+ie})}function h2(d,w,T,j,V,z,ie){d.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+V+"]: "+w+`
`+T+`
`+z+" "+ie})}function za(d,w,T,j){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+m2(d,T)+(j?" "+j:"")})}function f2(d,w){d.info(function(){return"TIMEOUT: "+w})}Qn.prototype.info=function(){};function m2(d,w){if(!d.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var j=T[d];if(!(2>j.length)){var V=j[1];if(Array.isArray(V)&&!(1>V.length)){var z=V[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ie=1;ie<V.length;ie++)V[ie]=""}}}}return us(T)}catch{return w}}var Ud={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},B_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Op;function $d(){}b($d,Ti),$d.prototype.g=function(){return new XMLHttpRequest},$d.prototype.i=function(){return{}},Op=new $d;function Si(d,w,T,j){this.j=d,this.i=w,this.l=T,this.R=j||1,this.U=new Tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new z_}function z_(){this.i=null,this.g="",this.h=!1}var W_={},Mp={};function Lp(d,w,T){d.L=1,d.v=Hd(Us(w)),d.m=T,d.P=!0,H_(d,null)}function H_(d,w){d.F=Date.now(),Bd(d),d.A=Us(d.v);var T=d.A,j=d.R;Array.isArray(j)||(j=[String(j)]),i0(T.i,"t",j),d.C=0,T=d.j.J,d.h=new z_,d.g=b0(d.j,T?w:null,!d.m),0<d.O&&(d.M=new Gn(m(d.Y,d,d.g),d.O)),w=d.U,T=d.g,j=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(cn[0]=V.toString()),V=cn);for(var z=0;z<V.length;z++){var ie=Ee(T,V[z],j||w.handleEvent,!1,w.h||w);if(!ie)break;w.g[ie.key]=ie}w=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),mn(),d2(d.i,d.u,d.A,d.l,d.R,d.m)}Si.prototype.ca=function(d){d=d.target;const w=this.M;w&&$s(d)==3?w.j():this.Y(d)},Si.prototype.Y=function(d){try{if(d==this.g)e:{const Cn=$s(this.g);var w=this.g.Ba();const qa=this.g.Z();if(!(3>Cn)&&(Cn!=3||this.g&&(this.h.h||this.g.oa()||h0(this.g)))){this.J||Cn!=4||w==7||(w==8||0>=qa?mn(3):mn(2)),Vp(this);var T=this.g.Z();this.X=T;t:if(q_(this)){var j=h0(this.g);d="";var V=j.length,z=$s(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Go(this),kc(this);var ie="";break t}this.h.i=new l.TextDecoder}for(w=0;w<V;w++)this.h.h=!0,d+=this.h.i.decode(j[w],{stream:!(z&&w==V-1)});j.length=0,this.h.g+=d,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=T==200,h2(this.i,this.u,this.A,this.l,this.R,Cn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var wt,gn=this.g;if((wt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(wt)){var lt=wt;break t}}lt=null}if(T=lt)za(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fp(this,T);else{this.o=!1,this.s=3,At(12),Go(this),kc(this);break e}}if(this.P){T=!0;let Ur;for(;!this.J&&this.C<ie.length;)if(Ur=p2(this,ie),Ur==Mp){Cn==4&&(this.s=4,At(14),T=!1),za(this.i,this.l,null,"[Incomplete Response]");break}else if(Ur==W_){this.s=4,At(15),za(this.i,this.l,ie,"[Invalid Chunk]"),T=!1;break}else za(this.i,this.l,Ur,null),Fp(this,Ur);if(q_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cn!=4||ie.length!=0||this.h.h||(this.s=1,At(16),T=!1),this.o=this.o&&T,!T)za(this.i,this.l,ie,"[Invalid Chunked Response]"),Go(this),kc(this);else if(0<ie.length&&!this.W){this.W=!0;var Sn=this.j;Sn.g==this&&Sn.ba&&!Sn.M&&(Sn.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Hp(Sn),Sn.M=!0,At(11))}}else za(this.i,this.l,ie,null),Fp(this,ie);Cn==4&&Go(this),this.o&&!this.J&&(Cn==4?x0(this.j,this):(this.o=!1,Bd(this)))}else P2(this.g),T==400&&0<ie.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Go(this),kc(this)}}}catch{}finally{}};function q_(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function p2(d,w){var T=d.C,j=w.indexOf(`
`,T);return j==-1?Mp:(T=Number(w.substring(T,j)),isNaN(T)?W_:(j+=1,j+T>w.length?Mp:(w=w.slice(j,j+T),d.C=j+T,w)))}Si.prototype.cancel=function(){this.J=!0,Go(this)};function Bd(d){d.S=Date.now()+d.I,G_(d,d.I)}function G_(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=pn(m(d.ba,d),w)}function Vp(d){d.B&&(l.clearTimeout(d.B),d.B=null)}Si.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(f2(this.i,this.A),this.L!=2&&(mn(),At(17)),Go(this),this.s=2,kc(this)):G_(this,this.S-d)};function kc(d){d.j.G==0||d.J||x0(d.j,d)}function Go(d){Vp(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,fn(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function Fp(d,w){try{var T=d.j;if(T.G!=0&&(T.g==d||Up(T.h,d))){if(!d.K&&Up(T.h,d)&&T.G==3){try{var j=T.Da.g.parse(w)}catch{j=null}if(Array.isArray(j)&&j.length==3){var V=j;if(V[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)Xd(T),Qd(T);else break e;Wp(T),At(18)}}else T.za=V[1],0<T.za-T.T&&37500>V[2]&&T.F&&T.v==0&&!T.C&&(T.C=pn(m(T.Za,T),6e3));if(1>=Y_(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Qo(T,11)}else if((d.K||T.g==d)&&Xd(T),!v(w))for(V=T.Da.g.parse(w),w=0;w<V.length;w++){let lt=V[w];if(T.T=lt[0],lt=lt[1],T.G==2)if(lt[0]=="c"){T.K=lt[1],T.ia=lt[2];const Sn=lt[3];Sn!=null&&(T.la=Sn,T.j.info("VER="+T.la));const Cn=lt[4];Cn!=null&&(T.Aa=Cn,T.j.info("SVER="+T.Aa));const qa=lt[5];qa!=null&&typeof qa=="number"&&0<qa&&(j=1.5*qa,T.L=j,T.j.info("backChannelRequestTimeoutMs_="+j)),j=T;const Ur=d.g;if(Ur){const Jd=Ur.g?Ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jd){var z=j.h;z.g||Jd.indexOf("spdy")==-1&&Jd.indexOf("quic")==-1&&Jd.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&($p(z,z.h),z.h=null))}if(j.D){const qp=Ur.g?Ur.g.getResponseHeader("X-HTTP-Session-Id"):null;qp&&(j.ya=qp,St(j.I,j.D,qp))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),j=T;var ie=d;if(j.qa=E0(j,j.J?j.ia:null,j.W),ie.K){X_(j.h,ie);var wt=ie,gn=j.L;gn&&(wt.I=gn),wt.B&&(Vp(wt),Bd(wt)),j.g=ie}else v0(j);0<T.i.length&&Yd(T)}else lt[0]!="stop"&&lt[0]!="close"||Qo(T,7);else T.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Qo(T,7):zp(T):lt[0]!="noop"&&T.l&&T.l.ta(lt),T.v=0)}}mn(4)}catch{}}var g2=class{constructor(d,w){this.g=d,this.map=w}};function K_(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Q_(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Y_(d){return d.h?1:d.g?d.g.size:0}function Up(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function $p(d,w){d.g?d.g.add(w):d.h=w}function X_(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}K_.prototype.cancel=function(){if(this.i=Z_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Z_(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const T of d.g.values())w=w.concat(T.D);return w}return E(d.i)}function v2(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var w=[],T=d.length,j=0;j<T;j++)w.push(d[j]);return w}w=[],T=0;for(j in d)w[T++]=d[j];return w}function y2(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var w=[];d=d.length;for(var T=0;T<d;T++)w.push(T);return w}w=[],T=0;for(const j in d)w[T++]=j;return w}}}function J_(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var T=y2(d),j=v2(d),V=j.length,z=0;z<V;z++)w.call(void 0,j[z],T&&T[z],d)}var e0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function x2(d,w){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var j=d[T].indexOf("="),V=null;if(0<=j){var z=d[T].substring(0,j);V=d[T].substring(j+1)}else z=d[T];w(z,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ko(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ko){this.h=d.h,zd(this,d.j),this.o=d.o,this.g=d.g,Wd(this,d.s),this.l=d.l;var w=d.i,T=new Pc;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),t0(this,T),this.m=d.m}else d&&(w=String(d).match(e0))?(this.h=!1,zd(this,w[1]||"",!0),this.o=Ac(w[2]||""),this.g=Ac(w[3]||"",!0),Wd(this,w[4]),this.l=Ac(w[5]||"",!0),t0(this,w[6]||"",!0),this.m=Ac(w[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}Ko.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Rc(w,n0,!0),":");var T=this.g;return(T||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Rc(w,n0,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Rc(T,T.charAt(0)=="/"?E2:_2,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Rc(T,T2)),d.join("")};function Us(d){return new Ko(d)}function zd(d,w,T){d.j=T?Ac(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Wd(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function t0(d,w,T){w instanceof Pc?(d.i=w,S2(d.i,d.h)):(T||(w=Rc(w,b2)),d.i=new Pc(w,d.h))}function St(d,w,T){d.i.set(w,T)}function Hd(d){return St(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ac(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Rc(d,w,T){return typeof d=="string"?(d=encodeURI(d).replace(w,w2),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function w2(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var n0=/[#\/\?@]/g,_2=/[#\?:]/g,E2=/[#\?]/g,b2=/[#\?@]/g,T2=/#/g;function Pc(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function Ci(d){d.g||(d.g=new Map,d.h=0,d.i&&x2(d.i,function(w,T){d.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Pc.prototype,t.add=function(d,w){Ci(this),this.i=null,d=Wa(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(w),this.h+=1,this};function r0(d,w){Ci(d),w=Wa(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function s0(d,w){return Ci(d),w=Wa(d,w),d.g.has(w)}t.forEach=function(d,w){Ci(this),this.g.forEach(function(T,j){T.forEach(function(V){d.call(w,V,j,this)},this)},this)},t.na=function(){Ci(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let j=0;j<w.length;j++){const V=d[j];for(let z=0;z<V.length;z++)T.push(w[j])}return T},t.V=function(d){Ci(this);let w=[];if(typeof d=="string")s0(this,d)&&(w=w.concat(this.g.get(Wa(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)w=w.concat(d[T])}return w},t.set=function(d,w){return Ci(this),this.i=null,d=Wa(this,d),s0(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function i0(d,w,T){r0(d,w),0<T.length&&(d.i=null,d.g.set(Wa(d,w),E(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var j=w[T];const z=encodeURIComponent(String(j)),ie=this.V(j);for(j=0;j<ie.length;j++){var V=z;ie[j]!==""&&(V+="="+encodeURIComponent(String(ie[j]))),d.push(V)}}return this.i=d.join("&")};function Wa(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function S2(d,w){w&&!d.j&&(Ci(d),d.i=null,d.g.forEach(function(T,j){var V=j.toLowerCase();j!=V&&(r0(this,j),i0(this,V,T))},d)),d.j=w}function C2(d,w){const T=new Qn;if(l.Image){const j=new Image;j.onload=g(Ii,T,"TestLoadImage: loaded",!0,w,j),j.onerror=g(Ii,T,"TestLoadImage: error",!1,w,j),j.onabort=g(Ii,T,"TestLoadImage: abort",!1,w,j),j.ontimeout=g(Ii,T,"TestLoadImage: timeout",!1,w,j),l.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=d}else w(!1)}function I2(d,w){const T=new Qn,j=new AbortController,V=setTimeout(()=>{j.abort(),Ii(T,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:j.signal}).then(z=>{clearTimeout(V),z.ok?Ii(T,"TestPingServer: ok",!0,w):Ii(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(V),Ii(T,"TestPingServer: error",!1,w)})}function Ii(d,w,T,j,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),j(T)}catch{}}function N2(){this.g=new Cc}function k2(d,w,T){const j=T||"";try{J_(d,function(V,z){let ie=V;u(V)&&(ie=us(V)),w.push(j+z+"="+encodeURIComponent(ie))})}catch(V){throw w.push(j+"type="+encodeURIComponent("_badmap")),V}}function qd(d){this.l=d.Ub||null,this.j=d.eb||!1}b(qd,Ti),qd.prototype.g=function(){return new Gd(this.l,this.j)},qd.prototype.i=function(d){return function(){return d}}({});function Gd(d,w){X.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Gd,X),t=Gd.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,Dc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||l).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Dc(this)),this.g&&(this.readyState=3,Dc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;o0(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function o0(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?jc(this):Dc(this),this.readyState==3&&o0(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,jc(this))},t.Qa=function(d){this.g&&(this.response=d,jc(this))},t.ga=function(){this.g&&jc(this)};function jc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Dc(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=w.next();return d.join(`\r
`)};function Dc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Gd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function a0(d){let w="";return D(d,function(T,j){w+=j,w+=":",w+=T,w+=`\r
`}),w}function Bp(d,w,T){e:{for(j in T){var j=!1;break e}j=!0}j||(T=a0(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):St(d,w,T))}function zt(d){X.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(zt,X);var A2=/^https?$/i,R2=["POST","PUT"];t=zt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,T,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Op.g(),this.v=this.o?Ic(this.o):Ic(Op),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(z){l0(this,z);return}if(d=T||"",T=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var V in j)T.set(V,j[V]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const z of j.keys())T.set(z,j.get(z));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(T.keys()).find(z=>z.toLowerCase()=="content-type"),V=l.FormData&&d instanceof l.FormData,!(0<=Array.prototype.indexOf.call(R2,w,void 0))||j||V||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ie]of T)this.g.setRequestHeader(z,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{d0(this),this.u=!0,this.g.send(d),this.u=!1}catch(z){l0(this,z)}};function l0(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,c0(d),Kd(d)}function c0(d){d.A||(d.A=!0,ye(d,"complete"),ye(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ye(this,"complete"),ye(this,"abort"),Kd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kd(this,!0)),zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?u0(this):this.bb())},t.bb=function(){u0(this)};function u0(d){if(d.h&&typeof o<"u"&&(!d.v[1]||$s(d)!=4||d.Z()!=2)){if(d.u&&$s(d)==4)Zt(d.Ea,0,d);else if(ye(d,"readystatechange"),$s(d)==4){d.h=!1;try{const ie=d.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var j;if(j=ie===0){var V=String(d.D).match(e0)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),j=!A2.test(V?V.toLowerCase():"")}T=j}if(T)ye(d,"complete"),ye(d,"success");else{d.m=6;try{var z=2<$s(d)?d.g.statusText:""}catch{z=""}d.l=z+" ["+d.Z()+"]",c0(d)}}finally{Kd(d)}}}}function Kd(d,w){if(d.g){d0(d);const T=d.g,j=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||ye(d,"ready");try{T.onreadystatechange=j}catch{}}}function d0(d){d.I&&(l.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function $s(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<$s(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Fr(w)}};function h0(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function P2(d){const w={};d=(d.g&&2<=$s(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<d.length;j++){if(v(d[j]))continue;var T=P(d[j]);const V=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const z=w[V]||[];w[V]=z,z.push(T)}I(w,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oc(d,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||w}function f0(d){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oc("baseRetryDelayMs",5e3,d),this.cb=Oc("retryDelaySeedMs",1e4,d),this.Wa=Oc("forwardChannelMaxRetries",2,d),this.wa=Oc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new K_(d&&d.concurrentRequestLimit),this.Da=new N2,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=f0.prototype,t.la=8,t.G=1,t.connect=function(d,w,T,j){At(0),this.W=d,this.H=w||{},T&&j!==void 0&&(this.H.OSID=T,this.H.OAID=j),this.F=this.X,this.I=E0(this,null,this.W),Yd(this)};function zp(d){if(m0(d),d.G==3){var w=d.U++,T=Us(d.I);if(St(T,"SID",d.K),St(T,"RID",w),St(T,"TYPE","terminate"),Mc(d,T),w=new Si(d,d.j,w),w.L=2,w.v=Hd(Us(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&l.Image&&(new Image().src=w.v,T=!0),T||(w.g=b0(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Bd(w)}_0(d)}function Qd(d){d.g&&(Hp(d),d.g.cancel(),d.g=null)}function m0(d){Qd(d),d.u&&(l.clearTimeout(d.u),d.u=null),Xd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&l.clearTimeout(d.s),d.s=null)}function Yd(d){if(!Q_(d.h)&&!d.s){d.s=!0;var w=d.Ga;ee||re(),U||(ee(),U=!0),$.add(w,d),d.B=0}}function j2(d,w){return Y_(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=pn(m(d.Ga,d,w),w0(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const V=new Si(this,this.j,d);let z=this.o;if(this.S&&(z?(z=C(z),R(z,this.S)):z=this.S),this.m!==null||this.O||(V.H=z,z=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var j=this.i[T];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(w+=j,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=g0(this,V,w),T=Us(this.I),St(T,"RID",d),St(T,"CVER",22),this.D&&St(T,"X-HTTP-Session-Id",this.D),Mc(this,T),z&&(this.O?w="headers="+encodeURIComponent(String(a0(z)))+"&"+w:this.m&&Bp(T,this.m,z)),$p(this.h,V),this.Ua&&St(T,"TYPE","init"),this.P?(St(T,"$req",w),St(T,"SID","null"),V.T=!0,Lp(V,T,null)):Lp(V,T,w),this.G=2}}else this.G==3&&(d?p0(this,d):this.i.length==0||Q_(this.h)||p0(this))};function p0(d,w){var T;w?T=w.l:T=d.U++;const j=Us(d.I);St(j,"SID",d.K),St(j,"RID",T),St(j,"AID",d.T),Mc(d,j),d.m&&d.o&&Bp(j,d.m,d.o),T=new Si(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),w&&(d.i=w.D.concat(d.i)),w=g0(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),$p(d.h,T),Lp(T,j,w)}function Mc(d,w){d.H&&D(d.H,function(T,j){St(w,j,T)}),d.l&&J_({},function(T,j){St(w,j,T)})}function g0(d,w,T){T=Math.min(d.i.length,T);var j=d.l?m(d.l.Na,d.l,d):null;e:{var V=d.i;let z=-1;for(;;){const ie=["count="+T];z==-1?0<T?(z=V[0].g,ie.push("ofs="+z)):z=0:ie.push("ofs="+z);let wt=!0;for(let gn=0;gn<T;gn++){let lt=V[gn].g;const Sn=V[gn].map;if(lt-=z,0>lt)z=Math.max(0,V[gn].g-100),wt=!1;else try{k2(Sn,ie,"req"+lt+"_")}catch{j&&j(Sn)}}if(wt){j=ie.join("&");break e}}}return d=d.i.splice(0,T),w.D=d,j}function v0(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;ee||re(),U||(ee(),U=!0),$.add(w,d),d.v=0}}function Wp(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=pn(m(d.Fa,d),w0(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,y0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=pn(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Qd(this),y0(this))};function Hp(d){d.A!=null&&(l.clearTimeout(d.A),d.A=null)}function y0(d){d.g=new Si(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=Us(d.qa);St(w,"RID","rpc"),St(w,"SID",d.K),St(w,"AID",d.T),St(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&St(w,"TO",d.ja),St(w,"TYPE","xmlhttp"),Mc(d,w),d.m&&d.o&&Bp(w,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Hd(Us(w)),T.m=null,T.P=!0,H_(T,d)}t.Za=function(){this.C!=null&&(this.C=null,Qd(this),Wp(this),At(19))};function Xd(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function x0(d,w){var T=null;if(d.g==w){Xd(d),Hp(d),d.g=null;var j=2}else if(Up(d.h,w))T=w.D,X_(d.h,w),j=1;else return;if(d.G!=0){if(w.o)if(j==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var V=d.B;j=st(),ye(j,new ds(j,T)),Yd(d)}else v0(d);else if(V=w.s,V==3||V==0&&0<w.X||!(j==1&&j2(d,w)||j==2&&Wp(d)))switch(T&&0<T.length&&(w=d.h,w.i=w.i.concat(T)),V){case 1:Qo(d,5);break;case 4:Qo(d,10);break;case 3:Qo(d,6);break;default:Qo(d,2)}}}function w0(d,w){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*w}function Qo(d,w){if(d.j.info("Error code "+w),w==2){var T=m(d.fb,d),j=d.Xa;const V=!j;j=new Ko(j||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||zd(j,"https"),Hd(j),V?C2(j.toString(),T):I2(j.toString(),T)}else At(2);d.G=0,d.l&&d.l.sa(w),_0(d),m0(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function _0(d){if(d.G=0,d.ka=[],d.l){const w=Z_(d.h);(w.length!=0||d.i.length!=0)&&(x(d.ka,w),x(d.ka,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.ra()}}function E0(d,w,T){var j=T instanceof Ko?Us(T):new Ko(T);if(j.g!="")w&&(j.g=w+"."+j.g),Wd(j,j.s);else{var V=l.location;j=V.protocol,w=w?w+"."+V.hostname:V.hostname,V=+V.port;var z=new Ko(null);j&&zd(z,j),w&&(z.g=w),V&&Wd(z,V),T&&(z.l=T),j=z}return T=d.D,w=d.ya,T&&w&&St(j,T,w),St(j,"VER",d.la),Mc(d,j),j}function b0(d,w,T){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new zt(new qd({eb:T})):new zt(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function T0(){}t=T0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zd(){}Zd.prototype.g=function(d,w){return new cr(d,w)};function cr(d,w){X.call(this),this.g=new f0(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!v(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!v(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new Ha(this)}b(cr,X),cr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){zp(this.g)},cr.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=us(d),d=T);w.i.push(new g2(w.Ya++,d)),w.G==3&&Yd(w)},cr.prototype.N=function(){this.g.l=null,delete this.j,zp(this.g),delete this.g,cr.aa.N.call(this)};function S0(d){qo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const T in w){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}b(S0,qo);function C0(){Sr.call(this),this.status=1}b(C0,Sr);function Ha(d){this.g=d}b(Ha,T0),Ha.prototype.ua=function(){ye(this.g,"a")},Ha.prototype.ta=function(d){ye(this.g,new S0(d))},Ha.prototype.sa=function(d){ye(this.g,new C0)},Ha.prototype.ra=function(){ye(this.g,"b")},Zd.prototype.createWebChannel=Zd.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,Jk=function(){return new Zd},Zk=function(){return st()},Xk=Fs,py={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ud.NO_ERROR=0,Ud.TIMEOUT=8,Ud.HTTP_ERROR=6,Zh=Ud,B_.COMPLETE="complete",Yk=B_,Nc.EventType=Ho,Ho.OPEN="a",Ho.CLOSE="b",Ho.ERROR="c",Ho.MESSAGE="d",X.prototype.listen=X.prototype.K,nu=Nc,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,Qk=zt}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const QE="@firebase/firestore",YE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new gw("@firebase/firestore");function Za(){return Ca.logLevel}function fe(t,...e){if(Ca.logLevel<=Ze.DEBUG){const n=e.map(kw);Ca.debug(`Firestore (${xc}): ${t}`,...n)}}function fi(t,...e){if(Ca.logLevel<=Ze.ERROR){const n=e.map(kw);Ca.error(`Firestore (${xc}): ${t}`,...n)}}function Co(t,...e){if(Ca.logLevel<=Ze.WARN){const n=e.map(kw);Ca.warn(`Firestore (${xc}): ${t}`,...n)}}function kw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eA(t,r,n)}function eA(t,e,n){let r=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fi(r),new Error(r)}function ht(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||eA(e,s,r)}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pn.UNAUTHENTICATED))}shutdown(){}}class r${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class s${constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ri,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ri)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new tA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new Pn(e)}}class i${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new i$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const r=i=>{i.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new XE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new XE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=l$(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function gy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return We(r,s);{const i=nA(),o=c$(i.encode(ZE(t,n)),i.encode(ZE(e,n)));return o!==0?o:We(r,s)}}n+=r>65535?2:1}return We(t.length,e.length)}function ZE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function c$(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return We(t[n],e[n]);return We(t.length,e.length)}function Xl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="__name__";class ps{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ps?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ps.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return We(e.length,n.length)}static compareSegments(e,n){const r=ps.isNumericId(e),s=ps.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ps.extractNumericId(e).compare(ps.extractNumericId(n)):gy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return uo.fromString(e.substring(4,e.length-2))}}class Et extends ps{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const u$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends ps{construct(e,n,r){return new xn(e,n,r)}static isValidIdentifier(e){return u$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JE}static keyField(){return new xn([JE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ce(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ce(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new ce(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Et.fromString(e))}static fromName(e){return new _e(Et.fromString(e).popFirst(5))}static empty(){return new _e(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t,e,n){if(!n)throw new ce(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function d$(t,e,n,r){if(e===!0&&r===!0)throw new ce(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eb(t){if(!_e.isDocumentKey(t))throw new ce(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tb(t){if(_e.isDocumentKey(t))throw new ce(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Mr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rp(t);throw new ce(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function kd(t,e){if(!sA(t))throw new ce(q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ce(q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=-62135596800,rb=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rb);return new Nt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nb)throw new ce(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rb}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kd(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:rn("string",Nt._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Nt(0,0))}static max(){return new Pe(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=-1;function h$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new Nt(n+1,0):new Nt(n,r));return new Io(s,_e.empty(),e)}function f$(t){return new Io(t.readTime,t.key,nd)}class Io{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Io(Pe.min(),_e.empty(),nd)}static max(){return new Io(Pe.max(),_e.empty(),nd)}}function m$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==p$)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(s=>s?K.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new K((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new K((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function v$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _c(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}sp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=-1;function ip(t){return t==null}function Jf(t){return t===0&&1/t==-1/0}function y$(t){return typeof t=="number"&&Number.isInteger(t)&&!Jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="";function x$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sb(e)),e=w$(t.get(n),e);return sb(e)}function w$(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case iA:n+="";break;default:n+=i}}return n}function sb(t){return t+iA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}}class Sh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??yn.RED,this.left=s??yn.EMPTY,this.right=i??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new yn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return yn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ob(this.data.getIterator())}getIteratorFrom(e){return new ob(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class ob{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new pr([])}unionWith(e){let n=new ln(xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aA("Invalid base64 string: "+i):i}}(e);return new Tn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const _$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=_$.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ko(t){return typeof t=="string"?Tn.fromBase64String(t):Tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="server_timestamp",cA="__type__",uA="__previous_value__",dA="__local_write_time__";function Pw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[cA])===null||n===void 0?void 0:n.stringValue)===lA}function op(t){const e=t.mapValue.fields[uA];return Pw(e)?op(e):e}function rd(t){const e=No(t.mapValue.fields[dA].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e,n,r,s,i,o,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const em="(default)";class sd{constructor(e,n){this.projectId=e,this.database=n||em}static empty(){return new sd("","")}get isDefaultDatabase(){return this.database===em}isEqual(e){return e instanceof sd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="__type__",fA="__max__",Ch={mapValue:{fields:{__type__:{stringValue:fA}}}},mA="__vector__",tm="value";function Ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pw(t)?4:T$(t)?9007199254740991:b$(t)?10:11:Ce(28295,{value:t})}function Os(t,e){if(t===e)return!0;const n=Ao(t);if(n!==Ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rd(t).isEqual(rd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=No(s.timestampValue),l=No(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ko(s.bytesValue).isEqual(ko(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Gt(s.geoPointValue.latitude)===Gt(i.geoPointValue.latitude)&&Gt(s.geoPointValue.longitude)===Gt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Gt(s.integerValue)===Gt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Gt(s.doubleValue),l=Gt(i.doubleValue);return o===l?Jf(o)===Jf(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Xl(t.arrayValue.values||[],e.arrayValue.values||[],Os);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(ib(o)!==ib(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Os(o[c],l[c])))return!1;return!0}(t,e);default:return Ce(52216,{left:t})}}function id(t,e){return(t.values||[]).find(n=>Os(n,e))!==void 0}function Zl(t,e){if(t===e)return 0;const n=Ao(t),r=Ao(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Gt(i.integerValue||i.doubleValue),c=Gt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return ab(t.timestampValue,e.timestampValue);case 4:return ab(rd(t),rd(e));case 5:return gy(t.stringValue,e.stringValue);case 6:return function(i,o){const l=ko(i),c=ko(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=We(l[u],c[u]);if(h!==0)return h}return We(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=We(Gt(i.latitude),Gt(o.latitude));return l!==0?l:We(Gt(i.longitude),Gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lb(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,u,h;const f=i.fields||{},m=o.fields||{},g=(l=f[tm])===null||l===void 0?void 0:l.arrayValue,b=(c=m[tm])===null||c===void 0?void 0:c.arrayValue,E=We(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:lb(g,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ch.mapValue&&o===Ch.mapValue)return 0;if(i===Ch.mapValue)return 1;if(o===Ch.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=gy(c[f],h[f]);if(m!==0)return m;const g=Zl(l[c[f]],u[h[f]]);if(g!==0)return g}return We(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Ce(23264,{le:n})}}function ab(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=No(t),r=No(e),s=We(n.seconds,r.seconds);return s!==0?s:We(n.nanos,r.nanos)}function lb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Zl(n[s],r[s]);if(i)return i}return We(n.length,r.length)}function Jl(t){return vy(t)}function vy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=No(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ko(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=vy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${vy(n.fields[o])}`;return s+"}"}(t.mapValue):Ce(61005,{value:t})}function Jh(t){switch(Ao(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=op(t);return e?16+Jh(e):16;case 5:return 2*t.stringValue.length;case 6:return ko(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Jh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Uo(r.fields,(i,o)=>{s+=i.length+Jh(o)}),s}(t.mapValue);default:throw Ce(13486,{value:t})}}function cb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function yy(t){return!!t&&"integerValue"in t}function jw(t){return!!t&&"arrayValue"in t}function ub(t){return!!t&&"nullValue"in t}function db(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ef(t){return!!t&&"mapValue"in t}function b$(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[hA])===null||n===void 0?void 0:n.stringValue)===mA}function bu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function T$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.value=e}static empty(){return new er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(n)}setAll(e){let n=xn.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=bu(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Os(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ef(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Uo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new er(bu(this.value))}}function pA(t){const e=[];return Uo(t.fields,(n,r)=>{const s=new xn([n]);if(ef(r)){const i=pA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Dn(e,0,Pe.min(),Pe.min(),Pe.min(),er.empty(),0)}static newFoundDocument(e,n,r,s){return new Dn(e,1,n,Pe.min(),r,s,0)}static newNoDocument(e,n){return new Dn(e,2,n,Pe.min(),Pe.min(),er.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Pe.min(),Pe.min(),er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.position=e,this.inclusive=n}}function hb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=_e.comparator(_e.fromName(o.referenceValue),n.key):r=Zl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function fb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Os(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n="asc"){this.field=e,this.dir=n}}function S$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{}class nn extends gA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new I$(e,n,r):n==="array-contains"?new A$(e,r):n==="in"?new R$(e,r):n==="not-in"?new P$(e,r):n==="array-contains-any"?new j$(e,r):new nn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new N$(e,r):new k$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zl(n,this.value)):n!==null&&Ao(this.value)===Ao(n)&&this.matchesComparison(Zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class is extends gA{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new is(e,n)}matches(e){return vA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function vA(t){return t.op==="and"}function yA(t){return C$(t)&&vA(t)}function C$(t){for(const e of t.filters)if(e instanceof is)return!1;return!0}function xy(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+Jl(t.value);if(yA(t))return t.filters.map(e=>xy(e)).join(",");{const e=t.filters.map(n=>xy(n)).join(",");return`${t.op}(${e})`}}function xA(t,e){return t instanceof nn?function(r,s){return s instanceof nn&&r.op===s.op&&r.field.isEqual(s.field)&&Os(r.value,s.value)}(t,e):t instanceof is?function(r,s){return s instanceof is&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&xA(o,s.filters[l]),!0):!1}(t,e):void Ce(19439)}function wA(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${Jl(n.value)}`}(t):t instanceof is?function(n){return n.op.toString()+" {"+n.getFilters().map(wA).join(" ,")+"}"}(t):"Filter"}class I$ extends nn{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class N$ extends nn{constructor(e,n){super(e,"in",n),this.keys=_A("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class k$ extends nn{constructor(e,n){super(e,"not-in",n),this.keys=_A("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _A(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class A$ extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jw(n)&&id(n.arrayValue,this.value)}}class R$ extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&id(this.value.arrayValue,n)}}class P$ extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!id(this.value.arrayValue,n)}}class j$ extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>id(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Pe=null}}function mb(t,e=null,n=[],r=[],s=null,i=null,o=null){return new D$(t,e,n,r,s,i,o)}function Dw(t){const e=Le(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jl(r)).join(",")),e.Pe=n}return e.Pe}function Ow(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fb(t.startAt,e.startAt)&&fb(t.endAt,e.endAt)}function wy(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function O$(t,e,n,r,s,i,o,l){return new Ec(t,e,n,r,s,i,o,l)}function Mw(t){return new Ec(t)}function pb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EA(t){return t.collectionGroup!==null}function Tu(t){const e=Le(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new ln(xn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new od(i,r))}),n.has(xn.keyField().canonicalString())||e.Te.push(new od(xn.keyField(),r))}return e.Te}function ks(t){const e=Le(t);return e.Ie||(e.Ie=M$(e,Tu(t))),e.Ie}function M$(t,e){if(t.limitType==="F")return mb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new od(s.field,i)});const n=t.endAt?new nm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nm(t.startAt.position,t.startAt.inclusive):null;return mb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _y(t,e){const n=t.filters.concat([e]);return new Ec(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ey(t,e,n){return new Ec(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ap(t,e){return Ow(ks(t),ks(e))&&t.limitType===e.limitType}function bA(t){return`${Dw(ks(t))}|lt:${t.limitType}`}function Ja(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>wA(s)).join(", ")}]`),ip(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Jl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Jl(s)).join(",")),`Target(${r})`}(ks(t))}; limitType=${t.limitType})`}function lp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):_e.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Tu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=hb(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Tu(r),s)||r.endAt&&!function(o,l,c){const u=hb(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Tu(r),s))}(t,e)}function L$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TA(t){return(e,n)=>{let r=!1;for(const s of Tu(t)){const i=V$(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function V$(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Zl(c,u):Ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return oA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=new Bt(_e.comparator);function mi(){return F$}const SA=new Bt(_e.comparator);function ru(...t){let e=SA;for(const n of t)e=e.insert(n.key,n);return e}function CA(t){let e=SA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ia(){return Su()}function IA(){return Su()}function Su(){return new Va(t=>t.toString(),(t,e)=>t.isEqual(e))}const U$=new Bt(_e.comparator),$$=new ln(_e.comparator);function et(...t){let e=$$;for(const n of t)e=e.add(n);return e}const B$=new ln(We);function z$(){return B$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(e)?"-0":e}}function NA(t){return{integerValue:""+t}}function W$(t,e){return y$(e)?NA(e):Lw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this._=void 0}}function H$(t,e,n){return t instanceof ad?function(s,i){const o={fields:{[cA]:{stringValue:lA},[dA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Pw(i)&&(i=op(i)),i&&(o.fields[uA]=i),{mapValue:o}}(n,e):t instanceof ec?AA(t,e):t instanceof tc?RA(t,e):function(s,i){const o=kA(s,i),l=gb(o)+gb(s.Ee);return yy(o)&&yy(s.Ee)?NA(l):Lw(s.serializer,l)}(t,e)}function q$(t,e,n){return t instanceof ec?AA(t,e):t instanceof tc?RA(t,e):n}function kA(t,e){return t instanceof rm?function(r){return yy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ad extends cp{}class ec extends cp{constructor(e){super(),this.elements=e}}function AA(t,e){const n=PA(e);for(const r of t.elements)n.some(s=>Os(s,r))||n.push(r);return{arrayValue:{values:n}}}class tc extends cp{constructor(e){super(),this.elements=e}}function RA(t,e){let n=PA(e);for(const r of t.elements)n=n.filter(s=>!Os(s,r));return{arrayValue:{values:n}}}class rm extends cp{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function gb(t){return Gt(t.integerValue||t.doubleValue)}function PA(t){return jw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n){this.field=e,this.transform=n}}function G$(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ec&&s instanceof ec||r instanceof tc&&s instanceof tc?Xl(r.elements,s.elements,Os):r instanceof rm&&s instanceof rm?Os(r.Ee,s.Ee):r instanceof ad&&s instanceof ad}(t.transform,e.transform)}class K${constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class up{}function jA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dp(t.key,Bn.none()):new Ad(t.key,t.data,Bn.none());{const n=t.data,r=er.empty();let s=new ln(xn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new $o(t.key,r,new pr(s.toArray()),Bn.none())}}function Q$(t,e,n){t instanceof Ad?function(s,i,o){const l=s.value.clone(),c=yb(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof $o?function(s,i,o){if(!tf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=yb(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(DA(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Cu(t,e,n,r){return t instanceof Ad?function(i,o,l,c){if(!tf(i.precondition,o))return l;const u=i.value.clone(),h=xb(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof $o?function(i,o,l,c){if(!tf(i.precondition,o))return l;const u=xb(i.fieldTransforms,c,o),h=o.data;return h.setAll(DA(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return tf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Y$(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=kA(r.transform,s||null);i!=null&&(n===null&&(n=er.empty()),n.set(r.field,i))}return n||null}function vb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xl(r,s,(i,o)=>G$(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ad extends up{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $o extends up{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function DA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yb(t,e,n){const r=new Map;ht(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,q$(o,l,n[s]))}return r}function xb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,H$(i,o,e))}return r}class dp extends up{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X$ extends up{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Q$(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=jA(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&Xl(this.mutations,e.mutations,(n,r)=>vb(n,r))&&Xl(this.baseMutations,e.baseMutations,(n,r)=>vb(n,r))}}class Fw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ht(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return U$}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Fw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J$=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,tt;function tB(t){switch(t){case q.OK:return Ce(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function OA(t){if(t===void 0)return fi("GRPC error has no .code"),q.UNKNOWN;switch(t){case en.OK:return q.OK;case en.CANCELLED:return q.CANCELLED;case en.UNKNOWN:return q.UNKNOWN;case en.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case en.INTERNAL:return q.INTERNAL;case en.UNAVAILABLE:return q.UNAVAILABLE;case en.UNAUTHENTICATED:return q.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case en.NOT_FOUND:return q.NOT_FOUND;case en.ALREADY_EXISTS:return q.ALREADY_EXISTS;case en.PERMISSION_DENIED:return q.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case en.ABORTED:return q.ABORTED;case en.OUT_OF_RANGE:return q.OUT_OF_RANGE;case en.UNIMPLEMENTED:return q.UNIMPLEMENTED;case en.DATA_LOSS:return q.DATA_LOSS;default:return Ce(39323,{code:t})}}(tt=en||(en={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=new uo([4294967295,4294967295],0);function wb(t){const e=nA().encode(t),n=new Kk;return n.update(e),new Uint8Array(n.digest())}function _b(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new uo([n,r],0),new uo([s,i],0)]}class Uw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new su(`Invalid padding: ${n}`);if(r<0)throw new su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new su(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=uo.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(uo.fromNumber(r)));return s.compare(nB)===1&&(s=new uo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=wb(e),[r,s]=_b(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Uw(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.fe===0)return;const n=wb(e),[r,s]=_b(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Rd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hp(Pe.min(),s,new Bt(We),mi(),et())}}class Rd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rd(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class MA{constructor(e,n){this.targetId=e,this.De=n}}class LA{constructor(e,n,r=Tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Eb{constructor(){this.ve=0,this.Ce=bb(),this.Fe=Tn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=et(),n=et(),r=et();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ce(38017,{changeType:i})}}),new Rd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=bb()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class rB{constructor(e){this.We=e,this.Ge=new Map,this.ze=mi(),this.je=Ih(),this.Je=Ih(),this.He=new Bt(We)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(wy(i))if(r===0){const o=new _e(i.path);this.Xe(n,o,Dn.newNoDocument(o,Pe.min()))}else ht(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const l=this._t(e),c=l?this.ut(l,e,o):1;if(c!==0){this.rt(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=ko(r).toUint8Array()}catch(c){if(c instanceof aA)return Co("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Uw(o,s,i)}catch(c){return Co(c instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const l=this.st(o);if(l){if(i.current&&wy(l.target)){const c=new _e(l.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,Dn.newNoDocument(c,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=et();this.Je.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new hp(e,n,this.He,this.ze,r);return this.ze=mi(),this.je=Ih(),this.Je=Ih(),this.He=new Bt(We),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Eb,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new ln(We),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new ln(We),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Eb),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Ih(){return new Bt(_e.comparator)}function bb(){return new Bt(_e.comparator)}const sB={asc:"ASCENDING",desc:"DESCENDING"},iB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oB={and:"AND",or:"OR"};class aB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function by(t,e){return t.useProto3Json||ip(e)?e:{value:e}}function sm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lB(t,e){return sm(t,e.toTimestamp())}function As(t){return ht(!!t,49232),Pe.fromTimestamp(function(n){const r=No(n);return new Nt(r.seconds,r.nanos)}(t))}function $w(t,e){return Ty(t,e).canonicalString()}function Ty(t,e){const n=function(s){return new Et(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FA(t){const e=Et.fromString(t);return ht(WA(e),10190,{key:e.toString()}),e}function Sy(t,e){return $w(t.databaseId,e.path)}function Mg(t,e){const n=FA(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e($A(n))}function UA(t,e){return $w(t.databaseId,e)}function cB(t){const e=FA(t);return e.length===4?Et.emptyPath():$A(e)}function Cy(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $A(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Tb(t,e,n){return{name:Sy(t,e),fields:n.value.mapValue.fields}}function uB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ce(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(ht(h===void 0||typeof h=="string",58123),Tn.fromBase64String(h||"")):(ht(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Tn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const h=u.code===void 0?q.UNKNOWN:OA(u.code);return new ce(h,u.message||"")}(o);n=new LA(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Mg(t,r.document.name),i=As(r.document.updateTime),o=r.document.createTime?As(r.document.createTime):Pe.min(),l=new er({mapValue:{fields:r.document.fields}}),c=Dn.newFoundDocument(s,i,o,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new nf(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Mg(t,r.document),i=r.readTime?As(r.readTime):Pe.min(),o=Dn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new nf([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Mg(t,r.document),i=r.removedTargetIds||[];n=new nf([],i,s,null)}else{if(!("filter"in e))return Ce(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new eB(s,i),l=r.targetId;n=new MA(l,o)}}return n}function dB(t,e){let n;if(e instanceof Ad)n={update:Tb(t,e.key,e.value)};else if(e instanceof dp)n={delete:Sy(t,e.key)};else if(e instanceof $o)n={update:Tb(t,e.key,e.data),updateMask:wB(e.fieldMask)};else{if(!(e instanceof X$))return Ce(16599,{Rt:e.type});n={verify:Sy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof ad)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ec)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof tc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof rm)return{fieldPath:o.field.canonicalString(),increment:l.Ee};throw Ce(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:lB(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ce(27497)}(t,e.precondition)),n}function hB(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?As(s.updateTime):As(i);return o.isEqual(Pe.min())&&(o=As(i)),new K$(o,s.transformResults||[])}(n,e))):[]}function fB(t,e){return{documents:[UA(t,e.path)]}}function mB(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UA(t,s);const i=function(u){if(u.length!==0)return zA(is.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:el(m.field),direction:vB(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=by(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:s}}function pB(t){let e=cB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ht(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=BA(f);return m instanceof is&&yA(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(b){return new od(tl(b.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,ip(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,g=f.values||[];return new nm(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,g=f.values||[];return new nm(g,m)}(n.endAt)),O$(e,s,o,i,l,"F",c,u)}function gB(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=tl(n.unaryFilter.field);return nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=tl(n.unaryFilter.field);return nn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=tl(n.unaryFilter.field);return nn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=tl(n.unaryFilter.field);return nn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return nn.create(tl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return is.create(n.compositeFilter.filters.map(r=>BA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}}(n.compositeFilter.op))}(t):Ce(30097,{filter:t})}function vB(t){return sB[t]}function yB(t){return iB[t]}function xB(t){return oB[t]}function el(t){return{fieldPath:t.canonicalString()}}function tl(t){return xn.fromServerFormat(t.fieldPath)}function zA(t){return t instanceof nn?function(n){if(n.op==="=="){if(db(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(ub(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(db(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(ub(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:yB(n.op),value:n.value}}}(t):t instanceof is?function(n){const r=n.getFilters().map(s=>zA(s));return r.length===1?r[0]:{compositeFilter:{op:xB(n.op),filters:r}}}(t):Ce(54877,{filter:t})}function wB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r,s,i=Pe.min(),o=Pe.min(),l=Tn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e){this.gt=e}}function EB(t){const e=pB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ey(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(){this.Dn=new TB}addToCollectionParentIndex(e,n){return this.Dn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Io.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class TB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ln(Et.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ln(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HA=41943040;class Zn{static withCacheSize(e){return new Zn(e,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(HA,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new nc(0)}static ur(){return new nc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="LruGarbageCollector",SB=1048576;function Ib([t,e],[n,r]){const s=We(t,n);return s===0?We(e,r):s}class CB{constructor(e){this.Tr=e,this.buffer=new ln(Ib),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ib(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){fe(Cb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_c(n)?fe(Cb,"Ignoring IndexedDB error during garbage collection: ",n):await wc(n)}await this.Rr(3e5)})}}class NB{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(sp.ue);const r=new CB(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Sb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sb):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Za()<=Ze.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function kB(t,e){return new NB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(){this.changes=new Va(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Cu(r.mutation,s,pr.empty(),Nt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){const s=ia();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ru();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ia();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=mi();const o=Su(),l=function(){return Su()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof $o)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Cu(h.mutation,u,h.mutation.getFieldMask(),Nt.now())):o.set(u.key,pr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return l.set(u,new RB(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Su();let s=new Bt((o,l)=>o-l),i=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||pr.empty();h=l.applyToLocalView(u,h),r.set(c,h);const f=(s.get(l.batchId)||et()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,f=IA();h.forEach(m=>{if(!i.has(m)){const g=jA(n.get(m),r.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return _e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):K.resolve(ia());let l=nd,c=i;return o.next(u=>K.forEach(u,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?K.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,et())).next(h=>({batchId:l,changes:CA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let s=ru();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ru();return this.indexManager.getCollectionParents(e,i).next(l=>K.forEach(l,c=>{const u=function(f,m){return new Ec(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Dn.newInvalidDocument(h)))});let l=ru();return o.forEach((c,u)=>{const h=i.get(c);h!==void 0&&Cu(h.mutation,u,pr.empty(),Nt.now()),lp(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return K.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:As(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:EB(s.bundledQuery),readTime:As(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(){this.overlays=new Bt(_e.comparator),this.kr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ia();return K.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const s=ia(),i=n.length+1,o=new _e(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Bt((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=ia(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=ia(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=s)););return K.resolve(l)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new J$(n,r));let i=this.kr.get(n);i===void 0&&(i=et(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.qr=new ln(un.Qr),this.$r=new ln(un.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new un(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new un(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new _e(new Et([])),r=new un(n,e),s=new un(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new _e(new Et([])),r=new un(n,e),s=new un(n,e+1);let i=et();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new un(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class un{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return _e.comparator(e.key,n.key)||We(e.Hr,n.Hr)}static Ur(e,n){return We(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new ln(un.Qr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Z$(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Yr=this.Yr.add(new un(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Rw:this.er-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new un(n,0),s=new un(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const l=this.Zr(o.Hr);i.push(l)}),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(We);return n.forEach(s=>{const i=new un(s,0),o=new un(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],l=>{r=r.add(l.Hr)})}),K.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;_e.isDocumentKey(i)||(i=i.child(""));const o=new un(new _e(i),0);let l=new ln(We);return this.Yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Hr)),!0)},o),K.resolve(this.ei(l))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ht(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return K.forEach(n.mutations,s=>{const i=new un(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new un(n,0),s=this.Yr.firstAfterOrEqual(r);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e){this.ni=e,this.docs=function(){return new Bt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let r=mi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Dn.newInvalidDocument(s))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=mi();const o=n.path,l=new _e(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||m$(f$(h),r)<=0||(s.has(h.key)||lp(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ce(9500)}ri(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VB(this)}getSize(e){return K.resolve(this.size)}}class VB extends AB{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e){this.persistence=e,this.ii=new Va(n=>Dw(n),Ow),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.si=0,this.oi=new Bw,this.targetCount=0,this._i=nc.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),K.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new nc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.hr(n),K.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),K.waitFor(i).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),K.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.ai={},this.overlays={},this.ui=new sp(0),this.ci=!1,this.ci=!0,this.li=new OB,this.referenceDelegate=e(this),this.hi=new FB(this),this.indexManager=new bB,this.remoteDocumentCache=function(s){return new LB(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new _B(n),this.Ti=new jB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new MB(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const s=new UB(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return K.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class UB extends g${constructor(e){super(),this.currentSequenceNumber=e}}class zw{constructor(e){this.persistence=e,this.Ai=new Bw,this.Ri=null}static Vi(e){return new zw(e)}get mi(){if(this.Ri)return this.Ri;throw Ce(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.mi,r=>{const s=_e.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,Pe.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return K.or([()=>K.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class im{constructor(e,n){this.persistence=e,this.gi=new Va(r=>x$(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=kB(this,n)}static Vi(e,n){return new im(e,n)}Ii(){}di(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return K.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?K.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(l=>{l||(r++,i.removeEntry(o,Pe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),K.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jh(e.data.value)),n}Sr(e,n,r){return K.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return K.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=et(),s=et();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ww(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return p3()?8:v$(Mn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new $B;return this.ws(e,n,o).next(l=>{if(i.result=l,this.Rs)return this.Ss(e,n,o,l.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(Za()<=Ze.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(Za()<=Ze.DEBUG&&fe("QueryEngine","Query:",Ja(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Za()<=Ze.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ks(n))):K.resolve())}ps(e,n){if(pb(n))return K.resolve(null);let r=ks(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ey(n,null,"F"),r=ks(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=et(...i);return this.gs.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.bs(n,l);return this.Ds(n,u,o,c.readTime)?this.ps(e,Ey(n,null,"F")):this.vs(e,u,n,c)}))})))}ys(e,n,r,s){return pb(n)||s.isEqual(Pe.min())?K.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?K.resolve(null):(Za()<=Ze.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ja(n)),this.vs(e,o,n,h$(s,nd)).next(l=>l))})}bs(e,n){let r=new ln(TA(e));return n.forEach((s,i)=>{lp(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return Za()<=Ze.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.gs.getDocumentsMatchingQuery(e,n,Io.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="LocalStore",zB=3e8;class WB{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Bt(We),this.Ms=new Va(i=>Dw(i),Ow),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PB(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function HB(t,e,n,r){return new WB(t,e,n,r)}async function GA(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=et();for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:l}))})})}function qB(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const f=u.batch,m=f.keys();let g=K.resolve();return m.forEach(b=>{g=g.next(()=>h.getEntry(c,b)).next(E=>{const x=u.docVersions.get(b);ht(x!==null,48541),E.version.compareTo(x)<0&&(f.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),h.addEntry(E)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=et();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function KA(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function GB(t,e){const n=Le(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const l=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;l.push(n.hi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.hi.addMatchingKeys(i,h.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Tn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(E,x,_){return E.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=zB?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,g,h)&&l.push(n.hi.updateTargetData(i,g))});let c=mi(),u=et();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(KB(i,o,e.documentUpdates).next(h=>{c=h.Ls,u=h.ks})),!r.isEqual(Pe.min())){const h=n.hi.getLastRemoteSnapshotVersion(i).next(f=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return K.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Fs=s,i))}function KB(t,e,n){let r=et(),s=et();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=mi();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Pe.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):fe(Hw,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ls:o,ks:s}})}function QB(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Rw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YB(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,K.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new Yi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Iy(t,e,n){const r=Le(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!_c(o))throw o;fe(Hw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function Nb(t,e,n){const r=Le(t);let s=Pe.min(),i=et();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=Le(c),m=f.Ms.get(h);return m!==void 0?K.resolve(f.Fs.get(m)):f.hi.getTargetData(u,h)}(r,o,ks(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:Pe.min(),n?i:et())).next(l=>(XB(r,L$(e),l),{documents:l,qs:i})))}function XB(t,e,n){let r=t.xs.get(e)||Pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class kb{constructor(){this.activeTargetIds=z$()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZB{constructor(){this.Fo=new kb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new kb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="ConnectivityMonitor";class Rb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){fe(Ab,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){fe(Ab,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function Ny(){return Nh===null?Nh=function(){return 268435456+Math.round(2147483648*Math.random())}():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="RestConnection",ez={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tz{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===em?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Ny(),l=this.Go(e,n.toUriEncodedString());fe(Lg,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,s,i);const{host:u}=new URL(l),h=vc(u);return this.jo(e,l,c,r,h).then(f=>(fe(Lg,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Co(Lg,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=ez[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class rz extends tz{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=Ny();return new Promise((l,c)=>{const u=new Qk;u.setWithCredentials(!0),u.listenOnce(Yk.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Zh.NO_ERROR:const f=u.getResponseJson();fe(An,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case Zh.TIMEOUT:fe(An,`RPC '${e}' ${o} timed out`),c(new ce(q.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:const m=u.getStatus();if(fe(An,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const E=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(v)>=0?v:q.UNKNOWN}(b.status);c(new ce(E,b.message))}else c(new ce(q.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ce(q.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{fe(An,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);fe(An,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}P_(e,n,r){const s=Ny(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Jk(),l=Zk(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");fe(An,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.T_(f);let m=!1,g=!1;const b=new nz({Ho:x=>{g?fe(An,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(m||(fe(An,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),fe(An,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},Yo:()=>f.close()}),E=(x,_,v)=>{x.listen(_,y=>{try{v(y)}catch(S){setTimeout(()=>{throw S},0)}})};return E(f,nu.EventType.OPEN,()=>{g||(fe(An,`RPC '${e}' stream ${s} transport opened.`),b.s_())}),E(f,nu.EventType.CLOSE,()=>{g||(g=!0,fe(An,`RPC '${e}' stream ${s} transport closed`),b.__(),this.I_(f))}),E(f,nu.EventType.ERROR,x=>{g||(g=!0,Co(An,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),b.__(new ce(q.UNAVAILABLE,"The operation could not be completed")))}),E(f,nu.EventType.MESSAGE,x=>{var _;if(!g){const v=x.data[0];ht(!!v,16349);const y=v,S=(y==null?void 0:y.error)||((_=y[0])===null||_===void 0?void 0:_.error);if(S){fe(An,`RPC '${e}' stream ${s} received error:`,S);const k=S.status;let D=function(N){const R=en[N];if(R!==void 0)return OA(R)}(k),I=S.message;D===void 0&&(D=q.INTERNAL,I="Unknown error status: "+k+" with message "+S.message),g=!0,b.__(new ce(D,I)),f.close()}else fe(An,`RPC '${e}' stream ${s} received:`,v),b.a_(v)}}),E(l,Xk.STAT_EVENT,x=>{x.stat===py.PROXY?fe(An,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===py.NOPROXY&&fe(An,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Vg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(t){return new aB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="PersistentStream";class YA{constructor(e,n,r,s,i,o,l,c){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new QA(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(fi(n.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new ce(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return fe(Pb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(fe(Pb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sz extends YA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=uB(this.serializer,e),r=function(i){if(!("targetChange"in i))return Pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Pe.min():o.readTime?As(o.readTime):Pe.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Cy(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=wy(c)?{documents:fB(i,c)}:{query:mB(i,c).Vt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=VA(i,o.resumeToken);const u=by(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Pe.min())>0){l.readTime=sm(i,o.snapshotVersion.toTimestamp());const u=by(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=gB(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Cy(this.serializer),n.removeTarget=e,this.k_(n)}}class iz extends YA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=hB(e.writeResults,e.commitTime),r=As(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Cy(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>dB(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{}class az extends oz{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new ce(q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Ty(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ce(q.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Jo(e,Ty(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(q.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class lz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(fi(n),this._a=!1):fe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class cz{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Fa(this)&&(fe(Ia,"Restarting streams for network reachability change."),await async function(c){const u=Le(c);u.Ia.add(4),await Pd(u),u.Aa.set("Unknown"),u.Ia.delete(4),await mp(u)}(this))})}),this.Aa=new lz(r,s)}}async function mp(t){if(Fa(t))for(const e of t.da)await e(!0)}async function Pd(t){for(const e of t.da)await e(!1)}function XA(t,e){const n=Le(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Qw(n)?Kw(n):bc(n).x_()&&Gw(n,e))}function qw(t,e){const n=Le(t),r=bc(n);n.Ta.delete(e),r.x_()&&ZA(n,e),n.Ta.size===0&&(r.x_()?r.B_():Fa(n)&&n.Aa.set("Unknown"))}function Gw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bc(t).H_(e)}function ZA(t,e){t.Ra.$e(e),bc(t).Y_(e)}function Kw(t){t.Ra=new rB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),bc(t).start(),t.Aa.aa()}function Qw(t){return Fa(t)&&!bc(t).M_()&&t.Ta.size>0}function Fa(t){return Le(t).Ia.size===0}function JA(t){t.Ra=void 0}async function uz(t){t.Aa.set("Online")}async function dz(t){t.Ta.forEach((e,n)=>{Gw(t,e)})}async function hz(t,e){JA(t),Qw(t)?(t.Aa.la(e),Kw(t)):t.Aa.set("Unknown")}async function fz(t,e,n){if(t.Aa.set("Online"),e instanceof LA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ta.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ta.delete(l),s.Ra.removeTarget(l))}(t,e)}catch(r){fe(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await om(t,r)}else if(e instanceof nf?t.Ra.Ye(e):e instanceof MA?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Pe.min()))try{const r=await KA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Ra.Pt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ta.get(u);h&&i.Ta.set(u,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const h=i.Ta.get(c);if(!h)return;i.Ta.set(c,h.withResumeToken(Tn.EMPTY_BYTE_STRING,h.snapshotVersion)),ZA(i,c);const f=new Yi(h.target,c,u,h.sequenceNumber);Gw(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){fe(Ia,"Failed to raise snapshot:",r),await om(t,r)}}async function om(t,e,n){if(!_c(e))throw e;t.Ia.add(1),await Pd(t),t.Aa.set("Offline"),n||(n=()=>KA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(Ia,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await mp(t)})}function eR(t,e){return e().catch(n=>om(t,n,e))}async function pp(t){const e=Le(t),n=Ro(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Rw;for(;mz(e);)try{const s=await QB(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,pz(e,s)}catch(s){await om(e,s)}tR(e)&&nR(e)}function mz(t){return Fa(t)&&t.Pa.length<10}function pz(t,e){t.Pa.push(e);const n=Ro(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function tR(t){return Fa(t)&&!Ro(t).M_()&&t.Pa.length>0}function nR(t){Ro(t).start()}async function gz(t){Ro(t).na()}async function vz(t){const e=Ro(t);for(const n of t.Pa)e.X_(n.mutations)}async function yz(t,e,n){const r=t.Pa.shift(),s=Fw.from(r,e,n);await eR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await pp(t)}async function xz(t,e){e&&Ro(t).Z_&&await async function(r,s){if(function(o){return tB(o)&&o!==q.ABORTED}(s.code)){const i=r.Pa.shift();Ro(r).N_(),await eR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await pp(r)}}(t,e),tR(t)&&nR(t)}async function jb(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),fe(Ia,"RemoteStore received new credentials");const r=Fa(n);n.Ia.add(3),await Pd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await mp(n)}async function wz(t,e){const n=Le(t);e?(n.Ia.delete(2),await mp(n)):e||(n.Ia.add(2),await Pd(n),n.Aa.set("Unknown"))}function bc(t){return t.Va||(t.Va=function(n,r,s){const i=Le(n);return i.ia(),new sz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:uz.bind(null,t),e_:dz.bind(null,t),n_:hz.bind(null,t),J_:fz.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Qw(t)?Kw(t):t.Aa.set("Unknown")):(await t.Va.stop(),JA(t))})),t.Va}function Ro(t){return t.ma||(t.ma=function(n,r,s){const i=Le(n);return i.ia(),new iz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:gz.bind(null,t),n_:xz.bind(null,t),ea:vz.bind(null,t),ta:yz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await pp(t)):(await t.ma.stop(),t.Pa.length>0&&(fe(Ia,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Yw(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xw(t,e){if(fi("AsyncQueue",`${e}: ${t}`),_c(t))return new ce(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{static emptySet(e){return new Cl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=ru(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.fa=new Bt(_e.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ce(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class rc{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new rc(e,n,Cl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Ez{constructor(){this.queries=Ob(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=Le(n),i=s.queries;s.queries=Ob(),i.forEach((o,l)=>{for(const c of l.wa)c.onError(r)})})(this,new ce(q.ABORTED,"Firestore shutting down"))}}function Ob(){return new Va(t=>bA(t),ap)}async function rR(t,e){const n=Le(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new _z,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Xw(o,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&Zw(n)}async function sR(t,e){const n=Le(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bz(t,e){const n=Le(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.wa)l.Ca(s)&&(r=!0);o.ya=s}}r&&Zw(n)}function Tz(t,e,n){const r=Le(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function Zw(t){t.Da.forEach(e=>{e.next()})}var ky,Mb;(Mb=ky||(ky={})).Fa="default",Mb.Cache="cache";class iR{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new rc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ky.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.key=e}}class aR{constructor(e){this.key=e}}class Sz{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=et(),this.mutatedKeys=et(),this.Xa=TA(e),this.eu=new Cl(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new Db,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),g=lp(this.query,f)?f:null,b=!!m&&this.mutatedKeys.has(m.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;m&&g?m.data.isEqual(g.data)?b!==E&&(r.track({type:3,doc:g}),x=!0):this.iu(m,g)||(r.track({type:2,doc:g}),x=!0,(c&&this.Xa(g,c)>0||u&&this.Xa(g,u)<0)&&(l=!0)):!m&&g?(r.track({type:0,doc:g}),x=!0):m&&!g&&(r.track({type:1,doc:m}),x=!0,(c||u)&&(l=!0)),x&&(g?(o=o.add(g),i=E?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{eu:o,ru:r,Ds:l,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,f)=>function(g,b){const E=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{At:x})}};return E(g)-E(b)}(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(r),s=s!=null&&s;const l=n&&!s?this.ou():[],c=this.Za.size===0&&this.current&&!s?1:0,u=c!==this.Ya;return this.Ya=c,o.length!==0||u?{snapshot:new rc(this.query,e.eu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Db,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=et(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new aR(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new oR(r))}),n}uu(e){this.Ha=e.qs,this.Za=et();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return rc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Jw="SyncEngine";class Cz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Iz{constructor(e){this.key=e,this.lu=!1}}class Nz{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Va(l=>bA(l),ap),this.Tu=new Map,this.Iu=new Set,this.du=new Bt(_e.comparator),this.Eu=new Map,this.Au=new Bw,this.Ru={},this.Vu=new Map,this.mu=nc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function kz(t,e,n=!0){const r=fR(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await lR(r,e,n,!0),s}async function Az(t,e){const n=fR(t);await lR(n,e,!0,!1)}async function lR(t,e,n,r){const s=await YB(t.localStore,ks(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await Rz(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&XA(t.remoteStore,s),l}async function Rz(t,e,n,r,s){t.gu=(f,m,g)=>async function(E,x,_,v){let y=x.view.nu(_);y.Ds&&(y=await Nb(E.localStore,x.query,!1).then(({documents:I})=>x.view.nu(I,y)));const S=v&&v.targetChanges.get(x.targetId),k=v&&v.targetMismatches.get(x.targetId)!=null,D=x.view.applyChanges(y,E.isPrimaryClient,S,k);return Vb(E,x.targetId,D._u),D.snapshot}(t,f,m,g);const i=await Nb(t.localStore,e,!0),o=new Sz(e,i.qs),l=o.nu(i.documents),c=Rd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);Vb(t,n,u._u);const h=new Cz(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function Pz(t,e,n){const r=Le(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!ap(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Iy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&qw(r.remoteStore,s.targetId),Ay(r,s.targetId)}).catch(wc)):(Ay(r,s.targetId),await Iy(r.localStore,s.targetId,!0))}async function jz(t,e){const n=Le(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qw(n.remoteStore,r.targetId))}async function Dz(t,e,n){const r=$z(t);try{const s=await function(o,l){const c=Le(o),u=Nt.now(),h=l.reduce((g,b)=>g.add(b.key),et());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=mi(),E=et();return c.Os.getEntries(g,h).next(x=>{b=x,b.forEach((_,v)=>{v.isValidDocument()||(E=E.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,b)).next(x=>{f=x;const _=[];for(const v of l){const y=Y$(v,f.get(v.key).overlayedDocument);y!=null&&_.push(new $o(v.key,y,pA(y.value.mapValue),Bn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,_,l)}).next(x=>{m=x;const _=x.applyToLocalDocumentSet(f,E);return c.documentOverlayCache.saveOverlays(g,x.batchId,_)})}).then(()=>({batchId:m.batchId,changes:CA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Ru[o.currentUser.toKey()];u||(u=new Bt(We)),u=u.insert(l,c),o.Ru[o.currentUser.toKey()]=u}(r,s.batchId,n),await jd(r,s.changes),await pp(r.remoteStore)}catch(s){const i=Xw(s,"Failed to persist write");n.reject(i)}}async function cR(t,e){const n=Le(t);try{const r=await GB(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(ht(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?ht(o.lu,14607):s.removedDocuments.size>0&&(ht(o.lu,42227),o.lu=!1))}),await jd(n,r,e)}catch(r){await wc(r)}}function Lb(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=Le(o);c.onlineState=l;let u=!1;c.queries.forEach((h,f)=>{for(const m of f.wa)m.va(l)&&(u=!0)}),u&&Zw(c)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Oz(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Bt(_e.comparator);o=o.insert(i,Dn.newNoDocument(i,Pe.min()));const l=et().add(i),c=new hp(Pe.min(),new Map,new Bt(We),o,l);await cR(r,c),r.du=r.du.remove(i),r.Eu.delete(e),e_(r)}else await Iy(r.localStore,e,!1).then(()=>Ay(r,e,n)).catch(wc)}async function Mz(t,e){const n=Le(t),r=e.batch.batchId;try{const s=await qB(n.localStore,e);dR(n,r,null),uR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jd(n,s)}catch(s){await wc(s)}}async function Lz(t,e,n){const r=Le(t);try{const s=await function(o,l){const c=Le(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(ht(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);dR(r,e,n),uR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jd(r,s)}catch(s){await wc(s)}}function uR(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function dR(t,e,n){const r=Le(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function Ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||hR(t,r)})}function hR(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(qw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),e_(t))}function Vb(t,e,n){for(const r of n)r instanceof oR?(t.Au.addReference(r.key,e),Vz(t,r)):r instanceof aR?(fe(Jw,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||hR(t,r.key)):Ce(19791,{yu:r})}function Vz(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(fe(Jw,"New document in limbo: "+n),t.Iu.add(r),e_(t))}function e_(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new _e(Et.fromString(e)),r=t.mu.next();t.Eu.set(r,new Iz(n)),t.du=t.du.insert(n,r),XA(t.remoteStore,new Yi(ks(Mw(n.path)),r,"TargetPurposeLimboResolution",sp.ue))}}async function jd(t,e,n){const r=Le(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((l,c)=>{o.push(r.gu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Ww.Es(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.hu.J_(s),await async function(c,u){const h=Le(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>K.forEach(u,m=>K.forEach(m.Is,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>K.forEach(m.ds,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!_c(f))throw f;fe(Hw,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const g=h.Fs.get(m),b=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(b);h.Fs=h.Fs.insert(m,E)}}}(r.localStore,i))}async function Fz(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){fe(Jw,"User change. New user:",e.toKey());const r=await GA(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(l=>{l.forEach(c=>{c.reject(new ce(q.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jd(n,r.Bs)}}function Uz(t,e){const n=Le(t),r=n.Eu.get(e);if(r&&r.lu)return et().add(r.key);{let s=et();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const l=n.Pu.get(o);s=s.unionWith(l.view.tu)}return s}}function fR(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Oz.bind(null,e),e.hu.J_=bz.bind(null,e.eventManager),e.hu.pu=Tz.bind(null,e.eventManager),e}function $z(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lz.bind(null,e),e}class am{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return HB(this.persistence,new BB,e.initialUser,this.serializer)}Du(e){return new qA(zw.Vi,this.serializer)}bu(e){return new ZB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}am.provider={build:()=>new am};class Bz extends am{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ht(this.persistence.referenceDelegate instanceof im,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new IB(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Zn.withCacheSize(this.cacheSizeBytes):Zn.DEFAULT;return new qA(r=>im.Vi(r,n),this.serializer)}}class Ry{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fz.bind(null,this.syncEngine),await wz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ez}()}createDatastore(e){const n=fp(e.databaseInfo.databaseId),r=function(i){return new rz(i)}(e.databaseInfo);return function(i,o,l,c){return new az(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new cz(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Lb(this.syncEngine,n,0),function(){return Rb.C()?new Rb:new JB}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,h){const f=new Nz(s,i,o,l,c,u);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Le(s);fe(Ia,"RemoteStore shutting down."),i.Ia.add(5),await Pd(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ry.provider={build:()=>new Ry};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="FirestoreClient";class zz{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Pn.UNAUTHENTICATED,this.clientId=Aw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{fe(Po,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(fe(Po,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fg(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Po,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await GA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Co("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{fe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Co("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function Fb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Wz(t);fe(Po,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>jb(e.remoteStore,s)),t._onlineComponents=e}async function Wz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Po,"Using user provided OfflineComponentProvider");try{await Fg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await Fg(t,new am)}}else fe(Po,"Using default OfflineComponentProvider"),await Fg(t,new Bz(void 0));return t._offlineComponents}async function pR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Po,"Using user provided OnlineComponentProvider"),await Fb(t,t._uninitializedComponentsProvider._online)):(fe(Po,"Using default OnlineComponentProvider"),await Fb(t,new Ry))),t._onlineComponents}function Hz(t){return pR(t).then(e=>e.syncEngine)}async function gR(t){const e=await pR(t),n=e.eventManager;return n.onListen=kz.bind(null,e.syncEngine),n.onUnlisten=Pz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Az.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jz.bind(null,e.syncEngine),n}function qz(t,e,n={}){const r=new ri;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const h=new mR({next:m=>{h.Ou(),o.enqueueAndForget(()=>sR(i,f));const g=m.docs.has(l);!g&&m.fromCache?u.reject(new ce(q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new ce(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new iR(Mw(l.path),h,{includeMetadataChanges:!0,ka:!0});return rR(i,f)}(await gR(t),t.asyncQueue,e,n,r)),r.promise}function Gz(t,e,n={}){const r=new ri;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const h=new mR({next:m=>{h.Ou(),o.enqueueAndForget(()=>sR(i,f)),m.fromCache&&c.source==="server"?u.reject(new ce(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new iR(l,h,{includeMetadataChanges:!0,ka:!0});return rR(i,f)}(await gR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firestore.googleapis.com",$b=!0;class Bb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yR,this.ssl=$b}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:$b;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SB)throw new ce(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new n$;switch(r.type){case"firstParty":return new o$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ub.get(n);r&&(fe("ComponentProvider","Removing Datastore"),Ub.delete(n),r.terminate())}(this),Promise.resolve()}}function Kz(t,e,n,r={}){var s;t=Mr(t,gp);const i=vc(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(sk(`https://${c}`),ik("Firestore",!0)),o.host!==yR&&o.host!==c&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:r});if(!ui(u,l)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Pn.MOCK_USER;else{h=o3(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ce(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Pn(m)}t._authCredentials=new r$(new tA(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ua(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(kd(n,Yt._jsonSchema))return new Yt(e,r||null,new _e(Et.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:rn("string",Yt._jsonSchemaVersion),referencePath:rn("string")};class ho extends Ua{constructor(e,n,r){super(e,n,Mw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new _e(e))}withConverter(e){return new ho(this.firestore,e,this._path)}}function or(t,e,...n){if(t=Dt(t),rA("collection","path",e),t instanceof gp){const r=Et.fromString(e,...n);return tb(r),new ho(t,null,r)}{if(!(t instanceof Yt||t instanceof ho))throw new ce(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return tb(r),new ho(t.firestore,null,r)}}function gt(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=Aw.newId()),rA("doc","path",e),t instanceof gp){const r=Et.fromString(e,...n);return eb(r),new Yt(t,null,new _e(r))}{if(!(t instanceof Yt||t instanceof ho))throw new ce(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return eb(r),new Yt(t.firestore,t instanceof ho?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="AsyncQueue";class Wb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new QA(this,"async_queue_retry"),this.oc=()=>{const r=Vg();r&&fe(zb,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Vg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Vg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ri;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!_c(e))throw e;fe(zb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,fi("INTERNAL UNHANDLED ERROR: ",Hb(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=Yw.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&Ce(47125,{hc:Hb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Hb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Bo extends gp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Wb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wb(e),this._firestoreClient=void 0,await e}}}function Qz(t,e){const n=typeof t=="object"?t:ck(),r=typeof t=="string"?t:em,s=yw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=s3("firestore");i&&Kz(s,...i)}return s}function vp(t){if(t._terminated)throw new ce(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Yz(t),t._firestoreClient}function Yz(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,h){return new E$(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new zz(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kr(Tn.fromBase64String(e))}catch(n){throw new ce(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kr(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kd(e,kr._jsonSchema))return kr.fromBase64String(e.bytes)}}kr._jsonSchemaVersion="firestore/bytes/1.0",kr._jsonSchema={type:rn("string",kr._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rs._jsonSchemaVersion}}static fromJSON(e){if(kd(e,Rs._jsonSchema))return new Rs(e.latitude,e.longitude)}}Rs._jsonSchemaVersion="firestore/geoPoint/1.0",Rs._jsonSchema={type:rn("string",Rs._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kd(e,Ps._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ps(e.vectorValues);throw new ce(q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ps._jsonSchemaVersion="firestore/vectorValue/1.0",Ps._jsonSchema={type:rn("string",Ps._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=/^__.*__$/;class Zz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $o(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ad(e,this.data,n,this.fieldTransforms)}}class xR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $o(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ec:t})}}class yp{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new yp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return lm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(wR(this.Ec)&&Xz.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Jz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fp(e)}Dc(e,n,r,s=!1){return new yp({Ec:e,methodName:n,bc:r,path:xn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(t){const e=t._freezeSettings(),n=fp(t._databaseId);return new Jz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function t_(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);i_("Data must be an object, but it was:",o,r);const l=TR(r,o);let c,u;if(i.merge)c=new pr(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=Py(e,f,n);if(!o.contains(m))throw new ce(q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);CR(h,m)||h.push(m)}c=new pr(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new Zz(new er(l),c,u)}class xp extends Tc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xp}}function _R(t,e,n){return new yp({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class n_ extends Tc{_toFieldTransform(e){return new Vw(e.path,new ad)}isEqual(e){return e instanceof n_}}class r_ extends Tc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=_R(this,e,!0),r=this.vc.map(i=>$a(i,n)),s=new ec(r);return new Vw(e.path,s)}isEqual(e){return e instanceof r_&&ui(this.vc,e.vc)}}class s_ extends Tc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=_R(this,e,!0),r=this.vc.map(i=>$a(i,n)),s=new tc(r);return new Vw(e.path,s)}isEqual(e){return e instanceof s_&&ui(this.vc,e.vc)}}function ER(t,e,n,r){const s=t.Dc(1,e,n);i_("Data must be an object, but it was:",s,r);const i=[],o=er.empty();Uo(r,(c,u)=>{const h=o_(e,c,n);u=Dt(u);const f=s.gc(h);if(u instanceof xp)i.push(h);else{const m=$a(u,f);m!=null&&(i.push(h),o.set(h,m))}});const l=new pr(i);return new xR(o,l,s.fieldTransforms)}function bR(t,e,n,r,s,i){const o=t.Dc(1,e,n),l=[Py(e,r,n)],c=[s];if(i.length%2!=0)throw new ce(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(Py(e,i[m])),c.push(i[m+1]);const u=[],h=er.empty();for(let m=l.length-1;m>=0;--m)if(!CR(u,l[m])){const g=l[m];let b=c[m];b=Dt(b);const E=o.gc(g);if(b instanceof xp)u.push(g);else{const x=$a(b,E);x!=null&&(u.push(g),h.set(g,x))}}const f=new pr(u);return new xR(h,f,o.fieldTransforms)}function e8(t,e,n,r=!1){return $a(n,t.Dc(r?4:3,e))}function $a(t,e){if(SR(t=Dt(t)))return i_("Unsupported field value:",e,t),TR(t,e);if(t instanceof Tc)return function(r,s){if(!wR(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=$a(l,s.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return W$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Nt.fromDate(r);return{timestampValue:sm(s.serializer,i)}}if(r instanceof Nt){const i=new Nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sm(s.serializer,i)}}if(r instanceof Rs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kr)return{bytesValue:VA(s.serializer,r._byteString)};if(r instanceof Yt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$w(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ps)return function(o,l){return{mapValue:{fields:{[hA]:{stringValue:mA},[tm]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.wc("VectorValues must only contain numeric values.");return Lw(l.serializer,u)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${rp(r)}`)}(t,e)}function TR(t,e){const n={};return oA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(t,(r,s)=>{const i=$a(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function SR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof Rs||t instanceof kr||t instanceof Yt||t instanceof Tc||t instanceof Ps)}function i_(t,e,n){if(!SR(n)||!sA(n)){const r=rp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Py(t,e,n){if((e=Dt(e))instanceof Dd)return e._internalPath;if(typeof e=="string")return o_(t,e);throw lm("Field path arguments must be of type string or ",t,!1,void 0,n)}const t8=new RegExp("[~\\*/\\[\\]]");function o_(t,e,n){if(e.search(t8)>=0)throw lm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dd(...e.split("."))._internalPath}catch{throw lm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ce(q.INVALID_ARGUMENT,l+t+c)}function CR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n8 extends IR{data(){return super.data()}}function wp(t,e){return typeof e=="string"?o_(t,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a_{}class NR extends a_{}function ar(t,e,...n){let r=[];e instanceof a_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof l_).length,l=i.filter(c=>c instanceof _p).length;if(o>1||o>0&&l>0)throw new ce(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class _p extends NR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _p(e,n,r)}_apply(e){const n=this._parse(e);return kR(e._query,n),new Ua(e.firestore,e.converter,_y(e._query,n))}_parse(e){const n=Od(e.firestore);return function(i,o,l,c,u,h,f){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ce(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Gb(f,h);const b=[];for(const E of f)b.push(qb(c,i,E));m={arrayValue:{values:b}}}else m=qb(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Gb(f,h),m=e8(l,o,f,h==="in"||h==="not-in");return nn.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wn(t,e,n){const r=e,s=wp("where",t);return _p._create(s,r,n)}class l_ extends a_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new l_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:is.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)kR(o,c),o=_y(o,c)}(e._query,n),new Ua(e.firestore,e.converter,_y(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class c_ extends NR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new c_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ce(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ce(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new od(i,o)}(e._query,this._field,this._direction);return new Ua(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ec(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function os(t,e="asc"){const n=e,r=wp("orderBy",t);return c_._create(r,n)}function qb(t,e,n){if(typeof(n=Dt(n))=="string"){if(n==="")throw new ce(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EA(e)&&n.indexOf("/")!==-1)throw new ce(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!_e.isDocumentKey(r))throw new ce(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cb(t,new _e(r))}if(n instanceof Yt)return cb(t,n._key);throw new ce(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rp(n)}.`)}function Gb(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kR(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class s8{convertValue(e,n="none"){switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Uo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[tm].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Gt(o.doubleValue));return new Ps(i)}convertGeoPoint(e){return new Rs(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=op(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rd(e));default:return null}}convertTimestamp(e){const n=No(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);ht(WA(r),9688,{name:e});const s=new sd(r.get(1),r.get(3)),i=new _e(r.popFirst(5));return s.isEqual(n)||fi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pa extends IR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:rn("string",pa._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class rf extends pa{data(e={}){return super.data(e)}}class Il{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new iu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rf(this._firestore,this._userDataWriter,r.key,r,new iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new rf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new iu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new rf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new iu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:i8(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Il._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Aw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function i8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){t=Mr(t,Yt);const e=Mr(t.firestore,Bo);return qz(vp(e),t._key).then(n=>o8(e,t,n))}Il._jsonSchemaVersion="firestore/querySnapshot/1.0",Il._jsonSchema={type:rn("string",Il._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class AR extends s8{constructor(e){super(),this.firestore=e}convertBytes(e){return new kr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function lr(t){t=Mr(t,Ua);const e=Mr(t.firestore,Bo),n=vp(e),r=new AR(e);return r8(t._query),Gz(n,t._query).then(s=>new Il(e,r,t,s))}function Jo(t,e,n){t=Mr(t,Yt);const r=Mr(t.firestore,Bo),s=u_(t.converter,e,n);return Md(r,[t_(Od(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Bn.none())])}function Ei(t,e,n,...r){t=Mr(t,Yt);const s=Mr(t.firestore,Bo),i=Od(s);let o;return o=typeof(e=Dt(e))=="string"||e instanceof Dd?bR(i,"updateDoc",t._key,e,n,r):ER(i,"updateDoc",t._key,e),Md(s,[o.toMutation(t._key,Bn.exists(!0))])}function d_(t){return Md(Mr(t.firestore,Bo),[new dp(t._key,Bn.none())])}function Ba(t,e){const n=Mr(t.firestore,Bo),r=gt(t),s=u_(t.converter,e);return Md(n,[t_(Od(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function Md(t,e){return function(r,s){const i=new ri;return r.asyncQueue.enqueueAndForget(async()=>Dz(await Hz(r),s,i)),i.promise}(vp(t),e)}function o8(t,e,n){const r=n.docs.get(e._key),s=new AR(t);return new pa(t,s,e._key,r,new iu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Od(e)}set(e,n,r){this._verifyNotCommitted();const s=Ug(e,this._firestore),i=u_(s.converter,n,r),o=t_(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,Bn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Ug(e,this._firestore);let o;return o=typeof(n=Dt(n))=="string"||n instanceof Dd?bR(this._dataReader,"WriteBatch.update",i._key,n,r,s):ER(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,Bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ug(e,this._firestore);return this._mutations=this._mutations.concat(new dp(n._key,Bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ug(t,e){if((t=Dt(t)).firestore!==e)throw new ce(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Xe(){return new n_("serverTimestamp")}function l8(...t){return new r_("arrayUnion",t)}function c8(...t){return new s_("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t){return vp(t=Mr(t,Bo)),new a8(t,e=>Md(t,e))}(function(e,n=!0){(function(s){xc=s})(yc),Ql(new ba("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Bo(new s$(r.getProvider("auth-internal")),new a$(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),co(QE,YE,e),co(QE,YE,"esm2017")})();var d8="firebase",h8="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(d8,h8,"app");const f8={apiKey:"AIzaSyDvxFHXf3JsSv3FSd_aEGoFAdb0VmduwdM",authDomain:"qtonz-sports.firebaseapp.com",projectId:"qtonz-sports",storageBucket:"qtonz-sports.firebasestorage.app",messagingSenderId:"61854773542",appId:"1:61854773542:web:5114c630865f5a929091e7"},RR=lk(f8),ms=e$(RR),Be=Qz(RR);$U(ms,Vk).catch(t=>{console.error("Failed to set Firebase auth persistence:",t)});const PR=p.createContext(void 0),m8=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(!0),[i,o]=p.useState(!1),[l,c]=p.useState(!1),u=_d();p.useEffect(()=>{const x=WU(ms,async _=>{n(_),_?await h(_.uid):(o(!1),c(!1)),s(!1)});return()=>x()},[]);const h=async x=>{try{const _=await Na(gt(Be,"user_roles",x)),v=_.exists()?_.data():null,y=(v==null?void 0:v.roles)??[];o(y.includes("admin")),c(!y.includes("admin"))}catch(_){console.error("Error checking admin role:",_),o(!1),c(!1)}},f=async(x,_,v)=>{try{const S=(await MU(ms,x,_)).user;return await Jo(gt(Be,"profiles",S.uid),{name:(v==null?void 0:v.name)||"",email:x,phone:(v==null?void 0:v.phone)||"",department:(v==null?void 0:v.department)||"",gender:(v==null?void 0:v.gender)||"",created_at:Xe(),updated_at:Xe()},{merge:!0}),await Jo(gt(Be,"user_roles",S.uid),{roles:["player"],updated_at:Xe(),created_at:Xe()},{merge:!0}),await VU(S),await Dg(ms),{error:null}}catch(y){return{error:y}}},m=async(x,_)=>{try{if(!(await LU(ms,x,_)).user.emailVerified)throw await Dg(ms),new Error("Please verify your email address before logging in.");return u("/"),{error:null}}catch(v){return{error:v}}},g=async()=>{try{const x=new Ks,v=(await c9(ms,x)).user;return(await Na(gt(Be,"profiles",v.uid))).exists()?{error:null,user:v,isNewUser:!1}:(await Jo(gt(Be,"profiles",v.uid),{name:v.displayName||"",email:v.email||"",created_at:Xe(),updated_at:Xe()},{merge:!0}),await Jo(gt(Be,"user_roles",v.uid),{roles:["player"],updated_at:Xe(),created_at:Xe()},{merge:!0}),{error:null,user:v,isNewUser:!0})}catch(x){return{error:x}}},b=async x=>{try{const _=ms.currentUser;if(!_)throw new Error("No authenticated user found");return await Jo(gt(Be,"profiles",_.uid),{name:_.displayName||"",email:_.email||"",phone:(x==null?void 0:x.phone)||"",department:(x==null?void 0:x.department)||"",gender:(x==null?void 0:x.gender)||"",password:(x==null?void 0:x.password)||"",created_at:Xe(),updated_at:Xe()},{merge:!0}),await Jo(gt(Be,"user_roles",_.uid),{roles:["player"],updated_at:Xe(),created_at:Xe()},{merge:!0}),{error:null}}catch(_){return{error:_}}},E=async()=>{await Dg(ms),o(!1),u("/")};return a.jsx(PR.Provider,{value:{user:e,loading:r,isAdmin:i,isPlayer:l,signUp:f,signIn:m,signInWithGoogle:g,signUpWithGoogle:b,signOut:E},children:t})},Lr=()=>{const t=p.useContext(PR);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},p8=Ma("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Te=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?dc:"button";return a.jsx(o,{className:de(p8({variant:e,size:n,className:t})),ref:i,...s})});Te.displayName="Button";const g8=()=>{const{user:t,signOut:e,isAdmin:n,isPlayer:r}=Lr(),[s,i]=p.useState(!1);return a.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 w-full border-b border-border/40 glass-card shadow-lg",children:[a.jsxs("div",{className:"container flex h-16 md:h-18 items-center justify-between px-4 md:px-6",children:[a.jsxs(pt,{to:"/",className:"group flex items-center space-x-2 transition-transform hover:scale-105",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zn,{className:"h-6 w-6 md:h-7 md:w-7 text-primary transition-all group-hover:rotate-12 group-hover:text-accent"}),a.jsx("div",{className:"absolute inset-0 blur-lg bg-primary/30 group-hover:bg-accent/40 transition-all"})]}),a.jsx("span",{className:"text-xl md:text-2xl font-bold gradient-text font-['Outfit']",children:"SportsBracket"})]}),a.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[a.jsxs(pt,{to:"/leaderboard",className:"text-sm font-semibold text-foreground hover:text-primary transition-all hover:scale-105 relative group",children:["Leaderboard",a.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-accent transition-all group-hover:w-full"})]}),r&&a.jsxs(pt,{to:"/dashboard",className:"text-sm font-semibold text-foreground hover:text-primary transition-all hover:scale-105 relative group",children:["Player Dashboard",a.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-accent transition-all group-hover:w-full"})]}),n&&a.jsxs(pt,{to:"/admin",className:"text-sm font-semibold text-foreground hover:text-primary transition-all hover:scale-105 relative group",children:["Admin",a.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-accent transition-all group-hover:w-full"})]})]}),a.jsx("div",{className:"hidden md:flex items-center space-x-3",children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground bg-muted px-3 py-1.5 rounded-full",children:t.displayName}),a.jsxs(Te,{variant:"ghost",onClick:e,className:"hover-lift",children:[a.jsx(jf,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(pt,{to:"/login",children:a.jsx(Te,{variant:"ghost",className:"hover-lift",children:"Login"})}),a.jsx(pt,{to:"/register",children:a.jsx(Te,{className:"bg-gradient-to-r from-primary to-accent hover:shadow-lg hover:scale-105 transition-all",children:"Register"})})]})}),a.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-muted/50 transition-all active:scale-95",onClick:()=>i(!s),"aria-label":"Toggle menu",children:s?a.jsx(Um,{className:"h-6 w-6 text-primary"}):a.jsx(v4,{className:"h-6 w-6 text-primary"})})]}),s&&a.jsx("div",{className:"md:hidden border-t border-border/40 glass animate-slide-down",children:a.jsxs("div",{className:"container py-4 space-y-3 px-4",children:[a.jsx(pt,{to:"/leaderboard",className:"block py-3 px-4 text-sm font-semibold text-foreground hover:text-primary hover:bg-primary/10 rounded-lg transition-all",onClick:()=>i(!1),children:"Leaderboard"}),r&&a.jsx(pt,{to:"/dashboard",className:"block py-3 px-4 text-sm font-semibold text-foreground hover:text-primary hover:bg-primary/10 rounded-lg transition-all",onClick:()=>i(!1),children:"Player Dashboard"}),n&&a.jsx(pt,{to:"/admin",className:"block py-3 px-4 text-sm font-semibold text-foreground hover:text-primary hover:bg-primary/10 rounded-lg transition-all",onClick:()=>i(!1),children:"Admin"}),a.jsx("div",{className:"flex flex-col space-y-3 pt-4 border-t border-border/40",children:t?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-4 py-2 bg-muted rounded-lg",children:a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:t.email})}),a.jsxs(Te,{variant:"ghost",onClick:()=>{e(),i(!1)},className:"w-full justify-start hover:bg-destructive/10 hover:text-destructive",children:[a.jsx(jf,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(pt,{to:"/login",onClick:()=>i(!1),children:a.jsx(Te,{variant:"outline",className:"w-full hover-lift",children:"Login"})}),a.jsx(pt,{to:"/register",onClick:()=>i(!1),children:a.jsx(Te,{className:"w-full bg-gradient-to-r from-primary to-accent hover:shadow-lg transition-all",children:"Register"})})]})})]})})]})},v8=()=>a.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-primary via-secondary to-accent py-16 md:py-24 lg:py-32",children:[a.jsxs("div",{className:"container relative z-10 px-4 md:px-6",children:[a.jsxs("div",{className:"mx-auto max-w-5xl text-center",children:[a.jsxs("div",{className:"mb-6 md:mb-8 inline-flex items-center rounded-full bg-white/10 px-4 md:px-6 py-2 md:py-2.5 backdrop-blur-sm border border-white/20 animate-slide-down hover:scale-105 transition-transform",children:[a.jsx(zn,{className:"mr-2 h-4 w-4 md:h-5 md:w-5 text-accent animate-pulse"}),a.jsx("span",{className:"text-xs md:text-sm font-semibold text-white",children:"Sports Week 2025"}),a.jsx(BI,{className:"ml-2 h-4 w-4 md:h-5 md:w-5 text-warning"})]}),a.jsxs("h1",{className:"mb-6 md:mb-8 text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-black tracking-tight text-white leading-tight animate-slide-up",children:["Tournament Management",a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-accent via-warning to-accent bg-clip-text text-transparent animate-pulse",children:"Made Simple"})]}),a.jsx("p",{className:"mb-8 md:mb-10 text-base md:text-lg lg:text-xl text-white/95 max-w-3xl mx-auto leading-relaxed px-4 md:px-0 animate-fade-in",children:"Organize, track, and manage your sports tournaments with ease. From registration to final results, we've got you covered with cutting-edge technology."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center animate-scale-in px-4 md:px-0",children:[a.jsx(pt,{to:"/register",className:"w-full sm:w-auto",children:a.jsxs(Te,{size:"lg",className:"w-full sm:w-auto bg-gradient-to-r from-accent to-warning hover:from-warning hover:to-accent text-white font-bold shadow-2xl hover:shadow-accent/50 hover:scale-110 transition-all group",children:["Register Now",a.jsx(s4,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})}),a.jsx(pt,{to:"/leaderboard",className:"w-full sm:w-auto",children:a.jsx(Te,{size:"lg",variant:"outline",className:"w-full sm:w-auto glass-card border-white/30 text-white hover:bg-white/20 hover:scale-105 transition-all font-semibold",children:"View Leaderboard"})})]})]}),a.jsxs("div",{className:"mt-12 md:mt-20 grid gap-4 md:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 px-4 md:px-0",children:[a.jsxs("div",{className:"group rounded-2xl p-6 md:p-8 bg-white/15 backdrop-blur-md border border-white/30 hover:border-white/50 hover:bg-white/20 transition-all hover:scale-105 hover:-translate-y-2 animate-slide-up shadow-xl",children:[a.jsxs("div",{className:"relative inline-block mb-4 md:mb-6",children:[a.jsx(zn,{className:"h-10 w-10 md:h-12 md:w-12 text-white drop-shadow-lg group-hover:rotate-12 transition-transform"}),a.jsx("div",{className:"absolute inset-0 blur-xl bg-accent/40 group-hover:bg-accent/60 transition-all"})]}),a.jsx("h3",{className:"mb-2 md:mb-3 text-lg md:text-xl font-bold text-white drop-shadow-md",children:"7 Sports"}),a.jsx("p",{className:"text-sm md:text-base text-white drop-shadow-sm leading-relaxed",children:"Cricket, Volleyball, Chess, Table Tennis, Carrom, Pool, Pickleball"})]}),a.jsxs("div",{className:"group rounded-2xl p-6 md:p-8 bg-white/15 backdrop-blur-md border border-white/30 hover:border-white/50 hover:bg-white/20 transition-all hover:scale-105 hover:-translate-y-2 animate-slide-up shadow-xl",style:{animationDelay:"0.1s"},children:[a.jsxs("div",{className:"relative inline-block mb-4 md:mb-6",children:[a.jsx(bo,{className:"h-10 w-10 md:h-12 md:w-12 text-white drop-shadow-lg group-hover:scale-110 transition-transform"}),a.jsx("div",{className:"absolute inset-0 blur-xl bg-warning/40 group-hover:bg-warning/60 transition-all"})]}),a.jsx("h3",{className:"mb-2 md:mb-3 text-lg md:text-xl font-bold text-white drop-shadow-md",children:"Team Management"}),a.jsx("p",{className:"text-sm md:text-base text-white drop-shadow-sm leading-relaxed",children:"Create teams, pairs, and track individual players seamlessly"})]}),a.jsxs("div",{className:"group rounded-2xl p-6 md:p-8 bg-white/15 backdrop-blur-md border border-white/30 hover:border-white/50 hover:bg-white/20 transition-all hover:scale-105 hover:-translate-y-2 sm:col-span-2 lg:col-span-1 animate-slide-up shadow-xl",style:{animationDelay:"0.2s"},children:[a.jsxs("div",{className:"relative inline-block mb-4 md:mb-6",children:[a.jsx(Eo,{className:"h-10 w-10 md:h-12 md:w-12 text-white drop-shadow-lg group-hover:rotate-6 transition-transform"}),a.jsx("div",{className:"absolute inset-0 blur-xl bg-info/40 group-hover:bg-info/60 transition-all"})]}),a.jsx("h3",{className:"mb-2 md:mb-3 text-lg md:text-xl font-bold text-white drop-shadow-md",children:"Live Brackets"}),a.jsx("p",{className:"text-sm md:text-base text-white drop-shadow-sm leading-relaxed",children:"Real-time tournament brackets with instant result updates"})]})]})]}),a.jsx("div",{className:"absolute top-0 left-0 -translate-x-1/2 -translate-y-1/2 w-64 h-64 md:w-96 md:h-96 bg-accent/30 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 right-0 translate-x-1/2 translate-y-1/2 w-64 h-64 md:w-96 md:h-96 bg-warning/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 md:w-[600px] md:h-[600px] bg-white/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute top-10 left-10 w-2 h-2 bg-white/40 rounded-full animate-ping"}),a.jsx("div",{className:"absolute top-20 right-20 w-3 h-3 bg-accent/60 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),a.jsx("div",{className:"absolute bottom-20 left-20 w-2 h-2 bg-warning/60 rounded-full animate-ping",style:{animationDelay:"1s"}})]}),je=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));je.displayName="Card";const nt=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",t),...e}));nt.displayName="CardHeader";const rt=p.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight",t),...e}));rt.displayName="CardTitle";const as=p.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:de("text-sm text-muted-foreground",t),...e}));as.displayName="CardDescription";const De=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:de("p-6 pt-0",t),...e}));De.displayName="CardContent";const y8=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",t),...e}));y8.displayName="CardFooter";const x8=Ma("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yr({className:t,variant:e,...n}){return a.jsx("div",{className:de(x8({variant:e}),t),...n})}const w8=({name:t,type:e,playersPerTeam:n,icon:r})=>{const s=()=>{switch(e){case"SINGLE":return"1v1";case"PAIR":return"2v2";case"TEAM":return`${n}v${n}`}},i=()=>{switch(e){case"SINGLE":return"default";case"PAIR":return"secondary";case"TEAM":return"outline"}};return a.jsx(je,{className:"overflow-hidden transition-all hover:shadow-lg hover:-translate-y-1 cursor-pointer",children:a.jsxs(De,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:"rounded-lg bg-primary/10 p-3 text-primary",children:r}),a.jsx(yr,{variant:i(),className:"text-xs",children:s()})]}),a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:t}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(bo,{className:"mr-1 h-4 w-4"}),a.jsxs("span",{children:[e==="SINGLE"?"Individual":e==="PAIR"?"Doubles":"Team"," Competition"]})]})]})})},_8=()=>{const t=[{name:"Cricket",type:"TEAM",playersPerTeam:11,icon:a.jsx(Zx,{className:"h-6 w-6"})},{name:"Volleyball",type:"TEAM",playersPerTeam:6,icon:a.jsx(E4,{className:"h-6 w-6"})},{name:"Chess",type:"SINGLE",playersPerTeam:1,icon:a.jsx(u4,{className:"h-6 w-6"})},{name:"Table Tennis",type:"PAIR",playersPerTeam:2,icon:a.jsx(W1,{className:"h-6 w-6"})},{name:"Carrom",type:"PAIR",playersPerTeam:2,icon:a.jsx(x4,{className:"h-6 w-6"})},{name:"8 Ball Pool",type:"PAIR",playersPerTeam:2,icon:a.jsx(W1,{className:"h-6 w-6"})},{name:"Pickleball",type:"PAIR",playersPerTeam:2,icon:a.jsx(BI,{className:"h-6 w-6"})}];return a.jsx("section",{className:"py-12 md:py-20 lg:py-24 bg-gradient-to-b from-muted/30 to-background",children:a.jsxs("div",{className:"container px-4 md:px-6",children:[a.jsxs("div",{className:"text-center mb-10 md:mb-16 animate-fade-in",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black tracking-tight mb-4 md:mb-6",children:a.jsx("span",{className:"gradient-text",children:"Tournament Games"})}),a.jsx("p",{className:"text-base md:text-lg lg:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed px-4 md:px-0",children:"Compete in 7 exciting sports across different formats - singles, doubles, and team events"})]}),a.jsx("div",{className:"grid gap-4 md:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map((e,n)=>a.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${n*.1}s`},children:a.jsx(w8,{...e})},e.name))})]})})},E8=()=>a.jsx("section",{className:"py-16 md:py-24",children:a.jsxs("div",{className:"container",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight text-foreground md:text-4xl mb-4",children:"Interactive Tournament Brackets"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Visualize and track tournament progress with our clean bracket system"})]}),a.jsxs(je,{className:"overflow-hidden",children:[a.jsx(nt,{className:"bg-gradient-to-r from-primary to-primary/80",children:a.jsx(rt,{className:"text-white",children:"Sample Bracket - 8 Teams"})}),a.jsx(De,{className:"p-8",children:a.jsxs("div",{className:"flex justify-center items-center gap-8",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Quarter Finals"}),[1,2,3,4].map(t=>a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-card hover:border-primary transition-colors cursor-pointer",children:a.jsxs("div",{className:"text-sm font-medium",children:["Team ",t*2-1]})}),a.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-card hover:border-primary transition-colors cursor-pointer",children:a.jsxs("div",{className:"text-sm font-medium",children:["Team ",t*2]})})]},t))]}),a.jsxs("div",{className:"space-y-16",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Semi Finals"}),[1,2].map(t=>a.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-muted hover:border-primary transition-colors cursor-pointer min-w-[120px]",children:a.jsxs("div",{className:"text-sm font-medium text-muted-foreground",children:["Winner ",t]})},t))]}),a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Final"}),a.jsx("div",{className:"border-2 border-accent rounded-lg px-4 py-3 bg-accent/5 hover:border-accent transition-colors cursor-pointer min-w-[120px]",children:a.jsx("div",{className:"text-sm font-semibold text-accent",children:"Champion"})})]})]})})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Supports 8, 16, and 32 team brackets with automatic advancement"})})]})}),b8=()=>a.jsx("footer",{className:"border-t border-border bg-muted/30",children:a.jsxs("div",{className:"container py-12",children:[a.jsxs("div",{className:"grid gap-8 md:grid-cols-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(zn,{className:"h-6 w-6 text-primary"}),a.jsx("span",{className:"text-xl font-bold text-foreground",children:"SportsBracket"})]}),a.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Complete tournament management system for organizing and tracking sports events. Built for Sports Week 2025."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx(pt,{to:"/games",className:"text-muted-foreground hover:text-primary transition-colors",children:"Games"})}),a.jsx("li",{children:a.jsx(pt,{to:"/schedule",className:"text-muted-foreground hover:text-primary transition-colors",children:"Schedule"})}),a.jsx("li",{children:a.jsx(pt,{to:"/results",className:"text-muted-foreground hover:text-primary transition-colors",children:"Results"})}),a.jsx("li",{children:a.jsx(pt,{to:"/leaderboard",className:"text-muted-foreground hover:text-primary transition-colors",children:"Leaderboard"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Account"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx(pt,{to:"/login",className:"text-muted-foreground hover:text-primary transition-colors",children:"Login"})}),a.jsx("li",{children:a.jsx(pt,{to:"/register",className:"text-muted-foreground hover:text-primary transition-colors",children:"Register"})})]})]})]}),a.jsx("div",{className:"mt-8 pt-8 border-t border-border text-center text-sm text-muted-foreground",children:" 2025 SportsBracket. Sports Week Tournament Management System."})]})}),T8=()=>a.jsxs("div",{className:"min-h-screen",children:[a.jsx(g8,{}),a.jsx(v8,{}),a.jsx(_8,{}),a.jsx(E8,{}),a.jsx(b8,{})]});var $g="focusScope.autoFocusOnMount",Bg="focusScope.autoFocusOnUnmount",Kb={bubbles:!1,cancelable:!0},S8="FocusScope",h_=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=p.useState(null),u=Dr(s),h=Dr(i),f=p.useRef(null),m=yt(e,E=>c(E)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let E=function(y){if(g.paused||!l)return;const S=y.target;l.contains(S)?f.current=S:ji(f.current,{select:!0})},x=function(y){if(g.paused||!l)return;const S=y.relatedTarget;S!==null&&(l.contains(S)||ji(f.current,{select:!0}))},_=function(y){if(document.activeElement===document.body)for(const k of y)k.removedNodes.length>0&&ji(l)};document.addEventListener("focusin",E),document.addEventListener("focusout",x);const v=new MutationObserver(_);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",x),v.disconnect()}}},[r,l,g.paused]),p.useEffect(()=>{if(l){Yb.add(g);const E=document.activeElement;if(!l.contains(E)){const _=new CustomEvent($g,Kb);l.addEventListener($g,u),l.dispatchEvent(_),_.defaultPrevented||(C8(R8(jR(l)),{select:!0}),document.activeElement===E&&ji(l))}return()=>{l.removeEventListener($g,u),setTimeout(()=>{const _=new CustomEvent(Bg,Kb);l.addEventListener(Bg,h),l.dispatchEvent(_),_.defaultPrevented||ji(E??document.body,{select:!0}),l.removeEventListener(Bg,h),Yb.remove(g)},0)}}},[l,u,h,g]);const b=p.useCallback(E=>{if(!n&&!r||g.paused)return;const x=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,_=document.activeElement;if(x&&_){const v=E.currentTarget,[y,S]=I8(v);y&&S?!E.shiftKey&&_===S?(E.preventDefault(),n&&ji(y,{select:!0})):E.shiftKey&&_===y&&(E.preventDefault(),n&&ji(S,{select:!0})):_===v&&E.preventDefault()}},[n,r,g.paused]);return a.jsx(Ve.div,{tabIndex:-1,...o,ref:m,onKeyDown:b})});h_.displayName=S8;function C8(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ji(r,{select:e}),document.activeElement!==n)return}function I8(t){const e=jR(t),n=Qb(e,t),r=Qb(e.reverse(),t);return[n,r]}function jR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Qb(t,e){for(const n of t)if(!N8(n,{upTo:e}))return n}function N8(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function k8(t){return t instanceof HTMLInputElement&&"select"in t}function ji(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&k8(t)&&e&&t.select()}}var Yb=A8();function A8(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Xb(t,e),t.unshift(e)},remove(e){var n;t=Xb(t,e),(n=t[0])==null||n.resume()}}}function Xb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function R8(t){return t.filter(e=>e.tagName!=="A")}var zg=0;function DR(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Zb()),document.body.insertAdjacentElement("beforeend",t[1]??Zb()),zg++,()=>{zg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),zg--}},[])}function Zb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sf="right-scroll-bar-position",of="width-before-scroll-bar",P8="with-scroll-bars-hidden",j8="--removed-body-scroll-bar-size";function Wg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function D8(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var O8=typeof window<"u"?p.useLayoutEffect:p.useEffect,Jb=new WeakMap;function M8(t,e){var n=D8(null,function(r){return t.forEach(function(s){return Wg(s,r)})});return O8(function(){var r=Jb.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||Wg(l,null)}),i.forEach(function(l){s.has(l)||Wg(l,o)})}Jb.set(n,t)},[t]),n}function L8(t){return t}function V8(t,e){e===void 0&&(e=L8);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function F8(t){t===void 0&&(t={});var e=V8(null);return e.options=ws({async:!0,ssr:!1},t),e}var OR=function(t){var e=t.sideCar,n=Td(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,ws({},n))};OR.isSideCarExport=!0;function U8(t,e){return t.useMedium(e),OR}var MR=F8(),Hg=function(){},Ep=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Hg,onWheelCapture:Hg,onTouchMoveCapture:Hg}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,g=t.noRelative,b=t.noIsolation,E=t.inert,x=t.allowPinchZoom,_=t.as,v=_===void 0?"div":_,y=t.gapMode,S=Td(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,D=M8([n,e]),I=ws(ws({},S),s);return p.createElement(p.Fragment,null,h&&p.createElement(k,{sideCar:MR,removeScrollBar:u,shards:f,noRelative:g,noIsolation:b,inert:E,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:y}),o?p.cloneElement(p.Children.only(l),ws(ws({},I),{ref:D})):p.createElement(v,ws({},I,{className:c,ref:D}),l))});Ep.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ep.classNames={fullWidth:of,zeroRight:sf};var $8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function B8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=$8();return e&&t.setAttribute("nonce",e),t}function z8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function W8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var H8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=B8())&&(z8(e,n),W8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},q8=function(){var t=H8();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},LR=function(){var t=q8(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},G8={left:0,top:0,right:0,gap:0},qg=function(t){return parseInt(t||"",10)||0},K8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[qg(n),qg(r),qg(s)]},Q8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return G8;var e=K8(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Y8=LR(),Nl="data-scroll-locked",X8=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(P8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Nl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(of,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(sf," .").concat(sf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(of," .").concat(of,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Nl,`] {
    `).concat(j8,": ").concat(l,`px;
  }
`)},eT=function(){var t=parseInt(document.body.getAttribute(Nl)||"0",10);return isFinite(t)?t:0},Z8=function(){p.useEffect(function(){return document.body.setAttribute(Nl,(eT()+1).toString()),function(){var t=eT()-1;t<=0?document.body.removeAttribute(Nl):document.body.setAttribute(Nl,t.toString())}},[])},J8=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Z8();var i=p.useMemo(function(){return Q8(s)},[s]);return p.createElement(Y8,{styles:X8(i,!e,s,n?"":"!important")})},jy=!1;if(typeof window<"u")try{var kh=Object.defineProperty({},"passive",{get:function(){return jy=!0,!0}});window.addEventListener("test",kh,kh),window.removeEventListener("test",kh,kh)}catch{jy=!1}var Ka=jy?{passive:!1}:!1,e7=function(t){return t.tagName==="TEXTAREA"},VR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!e7(t)&&n[e]==="visible")},t7=function(t){return VR(t,"overflowY")},n7=function(t){return VR(t,"overflowX")},tT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=FR(t,r);if(s){var i=UR(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},r7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},s7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},FR=function(t,e){return t==="v"?t7(e):n7(e)},UR=function(t,e){return t==="v"?r7(e):s7(e)},i7=function(t,e){return t==="h"&&e==="rtl"?-1:1},o7=function(t,e,n,r,s){var i=i7(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,c=e.contains(l),u=!1,h=o>0,f=0,m=0;do{if(!l)break;var g=UR(t,l),b=g[0],E=g[1],x=g[2],_=E-x-i*b;(b||_)&&FR(t,l)&&(f+=_,m+=b);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(u=!0),u},Ah=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nT=function(t){return[t.deltaX,t.deltaY]},rT=function(t){return t&&"current"in t?t.current:t},a7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},l7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},c7=0,Qa=[];function u7(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(c7++)[0],i=p.useState(LR)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var E=j6([t.lockRef.current],(t.shards||[]).map(rT),!0).filter(Boolean);return E.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(E,x){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!o.current.allowPinchZoom;var _=Ah(E),v=n.current,y="deltaX"in E?E.deltaX:v[0]-_[0],S="deltaY"in E?E.deltaY:v[1]-_[1],k,D=E.target,I=Math.abs(y)>Math.abs(S)?"h":"v";if("touches"in E&&I==="h"&&D.type==="range")return!1;var C=tT(I,D);if(!C)return!0;if(C?k=I:(k=I==="v"?"h":"v",C=tT(I,D)),!C)return!1;if(!r.current&&"changedTouches"in E&&(y||S)&&(r.current=k),!k)return!0;var N=r.current||k;return o7(N,x,E,N==="h"?y:S,!0)},[]),c=p.useCallback(function(E){var x=E;if(!(!Qa.length||Qa[Qa.length-1]!==i)){var _="deltaY"in x?nT(x):Ah(x),v=e.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&a7(k.delta,_)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var y=(o.current.shards||[]).map(rT).filter(Boolean).filter(function(k){return k.contains(x.target)}),S=y.length>0?l(x,y[0]):!o.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=p.useCallback(function(E,x,_,v){var y={name:E,delta:x,target:_,should:v,shadowParent:d7(_)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(S){return S!==y})},1)},[]),h=p.useCallback(function(E){n.current=Ah(E),r.current=void 0},[]),f=p.useCallback(function(E){u(E.type,nT(E),E.target,l(E,t.lockRef.current))},[]),m=p.useCallback(function(E){u(E.type,Ah(E),E.target,l(E,t.lockRef.current))},[]);p.useEffect(function(){return Qa.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ka),document.addEventListener("touchmove",c,Ka),document.addEventListener("touchstart",h,Ka),function(){Qa=Qa.filter(function(E){return E!==i}),document.removeEventListener("wheel",c,Ka),document.removeEventListener("touchmove",c,Ka),document.removeEventListener("touchstart",h,Ka)}},[]);var g=t.removeScrollBar,b=t.inert;return p.createElement(p.Fragment,null,b?p.createElement(i,{styles:l7(s)}):null,g?p.createElement(J8,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function d7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const h7=U8(MR,u7);var f_=p.forwardRef(function(t,e){return p.createElement(Ep,ws({},t,{ref:e,sideCar:h7}))});f_.classNames=Ep.classNames;var f7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ya=new WeakMap,Rh=new WeakMap,Ph={},Gg=0,$R=function(t){return t&&(t.host||$R(t.parentNode))},m7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=$R(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},p7=function(t,e,n,r){var s=m7(e,Array.isArray(t)?t:[t]);Ph[n]||(Ph[n]=new WeakMap);var i=Ph[n],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var g=m.getAttribute(r),b=g!==null&&g!=="false",E=(Ya.get(m)||0)+1,x=(i.get(m)||0)+1;Ya.set(m,E),i.set(m,x),o.push(m),E===1&&b&&Rh.set(m,!0),x===1&&m.setAttribute(n,"true"),b||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return h(e),l.clear(),Gg++,function(){o.forEach(function(f){var m=Ya.get(f)-1,g=i.get(f)-1;Ya.set(f,m),i.set(f,g),m||(Rh.has(f)||f.removeAttribute(r),Rh.delete(f)),g||f.removeAttribute(n)}),Gg--,Gg||(Ya=new WeakMap,Ya=new WeakMap,Rh=new WeakMap,Ph={})}},BR=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=f7(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),p7(r,s,n,"aria-hidden")):function(){return null}},bp="Dialog",[zR,EG]=vi(bp),[g7,ls]=zR(bp),WR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[u,h]=_o({prop:r,defaultProp:s??!1,onChange:i,caller:bp});return a.jsx(g7,{scope:e,triggerRef:l,contentRef:c,contentId:ti(),titleId:ti(),descriptionId:ti(),open:u,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};WR.displayName=bp;var HR="DialogTrigger",qR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ls(HR,n),i=yt(e,s.triggerRef);return a.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":g_(s.open),...r,ref:i,onClick:be(t.onClick,s.onOpenToggle)})});qR.displayName=HR;var m_="DialogPortal",[v7,GR]=zR(m_,{forceMount:void 0}),KR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ls(m_,e);return a.jsx(v7,{scope:e,forceMount:n,children:p.Children.map(r,o=>a.jsx(Vo,{present:n||i.open,children:a.jsx(Lm,{asChild:!0,container:s,children:o})}))})};KR.displayName=m_;var cm="DialogOverlay",QR=p.forwardRef((t,e)=>{const n=GR(cm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ls(cm,t.__scopeDialog);return i.modal?a.jsx(Vo,{present:r||i.open,children:a.jsx(x7,{...s,ref:e})}):null});QR.displayName=cm;var y7=Hl("DialogOverlay.RemoveScroll"),x7=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ls(cm,n);return a.jsx(f_,{as:y7,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Ve.div,{"data-state":g_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ka="DialogContent",YR=p.forwardRef((t,e)=>{const n=GR(ka,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ls(ka,t.__scopeDialog);return a.jsx(Vo,{present:r||i.open,children:i.modal?a.jsx(w7,{...s,ref:e}):a.jsx(_7,{...s,ref:e})})});YR.displayName=ka;var w7=p.forwardRef((t,e)=>{const n=ls(ka,t.__scopeDialog),r=p.useRef(null),s=yt(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return BR(i)},[]),a.jsx(XR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:be(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:be(t.onFocusOutside,i=>i.preventDefault())})}),_7=p.forwardRef((t,e)=>{const n=ls(ka,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return a.jsx(XR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),XR=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=ls(ka,n),c=p.useRef(null),u=yt(e,c);return DR(),a.jsxs(a.Fragment,{children:[a.jsx(h_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(yd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":g_(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(E7,{titleId:l.titleId}),a.jsx(T7,{contentRef:c,descriptionId:l.descriptionId})]})]})}),p_="DialogTitle",ZR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ls(p_,n);return a.jsx(Ve.h2,{id:s.titleId,...r,ref:e})});ZR.displayName=p_;var JR="DialogDescription",eP=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ls(JR,n);return a.jsx(Ve.p,{id:s.descriptionId,...r,ref:e})});eP.displayName=JR;var tP="DialogClose",nP=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ls(tP,n);return a.jsx(Ve.button,{type:"button",...r,ref:e,onClick:be(t.onClick,()=>s.onOpenChange(!1))})});nP.displayName=tP;function g_(t){return t?"open":"closed"}var rP="DialogTitleWarning",[bG,sP]=dM(rP,{contentName:ka,titleName:p_,docsSlug:"dialog"}),E7=({titleId:t})=>{const e=sP(rP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},b7="DialogDescriptionWarning",T7=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sP(b7).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},iP=WR,S7=qR,oP=KR,Tp=QR,Sp=YR,Cp=ZR,Ip=eP,aP=nP;const ga=iP,v_=S7,C7=oP,lP=p.forwardRef(({className:t,...e},n)=>a.jsx(Tp,{ref:n,className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));lP.displayName=Tp.displayName;const fo=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(C7,{children:[a.jsx(lP,{}),a.jsxs(Sp,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(aP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Um,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fo.displayName=Sp.displayName;const mo=({className:t,...e})=>a.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});mo.displayName="DialogHeader";const po=p.forwardRef(({className:t,...e},n)=>a.jsx(Cp,{ref:n,className:de("text-lg font-semibold leading-none tracking-tight",t),...e}));po.displayName=Cp.displayName;const Dy=p.forwardRef(({className:t,...e},n)=>a.jsx(Ip,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));Dy.displayName=Ip.displayName;const vt=p.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));vt.displayName="Input";var I7=Object.defineProperty,N7=Object.defineProperties,k7=Object.getOwnPropertyDescriptors,um=Object.getOwnPropertySymbols,cP=Object.prototype.hasOwnProperty,uP=Object.prototype.propertyIsEnumerable,sT=(t,e,n)=>e in t?I7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,A7=(t,e)=>{for(var n in e||(e={}))cP.call(e,n)&&sT(t,n,e[n]);if(um)for(var n of um(e))uP.call(e,n)&&sT(t,n,e[n]);return t},R7=(t,e)=>N7(t,k7(e)),P7=(t,e)=>{var n={};for(var r in t)cP.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&um)for(var r of um(t))e.indexOf(r)<0&&uP.call(t,r)&&(n[r]=t[r]);return n};function j7(t){let e=setTimeout(t,0),n=setTimeout(t,10),r=setTimeout(t,50);return[e,n,r]}function D7(t){let e=p.useRef();return p.useEffect(()=>{e.current=t}),e.current}var O7=18,dP=40,M7=`${dP}px`,L7=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function V7({containerRef:t,inputRef:e,pushPasswordManagerStrategy:n,isFocused:r}){let[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),h=p.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&s&&o,[s,o,n]),f=p.useCallback(()=>{let m=t.current,g=e.current;if(!m||!g||c||n==="none")return;let b=m,E=b.getBoundingClientRect().left+b.offsetWidth,x=b.getBoundingClientRect().top+b.offsetHeight/2,_=E-O7,v=x;document.querySelectorAll(L7).length===0&&document.elementFromPoint(_,v)===m||(i(!0),u(!0))},[t,e,c,n]);return p.useEffect(()=>{let m=t.current;if(!m||n==="none")return;function g(){let E=window.innerWidth-m.getBoundingClientRect().right;l(E>=dP)}g();let b=setInterval(g,1e3);return()=>{clearInterval(b)}},[t,n]),p.useEffect(()=>{let m=r||document.activeElement===e.current;if(n==="none"||!m)return;let g=setTimeout(f,0),b=setTimeout(f,2e3),E=setTimeout(f,5e3),x=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(b),clearTimeout(E),clearTimeout(x)}},[e,r,n,f]),{hasPWMBadge:s,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:M7}}var hP=p.createContext({}),fP=p.forwardRef((t,e)=>{var n=t,{value:r,onChange:s,maxLength:i,textAlign:o="left",pattern:l,placeholder:c,inputMode:u="numeric",onComplete:h,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:m,containerClassName:g,noScriptCSSFallback:b=F7,render:E,children:x}=n,_=P7(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),v,y,S,k,D;let[I,C]=p.useState(typeof _.defaultValue=="string"?_.defaultValue:""),N=r??I,R=D7(N),P=p.useCallback(me=>{s==null||s(me),C(me)},[s]),O=p.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),A=p.useRef(null),W=p.useRef(null),oe=p.useRef({value:N,onChange:P,isIOS:typeof window<"u"&&((y=(v=window==null?void 0:window.CSS)==null?void 0:v.supports)==null?void 0:y.call(v,"-webkit-touch-callout","none"))}),Q=p.useRef({prev:[(S=A.current)==null?void 0:S.selectionStart,(k=A.current)==null?void 0:k.selectionEnd,(D=A.current)==null?void 0:D.selectionDirection]});p.useImperativeHandle(e,()=>A.current,[]),p.useEffect(()=>{let me=A.current,L=W.current;if(!me||!L)return;oe.current.value!==me.value&&oe.current.onChange(me.value),Q.current.prev=[me.selectionStart,me.selectionEnd,me.selectionDirection];function Ee(){if(document.activeElement!==me){le(null),we(null);return}let Qe=me.selectionStart,M=me.selectionEnd,F=me.selectionDirection,B=me.maxLength,te=me.value,J=Q.current.prev,Y=-1,X=-1,ye;if(te.length!==0&&Qe!==null&&M!==null){let Gn=Qe===M,Tr=Qe===te.length&&te.length<B;if(Gn&&!Tr){let cn=Qe;if(cn===0)Y=0,X=1,ye="forward";else if(cn===B)Y=cn-1,X=cn,ye="backward";else if(B>1&&te.length>1){let fn=0;if(J[0]!==null&&J[1]!==null){ye=cn<J[1]?"backward":"forward";let us=J[0]===J[1]&&J[0]<B;ye==="backward"&&!us&&(fn=-1)}Y=fn+cn,X=fn+cn+1}}Y!==-1&&X!==-1&&Y!==X&&A.current.setSelectionRange(Y,X,ye)}let Ye=Y!==-1?Y:Qe,Zt=X!==-1?X:M,qn=ye??F;le(Ye),we(Zt),Q.current.prev=[Ye,Zt,qn]}if(document.addEventListener("selectionchange",Ee,{capture:!0}),Ee(),document.activeElement===me&&re(!0),!document.getElementById("input-otp-style")){let Qe=document.createElement("style");if(Qe.id="input-otp-style",document.head.appendChild(Qe),Qe.sheet){let M="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Gc(Qe.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Gc(Qe.sheet,`[data-input-otp]:autofill { ${M} }`),Gc(Qe.sheet,`[data-input-otp]:-webkit-autofill { ${M} }`),Gc(Qe.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Gc(Qe.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let Ne=()=>{L&&L.style.setProperty("--root-height",`${me.clientHeight}px`)};Ne();let Tt=new ResizeObserver(Ne);return Tt.observe(me),()=>{document.removeEventListener("selectionchange",Ee,{capture:!0}),Tt.disconnect()}},[]);let[ee,U]=p.useState(!1),[$,re]=p.useState(!1),[ge,le]=p.useState(null),[ue,we]=p.useState(null);p.useEffect(()=>{j7(()=>{var me,L,Ee,Ne;(me=A.current)==null||me.dispatchEvent(new Event("input"));let Tt=(L=A.current)==null?void 0:L.selectionStart,Qe=(Ee=A.current)==null?void 0:Ee.selectionEnd,M=(Ne=A.current)==null?void 0:Ne.selectionDirection;Tt!==null&&Qe!==null&&(le(Tt),we(Qe),Q.current.prev=[Tt,Qe,M])})},[N,$]),p.useEffect(()=>{R!==void 0&&N!==R&&R.length<i&&N.length===i&&(h==null||h(N))},[i,h,R,N]);let Fe=V7({containerRef:W,inputRef:A,pushPasswordManagerStrategy:f,isFocused:$}),dt=p.useCallback(me=>{let L=me.currentTarget.value.slice(0,i);if(L.length>0&&O&&!O.test(L)){me.preventDefault();return}typeof R=="string"&&L.length<R.length&&document.dispatchEvent(new Event("selectionchange")),P(L)},[i,P,R,O]),se=p.useCallback(()=>{var me;if(A.current){let L=Math.min(A.current.value.length,i-1),Ee=A.current.value.length;(me=A.current)==null||me.setSelectionRange(L,Ee),le(L),we(Ee)}re(!0)},[i]),ze=p.useCallback(me=>{var L,Ee;let Ne=A.current;if(!m&&(!oe.current.isIOS||!me.clipboardData||!Ne))return;let Tt=me.clipboardData.getData("text/plain"),Qe=m?m(Tt):Tt;me.preventDefault();let M=(L=A.current)==null?void 0:L.selectionStart,F=(Ee=A.current)==null?void 0:Ee.selectionEnd,B=(M!==F?N.slice(0,M)+Qe+N.slice(F):N.slice(0,M)+Qe+N.slice(M)).slice(0,i);if(B.length>0&&O&&!O.test(B))return;Ne.value=B,P(B);let te=Math.min(B.length,i-1),J=B.length;Ne.setSelectionRange(te,J),le(te),we(J)},[i,P,O,N]),at=p.useMemo(()=>({position:"relative",cursor:_.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[_.disabled]),Ae=p.useMemo(()=>({position:"absolute",inset:0,width:Fe.willPushPWMBadge?`calc(100% + ${Fe.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:Fe.willPushPWMBadge?`inset(0 ${Fe.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[Fe.PWM_BADGE_SPACE_WIDTH,Fe.willPushPWMBadge,o]),Ie=p.useMemo(()=>p.createElement("input",R7(A7({autoComplete:_.autoComplete||"one-time-code"},_),{"data-input-otp":!0,"data-input-otp-placeholder-shown":N.length===0||void 0,"data-input-otp-mss":ge,"data-input-otp-mse":ue,inputMode:u,pattern:O==null?void 0:O.source,"aria-placeholder":c,style:Ae,maxLength:i,value:N,ref:A,onPaste:me=>{var L;ze(me),(L=_.onPaste)==null||L.call(_,me)},onChange:dt,onMouseOver:me=>{var L;U(!0),(L=_.onMouseOver)==null||L.call(_,me)},onMouseLeave:me=>{var L;U(!1),(L=_.onMouseLeave)==null||L.call(_,me)},onFocus:me=>{var L;se(),(L=_.onFocus)==null||L.call(_,me)},onBlur:me=>{var L;re(!1),(L=_.onBlur)==null||L.call(_,me)}})),[dt,se,ze,u,Ae,i,ue,ge,_,O==null?void 0:O.source,N]),Re=p.useMemo(()=>({slots:Array.from({length:i}).map((me,L)=>{var Ee;let Ne=$&&ge!==null&&ue!==null&&(ge===ue&&L===ge||L>=ge&&L<ue),Tt=N[L]!==void 0?N[L]:null,Qe=N[0]!==void 0?null:(Ee=c==null?void 0:c[L])!=null?Ee:null;return{char:Tt,placeholderChar:Qe,isActive:Ne,hasFakeCaret:Ne&&Tt===null}}),isFocused:$,isHovering:!_.disabled&&ee}),[$,ee,i,ue,ge,_.disabled,N]),_t=p.useMemo(()=>E?E(Re):p.createElement(hP.Provider,{value:Re},x),[x,Re,E]);return p.createElement(p.Fragment,null,b!==null&&p.createElement("noscript",null,p.createElement("style",null,b)),p.createElement("div",{ref:W,"data-input-otp-container":!0,style:at,className:g},_t,p.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Ie)))});fP.displayName="Input";function Gc(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var F7=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const mP=p.forwardRef(({className:t,containerClassName:e,...n},r)=>a.jsx(fP,{ref:r,containerClassName:de("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:de("disabled:cursor-not-allowed",t),...n}));mP.displayName="InputOTP";const pP=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:de("flex items-center",t),...e}));pP.displayName="InputOTPGroup";const ea=p.forwardRef(({index:t,className:e,...n},r)=>{const s=p.useContext(hP),{char:i,hasFakeCaret:o,isActive:l}=s.slots[t];return a.jsxs("div",{ref:r,className:de("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",e),...n,children:[i,o&&a.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});ea.displayName="InputOTPSlot";const U7=p.forwardRef(({...t},e)=>a.jsx("div",{ref:e,role:"separator",...t,children:a.jsx(c4,{})}));U7.displayName="InputOTPSeparator";var $7="Label",gP=p.forwardRef((t,e)=>a.jsx(Ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));gP.displayName=$7;var vP=gP;const B7=Ma("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Je=p.forwardRef(({className:t,...e},n)=>a.jsx(vP,{ref:n,className:de(B7(),t),...e}));Je.displayName=vP.displayName;const z7=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[h,f]=p.useState(""),[m,g]=p.useState(""),[b,E]=p.useState(!1),[x,_]=p.useState(!1),{signIn:v,signInWithGoogle:y,user:S}=Lr(),{toast:k}=br(),D=_d();p.useEffect(()=>{S&&D("/")},[S,D]);const I=async P=>{P.preventDefault(),i(!0);try{const{error:O}=await v(t,n);O&&k({title:"Login failed",description:O.message,variant:"destructive"})}catch(O){k({title:"Error",description:O.message,variant:"destructive"})}finally{i(!1)}},C=async()=>{i(!0);try{const{error:P,isNewUser:O}=await y();P?k({title:"Google sign-in failed",description:P.message,variant:"destructive"}):O&&D("/register",{state:{isNewUser:!0}})}catch(P){k({title:"Error",description:P.message,variant:"destructive"})}finally{i(!1)}},N=async()=>{if(!h){k({title:"Email required",description:"Please enter your email address",variant:"destructive"});return}E(!0);try{await OU(ms,h),k({title:"Password reset email sent",description:"Check your email for password reset instructions"}),l(!1)}catch(P){k({title:"Error",description:P.message,variant:"destructive"})}finally{E(!1)}},R=async()=>{if(m.length!==6){k({title:"Invalid OTP",description:"Please enter a valid 6-digit OTP",variant:"destructive"});return}_(!0);try{k({title:"OTP verified",description:"Password reset functionality implemented"}),u(!1),g("")}catch(P){k({title:"Error",description:P.message,variant:"destructive"})}finally{_(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsxs(pt,{to:"/",className:"inline-flex items-center space-x-2 mb-4",children:[a.jsx(zn,{className:"h-8 w-8 text-primary"}),a.jsx("span",{className:"text-2xl font-bold text-foreground",children:"SportsBracket"})]})}),a.jsxs(je,{children:[a.jsxs(nt,{children:[a.jsx(rt,{children:"Welcome Back"}),a.jsx(as,{children:"Login to manage your tournament participation"})]}),a.jsx(De,{children:a.jsxs("form",{className:"space-y-4",onSubmit:I,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"email",children:"Email"}),a.jsx(vt,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:P=>e(P.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"password",children:"Password"}),a.jsx(vt,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:P=>r(P.target.value),required:!0})]}),a.jsx(Te,{className:"w-full",type:"submit",disabled:s,children:s?"Logging in...":"Login"}),a.jsx(Te,{className:"w-full",variant:"outline",onClick:C,disabled:s,children:"Continue with Google"}),a.jsxs("div",{className:"text-center text-sm space-y-2",children:[a.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-primary hover:underline",children:"Forgot password?"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),a.jsx(pt,{to:"/register",className:"text-primary hover:underline",children:"Register here"})]})]})]})})]}),a.jsx(ga,{open:o,onOpenChange:l,children:a.jsxs(fo,{children:[a.jsxs(mo,{children:[a.jsx(po,{children:"Reset Password"}),a.jsx(Dy,{children:"Enter your email address and we'll send you a password reset link."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"forgot-email",children:"Email"}),a.jsx(vt,{id:"forgot-email",type:"email",placeholder:"Enter your email",value:h,onChange:P=>f(P.target.value)})]}),a.jsx(Te,{className:"w-full",onClick:N,disabled:b,children:b?"Sending...":"Send Reset Email"})]})]})}),a.jsx(ga,{open:c,onOpenChange:u,children:a.jsxs(fo,{children:[a.jsxs(mo,{children:[a.jsx(po,{children:"Enter OTP"}),a.jsx(Dy,{children:"Enter the 6-digit code sent to your email."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(mP,{value:m,onChange:g,maxLength:6,children:a.jsxs(pP,{children:[a.jsx(ea,{index:0}),a.jsx(ea,{index:1}),a.jsx(ea,{index:2}),a.jsx(ea,{index:3}),a.jsx(ea,{index:4}),a.jsx(ea,{index:5})]})})}),a.jsx(Te,{className:"w-full",onClick:R,disabled:x,children:x?"Verifying...":"Verify OTP"})]})]})})]})})};function iT(t,[e,n]){return Math.min(n,Math.max(e,t))}var W7=p.createContext(void 0);function y_(t){const e=p.useContext(W7);return t||e||"ltr"}function yP(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var H7=[" ","Enter","ArrowUp","ArrowDown"],q7=[" ","Enter"],Aa="Select",[Np,kp,G7]=Wx(Aa),[Sc,TG]=vi(Aa,[G7,Wm]),Ap=Wm(),[K7,zo]=Sc(Aa),[Q7,Y7]=Sc(Aa),xP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:g,form:b}=t,E=Ap(e),[x,_]=p.useState(null),[v,y]=p.useState(null),[S,k]=p.useState(!1),D=y_(u),[I,C]=_o({prop:r,defaultProp:s??!1,onChange:i,caller:Aa}),[N,R]=_o({prop:o,defaultProp:l,onChange:c,caller:Aa}),P=p.useRef(null),O=x?b||!!x.closest("form"):!0,[A,W]=p.useState(new Set),oe=Array.from(A).map(Q=>Q.props.value).join(";");return a.jsx(_N,{...E,children:a.jsxs(K7,{required:g,scope:e,trigger:x,onTriggerChange:_,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:S,onValueNodeHasChildrenChange:k,contentId:ti(),value:N,onValueChange:R,open:I,onOpenChange:C,dir:D,triggerPointerDownPosRef:P,disabled:m,children:[a.jsx(Np.Provider,{scope:e,children:a.jsx(Q7,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(Q=>{W(ee=>new Set(ee).add(Q))},[]),onNativeOptionRemove:p.useCallback(Q=>{W(ee=>{const U=new Set(ee);return U.delete(Q),U})},[]),children:n})}),O?a.jsxs(zP,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:f,value:N,onChange:Q=>R(Q.target.value),disabled:m,form:b,children:[N===void 0?a.jsx("option",{value:""}):null,Array.from(A)]},oe):null]})})};xP.displayName=Aa;var wP="SelectTrigger",_P=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Ap(n),o=zo(wP,n),l=o.disabled||r,c=yt(e,o.onTriggerChange),u=kp(n),h=p.useRef("touch"),[f,m,g]=HP(E=>{const x=u().filter(y=>!y.disabled),_=x.find(y=>y.value===o.value),v=qP(x,E,_);v!==void 0&&o.onValueChange(v.value)}),b=E=>{l||(o.onOpenChange(!0),g()),E&&(o.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return a.jsx(EN,{asChild:!0,...i,children:a.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":WP(o.value)?"":void 0,...s,ref:c,onClick:be(s.onClick,E=>{E.currentTarget.focus(),h.current!=="mouse"&&b(E)}),onPointerDown:be(s.onPointerDown,E=>{h.current=E.pointerType;const x=E.target;x.hasPointerCapture(E.pointerId)&&x.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(b(E),E.preventDefault())}),onKeyDown:be(s.onKeyDown,E=>{const x=f.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&m(E.key),!(x&&E.key===" ")&&H7.includes(E.key)&&(b(),E.preventDefault())})})})});_P.displayName=wP;var EP="SelectValue",bP=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,c=zo(EP,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=yt(e,c.onValueNodeChange);return bn(()=>{u(h)},[u,h]),a.jsx(Ve.span,{...l,ref:f,style:{pointerEvents:"none"},children:WP(c.value)?a.jsx(a.Fragment,{children:o}):i})});bP.displayName=EP;var X7="SelectIcon",TP=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(Ve.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});TP.displayName=X7;var Z7="SelectPortal",SP=t=>a.jsx(Lm,{asChild:!0,...t});SP.displayName=Z7;var Ra="SelectContent",CP=p.forwardRef((t,e)=>{const n=zo(Ra,t.__scopeSelect),[r,s]=p.useState();if(bn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Oa.createPortal(a.jsx(IP,{scope:t.__scopeSelect,children:a.jsx(Np.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(NP,{...t,ref:e})});CP.displayName=Ra;var zr=10,[IP,Wo]=Sc(Ra),J7="SelectContentImpl",eW=Hl("SelectContent.RemoveScroll"),NP=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:b,hideWhenDetached:E,avoidCollisions:x,..._}=t,v=zo(Ra,n),[y,S]=p.useState(null),[k,D]=p.useState(null),I=yt(e,se=>S(se)),[C,N]=p.useState(null),[R,P]=p.useState(null),O=kp(n),[A,W]=p.useState(!1),oe=p.useRef(!1);p.useEffect(()=>{if(y)return BR(y)},[y]),DR();const Q=p.useCallback(se=>{const[ze,...at]=O().map(Re=>Re.ref.current),[Ae]=at.slice(-1),Ie=document.activeElement;for(const Re of se)if(Re===Ie||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===ze&&k&&(k.scrollTop=0),Re===Ae&&k&&(k.scrollTop=k.scrollHeight),Re==null||Re.focus(),document.activeElement!==Ie))return},[O,k]),ee=p.useCallback(()=>Q([C,y]),[Q,C,y]);p.useEffect(()=>{A&&ee()},[A,ee]);const{onOpenChange:U,triggerPointerDownPosRef:$}=v;p.useEffect(()=>{if(y){let se={x:0,y:0};const ze=Ae=>{var Ie,Re;se={x:Math.abs(Math.round(Ae.pageX)-(((Ie=$.current)==null?void 0:Ie.x)??0)),y:Math.abs(Math.round(Ae.pageY)-(((Re=$.current)==null?void 0:Re.y)??0))}},at=Ae=>{se.x<=10&&se.y<=10?Ae.preventDefault():y.contains(Ae.target)||U(!1),document.removeEventListener("pointermove",ze),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ze),document.addEventListener("pointerup",at,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ze),document.removeEventListener("pointerup",at,{capture:!0})}}},[y,U,$]),p.useEffect(()=>{const se=()=>U(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[U]);const[re,ge]=HP(se=>{const ze=O().filter(Ie=>!Ie.disabled),at=ze.find(Ie=>Ie.ref.current===document.activeElement),Ae=qP(ze,se,at);Ae&&setTimeout(()=>Ae.ref.current.focus())}),le=p.useCallback((se,ze,at)=>{const Ae=!oe.current&&!at;(v.value!==void 0&&v.value===ze||Ae)&&(N(se),Ae&&(oe.current=!0))},[v.value]),ue=p.useCallback(()=>y==null?void 0:y.focus(),[y]),we=p.useCallback((se,ze,at)=>{const Ae=!oe.current&&!at;(v.value!==void 0&&v.value===ze||Ae)&&P(se)},[v.value]),Fe=r==="popper"?Oy:kP,dt=Fe===Oy?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:b,hideWhenDetached:E,avoidCollisions:x}:{};return a.jsx(IP,{scope:n,content:y,viewport:k,onViewportChange:D,itemRefCallback:le,selectedItem:C,onItemLeave:ue,itemTextRefCallback:we,focusSelectedItem:ee,selectedItemText:R,position:r,isPositioned:A,searchRef:re,children:a.jsx(f_,{as:eW,allowPinchZoom:!0,children:a.jsx(h_,{asChild:!0,trapped:v.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:be(s,se=>{var ze;(ze=v.trigger)==null||ze.focus({preventScroll:!0}),se.preventDefault()}),children:a.jsx(yd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(Fe,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:se=>se.preventDefault(),..._,...dt,onPlaced:()=>W(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:be(_.onKeyDown,se=>{const ze=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!ze&&se.key.length===1&&ge(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let Ae=O().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(se.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Ie=se.target,Re=Ae.indexOf(Ie);Ae=Ae.slice(Re+1)}setTimeout(()=>Q(Ae)),se.preventDefault()}})})})})})})});NP.displayName=J7;var tW="SelectItemAlignedPosition",kP=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=zo(Ra,n),o=Wo(Ra,n),[l,c]=p.useState(null),[u,h]=p.useState(null),f=yt(e,I=>h(I)),m=kp(n),g=p.useRef(!1),b=p.useRef(!0),{viewport:E,selectedItem:x,selectedItemText:_,focusSelectedItem:v}=o,y=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&E&&x&&_){const I=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),R=_.getBoundingClientRect();if(i.dir!=="rtl"){const Ie=R.left-C.left,Re=N.left-Ie,_t=I.left-Re,me=I.width+_t,L=Math.max(me,C.width),Ee=window.innerWidth-zr,Ne=iT(Re,[zr,Math.max(zr,Ee-L)]);l.style.minWidth=me+"px",l.style.left=Ne+"px"}else{const Ie=C.right-R.right,Re=window.innerWidth-N.right-Ie,_t=window.innerWidth-I.right-Re,me=I.width+_t,L=Math.max(me,C.width),Ee=window.innerWidth-zr,Ne=iT(Re,[zr,Math.max(zr,Ee-L)]);l.style.minWidth=me+"px",l.style.right=Ne+"px"}const P=m(),O=window.innerHeight-zr*2,A=E.scrollHeight,W=window.getComputedStyle(u),oe=parseInt(W.borderTopWidth,10),Q=parseInt(W.paddingTop,10),ee=parseInt(W.borderBottomWidth,10),U=parseInt(W.paddingBottom,10),$=oe+Q+A+U+ee,re=Math.min(x.offsetHeight*5,$),ge=window.getComputedStyle(E),le=parseInt(ge.paddingTop,10),ue=parseInt(ge.paddingBottom,10),we=I.top+I.height/2-zr,Fe=O-we,dt=x.offsetHeight/2,se=x.offsetTop+dt,ze=oe+Q+se,at=$-ze;if(ze<=we){const Ie=P.length>0&&x===P[P.length-1].ref.current;l.style.bottom="0px";const Re=u.clientHeight-E.offsetTop-E.offsetHeight,_t=Math.max(Fe,dt+(Ie?ue:0)+Re+ee),me=ze+_t;l.style.height=me+"px"}else{const Ie=P.length>0&&x===P[0].ref.current;l.style.top="0px";const _t=Math.max(we,oe+E.offsetTop+(Ie?le:0)+dt)+at;l.style.height=_t+"px",E.scrollTop=ze-we+E.offsetTop}l.style.margin=`${zr}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,l,u,E,x,_,i.dir,r]);bn(()=>y(),[y]);const[S,k]=p.useState();bn(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const D=p.useCallback(I=>{I&&b.current===!0&&(y(),v==null||v(),b.current=!1)},[y,v]);return a.jsx(rW,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:D,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(Ve.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});kP.displayName=tW;var nW="SelectPopperPosition",Oy=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=zr,...i}=t,o=Ap(n);return a.jsx(bN,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Oy.displayName=nW;var[rW,x_]=Sc(Ra,{}),My="SelectViewport",AP=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Wo(My,n),o=x_(My,n),l=yt(e,i.onViewportChange),c=p.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Np.Slot,{scope:n,children:a.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:be(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const g=Math.abs(c.current-h.scrollTop);if(g>0){const b=window.innerHeight-zr*2,E=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),_=Math.max(E,x);if(_<b){const v=_+g,y=Math.min(b,v),S=v-y;f.style.height=y+"px",f.style.bottom==="0px"&&(h.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});AP.displayName=My;var RP="SelectGroup",[sW,iW]=Sc(RP),oW=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ti();return a.jsx(sW,{scope:n,id:s,children:a.jsx(Ve.div,{role:"group","aria-labelledby":s,...r,ref:e})})});oW.displayName=RP;var PP="SelectLabel",jP=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=iW(PP,n);return a.jsx(Ve.div,{id:s.id,...r,ref:e})});jP.displayName=PP;var dm="SelectItem",[aW,DP]=Sc(dm),OP=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=zo(dm,n),c=Wo(dm,n),u=l.value===r,[h,f]=p.useState(i??""),[m,g]=p.useState(!1),b=yt(e,v=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,v,r,s)}),E=ti(),x=p.useRef("touch"),_=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(aW,{scope:n,value:r,disabled:s,textId:E,isSelected:u,onItemTextChange:p.useCallback(v=>{f(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Np.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:a.jsx(Ve.div,{role:"option","aria-labelledby":E,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:be(o.onFocus,()=>g(!0)),onBlur:be(o.onBlur,()=>g(!1)),onClick:be(o.onClick,()=>{x.current!=="mouse"&&_()}),onPointerUp:be(o.onPointerUp,()=>{x.current==="mouse"&&_()}),onPointerDown:be(o.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:be(o.onPointerMove,v=>{var y;x.current=v.pointerType,s?(y=c.onItemLeave)==null||y.call(c):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(o.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:be(o.onKeyDown,v=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&v.key===" "||(q7.includes(v.key)&&_(),v.key===" "&&v.preventDefault())})})})})});OP.displayName=dm;var ou="SelectItemText",MP=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=zo(ou,n),l=Wo(ou,n),c=DP(ou,n),u=Y7(ou,n),[h,f]=p.useState(null),m=yt(e,_=>f(_),c.onItemTextChange,_=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,_,c.value,c.disabled)}),g=h==null?void 0:h.textContent,b=p.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:E,onNativeOptionRemove:x}=u;return bn(()=>(E(b),()=>x(b)),[E,x,b]),a.jsxs(a.Fragment,{children:[a.jsx(Ve.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Oa.createPortal(i.children,o.valueNode):null]})});MP.displayName=ou;var LP="SelectItemIndicator",VP=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return DP(LP,n).isSelected?a.jsx(Ve.span,{"aria-hidden":!0,...r,ref:e}):null});VP.displayName=LP;var Ly="SelectScrollUpButton",FP=p.forwardRef((t,e)=>{const n=Wo(Ly,t.__scopeSelect),r=x_(Ly,t.__scopeSelect),[s,i]=p.useState(!1),o=yt(e,r.onScrollButtonChange);return bn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx($P,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});FP.displayName=Ly;var Vy="SelectScrollDownButton",UP=p.forwardRef((t,e)=>{const n=Wo(Vy,t.__scopeSelect),r=x_(Vy,t.__scopeSelect),[s,i]=p.useState(!1),o=yt(e,r.onScrollButtonChange);return bn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx($P,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});UP.displayName=Vy;var $P=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Wo("SelectScrollButton",n),o=p.useRef(null),l=kp(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),bn(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(Ve.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:be(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:be(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:be(s.onPointerLeave,()=>{c()})})}),lW="SelectSeparator",BP=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(Ve.div,{"aria-hidden":!0,...r,ref:e})});BP.displayName=lW;var Fy="SelectArrow",cW=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ap(n),i=zo(Fy,n),o=Wo(Fy,n);return i.open&&o.position==="popper"?a.jsx(TN,{...s,...r,ref:e}):null});cW.displayName=Fy;var uW="SelectBubbleInput",zP=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=p.useRef(null),i=yt(r,s),o=yP(e);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[o,e]),a.jsx(Ve.select,{...n,style:{...pI,...n.style},ref:i,defaultValue:e})});zP.displayName=uW;function WP(t){return t===""||t===void 0}function HP(t){const e=Dr(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function qP(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=dW(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function dW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var hW=xP,GP=_P,fW=bP,mW=TP,pW=SP,KP=CP,gW=AP,QP=jP,YP=OP,vW=MP,yW=VP,XP=FP,ZP=UP,JP=BP;const Lt=hW,Vt=fW,Pt=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(GP,{ref:r,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(mW,{asChild:!0,children:a.jsx(FI,{className:"h-4 w-4 opacity-50"})})]}));Pt.displayName=GP.displayName;const ej=p.forwardRef(({className:t,...e},n)=>a.jsx(XP,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(o4,{className:"h-4 w-4"})}));ej.displayName=XP.displayName;const tj=p.forwardRef(({className:t,...e},n)=>a.jsx(ZP,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(FI,{className:"h-4 w-4"})}));tj.displayName=ZP.displayName;const jt=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(pW,{children:a.jsxs(KP,{ref:s,className:de("relative z-[100] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(ej,{}),a.jsx(gW,{className:de("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(tj,{})]})}));jt.displayName=KP.displayName;const xW=p.forwardRef(({className:t,...e},n)=>a.jsx(QP,{ref:n,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));xW.displayName=QP.displayName;const qe=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(YP,{ref:r,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(yW,{children:a.jsx(VI,{className:"h-4 w-4"})})}),a.jsx(vW,{children:e})]}));qe.displayName=YP.displayName;const wW=p.forwardRef(({className:t,...e},n)=>a.jsx(JP,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));wW.displayName=JP.displayName;const _W=()=>{var v;const t=Ls(),[e,n]=p.useState({name:"",email:"",phone:"",department:"",gender:"",password:""}),[r,s]=p.useState(!1),[i,o]=p.useState((v=t.state)!=null&&v.isNewUser?2:1),[l,c]=p.useState(null),{signUp:u,signInWithGoogle:h,signUpWithGoogle:f,user:m}=Lr(),{toast:g}=br(),b=_d();p.useEffect(()=>{var y;(y=t.state)!=null&&y.isNewUser&&m&&(c(m),g({title:"Profile Update Required",description:"Please update your profile details to complete registration."}),window.history.replaceState({},document.title))},[t.state,m]),p.useEffect(()=>{m&&i===1&&b("/")},[m,b,i]);const E=async y=>{y.preventDefault(),s(!0);try{const{error:S}=await u(e.email,e.password,{name:e.name,department:e.department,gender:e.gender,phone:e.phone});S?g({title:"Registration failed",description:S.message,variant:"destructive"}):(g({title:"Registration successful!",description:"A verification email has been sent to your email address. Please verify it before logging in."}),b("/login"))}catch(S){g({title:"Error",description:S.message,variant:"destructive"})}finally{s(!1)}},x=async()=>{s(!0);try{const{error:y,user:S,isNewUser:k}=await h();y?g({title:"Google sign-in failed",description:y.message,variant:"destructive"}):S&&k?(c(S),g({title:"Profile Update Required",description:"Please update your profile details to complete registration."}),o(2)):S&&!k&&b("/")}catch(y){g({title:"Error",description:y.message,variant:"destructive"})}finally{s(!1)}},_=async y=>{y.preventDefault(),s(!0);try{const{error:S}=await f({department:e.department,gender:e.gender});S?g({title:"Registration failed",description:S.message,variant:"destructive"}):(g({title:"Registration successful!",description:"Welcome to SportsBracket!"}),b("/"))}catch(S){g({title:"Error",description:S.message,variant:"destructive"})}finally{s(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4 py-12",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsxs(pt,{to:"/",className:"inline-flex items-center space-x-2 mb-4",children:[a.jsx(zn,{className:"h-8 w-8 text-primary"}),a.jsx("span",{className:"text-2xl font-bold text-foreground",children:"SportsBracket"})]})}),a.jsxs(je,{children:[a.jsxs(nt,{children:[a.jsx(rt,{children:i===1?"Create Account":"Complete Profile"}),a.jsx(as,{children:i===1?"Register manually or with Google to participate":"Please provide additional details to complete your registration"})]}),a.jsx(De,{children:i===1?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("form",{onSubmit:E,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"name",children:"Full Name"}),a.jsx(vt,{id:"name",placeholder:"John Doe",value:e.name,onChange:y=>n({...e,name:y.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"email",children:"Email"}),a.jsx(vt,{id:"email",type:"email",placeholder:"john@example.com",value:e.email,onChange:y=>n({...e,email:y.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"department",children:"Department / Class"}),a.jsx(vt,{id:"department",placeholder:"Ex: CSE-A",value:e.department,onChange:y=>n({...e,department:y.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"gender",children:"Gender"}),a.jsxs(Lt,{value:e.gender,onValueChange:y=>n({...e,gender:y}),children:[a.jsx(Pt,{id:"gender",children:a.jsx(Vt,{placeholder:"Select gender"})}),a.jsxs(jt,{children:[a.jsx(qe,{value:"male",children:"Male"}),a.jsx(qe,{value:"female",children:"Female"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"password",children:"Password"}),a.jsx(vt,{id:"password",type:"password",placeholder:"******",value:e.password,onChange:y=>n({...e,password:y.target.value}),required:!0})]}),a.jsx(Te,{className:"w-full",type:"submit",disabled:r,children:r?"Registering...":"Register"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),a.jsxs(Te,{className:"w-full",onClick:x,disabled:r,variant:"outline",type:"button",children:[a.jsx("svg",{className:"mr-2 h-4 w-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:a.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Google"]}),a.jsxs("div",{className:"text-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),a.jsx(pt,{to:"/login",className:"text-primary hover:underline",children:"Login here"})]})]}):a.jsxs("form",{className:"space-y-4",onSubmit:_,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{children:"Full Name"}),a.jsx(vt,{value:(l==null?void 0:l.displayName)||"",disabled:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{children:"Email"}),a.jsx(vt,{value:(l==null?void 0:l.email)||"",disabled:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"department-google",children:"Department / Class"}),a.jsx(vt,{id:"department-google",placeholder:"Enter your department or class",value:e.department,onChange:y=>n({...e,department:y.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"gender-google",children:"Gender"}),a.jsxs(Lt,{value:e.gender,onValueChange:y=>n({...e,gender:y}),children:[a.jsx(Pt,{id:"gender-google",children:a.jsx(Vt,{placeholder:"Select gender"})}),a.jsxs(jt,{children:[a.jsx(qe,{value:"male",children:"Male"}),a.jsx(qe,{value:"female",children:"Female"}),a.jsx(qe,{value:"other",children:"Other"})]})]})]}),a.jsx(Te,{className:"w-full",type:"submit",disabled:r,children:r?"Completing registration...":"Complete Registration"}),a.jsx("div",{className:"text-center",children:a.jsx(Te,{variant:"ghost",onClick:()=>o(1),className:"text-sm",type:"button",children:"Back"})})]})})]})]})})},EW=or(Be,"tournaments"),cs=async()=>{const t=ar(EW,os("created_at","desc"));return(await lr(t)).docs.map(n=>({id:n.id,...n.data()}))},bW=or(Be,"leaderboard"),nj=async t=>{const e=ar(bW,wn("tournament_id","==",t),os("points","desc"));return(await lr(e)).docs.map(r=>({id:r.id,...r.data()}))},TW=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(""),[s,i]=p.useState([]),[o,l]=p.useState(!1);p.useEffect(()=>{cs().then(h=>{e(h),h.length>0&&r(h[0].id)})},[]),p.useEffect(()=>{if(!n){i([]);return}l(!0),nj(n).then(i).finally(()=>l(!1))},[n]);const c=s.slice(0,3),u=s.slice(3);return a.jsx("div",{className:"min-h-screen bg-muted/30 py-12",children:a.jsxs("div",{className:"container space-y-8",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase text-muted-foreground tracking-wide",children:"Standings"}),a.jsx("h1",{className:"text-3xl font-bold",children:"Leaderboard"}),a.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl",children:"Track the top performers across all sports and divisions. Standings update automatically after each verified match result."})]}),a.jsxs("div",{className:"w-full md:w-64",children:[a.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Tournament"}),a.jsxs(Lt,{value:n,onValueChange:r,children:[a.jsx(Pt,{children:a.jsx(Vt,{placeholder:"Select tournament"})}),a.jsx(jt,{children:t.map(h=>a.jsx(qe,{value:h.id,children:h.name},h.id))})]})]})]}),a.jsxs(je,{children:[a.jsxs(nt,{className:"flex items-center justify-between",children:[a.jsx(rt,{children:"Top Performers"}),o&&a.jsx(ir,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),a.jsx(De,{children:c.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No leaderboard data yet."}):a.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:c.map((h,f)=>a.jsxs("div",{className:"rounded-xl border bg-gradient-to-br from-background to-muted/50 p-5 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground uppercase tracking-wide",children:h.entity_type.toLowerCase()}),a.jsx(g4,{className:`h-5 w-5 ${f===0?"text-yellow-500":"text-muted-foreground"}`})]}),a.jsx("h3",{className:"text-2xl font-bold mt-3",children:h.name}),a.jsxs("div",{className:"mt-auto pt-6 flex items-center justify-between text-sm font-medium",children:[a.jsxs("span",{children:[h.points," pts"]}),a.jsxs("span",{children:[h.wins,"-",h.losses]})]})]},h.id))})})]}),u.length>0&&a.jsxs(je,{children:[a.jsx(nt,{children:a.jsx(rt,{children:"Full Standings"})}),a.jsx(De,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-muted-foreground border-b",children:[a.jsx("th",{className:"py-2 pr-4",children:"Rank"}),a.jsx("th",{className:"py-2 pr-4",children:"Name"}),a.jsx("th",{className:"py-2 pr-4",children:"Type"}),a.jsx("th",{className:"py-2 pr-4",children:"Points"}),a.jsx("th",{className:"py-2 pr-4",children:"Wins"}),a.jsx("th",{className:"py-2 pr-4",children:"Losses"})]})}),a.jsx("tbody",{children:u.map((h,f)=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"py-2 pr-4",children:h.rank??f+4}),a.jsx("td",{className:"py-2 pr-4 font-medium",children:h.name}),a.jsx("td",{className:"py-2 pr-4 capitalize",children:h.entity_type.toLowerCase()}),a.jsx("td",{className:"py-2 pr-4",children:h.points}),a.jsx("td",{className:"py-2 pr-4",children:h.wins}),a.jsx("td",{className:"py-2 pr-4",children:h.losses})]},h.id))})]})})})]})]})})},SW=or(Be,"games"),bi=async t=>{const e=[os("created_at","desc")];t&&e.unshift(wn("tournament_id","==",t));const n=ar(SW,...e);return(await lr(n)).docs.map(s=>({id:s.id,...s.data()}))},Uy=or(Be,"matches"),rj=or(Be,"match_results"),Iu=async t=>{const e=[wn("tournament_id","==",t.tournamentId),os("round_index","asc"),os("match_order","asc")];t.gameId&&e.splice(1,0,wn("game_id","==",t.gameId));const n=ar(Uy,...e);return(await lr(n)).docs.map(s=>({id:s.id,...s.data()}))},CW=async t=>{if(t.length===0)return[];const e=[];for(let s=0;s<t.length;s+=10)e.push(t.slice(s,s+10));const n=[];for(const s of e){const i=ar(Uy,wn("participant_a_id","in",s)),o=await lr(i),l=ar(Uy,wn("participant_b_id","in",s)),c=await lr(l),u=new Map;o.docs.forEach(h=>u.set(h.id,{id:h.id,...h.data()})),c.docs.forEach(h=>u.set(h.id,{id:h.id,...h.data()})),u.forEach(h=>n.push(h))}return Array.from(new Map(n.map(s=>[s.id,s])).values())},af=async(t,e)=>{await Ei(gt(Be,"matches",t),{...e,updated_at:Xe()})},IW=async(t,e)=>{const n=await Ba(rj,{...e,match_id:t,created_at:Xe(),updated_at:Xe()});return await af(t,{status:"COMPLETED"}),n.id},NW=async t=>{if(t.length===0)return[];const e=[];for(let r=0;r<t.length;r+=10)e.push(t.slice(r,r+10));const n=[];for(const r of e){const s=ar(rj,wn("match_id","in",r));(await lr(s)).docs.forEach(o=>n.push({id:o.id,...o.data()}))}return n},w_=or(Be,"participants"),sj=async t=>{const e=[wn("tournament_id","==",t.tournamentId),os("created_at","asc")];t.gameId&&e.splice(1,0,wn("game_id","==",t.gameId));const n=ar(w_,...e);return(await lr(n)).docs.map(s=>({id:s.id,...s.data()}))},kW=async t=>{const e=ar(w_,wn("user_id","==",t));return(await lr(e)).docs.map(r=>({id:r.id,...r.data()}))},ij=async t=>(await Ba(w_,{...t,created_at:Xe(),updated_at:Xe()})).id,AW=t=>t?new Date(t).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"}):"TBD",RW=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState(!1);p.useEffect(()=>{cs().then(x=>{i(x),x.length>0&&e(x[0].id)})},[]),p.useEffect(()=>{if(!t){l([]),u([]);return}(async()=>{g(!0);const[_,v,y]=await Promise.all([bi(t),Iu({tournamentId:t,gameId:n||void 0}),sj({tournamentId:t,gameId:n||void 0})]);l(_),u(v),f(y),g(!1)})()},[t,n]);const b=p.useMemo(()=>h.reduce((x,_)=>(x[_.id]=_,x),{}),[h]),E=c.filter(x=>x.status!=="COMPLETED");return a.jsx("div",{className:"min-h-screen bg-muted/30 py-12",children:a.jsxs("div",{className:"container space-y-8",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase text-muted-foreground tracking-wide",children:"Live Schedule"}),a.jsx("h1",{className:"text-3xl font-bold",children:"Matches & Fixtures"}),a.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl",children:"Stay on top of every match happening this week. Filter by tournament or sport to find exact fixtures, venues, and kickoff times."})]}),a.jsxs("div",{className:"w-full md:w-[28rem] flex flex-col gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Tournament"}),a.jsxs(Lt,{value:t,onValueChange:e,children:[a.jsx(Pt,{children:a.jsx(Vt,{placeholder:"Select tournament"})}),a.jsx(jt,{children:s.map(x=>a.jsx(qe,{value:x.id,children:x.name},x.id))})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Game"}),a.jsxs(Lt,{value:n,onValueChange:r,disabled:!t,children:[a.jsx(Pt,{children:a.jsx(Vt,{placeholder:"All games"})}),a.jsxs(jt,{children:[a.jsx(qe,{value:"",children:"All games"}),o.map(x=>a.jsx(qe,{value:x.id,children:x.name},x.id))]})]})]})]})]}),a.jsxs(je,{children:[a.jsxs(nt,{className:"flex items-center justify-between",children:[a.jsx(rt,{children:"Upcoming & Live Matches"}),m&&a.jsx(ir,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),a.jsx(De,{children:t?E.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No scheduled matches yet. Check back later once brackets are published."}):a.jsx("div",{className:"grid gap-4",children:E.map(x=>{var S;const _=x.participant_a_id?b[x.participant_a_id]:void 0,v=x.participant_b_id?b[x.participant_b_id]:void 0,y=((S=o.find(k=>k.id===x.game_id))==null?void 0:S.name)??"Tournament Game";return a.jsxs("div",{className:"rounded-xl border bg-background p-5",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:y}),a.jsx("h3",{className:"text-lg font-semibold",children:x.round_name})]}),a.jsx(yr,{variant:x.status==="SCHEDULED"?"secondary":"default",children:x.status==="SCHEDULED"?"Scheduled":x.status.toLowerCase()})]}),a.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Participant A"}),a.jsx("p",{className:"text-lg font-medium",children:(_==null?void 0:_.user_id)||(_==null?void 0:_.team_id)||"TBD"})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Participant B"}),a.jsx("p",{className:"text-lg font-medium",children:(v==null?void 0:v.user_id)||(v==null?void 0:v.team_id)||"TBD"})]})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(Qx,{className:"h-4 w-4"}),AW(x.match_time)]}),a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(p4,{className:"h-4 w-4"}),x.venue||"Venue TBD"]})]})]},x.id)})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a tournament to view fixtures."})})]})]})})},Kg=768;function PW(){const[t,e]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Kg-1}px)`),r=()=>{e(window.innerWidth<Kg)};return n.addEventListener("change",r),e(window.innerWidth<Kg),()=>n.removeEventListener("change",r)},[]),!!t}var jW="Separator",oT="horizontal",DW=["horizontal","vertical"],oj=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=oT,...s}=t,i=OW(r)?r:oT,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(Ve.div,{"data-orientation":i,...l,...s,ref:e})});oj.displayName=jW;function OW(t){return DW.includes(t)}var aj=oj;const lj=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>a.jsx(aj,{ref:s,decorative:n,orientation:e,className:de("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));lj.displayName=aj.displayName;const MW=iP,LW=oP,cj=p.forwardRef(({className:t,...e},n)=>a.jsx(Tp,{className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));cj.displayName=Tp.displayName;const VW=Ma("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),uj=p.forwardRef(({side:t="right",className:e,children:n,...r},s)=>a.jsxs(LW,{children:[a.jsx(cj,{}),a.jsxs(Sp,{ref:s,className:de(VW({side:t}),e),...r,children:[n,a.jsxs(aP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Um,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));uj.displayName=Sp.displayName;const dj=p.forwardRef(({className:t,...e},n)=>a.jsx(Cp,{ref:n,className:de("text-lg font-semibold text-foreground",t),...e}));dj.displayName=Cp.displayName;const FW=p.forwardRef(({className:t,...e},n)=>a.jsx(Ip,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));FW.displayName=Ip.displayName;function aT({className:t,...e}){return a.jsx("div",{className:de("animate-pulse rounded-md bg-muted",t),...e})}const UW="sidebar:state",$W=60*60*24*7,BW="16rem",zW="18rem",WW="3rem",HW="b",hj=p.createContext(null);function Rp(){const t=p.useContext(hj);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const __=p.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:s,children:i,...o},l)=>{const c=PW(),[u,h]=p.useState(!1),[f,m]=p.useState(t),g=e??f,b=p.useCallback(v=>{const y=typeof v=="function"?v(g):v;n?n(y):m(y),document.cookie=`${UW}=${y}; path=/; max-age=${$W}`},[n,g]),E=p.useCallback(()=>c?h(v=>!v):b(v=>!v),[c,b,h]);p.useEffect(()=>{const v=y=>{y.key===HW&&(y.metaKey||y.ctrlKey)&&(y.preventDefault(),E())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[E]);const x=g?"expanded":"collapsed",_=p.useMemo(()=>({state:x,open:g,setOpen:b,isMobile:c,openMobile:u,setOpenMobile:h,toggleSidebar:E}),[x,g,b,c,u,h,E]);return a.jsx(hj.Provider,{value:_,children:a.jsx(jN,{delayDuration:0,children:a.jsx("div",{style:{"--sidebar-width":BW,"--sidebar-width-icon":WW,...s},className:de("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...o,children:i})})})});__.displayName="SidebarProvider";const E_=p.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:s,...i},o)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:h}=Rp();return n==="none"?a.jsx("div",{className:de("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:s}):l?a.jsx(MW,{open:u,onOpenChange:h,...i,children:a.jsxs(uj,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":zW},side:t,children:[a.jsx(dj,{className:"sr-only",children:"Navigation"}),a.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):a.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":e,"data-side":t,children:[a.jsx("div",{className:de("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:de("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});E_.displayName="Sidebar";const b_=p.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:s}=Rp();return a.jsxs(Te,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:de("h-7 w-7",t),onClick:i=>{e==null||e(i),s()},...n,children:[a.jsx(y4,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});b_.displayName="SidebarTrigger";const qW=p.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=Rp();return a.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:de("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});qW.displayName="SidebarRail";const GW=p.forwardRef(({className:t,...e},n)=>a.jsx("main",{ref:n,className:de("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));GW.displayName="SidebarInset";const KW=p.forwardRef(({className:t,...e},n)=>a.jsx(vt,{ref:n,"data-sidebar":"input",className:de("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));KW.displayName="SidebarInput";const QW=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,"data-sidebar":"header",className:de("flex flex-col gap-2 p-2",t),...e}));QW.displayName="SidebarHeader";const YW=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,"data-sidebar":"footer",className:de("flex flex-col gap-2 p-2",t),...e}));YW.displayName="SidebarFooter";const XW=p.forwardRef(({className:t,...e},n)=>a.jsx(lj,{ref:n,"data-sidebar":"separator",className:de("mx-2 w-auto bg-sidebar-border",t),...e}));XW.displayName="SidebarSeparator";const T_=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,"data-sidebar":"content",className:de("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));T_.displayName="SidebarContent";const S_=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,"data-sidebar":"group",className:de("relative flex w-full min-w-0 flex-col p-2",t),...e}));S_.displayName="SidebarGroup";const C_=p.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?dc:"div";return a.jsx(s,{ref:r,"data-sidebar":"group-label",className:de("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});C_.displayName="SidebarGroupLabel";const ZW=p.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?dc:"button";return a.jsx(s,{ref:r,"data-sidebar":"group-action",className:de("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});ZW.displayName="SidebarGroupAction";const I_=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,"data-sidebar":"group-content",className:de("w-full text-sm",t),...e}));I_.displayName="SidebarGroupContent";const N_=p.forwardRef(({className:t,...e},n)=>a.jsx("ul",{ref:n,"data-sidebar":"menu",className:de("flex w-full min-w-0 flex-col gap-1",t),...e}));N_.displayName="SidebarMenu";const k_=p.forwardRef(({className:t,...e},n)=>a.jsx("li",{ref:n,"data-sidebar":"menu-item",className:de("group/menu-item relative",t),...e}));k_.displayName="SidebarMenuItem";const JW=Ma("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),A_=p.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:s,className:i,...o},l)=>{const c=t?dc:"button",{isMobile:u,state:h}=Rp(),f=a.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:de(JW({variant:n,size:r}),i),...o});return s?(typeof s=="string"&&(s={children:s}),a.jsxs(EF,{children:[a.jsx(bF,{asChild:!0,children:f}),a.jsx(DN,{side:"right",align:"center",hidden:h!=="collapsed"||u,...s})]})):f});A_.displayName="SidebarMenuButton";const eH=p.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},s)=>{const i=e?dc:"button";return a.jsx(i,{ref:s,"data-sidebar":"menu-action",className:de("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});eH.displayName="SidebarMenuAction";const tH=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:de("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));tH.displayName="SidebarMenuBadge";const nH=p.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const s=p.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:de("flex h-8 items-center gap-2 rounded-md px-2",t),...n,children:[e&&a.jsx(aT,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),a.jsx(aT,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});nH.displayName="SidebarMenuSkeleton";const rH=p.forwardRef(({className:t,...e},n)=>a.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:de("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));rH.displayName="SidebarMenuSub";const sH=p.forwardRef(({...t},e)=>a.jsx("li",{ref:e,...t}));sH.displayName="SidebarMenuSubItem";const iH=p.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...s},i)=>{const o=t?dc:"a";return a.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:de("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});iH.displayName="SidebarMenuSubButton";const fj=p.forwardRef(({className:t,activeClassName:e,pendingClassName:n,to:r,...s},i)=>a.jsx(q5,{ref:i,to:r,className:({isActive:o,isPending:l})=>de(t,o&&e,l&&n),...s}));fj.displayName="NavLink";const oH=[{title:"Overview",url:"/admin",icon:h4},{title:"Registrations",url:"/admin/registrations",icon:l4},{title:"Participants",url:"/admin/participants",icon:bo},{title:"Tournaments",url:"/admin/tournaments",icon:zn},{title:"Games",url:"/admin/games",icon:Yx},{title:"Teams",url:"/admin/teams",icon:w4},{title:"Matches",url:"/admin/matches",icon:Eo},{title:"Leaderboard",url:"/admin/leaderboard",icon:i4},{title:"Users",url:"/admin/users",icon:_4}];function aH(){const t=Ls();return a.jsx(E_,{collapsible:"icon",children:a.jsx(T_,{children:a.jsxs(S_,{children:[a.jsx(C_,{children:"Admin Panel"}),a.jsx(I_,{children:a.jsx(N_,{children:oH.map(e=>a.jsx(k_,{children:a.jsx(A_,{asChild:!0,isActive:t.pathname===e.url,tooltip:e.title,children:a.jsxs(fj,{to:e.url,className:"hover:bg-muted/50",activeClassName:"bg-muted text-primary font-medium",children:[a.jsx(e.icon,{className:"h-4 w-4"}),a.jsx("span",{children:e.title})]})})},e.title))})})]})})})}function lH(){const{signOut:t,user:e}=Lr();return a.jsxs("header",{className:"sticky top-0 z-50 h-16 border-b bg-card flex items-center justify-between px-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(b_,{}),a.jsxs(pt,{to:"/admin",className:"flex items-center gap-2",children:[a.jsx(zn,{className:"h-6 w-6 text-primary"}),a.jsx("span",{className:"text-lg font-bold",children:"Admin Dashboard"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.displayName}),a.jsxs(Te,{variant:"outline",size:"sm",onClick:t,children:[a.jsx(jf,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}const cH=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState(""),[o,l]=p.useState(!0),[c,u]=p.useState(!1),[h,f]=p.useState(null),[m,g]=p.useState({name:"",game_type:"SINGLE",players_per_team:1,is_active:!0,tournament_id:""}),{toast:b}=br();p.useEffect(()=>{E()},[]),p.useEffect(()=>{s?x():e([])},[s]);const E=async()=>{try{const D=await cs();r(D),D.length>0&&!s&&i(D[0].id)}catch(D){b({title:"Error",description:D.message,variant:"destructive"})}},x=async()=>{if(s)try{l(!0);const D=await bi(s);e(D)}catch(D){b({title:"Error",description:D.message,variant:"destructive"})}finally{l(!1)}},_=async D=>{if(D.preventDefault(),!m.tournament_id){b({title:"Error",description:"Please select a tournament",variant:"destructive"});return}try{h?(await Ei(gt(Be,"games",h),{...m,updated_at:Xe()}),b({title:"Game updated successfully"})):(await Ba(or(Be,"games"),{...m,created_at:Xe(),updated_at:Xe()}),b({title:"Game created successfully"})),u(!1),S(),x()}catch(I){b({title:"Error",description:I.message,variant:"destructive"})}},v=D=>{f(D.id),g({name:D.name,game_type:D.game_type,players_per_team:D.players_per_team,is_active:D.is_active,tournament_id:D.tournament_id||s}),u(!0)},y=async D=>{if(confirm("Are you sure you want to delete this game?"))try{await d_(gt(Be,"games",D)),b({title:"Game deleted successfully"}),x()}catch(I){b({title:"Error",description:I.message,variant:"destructive"})}},S=()=>{g({name:"",game_type:"SINGLE",players_per_team:1,is_active:!0,tournament_id:s}),f(null)},k=D=>{const I=n.find(C=>C.id===D);return(I==null?void 0:I.name)||"Unknown Tournament"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Games"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Configure sports and game settings"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"w-full md:w-64",children:[a.jsx(Je,{htmlFor:"tournament-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Tournament"}),a.jsxs(Lt,{value:s,onValueChange:i,children:[a.jsx(Pt,{id:"tournament-select",children:a.jsx(Vt,{placeholder:"Select tournament"})}),a.jsx(jt,{children:n.map(D=>a.jsx(qe,{value:D.id,children:D.name},D.id))})]})]}),a.jsxs(ga,{open:c,onOpenChange:D=>{u(D),D&&!h&&g(I=>({...I,tournament_id:s})),D||S()},children:[a.jsx(v_,{asChild:!0,children:a.jsxs(Te,{disabled:!s,children:[a.jsx(Df,{className:"h-4 w-4 mr-2"}),"Add Game"]})}),a.jsxs(fo,{children:[a.jsx(mo,{children:a.jsxs(po,{children:[h?"Edit":"Create"," Game"]})}),a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"tournament_id",children:"Tournament"}),a.jsxs(Lt,{value:m.tournament_id,onValueChange:D=>g({...m,tournament_id:D}),disabled:!!h,children:[a.jsx(Pt,{id:"tournament_id",children:a.jsx(Vt,{placeholder:"Select tournament"})}),a.jsx(jt,{children:n.map(D=>a.jsx(qe,{value:D.id,children:D.name},D.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"name",children:"Game Name"}),a.jsx(vt,{id:"name",value:m.name,onChange:D=>g({...m,name:D.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"game_type",children:"Game Type"}),a.jsxs(Lt,{value:m.game_type,onValueChange:D=>g({...m,game_type:D}),children:[a.jsx(Pt,{children:a.jsx(Vt,{})}),a.jsxs(jt,{children:[a.jsx(qe,{value:"SINGLE",children:"Single (1v1)"}),a.jsx(qe,{value:"PAIR",children:"Pair (2v2)"}),a.jsx(qe,{value:"TEAM",children:"Team"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"players_per_team",children:"Players Per Team"}),a.jsx(vt,{id:"players_per_team",type:"number",min:"1",value:m.players_per_team,onChange:D=>g({...m,players_per_team:parseInt(D.target.value)}),required:!0})]}),a.jsxs(Te,{type:"submit",className:"w-full",children:[h?"Update":"Create"," Game"]})]})]})]})]})]}),s?o?a.jsx(je,{children:a.jsx(De,{className:"py-8 text-center text-muted-foreground",children:"Loading games..."})}):t.length===0?a.jsx(je,{children:a.jsx(De,{className:"py-8 text-center text-muted-foreground",children:'No games found for this tournament. Click "Add Game" to create one.'})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(D=>a.jsxs(je,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx(rt,{children:D.name}),D.tournament_id&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:k(D.tournament_id)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Te,{variant:"outline",size:"sm",onClick:()=>v(D),children:a.jsx(Xx,{className:"h-4 w-4"})}),a.jsx(Te,{variant:"outline",size:"sm",onClick:()=>y(D.id),children:a.jsx(Jx,{className:"h-4 w-4"})})]})]})}),a.jsxs(De,{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Type:"}),a.jsx("span",{className:"font-medium",children:D.game_type})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Players:"}),a.jsx("span",{className:"font-medium",children:D.players_per_team})]}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${D.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:D.is_active?"Active":"Inactive"})]})]},D.id))}):a.jsx(je,{children:a.jsx(De,{className:"py-8 text-center text-muted-foreground",children:"Please select a tournament to view or create games."})})]})};var Pp="Checkbox",[uH,SG]=vi(Pp),[dH,R_]=uH(Pp);function hH(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:f}=t,[m,g]=_o({prop:n,defaultProp:s??!1,onChange:c,caller:Pp}),[b,E]=p.useState(null),[x,_]=p.useState(null),v=p.useRef(!1),y=b?!!o||!!b.closest("form"):!0,S={checked:m,disabled:i,setChecked:g,control:b,setControl:E,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:go(s)?!1:s,isFormControl:y,bubbleInput:x,setBubbleInput:_};return a.jsx(dH,{scope:e,...S,children:fH(f)?f(S):r})}var mj="CheckboxTrigger",pj=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:b}=R_(mj,t),E=yt(s,h),x=p.useRef(c);return p.useEffect(()=>{const _=i==null?void 0:i.form;if(_){const v=()=>f(x.current);return _.addEventListener("reset",v),()=>_.removeEventListener("reset",v)}},[i,f]),a.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":go(c)?"mixed":c,"aria-required":u,"data-state":wj(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:E,onKeyDown:be(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:be(n,_=>{f(v=>go(v)?!0:!v),b&&g&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})})});pj.displayName=mj;var P_=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:h,...f}=t;return a.jsx(hH,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:m})=>a.jsxs(a.Fragment,{children:[a.jsx(pj,{...f,ref:e,__scopeCheckbox:n}),m&&a.jsx(xj,{__scopeCheckbox:n})]})})});P_.displayName=Pp;var gj="CheckboxIndicator",vj=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=R_(gj,n);return a.jsx(Vo,{present:r||go(i.checked)||i.checked===!0,children:a.jsx(Ve.span,{"data-state":wj(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});vj.displayName=gj;var yj="CheckboxBubbleInput",xj=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:h,form:f,bubbleInput:m,setBubbleInput:g}=R_(yj,t),b=yt(n,g),E=yP(i),x=dN(r);p.useEffect(()=>{const v=m;if(!v)return;const y=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(y,"checked").set,D=!s.current;if(E!==i&&k){const I=new Event("click",{bubbles:D});v.indeterminate=go(i),k.call(v,go(i)?!1:i),v.dispatchEvent(I)}},[m,E,i,s]);const _=p.useRef(go(i)?!1:i);return a.jsx(Ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:l,disabled:c,name:u,value:h,form:f,...e,tabIndex:-1,ref:b,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});xj.displayName=yj;function fH(t){return typeof t=="function"}function go(t){return t==="indeterminate"}function wj(t){return go(t)?"indeterminate":t?"checked":"unchecked"}const $y=p.forwardRef(({className:t,...e},n)=>a.jsx(P_,{ref:n,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(vj,{className:de("flex items-center justify-center text-current"),children:a.jsx(VI,{className:"h-4 w-4"})})}));$y.displayName=P_.displayName;const _j=or(Be,"teams"),mH=async t=>{const e=[wn("tournament_id","==",t.tournamentId),os("created_at","desc")];t.gameId&&e.splice(1,0,wn("game_id","==",t.gameId));const n=ar(_j,...e);return(await lr(n)).docs.map(s=>({id:s.id,...s.data()}))},lT=async t=>(await Ba(_j,{...t,created_at:Xe(),updated_at:Xe()})).id,pH=async(t,e)=>{await Ei(gt(Be,"teams",t),{...e,updated_at:Xe()})},gH=async(t,e)=>{await Ei(gt(Be,"teams",t),{player_ids:l8(e),updated_at:Xe()})},vH=async t=>{await d_(gt(Be,"teams",t))},yH=or(Be,"profiles"),Ej=or(Be,"user_roles"),Ld=async()=>{const t=ar(yH,os("created_at","desc"));return(await lr(t)).docs.map(n=>({id:n.id,...n.data()}))},xH=async t=>{try{const e=await Na(gt(Ej,t));return e.exists()?e.data().roles||[]:[]}catch(e){return console.error("Error fetching user role:",e),[]}},wH=async()=>{try{const t=await Ld();return await Promise.all(t.map(async n=>{const r=await xH(n.id);return{...n,roles:r}}))}catch(t){return console.error("Error fetching users with roles:",t),[]}},_H=async(t,e)=>{try{await Jo(gt(Ej,t),{roles:e,updated_at:Xe()},{merge:!0})}catch(n){throw console.error("Error updating user role:",n),n}},EH=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState(""),[h,f]=p.useState(""),[m,g]=p.useState(!0),[b,E]=p.useState(!1),[x,_]=p.useState(!1),[v,y]=p.useState(!1),[S,k]=p.useState(null),[D,I]=p.useState(null),[C,N]=p.useState({name:"",is_pair:!1,status:"pending",tournament_id:"",game_id:""}),[R,P]=p.useState([]),[O,A]=p.useState([]),[W,oe]=p.useState(""),{toast:Q}=br(),ee=s.find(L=>L.id===h),U=(ee==null?void 0:ee.game_type)==="TEAM",$=(ee==null?void 0:ee.game_type)==="PAIR",re=(ee==null?void 0:ee.game_type)==="SINGLE";p.useEffect(()=>{ge(),we()},[]),p.useEffect(()=>{c?le():(i([]),f(""))},[c]),p.useEffect(()=>{c&&h?ue():e([])},[c,h]);const ge=async()=>{try{const L=await cs();r(L),L.length>0&&!c&&u(L[0].id)}catch(L){Q({title:"Error",description:L.message,variant:"destructive"})}},le=async()=>{if(c)try{const L=await bi(c);i(L),L.length>0&&!h&&f(L[0].id)}catch(L){Q({title:"Error",description:L.message,variant:"destructive"})}},ue=async()=>{if(!(!c||!h))try{g(!0);const L=await mH({tournamentId:c,gameId:h});e(L)}catch(L){Q({title:"Error",description:L.message,variant:"destructive"})}finally{g(!1)}},we=async()=>{try{const L=await Ld();l(L)}catch(L){Q({title:"Error",description:L.message,variant:"destructive"})}},Fe=async L=>{if(L.preventDefault(),!C.tournament_id||!C.game_id){Q({title:"Error",description:"Please select a tournament and game",variant:"destructive"});return}if(!$&&!C.name.trim()){Q({title:"Error",description:"Team name is required",variant:"destructive"});return}try{S?(await pH(S,{name:C.name,is_pair:C.is_pair,status:C.status}),Q({title:`${$?"Pair":"Team"} updated successfully`})):(await lT({...C,name:$?`Pair ${Date.now()}`:C.name,player_ids:[]}),Q({title:`${$?"Pair":"Team"} created successfully`})),E(!1),Ie(),ue()}catch(Ee){Q({title:"Error",description:Ee.message,variant:"destructive"})}},dt=L=>{k(L.id),N({name:L.name,is_pair:L.is_pair,status:L.status,tournament_id:L.tournament_id,game_id:L.game_id}),E(!0)},se=async L=>{if(confirm("Are you sure you want to delete this team?"))try{await vH(L),Q({title:"Team deleted successfully"}),ue()}catch(Ee){Q({title:"Error",description:Ee.message,variant:"destructive"})}},ze=L=>{I(L),P(L.player_ids),_(!0)},at=async()=>{if(O.length===2)try{const L=await lT({tournament_id:c,game_id:h,name:`Pair ${Date.now()}`,is_pair:!0,player_ids:O,status:"pending"});await ij({tournament_id:c,game_id:h,type:"TEAM",team_id:L}),Q({title:"Pair created successfully"}),y(!1),A([]),ue()}catch(L){Q({title:"Error",description:L.message,variant:"destructive"})}},Ae=async()=>{if(D)try{const L=D.player_ids.filter(Ne=>!R.includes(Ne));for(const Ne of L)await Ei(gt(Be,"teams",D.id),{player_ids:c8(Ne),updated_at:Xe()});const Ee=R.filter(Ne=>!D.player_ids.includes(Ne));for(const Ne of Ee)await gH(D.id,Ne);Q({title:"Team players updated successfully"}),_(!1),I(null),ue()}catch(L){Q({title:"Error",description:L.message,variant:"destructive"})}},Ie=()=>{N({name:"",is_pair:!1,status:"pending",tournament_id:c,game_id:h}),k(null)},Re=L=>{const Ee=n.find(Ne=>Ne.id===L);return(Ee==null?void 0:Ee.name)||"Unknown Tournament"},_t=L=>{const Ee=s.find(Ne=>Ne.id===L);return(Ee==null?void 0:Ee.name)||"Unknown Game"},me=L=>{const Ee=o.find(Ne=>Ne.id===L);return(Ee==null?void 0:Ee.name)||"Unknown User"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Teams"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Create and manage teams for tournaments"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"w-full md:w-64",children:[a.jsx(Je,{htmlFor:"tournament-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Tournament"}),a.jsxs(Lt,{value:c,onValueChange:u,children:[a.jsx(Pt,{id:"tournament-select",children:a.jsx(Vt,{placeholder:"Select tournament"})}),a.jsx(jt,{children:n.map(L=>a.jsx(qe,{value:L.id,children:L.name},L.id))})]})]}),a.jsxs("div",{className:"w-full md:w-64",children:[a.jsx(Je,{htmlFor:"game-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Game"}),a.jsxs(Lt,{value:h,onValueChange:f,disabled:!c,children:[a.jsx(Pt,{id:"game-select",children:a.jsx(Vt,{placeholder:"Select game"})}),a.jsx(jt,{children:s.map(L=>a.jsx(qe,{value:L.id,children:L.name},L.id))})]})]}),U&&a.jsxs(ga,{open:b,onOpenChange:L=>{E(L),L&&!S&&N(Ee=>({...Ee,tournament_id:c,game_id:h,is_pair:!1})),L||Ie()},children:[a.jsx(v_,{asChild:!0,children:a.jsxs(Te,{disabled:!c||!h,children:[a.jsx(Df,{className:"h-4 w-4 mr-2"}),"Add Team"]})}),a.jsxs(fo,{children:[a.jsx(mo,{children:a.jsxs(po,{children:[S?"Edit":"Create"," Team"]})}),a.jsxs("form",{onSubmit:Fe,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"tournament_id",children:"Tournament"}),a.jsxs(Lt,{value:C.tournament_id,onValueChange:L=>N({...C,tournament_id:L}),disabled:!!S,children:[a.jsx(Pt,{id:"tournament_id",children:a.jsx(Vt,{placeholder:"Select tournament"})}),a.jsx(jt,{children:n.map(L=>a.jsx(qe,{value:L.id,children:L.name},L.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"game_id",children:"Game"}),a.jsxs(Lt,{value:C.game_id,onValueChange:L=>N({...C,game_id:L}),disabled:!!S,children:[a.jsx(Pt,{id:"game_id",children:a.jsx(Vt,{placeholder:"Select game"})}),a.jsx(jt,{children:s.map(L=>a.jsx(qe,{value:L.id,children:L.name},L.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"name",children:"Team Name"}),a.jsx(vt,{id:"name",value:C.name,onChange:L=>N({...C,name:L.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"status",children:"Status"}),a.jsxs(Lt,{value:C.status,onValueChange:L=>N({...C,status:L}),children:[a.jsx(Pt,{children:a.jsx(Vt,{})}),a.jsxs(jt,{children:[a.jsx(qe,{value:"pending",children:"Pending"}),a.jsx(qe,{value:"confirmed",children:"Confirmed"})]})]})]}),a.jsxs(Te,{type:"submit",className:"w-full",children:[S?"Update":"Create"," Team"]})]})]})]}),$&&a.jsxs(Te,{disabled:!c||!h,onClick:()=>y(!0),children:[a.jsx(Df,{className:"h-4 w-4 mr-2"}),"Add Pair"]})]})]}),!c||!h?a.jsx(je,{children:a.jsx(De,{className:"py-8 text-center text-muted-foreground",children:"Please select a tournament and game to view or create teams."})}):re?a.jsx(je,{children:a.jsx(De,{className:"py-8 text-center text-muted-foreground",children:"Single player games don't require team management. Players are managed through registrations."})}):m?a.jsx(je,{children:a.jsxs(De,{className:"py-8 text-center text-muted-foreground",children:["Loading ",$?"pairs":"teams","..."]})}):t.length===0?a.jsx(je,{children:a.jsxs(De,{className:"py-8 text-center text-muted-foreground",children:["No ",$?"pairs":"teams",' found for this tournament and game. Click "Add ',$?"Pair":"Team",'" to create one.']})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(L=>a.jsxs(je,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx(rt,{children:L.is_pair?L.player_ids.length===2?`${me(L.player_ids[0])} & ${me(L.player_ids[1])}`:`Pair ${L.id.slice(-4)}`:L.name}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Re(L.tournament_id)," - ",_t(L.game_id)]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Te,{variant:"outline",size:"sm",onClick:()=>ze(L),children:a.jsx(bo,{className:"h-4 w-4"})}),!L.is_pair&&a.jsx(Te,{variant:"outline",size:"sm",onClick:()=>dt(L),children:a.jsx(Xx,{className:"h-4 w-4"})}),a.jsx(Te,{variant:"outline",size:"sm",onClick:()=>se(L.id),children:a.jsx(Jx,{className:"h-4 w-4"})})]})]})}),a.jsxs(De,{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Type:"}),a.jsx("span",{className:"font-medium",children:L.is_pair?"Pair":"Team"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Players:"}),a.jsx("span",{className:"font-medium",children:L.player_ids.length})]}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${L.status==="confirmed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:L.status})]})]},L.id))}),a.jsx(ga,{open:v,onOpenChange:L=>{y(L),L||(A([]),oe(""))},children:a.jsxs(fo,{className:"max-w-2xl",children:[a.jsx(mo,{children:a.jsx(po,{children:"Create Pair"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Select exactly 2 players for this pair",O.length>0&&a.jsxs("span",{className:"font-medium",children:[" (",O.length," selected)"]})]}),a.jsx("div",{className:"space-y-2",children:a.jsx(vt,{placeholder:"Search users by name or email...",value:W,onChange:L=>oe(L.target.value),className:"w-full"})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.filter(L=>L.name.toLowerCase().includes(W.toLowerCase())||L.email.toLowerCase().includes(W.toLowerCase())).map(L=>a.jsxs("div",{className:"flex items-center space-x-2 p-2 border-b",children:[a.jsx($y,{id:`pair-user-${L.id}`,checked:O.includes(L.id),disabled:!O.includes(L.id)&&O.length>=2,onCheckedChange:Ee=>{A(Ee?Ne=>[...Ne,L.id]:Ne=>Ne.filter(Tt=>Tt!==L.id))}}),a.jsxs(Je,{htmlFor:`pair-user-${L.id}`,className:"flex-1",children:[L.name," (",L.email,")"]})]},L.id))}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Te,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),a.jsx(Te,{onClick:at,disabled:O.length!==2,children:"Create Pair"})]})]})]})}),a.jsx(ga,{open:x,onOpenChange:L=>{_(L),L||oe("")},children:a.jsxs(fo,{className:"max-w-2xl",children:[a.jsx(mo,{children:a.jsxs(po,{children:["Manage Players - ",D!=null&&D.is_pair?D.player_ids.length===2?`${me(D.player_ids[0])} & ${me(D.player_ids[1])}`:`Pair ${D.id.slice(-4)}`:D==null?void 0:D.name]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:[D!=null&&D.is_pair?"Select exactly 2 players for this pair":`Select up to ${(ee==null?void 0:ee.players_per_team)||1} players for this team`,R.length>0&&a.jsxs("span",{className:"font-medium",children:[" (",R.length," selected)"]})]}),a.jsx("div",{className:"space-y-2",children:a.jsx(vt,{placeholder:"Search users by name or email...",value:W,onChange:L=>oe(L.target.value),className:"w-full"})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.filter(L=>L.name.toLowerCase().includes(W.toLowerCase())||L.email.toLowerCase().includes(W.toLowerCase())).map(L=>a.jsxs("div",{className:"flex items-center space-x-2 p-2 border-b",children:[a.jsx($y,{id:`user-${L.id}`,checked:R.includes(L.id),disabled:!R.includes(L.id)&&R.length>=(D!=null&&D.is_pair?2:(ee==null?void 0:ee.players_per_team)||1),onCheckedChange:Ee=>{P(Ee?Ne=>[...Ne,L.id]:Ne=>Ne.filter(Tt=>Tt!==L.id))}}),a.jsxs(Je,{htmlFor:`user-${L.id}`,className:"flex-1",children:[L.name," (",L.email,")"]})]},L.id))}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Te,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),a.jsx(Te,{onClick:Ae,children:"Update Players"})]})]})]})})]})},bH=(t,e)=>{const n=e-t;return n===0?"Final":n===1?"Semi Final":n===2?"Quarter Final":`Round ${t+1}`},TH=t=>Math.pow(2,Math.ceil(Math.log2(Math.max(1,t)))),SH=(t,e=[])=>{var h,f,m;const n=[...t].sort((g,b)=>g.seed&&b.seed?g.seed-b.seed:g.seed?-1:b.seed?1:(g.created_at||"").localeCompare(b.created_at||"")),r=n.length,s=TH(r),i=Math.log2(s),o=[],l=new Array(s).fill(null);n.forEach((g,b)=>{l[b]=g});let c=s/2,u=[];for(let g=0;g<i;g++){const b=[];for(let E=0;E<c;E++){const x=((h=e.shift())==null?void 0:h.id)||crypto.randomUUID(),_=E*2,v={id:x,round_index:g,round_name:bH(g,i-1),match_order:E,participant_a_id:g===0?(f=l[_])==null?void 0:f.id:void 0,participant_b_id:g===0?(m=l[_+1])==null?void 0:m.id:void 0};if(u.length){const y=u[E*2],S=u[E*2+1],k=o.find(I=>I.id===y);k&&(k.next_match_id=x,k.winner_slot_in_next="A");const D=o.find(I=>I.id===S);D&&(D.next_match_id=x,D.winner_slot_in_next="B")}o.push(v),b.push(x)}u=b,c=c/2}return o},CH=async(t,e,n)=>{const r=u8(Be);n.forEach(s=>{const i=gt(Be,"matches",s.id);r.set(i,{tournament_id:t,game_id:e,...s,status:"SCHEDULED",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{merge:!0})}),await r.commit()},IH=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState(""),[h,f]=p.useState(""),[m,g]=p.useState(!1),{toast:b}=br();p.useEffect(()=>{cs().then(e)},[]),p.useEffect(()=>{f("")},[c]),p.useEffect(()=>{(async()=>{if(!c){r([]),i([]),l([]);return}g(!0);try{const[S,k,D]=await Promise.all([bi(c),sj({tournamentId:c,gameId:h||void 0}),Iu({tournamentId:c,gameId:h||void 0})]);r(S),i(k),l(D)}catch(S){b({title:"Error loading data",description:S.message,variant:"destructive"}),r([]),i([]),l([])}finally{g(!1)}})()},[c,h]);const E=p.useMemo(()=>s.reduce((y,S)=>(y[S.id]=S,y),{}),[s]),x=p.useMemo(()=>o.reduce((y,S)=>(y[S.round_index]||(y[S.round_index]=[]),y[S.round_index].push(S),y),{}),[o]),_=async()=>{if(!c||!h){b({title:"Select tournament and game",description:"Both tournament and game are required to generate bracket.",variant:"destructive"});return}if(s.length<2){b({title:"Not enough participants",description:"At least two participants are required to create a bracket.",variant:"destructive"});return}try{g(!0);const y=SH(s);await CH(c,h,y);const S=await Iu({tournamentId:c,gameId:h});l(S),b({title:"Bracket generated",description:"Matches created successfully."})}catch(y){b({title:"Generation failed",description:y.message,variant:"destructive"})}finally{g(!1)}},v=async(y,S)=>{try{await IW(y.id,{tournament_id:y.tournament_id,game_id:y.game_id,winner_participant_id:S,score_details:"",points_awarded:{[S]:3},submitted_by:"admin"}),y.next_match_id&&y.winner_slot_in_next&&await af(y.next_match_id,y.winner_slot_in_next==="A"?{participant_a_id:S}:{participant_b_id:S});const k=await Iu({tournamentId:c,gameId:h||void 0});l(k),b({title:"Result recorded"})}catch(k){b({title:"Failed to record result",description:k.message,variant:"destructive"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),a.jsxs(Lt,{value:c,onValueChange:u,children:[a.jsx(Pt,{children:a.jsx(Vt,{placeholder:"Select tournament"})}),a.jsx(jt,{children:t.map(y=>a.jsx(qe,{value:y.id,children:y.name},y.id))})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Game"}),a.jsxs(Lt,{value:h,onValueChange:f,disabled:!c,children:[a.jsx(Pt,{children:a.jsx(Vt,{placeholder:"Select game"})}),a.jsx(jt,{children:n.map(y=>a.jsx(qe,{value:y.id,children:y.name},y.id))})]})]}),a.jsxs(Te,{onClick:_,disabled:!h||m,children:[a.jsx(a4,{className:"h-4 w-4 mr-2"}),"Generate Bracket"]})]}),a.jsxs(je,{children:[a.jsxs(nt,{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Match Schedule"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-generated bracket with manual override support."})]}),m&&a.jsx(ir,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),a.jsx(De,{children:c?o.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No matches yet. Generate a bracket or create matches manually."}):Object.entries(x).map(([y,S])=>a.jsxs("div",{className:"mb-6",children:[a.jsxs("p",{className:"text-sm font-semibold mb-3 uppercase text-muted-foreground",children:["Round ",Number(y)+1]}),a.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:S.map(k=>{const D=k.participant_a_id?E[k.participant_a_id]:void 0,I=k.participant_b_id?E[k.participant_b_id]:void 0;return a.jsx(je,{children:a.jsxs(De,{className:"space-y-3 pt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Match"}),a.jsx("p",{className:"font-semibold",children:k.round_name})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:(D==null?void 0:D.user_id)||(D==null?void 0:D.team_id)||"TBD"}),a.jsx(Te,{variant:"outline",size:"sm",disabled:!D,onClick:()=>D&&v(k,D.id),children:"Win"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:(I==null?void 0:I.user_id)||(I==null?void 0:I.team_id)||"TBD"}),a.jsx(Te,{variant:"outline",size:"sm",disabled:!I,onClick:()=>I&&v(k,I.id),children:"Win"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(vt,{type:"datetime-local",value:k.match_time||"",onChange:C=>af(k.id,{match_time:C.target.value})}),a.jsx(vt,{placeholder:"Venue",value:k.venue||"",onChange:C=>af(k.id,{venue:C.target.value})})]})]})},k.id)})})]},y)):a.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament and game to view matches."})})]})]})},NH=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState(!1),[o,l]=p.useState(null),[c,u]=p.useState({name:"",start_date:"",end_date:"",is_active:!0}),{toast:h}=br();p.useEffect(()=>{f()},[]);const f=async()=>{try{const x=ar(or(Be,"tournaments"),os("created_at","desc")),v=(await lr(x)).docs.map(y=>{const S=y.data();return{id:y.id,name:S.name??"",start_date:S.start_date||"",end_date:S.end_date||"",is_active:S.is_active??!0}});e(v)}catch(x){h({title:"Error",description:x.message,variant:"destructive"})}finally{r(!1)}},m=async x=>{x.preventDefault();try{o?(await Ei(gt(Be,"tournaments",o),{...c,updated_at:Xe()}),h({title:"Tournament updated successfully"})):(await Ba(or(Be,"tournaments"),{...c,created_at:Xe(),updated_at:Xe()}),h({title:"Tournament created successfully"})),i(!1),E(),f()}catch(_){h({title:"Error",description:_.message,variant:"destructive"})}},g=x=>{l(x.id),u({name:x.name,start_date:x.start_date||"",end_date:x.end_date||"",is_active:x.is_active}),i(!0)},b=async x=>{if(confirm("Are you sure you want to delete this tournament?"))try{await d_(gt(Be,"tournaments",x)),h({title:"Tournament deleted successfully"}),f()}catch(_){h({title:"Error",description:_.message,variant:"destructive"})}},E=()=>{u({name:"",start_date:"",end_date:"",is_active:!0}),l(null)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Tournaments"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage tournament configurations"})]}),a.jsxs(ga,{open:s,onOpenChange:x=>{i(x),x||E()},children:[a.jsx(v_,{asChild:!0,children:a.jsxs(Te,{children:[a.jsx(Df,{className:"h-4 w-4 mr-2"}),"Add Tournament"]})}),a.jsxs(fo,{children:[a.jsx(mo,{children:a.jsxs(po,{children:[o?"Edit":"Create"," Tournament"]})}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"name",children:"Tournament Name"}),a.jsx(vt,{id:"name",value:c.name,onChange:x=>u({...c,name:x.target.value}),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"start_date",children:"Start Date"}),a.jsx(vt,{id:"start_date",type:"date",value:c.start_date,onChange:x=>u({...c,start_date:x.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"end_date",children:"End Date"}),a.jsx(vt,{id:"end_date",type:"date",value:c.end_date,onChange:x=>u({...c,end_date:x.target.value})})]})]}),a.jsxs(Te,{type:"submit",className:"w-full",children:[o?"Update":"Create"," Tournament"]})]})]})]})]}),n?a.jsx("p",{children:"Loading..."}):a.jsx("div",{className:"grid gap-4",children:t.map(x=>a.jsxs(je,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx(rt,{children:x.name}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x.start_date&&x.end_date&&`${new Date(x.start_date).toLocaleDateString()} - ${new Date(x.end_date).toLocaleDateString()}`})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Te,{variant:"outline",size:"sm",onClick:()=>g(x),children:a.jsx(Xx,{className:"h-4 w-4"})}),a.jsx(Te,{variant:"outline",size:"sm",onClick:()=>b(x.id),children:a.jsx(Jx,{className:"h-4 w-4"})})]})]})}),a.jsx(De,{children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${x.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.is_active?"Active":"Inactive"})})]},x.id))})]})},kH=()=>{const[t,e]=p.useState({activeTournamentsCount:0,activeTournamentName:"Loading...",totalGames:0,registeredPlayers:0,scheduledMatches:0}),[n,r]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const[i,o,l]=await Promise.all([cs(),Ld(),bi()]),c=i.filter(f=>f.is_active),u=c[0]||i[0];let h=0;u&&(h=(await Iu({tournamentId:u.id})).length),e({activeTournamentsCount:c.length,activeTournamentName:u?u.name:"No Tournaments",totalGames:l.length,registeredPlayers:o.length,scheduledMatches:h})}catch(i){console.error("Error fetching dashboard data:",i),e(o=>({...o,activeTournamentName:"Error loading data"}))}finally{r(!1)}})()},[]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Overview"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Welcome to the Sports Week Admin Dashboard"})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(je,{children:[a.jsxs(nt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium",children:"Active Tournaments"}),a.jsx(zn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(De,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.activeTournamentsCount}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t.activeTournamentName})]})]}),a.jsxs(je,{children:[a.jsxs(nt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium",children:"Total Games"}),a.jsx(Yx,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(De,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.totalGames}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all tournaments"})]})]}),a.jsxs(je,{children:[a.jsxs(nt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium",children:"Registered Players"}),a.jsx(bo,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(De,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.registeredPlayers}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total registered users"})]})]}),a.jsxs(je,{children:[a.jsxs(nt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium",children:"Scheduled Matches"}),a.jsx(Eo,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(De,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.scheduledMatches}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"For current tournament"})]})]})]}),a.jsxs(je,{children:[a.jsx(nt,{children:a.jsx(rt,{children:"Quick Start Guide"})}),a.jsxs(De,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Create a Tournament"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Set up Sports Week 2025 with start and end dates"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Add Games"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure games like Chess, Cricket, Volleyball, etc."})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Create Teams"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Build teams and pairs for various games"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"4"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Schedule Matches"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create match fixtures with dates, times, and venues"})]})]})]})]})]})},bj=or(Be,"registrations"),vo=async t=>{const e=[];t.tournamentId&&e.push(wn("tournament_id","==",t.tournamentId)),t.gameId&&e.push(wn("game_id","==",t.gameId)),t.status&&e.push(wn("status","==",t.status)),t.userId&&e.push(wn("user_id","==",t.userId));const n=ar(bj,...e,os("created_at","desc"));return(await lr(n)).docs.map(s=>({id:s.id,...s.data()}))},AH=async t=>{await Ba(bj,{...t,status:"pending",created_at:Xe(),updated_at:Xe()})},RH=async(t,e)=>{await Ei(gt(Be,"registrations",t),{status:e,updated_at:Xe()})},Tj=or(Be,"notifications"),Sj=async t=>{const e=ar(Tj,wn("user_id","==",t),os("created_at","desc"));return(await lr(e)).docs.map(r=>({id:r.id,...r.data()}))},Cj=async t=>{await Ba(Tj,{...t,is_read:!1,created_at:Xe(),updated_at:Xe()})},cT=async t=>{await Ei(gt(Be,"notifications",t),{is_read:!0,updated_at:Xe()})},PH=async(t,e)=>{await Cj({user_id:t,title:"Game Registration Approved! ",message:`Your registration for "${e.gameName}" in ${e.tournamentName} has been approved. Good luck!`,type:"registration"})},jH=async(t,e)=>{await Cj({user_id:t,title:"Game Registration Update",message:`Your registration for "${e.gameName}" in ${e.tournamentName} was not approved. Please contact the admin for more information.`,type:"registration"})},DH={pending:"secondary",approved:"default",rejected:"destructive"},OH=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState(!1),{toast:b}=br();p.useEffect(()=>{(async()=>{const[S,k]=await Promise.all([cs(),Ld()]);i(S),f(k)})()},[]),p.useEffect(()=>{if(!t){l([]),u([]);return}(async()=>{g(!0);const[S,k]=await Promise.all([bi(t),vo({tournamentId:t,gameId:n||void 0})]);l(S),u(k),g(!1)})()},[t,n]);const E=p.useMemo(()=>s.find(y=>y.id===t),[s,t]),x=async(y,S)=>{await RH(y.id,S);const k=o.find(I=>I.id===y.game_id),D=(k==null?void 0:k.name)||"Unknown Game";S==="approved"?(await ij({tournament_id:y.tournament_id,game_id:y.game_id,type:"USER",user_id:y.user_id}),await PH(y.user_id,{tournamentName:(E==null?void 0:E.name)||"Tournament",gameName:D}),console.debug("Participant created/Approved notification sent")):S==="rejected"&&await jH(y.user_id,{tournamentName:(E==null?void 0:E.name)||"Tournament",gameName:D})},_=async(y,S)=>{try{await x(y,S),b({title:`Registration ${S}`,description:S==="approved"?"Player added to participants list.":"Player notified of rejection."});const k=await vo({tournamentId:y.tournament_id,gameId:n||void 0});u(k)}catch(k){b({title:"Action failed",description:k.message,variant:"destructive"})}},v=async()=>{const y=c.filter(S=>S.status==="pending");if(y.length===0){b({title:"No pending registrations",description:"There are no pending requests to approve."});return}g(!0);try{await Promise.all(y.map(k=>x(k,"approved"))),b({title:"Batch Approval Successful",description:`Approved ${y.length} registrations.`});const S=await vo({tournamentId:t,gameId:n||void 0});u(S)}catch(S){b({title:"Batch Action failed",description:S.message,variant:"destructive"})}finally{g(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),a.jsxs(Lt,{value:t,onValueChange:e,children:[a.jsx(Pt,{children:a.jsx(Vt,{placeholder:"Select tournament"})}),a.jsx(jt,{children:s.map(y=>a.jsx(qe,{value:y.id,children:y.name},y.id))})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Game"}),a.jsxs(Lt,{value:n,onValueChange:r,disabled:!t,children:[a.jsx(Pt,{children:a.jsx(Vt,{placeholder:"All games"})}),a.jsxs(jt,{children:[a.jsx(qe,{value:"all",children:"All games"}),o.map(y=>a.jsx(qe,{value:y.id,children:y.name},y.id))]})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(Te,{onClick:v,disabled:m||!t||c.filter(y=>y.status==="pending").length===0,children:[m?a.jsx(ir,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Approve All showing requests"]})}),a.jsxs(je,{children:[a.jsxs(nt,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Registrations"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Approve or reject player registrations for the selected tournament."})]}),m&&a.jsx(ir,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),a.jsx(De,{children:t?c.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No registrations found."}):a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx("div",{className:"max-h-[600px] overflow-y-auto overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"sticky top-0 bg-background z-10",children:a.jsxs("tr",{className:"border-b bg-muted/50",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Email"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Game"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Actions"})]})}),a.jsx("tbody",{children:c.map(y=>{const S=h.find(D=>D.id===y.user_id),k=o.find(D=>D.id===y.game_id);return a.jsxs("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsx("p",{className:"font-medium",children:(S==null?void 0:S.name)??y.user_id})}),a.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:(S==null?void 0:S.email)??""}),a.jsx("td",{className:"py-3 px-4 text-sm",children:(k==null?void 0:k.name)??"Unknown"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(yr,{variant:DH[y.status],children:y.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("div",{className:"flex items-center gap-2",children:y.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(Te,{variant:"outline",size:"sm",onClick:()=>_(y,"approved"),children:"Approve"}),a.jsx(Te,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>_(y,"rejected"),children:"Reject"})]})})})]},y.id)})})]})})}):a.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view registrations."})})]})]})},MH={pending:"secondary",approved:"default",rejected:"destructive"},LH=()=>{const[t,e]=p.useState(""),[n,r]=p.useState("all"),[s,i]=p.useState("all"),[o,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState([]),[b,E]=p.useState(!1);br(),p.useEffect(()=>{(async()=>{const[S,k]=await Promise.all([cs(),Ld()]);l(S),g(k)})()},[]),p.useEffect(()=>{if(!t){u([]),f([]);return}(async()=>{E(!0);const[S,k]=await Promise.all([bi(t),vo({tournamentId:t,gameId:n&&n!=="all"?n:void 0,status:s!=="all"?s:void 0})]);u(S),f(k),E(!1)})()},[t,n,s]);const x=p.useMemo(()=>h,[h]),_=y=>{const S=m.find(k=>k.id===y);return{name:(S==null?void 0:S.name)??y,email:(S==null?void 0:S.email)??""}},v=y=>{var S;return((S=c.find(k=>k.id===y))==null?void 0:S.name)??"Unknown Game"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),a.jsxs(Lt,{value:t,onValueChange:e,children:[a.jsx(Pt,{children:a.jsx(Vt,{placeholder:"Select tournament"})}),a.jsx(jt,{children:o.map(y=>a.jsx(qe,{value:y.id,children:y.name},y.id))})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Game"}),a.jsxs(Lt,{value:n,onValueChange:r,disabled:!t,children:[a.jsx(Pt,{children:a.jsx(Vt,{placeholder:"All games"})}),a.jsxs(jt,{children:[a.jsx(qe,{value:"all",children:"All games"}),c.map(y=>a.jsx(qe,{value:y.id,children:y.name},y.id))]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Registration Status"}),a.jsxs(Lt,{value:s,onValueChange:i,disabled:!t,children:[a.jsx(Pt,{children:a.jsx(Vt,{placeholder:"All statuses"})}),a.jsxs(jt,{children:[a.jsx(qe,{value:"all",children:"All statuses"}),a.jsx(qe,{value:"approved",children:"Approved only"}),a.jsx(qe,{value:"pending",children:"Pending only"}),a.jsx(qe,{value:"rejected",children:"Rejected only"})]})]})]})]}),a.jsxs(je,{children:[a.jsxs(nt,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Participants List"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View all user registrations with approval status and game details."})]}),b&&a.jsx(ir,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),a.jsx(De,{children:t?x.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No registrations found."}):a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"sticky top-0 bg-background z-10",children:a.jsxs("tr",{className:"border-b bg-muted/50",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Email"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Game"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Registered At"})]})}),a.jsx("tbody",{children:x.map(y=>{const S=_(y.user_id);return a.jsxs("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsx("p",{className:"font-medium",children:S.name})}),a.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:S.email}),a.jsx("td",{className:"py-3 px-4 text-sm",children:v(y.game_id)}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(yr,{variant:MH[y.status],children:y.status})}),a.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:y.created_at?new Date(y.created_at).toLocaleDateString():"N/A"})]},y.id)})})]})})}):a.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view participants."})})]}),t&&x.length>0&&a.jsxs(je,{children:[a.jsx(nt,{children:a.jsx(rt,{children:"Summary"})}),a.jsx(De,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Registrations"}),a.jsx("p",{className:"text-2xl font-bold",children:h.length})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:h.filter(y=>y.status==="approved").length})]}),a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:h.filter(y=>y.status==="pending").length})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected"}),a.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:h.filter(y=>y.status==="rejected").length})]})]})})]})]})},VH=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(""),[s,i]=p.useState([]),[o,l]=p.useState(!1);return p.useEffect(()=>{cs().then(e)},[]),p.useEffect(()=>{if(!n){i([]);return}l(!0),nj(n).then(i).finally(()=>l(!1))},[n]),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-wrap gap-4 items-end",children:a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),a.jsxs(Lt,{value:n,onValueChange:r,children:[a.jsx(Pt,{children:a.jsx(Vt,{placeholder:"Select tournament"})}),a.jsx(jt,{children:t.map(c=>a.jsx(qe,{value:c.id,children:c.name},c.id))})]})]})}),a.jsxs(je,{children:[a.jsxs(nt,{className:"flex items-center justify-between",children:[a.jsx(rt,{children:"Leaderboard"}),o&&a.jsx(ir,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),a.jsx(De,{children:n?s.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No leaderboard data yet."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-muted-foreground border-b",children:[a.jsx("th",{className:"py-2 pr-4",children:"Rank"}),a.jsx("th",{className:"py-2 pr-4",children:"Name"}),a.jsx("th",{className:"py-2 pr-4",children:"Type"}),a.jsx("th",{className:"py-2 pr-4",children:"Points"}),a.jsx("th",{className:"py-2 pr-4",children:"Wins"}),a.jsx("th",{className:"py-2 pr-4",children:"Losses"})]})}),a.jsx("tbody",{children:s.map((c,u)=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"py-2 pr-4",children:c.rank??u+1}),a.jsx("td",{className:"py-2 pr-4 font-medium",children:c.name}),a.jsx("td",{className:"py-2 pr-4 capitalize",children:c.entity_type.toLowerCase()}),a.jsx("td",{className:"py-2 pr-4",children:c.points}),a.jsx("td",{className:"py-2 pr-4",children:c.wins}),a.jsx("td",{className:"py-2 pr-4",children:c.losses})]},c.id))})]})}):a.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view standings."})})]})]})},FH=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState(null),[o,l]=p.useState(""),[c,u]=p.useState(null),{isAdmin:h}=Lr();p.useEffect(()=>{f()},[]);const f=async()=>{try{r(!0),i(null);const x=await wH();e(x)}catch(x){console.error("Error loading users:",x),i("Failed to load users. Please try again.")}finally{r(!1)}},m=async(x,_)=>{try{u(x),i(null),await _H(x,[_]),e(v=>v.map(y=>y.id===x?{...y,roles:[_]}:y))}catch(v){console.error("Error updating user role:",v),i("Failed to update user role. Please try again.")}finally{u(null)}},g=t.filter(x=>{var _,v,y;return((_=x.name)==null?void 0:_.toLowerCase().includes(o.toLowerCase()))||((v=x.email)==null?void 0:v.toLowerCase().includes(o.toLowerCase()))||((y=x.department)==null?void 0:y.toLowerCase().includes(o.toLowerCase()))}),b=x=>x.includes("admin")?"role-badge admin":"role-badge player",E=x=>x.includes("admin")?"Admin":"Player";return h?a.jsxs("div",{className:"users-management",children:[a.jsxs("div",{className:"users-header",children:[a.jsxs("div",{className:"header-content",children:[a.jsx("h1",{children:"Users Management"}),a.jsx("p",{className:"subtitle",children:"Manage user roles and permissions"})]}),a.jsxs("div",{className:"header-stats",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx("span",{className:"stat-value",children:t.length}),a.jsx("span",{className:"stat-label",children:"Total Users"})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx("span",{className:"stat-value",children:t.filter(x=>x.roles.includes("admin")).length}),a.jsx("span",{className:"stat-label",children:"Admins"})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx("span",{className:"stat-value",children:t.filter(x=>x.roles.includes("player")).length}),a.jsx("span",{className:"stat-label",children:"Players"})]})]})]}),a.jsxs("div",{className:"users-controls",children:[a.jsxs("div",{className:"search-box",children:[a.jsxs("svg",{className:"search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[a.jsx("circle",{cx:"11",cy:"11",r:"8"}),a.jsx("path",{d:"m21 21-4.35-4.35"})]}),a.jsx("input",{type:"text",placeholder:"Search by name, email, or department...",value:o,onChange:x=>l(x.target.value),className:"search-input"})]}),a.jsxs("button",{onClick:f,className:"refresh-btn",disabled:n,children:[a.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:a.jsx("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"})}),"Refresh"]})]}),s&&a.jsxs("div",{className:"error-banner",children:[a.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),s]}),n?a.jsxs("div",{className:"loading-container",children:[a.jsx("div",{className:"spinner"}),a.jsx("p",{children:"Loading users..."})]}):a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"users-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"}),a.jsx("th",{children:"Phone"}),a.jsx("th",{children:"Department"}),a.jsx("th",{children:"Gender"}),a.jsx("th",{children:"Current Role"}),a.jsx("th",{children:"Change Role"})]})}),a.jsx("tbody",{children:g.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"no-data",children:o?"No users found matching your search.":"No users available."})}):g.map(x=>{var _;return a.jsxs("tr",{children:[a.jsx("td",{className:"user-name",children:a.jsxs("div",{className:"name-cell",children:[a.jsx("div",{className:"avatar",children:((_=x.name)==null?void 0:_.charAt(0).toUpperCase())||"U"}),a.jsx("span",{children:x.name||"N/A"})]})}),a.jsx("td",{children:x.email||"N/A"}),a.jsx("td",{children:x.phone||"N/A"}),a.jsx("td",{children:x.department||"N/A"}),a.jsx("td",{className:"gender-cell",children:x.gender?a.jsx("span",{className:"gender-badge",children:x.gender}):"N/A"}),a.jsx("td",{children:a.jsx("span",{className:b(x.roles),children:E(x.roles)})}),a.jsx("td",{children:a.jsxs("div",{className:"role-selector",children:[a.jsxs("select",{value:x.roles.includes("admin")?"admin":"player",onChange:v=>m(x.id,v.target.value),disabled:c===x.id,className:"role-select",children:[a.jsx("option",{value:"player",children:"Player"}),a.jsx("option",{value:"admin",children:"Admin"})]}),c===x.id&&a.jsx("div",{className:"updating-indicator",children:a.jsx("div",{className:"mini-spinner"})})]})})]},x.id)})})]})})]}):a.jsx("div",{className:"users-management",children:a.jsxs("div",{className:"error-message",children:[a.jsx("h2",{children:"Access Denied"}),a.jsx("p",{children:"You don't have permission to access this page."})]})})},UH=()=>{const{loading:t,isAdmin:e}=Lr();return p.useEffect(()=>{const n=document.body,r=n.style.paddingTop;return n.style.paddingTop="0",()=>{n.style.paddingTop=r}},[]),t?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading..."})}):e?a.jsx(__,{children:a.jsxs("div",{className:"min-h-screen flex w-full bg-muted/30",children:[a.jsx(aH,{}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(lH,{}),a.jsx("main",{className:"flex-1 p-6",children:a.jsxs(pw,{children:[a.jsx(Ot,{path:"/",element:a.jsx(kH,{})}),a.jsx(Ot,{path:"/registrations",element:a.jsx(OH,{})}),a.jsx(Ot,{path:"/participants",element:a.jsx(LH,{})}),a.jsx(Ot,{path:"/tournaments",element:a.jsx(NH,{})}),a.jsx(Ot,{path:"/games",element:a.jsx(cH,{})}),a.jsx(Ot,{path:"/teams",element:a.jsx(EH,{})}),a.jsx(Ot,{path:"/matches",element:a.jsx(IH,{})}),a.jsx(Ot,{path:"/leaderboard",element:a.jsx(VH,{})}),a.jsx(Ot,{path:"/users",element:a.jsx(FH,{})})]})})]})]})}):a.jsx(sy,{to:"/",replace:!0})},$H=[{title:"Dashboard",url:"/dashboard",icon:d4},{title:"Register for Games",url:"/dashboard/register",icon:Yx},{title:"My Games",url:"/dashboard/my-games",icon:f4},{title:"Notifications",url:"/dashboard/notifications",icon:wu},{title:"My Tournaments",url:"/dashboard/tournaments",icon:zn},{title:"My Matches",url:"/dashboard/matches",icon:Zx},{title:"Schedule",url:"/dashboard/schedule",icon:Eo},{title:"Profile",url:"/dashboard/profile",icon:$I}];function BH(){const t=Ls();return a.jsx(E_,{collapsible:"icon",children:a.jsx(T_,{children:a.jsxs(S_,{children:[a.jsx(C_,{children:"Player Panel"}),a.jsx(I_,{children:a.jsx(N_,{children:$H.map(e=>a.jsx(k_,{children:a.jsx(A_,{asChild:!0,isActive:t.pathname===e.url,tooltip:e.title,children:a.jsxs(pt,{to:e.url,children:[a.jsx(e.icon,{className:"h-4 w-4"}),a.jsx("span",{children:e.title})]})})},e.title))})})]})})})}function zH(){const{signOut:t,user:e}=Lr(),[n,r]=p.useState(""),[s,i]=p.useState(0);return p.useEffect(()=>{(async()=>{if(e!=null&&e.uid)try{const l=await Na(gt(Be,"profiles",e.uid));if(l.exists()){const c=l.data();r(c.name||e.displayName||e.email||"")}else r(e.displayName||e.email||"")}catch(l){console.error("Error fetching profile:",l),r(e.displayName||e.email||"")}})()},[e]),p.useEffect(()=>{const o=async()=>{if(e!=null&&e.uid)try{const u=(await Sj(e.uid)).filter(h=>!h.is_read).length;i(u)}catch(c){console.error("Error loading notifications:",c)}};o();const l=setInterval(o,3e4);return()=>clearInterval(l)},[e]),a.jsxs("header",{className:"sticky top-0 z-50 h-16 border-b bg-card flex items-center justify-between px-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(b_,{}),a.jsxs(pt,{to:"/dashboard",className:"flex items-center gap-2",children:[a.jsx($I,{className:"h-6 w-6 text-primary"}),a.jsx("span",{className:"text-lg font-bold",children:"Player Dashboard"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(pt,{to:"/dashboard/notifications",children:a.jsxs(Te,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(wu,{className:"h-5 w-5"}),s>0&&a.jsx(yr,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:s>9?"9+":s})]})}),a.jsx("span",{className:"text-sm text-muted-foreground",children:n}),a.jsxs(Te,{variant:"outline",size:"sm",onClick:t,children:[a.jsx(jf,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}var Vd=t=>t.type==="checkbox",oa=t=>t instanceof Date,Fn=t=>t==null;const Ij=t=>typeof t=="object";var Xt=t=>!Fn(t)&&!Array.isArray(t)&&Ij(t)&&!oa(t),Nj=t=>Xt(t)&&t.target?Vd(t.target)?t.target.checked:t.target.value:t,WH=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,kj=(t,e)=>t.has(WH(e)),HH=t=>{const e=t.constructor&&t.constructor.prototype;return Xt(e)&&e.hasOwnProperty("isPrototypeOf")},j_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(j_&&(t instanceof Blob||r))&&(n||Xt(t)))if(e=n?[]:{},!n&&!HH(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=sn(t[s]));else return t;return e}var jp=t=>/^\w*$/.test(t),Kt=t=>t===void 0,D_=t=>Array.isArray(t)?t.filter(Boolean):[],O_=t=>D_(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ae=(t,e,n)=>{if(!e||!Xt(t))return n;const r=(jp(e)?[e]:O_(e)).reduce((s,i)=>Fn(s)?s:s[i],t);return Kt(r)||r===t?Kt(t[e])?n:t[e]:r},dr=t=>typeof t=="boolean",ft=(t,e,n)=>{let r=-1;const s=jp(e)?[e]:O_(e),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==o){const u=t[l];c=Xt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const hm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Yr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Aj=H.createContext(null);Aj.displayName="HookFormContext";const M_=()=>H.useContext(Aj);var Rj=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Yr.all&&(e._proxyFormState[o]=!r||Yr.all),n&&(n[o]=!0),t[o]}});return s};const L_=typeof window<"u"?H.useLayoutEffect:H.useEffect;function qH(t){const e=M_(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,l]=H.useState(n._formState),c=H.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return L_(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),H.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),H.useMemo(()=>Rj(o,n,c.current,!1),[o,n])}var Ts=t=>typeof t=="string",Pj=(t,e,n,r,s)=>Ts(t)?(r&&e.watch.add(t),ae(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ae(n,i))):(r&&(e.watchAll=!0),n),By=t=>Fn(t)||!Ij(t);function Qs(t,e,n=new WeakSet){if(By(t)||By(e))return t===e;if(oa(t)&&oa(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(oa(o)&&oa(l)||Xt(o)&&Xt(l)||Array.isArray(o)&&Array.isArray(l)?!Qs(o,l,n):o!==l)return!1}}return!0}function GH(t){const e=M_(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o,compute:l}=t||{},c=H.useRef(s),u=H.useRef(l),h=H.useRef(void 0);u.current=l;const f=H.useMemo(()=>n._getWatch(r,c.current),[n,r]),[m,g]=H.useState(u.current?u.current(f):f);return L_(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:b=>{if(!i){const E=Pj(r,n._names,b.values||n._formValues,!1,c.current);if(u.current){const x=u.current(E);Qs(x,h.current)||(g(x),h.current=x)}else g(E)}}}),[n,i,r,o]),H.useEffect(()=>n._removeUnmounted()),m}function KH(t){const e=M_(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:o}=t,l=kj(s._names.array,n),c=H.useMemo(()=>ae(s._formValues,n,ae(s._defaultValues,n,o)),[s,n,o]),u=GH({control:s,name:n,defaultValue:c,exact:!0}),h=qH({control:s,name:n,exact:!0}),f=H.useRef(t),m=H.useRef(s.register(n,{...t.rules,value:u,...dr(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const g=H.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ae(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!ae(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ae(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ae(h.validatingFields,n)},error:{enumerable:!0,get:()=>ae(h.errors,n)}}),[h,n]),b=H.useCallback(v=>m.current.onChange({target:{value:Nj(v),name:n},type:hm.CHANGE}),[n]),E=H.useCallback(()=>m.current.onBlur({target:{value:ae(s._formValues,n),name:n},type:hm.BLUR}),[n,s._formValues]),x=H.useCallback(v=>{const y=ae(s._fields,n);y&&v&&(y._f.ref={focus:()=>v.focus&&v.focus(),select:()=>v.select&&v.select(),setCustomValidity:S=>v.setCustomValidity(S),reportValidity:()=>v.reportValidity()})},[s._fields,n]),_=H.useMemo(()=>({name:n,value:u,...dr(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:b,onBlur:E,ref:x}),[n,r,h.disabled,b,E,x,u]);return H.useEffect(()=>{const v=s._options.shouldUnregister||i;s.register(n,{...f.current.rules,...dr(f.current.disabled)?{disabled:f.current.disabled}:{}});const y=(S,k)=>{const D=ae(s._fields,S);D&&D._f&&(D._f.mount=k)};if(y(n,!0),v){const S=sn(ae(s._options.defaultValues,n));ft(s._defaultValues,n,S),Kt(ae(s._formValues,n))&&ft(s._formValues,n,S)}return!l&&s.register(n),()=>{(l?v&&!s._state.action:v)?s.unregister(n):y(n,!1)}},[n,s,l,i]),H.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),H.useMemo(()=>({field:_,formState:h,fieldState:g}),[_,h,g])}const QH=t=>t.render(KH(t));var jj=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Nu=t=>Array.isArray(t)?t:[t],uT=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Yn=t=>Xt(t)&&!Object.keys(t).length,V_=t=>t.type==="file",Xr=t=>typeof t=="function",fm=t=>{if(!j_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Dj=t=>t.type==="select-multiple",F_=t=>t.type==="radio",YH=t=>F_(t)||Vd(t),Qg=t=>fm(t)&&t.isConnected;function XH(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Kt(t)?r++:t[e[r++]];return t}function ZH(t){for(const e in t)if(t.hasOwnProperty(e)&&!Kt(t[e]))return!1;return!0}function Jt(t,e){const n=Array.isArray(e)?e:jp(e)?[e]:O_(e),r=n.length===1?t:XH(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Xt(r)&&Yn(r)||Array.isArray(r)&&ZH(r))&&Jt(t,n.slice(0,-1)),t}var Oj=t=>{for(const e in t)if(Xr(t[e]))return!0;return!1};function mm(t,e={}){const n=Array.isArray(t);if(Xt(t)||n)for(const r in t)Array.isArray(t[r])||Xt(t[r])&&!Oj(t[r])?(e[r]=Array.isArray(t[r])?[]:{},mm(t[r],e[r])):Fn(t[r])||(e[r]=!0);return e}function Mj(t,e,n){const r=Array.isArray(t);if(Xt(t)||r)for(const s in t)Array.isArray(t[s])||Xt(t[s])&&!Oj(t[s])?Kt(e)||By(n[s])?n[s]=Array.isArray(t[s])?mm(t[s],[]):{...mm(t[s])}:Mj(t[s],Fn(e)?{}:e[s],n[s]):n[s]=!Qs(t[s],e[s]);return n}var Kc=(t,e)=>Mj(t,e,mm(e));const dT={value:!1,isValid:!1},hT={value:!0,isValid:!0};var Lj=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Kt(t[0].attributes.value)?Kt(t[0].value)||t[0].value===""?hT:{value:t[0].value,isValid:!0}:hT:dT}return dT},Vj=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Kt(t)?t:e?t===""?NaN:t&&+t:n&&Ts(t)?new Date(t):r?r(t):t;const fT={isValid:!1,value:null};var Fj=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,fT):fT;function mT(t){const e=t.ref;return V_(e)?e.files:F_(e)?Fj(t.refs).value:Dj(e)?[...e.selectedOptions].map(({value:n})=>n):Vd(e)?Lj(t.refs).value:Vj(Kt(e.value)?t.ref.value:e.value,t)}var JH=(t,e,n,r)=>{const s={};for(const i of t){const o=ae(e,i);o&&ft(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},pm=t=>t instanceof RegExp,Qc=t=>Kt(t)?t:pm(t)?t.source:Xt(t)?pm(t.value)?t.value.source:t.value:t,pT=t=>({isOnSubmit:!t||t===Yr.onSubmit,isOnBlur:t===Yr.onBlur,isOnChange:t===Yr.onChange,isOnAll:t===Yr.all,isOnTouch:t===Yr.onTouched});const gT="AsyncFunction";var eq=t=>!!t&&!!t.validate&&!!(Xr(t.validate)&&t.validate.constructor.name===gT||Xt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===gT)),tq=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),vT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ku=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ae(t,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ku(l,e))break}else if(Xt(l)&&ku(l,e))break}}};function yT(t,e,n){const r=ae(t,n);if(r||jp(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=ae(e,i),l=ae(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var nq=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Yn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Yr.all))},rq=(t,e,n)=>!t||!e||t===e||Nu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),sq=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,iq=(t,e)=>!D_(ae(t,e)).length&&Jt(t,e),oq=(t,e,n)=>{const r=Nu(ae(t,n));return ft(r,"root",e[n]),ft(t,n,r),t},lf=t=>Ts(t);function xT(t,e,n="validate"){if(lf(t)||Array.isArray(t)&&t.every(lf)||dr(t)&&!t)return{type:n,message:lf(t)?t:"",ref:e}}var Xa=t=>Xt(t)&&!pm(t)?t:{value:t,message:""},wT=async(t,e,n,r,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:h,min:f,max:m,pattern:g,validate:b,name:E,valueAsNumber:x,mount:_}=t._f,v=ae(n,E);if(!_||e.has(E))return{};const y=l?l[0]:o,S=O=>{s&&y.reportValidity&&(y.setCustomValidity(dr(O)?"":O||""),y.reportValidity())},k={},D=F_(o),I=Vd(o),C=D||I,N=(x||V_(o))&&Kt(o.value)&&Kt(v)||fm(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,R=jj.bind(null,E,r,k),P=(O,A,W,oe=zs.maxLength,Q=zs.minLength)=>{const ee=O?A:W;k[E]={type:O?oe:Q,message:ee,ref:o,...R(O?oe:Q,ee)}};if(i?!Array.isArray(v)||!v.length:c&&(!C&&(N||Fn(v))||dr(v)&&!v||I&&!Lj(l).isValid||D&&!Fj(l).isValid)){const{value:O,message:A}=lf(c)?{value:!!c,message:c}:Xa(c);if(O&&(k[E]={type:zs.required,message:A,ref:y,...R(zs.required,A)},!r))return S(A),k}if(!N&&(!Fn(f)||!Fn(m))){let O,A;const W=Xa(m),oe=Xa(f);if(!Fn(v)&&!isNaN(v)){const Q=o.valueAsNumber||v&&+v;Fn(W.value)||(O=Q>W.value),Fn(oe.value)||(A=Q<oe.value)}else{const Q=o.valueAsDate||new Date(v),ee=re=>new Date(new Date().toDateString()+" "+re),U=o.type=="time",$=o.type=="week";Ts(W.value)&&v&&(O=U?ee(v)>ee(W.value):$?v>W.value:Q>new Date(W.value)),Ts(oe.value)&&v&&(A=U?ee(v)<ee(oe.value):$?v<oe.value:Q<new Date(oe.value))}if((O||A)&&(P(!!O,W.message,oe.message,zs.max,zs.min),!r))return S(k[E].message),k}if((u||h)&&!N&&(Ts(v)||i&&Array.isArray(v))){const O=Xa(u),A=Xa(h),W=!Fn(O.value)&&v.length>+O.value,oe=!Fn(A.value)&&v.length<+A.value;if((W||oe)&&(P(W,O.message,A.message),!r))return S(k[E].message),k}if(g&&!N&&Ts(v)){const{value:O,message:A}=Xa(g);if(pm(O)&&!v.match(O)&&(k[E]={type:zs.pattern,message:A,ref:o,...R(zs.pattern,A)},!r))return S(A),k}if(b){if(Xr(b)){const O=await b(v,n),A=xT(O,y);if(A&&(k[E]={...A,...R(zs.validate,A.message)},!r))return S(A.message),k}else if(Xt(b)){let O={};for(const A in b){if(!Yn(O)&&!r)break;const W=xT(await b[A](v,n),y,A);W&&(O={...W,...R(A,W.message)},S(W.message),r&&(k[E]=O))}if(!Yn(O)&&(k[E]={ref:y,...O},!r))return k}}return S(!0),k};const aq={mode:Yr.onSubmit,reValidateMode:Yr.onChange,shouldFocusError:!0};function lq(t={}){let e={...aq,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Xr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Xt(e.defaultValues)||Xt(e.values)?sn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:sn(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const m={array:uT(),state:uT()},g=e.criteriaMode===Yr.all,b=M=>F=>{clearTimeout(u),u=setTimeout(M,F)},E=async M=>{if(!e.disabled&&(h.isValid||f.isValid||M)){const F=e.resolver?Yn((await I()).errors):await N(r,!0);F!==n.isValid&&m.state.next({isValid:F})}},x=(M,F)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((M||Array.from(l.mount)).forEach(B=>{B&&(F?ft(n.validatingFields,B,F):Jt(n.validatingFields,B))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Yn(n.validatingFields)}))},_=(M,F=[],B,te,J=!0,Y=!0)=>{if(te&&B&&!e.disabled){if(o.action=!0,Y&&Array.isArray(ae(r,M))){const X=B(ae(r,M),te.argA,te.argB);J&&ft(r,M,X)}if(Y&&Array.isArray(ae(n.errors,M))){const X=B(ae(n.errors,M),te.argA,te.argB);J&&ft(n.errors,M,X),iq(n.errors,M)}if((h.touchedFields||f.touchedFields)&&Y&&Array.isArray(ae(n.touchedFields,M))){const X=B(ae(n.touchedFields,M),te.argA,te.argB);J&&ft(n.touchedFields,M,X)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Kc(s,i)),m.state.next({name:M,isDirty:P(M,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ft(i,M,F)},v=(M,F)=>{ft(n.errors,M,F),m.state.next({errors:n.errors})},y=M=>{n.errors=M,m.state.next({errors:n.errors,isValid:!1})},S=(M,F,B,te)=>{const J=ae(r,M);if(J){const Y=ae(i,M,Kt(B)?ae(s,M):B);Kt(Y)||te&&te.defaultChecked||F?ft(i,M,F?Y:mT(J._f)):W(M,Y),o.mount&&E()}},k=(M,F,B,te,J)=>{let Y=!1,X=!1;const ye={name:M};if(!e.disabled){if(!B||te){(h.isDirty||f.isDirty)&&(X=n.isDirty,n.isDirty=ye.isDirty=P(),Y=X!==ye.isDirty);const Ye=Qs(ae(s,M),F);X=!!ae(n.dirtyFields,M),Ye?Jt(n.dirtyFields,M):ft(n.dirtyFields,M,!0),ye.dirtyFields=n.dirtyFields,Y=Y||(h.dirtyFields||f.dirtyFields)&&X!==!Ye}if(B){const Ye=ae(n.touchedFields,M);Ye||(ft(n.touchedFields,M,B),ye.touchedFields=n.touchedFields,Y=Y||(h.touchedFields||f.touchedFields)&&Ye!==B)}Y&&J&&m.state.next(ye)}return Y?ye:{}},D=(M,F,B,te)=>{const J=ae(n.errors,M),Y=(h.isValid||f.isValid)&&dr(F)&&n.isValid!==F;if(e.delayError&&B?(c=b(()=>v(M,B)),c(e.delayError)):(clearTimeout(u),c=null,B?ft(n.errors,M,B):Jt(n.errors,M)),(B?!Qs(J,B):J)||!Yn(te)||Y){const X={...te,...Y&&dr(F)?{isValid:F}:{},errors:n.errors,name:M};n={...n,...X},m.state.next(X)}},I=async M=>{x(M,!0);const F=await e.resolver(i,e.context,JH(M||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(M),F},C=async M=>{const{errors:F}=await I(M);if(M)for(const B of M){const te=ae(F,B);te?ft(n.errors,B,te):Jt(n.errors,B)}else n.errors=F;return F},N=async(M,F,B={valid:!0})=>{for(const te in M){const J=M[te];if(J){const{_f:Y,...X}=J;if(Y){const ye=l.array.has(Y.name),Ye=J._f&&eq(J._f);Ye&&h.validatingFields&&x([te],!0);const Zt=await wT(J,l.disabled,i,g,e.shouldUseNativeValidation&&!F,ye);if(Ye&&h.validatingFields&&x([te]),Zt[Y.name]&&(B.valid=!1,F))break;!F&&(ae(Zt,Y.name)?ye?oq(n.errors,Zt,Y.name):ft(n.errors,Y.name,Zt[Y.name]):Jt(n.errors,Y.name))}!Yn(X)&&await N(X,F,B)}}return B.valid},R=()=>{for(const M of l.unMount){const F=ae(r,M);F&&(F._f.refs?F._f.refs.every(B=>!Qg(B)):!Qg(F._f.ref))&&se(M)}l.unMount=new Set},P=(M,F)=>!e.disabled&&(M&&F&&ft(i,M,F),!Qs(re(),s)),O=(M,F,B)=>Pj(M,l,{...o.mount?i:Kt(F)?s:Ts(M)?{[M]:F}:F},B,F),A=M=>D_(ae(o.mount?i:s,M,e.shouldUnregister?ae(s,M,[]):[])),W=(M,F,B={})=>{const te=ae(r,M);let J=F;if(te){const Y=te._f;Y&&(!Y.disabled&&ft(i,M,Vj(F,Y)),J=fm(Y.ref)&&Fn(F)?"":F,Dj(Y.ref)?[...Y.ref.options].forEach(X=>X.selected=J.includes(X.value)):Y.refs?Vd(Y.ref)?Y.refs.forEach(X=>{(!X.defaultChecked||!X.disabled)&&(Array.isArray(J)?X.checked=!!J.find(ye=>ye===X.value):X.checked=J===X.value||!!J)}):Y.refs.forEach(X=>X.checked=X.value===J):V_(Y.ref)?Y.ref.value="":(Y.ref.value=J,Y.ref.type||m.state.next({name:M,values:sn(i)})))}(B.shouldDirty||B.shouldTouch)&&k(M,J,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&$(M)},oe=(M,F,B)=>{for(const te in F){if(!F.hasOwnProperty(te))return;const J=F[te],Y=M+"."+te,X=ae(r,Y);(l.array.has(M)||Xt(J)||X&&!X._f)&&!oa(J)?oe(Y,J,B):W(Y,J,B)}},Q=(M,F,B={})=>{const te=ae(r,M),J=l.array.has(M),Y=sn(F);ft(i,M,Y),J?(m.array.next({name:M,values:sn(i)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&B.shouldDirty&&m.state.next({name:M,dirtyFields:Kc(s,i),isDirty:P(M,Y)})):te&&!te._f&&!Fn(Y)?oe(M,Y,B):W(M,Y,B),vT(M,l)&&m.state.next({...n,name:M}),m.state.next({name:o.mount?M:void 0,values:sn(i)})},ee=async M=>{o.mount=!0;const F=M.target;let B=F.name,te=!0;const J=ae(r,B),Y=Ye=>{te=Number.isNaN(Ye)||oa(Ye)&&isNaN(Ye.getTime())||Qs(Ye,ae(i,B,Ye))},X=pT(e.mode),ye=pT(e.reValidateMode);if(J){let Ye,Zt;const qn=F.type?mT(J._f):Nj(M),Gn=M.type===hm.BLUR||M.type===hm.FOCUS_OUT,Tr=!tq(J._f)&&!e.resolver&&!ae(n.errors,B)&&!J._f.deps||sq(Gn,ae(n.touchedFields,B),n.isSubmitted,ye,X),cn=vT(B,l,Gn);ft(i,B,qn),Gn?(J._f.onBlur&&J._f.onBlur(M),c&&c(0)):J._f.onChange&&J._f.onChange(M);const fn=k(B,qn,Gn),us=!Yn(fn)||cn;if(!Gn&&m.state.next({name:B,type:M.type,values:sn(i)}),Tr)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?Gn&&E():Gn||E()),us&&m.state.next({name:B,...cn?{}:fn});if(!Gn&&cn&&m.state.next({...n}),e.resolver){const{errors:Fr}=await I([B]);if(Y(qn),te){const Cc=yT(n.errors,r,B),Ti=yT(Fr,r,Cc.name||B);Ye=Ti.error,B=Ti.name,Zt=Yn(Fr)}}else x([B],!0),Ye=(await wT(J,l.disabled,i,g,e.shouldUseNativeValidation))[B],x([B]),Y(qn),te&&(Ye?Zt=!1:(h.isValid||f.isValid)&&(Zt=await N(r,!0)));te&&(J._f.deps&&$(J._f.deps),D(B,Zt,Ye,fn))}},U=(M,F)=>{if(ae(n.errors,F)&&M.focus)return M.focus(),1},$=async(M,F={})=>{let B,te;const J=Nu(M);if(e.resolver){const Y=await C(Kt(M)?M:J);B=Yn(Y),te=M?!J.some(X=>ae(Y,X)):B}else M?(te=(await Promise.all(J.map(async Y=>{const X=ae(r,Y);return await N(X&&X._f?{[Y]:X}:X)}))).every(Boolean),!(!te&&!n.isValid)&&E()):te=B=await N(r);return m.state.next({...!Ts(M)||(h.isValid||f.isValid)&&B!==n.isValid?{}:{name:M},...e.resolver||!M?{isValid:B}:{},errors:n.errors}),F.shouldFocus&&!te&&ku(r,U,M?J:l.mount),te},re=M=>{const F={...o.mount?i:s};return Kt(M)?F:Ts(M)?ae(F,M):M.map(B=>ae(F,B))},ge=(M,F)=>({invalid:!!ae((F||n).errors,M),isDirty:!!ae((F||n).dirtyFields,M),error:ae((F||n).errors,M),isValidating:!!ae(n.validatingFields,M),isTouched:!!ae((F||n).touchedFields,M)}),le=M=>{M&&Nu(M).forEach(F=>Jt(n.errors,F)),m.state.next({errors:M?n.errors:{}})},ue=(M,F,B)=>{const te=(ae(r,M,{_f:{}})._f||{}).ref,J=ae(n.errors,M)||{},{ref:Y,message:X,type:ye,...Ye}=J;ft(n.errors,M,{...Ye,...F,ref:te}),m.state.next({name:M,errors:n.errors,isValid:!1}),B&&B.shouldFocus&&te&&te.focus&&te.focus()},we=(M,F)=>Xr(M)?m.state.subscribe({next:B=>"values"in B&&M(O(void 0,F),B)}):O(M,F,!0),Fe=M=>m.state.subscribe({next:F=>{rq(M.name,F.name,M.exact)&&nq(F,M.formState||h,Ne,M.reRenderRoot)&&M.callback({values:{...i},...n,...F,defaultValues:s})}}).unsubscribe,dt=M=>(o.mount=!0,f={...f,...M.formState},Fe({...M,formState:f})),se=(M,F={})=>{for(const B of M?Nu(M):l.mount)l.mount.delete(B),l.array.delete(B),F.keepValue||(Jt(r,B),Jt(i,B)),!F.keepError&&Jt(n.errors,B),!F.keepDirty&&Jt(n.dirtyFields,B),!F.keepTouched&&Jt(n.touchedFields,B),!F.keepIsValidating&&Jt(n.validatingFields,B),!e.shouldUnregister&&!F.keepDefaultValue&&Jt(s,B);m.state.next({values:sn(i)}),m.state.next({...n,...F.keepDirty?{isDirty:P()}:{}}),!F.keepIsValid&&E()},ze=({disabled:M,name:F})=>{(dr(M)&&o.mount||M||l.disabled.has(F))&&(M?l.disabled.add(F):l.disabled.delete(F))},at=(M,F={})=>{let B=ae(r,M);const te=dr(F.disabled)||dr(e.disabled);return ft(r,M,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:M}},name:M,mount:!0,...F}}),l.mount.add(M),B?ze({disabled:dr(F.disabled)?F.disabled:e.disabled,name:M}):S(M,!0,F.value),{...te?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:Qc(F.min),max:Qc(F.max),minLength:Qc(F.minLength),maxLength:Qc(F.maxLength),pattern:Qc(F.pattern)}:{},name:M,onChange:ee,onBlur:ee,ref:J=>{if(J){at(M,F),B=ae(r,M);const Y=Kt(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,X=YH(Y),ye=B._f.refs||[];if(X?ye.find(Ye=>Ye===Y):Y===B._f.ref)return;ft(r,M,{_f:{...B._f,...X?{refs:[...ye.filter(Qg),Y,...Array.isArray(ae(s,M))?[{}]:[]],ref:{type:Y.type,name:M}}:{ref:Y}}}),S(M,!1,void 0,Y)}else B=ae(r,M,{}),B._f&&(B._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(kj(l.array,M)&&o.action)&&l.unMount.add(M)}}},Ae=()=>e.shouldFocusError&&ku(r,U,l.mount),Ie=M=>{dr(M)&&(m.state.next({disabled:M}),ku(r,(F,B)=>{const te=ae(r,B);te&&(F.disabled=te._f.disabled||M,Array.isArray(te._f.refs)&&te._f.refs.forEach(J=>{J.disabled=te._f.disabled||M}))},0,!1))},Re=(M,F)=>async B=>{let te;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let J=sn(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:X}=await I();n.errors=Y,J=sn(X)}else await N(r);if(l.disabled.size)for(const Y of l.disabled)Jt(J,Y);if(Jt(n.errors,"root"),Yn(n.errors)){m.state.next({errors:{}});try{await M(J,B)}catch(Y){te=Y}}else F&&await F({...n.errors},B),Ae(),setTimeout(Ae);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yn(n.errors)&&!te,submitCount:n.submitCount+1,errors:n.errors}),te)throw te},_t=(M,F={})=>{ae(r,M)&&(Kt(F.defaultValue)?Q(M,sn(ae(s,M))):(Q(M,F.defaultValue),ft(s,M,sn(F.defaultValue))),F.keepTouched||Jt(n.touchedFields,M),F.keepDirty||(Jt(n.dirtyFields,M),n.isDirty=F.defaultValue?P(M,sn(ae(s,M))):P()),F.keepError||(Jt(n.errors,M),h.isValid&&E()),m.state.next({...n}))},me=(M,F={})=>{const B=M?sn(M):s,te=sn(B),J=Yn(M),Y=J?s:te;if(F.keepDefaultValues||(s=B),!F.keepValues){if(F.keepDirtyValues){const X=new Set([...l.mount,...Object.keys(Kc(s,i))]);for(const ye of Array.from(X))ae(n.dirtyFields,ye)?ft(Y,ye,ae(i,ye)):Q(ye,ae(Y,ye))}else{if(j_&&Kt(M))for(const X of l.mount){const ye=ae(r,X);if(ye&&ye._f){const Ye=Array.isArray(ye._f.refs)?ye._f.refs[0]:ye._f.ref;if(fm(Ye)){const Zt=Ye.closest("form");if(Zt){Zt.reset();break}}}}if(F.keepFieldsRef)for(const X of l.mount)Q(X,ae(Y,X));else r={}}i=e.shouldUnregister?F.keepDefaultValues?sn(s):{}:sn(Y),m.array.next({values:{...Y}}),m.state.next({values:{...Y}})}l={mount:F.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!F.keepIsValid||!!F.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:J?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!Qs(M,s)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:F.keepDirtyValues?F.keepDefaultValues&&i?Kc(s,i):n.dirtyFields:F.keepDefaultValues&&M?Kc(s,M):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},L=(M,F)=>me(Xr(M)?M(i):M,F),Ee=(M,F={})=>{const B=ae(r,M),te=B&&B._f;if(te){const J=te.refs?te.refs[0]:te.ref;J.focus&&(J.focus(),F.shouldSelect&&Xr(J.select)&&J.select())}},Ne=M=>{n={...n,...M}},Qe={control:{register:at,unregister:se,getFieldState:ge,handleSubmit:Re,setError:ue,_subscribe:Fe,_runSchema:I,_focusError:Ae,_getWatch:O,_getDirty:P,_setValid:E,_setFieldArray:_,_setDisabledField:ze,_setErrors:y,_getFieldArray:A,_reset:me,_resetDefaultValues:()=>Xr(e.defaultValues)&&e.defaultValues().then(M=>{L(M,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:Ie,_subjects:m,_proxyFormState:h,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(M){o=M},get _defaultValues(){return s},get _names(){return l},set _names(M){l=M},get _formState(){return n},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:dt,trigger:$,register:at,handleSubmit:Re,watch:we,setValue:Q,getValues:re,reset:L,resetField:_t,clearErrors:le,unregister:se,setError:ue,setFocus:Ee,getFieldState:ge};return{...Qe,formControl:Qe}}function _T(t={}){const e=H.useRef(void 0),n=H.useRef(void 0),[r,s]=H.useState({isDirty:!1,isValidating:!1,isLoading:Xr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Xr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Xr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=lq(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,L_(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),H.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),H.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),H.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),H.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),H.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),H.useEffect(()=>{t.values&&!Qs(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),H.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Rj(r,i),e.current}const ET=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ae(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Uj=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?ET(r.ref,n,t):r.refs&&r.refs.forEach(s=>ET(s,n,t))}},cq=(t,e)=>{e.shouldUseNativeValidation&&Uj(t,e);const n={};for(const r in t){const s=ae(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(uq(e.names||Object.keys(t),r)){const o=Object.assign({},ae(n,r));ft(o,"root",i),ft(n,r,o)}else ft(n,r,i)}return n},uq=(t,e)=>t.some(n=>n.startsWith(e+"."));var dq=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=jj(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},bT=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&Uj({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:cq(dq(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},ut;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ut||(ut={}));var TT;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(TT||(TT={}));const ve=ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mi=t=>{switch(typeof t){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return Number.isNaN(t)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(t)?ve.array:t===null?ve.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ve.promise:typeof Map<"u"&&t instanceof Map?ve.map:typeof Set<"u"&&t instanceof Set?ve.set:typeof Date<"u"&&t instanceof Date?ve.date:ve.object;default:return ve.unknown}},ne=ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class pi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(e){if(!(e instanceof pi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}pi.create=t=>new pi(t);const zy=(t,e)=>{let n;switch(t.code){case ne.invalid_type:t.received===ve.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ne.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ut.jsonStringifyReplacer)}`;break;case ne.unrecognized_keys:n=`Unrecognized key(s) in object: ${ut.joinValues(t.keys,", ")}`;break;case ne.invalid_union:n="Invalid input";break;case ne.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ut.joinValues(t.options)}`;break;case ne.invalid_enum_value:n=`Invalid enum value. Expected ${ut.joinValues(t.options)}, received '${t.received}'`;break;case ne.invalid_arguments:n="Invalid function arguments";break;case ne.invalid_return_type:n="Invalid function return type";break;case ne.invalid_date:n="Invalid date";break;case ne.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ut.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ne.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ne.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ne.custom:n="Invalid input";break;case ne.invalid_intersection_types:n="Intersection results could not be merged";break;case ne.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ne.not_finite:n="Number must be finite";break;default:n=e.defaultError,ut.assertNever(t)}return{message:n}};let hq=zy;function fq(){return hq}const mq=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function he(t,e){const n=fq(),r=mq({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===zy?void 0:zy].filter(s=>!!s)});t.common.issues.push(r)}class wr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Oe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return wr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Oe;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Oe=Object.freeze({status:"aborted"}),au=t=>({status:"dirty",value:t}),Vr=t=>({status:"valid",value:t}),ST=t=>t.status==="aborted",CT=t=>t.status==="dirty",sc=t=>t.status==="valid",gm=t=>typeof Promise<"u"&&t instanceof Promise;var xe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(xe||(xe={}));class jo{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const IT=(t,e)=>{if(sc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new pi(t.common.issues);return this._error=n,this._error}}};function Ge(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class ot{get description(){return this._def.description}_getType(e){return Mi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Mi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new wr,ctx:{common:e.parent.common,data:e.data,parsedType:Mi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(gm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mi(e)},s=this._parseSync({data:e,path:r.path,parent:r});return IT(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mi(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return sc(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>sc(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Mi(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(gm(s)?s:Promise.resolve(s));return IT(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),l=()=>i.addIssue({code:ne.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new oc({schema:this,typeName:Me.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return yo.create(this,this._def)}nullable(){return ac.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return js.create(this)}promise(){return wm.create(this,this._def)}or(e){return ym.create([this,e],this._def)}and(e){return xm.create(this,e,this._def)}transform(e){return new oc({...Ge(this._def),schema:this,typeName:Me.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Hy({...Ge(this._def),innerType:this,defaultValue:n,typeName:Me.ZodDefault})}brand(){return new Lq({typeName:Me.ZodBranded,type:this,...Ge(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new qy({...Ge(this._def),innerType:this,catchValue:n,typeName:Me.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return U_.create(this,e)}readonly(){return Gy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const pq=/^c[^\s-]{8,}$/i,gq=/^[0-9a-z]+$/,vq=/^[0-9A-HJKMNP-TV-Z]{26}$/i,yq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xq=/^[a-z0-9_-]{21}$/i,wq=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_q=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Eq=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bq="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Yg;const Tq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Sq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Cq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Iq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Nq=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kq=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,$j="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Aq=new RegExp(`^${$j}$`);function Bj(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Rq(t){return new RegExp(`^${Bj(t)}$`)}function Pq(t){let e=`${$j}T${Bj(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function jq(t,e){return!!((e==="v4"||!e)&&Tq.test(t)||(e==="v6"||!e)&&Cq.test(t))}function Dq(t,e){if(!wq.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Oq(t,e){return!!((e==="v4"||!e)&&Sq.test(t)||(e==="v6"||!e)&&Iq.test(t))}class Xi extends ot{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ve.string){const i=this._getOrReturnCtx(e);return he(i,{code:ne.invalid_type,expected:ve.string,received:i.parsedType}),Oe}const r=new wr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?he(s,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&he(s,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Eq.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"email",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Yg||(Yg=new RegExp(bq,"u")),Yg.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"emoji",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")yq.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"uuid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")xq.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"nanoid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")pq.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"cuid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")gq.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"cuid2",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")vq.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"ulid",code:ne.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),he(s,{validation:"url",code:ne.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"regex",code:ne.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),he(s,{code:ne.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),he(s,{code:ne.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),he(s,{code:ne.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Pq(i).test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{code:ne.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Aq.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{code:ne.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Rq(i).test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{code:ne.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?_q.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"duration",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?jq(e.data,i.version)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"ip",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Dq(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"jwt",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Oq(e.data,i.version)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"cidr",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Nq.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"base64",code:ne.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?kq.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"base64url",code:ne.invalid_string,message:i.message}),r.dirty()):ut.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:ne.invalid_string,...xe.errToObj(r)})}_addCheck(e){return new Xi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...xe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...xe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...xe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...xe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...xe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...xe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...xe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...xe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...xe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...xe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...xe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...xe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...xe.errToObj(n)})}nonempty(e){return this.min(1,xe.errToObj(e))}trim(){return new Xi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Xi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Xi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Xi.create=t=>new Xi({checks:[],typeName:Me.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ge(t)});function Mq(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class ld extends ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ve.number){const i=this._getOrReturnCtx(e);return he(i,{code:ne.invalid_type,expected:ve.number,received:i.parsedType}),Oe}let r;const s=new wr;for(const i of this._def.checks)i.kind==="int"?ut.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:ne.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:ne.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:ne.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Mq(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),he(r,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),he(r,{code:ne.not_finite,message:i.message}),s.dirty()):ut.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,s){return new ld({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(s)}]})}_addCheck(e){return new ld({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ut.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ld.create=t=>new ld({checks:[],typeName:Me.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ge(t)});class cd extends ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ve.bigint)return this._getInvalidInput(e);let r;const s=new wr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:ne.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),he(r,{code:ne.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),he(r,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ut.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return he(n,{code:ne.invalid_type,expected:ve.bigint,received:n.parsedType}),Oe}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,s){return new cd({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(s)}]})}_addCheck(e){return new cd({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}cd.create=t=>new cd({checks:[],typeName:Me.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ge(t)});class NT extends ot{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ve.boolean){const r=this._getOrReturnCtx(e);return he(r,{code:ne.invalid_type,expected:ve.boolean,received:r.parsedType}),Oe}return Vr(e.data)}}NT.create=t=>new NT({typeName:Me.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ge(t)});class vm extends ot{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ve.date){const i=this._getOrReturnCtx(e);return he(i,{code:ne.invalid_type,expected:ve.date,received:i.parsedType}),Oe}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return he(i,{code:ne.invalid_date}),Oe}const r=new wr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:ne.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:ne.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ut.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new vm({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:xe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:xe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}vm.create=t=>new vm({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Me.ZodDate,...Ge(t)});class kT extends ot{_parse(e){if(this._getType(e)!==ve.symbol){const r=this._getOrReturnCtx(e);return he(r,{code:ne.invalid_type,expected:ve.symbol,received:r.parsedType}),Oe}return Vr(e.data)}}kT.create=t=>new kT({typeName:Me.ZodSymbol,...Ge(t)});class AT extends ot{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:ne.invalid_type,expected:ve.undefined,received:r.parsedType}),Oe}return Vr(e.data)}}AT.create=t=>new AT({typeName:Me.ZodUndefined,...Ge(t)});class RT extends ot{_parse(e){if(this._getType(e)!==ve.null){const r=this._getOrReturnCtx(e);return he(r,{code:ne.invalid_type,expected:ve.null,received:r.parsedType}),Oe}return Vr(e.data)}}RT.create=t=>new RT({typeName:Me.ZodNull,...Ge(t)});class PT extends ot{constructor(){super(...arguments),this._any=!0}_parse(e){return Vr(e.data)}}PT.create=t=>new PT({typeName:Me.ZodAny,...Ge(t)});class jT extends ot{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Vr(e.data)}}jT.create=t=>new jT({typeName:Me.ZodUnknown,...Ge(t)});class Do extends ot{_parse(e){const n=this._getOrReturnCtx(e);return he(n,{code:ne.invalid_type,expected:ve.never,received:n.parsedType}),Oe}}Do.create=t=>new Do({typeName:Me.ZodNever,...Ge(t)});class DT extends ot{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return he(r,{code:ne.invalid_type,expected:ve.void,received:r.parsedType}),Oe}return Vr(e.data)}}DT.create=t=>new DT({typeName:Me.ZodVoid,...Ge(t)});class js extends ot{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ve.array)return he(n,{code:ne.invalid_type,expected:ve.array,received:n.parsedType}),Oe;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(he(n,{code:o?ne.too_big:ne.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(he(n,{code:ne.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(he(n,{code:ne.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new jo(n,o,n.path,l)))).then(o=>wr.mergeArray(r,o));const i=[...n.data].map((o,l)=>s.type._parseSync(new jo(n,o,n.path,l)));return wr.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new js({...this._def,minLength:{value:e,message:xe.toString(n)}})}max(e,n){return new js({...this._def,maxLength:{value:e,message:xe.toString(n)}})}length(e,n){return new js({...this._def,exactLength:{value:e,message:xe.toString(n)}})}nonempty(e){return this.min(1,e)}}js.create=(t,e)=>new js({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Me.ZodArray,...Ge(e)});function nl(t){if(t instanceof Ht){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=yo.create(nl(r))}return new Ht({...t._def,shape:()=>e})}else return t instanceof js?new js({...t._def,type:nl(t.element)}):t instanceof yo?yo.create(nl(t.unwrap())):t instanceof ac?ac.create(nl(t.unwrap())):t instanceof Pa?Pa.create(t.items.map(e=>nl(e))):t}class Ht extends ot{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ut.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ve.object){const u=this._getOrReturnCtx(e);return he(u,{code:ne.invalid_type,expected:ve.object,received:u.parsedType}),Oe}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Do&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const h=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new jo(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Do){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(u==="strict")l.length>0&&(he(s,{code:ne.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const f=s.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new jo(s,f,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const f=await h.key,m=await h.value;u.push({key:f,value:m,alwaysSet:h.alwaysSet})}return u}).then(u=>wr.mergeObjectSync(r,u)):wr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return xe.errToObj,new Ht({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:xe.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Ht({...this._def,unknownKeys:"strip"})}passthrough(){return new Ht({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ht({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ht({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Me.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ht({...this._def,catchall:e})}pick(e){const n={};for(const r of ut.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Ht({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ut.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Ht({...this._def,shape:()=>n})}deepPartial(){return nl(this)}partial(e){const n={};for(const r of ut.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new Ht({...this._def,shape:()=>n})}required(e){const n={};for(const r of ut.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof yo;)i=i._def.innerType;n[r]=i}return new Ht({...this._def,shape:()=>n})}keyof(){return zj(ut.objectKeys(this.shape))}}Ht.create=(t,e)=>new Ht({shape:()=>t,unknownKeys:"strip",catchall:Do.create(),typeName:Me.ZodObject,...Ge(e)});Ht.strictCreate=(t,e)=>new Ht({shape:()=>t,unknownKeys:"strict",catchall:Do.create(),typeName:Me.ZodObject,...Ge(e)});Ht.lazycreate=(t,e)=>new Ht({shape:t,unknownKeys:"strip",catchall:Do.create(),typeName:Me.ZodObject,...Ge(e)});class ym extends ot{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new pi(l.ctx.common.issues));return he(n,{code:ne.invalid_union,unionErrors:o}),Oe}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new pi(c));return he(n,{code:ne.invalid_union,unionErrors:l}),Oe}}get options(){return this._def.options}}ym.create=(t,e)=>new ym({options:t,typeName:Me.ZodUnion,...Ge(e)});function Wy(t,e){const n=Mi(t),r=Mi(e);if(t===e)return{valid:!0,data:t};if(n===ve.object&&r===ve.object){const s=ut.objectKeys(e),i=ut.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=Wy(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===ve.array&&r===ve.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=Wy(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===ve.date&&r===ve.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class xm extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(ST(i)||ST(o))return Oe;const l=Wy(i.value,o.value);return l.valid?((CT(i)||CT(o))&&n.dirty(),{status:n.value,value:l.data}):(he(r,{code:ne.invalid_intersection_types}),Oe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}xm.create=(t,e,n)=>new xm({left:t,right:e,typeName:Me.ZodIntersection,...Ge(n)});class Pa extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.array)return he(r,{code:ne.invalid_type,expected:ve.array,received:r.parsedType}),Oe;if(r.data.length<this._def.items.length)return he(r,{code:ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Oe;!this._def.rest&&r.data.length>this._def.items.length&&(he(r,{code:ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new jo(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>wr.mergeArray(n,o)):wr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Pa({...this._def,rest:e})}}Pa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Pa({items:t,typeName:Me.ZodTuple,rest:null,...Ge(e)})};class OT extends ot{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.map)return he(r,{code:ne.invalid_type,expected:ve.map,received:r.parsedType}),Oe;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new jo(r,l,r.path,[u,"key"])),value:i._parse(new jo(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return Oe;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return Oe;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}}}}OT.create=(t,e,n)=>new OT({valueType:e,keyType:t,typeName:Me.ZodMap,...Ge(n)});class ud extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.set)return he(r,{code:ne.invalid_type,expected:ve.set,received:r.parsedType}),Oe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(he(r,{code:ne.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(he(r,{code:ne.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const h of c){if(h.status==="aborted")return Oe;h.status==="dirty"&&n.dirty(),u.add(h.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new jo(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new ud({...this._def,minSize:{value:e,message:xe.toString(n)}})}max(e,n){return new ud({...this._def,maxSize:{value:e,message:xe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ud.create=(t,e)=>new ud({valueType:t,minSize:null,maxSize:null,typeName:Me.ZodSet,...Ge(e)});class MT extends ot{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}MT.create=(t,e)=>new MT({getter:t,typeName:Me.ZodLazy,...Ge(e)});class LT extends ot{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return he(n,{received:n.data,code:ne.invalid_literal,expected:this._def.value}),Oe}return{status:"valid",value:e.data}}get value(){return this._def.value}}LT.create=(t,e)=>new LT({value:t,typeName:Me.ZodLiteral,...Ge(e)});function zj(t,e){return new ic({values:t,typeName:Me.ZodEnum,...Ge(e)})}class ic extends ot{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return he(n,{expected:ut.joinValues(r),received:n.parsedType,code:ne.invalid_type}),Oe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return he(n,{received:n.data,code:ne.invalid_enum_value,options:r}),Oe}return Vr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ic.create(e,{...this._def,...n})}exclude(e,n=this._def){return ic.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ic.create=zj;class VT extends ot{_parse(e){const n=ut.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ve.string&&r.parsedType!==ve.number){const s=ut.objectValues(n);return he(r,{expected:ut.joinValues(s),received:r.parsedType,code:ne.invalid_type}),Oe}if(this._cache||(this._cache=new Set(ut.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ut.objectValues(n);return he(r,{received:r.data,code:ne.invalid_enum_value,options:s}),Oe}return Vr(e.data)}get enum(){return this._def.values}}VT.create=(t,e)=>new VT({values:t,typeName:Me.ZodNativeEnum,...Ge(e)});class wm extends ot{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.promise&&n.common.async===!1)return he(n,{code:ne.invalid_type,expected:ve.promise,received:n.parsedType}),Oe;const r=n.parsedType===ve.promise?n.data:Promise.resolve(n.data);return Vr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}wm.create=(t,e)=>new wm({type:t,typeName:Me.ZodPromise,...Ge(e)});class oc extends ot{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{he(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Oe;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Oe:c.status==="dirty"||n.value==="dirty"?au(c.value):c});{if(n.value==="aborted")return Oe;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Oe:l.status==="dirty"||n.value==="dirty"?au(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Oe:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Oe:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!sc(o))return Oe;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>sc(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:n.value,value:l})):Oe);ut.assertNever(s)}}oc.create=(t,e,n)=>new oc({schema:t,typeName:Me.ZodEffects,effect:e,...Ge(n)});oc.createWithPreprocess=(t,e,n)=>new oc({schema:e,effect:{type:"preprocess",transform:t},typeName:Me.ZodEffects,...Ge(n)});class yo extends ot{_parse(e){return this._getType(e)===ve.undefined?Vr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yo.create=(t,e)=>new yo({innerType:t,typeName:Me.ZodOptional,...Ge(e)});class ac extends ot{_parse(e){return this._getType(e)===ve.null?Vr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ac.create=(t,e)=>new ac({innerType:t,typeName:Me.ZodNullable,...Ge(e)});class Hy extends ot{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ve.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Hy.create=(t,e)=>new Hy({innerType:t,typeName:Me.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ge(e)});class qy extends ot{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return gm(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new pi(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new pi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}qy.create=(t,e)=>new qy({innerType:t,typeName:Me.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ge(e)});class FT extends ot{_parse(e){if(this._getType(e)!==ve.nan){const r=this._getOrReturnCtx(e);return he(r,{code:ne.invalid_type,expected:ve.nan,received:r.parsedType}),Oe}return{status:"valid",value:e.data}}}FT.create=t=>new FT({typeName:Me.ZodNaN,...Ge(t)});class Lq extends ot{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class U_ extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Oe:i.status==="dirty"?(n.dirty(),au(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Oe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new U_({in:e,out:n,typeName:Me.ZodPipeline})}}class Gy extends ot{_parse(e){const n=this._def.innerType._parse(e),r=s=>(sc(s)&&(s.value=Object.freeze(s.value)),s);return gm(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Gy.create=(t,e)=>new Gy({innerType:t,typeName:Me.ZodReadonly,...Ge(e)});Ht.lazycreate;var Me;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Me||(Me={}));const kl=Xi.create;Do.create;js.create;const Wj=Ht.create;Ht.strictCreate;ym.create;xm.create;Pa.create;const Vq=ic.create;wm.create;yo.create;ac.create;const Fq=Wj({name:kl().min(1,"Name is required"),phone:kl().min(10,"Phone number must be at least 10 digits"),gender:Vq(["male","female","other"],{required_error:"Please select a gender"}),department:kl().min(1,"Department is required")}),Uq=Wj({currentPassword:kl().min(1,"Current password is required"),newPassword:kl().min(6,"New password must be at least 6 characters"),confirmPassword:kl().min(6,"Please confirm your new password")}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),$q=()=>{const{user:t}=Lr(),{toast:e}=br(),[n,r]=p.useState(!0),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),h=_T({resolver:bT(Fq)}),f=_T({resolver:bT(Uq)});p.useEffect(()=>{if(t){m();const E=t.providerData.some(x=>x.providerId==="password");u(E)}},[t]);const m=async()=>{try{const E=await Na(gt(Be,"profiles",t.uid));if(E.exists()){const x=E.data();h.reset({name:x.name||"",phone:x.phone||"",gender:x.gender||"",department:x.department||""})}}catch(E){console.error("Error fetching profile:",E),e({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{r(!1)}},g=async E=>{if(t){i(!0);try{await Ei(gt(Be,"profiles",t.uid),{...E,updated_at:Xe()}),e({title:"Success",description:"Profile updated successfully"})}catch(x){console.error("Error updating profile:",x),e({title:"Error",description:"Failed to update profile",variant:"destructive"})}finally{i(!1)}}},b=async E=>{if(!(!t||!t.email)){l(!0);try{const x=La.credential(t.email,E.currentPassword);await DU(t,x),await FU(t,E.newPassword),e({title:"Success",description:"Password changed successfully"}),f.reset()}catch(x){console.error("Error changing password:",x);let _="Failed to change password";x.code==="auth/wrong-password"?_="Current password is incorrect":x.code==="auth/weak-password"&&(_="New password is too weak"),e({title:"Error",description:_,variant:"destructive"})}finally{l(!1)}}};return n?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(ir,{className:"h-8 w-8 animate-spin"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Profile Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(je,{children:[a.jsxs(nt,{children:[a.jsx(rt,{children:"Profile Information"}),a.jsx(as,{children:"Update your personal details"})]}),a.jsx(De,{children:a.jsxs("form",{onSubmit:h.handleSubmit(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"name",children:"Full Name"}),a.jsx(vt,{id:"name",...h.register("name"),placeholder:"Enter your full name"}),h.formState.errors.name&&a.jsx("p",{className:"text-sm text-red-500",children:h.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"phone",children:"Mobile Number"}),a.jsx(vt,{id:"phone",...h.register("phone"),placeholder:"Enter your mobile number"}),h.formState.errors.phone&&a.jsx("p",{className:"text-sm text-red-500",children:h.formState.errors.phone.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"gender",children:"Gender"}),a.jsx(QH,{name:"gender",control:h.control,render:({field:E})=>a.jsxs(Lt,{value:E.value,onValueChange:E.onChange,children:[a.jsx(Pt,{children:a.jsx(Vt,{placeholder:"Select gender"})}),a.jsxs(jt,{children:[a.jsx(qe,{value:"male",children:"Male"}),a.jsx(qe,{value:"female",children:"Female"}),a.jsx(qe,{value:"other",children:"Other"})]})]})}),h.formState.errors.gender&&a.jsx("p",{className:"text-sm text-red-500",children:h.formState.errors.gender.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"department",children:"Department"}),a.jsx(vt,{id:"department",...h.register("department"),placeholder:"Enter your department"}),h.formState.errors.department&&a.jsx("p",{className:"text-sm text-red-500",children:h.formState.errors.department.message})]}),a.jsxs(Te,{type:"submit",disabled:s,children:[s&&a.jsx(ir,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Profile"]})]})})]}),a.jsxs(je,{children:[a.jsxs(nt,{children:[a.jsx(rt,{children:"Change Password"}),a.jsx(as,{children:"Update your account password"})]}),a.jsx(De,{children:a.jsxs("form",{onSubmit:f.handleSubmit(b),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"currentPassword",children:"Current Password"}),a.jsx(vt,{id:"currentPassword",type:"password",...f.register("currentPassword"),placeholder:"Enter current password"}),f.formState.errors.currentPassword&&a.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.currentPassword.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"newPassword",children:"New Password"}),a.jsx(vt,{id:"newPassword",type:"password",...f.register("newPassword"),placeholder:"Enter new password"}),f.formState.errors.newPassword&&a.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.newPassword.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Je,{htmlFor:"confirmPassword",children:"Confirm New Password"}),a.jsx(vt,{id:"confirmPassword",type:"password",...f.register("confirmPassword"),placeholder:"Confirm new password"}),f.formState.errors.confirmPassword&&a.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.confirmPassword.message})]}),a.jsxs(Te,{type:"submit",disabled:o,children:[o&&a.jsx(ir,{className:"mr-2 h-4 w-4 animate-spin"}),"Change Password"]})]})})]})]})]})},Bq=Ma("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),_s=p.forwardRef(({className:t,variant:e,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:de(Bq({variant:e}),t),...n}));_s.displayName="Alert";const zq=p.forwardRef(({className:t,...e},n)=>a.jsx("h5",{ref:n,className:de("mb-1 font-medium leading-none tracking-tight",t),...e}));zq.displayName="AlertTitle";const Es=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:de("text-sm [&_p]:leading-relaxed",t),...e}));Es.displayName="AlertDescription";const Wq=()=>{const{user:t}=Lr(),{toast:e}=br(),[n,r]=p.useState([]),[s,i]=p.useState(""),[o,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState(!1),[m,g]=p.useState(!1);p.useEffect(()=>{(async()=>{f(!0);try{const y=await cs();console.log("Fetched tournaments:",y);const S=y.filter(k=>k.is_active);console.log("Available tournaments:",S),r(S),S.length===0&&e({title:"No Tournaments",description:"No active tournaments found. Please ensure tournaments are created in admin panel."})}catch(y){console.error("Error loading tournaments:",y),e({title:"Error",description:"Failed to load tournaments",variant:"destructive"})}finally{f(!1)}})()},[e]),p.useEffect(()=>{if(!s||!t){l([]),u([]);return}(async()=>{g(!0);try{const[y,S]=await Promise.all([bi(s),vo({tournamentId:s})]);console.log("Fetched games for tournament:",s,y),l(y),console.log("User registrations:",S);const k=S.filter(D=>D.user_id===t.uid);console.log("User's registrations:",k),u(k),y.length===0&&e({title:"No Games",description:"No games found in this tournament. Please ensure games are created in admin panel."})}catch(y){console.error("Error loading games:",y),e({title:"Error",description:"Failed to load games",variant:"destructive"})}finally{g(!1)}})()},[s,t,e]);const b=v=>c.find(y=>y.game_id===v),E=async v=>{if(!(!t||!s))try{await AH({tournament_id:s,game_id:v,user_id:t.uid}),e({title:"Registration Submitted",description:"Your registration has been submitted for admin approval."});const S=(await vo({tournamentId:s})).filter(k=>k.user_id===t.uid);u(S)}catch(y){console.error("Error registering:",y),e({title:"Registration Failed",description:y.message||"Failed to submit registration",variant:"destructive"})}},x=v=>{switch(v){case"SINGLE":return"Single Player";case"PAIR":return"Pair (2 Players)";case"TEAM":return"Team";default:return v}},_=n.find(v=>v.id===s);return h?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(ir,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Register for Games"}),a.jsx("p",{className:"text-muted-foreground",children:"Browse available tournaments and register for games"})]}),a.jsxs(je,{children:[a.jsxs(nt,{children:[a.jsx(rt,{children:"Select Tournament"}),a.jsx(as,{children:"Choose a tournament to view available games"})]}),a.jsx(De,{children:n.length===0?a.jsx(_s,{children:a.jsx(Es,{children:"No active tournaments available at the moment. Please check back later."})}):a.jsxs(Lt,{value:s,onValueChange:i,children:[a.jsx(Pt,{className:"w-full",children:a.jsx(Vt,{placeholder:"Select a tournament"})}),a.jsx(jt,{children:n.map(v=>a.jsx(qe,{value:v.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zn,{className:"h-4 w-4"}),a.jsx("span",{children:v.name}),a.jsx(yr,{variant:"outline",className:"ml-2",children:v.status})]})},v.id))})]})})]}),_&&a.jsxs(je,{className:"border-primary/20 bg-primary/5",children:[a.jsx(nt,{children:a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(zn,{className:"h-5 w-5"}),_.name]})}),a.jsxs(De,{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Eo,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Start Date:"}),a.jsx("span",{className:"font-medium",children:_.start_date?new Date(_.start_date).toLocaleDateString():"TBA"})]}),_.end_date&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Eo,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"End Date:"}),a.jsx("span",{className:"font-medium",children:new Date(_.end_date).toLocaleDateString()})]})]})]}),s&&a.jsxs(je,{children:[a.jsxs(nt,{children:[a.jsx(rt,{children:"Available Games"}),a.jsxs(as,{children:[o.length," game",o.length!==1?"s":""," available for registration"]})]}),a.jsx(De,{children:m?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(ir,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):o.length===0?a.jsx(_s,{children:a.jsx(Es,{children:"No active games available in this tournament yet."})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:o.map(v=>{const y=b(v.id),S=!!y,k=(y==null?void 0:y.status)==="pending",D=(y==null?void 0:y.status)==="approved",I=(y==null?void 0:y.status)==="rejected";return a.jsxs(je,{className:"relative overflow-hidden",children:[a.jsx(nt,{children:a.jsxs(rt,{className:"text-lg flex items-start justify-between",children:[a.jsx("span",{children:v.name}),D&&a.jsx(Kx,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),k&&a.jsx(Qx,{className:"h-5 w-5 text-yellow-500 flex-shrink-0"}),I&&a.jsx(UI,{className:"h-5 w-5 text-red-500 flex-shrink-0"})]})}),a.jsxs(De,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(bo,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Type:"}),a.jsx(yr,{variant:"secondary",children:x(v.game_type)})]}),v.game_type!=="SINGLE"&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(bo,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Players per team:"}),a.jsx("span",{className:"font-medium",children:v.players_per_team})]})]}),S&&a.jsx("div",{className:"pt-2",children:a.jsxs(yr,{variant:D?"default":k?"secondary":"destructive",className:"w-full justify-center py-2",children:[D&&" Approved",k&&" Pending Approval",I&&" Rejected"]})}),!S&&a.jsx(Te,{className:"w-full",onClick:()=>E(v.id),children:"Register Now"}),I&&a.jsx(Te,{className:"w-full",variant:"outline",onClick:()=>E(v.id),children:"Register Again"})]})]},v.id)})})})]}),!s&&n.length>0&&a.jsx(_s,{children:a.jsx(Es,{children:"Please select a tournament above to view available games."})})]})};var Xg="rovingFocusGroup.onEntryFocus",Hq={bubbles:!1,cancelable:!0},Fd="RovingFocusGroup",[Ky,Hj,qq]=Wx(Fd),[Gq,qj]=vi(Fd,[qq]),[Kq,Qq]=Gq(Fd),Gj=p.forwardRef((t,e)=>a.jsx(Ky.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Ky.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Yq,{...t,ref:e})})}));Gj.displayName=Fd;var Yq=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=t,m=p.useRef(null),g=yt(e,m),b=y_(i),[E,x]=_o({prop:o,defaultProp:l??null,onChange:c,caller:Fd}),[_,v]=p.useState(!1),y=Dr(u),S=Hj(n),k=p.useRef(!1),[D,I]=p.useState(0);return p.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(Xg,y),()=>C.removeEventListener(Xg,y)},[y]),a.jsx(Kq,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:E,onItemFocus:p.useCallback(C=>x(C),[x]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>I(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>I(C=>C-1),[]),children:a.jsx(Ve.div,{tabIndex:_||D===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:be(t.onMouseDown,()=>{k.current=!0}),onFocus:be(t.onFocus,C=>{const N=!k.current;if(C.target===C.currentTarget&&N&&!_){const R=new CustomEvent(Xg,Hq);if(C.currentTarget.dispatchEvent(R),!R.defaultPrevented){const P=S().filter(Q=>Q.focusable),O=P.find(Q=>Q.active),A=P.find(Q=>Q.id===E),oe=[O,A,...P].filter(Boolean).map(Q=>Q.ref.current);Yj(oe,h)}}k.current=!1}),onBlur:be(t.onBlur,()=>v(!1))})})}),Kj="RovingFocusGroupItem",Qj=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=t,c=ti(),u=i||c,h=Qq(Kj,n),f=h.currentTabStopId===u,m=Hj(n),{onFocusableItemAdd:g,onFocusableItemRemove:b,currentTabStopId:E}=h;return p.useEffect(()=>{if(r)return g(),()=>b()},[r,g,b]),a.jsx(Ky.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(Ve.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:be(t.onMouseDown,x=>{r?h.onItemFocus(u):x.preventDefault()}),onFocus:be(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:be(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const _=Jq(x,h.orientation,h.dir);if(_!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=m().filter(S=>S.focusable).map(S=>S.ref.current);if(_==="last")y.reverse();else if(_==="prev"||_==="next"){_==="prev"&&y.reverse();const S=y.indexOf(x.currentTarget);y=h.loop?eG(y,S+1):y.slice(S+1)}setTimeout(()=>Yj(y))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:E!=null}):o})})});Qj.displayName=Kj;var Xq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Zq(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Jq(t,e,n){const r=Zq(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Xq[r]}function Yj(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function eG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var tG=Gj,nG=Qj,Dp="Tabs",[rG,CG]=vi(Dp,[qj]),Xj=qj(),[sG,$_]=rG(Dp),Zj=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=y_(l),[f,m]=_o({prop:r,onChange:s,defaultProp:i??"",caller:Dp});return a.jsx(sG,{scope:n,baseId:ti(),value:f,onValueChange:m,orientation:o,dir:h,activationMode:c,children:a.jsx(Ve.div,{dir:h,"data-orientation":o,...u,ref:e})})});Zj.displayName=Dp;var Jj="TabsList",e2=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=$_(Jj,n),o=Xj(n);return a.jsx(tG,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(Ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});e2.displayName=Jj;var t2="TabsTrigger",n2=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=$_(t2,n),l=Xj(n),c=i2(o.baseId,r),u=o2(o.baseId,r),h=r===o.value;return a.jsx(nG,{asChild:!0,...l,focusable:!s,active:h,children:a.jsx(Ve.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:be(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:be(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:be(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});n2.displayName=t2;var r2="TabsContent",s2=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,l=$_(r2,n),c=i2(l.baseId,r),u=o2(l.baseId,r),h=r===l.value,f=p.useRef(h);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(Vo,{present:s||h,children:({present:m})=>a.jsx(Ve.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});s2.displayName=r2;function i2(t,e){return`${t}-trigger-${e}`}function o2(t,e){return`${t}-content-${e}`}var iG=Zj,a2=e2,l2=n2,c2=s2;const oG=iG,u2=p.forwardRef(({className:t,...e},n)=>a.jsx(a2,{ref:n,className:de("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));u2.displayName=a2.displayName;const lu=p.forwardRef(({className:t,...e},n)=>a.jsx(l2,{ref:n,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));lu.displayName=l2.displayName;const cu=p.forwardRef(({className:t,...e},n)=>a.jsx(c2,{ref:n,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));cu.displayName=c2.displayName;const aG=()=>{const{user:t}=Lr(),{toast:e}=br(),[n,r]=p.useState([]),[s,i]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState(!0);p.useEffect(()=>{(async()=>{if(t){u(!0);try{const[v,y,S]=await Promise.all([vo({}),bi(),cs()]),k=v.filter(D=>D.user_id===t.uid);r(k),i(y),l(S)}catch(v){console.error("Error loading data:",v),e({title:"Error",description:"Failed to load your games",variant:"destructive"})}finally{u(!1)}}})()},[t,e]);const h=_=>s.find(v=>v.id===_),f=_=>o.find(v=>v.id===_),m=_=>{switch(_){case"SINGLE":return"Single Player";case"PAIR":return"Pair (2 Players)";case"TEAM":return"Team";default:return _}},g=n.filter(_=>_.status==="pending"),b=n.filter(_=>_.status==="approved"),E=n.filter(_=>_.status==="rejected"),x=({registration:_})=>{var S,k;const v=h(_.game_id),y=f(_.tournament_id);return!v||!y?null:a.jsxs(je,{children:[a.jsx(nt,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(rt,{className:"text-lg",children:v.name}),a.jsxs(as,{className:"flex items-center gap-2",children:[a.jsx(zn,{className:"h-4 w-4"}),y.name]})]}),a.jsx("div",{className:"flex flex-col items-end gap-2",children:a.jsxs(yr,{variant:_.status==="approved"?"default":_.status==="pending"?"secondary":"destructive",children:[_.status==="approved"&&a.jsx(Kx,{className:"h-3 w-3 mr-1"}),_.status==="pending"&&a.jsx(Qx,{className:"h-3 w-3 mr-1"}),_.status==="rejected"&&a.jsx(UI,{className:"h-3 w-3 mr-1"}),_.status]})})]})}),a.jsxs(De,{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bo,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Type:"})]}),a.jsx(yr,{variant:"outline",children:m(v.game_type)}),y.start_date&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Eo,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Start:"})]}),a.jsx("span",{className:"font-medium",children:new Date(y.start_date).toLocaleDateString()})]})]}),_.notes&&a.jsx("div",{className:"pt-3 border-t",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("span",{className:"font-medium",children:"Note:"})," ",_.notes]})}),a.jsxs("div",{className:"pt-2 text-xs text-muted-foreground",children:["Registered on ",_.created_at?new Date(((k=(S=_.created_at).toDate)==null?void 0:k.call(S))||_.created_at).toLocaleDateString():"N/A"]})]})]})};return c?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(ir,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Games"}),a.jsx("p",{className:"text-muted-foreground",children:"View and manage your game registrations"})]}),n.length===0?a.jsx(je,{children:a.jsx(De,{className:"pt-6",children:a.jsx(_s,{children:a.jsxs(Es,{className:"text-center",children:["You haven't registered for any games yet. Visit the ",a.jsx("strong",{children:"Register for Games"})," page to get started!"]})})})}):a.jsxs(oG,{defaultValue:"all",className:"space-y-4",children:[a.jsxs(u2,{className:"grid w-full grid-cols-4 max-w-md",children:[a.jsxs(lu,{value:"all",children:["All (",n.length,")"]}),a.jsxs(lu,{value:"pending",children:["Pending (",g.length,")"]}),a.jsxs(lu,{value:"approved",children:["Approved (",b.length,")"]}),a.jsxs(lu,{value:"rejected",children:["Rejected (",E.length,")"]})]}),a.jsx(cu,{value:"all",className:"space-y-4",children:n.length===0?a.jsx(_s,{children:a.jsx(Es,{children:"No registrations found."})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(_=>a.jsx(x,{registration:_},_.id))})}),a.jsx(cu,{value:"pending",className:"space-y-4",children:g.length===0?a.jsx(_s,{children:a.jsx(Es,{children:"No pending registrations. All your registrations have been processed."})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:g.map(_=>a.jsx(x,{registration:_},_.id))})}),a.jsx(cu,{value:"approved",className:"space-y-4",children:b.length===0?a.jsx(_s,{children:a.jsx(Es,{children:"No approved registrations yet. Check back later!"})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:b.map(_=>a.jsx(x,{registration:_},_.id))})}),a.jsx(cu,{value:"rejected",className:"space-y-4",children:E.length===0?a.jsx(_s,{children:a.jsx(Es,{children:"No rejected registrations. Great!"})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:E.map(_=>a.jsx(x,{registration:_},_.id))})})]})]})},lG=()=>{const{user:t}=Lr(),{toast:e}=br(),[n,r]=p.useState([]),[s,i]=p.useState(!0),o=async()=>{if(t){i(!0);try{const m=await Sj(t.uid);r(m)}catch(m){console.error("Error loading notifications:",m),e({title:"Error",description:"Failed to load notifications",variant:"destructive"})}finally{i(!1)}}};p.useEffect(()=>{o()},[t]);const l=async m=>{try{await cT(m),r(n.map(g=>g.id===m?{...g,is_read:!0}:g)),e({title:"Marked as read",description:"Notification marked as read"})}catch(g){e({title:"Error",description:g.message||"Failed to mark notification as read",variant:"destructive"})}},c=async()=>{try{const m=n.filter(g=>!g.is_read);await Promise.all(m.map(g=>cT(g.id))),r(n.map(g=>({...g,is_read:!0}))),e({title:"All marked as read",description:"All notifications marked as read"})}catch(m){e({title:"Error",description:m.message||"Failed to mark all notifications as read",variant:"destructive"})}},u=m=>{if(!m)return"";const g=m.toDate?m.toDate():new Date(m),b=new Date,E=b.getTime()-g.getTime(),x=Math.floor(E/6e4),_=Math.floor(E/36e5),v=Math.floor(E/864e5);return x<1?"Just now":x<60?`${x} minute${x!==1?"s":""} ago`:_<24?`${_} hour${_!==1?"s":""} ago`:v<7?`${v} day${v!==1?"s":""} ago`:g.toLocaleDateString("en-US",{month:"short",day:"numeric",year:g.getFullYear()!==b.getFullYear()?"numeric":void 0})},h=m=>{switch(m){case"registration":return a.jsx(Kx,{className:"h-5 w-5 text-green-500"});case"match":return a.jsx(wu,{className:"h-5 w-5 text-blue-500"});default:return a.jsx(wu,{className:"h-5 w-5 text-muted-foreground"})}},f=n.filter(m=>!m.is_read).length;return s?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(ir,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Notifications"}),a.jsx("p",{className:"text-muted-foreground",children:f>0?`You have ${f} unread notification${f!==1?"s":""}`:"You're all caught up!"})]}),f>0&&a.jsx(Te,{variant:"outline",onClick:c,children:"Mark All as Read"})]}),a.jsxs(je,{children:[a.jsxs(nt,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(wu,{className:"h-5 w-5"}),"All Notifications"]}),a.jsx(as,{children:"Your recent notifications and updates"})]}),a.jsx(De,{children:n.length===0?a.jsx(_s,{children:a.jsx(Es,{children:"No notifications yet. You'll receive notifications when your game registrations are approved or when matches are scheduled."})}):a.jsx("div",{className:"space-y-3",children:n.map(m=>a.jsx(je,{className:`${m.is_read?"opacity-60 hover:opacity-80":"border-primary/50 bg-primary/5"} transition-opacity`,children:a.jsx(De,{className:"pt-6",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:m.is_read?a.jsx(m4,{className:"h-5 w-5 text-muted-foreground"}):h(m.type)}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"space-y-1 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-semibold",children:m.title}),!m.is_read&&a.jsx(yr,{variant:"default",className:"h-5 px-1.5 text-xs",children:"New"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:m.message})]}),!m.is_read&&a.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>l(m.id),children:"Mark as read"})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsx("span",{children:u(m.created_at)}),m.type&&a.jsx(yr,{variant:"outline",className:"text-xs",children:m.type})]})]})]})})},m.id))})})]})]})},cG=()=>{const{user:t,loading:e,isAdmin:n}=Lr(),[r,s]=p.useState(""),[i,o]=p.useState({activeTournaments:0,matchesPlayed:0,wins:0,upcomingMatches:0}),[l,c]=p.useState([]),[u,h]=p.useState([]);return p.useEffect(()=>{(async()=>{if(t)try{const m=await Na(gt(Be,"profiles",t.uid));if(m.exists()){const P=m.data();s(P.name||t.displayName||t.email||"User")}else s(t.displayName||t.email||"User");const g=await vo({userId:t.uid,status:"approved"}),b=Array.from(new Set(g.map(P=>P.tournament_id))),E=b.map(P=>Na(gt(Be,"tournaments",P))),_=(await Promise.all(E)).map(P=>P.exists()?{id:P.id,...P.data()}:null).filter(P=>P!==null&&(P.status==="active"||P.status==="draft"));c(_);const y=(await kW(t.uid)).map(P=>P.id);let S=await CW(y);S.sort((P,O)=>{const A=new Date(P.updated_at||P.created_at||0).getTime();return new Date(O.updated_at||O.created_at||0).getTime()-A});const k=S.slice(0,5).map(P=>({title:`Match: ${P.round_name}`,description:`Status: ${P.status}`,date:new Date(P.match_time||P.created_at||"").toLocaleDateString()}));if(k.length===0&&g.length>0){const P=[...g].sort((O,A)=>{const W=new Date(O.created_at||0).getTime();return new Date(A.created_at||0).getTime()-W});k.push(...P.slice(0,5).map(O=>({title:"Joined Tournament",description:"Registration Approved",date:new Date(O.created_at||"").toLocaleDateString()})))}h(k);const D=S.filter(P=>P.status==="COMPLETED").length,I=S.filter(P=>P.status==="SCHEDULED").length,C=S.filter(P=>P.status==="COMPLETED").map(P=>P.id),R=(await NW(C)).filter(P=>y.includes(P.winner_participant_id)).length;o({activeTournaments:b.length,matchesPlayed:D,wins:R,upcomingMatches:I})}catch(m){console.error("Error fetching dashboard data:",m),s(t.displayName||t.email||"User")}})()},[t]),p.useEffect(()=>{const f=document.body,m=f.style.paddingTop;return f.style.paddingTop="0",()=>{f.style.paddingTop=m}},[]),e?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading..."})}):t?n?a.jsx(sy,{to:"/admin",replace:!0}):a.jsx(__,{children:a.jsxs("div",{className:"min-h-screen flex w-full bg-muted/30",children:[a.jsx(BH,{}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(zH,{}),a.jsx("main",{className:"flex-1 p-6",children:a.jsxs(pw,{children:[a.jsx(Ot,{index:!0,element:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Player Dashboard"}),a.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",r,"!"]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[a.jsxs(je,{children:[a.jsxs(nt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium",children:"Tournaments Joined"}),a.jsx(zn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(De,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.activeTournaments}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Active tournaments"})]})]}),a.jsxs(je,{children:[a.jsxs(nt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium",children:"Matches Played"}),a.jsx(Zx,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(De,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.matchesPlayed}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total matches"})]})]}),a.jsxs(je,{children:[a.jsxs(nt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium",children:"Wins"}),a.jsx(zn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(De,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.wins}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Victories achieved"})]})]}),a.jsxs(je,{children:[a.jsxs(nt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(rt,{className:"text-sm font-medium",children:"Upcoming Matches"}),a.jsx(Eo,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(De,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.upcomingMatches}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled matches"})]})]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(je,{children:[a.jsxs(nt,{children:[a.jsx(rt,{children:"Recent Activity"}),a.jsx(as,{children:"Your latest tournament activities"})]}),a.jsx(De,{children:u.length>0?a.jsx("div",{className:"space-y-4",children:u.map((f,m)=>a.jsxs("div",{className:"flex items-center justify-between border-b last:border-0 pb-2 last:pb-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:f.title}),a.jsx("p",{className:"text-xs text-muted-foreground",children:f.description})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:f.date})]},m))}):a.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No recent activity yet. Join a tournament to get started!"})})]}),a.jsxs(je,{children:[a.jsxs(nt,{children:[a.jsx(rt,{children:"Current Tournaments"}),a.jsx(as,{children:"Tournaments you're participating in"})]}),a.jsx(De,{children:l.length>0?a.jsx("div",{className:"space-y-4",children:l.map(f=>a.jsxs("div",{className:"flex items-center justify-between border-b last:border-0 pb-2 last:pb-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:f.name}),a.jsx(yr,{variant:f.status==="active"?"default":"secondary",className:"mt-1",children:f.status})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(f.start_date||"").toLocaleDateString()})})]},f.id))}):a.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No active tournaments. Browse available tournaments to join!"})})]})]})]})}),a.jsx(Ot,{path:"register",element:a.jsx(Wq,{})}),a.jsx(Ot,{path:"my-games",element:a.jsx(aG,{})}),a.jsx(Ot,{path:"notifications",element:a.jsx(lG,{})}),a.jsx(Ot,{path:"profile",element:a.jsx($q,{})})]})})]})]})}):a.jsx(sy,{to:"/login",replace:!0})},uG=()=>{const t=Ls();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},dG=new qF,hG=()=>a.jsx(KF,{client:dG,children:a.jsxs(jN,{children:[a.jsx(sL,{}),a.jsx(ML,{}),a.jsx(z5,{basename:"/SportsBracket/",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:a.jsx(m8,{children:a.jsxs(pw,{children:[a.jsx(Ot,{path:"/",element:a.jsx(T8,{})}),a.jsx(Ot,{path:"/leaderboard",element:a.jsx(TW,{})}),a.jsx(Ot,{path:"/schedule",element:a.jsx(RW,{})}),a.jsx(Ot,{path:"/login",element:a.jsx(z7,{})}),a.jsx(Ot,{path:"/register",element:a.jsx(_W,{})}),a.jsx(Ot,{path:"/dashboard/*",element:a.jsx(cG,{})}),a.jsx(Ot,{path:"/admin/*",element:a.jsx(UH,{})}),a.jsx(Ot,{path:"*",element:a.jsx(uG,{})})]})})})]})});lI(document.getElementById("root")).render(a.jsx(hG,{}));
