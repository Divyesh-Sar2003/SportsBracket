var W0=t=>{throw TypeError(t)};var lg=(t,e,n)=>e.has(t)||W0("Cannot "+n);var K=(t,e,n)=>(lg(t,e,"read from private field"),n?n.call(t):e.get(t)),lt=(t,e,n)=>e.has(t)?W0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ve=(t,e,n,r)=>(lg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Pn=(t,e,n)=>(lg(t,e,"access private method"),n);var dh=(t,e,n,r)=>({set _(s){Ve(t,e,s,n)},get _(){return K(t,e,r)}});function dD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function vS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xS={exports:{}},Om={},wS={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd=Symbol.for("react.element"),hD=Symbol.for("react.portal"),fD=Symbol.for("react.fragment"),mD=Symbol.for("react.strict_mode"),pD=Symbol.for("react.profiler"),gD=Symbol.for("react.provider"),yD=Symbol.for("react.context"),vD=Symbol.for("react.forward_ref"),xD=Symbol.for("react.suspense"),wD=Symbol.for("react.memo"),_D=Symbol.for("react.lazy"),H0=Symbol.iterator;function bD(t){return t===null||typeof t!="object"?null:(t=H0&&t[H0]||t["@@iterator"],typeof t=="function"?t:null)}var _S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bS=Object.assign,ES={};function yc(t,e,n){this.props=t,this.context=e,this.refs=ES,this.updater=n||_S}yc.prototype.isReactComponent={};yc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TS(){}TS.prototype=yc.prototype;function hx(t,e,n){this.props=t,this.context=e,this.refs=ES,this.updater=n||_S}var fx=hx.prototype=new TS;fx.constructor=hx;bS(fx,yc.prototype);fx.isPureReactComponent=!0;var q0=Array.isArray,SS=Object.prototype.hasOwnProperty,mx={current:null},CS={key:!0,ref:!0,__self:!0,__source:!0};function NS(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)SS.call(e,r)&&!CS.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Sd,type:t,key:i,ref:o,props:s,_owner:mx.current}}function ED(t,e){return{$$typeof:Sd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function px(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sd}function TD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var G0=/\/+/g;function cg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TD(""+t.key):e.toString(36)}function Wh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sd:case hD:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+cg(o,0):r,q0(s)?(n="",t!=null&&(n=t.replace(G0,"$&/")+"/"),Wh(s,e,n,"",function(u){return u})):s!=null&&(px(s)&&(s=ED(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(G0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",q0(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+cg(i,l);o+=Wh(i,e,n,c,s)}else if(c=bD(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+cg(i,l++),o+=Wh(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hh(t,e,n){if(t==null)return t;var r=[],s=0;return Wh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function SD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gn={current:null},Hh={transition:null},CD={ReactCurrentDispatcher:Gn,ReactCurrentBatchConfig:Hh,ReactCurrentOwner:mx};function IS(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:hh,forEach:function(t,e,n){hh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hh(t,function(){e++}),e},toArray:function(t){return hh(t,function(e){return e})||[]},only:function(t){if(!px(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ke.Component=yc;Ke.Fragment=fD;Ke.Profiler=pD;Ke.PureComponent=hx;Ke.StrictMode=mD;Ke.Suspense=xD;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CD;Ke.act=IS;Ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bS({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=mx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)SS.call(e,c)&&!CS.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Sd,type:t.type,key:s,ref:i,props:r,_owner:o}};Ke.createContext=function(t){return t={$$typeof:yD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gD,_context:t},t.Consumer=t};Ke.createElement=NS;Ke.createFactory=function(t){var e=NS.bind(null,t);return e.type=t,e};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(t){return{$$typeof:vD,render:t}};Ke.isValidElement=px;Ke.lazy=function(t){return{$$typeof:_D,_payload:{_status:-1,_result:t},_init:SD}};Ke.memo=function(t,e){return{$$typeof:wD,type:t,compare:e===void 0?null:e}};Ke.startTransition=function(t){var e=Hh.transition;Hh.transition={};try{t()}finally{Hh.transition=e}};Ke.unstable_act=IS;Ke.useCallback=function(t,e){return Gn.current.useCallback(t,e)};Ke.useContext=function(t){return Gn.current.useContext(t)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(t){return Gn.current.useDeferredValue(t)};Ke.useEffect=function(t,e){return Gn.current.useEffect(t,e)};Ke.useId=function(){return Gn.current.useId()};Ke.useImperativeHandle=function(t,e,n){return Gn.current.useImperativeHandle(t,e,n)};Ke.useInsertionEffect=function(t,e){return Gn.current.useInsertionEffect(t,e)};Ke.useLayoutEffect=function(t,e){return Gn.current.useLayoutEffect(t,e)};Ke.useMemo=function(t,e){return Gn.current.useMemo(t,e)};Ke.useReducer=function(t,e,n){return Gn.current.useReducer(t,e,n)};Ke.useRef=function(t){return Gn.current.useRef(t)};Ke.useState=function(t){return Gn.current.useState(t)};Ke.useSyncExternalStore=function(t,e,n){return Gn.current.useSyncExternalStore(t,e,n)};Ke.useTransition=function(){return Gn.current.useTransition()};Ke.version="18.3.1";wS.exports=Ke;var p=wS.exports;const H=vS(p),gx=dD({__proto__:null,default:H},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND=p,ID=Symbol.for("react.element"),kD=Symbol.for("react.fragment"),PD=Object.prototype.hasOwnProperty,AD=ND.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RD={key:!0,ref:!0,__self:!0,__source:!0};function kS(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)PD.call(e,r)&&!RD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ID,type:t,key:i,ref:o,props:s,_owner:AD.current}}Om.Fragment=kD;Om.jsx=kS;Om.jsxs=kS;xS.exports=Om;var a=xS.exports,PS={exports:{}},Er={},AS={exports:{}},RS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,$){var ne=U.length;U.push($);e:for(;0<ne;){var he=ne-1>>>1,ae=U[he];if(0<s(ae,$))U[he]=$,U[ne]=ae,ne=he;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var $=U[0],ne=U.pop();if(ne!==$){U[0]=ne;e:for(var he=0,ae=U.length,ue=ae>>>1;he<ue;){var we=2*(he+1)-1,Ce=U[we],ut=we+1,re=U[ut];if(0>s(Ce,ne))ut<ae&&0>s(re,Ce)?(U[he]=re,U[ut]=ne,he=ut):(U[he]=Ce,U[we]=ne,he=we);else if(ut<ae&&0>s(re,ne))U[he]=re,U[ut]=ne,he=ut;else break e}}return $}function s(U,$){var ne=U.sortIndex-$.sortIndex;return ne!==0?ne:U.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,f=null,m=3,g=!1,E=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(U){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=U)r(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(u)}}function C(U){if(_=!1,v(U),!E)if(n(c)!==null)E=!0,Z(A);else{var $=n(u);$!==null&&se(C,$.startTime-U)}}function A(U,$){E=!1,_&&(_=!1,b(S),S=-1),g=!0;var ne=m;try{for(v($),f=n(c);f!==null&&(!(f.expirationTime>$)||U&&!R());){var he=f.callback;if(typeof he=="function"){f.callback=null,m=f.priorityLevel;var ae=he(f.expirationTime<=$);$=t.unstable_now(),typeof ae=="function"?f.callback=ae:f===n(c)&&r(c),v($)}else r(c);f=n(c)}if(f!==null)var ue=!0;else{var we=n(u);we!==null&&se(C,we.startTime-$),ue=!1}return ue}finally{f=null,m=ne,g=!1}}var P=!1,N=null,S=-1,I=5,k=-1;function R(){return!(t.unstable_now()-k<I)}function O(){if(N!==null){var U=t.unstable_now();k=U;var $=!0;try{$=N(!0,U)}finally{$?j():(P=!1,N=null)}}else P=!1}var j;if(typeof y=="function")j=function(){y(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ee=B.port2;B.port1.onmessage=O,j=function(){ee.postMessage(null)}}else j=function(){x(O,0)};function Z(U){N=U,P||(P=!0,j())}function se(U,$){S=x(function(){U(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,Z(A))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var ne=m;m=$;try{return U()}finally{m=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=m;m=U;try{return $()}finally{m=ne}},t.unstable_scheduleCallback=function(U,$,ne){var he=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?he+ne:he):ne=he,U){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=ne+ae,U={id:h++,callback:$,priorityLevel:U,startTime:ne,expirationTime:ae,sortIndex:-1},ne>he?(U.sortIndex=ne,e(u,U),n(c)===null&&U===n(u)&&(_?(b(S),S=-1):_=!0,se(C,ne-he))):(U.sortIndex=ae,e(c,U),E||g||(E=!0,Z(A))),U},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(U){var $=m;return function(){var ne=m;m=$;try{return U.apply(this,arguments)}finally{m=ne}}}})(RS);AS.exports=RS;var jD=AS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DD=p,_r=jD;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jS=new Set,Bu={};function Va(t,e){ql(t,e),ql(t+"Capture",e)}function ql(t,e){for(Bu[t]=e,t=0;t<e.length;t++)jS.add(e[t])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),my=Object.prototype.hasOwnProperty,OD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K0={},Q0={};function MD(t){return my.call(Q0,t)?!0:my.call(K0,t)?!1:OD.test(t)?Q0[t]=!0:(K0[t]=!0,!1)}function LD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VD(t,e,n,r){if(e===null||typeof e>"u"||LD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tn[t]=new Kn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tn[e]=new Kn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tn[t]=new Kn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tn[t]=new Kn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tn[t]=new Kn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tn[t]=new Kn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tn[t]=new Kn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tn[t]=new Kn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tn[t]=new Kn(t,5,!1,t.toLowerCase(),null,!1,!1)});var yx=/[\-:]([a-z])/g;function vx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yx,vx);Tn[e]=new Kn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yx,vx);Tn[e]=new Kn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yx,vx);Tn[e]=new Kn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tn[t]=new Kn(t,1,!1,t.toLowerCase(),null,!1,!1)});Tn.xlinkHref=new Kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tn[t]=new Kn(t,1,!1,t.toLowerCase(),null,!0,!0)});function xx(t,e,n,r){var s=Tn.hasOwnProperty(e)?Tn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VD(e,n,s,r)&&(n=null),r||s===null?MD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ti=DD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fh=Symbol.for("react.element"),dl=Symbol.for("react.portal"),hl=Symbol.for("react.fragment"),wx=Symbol.for("react.strict_mode"),py=Symbol.for("react.profiler"),DS=Symbol.for("react.provider"),OS=Symbol.for("react.context"),_x=Symbol.for("react.forward_ref"),gy=Symbol.for("react.suspense"),yy=Symbol.for("react.suspense_list"),bx=Symbol.for("react.memo"),Bi=Symbol.for("react.lazy"),MS=Symbol.for("react.offscreen"),Y0=Symbol.iterator;function Kc(t){return t===null||typeof t!="object"?null:(t=Y0&&t[Y0]||t["@@iterator"],typeof t=="function"?t:null)}var Bt=Object.assign,ug;function uu(t){if(ug===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ug=e&&e[1]||""}return`
`+ug+t}var dg=!1;function hg(t,e){if(!t||dg)return"";dg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{dg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uu(t):""}function FD(t){switch(t.tag){case 5:return uu(t.type);case 16:return uu("Lazy");case 13:return uu("Suspense");case 19:return uu("SuspenseList");case 0:case 2:case 15:return t=hg(t.type,!1),t;case 11:return t=hg(t.type.render,!1),t;case 1:return t=hg(t.type,!0),t;default:return""}}function vy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hl:return"Fragment";case dl:return"Portal";case py:return"Profiler";case wx:return"StrictMode";case gy:return"Suspense";case yy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OS:return(t.displayName||"Context")+".Consumer";case DS:return(t._context.displayName||"Context")+".Provider";case _x:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bx:return e=t.displayName||null,e!==null?e:vy(t.type)||"Memo";case Bi:e=t._payload,t=t._init;try{return vy(t(e))}catch{}}return null}function UD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vy(e);case 8:return e===wx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function To(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $D(t){var e=LS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mh(t){t._valueTracker||(t._valueTracker=$D(t))}function VS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xy(t,e){var n=e.checked;return Bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function X0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=To(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FS(t,e){e=e.checked,e!=null&&xx(t,"checked",e,!1)}function wy(t,e){FS(t,e);var n=To(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_y(t,e.type,n):e.hasOwnProperty("defaultValue")&&_y(t,e.type,To(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Z0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _y(t,e,n){(e!=="number"||wf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var du=Array.isArray;function El(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+To(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function by(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return Bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function J0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(du(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:To(n)}}function US(t,e){var n=To(e.value),r=To(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function eb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $S(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ey(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$S(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ph,BS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ph=ph||document.createElement("div"),ph.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ph.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BD=["Webkit","ms","Moz","O"];Object.keys(bu).forEach(function(t){BD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bu[e]=bu[t]})});function zS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bu.hasOwnProperty(t)&&bu[t]?(""+e).trim():e+"px"}function WS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=zS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var zD=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ty(t,e){if(e){if(zD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Sy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cy=null;function Ex(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ny=null,Tl=null,Sl=null;function tb(t){if(t=Id(t)){if(typeof Ny!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Um(e),Ny(t.stateNode,t.type,e))}}function HS(t){Tl?Sl?Sl.push(t):Sl=[t]:Tl=t}function qS(){if(Tl){var t=Tl,e=Sl;if(Sl=Tl=null,tb(t),e)for(t=0;t<e.length;t++)tb(e[t])}}function GS(t,e){return t(e)}function KS(){}var fg=!1;function QS(t,e,n){if(fg)return t(e,n);fg=!0;try{return GS(t,e,n)}finally{fg=!1,(Tl!==null||Sl!==null)&&(KS(),qS())}}function Wu(t,e){var n=t.stateNode;if(n===null)return null;var r=Um(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Iy=!1;if(di)try{var Qc={};Object.defineProperty(Qc,"passive",{get:function(){Iy=!0}}),window.addEventListener("test",Qc,Qc),window.removeEventListener("test",Qc,Qc)}catch{Iy=!1}function WD(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Eu=!1,_f=null,bf=!1,ky=null,HD={onError:function(t){Eu=!0,_f=t}};function qD(t,e,n,r,s,i,o,l,c){Eu=!1,_f=null,WD.apply(HD,arguments)}function GD(t,e,n,r,s,i,o,l,c){if(qD.apply(this,arguments),Eu){if(Eu){var u=_f;Eu=!1,_f=null}else throw Error(J(198));bf||(bf=!0,ky=u)}}function Fa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nb(t){if(Fa(t)!==t)throw Error(J(188))}function KD(t){var e=t.alternate;if(!e){if(e=Fa(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return nb(s),t;if(i===r)return nb(s),e;i=i.sibling}throw Error(J(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function XS(t){return t=KD(t),t!==null?ZS(t):null}function ZS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ZS(t);if(e!==null)return e;t=t.sibling}return null}var JS=_r.unstable_scheduleCallback,rb=_r.unstable_cancelCallback,QD=_r.unstable_shouldYield,YD=_r.unstable_requestPaint,Yt=_r.unstable_now,XD=_r.unstable_getCurrentPriorityLevel,Tx=_r.unstable_ImmediatePriority,eC=_r.unstable_UserBlockingPriority,Ef=_r.unstable_NormalPriority,ZD=_r.unstable_LowPriority,tC=_r.unstable_IdlePriority,Mm=null,Cs=null;function JD(t){if(Cs&&typeof Cs.onCommitFiberRoot=="function")try{Cs.onCommitFiberRoot(Mm,t,void 0,(t.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:nO,eO=Math.log,tO=Math.LN2;function nO(t){return t>>>=0,t===0?32:31-(eO(t)/tO|0)|0}var gh=64,yh=4194304;function hu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=hu(l):(i&=o,i!==0&&(r=hu(i)))}else o=n&~s,o!==0?r=hu(o):i!==0&&(r=hu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ss(e),s=1<<n,r|=t[n],e&=~s;return r}function rO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ss(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=rO(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Py(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nC(){var t=gh;return gh<<=1,!(gh&4194240)&&(gh=64),t}function mg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ss(e),t[e]=n}function iO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ss(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Sx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ss(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var pt=0;function rC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sC,Cx,iC,oC,aC,Ay=!1,vh=[],oo=null,ao=null,lo=null,Hu=new Map,qu=new Map,Hi=[],oO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sb(t,e){switch(t){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":Hu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qu.delete(e.pointerId)}}function Yc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Id(e),e!==null&&Cx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function aO(t,e,n,r,s){switch(e){case"focusin":return oo=Yc(oo,t,e,n,r,s),!0;case"dragenter":return ao=Yc(ao,t,e,n,r,s),!0;case"mouseover":return lo=Yc(lo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Hu.set(i,Yc(Hu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,qu.set(i,Yc(qu.get(i)||null,t,e,n,r,s)),!0}return!1}function lC(t){var e=aa(t.target);if(e!==null){var n=Fa(e);if(n!==null){if(e=n.tag,e===13){if(e=YS(n),e!==null){t.blockedOn=e,aC(t.priority,function(){iC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ry(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cy=r,n.target.dispatchEvent(r),Cy=null}else return e=Id(n),e!==null&&Cx(e),t.blockedOn=n,!1;e.shift()}return!0}function ib(t,e,n){qh(t)&&n.delete(e)}function lO(){Ay=!1,oo!==null&&qh(oo)&&(oo=null),ao!==null&&qh(ao)&&(ao=null),lo!==null&&qh(lo)&&(lo=null),Hu.forEach(ib),qu.forEach(ib)}function Xc(t,e){t.blockedOn===e&&(t.blockedOn=null,Ay||(Ay=!0,_r.unstable_scheduleCallback(_r.unstable_NormalPriority,lO)))}function Gu(t){function e(s){return Xc(s,t)}if(0<vh.length){Xc(vh[0],t);for(var n=1;n<vh.length;n++){var r=vh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(oo!==null&&Xc(oo,t),ao!==null&&Xc(ao,t),lo!==null&&Xc(lo,t),Hu.forEach(e),qu.forEach(e),n=0;n<Hi.length;n++)r=Hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hi.length&&(n=Hi[0],n.blockedOn===null);)lC(n),n.blockedOn===null&&Hi.shift()}var Cl=Ti.ReactCurrentBatchConfig,Sf=!0;function cO(t,e,n,r){var s=pt,i=Cl.transition;Cl.transition=null;try{pt=1,Nx(t,e,n,r)}finally{pt=s,Cl.transition=i}}function uO(t,e,n,r){var s=pt,i=Cl.transition;Cl.transition=null;try{pt=4,Nx(t,e,n,r)}finally{pt=s,Cl.transition=i}}function Nx(t,e,n,r){if(Sf){var s=Ry(t,e,n,r);if(s===null)Tg(t,e,r,Cf,n),sb(t,r);else if(aO(s,t,e,n,r))r.stopPropagation();else if(sb(t,r),e&4&&-1<oO.indexOf(t)){for(;s!==null;){var i=Id(s);if(i!==null&&sC(i),i=Ry(t,e,n,r),i===null&&Tg(t,e,r,Cf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Tg(t,e,r,null,n)}}var Cf=null;function Ry(t,e,n,r){if(Cf=null,t=Ex(r),t=aa(t),t!==null)if(e=Fa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cf=t,null}function cC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XD()){case Tx:return 1;case eC:return 4;case Ef:case ZD:return 16;case tC:return 536870912;default:return 16}default:return 16}}var to=null,Ix=null,Gh=null;function uC(){if(Gh)return Gh;var t,e=Ix,n=e.length,r,s="value"in to?to.value:to.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Gh=s.slice(t,1<r?1-r:void 0)}function Kh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xh(){return!0}function ob(){return!1}function Tr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xh:ob,this.isPropagationStopped=ob,this}return Bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xh)},persist:function(){},isPersistent:xh}),e}var vc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kx=Tr(vc),Nd=Bt({},vc,{view:0,detail:0}),dO=Tr(Nd),pg,gg,Zc,Lm=Bt({},Nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Px,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zc&&(Zc&&t.type==="mousemove"?(pg=t.screenX-Zc.screenX,gg=t.screenY-Zc.screenY):gg=pg=0,Zc=t),pg)},movementY:function(t){return"movementY"in t?t.movementY:gg}}),ab=Tr(Lm),hO=Bt({},Lm,{dataTransfer:0}),fO=Tr(hO),mO=Bt({},Nd,{relatedTarget:0}),yg=Tr(mO),pO=Bt({},vc,{animationName:0,elapsedTime:0,pseudoElement:0}),gO=Tr(pO),yO=Bt({},vc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vO=Tr(yO),xO=Bt({},vc,{data:0}),lb=Tr(xO),wO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_O={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bO[t])?!!e[t]:!1}function Px(){return EO}var TO=Bt({},Nd,{key:function(t){if(t.key){var e=wO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_O[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Px,charCode:function(t){return t.type==="keypress"?Kh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SO=Tr(TO),CO=Bt({},Lm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cb=Tr(CO),NO=Bt({},Nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Px}),IO=Tr(NO),kO=Bt({},vc,{propertyName:0,elapsedTime:0,pseudoElement:0}),PO=Tr(kO),AO=Bt({},Lm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RO=Tr(AO),jO=[9,13,27,32],Ax=di&&"CompositionEvent"in window,Tu=null;di&&"documentMode"in document&&(Tu=document.documentMode);var DO=di&&"TextEvent"in window&&!Tu,dC=di&&(!Ax||Tu&&8<Tu&&11>=Tu),ub=" ",db=!1;function hC(t,e){switch(t){case"keyup":return jO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fl=!1;function OO(t,e){switch(t){case"compositionend":return fC(e);case"keypress":return e.which!==32?null:(db=!0,ub);case"textInput":return t=e.data,t===ub&&db?null:t;default:return null}}function MO(t,e){if(fl)return t==="compositionend"||!Ax&&hC(t,e)?(t=uC(),Gh=Ix=to=null,fl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dC&&e.locale!=="ko"?null:e.data;default:return null}}var LO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LO[t.type]:e==="textarea"}function mC(t,e,n,r){HS(r),e=Nf(e,"onChange"),0<e.length&&(n=new kx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Su=null,Ku=null;function VO(t){SC(t,0)}function Vm(t){var e=gl(t);if(VS(e))return t}function FO(t,e){if(t==="change")return e}var pC=!1;if(di){var vg;if(di){var xg="oninput"in document;if(!xg){var fb=document.createElement("div");fb.setAttribute("oninput","return;"),xg=typeof fb.oninput=="function"}vg=xg}else vg=!1;pC=vg&&(!document.documentMode||9<document.documentMode)}function mb(){Su&&(Su.detachEvent("onpropertychange",gC),Ku=Su=null)}function gC(t){if(t.propertyName==="value"&&Vm(Ku)){var e=[];mC(e,Ku,t,Ex(t)),QS(VO,e)}}function UO(t,e,n){t==="focusin"?(mb(),Su=e,Ku=n,Su.attachEvent("onpropertychange",gC)):t==="focusout"&&mb()}function $O(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vm(Ku)}function BO(t,e){if(t==="click")return Vm(e)}function zO(t,e){if(t==="input"||t==="change")return Vm(e)}function WO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var as=typeof Object.is=="function"?Object.is:WO;function Qu(t,e){if(as(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!my.call(e,s)||!as(t[s],e[s]))return!1}return!0}function pb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gb(t,e){var n=pb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pb(n)}}function yC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vC(){for(var t=window,e=wf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wf(t.document)}return e}function Rx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HO(t){var e=vC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yC(n.ownerDocument.documentElement,n)){if(r!==null&&Rx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=gb(n,i);var o=gb(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qO=di&&"documentMode"in document&&11>=document.documentMode,ml=null,jy=null,Cu=null,Dy=!1;function yb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dy||ml==null||ml!==wf(r)||(r=ml,"selectionStart"in r&&Rx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cu&&Qu(Cu,r)||(Cu=r,r=Nf(jy,"onSelect"),0<r.length&&(e=new kx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ml)))}function wh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pl={animationend:wh("Animation","AnimationEnd"),animationiteration:wh("Animation","AnimationIteration"),animationstart:wh("Animation","AnimationStart"),transitionend:wh("Transition","TransitionEnd")},wg={},xC={};di&&(xC=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function Fm(t){if(wg[t])return wg[t];if(!pl[t])return t;var e=pl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xC)return wg[t]=e[n];return t}var wC=Fm("animationend"),_C=Fm("animationiteration"),bC=Fm("animationstart"),EC=Fm("transitionend"),TC=new Map,vb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(t,e){TC.set(t,e),Va(e,[t])}for(var _g=0;_g<vb.length;_g++){var bg=vb[_g],GO=bg.toLowerCase(),KO=bg[0].toUpperCase()+bg.slice(1);Fo(GO,"on"+KO)}Fo(wC,"onAnimationEnd");Fo(_C,"onAnimationIteration");Fo(bC,"onAnimationStart");Fo("dblclick","onDoubleClick");Fo("focusin","onFocus");Fo("focusout","onBlur");Fo(EC,"onTransitionEnd");ql("onMouseEnter",["mouseout","mouseover"]);ql("onMouseLeave",["mouseout","mouseover"]);ql("onPointerEnter",["pointerout","pointerover"]);ql("onPointerLeave",["pointerout","pointerover"]);Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Va("onBeforeInput",["compositionend","keypress","textInput","paste"]);Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QO=new Set("cancel close invalid load scroll toggle".split(" ").concat(fu));function xb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GD(r,e,void 0,t),t.currentTarget=null}function SC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;xb(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;xb(s,l,u),i=c}}}if(bf)throw t=ky,bf=!1,ky=null,t}function Nt(t,e){var n=e[Fy];n===void 0&&(n=e[Fy]=new Set);var r=t+"__bubble";n.has(r)||(CC(e,t,2,!1),n.add(r))}function Eg(t,e,n){var r=0;e&&(r|=4),CC(n,t,r,e)}var _h="_reactListening"+Math.random().toString(36).slice(2);function Yu(t){if(!t[_h]){t[_h]=!0,jS.forEach(function(n){n!=="selectionchange"&&(QO.has(n)||Eg(n,!1,t),Eg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_h]||(e[_h]=!0,Eg("selectionchange",!1,e))}}function CC(t,e,n,r){switch(cC(e)){case 1:var s=cO;break;case 4:s=uO;break;default:s=Nx}n=s.bind(null,e,n,t),s=void 0,!Iy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Tg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=aa(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}QS(function(){var u=i,h=Ex(n),f=[];e:{var m=TC.get(t);if(m!==void 0){var g=kx,E=t;switch(t){case"keypress":if(Kh(n)===0)break e;case"keydown":case"keyup":g=SO;break;case"focusin":E="focus",g=yg;break;case"focusout":E="blur",g=yg;break;case"beforeblur":case"afterblur":g=yg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ab;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=fO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=IO;break;case wC:case _C:case bC:g=gO;break;case EC:g=PO;break;case"scroll":g=dO;break;case"wheel":g=RO;break;case"copy":case"cut":case"paste":g=vO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=cb}var _=(e&4)!==0,x=!_&&t==="scroll",b=_?m!==null?m+"Capture":null:m;_=[];for(var y=u,v;y!==null;){v=y;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,b!==null&&(C=Wu(y,b),C!=null&&_.push(Xu(y,C,v)))),x)break;y=y.return}0<_.length&&(m=new g(m,E,null,n,h),f.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Cy&&(E=n.relatedTarget||n.fromElement)&&(aa(E)||E[hi]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=u,E=E?aa(E):null,E!==null&&(x=Fa(E),E!==x||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=u),g!==E)){if(_=ab,C="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=cb,C="onPointerLeave",b="onPointerEnter",y="pointer"),x=g==null?m:gl(g),v=E==null?m:gl(E),m=new _(C,y+"leave",g,n,h),m.target=x,m.relatedTarget=v,C=null,aa(h)===u&&(_=new _(b,y+"enter",E,n,h),_.target=v,_.relatedTarget=x,C=_),x=C,g&&E)t:{for(_=g,b=E,y=0,v=_;v;v=Za(v))y++;for(v=0,C=b;C;C=Za(C))v++;for(;0<y-v;)_=Za(_),y--;for(;0<v-y;)b=Za(b),v--;for(;y--;){if(_===b||b!==null&&_===b.alternate)break t;_=Za(_),b=Za(b)}_=null}else _=null;g!==null&&wb(f,m,g,_,!1),E!==null&&x!==null&&wb(f,x,E,_,!0)}}e:{if(m=u?gl(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var A=FO;else if(hb(m))if(pC)A=zO;else{A=$O;var P=UO}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(A=BO);if(A&&(A=A(t,u))){mC(f,A,n,h);break e}P&&P(t,m,u),t==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&_y(m,"number",m.value)}switch(P=u?gl(u):window,t){case"focusin":(hb(P)||P.contentEditable==="true")&&(ml=P,jy=u,Cu=null);break;case"focusout":Cu=jy=ml=null;break;case"mousedown":Dy=!0;break;case"contextmenu":case"mouseup":case"dragend":Dy=!1,yb(f,n,h);break;case"selectionchange":if(qO)break;case"keydown":case"keyup":yb(f,n,h)}var N;if(Ax)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else fl?hC(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(dC&&n.locale!=="ko"&&(fl||S!=="onCompositionStart"?S==="onCompositionEnd"&&fl&&(N=uC()):(to=h,Ix="value"in to?to.value:to.textContent,fl=!0)),P=Nf(u,S),0<P.length&&(S=new lb(S,t,null,n,h),f.push({event:S,listeners:P}),N?S.data=N:(N=fC(n),N!==null&&(S.data=N)))),(N=DO?OO(t,n):MO(t,n))&&(u=Nf(u,"onBeforeInput"),0<u.length&&(h=new lb("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=N))}SC(f,e)})}function Xu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Wu(t,n),i!=null&&r.unshift(Xu(t,i,s)),i=Wu(t,e),i!=null&&r.push(Xu(t,i,s))),t=t.return}return r}function Za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wb(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Wu(n,i),c!=null&&o.unshift(Xu(n,c,l))):s||(c=Wu(n,i),c!=null&&o.push(Xu(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var YO=/\r\n?/g,XO=/\u0000|\uFFFD/g;function _b(t){return(typeof t=="string"?t:""+t).replace(YO,`
`).replace(XO,"")}function bh(t,e,n){if(e=_b(e),_b(t)!==e&&n)throw Error(J(425))}function If(){}var Oy=null,My=null;function Ly(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vy=typeof setTimeout=="function"?setTimeout:void 0,ZO=typeof clearTimeout=="function"?clearTimeout:void 0,bb=typeof Promise=="function"?Promise:void 0,JO=typeof queueMicrotask=="function"?queueMicrotask:typeof bb<"u"?function(t){return bb.resolve(null).then(t).catch(eM)}:Vy;function eM(t){setTimeout(function(){throw t})}function Sg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Gu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gu(e)}function co(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Eb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xc=Math.random().toString(36).slice(2),bs="__reactFiber$"+xc,Zu="__reactProps$"+xc,hi="__reactContainer$"+xc,Fy="__reactEvents$"+xc,tM="__reactListeners$"+xc,nM="__reactHandles$"+xc;function aa(t){var e=t[bs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hi]||n[bs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Eb(t);t!==null;){if(n=t[bs])return n;t=Eb(t)}return e}t=n,n=t.parentNode}return null}function Id(t){return t=t[bs]||t[hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Um(t){return t[Zu]||null}var Uy=[],yl=-1;function Uo(t){return{current:t}}function Pt(t){0>yl||(t.current=Uy[yl],Uy[yl]=null,yl--)}function Tt(t,e){yl++,Uy[yl]=t.current,t.current=e}var So={},Vn=Uo(So),ir=Uo(!1),ba=So;function Gl(t,e){var n=t.type.contextTypes;if(!n)return So;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function or(t){return t=t.childContextTypes,t!=null}function kf(){Pt(ir),Pt(Vn)}function Tb(t,e,n){if(Vn.current!==So)throw Error(J(168));Tt(Vn,e),Tt(ir,n)}function NC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(J(108,UD(t)||"Unknown",s));return Bt({},n,r)}function Pf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||So,ba=Vn.current,Tt(Vn,t),Tt(ir,ir.current),!0}function Sb(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=NC(t,e,ba),r.__reactInternalMemoizedMergedChildContext=t,Pt(ir),Pt(Vn),Tt(Vn,t)):Pt(ir),Tt(ir,n)}var Qs=null,$m=!1,Cg=!1;function IC(t){Qs===null?Qs=[t]:Qs.push(t)}function rM(t){$m=!0,IC(t)}function $o(){if(!Cg&&Qs!==null){Cg=!0;var t=0,e=pt;try{var n=Qs;for(pt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qs=null,$m=!1}catch(s){throw Qs!==null&&(Qs=Qs.slice(t+1)),JS(Tx,$o),s}finally{pt=e,Cg=!1}}return null}var vl=[],xl=0,Af=null,Rf=0,Pr=[],Ar=0,Ea=null,Js=1,ei="";function ta(t,e){vl[xl++]=Rf,vl[xl++]=Af,Af=t,Rf=e}function kC(t,e,n){Pr[Ar++]=Js,Pr[Ar++]=ei,Pr[Ar++]=Ea,Ea=t;var r=Js;t=ei;var s=32-ss(r)-1;r&=~(1<<s),n+=1;var i=32-ss(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Js=1<<32-ss(e)+s|n<<s|r,ei=i+t}else Js=1<<i|n<<s|r,ei=t}function jx(t){t.return!==null&&(ta(t,1),kC(t,1,0))}function Dx(t){for(;t===Af;)Af=vl[--xl],vl[xl]=null,Rf=vl[--xl],vl[xl]=null;for(;t===Ea;)Ea=Pr[--Ar],Pr[Ar]=null,ei=Pr[--Ar],Pr[Ar]=null,Js=Pr[--Ar],Pr[Ar]=null}var xr=null,yr=null,jt=!1,Zr=null;function PC(t,e){var n=jr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Cb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xr=t,yr=co(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xr=t,yr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ea!==null?{id:Js,overflow:ei}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xr=t,yr=null,!0):!1;default:return!1}}function $y(t){return(t.mode&1)!==0&&(t.flags&128)===0}function By(t){if(jt){var e=yr;if(e){var n=e;if(!Cb(t,e)){if($y(t))throw Error(J(418));e=co(n.nextSibling);var r=xr;e&&Cb(t,e)?PC(r,n):(t.flags=t.flags&-4097|2,jt=!1,xr=t)}}else{if($y(t))throw Error(J(418));t.flags=t.flags&-4097|2,jt=!1,xr=t}}}function Nb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xr=t}function Eh(t){if(t!==xr)return!1;if(!jt)return Nb(t),jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ly(t.type,t.memoizedProps)),e&&(e=yr)){if($y(t))throw AC(),Error(J(418));for(;e;)PC(t,e),e=co(e.nextSibling)}if(Nb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yr=co(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yr=null}}else yr=xr?co(t.stateNode.nextSibling):null;return!0}function AC(){for(var t=yr;t;)t=co(t.nextSibling)}function Kl(){yr=xr=null,jt=!1}function Ox(t){Zr===null?Zr=[t]:Zr.push(t)}var sM=Ti.ReactCurrentBatchConfig;function Jc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Th(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ib(t){var e=t._init;return e(t._payload)}function RC(t){function e(b,y){if(t){var v=b.deletions;v===null?(b.deletions=[y],b.flags|=16):v.push(y)}}function n(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function s(b,y){return b=mo(b,y),b.index=0,b.sibling=null,b}function i(b,y,v){return b.index=v,t?(v=b.alternate,v!==null?(v=v.index,v<y?(b.flags|=2,y):v):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,y,v,C){return y===null||y.tag!==6?(y=jg(v,b.mode,C),y.return=b,y):(y=s(y,v),y.return=b,y)}function c(b,y,v,C){var A=v.type;return A===hl?h(b,y,v.props.children,C,v.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Bi&&Ib(A)===y.type)?(C=s(y,v.props),C.ref=Jc(b,y,v),C.return=b,C):(C=tf(v.type,v.key,v.props,null,b.mode,C),C.ref=Jc(b,y,v),C.return=b,C)}function u(b,y,v,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Dg(v,b.mode,C),y.return=b,y):(y=s(y,v.children||[]),y.return=b,y)}function h(b,y,v,C,A){return y===null||y.tag!==7?(y=wa(v,b.mode,C,A),y.return=b,y):(y=s(y,v),y.return=b,y)}function f(b,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=jg(""+y,b.mode,v),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fh:return v=tf(y.type,y.key,y.props,null,b.mode,v),v.ref=Jc(b,null,y),v.return=b,v;case dl:return y=Dg(y,b.mode,v),y.return=b,y;case Bi:var C=y._init;return f(b,C(y._payload),v)}if(du(y)||Kc(y))return y=wa(y,b.mode,v,null),y.return=b,y;Th(b,y)}return null}function m(b,y,v,C){var A=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return A!==null?null:l(b,y,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case fh:return v.key===A?c(b,y,v,C):null;case dl:return v.key===A?u(b,y,v,C):null;case Bi:return A=v._init,m(b,y,A(v._payload),C)}if(du(v)||Kc(v))return A!==null?null:h(b,y,v,C,null);Th(b,v)}return null}function g(b,y,v,C,A){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(v)||null,l(y,b,""+C,A);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case fh:return b=b.get(C.key===null?v:C.key)||null,c(y,b,C,A);case dl:return b=b.get(C.key===null?v:C.key)||null,u(y,b,C,A);case Bi:var P=C._init;return g(b,y,v,P(C._payload),A)}if(du(C)||Kc(C))return b=b.get(v)||null,h(y,b,C,A,null);Th(y,C)}return null}function E(b,y,v,C){for(var A=null,P=null,N=y,S=y=0,I=null;N!==null&&S<v.length;S++){N.index>S?(I=N,N=null):I=N.sibling;var k=m(b,N,v[S],C);if(k===null){N===null&&(N=I);break}t&&N&&k.alternate===null&&e(b,N),y=i(k,y,S),P===null?A=k:P.sibling=k,P=k,N=I}if(S===v.length)return n(b,N),jt&&ta(b,S),A;if(N===null){for(;S<v.length;S++)N=f(b,v[S],C),N!==null&&(y=i(N,y,S),P===null?A=N:P.sibling=N,P=N);return jt&&ta(b,S),A}for(N=r(b,N);S<v.length;S++)I=g(N,b,S,v[S],C),I!==null&&(t&&I.alternate!==null&&N.delete(I.key===null?S:I.key),y=i(I,y,S),P===null?A=I:P.sibling=I,P=I);return t&&N.forEach(function(R){return e(b,R)}),jt&&ta(b,S),A}function _(b,y,v,C){var A=Kc(v);if(typeof A!="function")throw Error(J(150));if(v=A.call(v),v==null)throw Error(J(151));for(var P=A=null,N=y,S=y=0,I=null,k=v.next();N!==null&&!k.done;S++,k=v.next()){N.index>S?(I=N,N=null):I=N.sibling;var R=m(b,N,k.value,C);if(R===null){N===null&&(N=I);break}t&&N&&R.alternate===null&&e(b,N),y=i(R,y,S),P===null?A=R:P.sibling=R,P=R,N=I}if(k.done)return n(b,N),jt&&ta(b,S),A;if(N===null){for(;!k.done;S++,k=v.next())k=f(b,k.value,C),k!==null&&(y=i(k,y,S),P===null?A=k:P.sibling=k,P=k);return jt&&ta(b,S),A}for(N=r(b,N);!k.done;S++,k=v.next())k=g(N,b,S,k.value,C),k!==null&&(t&&k.alternate!==null&&N.delete(k.key===null?S:k.key),y=i(k,y,S),P===null?A=k:P.sibling=k,P=k);return t&&N.forEach(function(O){return e(b,O)}),jt&&ta(b,S),A}function x(b,y,v,C){if(typeof v=="object"&&v!==null&&v.type===hl&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case fh:e:{for(var A=v.key,P=y;P!==null;){if(P.key===A){if(A=v.type,A===hl){if(P.tag===7){n(b,P.sibling),y=s(P,v.props.children),y.return=b,b=y;break e}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Bi&&Ib(A)===P.type){n(b,P.sibling),y=s(P,v.props),y.ref=Jc(b,P,v),y.return=b,b=y;break e}n(b,P);break}else e(b,P);P=P.sibling}v.type===hl?(y=wa(v.props.children,b.mode,C,v.key),y.return=b,b=y):(C=tf(v.type,v.key,v.props,null,b.mode,C),C.ref=Jc(b,y,v),C.return=b,b=C)}return o(b);case dl:e:{for(P=v.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(b,y.sibling),y=s(y,v.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else e(b,y);y=y.sibling}y=Dg(v,b.mode,C),y.return=b,b=y}return o(b);case Bi:return P=v._init,x(b,y,P(v._payload),C)}if(du(v))return E(b,y,v,C);if(Kc(v))return _(b,y,v,C);Th(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(b,y.sibling),y=s(y,v),y.return=b,b=y):(n(b,y),y=jg(v,b.mode,C),y.return=b,b=y),o(b)):n(b,y)}return x}var Ql=RC(!0),jC=RC(!1),jf=Uo(null),Df=null,wl=null,Mx=null;function Lx(){Mx=wl=Df=null}function Vx(t){var e=jf.current;Pt(jf),t._currentValue=e}function zy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Nl(t,e){Df=t,Mx=wl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sr=!0),t.firstContext=null)}function Or(t){var e=t._currentValue;if(Mx!==t)if(t={context:t,memoizedValue:e,next:null},wl===null){if(Df===null)throw Error(J(308));wl=t,Df.dependencies={lanes:0,firstContext:t}}else wl=wl.next=t;return e}var la=null;function Fx(t){la===null?la=[t]:la.push(t)}function DC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Fx(e)):(n.next=s.next,s.next=n),e.interleaved=n,fi(t,r)}function fi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zi=!1;function Ux(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function uo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,st&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,fi(t,n)}return s=r.interleaved,s===null?(e.next=e,Fx(r)):(e.next=s.next,s.next=e),r.interleaved=e,fi(t,n)}function Qh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sx(t,n)}}function kb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Of(t,e,n,r){var s=t.updateQueue;zi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=u=c=null,l=i;do{var m=l.lane,g=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var E=t,_=l;switch(m=e,g=n,_.tag){case 1:if(E=_.payload,typeof E=="function"){f=E.call(g,f,m);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=_.payload,m=typeof E=="function"?E.call(g,f,m):E,m==null)break e;f=Bt({},f,m);break e;case 2:zi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=f):h=h.next=g,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Sa|=o,t.lanes=o,t.memoizedState=f}}function Pb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(J(191,s));s.call(r)}}}var kd={},Ns=Uo(kd),Ju=Uo(kd),ed=Uo(kd);function ca(t){if(t===kd)throw Error(J(174));return t}function $x(t,e){switch(Tt(ed,e),Tt(Ju,t),Tt(Ns,kd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ey(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ey(e,t)}Pt(Ns),Tt(Ns,e)}function Yl(){Pt(Ns),Pt(Ju),Pt(ed)}function MC(t){ca(ed.current);var e=ca(Ns.current),n=Ey(e,t.type);e!==n&&(Tt(Ju,t),Tt(Ns,n))}function Bx(t){Ju.current===t&&(Pt(Ns),Pt(Ju))}var Lt=Uo(0);function Mf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ng=[];function zx(){for(var t=0;t<Ng.length;t++)Ng[t]._workInProgressVersionPrimary=null;Ng.length=0}var Yh=Ti.ReactCurrentDispatcher,Ig=Ti.ReactCurrentBatchConfig,Ta=0,Ut=null,ln=null,fn=null,Lf=!1,Nu=!1,td=0,iM=0;function An(){throw Error(J(321))}function Wx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!as(t[n],e[n]))return!1;return!0}function Hx(t,e,n,r,s,i){if(Ta=i,Ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yh.current=t===null||t.memoizedState===null?cM:uM,t=n(r,s),Nu){i=0;do{if(Nu=!1,td=0,25<=i)throw Error(J(301));i+=1,fn=ln=null,e.updateQueue=null,Yh.current=dM,t=n(r,s)}while(Nu)}if(Yh.current=Vf,e=ln!==null&&ln.next!==null,Ta=0,fn=ln=Ut=null,Lf=!1,e)throw Error(J(300));return t}function qx(){var t=td!==0;return td=0,t}function gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ut.memoizedState=fn=t:fn=fn.next=t,fn}function Mr(){if(ln===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=fn===null?Ut.memoizedState:fn.next;if(e!==null)fn=e,ln=t;else{if(t===null)throw Error(J(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},fn===null?Ut.memoizedState=fn=t:fn=fn.next=t}return fn}function nd(t,e){return typeof e=="function"?e(t):e}function kg(t){var e=Mr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=ln,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var h=u.lane;if((Ta&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Ut.lanes|=h,Sa|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,as(r,e.memoizedState)||(sr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ut.lanes|=i,Sa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pg(t){var e=Mr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);as(i,e.memoizedState)||(sr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function LC(){}function VC(t,e){var n=Ut,r=Mr(),s=e(),i=!as(r.memoizedState,s);if(i&&(r.memoizedState=s,sr=!0),r=r.queue,Gx($C.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||fn!==null&&fn.memoizedState.tag&1){if(n.flags|=2048,rd(9,UC.bind(null,n,r,s,e),void 0,null),pn===null)throw Error(J(349));Ta&30||FC(n,e,s)}return s}function FC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UC(t,e,n,r){e.value=n,e.getSnapshot=r,BC(e)&&zC(t)}function $C(t,e,n){return n(function(){BC(e)&&zC(t)})}function BC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!as(t,n)}catch{return!0}}function zC(t){var e=fi(t,1);e!==null&&is(e,t,1,-1)}function Ab(t){var e=gs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nd,lastRenderedState:t},e.queue=t,t=t.dispatch=lM.bind(null,Ut,t),[e.memoizedState,t]}function rd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WC(){return Mr().memoizedState}function Xh(t,e,n,r){var s=gs();Ut.flags|=t,s.memoizedState=rd(1|e,n,void 0,r===void 0?null:r)}function Bm(t,e,n,r){var s=Mr();r=r===void 0?null:r;var i=void 0;if(ln!==null){var o=ln.memoizedState;if(i=o.destroy,r!==null&&Wx(r,o.deps)){s.memoizedState=rd(e,n,i,r);return}}Ut.flags|=t,s.memoizedState=rd(1|e,n,i,r)}function Rb(t,e){return Xh(8390656,8,t,e)}function Gx(t,e){return Bm(2048,8,t,e)}function HC(t,e){return Bm(4,2,t,e)}function qC(t,e){return Bm(4,4,t,e)}function GC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KC(t,e,n){return n=n!=null?n.concat([t]):null,Bm(4,4,GC.bind(null,e,t),n)}function Kx(){}function QC(t,e){var n=Mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function YC(t,e){var n=Mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XC(t,e,n){return Ta&21?(as(n,e)||(n=nC(),Ut.lanes|=n,Sa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sr=!0),t.memoizedState=n)}function oM(t,e){var n=pt;pt=n!==0&&4>n?n:4,t(!0);var r=Ig.transition;Ig.transition={};try{t(!1),e()}finally{pt=n,Ig.transition=r}}function ZC(){return Mr().memoizedState}function aM(t,e,n){var r=fo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JC(t))eN(e,n);else if(n=DC(t,e,n,r),n!==null){var s=Hn();is(n,t,r,s),tN(n,e,r)}}function lM(t,e,n){var r=fo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JC(t))eN(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,as(l,o)){var c=e.interleaved;c===null?(s.next=s,Fx(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=DC(t,e,s,r),n!==null&&(s=Hn(),is(n,t,r,s),tN(n,e,r))}}function JC(t){var e=t.alternate;return t===Ut||e!==null&&e===Ut}function eN(t,e){Nu=Lf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sx(t,n)}}var Vf={readContext:Or,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},cM={readContext:Or,useCallback:function(t,e){return gs().memoizedState=[t,e===void 0?null:e],t},useContext:Or,useEffect:Rb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xh(4194308,4,GC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xh(4,2,t,e)},useMemo:function(t,e){var n=gs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=aM.bind(null,Ut,t),[r.memoizedState,t]},useRef:function(t){var e=gs();return t={current:t},e.memoizedState=t},useState:Ab,useDebugValue:Kx,useDeferredValue:function(t){return gs().memoizedState=t},useTransition:function(){var t=Ab(!1),e=t[0];return t=oM.bind(null,t[1]),gs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ut,s=gs();if(jt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),pn===null)throw Error(J(349));Ta&30||FC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Rb($C.bind(null,r,i,t),[t]),r.flags|=2048,rd(9,UC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=gs(),e=pn.identifierPrefix;if(jt){var n=ei,r=Js;n=(r&~(1<<32-ss(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=td++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uM={readContext:Or,useCallback:QC,useContext:Or,useEffect:Gx,useImperativeHandle:KC,useInsertionEffect:HC,useLayoutEffect:qC,useMemo:YC,useReducer:kg,useRef:WC,useState:function(){return kg(nd)},useDebugValue:Kx,useDeferredValue:function(t){var e=Mr();return XC(e,ln.memoizedState,t)},useTransition:function(){var t=kg(nd)[0],e=Mr().memoizedState;return[t,e]},useMutableSource:LC,useSyncExternalStore:VC,useId:ZC,unstable_isNewReconciler:!1},dM={readContext:Or,useCallback:QC,useContext:Or,useEffect:Gx,useImperativeHandle:KC,useInsertionEffect:HC,useLayoutEffect:qC,useMemo:YC,useReducer:Pg,useRef:WC,useState:function(){return Pg(nd)},useDebugValue:Kx,useDeferredValue:function(t){var e=Mr();return ln===null?e.memoizedState=t:XC(e,ln.memoizedState,t)},useTransition:function(){var t=Pg(nd)[0],e=Mr().memoizedState;return[t,e]},useMutableSource:LC,useSyncExternalStore:VC,useId:ZC,unstable_isNewReconciler:!1};function Gr(t,e){if(t&&t.defaultProps){e=Bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zm={isMounted:function(t){return(t=t._reactInternals)?Fa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Hn(),s=fo(t),i=ri(r,s);i.payload=e,n!=null&&(i.callback=n),e=uo(t,i,s),e!==null&&(is(e,t,s,r),Qh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Hn(),s=fo(t),i=ri(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=uo(t,i,s),e!==null&&(is(e,t,s,r),Qh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Hn(),r=fo(t),s=ri(n,r);s.tag=2,e!=null&&(s.callback=e),e=uo(t,s,r),e!==null&&(is(e,t,r,n),Qh(e,t,r))}};function jb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Qu(n,r)||!Qu(s,i):!0}function nN(t,e,n){var r=!1,s=So,i=e.contextType;return typeof i=="object"&&i!==null?i=Or(i):(s=or(e)?ba:Vn.current,r=e.contextTypes,i=(r=r!=null)?Gl(t,s):So),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Db(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zm.enqueueReplaceState(e,e.state,null)}function Hy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ux(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Or(i):(i=or(e)?ba:Vn.current,s.context=Gl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zm.enqueueReplaceState(s,s.state,null),Of(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xl(t,e){try{var n="",r=e;do n+=FD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ag(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hM=typeof WeakMap=="function"?WeakMap:Map;function rN(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Uf||(Uf=!0,nv=r),qy(t,e)},n}function sN(t,e,n){n=ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){qy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qy(t,e),typeof r!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ob(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=CM.bind(null,t,e,n),e.then(t,t))}function Mb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ri(-1,1),e.tag=2,uo(n,e,1))),n.lanes|=1),t)}var fM=Ti.ReactCurrentOwner,sr=!1;function $n(t,e,n,r){e.child=t===null?jC(e,null,n,r):Ql(e,t.child,n,r)}function Vb(t,e,n,r,s){n=n.render;var i=e.ref;return Nl(e,s),r=Hx(t,e,n,r,i,s),n=qx(),t!==null&&!sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mi(t,e,s)):(jt&&n&&jx(e),e.flags|=1,$n(t,e,r,s),e.child)}function Fb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!nw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,iN(t,e,i,r,s)):(t=tf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Qu,n(o,r)&&t.ref===e.ref)return mi(t,e,s)}return e.flags|=1,t=mo(i,r),t.ref=e.ref,t.return=e,e.child=t}function iN(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Qu(i,r)&&t.ref===e.ref)if(sr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(sr=!0);else return e.lanes=t.lanes,mi(t,e,s)}return Gy(t,e,n,r,s)}function oN(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(bl,fr),fr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tt(bl,fr),fr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Tt(bl,fr),fr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Tt(bl,fr),fr|=r;return $n(t,e,s,n),e.child}function aN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gy(t,e,n,r,s){var i=or(n)?ba:Vn.current;return i=Gl(e,i),Nl(e,s),n=Hx(t,e,n,r,i,s),r=qx(),t!==null&&!sr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mi(t,e,s)):(jt&&r&&jx(e),e.flags|=1,$n(t,e,n,s),e.child)}function Ub(t,e,n,r,s){if(or(n)){var i=!0;Pf(e)}else i=!1;if(Nl(e,s),e.stateNode===null)Zh(t,e),nN(e,n,r),Hy(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Or(u):(u=or(n)?ba:Vn.current,u=Gl(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Db(e,o,r,u),zi=!1;var m=e.memoizedState;o.state=m,Of(e,r,o,s),c=e.memoizedState,l!==r||m!==c||ir.current||zi?(typeof h=="function"&&(Wy(e,n,h,r),c=e.memoizedState),(l=zi||jb(e,n,l,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,OC(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Gr(e.type,l),o.props=u,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Or(c):(c=or(n)?ba:Vn.current,c=Gl(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Db(e,o,r,c),zi=!1,m=e.memoizedState,o.state=m,Of(e,r,o,s);var E=e.memoizedState;l!==f||m!==E||ir.current||zi?(typeof g=="function"&&(Wy(e,n,g,r),E=e.memoizedState),(u=zi||jb(e,n,u,r,m,E,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Ky(t,e,n,r,i,s)}function Ky(t,e,n,r,s,i){aN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Sb(e,n,!1),mi(t,e,i);r=e.stateNode,fM.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ql(e,t.child,null,i),e.child=Ql(e,null,l,i)):$n(t,e,l,i),e.memoizedState=r.state,s&&Sb(e,n,!0),e.child}function lN(t){var e=t.stateNode;e.pendingContext?Tb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tb(t,e.context,!1),$x(t,e.containerInfo)}function $b(t,e,n,r,s){return Kl(),Ox(s),e.flags|=256,$n(t,e,n,r),e.child}var Qy={dehydrated:null,treeContext:null,retryLane:0};function Yy(t){return{baseLanes:t,cachePool:null,transitions:null}}function cN(t,e,n){var r=e.pendingProps,s=Lt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Tt(Lt,s&1),t===null)return By(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qm(o,r,0,null),t=wa(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Yy(n),e.memoizedState=Qy,t):Qx(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return mM(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=mo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=mo(l,i):(i=wa(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Yy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Qy,r}return i=t.child,t=i.sibling,r=mo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qx(t,e){return e=qm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sh(t,e,n,r){return r!==null&&Ox(r),Ql(e,t.child,null,n),t=Qx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mM(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ag(Error(J(422))),Sh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=qm({mode:"visible",children:r.children},s,0,null),i=wa(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ql(e,t.child,null,o),e.child.memoizedState=Yy(o),e.memoizedState=Qy,i);if(!(e.mode&1))return Sh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(J(419)),r=Ag(i,r,void 0),Sh(t,e,o,r)}if(l=(o&t.childLanes)!==0,sr||l){if(r=pn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fi(t,s),is(r,t,s,-1))}return tw(),r=Ag(Error(J(421))),Sh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=NM.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,yr=co(s.nextSibling),xr=e,jt=!0,Zr=null,t!==null&&(Pr[Ar++]=Js,Pr[Ar++]=ei,Pr[Ar++]=Ea,Js=t.id,ei=t.overflow,Ea=e),e=Qx(e,r.children),e.flags|=4096,e)}function Bb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zy(t.return,e,n)}function Rg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function uN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($n(t,e,r.children,n),r=Lt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bb(t,n,e);else if(t.tag===19)Bb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Tt(Lt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Mf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Rg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Mf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Rg(e,!0,n,null,i);break;case"together":Rg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Sa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=mo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pM(t,e,n){switch(e.tag){case 3:lN(e),Kl();break;case 5:MC(e);break;case 1:or(e.type)&&Pf(e);break;case 4:$x(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Tt(jf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Tt(Lt,Lt.current&1),e.flags|=128,null):n&e.child.childLanes?cN(t,e,n):(Tt(Lt,Lt.current&1),t=mi(t,e,n),t!==null?t.sibling:null);Tt(Lt,Lt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Tt(Lt,Lt.current),r)break;return null;case 22:case 23:return e.lanes=0,oN(t,e,n)}return mi(t,e,n)}var dN,Xy,hN,fN;dN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xy=function(){};hN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ca(Ns.current);var i=null;switch(n){case"input":s=xy(t,s),r=xy(t,r),i=[];break;case"select":s=Bt({},s,{value:void 0}),r=Bt({},r,{value:void 0}),i=[];break;case"textarea":s=by(t,s),r=by(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=If)}Ty(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Nt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};fN=function(t,e,n,r){n!==r&&(e.flags|=4)};function eu(t,e){if(!jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gM(t,e,n){var r=e.pendingProps;switch(Dx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(e),null;case 1:return or(e.type)&&kf(),Rn(e),null;case 3:return r=e.stateNode,Yl(),Pt(ir),Pt(Vn),zx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Eh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zr!==null&&(iv(Zr),Zr=null))),Xy(t,e),Rn(e),null;case 5:Bx(e);var s=ca(ed.current);if(n=e.type,t!==null&&e.stateNode!=null)hN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Rn(e),null}if(t=ca(Ns.current),Eh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[bs]=e,r[Zu]=i,t=(e.mode&1)!==0,n){case"dialog":Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":case"embed":Nt("load",r);break;case"video":case"audio":for(s=0;s<fu.length;s++)Nt(fu[s],r);break;case"source":Nt("error",r);break;case"img":case"image":case"link":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"input":X0(r,i),Nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Nt("invalid",r);break;case"textarea":J0(r,i),Nt("invalid",r)}Ty(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&bh(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&bh(r.textContent,l,t),s=["children",""+l]):Bu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Nt("scroll",r)}switch(n){case"input":mh(r),Z0(r,i,!0);break;case"textarea":mh(r),eb(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=If)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$S(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[bs]=e,t[Zu]=r,dN(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sy(n,r),n){case"dialog":Nt("cancel",t),Nt("close",t),s=r;break;case"iframe":case"object":case"embed":Nt("load",t),s=r;break;case"video":case"audio":for(s=0;s<fu.length;s++)Nt(fu[s],t);s=r;break;case"source":Nt("error",t),s=r;break;case"img":case"image":case"link":Nt("error",t),Nt("load",t),s=r;break;case"details":Nt("toggle",t),s=r;break;case"input":X0(t,r),s=xy(t,r),Nt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Bt({},r,{value:void 0}),Nt("invalid",t);break;case"textarea":J0(t,r),s=by(t,r),Nt("invalid",t);break;default:s=r}Ty(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?WS(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&BS(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zu(t,c):typeof c=="number"&&zu(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Nt("scroll",t):c!=null&&xx(t,i,c,o))}switch(n){case"input":mh(t),Z0(t,r,!1);break;case"textarea":mh(t),eb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+To(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?El(t,!!r.multiple,i,!1):r.defaultValue!=null&&El(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=If)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rn(e),null;case 6:if(t&&e.stateNode!=null)fN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=ca(ed.current),ca(Ns.current),Eh(e)){if(r=e.stateNode,n=e.memoizedProps,r[bs]=e,(i=r.nodeValue!==n)&&(t=xr,t!==null))switch(t.tag){case 3:bh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bs]=e,e.stateNode=r}return Rn(e),null;case 13:if(Pt(Lt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(jt&&yr!==null&&e.mode&1&&!(e.flags&128))AC(),Kl(),e.flags|=98560,i=!1;else if(i=Eh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(J(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[bs]=e}else Kl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rn(e),i=!1}else Zr!==null&&(iv(Zr),Zr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Lt.current&1?cn===0&&(cn=3):tw())),e.updateQueue!==null&&(e.flags|=4),Rn(e),null);case 4:return Yl(),Xy(t,e),t===null&&Yu(e.stateNode.containerInfo),Rn(e),null;case 10:return Vx(e.type._context),Rn(e),null;case 17:return or(e.type)&&kf(),Rn(e),null;case 19:if(Pt(Lt),i=e.memoizedState,i===null)return Rn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)eu(i,!1);else{if(cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mf(t),o!==null){for(e.flags|=128,eu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tt(Lt,Lt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Yt()>Zl&&(e.flags|=128,r=!0,eu(i,!1),e.lanes=4194304)}else{if(!r)if(t=Mf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),eu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!jt)return Rn(e),null}else 2*Yt()-i.renderingStartTime>Zl&&n!==1073741824&&(e.flags|=128,r=!0,eu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Yt(),e.sibling=null,n=Lt.current,Tt(Lt,r?n&1|2:n&1),e):(Rn(e),null);case 22:case 23:return ew(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fr&1073741824&&(Rn(e),e.subtreeFlags&6&&(e.flags|=8192)):Rn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function yM(t,e){switch(Dx(e),e.tag){case 1:return or(e.type)&&kf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yl(),Pt(ir),Pt(Vn),zx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bx(e),null;case 13:if(Pt(Lt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Kl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pt(Lt),null;case 4:return Yl(),null;case 10:return Vx(e.type._context),null;case 22:case 23:return ew(),null;case 24:return null;default:return null}}var Ch=!1,Mn=!1,vM=typeof WeakSet=="function"?WeakSet:Set,ge=null;function _l(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gt(t,e,r)}else n.current=null}function Zy(t,e,n){try{n()}catch(r){Gt(t,e,r)}}var zb=!1;function xM(t,e){if(Oy=Sf,t=vC(),Rx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++u===s&&(l=o),m===i&&++h===r&&(c=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(My={focusedElem:t,selectionRange:n},Sf=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,x=E.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?_:Gr(e.type,_),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(C){Gt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return E=zb,zb=!1,E}function Iu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zy(e,n,i)}s=s.next}while(s!==r)}}function Wm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mN(t){var e=t.alternate;e!==null&&(t.alternate=null,mN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bs],delete e[Zu],delete e[Fy],delete e[tM],delete e[nM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pN(t){return t.tag===5||t.tag===3||t.tag===4}function Wb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ev(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=If));else if(r!==4&&(t=t.child,t!==null))for(ev(t,e,n),t=t.sibling;t!==null;)ev(t,e,n),t=t.sibling}function tv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tv(t,e,n),t=t.sibling;t!==null;)tv(t,e,n),t=t.sibling}var wn=null,Xr=!1;function Oi(t,e,n){for(n=n.child;n!==null;)gN(t,e,n),n=n.sibling}function gN(t,e,n){if(Cs&&typeof Cs.onCommitFiberUnmount=="function")try{Cs.onCommitFiberUnmount(Mm,n)}catch{}switch(n.tag){case 5:Mn||_l(n,e);case 6:var r=wn,s=Xr;wn=null,Oi(t,e,n),wn=r,Xr=s,wn!==null&&(Xr?(t=wn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wn.removeChild(n.stateNode));break;case 18:wn!==null&&(Xr?(t=wn,n=n.stateNode,t.nodeType===8?Sg(t.parentNode,n):t.nodeType===1&&Sg(t,n),Gu(t)):Sg(wn,n.stateNode));break;case 4:r=wn,s=Xr,wn=n.stateNode.containerInfo,Xr=!0,Oi(t,e,n),wn=r,Xr=s;break;case 0:case 11:case 14:case 15:if(!Mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zy(n,e,o),s=s.next}while(s!==r)}Oi(t,e,n);break;case 1:if(!Mn&&(_l(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Gt(n,e,l)}Oi(t,e,n);break;case 21:Oi(t,e,n);break;case 22:n.mode&1?(Mn=(r=Mn)||n.memoizedState!==null,Oi(t,e,n),Mn=r):Oi(t,e,n);break;default:Oi(t,e,n)}}function Hb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vM),e.forEach(function(r){var s=IM.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:wn=l.stateNode,Xr=!1;break e;case 3:wn=l.stateNode.containerInfo,Xr=!0;break e;case 4:wn=l.stateNode.containerInfo,Xr=!0;break e}l=l.return}if(wn===null)throw Error(J(160));gN(i,o,s),wn=null,Xr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Gt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yN(e,t),e=e.sibling}function yN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wr(e,t),ps(t),r&4){try{Iu(3,t,t.return),Wm(3,t)}catch(_){Gt(t,t.return,_)}try{Iu(5,t,t.return)}catch(_){Gt(t,t.return,_)}}break;case 1:Wr(e,t),ps(t),r&512&&n!==null&&_l(n,n.return);break;case 5:if(Wr(e,t),ps(t),r&512&&n!==null&&_l(n,n.return),t.flags&32){var s=t.stateNode;try{zu(s,"")}catch(_){Gt(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&FS(s,i),Sy(l,o);var u=Sy(l,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?WS(s,f):h==="dangerouslySetInnerHTML"?BS(s,f):h==="children"?zu(s,f):xx(s,h,f,u)}switch(l){case"input":wy(s,i);break;case"textarea":US(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?El(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?El(s,!!i.multiple,i.defaultValue,!0):El(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zu]=i}catch(_){Gt(t,t.return,_)}}break;case 6:if(Wr(e,t),ps(t),r&4){if(t.stateNode===null)throw Error(J(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Gt(t,t.return,_)}}break;case 3:if(Wr(e,t),ps(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gu(e.containerInfo)}catch(_){Gt(t,t.return,_)}break;case 4:Wr(e,t),ps(t);break;case 13:Wr(e,t),ps(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Zx=Yt())),r&4&&Hb(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Mn=(u=Mn)||h,Wr(e,t),Mn=u):Wr(e,t),ps(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ge=t,h=t.child;h!==null;){for(f=ge=h;ge!==null;){switch(m=ge,g=m.child,m.tag){case 0:case 11:case 14:case 15:Iu(4,m,m.return);break;case 1:_l(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(_){Gt(r,n,_)}}break;case 5:_l(m,m.return);break;case 22:if(m.memoizedState!==null){Gb(f);continue}}g!==null?(g.return=m,ge=g):Gb(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=zS("display",o))}catch(_){Gt(t,t.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){Gt(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wr(e,t),ps(t),r&4&&Hb(t);break;case 21:break;default:Wr(e,t),ps(t)}}function ps(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pN(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zu(s,""),r.flags&=-33);var i=Wb(t);tv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Wb(t);ev(t,l,o);break;default:throw Error(J(161))}}catch(c){Gt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wM(t,e,n){ge=t,vN(t)}function vN(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var s=ge,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ch;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Mn;l=Ch;var u=Mn;if(Ch=o,(Mn=c)&&!u)for(ge=s;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?Kb(s):c!==null?(c.return=o,ge=c):Kb(s);for(;i!==null;)ge=i,vN(i),i=i.sibling;ge=s,Ch=l,Mn=u}qb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ge=i):qb(t)}}function qb(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mn||Wm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Gr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Pb(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Pb(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Gu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Mn||e.flags&512&&Jy(e)}catch(m){Gt(e,e.return,m)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function Gb(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function Kb(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wm(4,e)}catch(c){Gt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Gt(e,s,c)}}var i=e.return;try{Jy(e)}catch(c){Gt(e,i,c)}break;case 5:var o=e.return;try{Jy(e)}catch(c){Gt(e,o,c)}}}catch(c){Gt(e,e.return,c)}if(e===t){ge=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ge=l;break}ge=e.return}}var _M=Math.ceil,Ff=Ti.ReactCurrentDispatcher,Yx=Ti.ReactCurrentOwner,Dr=Ti.ReactCurrentBatchConfig,st=0,pn=null,nn=null,En=0,fr=0,bl=Uo(0),cn=0,sd=null,Sa=0,Hm=0,Xx=0,ku=null,nr=null,Zx=0,Zl=1/0,Ks=null,Uf=!1,nv=null,ho=null,Nh=!1,no=null,$f=0,Pu=0,rv=null,Jh=-1,ef=0;function Hn(){return st&6?Yt():Jh!==-1?Jh:Jh=Yt()}function fo(t){return t.mode&1?st&2&&En!==0?En&-En:sM.transition!==null?(ef===0&&(ef=nC()),ef):(t=pt,t!==0||(t=window.event,t=t===void 0?16:cC(t.type)),t):1}function is(t,e,n,r){if(50<Pu)throw Pu=0,rv=null,Error(J(185));Cd(t,n,r),(!(st&2)||t!==pn)&&(t===pn&&(!(st&2)&&(Hm|=n),cn===4&&qi(t,En)),ar(t,r),n===1&&st===0&&!(e.mode&1)&&(Zl=Yt()+500,$m&&$o()))}function ar(t,e){var n=t.callbackNode;sO(t,e);var r=Tf(t,t===pn?En:0);if(r===0)n!==null&&rb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rb(n),e===1)t.tag===0?rM(Qb.bind(null,t)):IC(Qb.bind(null,t)),JO(function(){!(st&6)&&$o()}),n=null;else{switch(rC(r)){case 1:n=Tx;break;case 4:n=eC;break;case 16:n=Ef;break;case 536870912:n=tC;break;default:n=Ef}n=CN(n,xN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xN(t,e){if(Jh=-1,ef=0,st&6)throw Error(J(327));var n=t.callbackNode;if(Il()&&t.callbackNode!==n)return null;var r=Tf(t,t===pn?En:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bf(t,r);else{e=r;var s=st;st|=2;var i=_N();(pn!==t||En!==e)&&(Ks=null,Zl=Yt()+500,xa(t,e));do try{TM();break}catch(l){wN(t,l)}while(!0);Lx(),Ff.current=i,st=s,nn!==null?e=0:(pn=null,En=0,e=cn)}if(e!==0){if(e===2&&(s=Py(t),s!==0&&(r=s,e=sv(t,s))),e===1)throw n=sd,xa(t,0),qi(t,r),ar(t,Yt()),n;if(e===6)qi(t,r);else{if(s=t.current.alternate,!(r&30)&&!bM(s)&&(e=Bf(t,r),e===2&&(i=Py(t),i!==0&&(r=i,e=sv(t,i))),e===1))throw n=sd,xa(t,0),qi(t,r),ar(t,Yt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:na(t,nr,Ks);break;case 3:if(qi(t,r),(r&130023424)===r&&(e=Zx+500-Yt(),10<e)){if(Tf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Hn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Vy(na.bind(null,t,nr,Ks),e);break}na(t,nr,Ks);break;case 4:if(qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ss(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_M(r/1960))-r,10<r){t.timeoutHandle=Vy(na.bind(null,t,nr,Ks),r);break}na(t,nr,Ks);break;case 5:na(t,nr,Ks);break;default:throw Error(J(329))}}}return ar(t,Yt()),t.callbackNode===n?xN.bind(null,t):null}function sv(t,e){var n=ku;return t.current.memoizedState.isDehydrated&&(xa(t,e).flags|=256),t=Bf(t,e),t!==2&&(e=nr,nr=n,e!==null&&iv(e)),t}function iv(t){nr===null?nr=t:nr.push.apply(nr,t)}function bM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!as(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qi(t,e){for(e&=~Xx,e&=~Hm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ss(e),r=1<<n;t[n]=-1,e&=~r}}function Qb(t){if(st&6)throw Error(J(327));Il();var e=Tf(t,0);if(!(e&1))return ar(t,Yt()),null;var n=Bf(t,e);if(t.tag!==0&&n===2){var r=Py(t);r!==0&&(e=r,n=sv(t,r))}if(n===1)throw n=sd,xa(t,0),qi(t,e),ar(t,Yt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,na(t,nr,Ks),ar(t,Yt()),null}function Jx(t,e){var n=st;st|=1;try{return t(e)}finally{st=n,st===0&&(Zl=Yt()+500,$m&&$o())}}function Ca(t){no!==null&&no.tag===0&&!(st&6)&&Il();var e=st;st|=1;var n=Dr.transition,r=pt;try{if(Dr.transition=null,pt=1,t)return t()}finally{pt=r,Dr.transition=n,st=e,!(st&6)&&$o()}}function ew(){fr=bl.current,Pt(bl)}function xa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZO(n)),nn!==null)for(n=nn.return;n!==null;){var r=n;switch(Dx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kf();break;case 3:Yl(),Pt(ir),Pt(Vn),zx();break;case 5:Bx(r);break;case 4:Yl();break;case 13:Pt(Lt);break;case 19:Pt(Lt);break;case 10:Vx(r.type._context);break;case 22:case 23:ew()}n=n.return}if(pn=t,nn=t=mo(t.current,null),En=fr=e,cn=0,sd=null,Xx=Hm=Sa=0,nr=ku=null,la!==null){for(e=0;e<la.length;e++)if(n=la[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}la=null}return t}function wN(t,e){do{var n=nn;try{if(Lx(),Yh.current=Vf,Lf){for(var r=Ut.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Lf=!1}if(Ta=0,fn=ln=Ut=null,Nu=!1,td=0,Yx.current=null,n===null||n.return===null){cn=1,sd=e,nn=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=En,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Mb(o);if(g!==null){g.flags&=-257,Lb(g,o,l,i,e),g.mode&1&&Ob(i,u,e),e=g,c=u;var E=e.updateQueue;if(E===null){var _=new Set;_.add(c),e.updateQueue=_}else E.add(c);break e}else{if(!(e&1)){Ob(i,u,e),tw();break e}c=Error(J(426))}}else if(jt&&l.mode&1){var x=Mb(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Lb(x,o,l,i,e),Ox(Xl(c,l));break e}}i=c=Xl(c,l),cn!==4&&(cn=2),ku===null?ku=[i]:ku.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=rN(i,c,e);kb(i,b);break e;case 1:l=c;var y=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ho===null||!ho.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=sN(i,l,e);kb(i,C);break e}}i=i.return}while(i!==null)}EN(n)}catch(A){e=A,nn===n&&n!==null&&(nn=n=n.return);continue}break}while(!0)}function _N(){var t=Ff.current;return Ff.current=Vf,t===null?Vf:t}function tw(){(cn===0||cn===3||cn===2)&&(cn=4),pn===null||!(Sa&268435455)&&!(Hm&268435455)||qi(pn,En)}function Bf(t,e){var n=st;st|=2;var r=_N();(pn!==t||En!==e)&&(Ks=null,xa(t,e));do try{EM();break}catch(s){wN(t,s)}while(!0);if(Lx(),st=n,Ff.current=r,nn!==null)throw Error(J(261));return pn=null,En=0,cn}function EM(){for(;nn!==null;)bN(nn)}function TM(){for(;nn!==null&&!QD();)bN(nn)}function bN(t){var e=SN(t.alternate,t,fr);t.memoizedProps=t.pendingProps,e===null?EN(t):nn=e,Yx.current=null}function EN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yM(n,e),n!==null){n.flags&=32767,nn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{cn=6,nn=null;return}}else if(n=gM(n,e,fr),n!==null){nn=n;return}if(e=e.sibling,e!==null){nn=e;return}nn=e=t}while(e!==null);cn===0&&(cn=5)}function na(t,e,n){var r=pt,s=Dr.transition;try{Dr.transition=null,pt=1,SM(t,e,n,r)}finally{Dr.transition=s,pt=r}return null}function SM(t,e,n,r){do Il();while(no!==null);if(st&6)throw Error(J(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(iO(t,i),t===pn&&(nn=pn=null,En=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nh||(Nh=!0,CN(Ef,function(){return Il(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Dr.transition,Dr.transition=null;var o=pt;pt=1;var l=st;st|=4,Yx.current=null,xM(t,n),yN(n,t),HO(My),Sf=!!Oy,My=Oy=null,t.current=n,wM(n),YD(),st=l,pt=o,Dr.transition=i}else t.current=n;if(Nh&&(Nh=!1,no=t,$f=s),i=t.pendingLanes,i===0&&(ho=null),JD(n.stateNode),ar(t,Yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Uf)throw Uf=!1,t=nv,nv=null,t;return $f&1&&t.tag!==0&&Il(),i=t.pendingLanes,i&1?t===rv?Pu++:(Pu=0,rv=t):Pu=0,$o(),null}function Il(){if(no!==null){var t=rC($f),e=Dr.transition,n=pt;try{if(Dr.transition=null,pt=16>t?16:t,no===null)var r=!1;else{if(t=no,no=null,$f=0,st&6)throw Error(J(331));var s=st;for(st|=4,ge=t.current;ge!==null;){var i=ge,o=i.child;if(ge.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ge=u;ge!==null;){var h=ge;switch(h.tag){case 0:case 11:case 15:Iu(8,h,i)}var f=h.child;if(f!==null)f.return=h,ge=f;else for(;ge!==null;){h=ge;var m=h.sibling,g=h.return;if(mN(h),h===u){ge=null;break}if(m!==null){m.return=g,ge=m;break}ge=g}}}var E=i.alternate;if(E!==null){var _=E.child;if(_!==null){E.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}ge=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ge=o;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Iu(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ge=b;break e}ge=i.return}}var y=t.current;for(ge=y;ge!==null;){o=ge;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ge=v;else e:for(o=y;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wm(9,l)}}catch(A){Gt(l,l.return,A)}if(l===o){ge=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,ge=C;break e}ge=l.return}}if(st=s,$o(),Cs&&typeof Cs.onPostCommitFiberRoot=="function")try{Cs.onPostCommitFiberRoot(Mm,t)}catch{}r=!0}return r}finally{pt=n,Dr.transition=e}}return!1}function Yb(t,e,n){e=Xl(n,e),e=rN(t,e,1),t=uo(t,e,1),e=Hn(),t!==null&&(Cd(t,1,e),ar(t,e))}function Gt(t,e,n){if(t.tag===3)Yb(t,t,n);else for(;e!==null;){if(e.tag===3){Yb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ho===null||!ho.has(r))){t=Xl(n,t),t=sN(e,t,1),e=uo(e,t,1),t=Hn(),e!==null&&(Cd(e,1,t),ar(e,t));break}}e=e.return}}function CM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Hn(),t.pingedLanes|=t.suspendedLanes&n,pn===t&&(En&n)===n&&(cn===4||cn===3&&(En&130023424)===En&&500>Yt()-Zx?xa(t,0):Xx|=n),ar(t,e)}function TN(t,e){e===0&&(t.mode&1?(e=yh,yh<<=1,!(yh&130023424)&&(yh=4194304)):e=1);var n=Hn();t=fi(t,e),t!==null&&(Cd(t,e,n),ar(t,n))}function NM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TN(t,n)}function IM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),TN(t,n)}var SN;SN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ir.current)sr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sr=!1,pM(t,e,n);sr=!!(t.flags&131072)}else sr=!1,jt&&e.flags&1048576&&kC(e,Rf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zh(t,e),t=e.pendingProps;var s=Gl(e,Vn.current);Nl(e,n),s=Hx(null,e,r,t,s,n);var i=qx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,or(r)?(i=!0,Pf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ux(e),s.updater=zm,e.stateNode=s,s._reactInternals=e,Hy(e,r,t,n),e=Ky(null,e,r,!0,i,n)):(e.tag=0,jt&&i&&jx(e),$n(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=PM(r),t=Gr(r,t),s){case 0:e=Gy(null,e,r,t,n);break e;case 1:e=Ub(null,e,r,t,n);break e;case 11:e=Vb(null,e,r,t,n);break e;case 14:e=Fb(null,e,r,Gr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gr(r,s),Gy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gr(r,s),Ub(t,e,r,s,n);case 3:e:{if(lN(e),t===null)throw Error(J(387));r=e.pendingProps,i=e.memoizedState,s=i.element,OC(t,e),Of(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Xl(Error(J(423)),e),e=$b(t,e,r,n,s);break e}else if(r!==s){s=Xl(Error(J(424)),e),e=$b(t,e,r,n,s);break e}else for(yr=co(e.stateNode.containerInfo.firstChild),xr=e,jt=!0,Zr=null,n=jC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kl(),r===s){e=mi(t,e,n);break e}$n(t,e,r,n)}e=e.child}return e;case 5:return MC(e),t===null&&By(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ly(r,s)?o=null:i!==null&&Ly(r,i)&&(e.flags|=32),aN(t,e),$n(t,e,o,n),e.child;case 6:return t===null&&By(e),null;case 13:return cN(t,e,n);case 4:return $x(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ql(e,null,r,n):$n(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gr(r,s),Vb(t,e,r,s,n);case 7:return $n(t,e,e.pendingProps,n),e.child;case 8:return $n(t,e,e.pendingProps.children,n),e.child;case 12:return $n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Tt(jf,r._currentValue),r._currentValue=o,i!==null)if(as(i.value,o)){if(i.children===s.children&&!ir.current){e=mi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ri(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),zy(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(J(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),zy(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$n(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Nl(e,n),s=Or(s),r=r(s),e.flags|=1,$n(t,e,r,n),e.child;case 14:return r=e.type,s=Gr(r,e.pendingProps),s=Gr(r.type,s),Fb(t,e,r,s,n);case 15:return iN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gr(r,s),Zh(t,e),e.tag=1,or(r)?(t=!0,Pf(e)):t=!1,Nl(e,n),nN(e,r,s),Hy(e,r,s,n),Ky(null,e,r,!0,t,n);case 19:return uN(t,e,n);case 22:return oN(t,e,n)}throw Error(J(156,e.tag))};function CN(t,e){return JS(t,e)}function kM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(t,e,n,r){return new kM(t,e,n,r)}function nw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PM(t){if(typeof t=="function")return nw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_x)return 11;if(t===bx)return 14}return 2}function mo(t,e){var n=t.alternate;return n===null?(n=jr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")nw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hl:return wa(n.children,s,i,e);case wx:o=8,s|=8;break;case py:return t=jr(12,n,e,s|2),t.elementType=py,t.lanes=i,t;case gy:return t=jr(13,n,e,s),t.elementType=gy,t.lanes=i,t;case yy:return t=jr(19,n,e,s),t.elementType=yy,t.lanes=i,t;case MS:return qm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DS:o=10;break e;case OS:o=9;break e;case _x:o=11;break e;case bx:o=14;break e;case Bi:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=jr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function wa(t,e,n,r){return t=jr(7,t,r,e),t.lanes=n,t}function qm(t,e,n,r){return t=jr(22,t,r,e),t.elementType=MS,t.lanes=n,t.stateNode={isHidden:!1},t}function jg(t,e,n){return t=jr(6,t,null,e),t.lanes=n,t}function Dg(t,e,n){return e=jr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AM(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mg(0),this.expirationTimes=mg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rw(t,e,n,r,s,i,o,l,c){return t=new AM(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=jr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ux(i),t}function RM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function NN(t){if(!t)return So;t=t._reactInternals;e:{if(Fa(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(or(n))return NC(t,n,e)}return e}function IN(t,e,n,r,s,i,o,l,c){return t=rw(n,r,!0,t,s,i,o,l,c),t.context=NN(null),n=t.current,r=Hn(),s=fo(n),i=ri(r,s),i.callback=e??null,uo(n,i,s),t.current.lanes=s,Cd(t,s,r),ar(t,r),t}function Gm(t,e,n,r){var s=e.current,i=Hn(),o=fo(s);return n=NN(n),e.context===null?e.context=n:e.pendingContext=n,e=ri(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=uo(s,e,o),t!==null&&(is(t,s,o,i),Qh(t,s,o)),o}function zf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sw(t,e){Xb(t,e),(t=t.alternate)&&Xb(t,e)}function jM(){return null}var kN=typeof reportError=="function"?reportError:function(t){console.error(t)};function iw(t){this._internalRoot=t}Km.prototype.render=iw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Gm(t,e,null,null)};Km.prototype.unmount=iw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ca(function(){Gm(null,t,null,null)}),e[hi]=null}};function Km(t){this._internalRoot=t}Km.prototype.unstable_scheduleHydration=function(t){if(t){var e=oC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hi.length&&e!==0&&e<Hi[n].priority;n++);Hi.splice(n,0,t),n===0&&lC(t)}};function ow(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zb(){}function DM(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=zf(o);i.call(u)}}var o=IN(e,r,t,0,null,!1,!1,"",Zb);return t._reactRootContainer=o,t[hi]=o.current,Yu(t.nodeType===8?t.parentNode:t),Ca(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=zf(c);l.call(u)}}var c=rw(t,0,!1,null,null,!1,!1,"",Zb);return t._reactRootContainer=c,t[hi]=c.current,Yu(t.nodeType===8?t.parentNode:t),Ca(function(){Gm(e,c,n,r)}),c}function Ym(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=zf(o);l.call(c)}}Gm(e,o,t,s)}else o=DM(n,e,t,s,r);return zf(o)}sC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hu(e.pendingLanes);n!==0&&(Sx(e,n|1),ar(e,Yt()),!(st&6)&&(Zl=Yt()+500,$o()))}break;case 13:Ca(function(){var r=fi(t,1);if(r!==null){var s=Hn();is(r,t,1,s)}}),sw(t,1)}};Cx=function(t){if(t.tag===13){var e=fi(t,134217728);if(e!==null){var n=Hn();is(e,t,134217728,n)}sw(t,134217728)}};iC=function(t){if(t.tag===13){var e=fo(t),n=fi(t,e);if(n!==null){var r=Hn();is(n,t,e,r)}sw(t,e)}};oC=function(){return pt};aC=function(t,e){var n=pt;try{return pt=t,e()}finally{pt=n}};Ny=function(t,e,n){switch(e){case"input":if(wy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Um(r);if(!s)throw Error(J(90));VS(r),wy(r,s)}}}break;case"textarea":US(t,n);break;case"select":e=n.value,e!=null&&El(t,!!n.multiple,e,!1)}};GS=Jx;KS=Ca;var OM={usingClientEntryPoint:!1,Events:[Id,gl,Um,HS,qS,Jx]},tu={findFiberByHostInstance:aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MM={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XS(t),t===null?null:t.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||jM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{Mm=Ih.inject(MM),Cs=Ih}catch{}}Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OM;Er.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ow(e))throw Error(J(200));return RM(t,e,null,n)};Er.createRoot=function(t,e){if(!ow(t))throw Error(J(299));var n=!1,r="",s=kN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=rw(t,1,!1,null,null,n,!1,r,s),t[hi]=e.current,Yu(t.nodeType===8?t.parentNode:t),new iw(e)};Er.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=XS(e),t=t===null?null:t.stateNode,t};Er.flushSync=function(t){return Ca(t)};Er.hydrate=function(t,e,n){if(!Qm(e))throw Error(J(200));return Ym(null,t,e,!0,n)};Er.hydrateRoot=function(t,e,n){if(!ow(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=kN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IN(e,null,t,1,n??null,s,!1,i,o),t[hi]=e.current,Yu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Km(e)};Er.render=function(t,e,n){if(!Qm(e))throw Error(J(200));return Ym(null,t,e,!1,n)};Er.unmountComponentAtNode=function(t){if(!Qm(t))throw Error(J(40));return t._reactRootContainer?(Ca(function(){Ym(null,null,t,!1,function(){t._reactRootContainer=null,t[hi]=null})}),!0):!1};Er.unstable_batchedUpdates=Jx;Er.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qm(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Ym(t,e,n,!1,r)};Er.version="18.3.1-next-f1338f8080-20240426";function PN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PN)}catch(t){console.error(t)}}PN(),PS.exports=Er;var Ua=PS.exports;const AN=vS(Ua);var RN,Jb=Ua;RN=Jb.createRoot,Jb.hydrateRoot;const LM=1,VM=1e6;let Og=0;function FM(){return Og=(Og+1)%Number.MAX_SAFE_INTEGER,Og.toString()}const Mg=new Map,e1=t=>{if(Mg.has(t))return;const e=setTimeout(()=>{Mg.delete(t),Au({type:"REMOVE_TOAST",toastId:t})},VM);Mg.set(t,e)},UM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,LM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?e1(n):t.toasts.forEach(r=>{e1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},nf=[];let rf={toasts:[]};function Au(t){rf=UM(rf,t),nf.forEach(e=>{e(rf)})}function $M({...t}){const e=FM(),n=s=>Au({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Au({type:"DISMISS_TOAST",toastId:e});return Au({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Sr(){const[t,e]=p.useState(rf);return p.useEffect(()=>(nf.push(e),()=>{const n=nf.indexOf(e);n>-1&&nf.splice(n,1)}),[t]),{...t,toast:$M,dismiss:n=>Au({type:"DISMISS_TOAST",toastId:n})}}function Ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function t1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jN(...t){return e=>{let n=!1;const r=t.map(s=>{const i=t1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():t1(t[s],null)}}}}function xt(...t){return p.useCallback(jN(...t),t)}function BM(t,e){const n=p.createContext(e),r=i=>{const{children:o,...l}=i,c=p.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Si(t,e=[]){let n=[];function r(i,o){const l=p.createContext(o),c=n.length;n=[...n,o];const u=f=>{var b;const{scope:m,children:g,...E}=f,_=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,x=p.useMemo(()=>E,Object.values(E));return a.jsx(_.Provider,{value:x,children:g})};u.displayName=i+"Provider";function h(f,m){var _;const g=((_=m==null?void 0:m[t])==null?void 0:_[c])||l,E=p.useContext(g);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,zM(s,...e)]}function zM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Jl(t){const e=WM(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,l=p.Children.toArray(i),c=l.find(qM);if(c){const u=c.props.children,h=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var wc=Jl("Slot");function WM(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=KM(s),l=GM(i,s.props);return s.type!==p.Fragment&&(l.ref=r?jN(r,o):o),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var DN=Symbol("radix.slottable");function HM(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=DN,e}function qM(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===DN}function GM(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function KM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function aw(t){const e=t+"CollectionProvider",[n,r]=Si(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:x,children:b}=_,y=H.useRef(null),v=H.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:v,collectionRef:y,children:b})};o.displayName=e;const l=t+"CollectionSlot",c=Jl(l),u=H.forwardRef((_,x)=>{const{scope:b,children:y}=_,v=i(l,b),C=xt(x,v.collectionRef);return a.jsx(c,{ref:C,children:y})});u.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=Jl(h),g=H.forwardRef((_,x)=>{const{scope:b,children:y,...v}=_,C=H.useRef(null),A=xt(x,C),P=i(h,b);return H.useEffect(()=>(P.itemMap.set(C,{ref:C,...v}),()=>void P.itemMap.delete(C))),a.jsx(m,{[f]:"",ref:A,children:y})});g.displayName=h;function E(_){const x=i(t+"CollectionConsumer",_);return H.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((P,N)=>v.indexOf(P.ref.current)-v.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},E,r]}var QM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=QM.reduce((t,e)=>{const n=Jl(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ON(t,e){t&&Ua.flushSync(()=>t.dispatchEvent(e))}function Lr(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function YM(t,e=globalThis==null?void 0:globalThis.document){const n=Lr(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var XM="DismissableLayer",ov="dismissableLayer.update",ZM="dismissableLayer.pointerDownOutside",JM="dismissableLayer.focusOutside",n1,MN=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pd=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,u=p.useContext(MN),[h,f]=p.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),E=xt(e,N=>f(N)),_=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=_.indexOf(x),y=h?_.indexOf(h):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,C=y>=b,A=t4(N=>{const S=N.target,I=[...u.branches].some(k=>k.contains(S));!C||I||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},m),P=n4(N=>{const S=N.target;[...u.branches].some(k=>k.contains(S))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},m);return YM(N=>{y===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),p.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(n1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),r1(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=n1)}},[h,m,n,u]),p.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),r1())},[h,u]),p.useEffect(()=>{const N=()=>g({});return document.addEventListener(ov,N),()=>document.removeEventListener(ov,N)},[]),a.jsx(Le.div,{...c,ref:E,style:{pointerEvents:v?C?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,A.onPointerDownCapture)})});Pd.displayName=XM;var e4="DismissableLayerBranch",LN=p.forwardRef((t,e)=>{const n=p.useContext(MN),r=p.useRef(null),s=xt(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(Le.div,{...t,ref:s})});LN.displayName=e4;function t4(t,e=globalThis==null?void 0:globalThis.document){const n=Lr(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){VN(ZM,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function n4(t,e=globalThis==null?void 0:globalThis.document){const n=Lr(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&VN(JM,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function r1(){const t=new CustomEvent(ov);document.dispatchEvent(t)}function VN(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ON(s,i):s.dispatchEvent(i)}var r4=Pd,s4=LN,Sn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},i4="Portal",Xm=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=p.useState(!1);Sn(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?AN.createPortal(a.jsx(Le.div,{...r,ref:e}),o):null});Xm.displayName=i4;function o4(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Bo=t=>{const{present:e,children:n}=t,r=a4(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=xt(r.ref,l4(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};Bo.displayName="Presence";function a4(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=o4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=kh(r.current);i.current=l==="mounted"?u:"none"},[l]),Sn(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,g=kh(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Sn(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=g=>{const _=kh(r.current).includes(g.animationName);if(g.target===e&&_&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=g=>{g.target===e&&(i.current=kh(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function kh(t){return(t==null?void 0:t.animationName)||"none"}function l4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var c4=gx[" useInsertionEffect ".trim().toString()]||Sn;function Co({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=u4({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=p.useRef(t!==void 0);p.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=p.useCallback(h=>{var f;if(l){const m=d4(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[l,t,i,o]);return[c,u]}function u4({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return c4(()=>{i.current=e},[e]),p.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function d4(t){return typeof t=="function"}var FN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),h4="VisuallyHidden",Zm=p.forwardRef((t,e)=>a.jsx(Le.span,{...t,ref:e,style:{...FN,...t.style}}));Zm.displayName=h4;var f4=Zm,lw="ToastProvider",[cw,m4,p4]=aw("Toast"),[UN,rQ]=Si("Toast",[p4]),[g4,Jm]=UN(lw),$N=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,c]=p.useState(null),[u,h]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${lw}\`. Expected non-empty \`string\`.`),a.jsx(cw.Provider,{scope:e,children:a.jsx(g4,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>h(g=>g+1),[]),onToastRemove:p.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};$N.displayName=lw;var BN="ToastViewport",y4=["F8"],av="toast.viewportPause",lv="toast.viewportResume",zN=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=y4,label:s="Notifications ({hotkey})",...i}=t,o=Jm(BN,n),l=m4(n),c=p.useRef(null),u=p.useRef(null),h=p.useRef(null),f=p.useRef(null),m=xt(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;p.useEffect(()=>{const x=b=>{var v;r.length!==0&&r.every(C=>b[C]||b.code===C)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),p.useEffect(()=>{const x=c.current,b=f.current;if(E&&x&&b){const y=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(av);b.dispatchEvent(P),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(lv);b.dispatchEvent(P),o.isClosePausedRef.current=!1}},C=P=>{!x.contains(P.relatedTarget)&&v()},A=()=>{x.contains(document.activeElement)||v()};return x.addEventListener("focusin",y),x.addEventListener("focusout",C),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",A),window.addEventListener("blur",y),window.addEventListener("focus",v),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",C),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",A),window.removeEventListener("blur",y),window.removeEventListener("focus",v)}}},[E,o.isClosePausedRef]);const _=p.useCallback(({tabbingDirection:x})=>{const y=l().map(v=>{const C=v.ref.current,A=[C,...P4(C)];return x==="forwards"?A:A.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return p.useEffect(()=>{const x=f.current;if(x){const b=y=>{var A,P,N;const v=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!v){const S=document.activeElement,I=y.shiftKey;if(y.target===x&&I){(A=u.current)==null||A.focus();return}const O=_({tabbingDirection:I?"backwards":"forwards"}),j=O.findIndex(B=>B===S);Lg(O.slice(j+1))?y.preventDefault():I?(P=u.current)==null||P.focus():(N=h.current)==null||N.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[l,_]),a.jsxs(s4,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&a.jsx(cv,{ref:u,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"forwards"});Lg(x)}}),a.jsx(cw.Slot,{scope:n,children:a.jsx(Le.ol,{tabIndex:-1,...i,ref:m})}),E&&a.jsx(cv,{ref:h,onFocusFromOutsideViewport:()=>{const x=_({tabbingDirection:"backwards"});Lg(x)}})]})});zN.displayName=BN;var WN="ToastFocusProxy",cv=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Jm(WN,n);return a.jsx(Zm,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});cv.displayName=WN;var Ad="Toast",v4="toast.swipeStart",x4="toast.swipeMove",w4="toast.swipeCancel",_4="toast.swipeEnd",HN=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l,c]=Co({prop:r,defaultProp:s??!0,onChange:i,caller:Ad});return a.jsx(Bo,{present:n||l,children:a.jsx(T4,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Lr(t.onPause),onResume:Lr(t.onResume),onSwipeStart:Ee(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ee(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});HN.displayName=Ad;var[b4,E4]=UN(Ad,{onClose(){}}),T4=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...E}=t,_=Jm(Ad,n),[x,b]=p.useState(null),y=xt(e,B=>b(B)),v=p.useRef(null),C=p.useRef(null),A=s||_.duration,P=p.useRef(0),N=p.useRef(A),S=p.useRef(0),{onToastAdd:I,onToastRemove:k}=_,R=Lr(()=>{var ee;(x==null?void 0:x.contains(document.activeElement))&&((ee=_.viewport)==null||ee.focus()),o()}),O=p.useCallback(B=>{!B||B===1/0||(window.clearTimeout(S.current),P.current=new Date().getTime(),S.current=window.setTimeout(R,B))},[R]);p.useEffect(()=>{const B=_.viewport;if(B){const ee=()=>{O(N.current),u==null||u()},Z=()=>{const se=new Date().getTime()-P.current;N.current=N.current-se,window.clearTimeout(S.current),c==null||c()};return B.addEventListener(av,Z),B.addEventListener(lv,ee),()=>{B.removeEventListener(av,Z),B.removeEventListener(lv,ee)}}},[_.viewport,A,c,u,O]),p.useEffect(()=>{i&&!_.isClosePausedRef.current&&O(A)},[i,A,_.isClosePausedRef,O]),p.useEffect(()=>(I(),()=>k()),[I,k]);const j=p.useMemo(()=>x?ZN(x):null,[x]);return _.viewport?a.jsxs(a.Fragment,{children:[j&&a.jsx(S4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),a.jsx(b4,{scope:n,onClose:R,children:Ua.createPortal(a.jsx(cw.ItemSlot,{scope:n,children:a.jsx(r4,{asChild:!0,onEscapeKeyDown:Ee(l,()=>{_.isFocusedToastEscapeKeyDownRef.current||R(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Le.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...E,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ee(t.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Ee(t.onPointerDown,B=>{B.button===0&&(v.current={x:B.clientX,y:B.clientY})}),onPointerMove:Ee(t.onPointerMove,B=>{if(!v.current)return;const ee=B.clientX-v.current.x,Z=B.clientY-v.current.y,se=!!C.current,U=["left","right"].includes(_.swipeDirection),$=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,ne=U?$(0,ee):0,he=U?0:$(0,Z),ae=B.pointerType==="touch"?10:2,ue={x:ne,y:he},we={originalEvent:B,delta:ue};se?(C.current=ue,Ph(x4,f,we,{discrete:!1})):s1(ue,_.swipeDirection,ae)?(C.current=ue,Ph(v4,h,we,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(ee)>ae||Math.abs(Z)>ae)&&(v.current=null)}),onPointerUp:Ee(t.onPointerUp,B=>{const ee=C.current,Z=B.target;if(Z.hasPointerCapture(B.pointerId)&&Z.releasePointerCapture(B.pointerId),C.current=null,v.current=null,ee){const se=B.currentTarget,U={originalEvent:B,delta:ee};s1(ee,_.swipeDirection,_.swipeThreshold)?Ph(_4,g,U,{discrete:!0}):Ph(w4,m,U,{discrete:!0}),se.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),S4=t=>{const{__scopeToast:e,children:n,...r}=t,s=Jm(Ad,e),[i,o]=p.useState(!1),[l,c]=p.useState(!1);return I4(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Xm,{asChild:!0,children:a.jsx(Zm,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},C4="ToastTitle",qN=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Le.div,{...r,ref:e})});qN.displayName=C4;var N4="ToastDescription",GN=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Le.div,{...r,ref:e})});GN.displayName=N4;var KN="ToastAction",QN=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(XN,{altText:n,asChild:!0,children:a.jsx(uw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${KN}\`. Expected non-empty \`string\`.`),null)});QN.displayName=KN;var YN="ToastClose",uw=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=E4(YN,n);return a.jsx(XN,{asChild:!0,children:a.jsx(Le.button,{type:"button",...r,ref:e,onClick:Ee(t.onClick,s.onClose)})})});uw.displayName=YN;var XN=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function ZN(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),k4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...ZN(r))}}),e}function Ph(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ON(s,i):s.dispatchEvent(i)}var s1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function I4(t=()=>{}){const e=Lr(t);Sn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function k4(t){return t.nodeType===t.ELEMENT_NODE}function P4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Lg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var A4=$N,JN=zN,eI=HN,tI=qN,nI=GN,rI=QN,sI=uw;function iI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=iI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function oI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=iI(t))&&(r&&(r+=" "),r+=e);return r}const i1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,o1=oI,$a=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return o1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const m=i1(h)||i1(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...g}=h;return Object.entries(g).every(E=>{let[_,x]=E;return Array.isArray(x)?x.includes({...i,...l}[_]):{...i,...l}[_]===x})?[...u,f,m]:u},[]);return o1(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...j4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:aI("lucide",s),...l},[...o.map(([u,h])=>p.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(D4,{ref:i,iconNode:e,className:aI(`lucide-${R4(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=Fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=Fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=Fe("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=Fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=Fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=Fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=Fe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=Fe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=Fe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=Fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=Fe("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=Fe("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=Fe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=Fe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=Fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=Fe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=Fe("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=Fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=Fe("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=Fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=Fe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=Fe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=Fe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=Fe("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=Fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=Fe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=Fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=Fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=Fe("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=Fe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),gw="-",rL=t=>{const e=iL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(gw);return l[0]===""&&l.length!==1&&l.shift(),mI(l,e)||sL(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},mI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?mI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(gw);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},l1=/^\[(.+)\]$/,sL=t=>{if(l1.test(t)){const e=l1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},iL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return aL(Object.entries(t.classGroups),n).forEach(([i,o])=>{uv(o,r,i,e)}),r},uv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:c1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(oL(s)){uv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{uv(o,c1(e,i),n,r)})})},c1=(t,e)=>{let n=t;return e.split(gw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},oL=t=>t.isThemeGetter,aL=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,lL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},pI="!",cL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let u=0,h=0,f;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===s&&(r||l.slice(x,x+i)===e)){c.push(l.slice(h,x)),h=x+i;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const m=c.length===0?l:l.substring(h),g=m.startsWith(pI),E=g?m.substring(1):m,_=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:E,maybePostfixModifierPosition:_}};return n?l=>n({className:l,parseClassName:o}):o},uL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},dL=t=>({cache:lL(t.cacheSize),parseClassName:cL(t),...rL(t)}),hL=/\s+/,fL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(hL);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let E=!!g,_=r(E?m.substring(0,g):m);if(!_){if(!E){l=u+(l.length>0?" "+l:l);continue}if(_=r(m),!_){l=u+(l.length>0?" "+l:l);continue}E=!1}const x=uL(h).join(":"),b=f?x+pI:x,y=b+_;if(i.includes(y))continue;i.push(y);const v=s(_,E);for(let C=0;C<v.length;++C){const A=v[C];i.push(b+A)}l=u+(l.length>0?" "+l:l)}return l};function mL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gI(e))&&(r&&(r+=" "),r+=n);return r}const gI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=gI(t[r]))&&(n&&(n+=" "),n+=e);return n};function pL(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((h,f)=>f(h),t());return n=dL(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=fL(c,n);return s(c,h),h}return function(){return i(mL.apply(null,arguments))}}const Ct=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},yI=/^\[(?:([a-z-]+):)?(.+)\]$/i,gL=/^\d+\/\d+$/,yL=new Set(["px","full","screen"]),vL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_L=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hs=t=>kl(t)||yL.has(t)||gL.test(t),Mi=t=>_c(t,"length",PL),kl=t=>!!t&&!Number.isNaN(Number(t)),Vg=t=>_c(t,"number",kl),nu=t=>!!t&&Number.isInteger(Number(t)),EL=t=>t.endsWith("%")&&kl(t.slice(0,-1)),Ue=t=>yI.test(t),Li=t=>vL.test(t),TL=new Set(["length","size","percentage"]),SL=t=>_c(t,TL,vI),CL=t=>_c(t,"position",vI),NL=new Set(["image","url"]),IL=t=>_c(t,NL,RL),kL=t=>_c(t,"",AL),ru=()=>!0,_c=(t,e,n)=>{const r=yI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},PL=t=>xL.test(t)&&!wL.test(t),vI=()=>!1,AL=t=>_L.test(t),RL=t=>bL.test(t),jL=()=>{const t=Ct("colors"),e=Ct("spacing"),n=Ct("blur"),r=Ct("brightness"),s=Ct("borderColor"),i=Ct("borderRadius"),o=Ct("borderSpacing"),l=Ct("borderWidth"),c=Ct("contrast"),u=Ct("grayscale"),h=Ct("hueRotate"),f=Ct("invert"),m=Ct("gap"),g=Ct("gradientColorStops"),E=Ct("gradientColorStopPositions"),_=Ct("inset"),x=Ct("margin"),b=Ct("opacity"),y=Ct("padding"),v=Ct("saturate"),C=Ct("scale"),A=Ct("sepia"),P=Ct("skew"),N=Ct("space"),S=Ct("translate"),I=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Ue,e],O=()=>[Ue,e],j=()=>["",Hs,Mi],B=()=>["auto",kl,Ue],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Ue],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>[kl,Ue];return{cacheSize:500,separator:":",theme:{colors:[ru],spacing:[Hs,Mi],blur:["none","",Li,Ue],brightness:he(),borderColor:[t],borderRadius:["none","","full",Li,Ue],borderSpacing:O(),borderWidth:j(),contrast:he(),grayscale:$(),hueRotate:he(),invert:$(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[EL,Mi],inset:R(),margin:R(),opacity:he(),padding:O(),saturate:he(),scale:he(),sepia:$(),skew:he(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ue]}],container:["container"],columns:[{columns:[Li]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),Ue]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nu,Ue]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ue]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",nu,Ue]}],"grid-cols":[{"grid-cols":[ru]}],"col-start-end":[{col:["auto",{span:["full",nu,Ue]},Ue]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[ru]}],"row-start-end":[{row:["auto",{span:[nu,Ue]},Ue]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ue]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ue,e]}],"min-w":[{"min-w":[Ue,e,"min","max","fit"]}],"max-w":[{"max-w":[Ue,e,"none","full","min","max","fit","prose",{screen:[Li]},Li]}],h:[{h:[Ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Li,Mi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vg]}],"font-family":[{font:[ru]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ue]}],"line-clamp":[{"line-clamp":["none",kl,Vg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hs,Ue]}],"list-image":[{"list-image":["none",Ue]}],"list-style-type":[{list:["none","disc","decimal",Ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hs,Mi]}],"underline-offset":[{"underline-offset":["auto",Hs,Ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),CL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},IL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Hs,Ue]}],"outline-w":[{outline:[Hs,Mi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Hs,Mi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Li,kL]}],"shadow-color":[{shadow:[ru]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Li,Ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ue]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",Ue]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[nu,Ue]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Hs,Mi,Vg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},DL=pL(jL);function ce(...t){return DL(oI(t))}const OL=A4,xI=p.forwardRef(({className:t,...e},n)=>a.jsx(JN,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));xI.displayName=JN.displayName;const ML=$a("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wI=p.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(eI,{ref:r,className:ce(ML({variant:e}),t),...n}));wI.displayName=eI.displayName;const LL=p.forwardRef(({className:t,...e},n)=>a.jsx(rI,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));LL.displayName=rI.displayName;const _I=p.forwardRef(({className:t,...e},n)=>a.jsx(sI,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(tp,{className:"h-4 w-4"})}));_I.displayName=sI.displayName;const bI=p.forwardRef(({className:t,...e},n)=>a.jsx(tI,{ref:n,className:ce("text-sm font-semibold",t),...e}));bI.displayName=tI.displayName;const EI=p.forwardRef(({className:t,...e},n)=>a.jsx(nI,{ref:n,className:ce("text-sm opacity-90",t),...e}));EI.displayName=nI.displayName;function VL(){const{toasts:t}=Sr();return a.jsxs(OL,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return a.jsxs(wI,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(bI,{children:n}),r&&a.jsx(EI,{children:r})]}),s,a.jsx(_I,{})]},e)}),a.jsx(xI,{})]})}var u1=["light","dark"],FL="(prefers-color-scheme: dark)",UL=p.createContext(void 0),$L={setTheme:t=>{},themes:[]},BL=()=>{var t;return(t=p.useContext(UL))!=null?t:$L};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?u1.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(E,_=!1,x=!0)=>{let b=o?o[E]:E,y=_?E+"|| ''":`'${b}'`,v="";return s&&x&&!_&&u1.includes(E)&&(v+=`d.style.colorScheme = '${E}';`),n==="class"?_||b?v+=`c.add(${y})`:v+="null":b&&(v+=`d[s](n,${y})`),v},g=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${FL}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var zL=t=>{switch(t){case"success":return qL;case"info":return KL;case"warning":return GL;case"error":return QL;default:return null}},WL=Array(12).fill(0),HL=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},WL.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),qL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),GL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),KL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),QL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),YL=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),XL=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},dv=1,ZL=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:dv++,o=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,l=s.then(async u=>{if(o=["resolve",u],H.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(eV(u)&&!u.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,h)=>l.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||dv++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},er=new ZL,JL=(t,e)=>{let n=(e==null?void 0:e.id)||dv++;return er.addToast({title:t,...e,id:n}),n},eV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",tV=JL,nV=()=>er.toasts,rV=()=>er.getActiveToasts();Object.assign(tV,{success:er.success,info:er.info,warning:er.warning,error:er.error,custom:er.custom,message:er.message,promise:er.promise,dismiss:er.dismiss,loading:er.loading},{getHistory:nV,getToasts:rV});function sV(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}sV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ah(t){return t.label!==void 0}var iV=3,oV="32px",aV="16px",d1=4e3,lV=356,cV=14,uV=20,dV=200;function Hr(...t){return t.filter(Boolean).join(" ")}function hV(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var fV=t=>{var e,n,r,s,i,o,l,c,u,h,f;let{invert:m,toast:g,unstyled:E,interacting:_,setHeights:x,visibleToasts:b,heights:y,index:v,toasts:C,expanded:A,removeToast:P,defaultRichColors:N,closeButton:S,style:I,cancelButtonStyle:k,actionButtonStyle:R,className:O="",descriptionClassName:j="",duration:B,position:ee,gap:Z,loadingIcon:se,expandByDefault:U,classNames:$,icons:ne,closeButtonAriaLabel:he="Close toast",pauseWhenPageIsHidden:ae}=t,[ue,we]=H.useState(null),[Ce,ut]=H.useState(null),[re,Be]=H.useState(!1),[ot,Pe]=H.useState(!1),[Ae,Re]=H.useState(!1),[bt,me]=H.useState(!1),[xe,nt]=H.useState(!1),[ht,At]=H.useState(0),[ze,L]=H.useState(0),V=H.useRef(g.duration||B||d1),M=H.useRef(null),W=H.useRef(null),G=v===0,X=v+1<=b,Y=g.type,pe=g.dismissible!==!1,He=g.className||"",Jt=g.descriptionClassName||"",Qn=H.useMemo(()=>y.findIndex(ke=>ke.toastId===g.id)||0,[y,g.id]),Yn=H.useMemo(()=>{var ke;return(ke=g.closeButton)!=null?ke:S},[g.closeButton,S]),Nr=H.useMemo(()=>g.duration||B||d1,[g.duration,B]),dn=H.useRef(0),gn=H.useRef(0),fs=H.useRef(0),Br=H.useRef(null),[Lc,Ai]=ee.split("-"),Vc=H.useMemo(()=>y.reduce((ke,rt,wt)=>wt>=Qn?ke:ke+rt.height,0),[y,Qn]),Fc=XL(),Yo=g.invert||m,Xo=Y==="loading";gn.current=H.useMemo(()=>Qn*Z+Vc,[Qn,Vc]),H.useEffect(()=>{V.current=Nr},[Nr]),H.useEffect(()=>{Be(!0)},[]),H.useEffect(()=>{let ke=W.current;if(ke){let rt=ke.getBoundingClientRect().height;return L(rt),x(wt=>[{toastId:g.id,height:rt,position:g.position},...wt]),()=>x(wt=>wt.filter(yn=>yn.toastId!==g.id))}},[x,g.id]),H.useLayoutEffect(()=>{if(!re)return;let ke=W.current,rt=ke.style.height;ke.style.height="auto";let wt=ke.getBoundingClientRect().height;ke.style.height=rt,L(wt),x(yn=>yn.find(Xn=>Xn.toastId===g.id)?yn.map(Xn=>Xn.toastId===g.id?{...Xn,height:wt}:Xn):[{toastId:g.id,height:wt,position:g.position},...yn])},[re,g.title,g.description,x,g.id]);let Ir=H.useCallback(()=>{Pe(!0),At(gn.current),x(ke=>ke.filter(rt=>rt.toastId!==g.id)),setTimeout(()=>{P(g)},dV)},[g,P,x,gn]);H.useEffect(()=>{if(g.promise&&Y==="loading"||g.duration===1/0||g.type==="loading")return;let ke;return A||_||ae&&Fc?(()=>{if(fs.current<dn.current){let rt=new Date().getTime()-dn.current;V.current=V.current-rt}fs.current=new Date().getTime()})():V.current!==1/0&&(dn.current=new Date().getTime(),ke=setTimeout(()=>{var rt;(rt=g.onAutoClose)==null||rt.call(g,g),Ir()},V.current)),()=>clearTimeout(ke)},[A,_,g,Y,ae,Fc,Ir]),H.useEffect(()=>{g.delete&&Ir()},[Ir,g.delete]);function Bs(){var ke,rt,wt;return ne!=null&&ne.loading?H.createElement("div",{className:Hr($==null?void 0:$.loader,(ke=g==null?void 0:g.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":Y==="loading"},ne.loading):se?H.createElement("div",{className:Hr($==null?void 0:$.loader,(rt=g==null?void 0:g.classNames)==null?void 0:rt.loader,"sonner-loader"),"data-visible":Y==="loading"},se):H.createElement(HL,{className:Hr($==null?void 0:$.loader,(wt=g==null?void 0:g.classNames)==null?void 0:wt.loader),visible:Y==="loading"})}return H.createElement("li",{tabIndex:0,ref:W,className:Hr(O,He,$==null?void 0:$.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[Y],(n=g==null?void 0:g.classNames)==null?void 0:n[Y]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:N,"data-styled":!(g.jsx||g.unstyled||E),"data-mounted":re,"data-promise":!!g.promise,"data-swiped":xe,"data-removed":ot,"data-visible":X,"data-y-position":Lc,"data-x-position":Ai,"data-index":v,"data-front":G,"data-swiping":Ae,"data-dismissible":pe,"data-type":Y,"data-invert":Yo,"data-swipe-out":bt,"data-swipe-direction":Ce,"data-expanded":!!(A||U&&re),style:{"--index":v,"--toasts-before":v,"--z-index":C.length-v,"--offset":`${ot?ht:gn.current}px`,"--initial-height":U?"auto":`${ze}px`,...I,...g.style},onDragEnd:()=>{Re(!1),we(null),Br.current=null},onPointerDown:ke=>{Xo||!pe||(M.current=new Date,At(gn.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(Re(!0),Br.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,rt,wt,yn;if(bt||!pe)return;Br.current=null;let Xn=Number(((ke=W.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Rt=Number(((rt=W.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ms=new Date().getTime()-((wt=M.current)==null?void 0:wt.getTime()),vn=ue==="x"?Xn:Rt,Zn=Math.abs(vn)/ms;if(Math.abs(vn)>=uV||Zn>.11){At(gn.current),(yn=g.onDismiss)==null||yn.call(g,g),ut(ue==="x"?Xn>0?"right":"left":Rt>0?"down":"up"),Ir(),me(!0),nt(!1);return}Re(!1),we(null)},onPointerMove:ke=>{var rt,wt,yn,Xn;if(!Br.current||!pe||((rt=window.getSelection())==null?void 0:rt.toString().length)>0)return;let Rt=ke.clientY-Br.current.y,ms=ke.clientX-Br.current.x,vn=(wt=t.swipeDirections)!=null?wt:hV(ee);!ue&&(Math.abs(ms)>1||Math.abs(Rt)>1)&&we(Math.abs(ms)>Math.abs(Rt)?"x":"y");let Zn={x:0,y:0};ue==="y"?(vn.includes("top")||vn.includes("bottom"))&&(vn.includes("top")&&Rt<0||vn.includes("bottom")&&Rt>0)&&(Zn.y=Rt):ue==="x"&&(vn.includes("left")||vn.includes("right"))&&(vn.includes("left")&&ms<0||vn.includes("right")&&ms>0)&&(Zn.x=ms),(Math.abs(Zn.x)>0||Math.abs(Zn.y)>0)&&nt(!0),(yn=W.current)==null||yn.style.setProperty("--swipe-amount-x",`${Zn.x}px`),(Xn=W.current)==null||Xn.style.setProperty("--swipe-amount-y",`${Zn.y}px`)}},Yn&&!g.jsx?H.createElement("button",{"aria-label":he,"data-disabled":Xo,"data-close-button":!0,onClick:Xo||!pe?()=>{}:()=>{var ke;Ir(),(ke=g.onDismiss)==null||ke.call(g,g)},className:Hr($==null?void 0:$.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=ne==null?void 0:ne.close)!=null?i:YL):null,g.jsx||p.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:H.createElement(H.Fragment,null,Y||g.icon||g.promise?H.createElement("div",{"data-icon":"",className:Hr($==null?void 0:$.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Bs():null,g.type!=="loading"?g.icon||(ne==null?void 0:ne[Y])||zL(Y):null):null,H.createElement("div",{"data-content":"",className:Hr($==null?void 0:$.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},H.createElement("div",{"data-title":"",className:Hr($==null?void 0:$.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?H.createElement("div",{"data-description":"",className:Hr(j,Jt,$==null?void 0:$.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),p.isValidElement(g.cancel)?g.cancel:g.cancel&&Ah(g.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||k,onClick:ke=>{var rt,wt;Ah(g.cancel)&&pe&&((wt=(rt=g.cancel).onClick)==null||wt.call(rt,ke),Ir())},className:Hr($==null?void 0:$.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,p.isValidElement(g.action)?g.action:g.action&&Ah(g.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||R,onClick:ke=>{var rt,wt;Ah(g.action)&&((wt=(rt=g.action).onClick)==null||wt.call(rt,ke),!ke.defaultPrevented&&Ir())},className:Hr($==null?void 0:$.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function h1(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function mV(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?aV:oV;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var pV=p.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:m,style:g,visibleToasts:E=iV,toastOptions:_,dir:x=h1(),gap:b=cV,loadingIcon:y,icons:v,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:A}=t,[P,N]=H.useState([]),S=H.useMemo(()=>Array.from(new Set([r].concat(P.filter(ae=>ae.position).map(ae=>ae.position)))),[P,r]),[I,k]=H.useState([]),[R,O]=H.useState(!1),[j,B]=H.useState(!1),[ee,Z]=H.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=H.useRef(null),U=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=H.useRef(null),ne=H.useRef(!1),he=H.useCallback(ae=>{N(ue=>{var we;return(we=ue.find(Ce=>Ce.id===ae.id))!=null&&we.delete||er.dismiss(ae.id),ue.filter(({id:Ce})=>Ce!==ae.id)})},[]);return H.useEffect(()=>er.subscribe(ae=>{if(ae.dismiss){N(ue=>ue.map(we=>we.id===ae.id?{...we,delete:!0}:we));return}setTimeout(()=>{AN.flushSync(()=>{N(ue=>{let we=ue.findIndex(Ce=>Ce.id===ae.id);return we!==-1?[...ue.slice(0,we),{...ue[we],...ae},...ue.slice(we+1)]:[ae,...ue]})})})}),[]),H.useEffect(()=>{if(h!=="system"){Z(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;let ae=window.matchMedia("(prefers-color-scheme: dark)");try{ae.addEventListener("change",({matches:ue})=>{Z(ue?"dark":"light")})}catch{ae.addListener(({matches:we})=>{try{Z(we?"dark":"light")}catch(Ce){console.error(Ce)}})}},[h]),H.useEffect(()=>{P.length<=1&&O(!1)},[P]),H.useEffect(()=>{let ae=ue=>{var we,Ce;s.every(ut=>ue[ut]||ue.code===ut)&&(O(!0),(we=se.current)==null||we.focus()),ue.code==="Escape"&&(document.activeElement===se.current||(Ce=se.current)!=null&&Ce.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",ae),()=>document.removeEventListener("keydown",ae)},[s]),H.useEffect(()=>{if(se.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,ne.current=!1)}},[se.current]),H.createElement("section",{ref:e,"aria-label":`${C} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((ae,ue)=>{var we;let[Ce,ut]=ae.split("-");return P.length?H.createElement("ol",{key:ae,dir:x==="auto"?h1():x,tabIndex:-1,ref:se,className:l,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":Ce,"data-lifted":R&&P.length>1&&!i,"data-x-position":ut,style:{"--front-toast-height":`${((we=I[0])==null?void 0:we.height)||0}px`,"--width":`${lV}px`,"--gap":`${b}px`,...g,...mV(c,u)},onBlur:re=>{ne.current&&!re.currentTarget.contains(re.relatedTarget)&&(ne.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,$.current=re.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{j||O(!1)},onDragEnd:()=>O(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},P.filter(re=>!re.position&&ue===0||re.position===ae).map((re,Be)=>{var ot,Pe;return H.createElement(fV,{key:re.id,icons:v,index:Be,toast:re,defaultRichColors:f,duration:(ot=_==null?void 0:_.duration)!=null?ot:m,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:n,visibleToasts:E,closeButton:(Pe=_==null?void 0:_.closeButton)!=null?Pe:o,interacting:j,position:ae,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:he,toasts:P.filter(Ae=>Ae.position==re.position),heights:I.filter(Ae=>Ae.position==re.position),setHeights:k,expandByDefault:i,gap:b,loadingIcon:y,expanded:R,pauseWhenPageIsHidden:A,swipeDirections:t.swipeDirections})})):null}))});const gV=({...t})=>{const{theme:e="system"}=BL();return a.jsx(pV,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var yV=gx[" useId ".trim().toString()]||(()=>{}),vV=0;function si(t){const[e,n]=p.useState(yV());return Sn(()=>{n(r=>r??String(vV++))},[t]),e?`radix-${e}`:""}const xV=["top","right","bottom","left"],Io=Math.min,pr=Math.max,qf=Math.round,Rh=Math.floor,Is=t=>({x:t,y:t}),wV={left:"right",right:"left",bottom:"top",top:"bottom"},_V={start:"end",end:"start"};function hv(t,e,n){return pr(t,Io(e,n))}function gi(t,e){return typeof t=="function"?t(e):t}function yi(t){return t.split("-")[0]}function bc(t){return t.split("-")[1]}function yw(t){return t==="x"?"y":"x"}function vw(t){return t==="y"?"height":"width"}const bV=new Set(["top","bottom"]);function Ts(t){return bV.has(yi(t))?"y":"x"}function xw(t){return yw(Ts(t))}function EV(t,e,n){n===void 0&&(n=!1);const r=bc(t),s=xw(t),i=vw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Gf(o)),[o,Gf(o)]}function TV(t){const e=Gf(t);return[fv(t),e,fv(e)]}function fv(t){return t.replace(/start|end/g,e=>_V[e])}const f1=["left","right"],m1=["right","left"],SV=["top","bottom"],CV=["bottom","top"];function NV(t,e,n){switch(t){case"top":case"bottom":return n?e?m1:f1:e?f1:m1;case"left":case"right":return e?SV:CV;default:return[]}}function IV(t,e,n,r){const s=bc(t);let i=NV(yi(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(fv)))),i}function Gf(t){return t.replace(/left|right|bottom|top/g,e=>wV[e])}function kV(t){return{top:0,right:0,bottom:0,left:0,...t}}function TI(t){return typeof t!="number"?kV(t):{top:t,right:t,bottom:t,left:t}}function Kf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function p1(t,e,n){let{reference:r,floating:s}=t;const i=Ts(e),o=xw(e),l=vw(o),c=yi(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(bc(e)){case"start":g[o]-=m*(n&&u?-1:1);break;case"end":g[o]+=m*(n&&u?-1:1);break}return g}const PV=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=p1(u,r,c),m=r,g={},E=0;for(let _=0;_<l.length;_++){const{name:x,fn:b}=l[_],{x:y,y:v,data:C,reset:A}=await b({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});h=y??h,f=v??f,g={...g,[x]:{...g[x],...C}},A&&E<=50&&(E++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(u=A.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):A.rects),{x:h,y:f}=p1(u,m,c)),_=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:g}};async function id(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=gi(e,t),E=TI(g),x=l[m?f==="floating"?"reference":"floating":f],b=Kf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),y=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),C=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},A=Kf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:v,strategy:c}):y);return{top:(b.top-A.top+E.top)/C.y,bottom:(A.bottom-b.bottom+E.bottom)/C.y,left:(b.left-A.left+E.left)/C.x,right:(A.right-b.right+E.right)/C.x}}const AV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=gi(t,e)||{};if(u==null)return{};const f=TI(h),m={x:n,y:r},g=xw(s),E=vw(g),_=await o.getDimensions(u),x=g==="y",b=x?"top":"left",y=x?"bottom":"right",v=x?"clientHeight":"clientWidth",C=i.reference[E]+i.reference[g]-m[g]-i.floating[E],A=m[g]-i.reference[g],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=P?P[v]:0;(!N||!await(o.isElement==null?void 0:o.isElement(P)))&&(N=l.floating[v]||i.floating[E]);const S=C/2-A/2,I=N/2-_[E]/2-1,k=Io(f[b],I),R=Io(f[y],I),O=k,j=N-_[E]-R,B=N/2-_[E]/2+S,ee=hv(O,B,j),Z=!c.arrow&&bc(s)!=null&&B!==ee&&i.reference[E]/2-(B<O?k:R)-_[E]/2<0,se=Z?B<O?B-O:B-j:0;return{[g]:m[g]+se,data:{[g]:ee,centerOffset:B-ee-se,...Z&&{alignmentOffset:se}},reset:Z}}}),RV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:_=!0,...x}=gi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=yi(s),y=Ts(l),v=yi(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),A=m||(v||!_?[Gf(l)]:TV(l)),P=E!=="none";!m&&P&&A.push(...IV(l,_,E,C));const N=[l,...A],S=await id(e,x),I=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(S[b]),f){const B=EV(s,o,C);I.push(S[B[0]],S[B[1]])}if(k=[...k,{placement:s,overflows:I}],!I.every(B=>B<=0)){var R,O;const B=(((R=i.flip)==null?void 0:R.index)||0)+1,ee=N[B];if(ee&&(!(f==="alignment"?y!==Ts(ee):!1)||k.every(U=>U.overflows[0]>0&&Ts(U.placement)===y)))return{data:{index:B,overflows:k},reset:{placement:ee}};let Z=(O=k.filter(se=>se.overflows[0]<=0).sort((se,U)=>se.overflows[1]-U.overflows[1])[0])==null?void 0:O.placement;if(!Z)switch(g){case"bestFit":{var j;const se=(j=k.filter(U=>{if(P){const $=Ts(U.placement);return $===y||$==="y"}return!0}).map(U=>[U.placement,U.overflows.filter($=>$>0).reduce(($,ne)=>$+ne,0)]).sort((U,$)=>U[1]-$[1])[0])==null?void 0:j[0];se&&(Z=se);break}case"initialPlacement":Z=l;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function g1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function y1(t){return xV.some(e=>t[e]>=0)}const jV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=gi(t,e);switch(r){case"referenceHidden":{const i=await id(e,{...s,elementContext:"reference"}),o=g1(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:y1(o)}}}case"escaped":{const i=await id(e,{...s,altBoundary:!0}),o=g1(i,n.floating);return{data:{escapedOffsets:o,escaped:y1(o)}}}default:return{}}}}},SI=new Set(["left","top"]);async function DV(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=yi(n),l=bc(n),c=Ts(n)==="y",u=SI.has(o)?-1:1,h=i&&c?-1:1,f=gi(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:E}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof E=="number"&&(g=l==="end"?E*-1:E),c?{x:g*h,y:m*u}:{x:m*u,y:g*h}}const OV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await DV(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},MV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:b,y}=x;return{x:b,y}}},...c}=gi(t,e),u={x:n,y:r},h=await id(e,c),f=Ts(yi(s)),m=yw(f);let g=u[m],E=u[f];if(i){const x=m==="y"?"top":"left",b=m==="y"?"bottom":"right",y=g+h[x],v=g-h[b];g=hv(y,g,v)}if(o){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=E+h[x],v=E-h[b];E=hv(y,E,v)}const _=l.fn({...e,[m]:g,[f]:E});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[m]:i,[f]:o}}}}}},LV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=gi(t,e),h={x:n,y:r},f=Ts(s),m=yw(f);let g=h[m],E=h[f];const _=gi(l,e),x=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const v=m==="y"?"height":"width",C=i.reference[m]-i.floating[v]+x.mainAxis,A=i.reference[m]+i.reference[v]-x.mainAxis;g<C?g=C:g>A&&(g=A)}if(u){var b,y;const v=m==="y"?"width":"height",C=SI.has(yi(s)),A=i.reference[f]-i.floating[v]+(C&&((b=o.offset)==null?void 0:b[f])||0)+(C?0:x.crossAxis),P=i.reference[f]+i.reference[v]+(C?0:((y=o.offset)==null?void 0:y[f])||0)-(C?x.crossAxis:0);E<A?E=A:E>P&&(E=P)}return{[m]:g,[f]:E}}}},VV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...u}=gi(t,e),h=await id(e,u),f=yi(s),m=bc(s),g=Ts(s)==="y",{width:E,height:_}=i.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,x=m==="end"?"top":"bottom");const y=_-h.top-h.bottom,v=E-h.left-h.right,C=Io(_-h[x],y),A=Io(E-h[b],v),P=!e.middlewareData.shift;let N=C,S=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=v),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=y),P&&!m){const k=pr(h.left,0),R=pr(h.right,0),O=pr(h.top,0),j=pr(h.bottom,0);g?S=E-2*(k!==0||R!==0?k+R:pr(h.left,h.right)):N=_-2*(O!==0||j!==0?O+j:pr(h.top,h.bottom))}await c({...e,availableWidth:S,availableHeight:N});const I=await o.getDimensions(l.floating);return E!==I.width||_!==I.height?{reset:{rects:!0}}:{}}}};function np(){return typeof window<"u"}function Ec(t){return CI(t)?(t.nodeName||"").toLowerCase():"#document"}function wr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vs(t){var e;return(e=(CI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function CI(t){return np()?t instanceof Node||t instanceof wr(t).Node:!1}function ls(t){return np()?t instanceof Element||t instanceof wr(t).Element:!1}function Os(t){return np()?t instanceof HTMLElement||t instanceof wr(t).HTMLElement:!1}function v1(t){return!np()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wr(t).ShadowRoot}const FV=new Set(["inline","contents"]);function Rd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=cs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!FV.has(s)}const UV=new Set(["table","td","th"]);function $V(t){return UV.has(Ec(t))}const BV=[":popover-open",":modal"];function rp(t){return BV.some(e=>{try{return t.matches(e)}catch{return!1}})}const zV=["transform","translate","scale","rotate","perspective"],WV=["transform","translate","scale","rotate","perspective","filter"],HV=["paint","layout","strict","content"];function ww(t){const e=_w(),n=ls(t)?cs(t):t;return zV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||WV.some(r=>(n.willChange||"").includes(r))||HV.some(r=>(n.contain||"").includes(r))}function qV(t){let e=ko(t);for(;Os(e)&&!ec(e);){if(ww(e))return e;if(rp(e))return null;e=ko(e)}return null}function _w(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GV=new Set(["html","body","#document"]);function ec(t){return GV.has(Ec(t))}function cs(t){return wr(t).getComputedStyle(t)}function sp(t){return ls(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ko(t){if(Ec(t)==="html")return t;const e=t.assignedSlot||t.parentNode||v1(t)&&t.host||Vs(t);return v1(e)?e.host:e}function NI(t){const e=ko(t);return ec(e)?t.ownerDocument?t.ownerDocument.body:t.body:Os(e)&&Rd(e)?e:NI(e)}function od(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=NI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=wr(s);if(i){const l=mv(o);return e.concat(o,o.visualViewport||[],Rd(s)?s:[],l&&n?od(l):[])}return e.concat(s,od(s,[],n))}function mv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function II(t){const e=cs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Os(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=qf(n)!==i||qf(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function bw(t){return ls(t)?t:t.contextElement}function Pl(t){const e=bw(t);if(!Os(e))return Is(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=II(e);let o=(i?qf(n.width):n.width)/r,l=(i?qf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const KV=Is(0);function kI(t){const e=wr(t);return!_w()||!e.visualViewport?KV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function QV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wr(t)?!1:e}function Na(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=bw(t);let o=Is(1);e&&(r?ls(r)&&(o=Pl(r)):o=Pl(t));const l=QV(i,n,r)?kI(i):Is(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=wr(i),g=r&&ls(r)?wr(r):r;let E=m,_=mv(E);for(;_&&r&&g!==E;){const x=Pl(_),b=_.getBoundingClientRect(),y=cs(_),v=b.left+(_.clientLeft+parseFloat(y.paddingLeft))*x.x,C=b.top+(_.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,h*=x.x,f*=x.y,c+=v,u+=C,E=wr(_),_=mv(E)}}return Kf({width:h,height:f,x:c,y:u})}function Ew(t,e){const n=sp(t).scrollLeft;return e?e.left+n:Na(Vs(t)).left+n}function PI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Ew(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function YV(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Vs(r),l=e?rp(e.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Is(1);const h=Is(0),f=Os(r);if((f||!f&&!i)&&((Ec(r)!=="body"||Rd(o))&&(c=sp(r)),Os(r))){const g=Na(r);u=Pl(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const m=o&&!f&&!i?PI(o,c,!0):Is(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function XV(t){return Array.from(t.getClientRects())}function ZV(t){const e=Vs(t),n=sp(t),r=t.ownerDocument.body,s=pr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=pr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ew(t);const l=-n.scrollTop;return cs(r).direction==="rtl"&&(o+=pr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function JV(t,e){const n=wr(t),r=Vs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=_w();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}const eF=new Set(["absolute","fixed"]);function tF(t,e){const n=Na(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Os(t)?Pl(t):Is(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function x1(t,e,n){let r;if(e==="viewport")r=JV(t,n);else if(e==="document")r=ZV(Vs(t));else if(ls(e))r=tF(e,n);else{const s=kI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Kf(r)}function AI(t,e){const n=ko(t);return n===e||!ls(n)||ec(n)?!1:cs(n).position==="fixed"||AI(n,e)}function nF(t,e){const n=e.get(t);if(n)return n;let r=od(t,[],!1).filter(l=>ls(l)&&Ec(l)!=="body"),s=null;const i=cs(t).position==="fixed";let o=i?ko(t):t;for(;ls(o)&&!ec(o);){const l=cs(o),c=ww(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&eF.has(s.position)||Rd(o)&&!c&&AI(t,o))?r=r.filter(h=>h!==o):s=l,o=ko(o)}return e.set(t,r),r}function rF(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?rp(e)?[]:nF(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,h)=>{const f=x1(e,h,s);return u.top=pr(f.top,u.top),u.right=Io(f.right,u.right),u.bottom=Io(f.bottom,u.bottom),u.left=pr(f.left,u.left),u},x1(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function sF(t){const{width:e,height:n}=II(t);return{width:e,height:n}}function iF(t,e,n){const r=Os(e),s=Vs(e),i=n==="fixed",o=Na(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Is(0);function u(){c.x=Ew(s)}if(r||!r&&!i)if((Ec(e)!=="body"||Rd(s))&&(l=sp(e)),r){const g=Na(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?PI(s,l):Is(0),f=o.left+l.scrollLeft-c.x-h.x,m=o.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function Fg(t){return cs(t).position==="static"}function w1(t,e){if(!Os(t)||cs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Vs(t)===n&&(n=n.ownerDocument.body),n}function RI(t,e){const n=wr(t);if(rp(t))return n;if(!Os(t)){let s=ko(t);for(;s&&!ec(s);){if(ls(s)&&!Fg(s))return s;s=ko(s)}return n}let r=w1(t,e);for(;r&&$V(r)&&Fg(r);)r=w1(r,e);return r&&ec(r)&&Fg(r)&&!ww(r)?n:r||qV(t)||n}const oF=async function(t){const e=this.getOffsetParent||RI,n=this.getDimensions,r=await n(t.floating);return{reference:iF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aF(t){return cs(t).direction==="rtl"}const lF={convertOffsetParentRelativeRectToViewportRelativeRect:YV,getDocumentElement:Vs,getClippingRect:rF,getOffsetParent:RI,getElementRects:oF,getClientRects:XV,getDimensions:sF,getScale:Pl,isElement:ls,isRTL:aF};function jI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function cF(t,e){let n=null,r;const s=Vs(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:h,top:f,width:m,height:g}=u;if(l||e(),!m||!g)return;const E=Rh(f),_=Rh(s.clientWidth-(h+m)),x=Rh(s.clientHeight-(f+g)),b=Rh(h),v={rootMargin:-E+"px "+-_+"px "+-x+"px "+-b+"px",threshold:pr(0,Io(1,c))||1};let C=!0;function A(P){const N=P[0].intersectionRatio;if(N!==c){if(!C)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!jI(u,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(A,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,v)}n.observe(t)}return o(!0),i}function uF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=bw(t),h=s||i?[...u?od(u):[],...od(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=u&&l?cF(u,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=g)==null||v.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let E,_=c?Na(t):null;c&&x();function x(){const b=Na(t);_&&!jI(_,b)&&n(),_=b,E=requestAnimationFrame(x)}return n(),()=>{var b;h.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(b=g)==null||b.disconnect(),g=null,c&&cancelAnimationFrame(E)}}const dF=OV,hF=MV,fF=RV,mF=VV,pF=jV,_1=AV,gF=LV,yF=(t,e,n)=>{const r=new Map,s={platform:lF,...n},i={...s.platform,_c:r};return PV(t,e,{...s,platform:i})};var vF=typeof document<"u",xF=function(){},sf=vF?p.useLayoutEffect:xF;function Qf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Qf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Qf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function DI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function b1(t,e){const n=DI(t);return Math.round(e*n)/n}function Ug(t){const e=p.useRef(t);return sf(()=>{e.current=t}),e}function wF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=p.useState(r);Qf(m,r)||g(r);const[E,_]=p.useState(null),[x,b]=p.useState(null),y=p.useCallback(U=>{U!==P.current&&(P.current=U,_(U))},[]),v=p.useCallback(U=>{U!==N.current&&(N.current=U,b(U))},[]),C=i||E,A=o||x,P=p.useRef(null),N=p.useRef(null),S=p.useRef(h),I=c!=null,k=Ug(c),R=Ug(s),O=Ug(u),j=p.useCallback(()=>{if(!P.current||!N.current)return;const U={placement:e,strategy:n,middleware:m};R.current&&(U.platform=R.current),yF(P.current,N.current,U).then($=>{const ne={...$,isPositioned:O.current!==!1};B.current&&!Qf(S.current,ne)&&(S.current=ne,Ua.flushSync(()=>{f(ne)}))})},[m,e,n,R,O]);sf(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(U=>({...U,isPositioned:!1})))},[u]);const B=p.useRef(!1);sf(()=>(B.current=!0,()=>{B.current=!1}),[]),sf(()=>{if(C&&(P.current=C),A&&(N.current=A),C&&A){if(k.current)return k.current(C,A,j);j()}},[C,A,j,k,I]);const ee=p.useMemo(()=>({reference:P,floating:N,setReference:y,setFloating:v}),[y,v]),Z=p.useMemo(()=>({reference:C,floating:A}),[C,A]),se=p.useMemo(()=>{const U={position:n,left:0,top:0};if(!Z.floating)return U;const $=b1(Z.floating,h.x),ne=b1(Z.floating,h.y);return l?{...U,transform:"translate("+$+"px, "+ne+"px)",...DI(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:ne}},[n,l,Z.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:j,refs:ee,elements:Z,floatingStyles:se}),[h,j,ee,Z,se])}const _F=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?_1({element:r.current,padding:s}).fn(n):{}:r?_1({element:r,padding:s}).fn(n):{}}}},bF=(t,e)=>({...dF(t),options:[t,e]}),EF=(t,e)=>({...hF(t),options:[t,e]}),TF=(t,e)=>({...gF(t),options:[t,e]}),SF=(t,e)=>({...fF(t),options:[t,e]}),CF=(t,e)=>({...mF(t),options:[t,e]}),NF=(t,e)=>({...pF(t),options:[t,e]}),IF=(t,e)=>({..._F(t),options:[t,e]});var kF="Arrow",OI=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return a.jsx(Le.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});OI.displayName=kF;var PF=OI;function MI(t){const[e,n]=p.useState(void 0);return Sn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Tw="Popper",[LI,ip]=Si(Tw),[AF,VI]=LI(Tw),FI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return a.jsx(AF,{scope:e,anchor:r,onAnchorChange:s,children:n})};FI.displayName=Tw;var UI="PopperAnchor",$I=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=VI(UI,n),o=p.useRef(null),l=xt(e,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(Le.div,{...s,ref:l})});$I.displayName=UI;var Sw="PopperContent",[RF,jF]=LI(Sw),BI=p.forwardRef((t,e)=>{var re,Be,ot,Pe,Ae,Re;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:E,..._}=t,x=VI(Sw,n),[b,y]=p.useState(null),v=xt(e,bt=>y(bt)),[C,A]=p.useState(null),P=MI(C),N=(P==null?void 0:P.width)??0,S=(P==null?void 0:P.height)??0,I=r+(i!=="center"?"-"+i:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(u)?u:[u],O=R.length>0,j={padding:k,boundary:R.filter(OF),altBoundary:O},{refs:B,floatingStyles:ee,placement:Z,isPositioned:se,middlewareData:U}=wF({strategy:"fixed",placement:I,whileElementsMounted:(...bt)=>uF(...bt,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[bF({mainAxis:s+S,alignmentAxis:o}),c&&EF({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?TF():void 0,...j}),c&&SF({...j}),CF({...j,apply:({elements:bt,rects:me,availableWidth:xe,availableHeight:nt})=>{const{width:ht,height:At}=me.reference,ze=bt.floating.style;ze.setProperty("--radix-popper-available-width",`${xe}px`),ze.setProperty("--radix-popper-available-height",`${nt}px`),ze.setProperty("--radix-popper-anchor-width",`${ht}px`),ze.setProperty("--radix-popper-anchor-height",`${At}px`)}}),C&&IF({element:C,padding:l}),MF({arrowWidth:N,arrowHeight:S}),m&&NF({strategy:"referenceHidden",...j})]}),[$,ne]=HI(Z),he=Lr(E);Sn(()=>{se&&(he==null||he())},[se,he]);const ae=(re=U.arrow)==null?void 0:re.x,ue=(Be=U.arrow)==null?void 0:Be.y,we=((ot=U.arrow)==null?void 0:ot.centerOffset)!==0,[Ce,ut]=p.useState();return Sn(()=>{b&&ut(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:se?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(Pe=U.transformOrigin)==null?void 0:Pe.x,(Ae=U.transformOrigin)==null?void 0:Ae.y].join(" "),...((Re=U.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(RF,{scope:n,placedSide:$,onArrowChange:A,arrowX:ae,arrowY:ue,shouldHideArrow:we,children:a.jsx(Le.div,{"data-side":$,"data-align":ne,..._,ref:v,style:{..._.style,animation:se?void 0:"none"}})})})});BI.displayName=Sw;var zI="PopperArrow",DF={top:"bottom",right:"left",bottom:"top",left:"right"},WI=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=jF(zI,r),o=DF[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(PF,{...s,ref:n,style:{...s.style,display:"block"}})})});WI.displayName=zI;function OF(t){return t!==null}var MF=t=>({name:"transformOrigin",options:t,fn(e){var x,b,y;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,h]=HI(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let E="",_="";return u==="bottom"?(E=o?f:`${m}px`,_=`${-c}px`):u==="top"?(E=o?f:`${m}px`,_=`${r.floating.height+c}px`):u==="right"?(E=`${-c}px`,_=o?f:`${g}px`):u==="left"&&(E=`${r.floating.width+c}px`,_=o?f:`${g}px`),{data:{x:E,y:_}}}});function HI(t){const[e,n="center"]=t.split("-");return[e,n]}var qI=FI,GI=$I,KI=BI,QI=WI,[op,iQ]=Si("Tooltip",[ip]),ap=ip(),YI="TooltipProvider",LF=700,pv="tooltip.open",[VF,Cw]=op(YI),XI=t=>{const{__scopeTooltip:e,delayDuration:n=LF,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(VF,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};XI.displayName=YI;var ad="Tooltip",[FF,lp]=op(ad),ZI=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=t,c=Cw(ad,t.__scopeTooltip),u=ap(e),[h,f]=p.useState(null),m=si(),g=p.useRef(0),E=o??c.disableHoverableContent,_=l??c.delayDuration,x=p.useRef(!1),[b,y]=Co({prop:r,defaultProp:s??!1,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(pv))):c.onClose(),i==null||i(N)},caller:ad}),v=p.useMemo(()=>b?x.current?"delayed-open":"instant-open":"closed",[b]),C=p.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x.current=!1,y(!0)},[y]),A=p.useCallback(()=>{window.clearTimeout(g.current),g.current=0,y(!1)},[y]),P=p.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,y(!0),g.current=0},_)},[_,y]);return p.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),a.jsx(qI,{...u,children:a.jsx(FF,{scope:e,contentId:m,open:b,stateAttribute:v,trigger:h,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?P():C()},[c.isOpenDelayedRef,P,C]),onTriggerLeave:p.useCallback(()=>{E?A():(window.clearTimeout(g.current),g.current=0)},[A,E]),onOpen:C,onClose:A,disableHoverableContent:E,children:n})})};ZI.displayName=ad;var gv="TooltipTrigger",JI=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=lp(gv,n),i=Cw(gv,n),o=ap(n),l=p.useRef(null),c=xt(e,l,s.onTriggerChange),u=p.useRef(!1),h=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(GI,{asChild:!0,...o,children:a.jsx(Le.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Ee(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ee(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Ee(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ee(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ee(t.onBlur,s.onClose),onClick:Ee(t.onClick,s.onClose)})})});JI.displayName=gv;var UF="TooltipPortal",[oQ,$F]=op(UF,{forceMount:void 0}),tc="TooltipContent",ek=p.forwardRef((t,e)=>{const n=$F(tc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=lp(tc,t.__scopeTooltip);return a.jsx(Bo,{present:r||o.open,children:o.disableHoverableContent?a.jsx(tk,{side:s,...i,ref:e}):a.jsx(BF,{side:s,...i,ref:e})})}),BF=p.forwardRef((t,e)=>{const n=lp(tc,t.__scopeTooltip),r=Cw(tc,t.__scopeTooltip),s=p.useRef(null),i=xt(e,s),[o,l]=p.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,m=p.useCallback(()=>{l(null),f(!1)},[f]),g=p.useCallback((E,_)=>{const x=E.currentTarget,b={x:E.clientX,y:E.clientY},y=GF(b,x.getBoundingClientRect()),v=KF(b,y),C=QF(_.getBoundingClientRect()),A=XF([...v,...C]);l(A),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&h){const E=x=>g(x,h),_=x=>g(x,c);return c.addEventListener("pointerleave",E),h.addEventListener("pointerleave",_),()=>{c.removeEventListener("pointerleave",E),h.removeEventListener("pointerleave",_)}}},[c,h,g,m]),p.useEffect(()=>{if(o){const E=_=>{const x=_.target,b={x:_.clientX,y:_.clientY},y=(c==null?void 0:c.contains(x))||(h==null?void 0:h.contains(x)),v=!YF(b,o);y?m():v&&(m(),u())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[c,h,o,u,m]),a.jsx(tk,{...t,ref:i})}),[zF,WF]=op(ad,{isInside:!1}),HF=HM("TooltipContent"),tk=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=lp(tc,n),u=ap(n),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(pv,h),()=>document.removeEventListener(pv,h)),[h]),p.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),a.jsx(Pd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:a.jsxs(KI,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(HF,{children:r}),a.jsx(zF,{scope:n,isInside:!0,children:a.jsx(f4,{id:c.contentId,role:"tooltip",children:s||r})})]})})});ek.displayName=tc;var nk="TooltipArrow",qF=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ap(n);return WF(nk,n).isInside?null:a.jsx(QI,{...s,...r,ref:e})});qF.displayName=nk;function GF(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function KF(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function QF(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function YF(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],u=l.x,h=l.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function XF(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ZF(e)}function ZF(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var JF=XI,e6=ZI,t6=JI,rk=ek;const sk=JF,n6=e6,r6=t6,ik=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(rk,{ref:r,sideOffset:e,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));ik.displayName=rk.displayName;var cp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},up=typeof window>"u"||"Deno"in globalThis;function Kr(){}function s6(t,e){return typeof t=="function"?t(e):t}function i6(t){return typeof t=="number"&&t>=0&&t!==1/0}function o6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function yv(t,e){return typeof t=="function"?t(e):t}function a6(t,e){return typeof t=="function"?t(e):t}function E1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==Nw(o,e.options))return!1}else if(!cd(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function T1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ld(e.options.mutationKey)!==ld(i))return!1}else if(!cd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Nw(t,e){return((e==null?void 0:e.queryKeyHashFn)||ld)(t)}function ld(t){return JSON.stringify(t,(e,n)=>vv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function cd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>cd(t[n],e[n])):!1}function ok(t,e){if(t===e)return t;const n=S1(t)&&S1(e);if(n||vv(t)&&vv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=ok(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return s===o&&u===s?t:l}return e}function S1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function vv(t){if(!C1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!C1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function C1(t){return Object.prototype.toString.call(t)==="[object Object]"}function l6(t){return new Promise(e=>{setTimeout(e,t)})}function c6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ok(t,e):e}function u6(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function d6(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Iw=Symbol();function ak(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Iw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var fa,Yi,Vl,uS,h6=(uS=class extends cp{constructor(){super();lt(this,fa);lt(this,Yi);lt(this,Vl);Ve(this,Vl,e=>{if(!up&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){K(this,Yi)||this.setEventListener(K(this,Vl))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,Yi))==null||e.call(this),Ve(this,Yi,void 0))}setEventListener(e){var n;Ve(this,Vl,e),(n=K(this,Yi))==null||n.call(this),Ve(this,Yi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){K(this,fa)!==e&&(Ve(this,fa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof K(this,fa)=="boolean"?K(this,fa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},fa=new WeakMap,Yi=new WeakMap,Vl=new WeakMap,uS),lk=new h6,Fl,Xi,Ul,dS,f6=(dS=class extends cp{constructor(){super();lt(this,Fl,!0);lt(this,Xi);lt(this,Ul);Ve(this,Ul,e=>{if(!up&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){K(this,Xi)||this.setEventListener(K(this,Ul))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,Xi))==null||e.call(this),Ve(this,Xi,void 0))}setEventListener(e){var n;Ve(this,Ul,e),(n=K(this,Xi))==null||n.call(this),Ve(this,Xi,e(this.setOnline.bind(this)))}setOnline(e){K(this,Fl)!==e&&(Ve(this,Fl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return K(this,Fl)}},Fl=new WeakMap,Xi=new WeakMap,Ul=new WeakMap,dS),Yf=new f6;function m6(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function p6(t){return Math.min(1e3*2**t,3e4)}function ck(t){return(t??"online")==="online"?Yf.isOnline():!0}var uk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function $g(t){return t instanceof uk}function dk(t){let e=!1,n=0,r=!1,s;const i=m6(),o=_=>{var x;r||(m(new uk(_)),(x=t.abort)==null||x.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>lk.isFocused()&&(t.networkMode==="always"||Yf.isOnline())&&t.canRun(),h=()=>ck(t.networkMode)&&t.canRun(),f=_=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,_),s==null||s(),i.resolve(_))},m=_=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,_),s==null||s(),i.reject(_))},g=()=>new Promise(_=>{var x;s=b=>{(r||u())&&_(b)},(x=t.onPause)==null||x.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),E=()=>{if(r)return;let _;const x=n===0?t.initialPromise:void 0;try{_=x??t.fn()}catch(b){_=Promise.reject(b)}Promise.resolve(_).then(f).catch(b=>{var P;if(r)return;const y=t.retry??(up?0:3),v=t.retryDelay??p6,C=typeof v=="function"?v(n,b):v,A=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,b);if(e||!A){m(b);return}n++,(P=t.onFail)==null||P.call(t,n,b),l6(C).then(()=>u()?void 0:g()).then(()=>{e?m(b):E()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?E():g().then(E),i)}}var g6=t=>setTimeout(t,0);function y6(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=g6;const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var zn=y6(),ma,hS,hk=(hS=class{constructor(){lt(this,ma)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),i6(this.gcTime)&&Ve(this,ma,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(up?1/0:5*60*1e3))}clearGcTimeout(){K(this,ma)&&(clearTimeout(K(this,ma)),Ve(this,ma,void 0))}},ma=new WeakMap,hS),$l,pa,kr,ga,Dn,Ed,ya,Qr,Gs,fS,v6=(fS=class extends hk{constructor(n){super();lt(this,Qr);lt(this,$l);lt(this,pa);lt(this,kr);lt(this,ga);lt(this,Dn);lt(this,Ed);lt(this,ya);Ve(this,ya,!1),Ve(this,Ed,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ve(this,ga,n.client),Ve(this,kr,K(this,ga).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ve(this,$l,w6(this.options)),this.state=n.state??K(this,$l),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=K(this,Dn))==null?void 0:n.promise}setOptions(n){this.options={...K(this,Ed),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,kr).remove(this)}setData(n,r){const s=c6(this.state.data,n,this.options);return Pn(this,Qr,Gs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Pn(this,Qr,Gs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=K(this,Dn))==null?void 0:s.promise;return(i=K(this,Dn))==null||i.cancel(n),r?r.then(Kr).catch(Kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,$l))}isActive(){return this.observers.some(n=>a6(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Iw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>yv(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!o6(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=K(this,Dn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=K(this,Dn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),K(this,kr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(K(this,Dn)&&(K(this,ya)?K(this,Dn).cancel({revert:!0}):K(this,Dn).cancelRetry()),this.scheduleGc()),K(this,kr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pn(this,Qr,Gs).call(this,{type:"invalidate"})}fetch(n,r){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(K(this,Dn))return K(this,Dn).continueRetry(),K(this,Dn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(E=>E.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Ve(this,ya,!0),s.signal)})},o=()=>{const g=ak(this.options,r),_=(()=>{const x={client:K(this,ga),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return Ve(this,ya,!1),this.options.persister?this.options.persister(g,_,this):g(_)},c=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:K(this,ga),state:this.state,fetchFn:o};return i(g),g})();(h=this.options.behavior)==null||h.onFetch(c,this),Ve(this,pa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Pn(this,Qr,Gs).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=g=>{var E,_,x,b;$g(g)&&g.silent||Pn(this,Qr,Gs).call(this,{type:"error",error:g}),$g(g)||((_=(E=K(this,kr).config).onError)==null||_.call(E,g,this),(b=(x=K(this,kr).config).onSettled)==null||b.call(x,this.state.data,g,this)),this.scheduleGc()};return Ve(this,Dn,dk({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var E,_,x,b;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(y){u(y);return}(_=(E=K(this,kr).config).onSuccess)==null||_.call(E,g,this),(b=(x=K(this,kr).config).onSettled)==null||b.call(x,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,E)=>{Pn(this,Qr,Gs).call(this,{type:"failed",failureCount:g,error:E})},onPause:()=>{Pn(this,Qr,Gs).call(this,{type:"pause"})},onContinue:()=>{Pn(this,Qr,Gs).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),K(this,Dn).start()}},$l=new WeakMap,pa=new WeakMap,kr=new WeakMap,ga=new WeakMap,Dn=new WeakMap,Ed=new WeakMap,ya=new WeakMap,Qr=new WeakSet,Gs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...x6(s.data,this.options),fetchMeta:n.meta??null};case"success":return Ve(this,pa,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return $g(i)&&i.revert&&K(this,pa)?{...K(this,pa),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),zn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),K(this,kr).notify({query:this,type:"updated",action:n})})},fS);function x6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ck(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function w6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xs,mS,_6=(mS=class extends cp{constructor(e={}){super();lt(this,xs);this.config=e,Ve(this,xs,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Nw(s,n);let o=this.get(i);return o||(o=new v6({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){K(this,xs).has(e.queryHash)||(K(this,xs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=K(this,xs).get(e.queryHash);n&&(e.destroy(),n===e&&K(this,xs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return K(this,xs).get(e)}getAll(){return[...K(this,xs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>E1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>E1(e,r)):n}notify(e){zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xs=new WeakMap,mS),ws,Un,va,_s,Ui,pS,b6=(pS=class extends hk{constructor(n){super();lt(this,_s);lt(this,ws);lt(this,Un);lt(this,va);this.mutationId=n.mutationId,Ve(this,Un,n.mutationCache),Ve(this,ws,[]),this.state=n.state||E6(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){K(this,ws).includes(n)||(K(this,ws).push(n),this.clearGcTimeout(),K(this,Un).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ve(this,ws,K(this,ws).filter(r=>r!==n)),this.scheduleGc(),K(this,Un).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){K(this,ws).length||(this.state.status==="pending"?this.scheduleGc():K(this,Un).remove(this))}continue(){var n;return((n=K(this,va))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,l,c,u,h,f,m,g,E,_,x,b,y,v,C,A,P,N,S,I;const r=()=>{Pn(this,_s,Ui).call(this,{type:"continue"})};Ve(this,va,dk({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(k,R)=>{Pn(this,_s,Ui).call(this,{type:"failed",failureCount:k,error:R})},onPause:()=>{Pn(this,_s,Ui).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,Un).canRun(this)}));const s=this.state.status==="pending",i=!K(this,va).canStart();try{if(s)r();else{Pn(this,_s,Ui).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(o=K(this,Un).config).onMutate)==null?void 0:l.call(o,n,this));const R=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));R!==this.state.context&&Pn(this,_s,Ui).call(this,{type:"pending",context:R,variables:n,isPaused:i})}const k=await K(this,va).start();return await((f=(h=K(this,Un).config).onSuccess)==null?void 0:f.call(h,k,n,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,k,n,this.state.context)),await((_=(E=K(this,Un).config).onSettled)==null?void 0:_.call(E,k,null,this.state.variables,this.state.context,this)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,k,null,n,this.state.context)),Pn(this,_s,Ui).call(this,{type:"success",data:k}),k}catch(k){try{throw await((v=(y=K(this,Un).config).onError)==null?void 0:v.call(y,k,n,this.state.context,this)),await((A=(C=this.options).onError)==null?void 0:A.call(C,k,n,this.state.context)),await((N=(P=K(this,Un).config).onSettled)==null?void 0:N.call(P,void 0,k,this.state.variables,this.state.context,this)),await((I=(S=this.options).onSettled)==null?void 0:I.call(S,void 0,k,n,this.state.context)),k}finally{Pn(this,_s,Ui).call(this,{type:"error",error:k})}}finally{K(this,Un).runNext(this)}}},ws=new WeakMap,Un=new WeakMap,va=new WeakMap,_s=new WeakSet,Ui=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zn.batch(()=>{K(this,ws).forEach(s=>{s.onMutationUpdate(n)}),K(this,Un).notify({mutation:this,type:"updated",action:n})})},pS);function E6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ys,Yr,Td,gS,T6=(gS=class extends cp{constructor(e={}){super();lt(this,Ys);lt(this,Yr);lt(this,Td);this.config=e,Ve(this,Ys,new Set),Ve(this,Yr,new Map),Ve(this,Td,0)}build(e,n,r){const s=new b6({mutationCache:this,mutationId:++dh(this,Td)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){K(this,Ys).add(e);const n=jh(e);if(typeof n=="string"){const r=K(this,Yr).get(n);r?r.push(e):K(this,Yr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(K(this,Ys).delete(e)){const n=jh(e);if(typeof n=="string"){const r=K(this,Yr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&K(this,Yr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=jh(e);if(typeof n=="string"){const r=K(this,Yr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=jh(e);if(typeof n=="string"){const s=(r=K(this,Yr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zn.batch(()=>{K(this,Ys).forEach(e=>{this.notify({type:"removed",mutation:e})}),K(this,Ys).clear(),K(this,Yr).clear()})}getAll(){return Array.from(K(this,Ys))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>T1(n,r))}findAll(e={}){return this.getAll().filter(n=>T1(e,n))}notify(e){zn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return zn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Kr))))}},Ys=new WeakMap,Yr=new WeakMap,Td=new WeakMap,gS);function jh(t){var e;return(e=t.options.scope)==null?void 0:e.id}function N1(t){return{onFetch:(e,n)=>{var h,f,m,g,E;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((E=e.state.data)==null?void 0:E.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let _=!1;const x=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},b=ak(e.options,e.fetchOptions),y=async(v,C,A)=>{if(_)return Promise.reject();if(C==null&&v.pages.length)return Promise.resolve(v);const N=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:C,direction:A?"backward":"forward",meta:e.options.meta};return x(R),R})(),S=await b(N),{maxPages:I}=e.options,k=A?d6:u6;return{pages:k(v.pages,S,I),pageParams:k(v.pageParams,C,I)}};if(s&&i.length){const v=s==="backward",C=v?S6:I1,A={pages:i,pageParams:o},P=C(r,A);l=await y(A,P,v)}else{const v=t??i.length;do{const C=c===0?o[0]??r.initialPageParam:I1(r,l);if(c>0&&C==null)break;l=await y(l,C),c++}while(c<v)}return l};e.options.persister?e.fetchFn=()=>{var _,x;return(x=(_=e.options).persister)==null?void 0:x.call(_,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function I1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function S6(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ht,Zi,Ji,Bl,zl,eo,Wl,Hl,yS,C6=(yS=class{constructor(t={}){lt(this,Ht);lt(this,Zi);lt(this,Ji);lt(this,Bl);lt(this,zl);lt(this,eo);lt(this,Wl);lt(this,Hl);Ve(this,Ht,t.queryCache||new _6),Ve(this,Zi,t.mutationCache||new T6),Ve(this,Ji,t.defaultOptions||{}),Ve(this,Bl,new Map),Ve(this,zl,new Map),Ve(this,eo,0)}mount(){dh(this,eo)._++,K(this,eo)===1&&(Ve(this,Wl,lk.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Ht).onFocus())})),Ve(this,Hl,Yf.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Ht).onOnline())})))}unmount(){var t,e;dh(this,eo)._--,K(this,eo)===0&&((t=K(this,Wl))==null||t.call(this),Ve(this,Wl,void 0),(e=K(this,Hl))==null||e.call(this),Ve(this,Hl,void 0))}isFetching(t){return K(this,Ht).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return K(this,Zi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=K(this,Ht).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=K(this,Ht).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(yv(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return K(this,Ht).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=K(this,Ht).get(r.queryHash),i=s==null?void 0:s.state.data,o=s6(e,i);if(o!==void 0)return K(this,Ht).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return zn.batch(()=>K(this,Ht).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=K(this,Ht).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=K(this,Ht);zn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=K(this,Ht);return zn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=zn.batch(()=>K(this,Ht).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Kr).catch(Kr)}invalidateQueries(t,e={}){return zn.batch(()=>(K(this,Ht).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=zn.batch(()=>K(this,Ht).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Kr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Kr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=K(this,Ht).build(this,e);return n.isStaleByTime(yv(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Kr).catch(Kr)}fetchInfiniteQuery(t){return t.behavior=N1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Kr).catch(Kr)}ensureInfiniteQueryData(t){return t.behavior=N1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Yf.isOnline()?K(this,Zi).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,Ht)}getMutationCache(){return K(this,Zi)}getDefaultOptions(){return K(this,Ji)}setDefaultOptions(t){Ve(this,Ji,t)}setQueryDefaults(t,e){K(this,Bl).set(ld(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...K(this,Bl).values()],n={};return e.forEach(r=>{cd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){K(this,zl).set(ld(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...K(this,zl).values()],n={};return e.forEach(r=>{cd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...K(this,Ji).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Nw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Iw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...K(this,Ji).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){K(this,Ht).clear(),K(this,Zi).clear()}},Ht=new WeakMap,Zi=new WeakMap,Ji=new WeakMap,Bl=new WeakMap,zl=new WeakMap,eo=new WeakMap,Wl=new WeakMap,Hl=new WeakMap,yS),N6=p.createContext(void 0),I6=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(N6.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ud(){return ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ud.apply(this,arguments)}var ro;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ro||(ro={}));const k1="popstate";function k6(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return xv("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Xf(s)}return A6(e,n,null,t)}function $t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P6(){return Math.random().toString(36).substr(2,8)}function P1(t,e){return{usr:t.state,key:t.key,idx:e}}function xv(t,e,n,r){return n===void 0&&(n=null),ud({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Tc(e):e,{state:n,key:e&&e.key||r||P6()})}function Xf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Tc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function A6(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=ro.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(ud({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=ro.Pop;let x=h(),b=x==null?null:x-u;u=x,c&&c({action:l,location:_.location,delta:b})}function m(x,b){l=ro.Push;let y=xv(_.location,x,b);u=h()+1;let v=P1(y,u),C=_.createHref(y);try{o.pushState(v,"",C)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(C)}i&&c&&c({action:l,location:_.location,delta:1})}function g(x,b){l=ro.Replace;let y=xv(_.location,x,b);u=h();let v=P1(y,u),C=_.createHref(y);o.replaceState(v,"",C),i&&c&&c({action:l,location:_.location,delta:0})}function E(x){let b=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:Xf(x);return y=y.replace(/ $/,"%20"),$t(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let _={get action(){return l},get location(){return t(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(k1,f),c=x,()=>{s.removeEventListener(k1,f),c=null}},createHref(x){return e(s,x)},createURL:E,encodeLocation(x){let b=E(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:g,go(x){return o.go(x)}};return _}var A1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(A1||(A1={}));function R6(t,e,n){return n===void 0&&(n="/"),j6(t,e,n,!1)}function j6(t,e,n,r){let s=typeof e=="string"?Tc(e):e,i=nc(s.pathname||"/",n);if(i==null)return null;let o=mk(t);D6(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=H6(i);l=z6(o[c],u,r)}return l}function mk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&($t(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=po([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&($t(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mk(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:$6(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of pk(i.path))s(i,o,c)}),e}function pk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=pk(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function D6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:B6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const O6=/^:[\w-]+$/,M6=3,L6=2,V6=1,F6=10,U6=-2,R1=t=>t==="*";function $6(t,e){let n=t.split("/"),r=n.length;return n.some(R1)&&(r+=U6),e&&(r+=L6),n.filter(s=>!R1(s)).reduce((s,i)=>s+(O6.test(i)?M6:i===""?V6:F6),r)}function B6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function z6(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Zf({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Zf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:po([i,f.pathname]),pathnameBase:Q6(po([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=po([i,f.pathnameBase]))}return o}function Zf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=W6(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let _=l[f]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const E=l[f];return g&&!E?u[m]=void 0:u[m]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function W6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function H6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function q6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Tc(t):t;return{pathname:n?n.startsWith("/")?n:G6(n,e):e,search:Y6(r),hash:X6(s)}}function G6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Bg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kw(t,e){let n=K6(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Pw(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Tc(t):(s=ud({},t),$t(!s.pathname||!s.pathname.includes("?"),Bg("?","pathname","search",s)),$t(!s.pathname||!s.pathname.includes("#"),Bg("#","pathname","hash",s)),$t(!s.search||!s.search.includes("#"),Bg("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=q6(s,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const po=t=>t.join("/").replace(/\/\/+/g,"/"),Q6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Y6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,X6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Z6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gk=["post","put","patch","delete"];new Set(gk);const J6=["get",...gk];new Set(J6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dd.apply(this,arguments)}const dp=p.createContext(null),yk=p.createContext(null),Ci=p.createContext(null),hp=p.createContext(null),zo=p.createContext({outlet:null,matches:[],isDataRoute:!1}),vk=p.createContext(null);function e5(t,e){let{relative:n}=e===void 0?{}:e;Sc()||$t(!1);let{basename:r,navigator:s}=p.useContext(Ci),{hash:i,pathname:o,search:l}=fp(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:po([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Sc(){return p.useContext(hp)!=null}function Fs(){return Sc()||$t(!1),p.useContext(hp).location}function xk(t){p.useContext(Ci).static||p.useLayoutEffect(t)}function Cc(){let{isDataRoute:t}=p.useContext(zo);return t?f5():t5()}function t5(){Sc()||$t(!1);let t=p.useContext(dp),{basename:e,future:n,navigator:r}=p.useContext(Ci),{matches:s}=p.useContext(zo),{pathname:i}=Fs(),o=JSON.stringify(kw(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return xk(()=>{l.current=!0}),p.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=Pw(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:po([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function fp(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(Ci),{matches:s}=p.useContext(zo),{pathname:i}=Fs(),o=JSON.stringify(kw(s,r.v7_relativeSplatPath));return p.useMemo(()=>Pw(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function n5(t,e){return r5(t,e)}function r5(t,e,n,r){Sc()||$t(!1);let{navigator:s}=p.useContext(Ci),{matches:i}=p.useContext(zo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Fs(),h;if(e){var f;let x=typeof e=="string"?Tc(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||$t(!1),h=x}else h=u;let m=h.pathname||"/",g=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let E=R6(t,{pathname:g}),_=l5(E&&E.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:po([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:po([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&_?p.createElement(hp.Provider,{value:{location:dd({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ro.Pop}},_):_}function s5(){let t=h5(),e=Z6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const i5=p.createElement(s5,null);class o5 extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(zo.Provider,{value:this.props.routeContext},p.createElement(vk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a5(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(dp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(zo.Provider,{value:e},r)}function l5(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||$t(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:g}=n,E=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||E){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let g,E=!1,_=null,x=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,_=f.route.errorElement||i5,c&&(u<0&&m===0?(E=!0,x=null):u===m&&(E=!0,x=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,m+1)),y=()=>{let v;return g?v=_:E?v=x:f.route.Component?v=p.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=h,p.createElement(a5,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?p.createElement(o5,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var wk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(wk||{}),Jf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Jf||{});function c5(t){let e=p.useContext(dp);return e||$t(!1),e}function u5(t){let e=p.useContext(yk);return e||$t(!1),e}function d5(t){let e=p.useContext(zo);return e||$t(!1),e}function _k(t){let e=d5(),n=e.matches[e.matches.length-1];return n.route.id||$t(!1),n.route.id}function h5(){var t;let e=p.useContext(vk),n=u5(Jf.UseRouteError),r=_k(Jf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function f5(){let{router:t}=c5(wk.UseNavigateStable),e=_k(Jf.UseNavigateStable),n=p.useRef(!1);return xk(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,dd({fromRouteId:e},i)))},[t,e])}function m5(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function wv(t){let{to:e,replace:n,state:r,relative:s}=t;Sc()||$t(!1);let{future:i,static:o}=p.useContext(Ci),{matches:l}=p.useContext(zo),{pathname:c}=Fs(),u=Cc(),h=Pw(e,kw(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return p.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function It(t){$t(!1)}function p5(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ro.Pop,navigator:i,static:o=!1,future:l}=t;Sc()&&$t(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:dd({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Tc(r));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:E="default"}=r,_=p.useMemo(()=>{let x=nc(h,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:g,key:E},navigationType:s}},[c,h,f,m,g,E,s]);return _==null?null:p.createElement(Ci.Provider,{value:u},p.createElement(hp.Provider,{children:n,value:_}))}function Aw(t){let{children:e,location:n}=t;return n5(_v(e),n)}new Promise(()=>{});function _v(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,_v(r.props.children,i));return}r.type!==It&&$t(!1),!r.props.index||!r.props.children||$t(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_v(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function em(){return em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},em.apply(this,arguments)}function bk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function g5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function y5(t,e){return t.button===0&&(!e||e==="_self")&&!g5(t)}const v5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],x5=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],w5="6";try{window.__reactRouterVersion=w5}catch{}const _5=p.createContext({isTransitioning:!1}),b5="startTransition",j1=gx[b5];function E5(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=k6({window:s,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=p.useCallback(f=>{u&&j1?j1(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>o.listen(h),[o,h]),p.useEffect(()=>m5(r),[r]),p.createElement(p5,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const T5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,m=bk(e,v5),{basename:g}=p.useContext(Ci),E,_=!1;if(typeof u=="string"&&S5.test(u)&&(E=u,T5))try{let v=new URL(window.location.href),C=u.startsWith("//")?new URL(v.protocol+u):new URL(u),A=nc(C.pathname,g);C.origin===v.origin&&A!=null?u=A+C.search+C.hash:_=!0}catch{}let x=e5(u,{relative:s}),b=I5(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function y(v){r&&r(v),v.defaultPrevented||b(v)}return p.createElement("a",em({},m,{href:E||x,onClick:_||i?r:y,ref:n,target:c}))}),C5=p.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:h}=e,f=bk(e,x5),m=fp(c,{relative:f.relative}),g=Fs(),E=p.useContext(yk),{navigator:_,basename:x}=p.useContext(Ci),b=E!=null&&k5(m)&&u===!0,y=_.encodeLocation?_.encodeLocation(m).pathname:m.pathname,v=g.pathname,C=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;s||(v=v.toLowerCase(),C=C?C.toLowerCase():null,y=y.toLowerCase()),C&&x&&(C=nc(C,x)||C);const A=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let P=v===y||!o&&v.startsWith(y)&&v.charAt(A)==="/",N=C!=null&&(C===y||!o&&C.startsWith(y)&&C.charAt(y.length)==="/"),S={isActive:P,isPending:N,isTransitioning:b},I=P?r:void 0,k;typeof i=="function"?k=i(S):k=[i,P?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(S):l;return p.createElement(gt,em({},f,{"aria-current":I,className:k,ref:n,style:R,to:c,viewTransition:u}),typeof h=="function"?h(S):h)});var bv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bv||(bv={}));var D1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(D1||(D1={}));function N5(t){let e=p.useContext(dp);return e||$t(!1),e}function I5(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=Cc(),u=Fs(),h=fp(t,{relative:o});return p.useCallback(f=>{if(y5(f,n)){f.preventDefault();let m=r!==void 0?r:Xf(u)===Xf(h);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,h,r,s,n,t,i,o,l])}function k5(t,e){e===void 0&&(e={});let n=p.useContext(_5);n==null&&$t(!1);let{basename:r}=N5(bv.useViewTransitionState),s=fp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=nc(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=nc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zf(s.pathname,o)!=null||Zf(s.pathname,i)!=null}const P5=()=>{};var O1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},A5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Tk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,g=u&63;c||(g=64,o||(m=64)),r.push(n[h],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ek(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new R5;const m=i<<2|l>>4;if(r.push(m),u!==64){const g=l<<4&240|u>>2;if(r.push(g),f!==64){const E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class R5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j5=function(t){const e=Ek(t);return Tk.encodeByteArray(e,!0)},tm=function(t){return j5(t).replace(/\./g,"")},Sk=function(t){try{return Tk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=()=>D5().__FIREBASE_DEFAULTS__,M5=()=>{if(typeof process>"u"||typeof O1>"u")return;const t=O1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},L5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sk(t[1]);return e&&JSON.parse(e)},mp=()=>{try{return P5()||O5()||M5()||L5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ck=t=>{var e,n;return(n=(e=mp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},V5=t=>{const e=Ck(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Nk=()=>{var t;return(t=mp())===null||t===void 0?void 0:t.config},Ik=t=>{var e;return(e=mp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tm(JSON.stringify(n)),tm(JSON.stringify(o)),""].join(".")}const ju={};function $5(){const t={prod:[],emulator:[]};for(const e of Object.keys(ju))ju[e]?t.emulator.push(e):t.prod.push(e);return t}function B5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let M1=!1;function Pk(t,e){if(typeof window>"u"||typeof document>"u"||!Nc(window.location.host)||ju[t]===e||ju[t]||M1)return;ju[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=$5().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{M1=!0,o()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=B5(r),g=n("text"),E=document.getElementById(g)||document.createElement("span"),_=n("learnmore"),x=document.getElementById(_)||document.createElement("a"),b=n("preprendIcon"),y=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const v=m.element;l(v),h(x,_);const C=u();c(y,b),v.append(y,E,x,C),document.body.appendChild(v)}i?(E.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function W5(){var t;const e=(t=mp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function G5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K5(){const t=Fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Q5(){return!W5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y5(){try{return typeof indexedDB=="object"}catch{return!1}}function X5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="FirebaseError";class Ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Z5,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jd.prototype.create)}}class jd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?J5(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Ni(s,l,r)}}function J5(t,e){return t.replace(e3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const e3=/\{\$([^}]+)}/g;function t3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(L1(i)&&L1(o)){if(!vi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function L1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function pu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function n3(t,e){const n=new r3(t,e);return n.subscribe.bind(n)}class r3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");s3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=zg),s.error===void 0&&(s.error=zg),s.complete===void 0&&(s.complete=zg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class Ia{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new F5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a3(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:o3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o3(t){return t===ra?void 0:t}function a3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const c3={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},u3=Ye.INFO,d3={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},h3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=d3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rw{constructor(e){this.name=e,this._logLevel=u3,this._logHandler=h3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const f3=(t,e)=>e.some(n=>t instanceof n);let V1,F1;function m3(){return V1||(V1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p3(){return F1||(F1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ak=new WeakMap,Ev=new WeakMap,Rk=new WeakMap,Wg=new WeakMap,jw=new WeakMap;function g3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(go(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ak.set(n,t)}).catch(()=>{}),jw.set(e,t),e}function y3(t){if(Ev.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ev.set(t,e)}let Tv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ev.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return go(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v3(t){Tv=t(Tv)}function x3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hg(this),e,...n);return Rk.set(r,e.sort?e.sort():[e]),go(r)}:p3().includes(t)?function(...e){return t.apply(Hg(this),e),go(Ak.get(this))}:function(...e){return go(t.apply(Hg(this),e))}}function w3(t){return typeof t=="function"?x3(t):(t instanceof IDBTransaction&&y3(t),f3(t,m3())?new Proxy(t,Tv):t)}function go(t){if(t instanceof IDBRequest)return g3(t);if(Wg.has(t))return Wg.get(t);const e=w3(t);return e!==t&&(Wg.set(t,e),jw.set(e,t)),e}const Hg=t=>jw.get(t);function _3(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=go(o);return r&&o.addEventListener("upgradeneeded",c=>{r(go(o.result),c.oldVersion,c.newVersion,go(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const b3=["get","getKey","getAll","getAllKeys","count"],E3=["put","add","delete","clear"],qg=new Map;function U1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qg.get(e))return qg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=E3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||b3.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return qg.set(e,i),i}v3(t=>({...t,get:(e,n,r)=>U1(e,n)||t.get(e,n,r),has:(e,n)=>!!U1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function S3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sv="@firebase/app",$1="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Rw("@firebase/app"),C3="@firebase/app-compat",N3="@firebase/analytics-compat",I3="@firebase/analytics",k3="@firebase/app-check-compat",P3="@firebase/app-check",A3="@firebase/auth",R3="@firebase/auth-compat",j3="@firebase/database",D3="@firebase/data-connect",O3="@firebase/database-compat",M3="@firebase/functions",L3="@firebase/functions-compat",V3="@firebase/installations",F3="@firebase/installations-compat",U3="@firebase/messaging",$3="@firebase/messaging-compat",B3="@firebase/performance",z3="@firebase/performance-compat",W3="@firebase/remote-config",H3="@firebase/remote-config-compat",q3="@firebase/storage",G3="@firebase/storage-compat",K3="@firebase/firestore",Q3="@firebase/ai",Y3="@firebase/firestore-compat",X3="firebase",Z3="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="[DEFAULT]",J3={[Sv]:"fire-core",[C3]:"fire-core-compat",[I3]:"fire-analytics",[N3]:"fire-analytics-compat",[P3]:"fire-app-check",[k3]:"fire-app-check-compat",[A3]:"fire-auth",[R3]:"fire-auth-compat",[j3]:"fire-rtdb",[D3]:"fire-data-connect",[O3]:"fire-rtdb-compat",[M3]:"fire-fn",[L3]:"fire-fn-compat",[V3]:"fire-iid",[F3]:"fire-iid-compat",[U3]:"fire-fcm",[$3]:"fire-fcm-compat",[B3]:"fire-perf",[z3]:"fire-perf-compat",[W3]:"fire-rc",[H3]:"fire-rc-compat",[q3]:"fire-gcs",[G3]:"fire-gcs-compat",[K3]:"fire-fst",[Y3]:"fire-fst-compat",[Q3]:"fire-vertex","fire-js":"fire-js",[X3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new Map,eU=new Map,Nv=new Map;function B1(t,e){try{t.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rc(t){const e=t.name;if(Nv.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Nv.set(e,t);for(const n of nm.values())B1(n,t);for(const n of eU.values())B1(n,t);return!0}function Dw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yo=new jd("app","Firebase",tU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=Z3;function jk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw yo.create("bad-app-name",{appName:String(s)});if(n||(n=Nk()),!n)throw yo.create("no-options");const i=nm.get(s);if(i){if(vi(n,i.options)&&vi(r,i.config))return i;throw yo.create("duplicate-app",{appName:s})}const o=new l3(s);for(const c of Nv.values())o.addComponent(c);const l=new nU(n,r,o);return nm.set(s,l),l}function Dk(t=Cv){const e=nm.get(t);if(!e&&t===Cv&&Nk())return jk();if(!e)throw yo.create("no-app",{appName:t});return e}function vo(t,e,n){var r;let s=(r=J3[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(l.join(" "));return}rc(new Ia(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU="firebase-heartbeat-database",sU=1,hd="firebase-heartbeat-store";let Gg=null;function Ok(){return Gg||(Gg=_3(rU,sU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hd)}catch(n){console.warn(n)}}}}).catch(t=>{throw yo.create("idb-open",{originalErrorMessage:t.message})})),Gg}async function iU(t){try{const n=(await Ok()).transaction(hd),r=await n.objectStore(hd).get(Mk(t));return await n.done,r}catch(e){if(e instanceof Ni)xi.warn(e.message);else{const n=yo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(n.message)}}}async function z1(t,e){try{const r=(await Ok()).transaction(hd,"readwrite");await r.objectStore(hd).put(e,Mk(t)),await r.done}catch(n){if(n instanceof Ni)xi.warn(n.message);else{const r=yo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xi.warn(r.message)}}}function Mk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=1024,aU=30;class lU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=W1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>aU){const o=dU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=W1(),{heartbeatsToSend:r,unsentEntries:s}=cU(this._heartbeatsCache.heartbeats),i=tm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return xi.warn(n),""}}}function W1(){return new Date().toISOString().substring(0,10)}function cU(t,e=oU){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),H1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),H1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y5()?X5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return z1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return z1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function H1(t){return tm(JSON.stringify({version:2,heartbeats:t})).length}function dU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(t){rc(new Ia("platform-logger",e=>new T3(e),"PRIVATE")),rc(new Ia("heartbeat",e=>new lU(e),"PRIVATE")),vo(Sv,$1,t),vo(Sv,$1,"esm2017"),vo("fire-js","")}hU("");var Es=function(){return Es=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Es.apply(this,arguments)};function Od(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function fU(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Lk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mU=Lk,Vk=new jd("auth","Firebase",Lk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new Rw("@firebase/auth");function pU(t,...e){rm.logLevel<=Ye.WARN&&rm.warn(`Auth (${Ic}): ${t}`,...e)}function of(t,...e){rm.logLevel<=Ye.ERROR&&rm.error(`Auth (${Ic}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,...e){throw Mw(t,...e)}function os(t,...e){return Mw(t,...e)}function Ow(t,e,n){const r=Object.assign(Object.assign({},mU()),{[e]:n});return new jd("auth","Firebase",r).create(e,{appName:t.name})}function ii(t){return Ow(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gU(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vr(t,"argument-error"),Ow(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Vk.create(t,...e)}function Te(t,e,...n){if(!t)throw Mw(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw of(e),new Error(e)}function wi(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yU(){return q1()==="http:"||q1()==="https:"}function q1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yU()||q5()||"connection"in navigator)?navigator.onLine:!0}function xU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=z5()||G5()}get(){return vU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bU=new Md(3e4,6e4);function Ii(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Us(t,e,n,r,s={}){return Uk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Dd(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return H5()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Nc(t.emulatorConfig.host)&&(u.credentials="include"),Fk.fetch()(await $k(t,t.config.apiHost,n,l),u)})}async function Uk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wU),e);try{const s=new TU(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Dh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Dh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Dh(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ow(t,h,u);Vr(t,h)}}catch(s){if(s instanceof Ni)throw s;Vr(t,"network-request-failed",{message:String(s)})}}async function Ld(t,e,n,r,s={}){const i=await Us(t,e,n,r,s);return"mfaPendingCredential"in i&&Vr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function $k(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Lw(t.config,s):`${t.config.apiScheme}://${s}`;return _U.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function EU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(os(this.auth,"network-request-failed")),bU.get())})}}function Dh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=os(t,e,r);return s.customData._tokenResponse=n,s}function G1(t){return t!==void 0&&t.enterprise!==void 0}class SU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CU(t,e){return Us(t,"GET","/v2/recaptchaConfig",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(t,e){return Us(t,"POST","/v1/accounts:delete",e)}async function sm(t,e){return Us(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IU(t,e=!1){const n=Mt(t),r=await n.getIdToken(e),s=Vw(r);Te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Du(Kg(s.auth_time)),issuedAtTime:Du(Kg(s.iat)),expirationTime:Du(Kg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Kg(t){return Number(t)*1e3}function Vw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return of("JWT malformed, contained fewer than 3 sections"),null;try{const s=Sk(n);return s?JSON.parse(s):(of("Failed to decode base64 JWT payload"),null)}catch(s){return of("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function K1(t){const e=Vw(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ni&&kU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Du(this.lastLoginAt),this.creationTime=Du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(t){var e;const n=t.auth,r=await t.getIdToken(),s=await sc(t,sm(n,{idToken:r}));Te(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Bk(i.providerUserInfo):[],l=RU(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new kv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function AU(t){const e=Mt(t);await im(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RU(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Bk(t){return t.map(e=>{var{providerId:n}=e,r=Od(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jU(t,e){const n=await Uk(t,{},async()=>{const r=Dd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await $k(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Nc(t.emulatorConfig.host)&&(c.credentials="include"),Fk.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function DU(t,e){return Us(t,"POST","/v2/accounts:revokeToken",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=K1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await jU(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Al;return r&&(Te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Te(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Te(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Od(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await sc(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IU(this,e)}reload(){return AU(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await im(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(ii(this.auth));const e=await this.getIdToken();return await sc(this,NU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:v,emailVerified:C,isAnonymous:A,providerData:P,stsTokenManager:N}=n;Te(v&&N,e,"internal-error");const S=Al.fromJSON(this.name,N);Te(typeof v=="string",e,"internal-error"),Vi(f,e.name),Vi(m,e.name),Te(typeof C=="boolean",e,"internal-error"),Te(typeof A=="boolean",e,"internal-error"),Vi(g,e.name),Vi(E,e.name),Vi(_,e.name),Vi(x,e.name),Vi(b,e.name),Vi(y,e.name);const I=new rs({uid:v,auth:e,email:m,emailVerified:C,displayName:f,isAnonymous:A,photoURL:E,phoneNumber:g,tenantId:_,stsTokenManager:S,createdAt:b,lastLoginAt:y});return P&&Array.isArray(P)&&(I.providerData=P.map(k=>Object.assign({},k))),x&&(I._redirectEventId=x),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Al;s.updateFromServerResponse(n);const i=new rs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await im(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Te(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Bk(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Al;l.updateFromIdToken(r);const c=new rs({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new kv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new Map;function ni(t){wi(t instanceof Function,"Expected a class definition");let e=Q1.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Q1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zk.type="NONE";const Y1=zk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e,n){return`firebase:${t}:${e}:${n}`}class Rl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=af(this.userKey,s.apiKey,i),this.fullPersistenceKey=af("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sm(this.auth,{idToken:e}).catch(()=>{});return n?rs._fromGetAccountInfoResponse(this.auth,n,e):null}return rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Rl(ni(Y1),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ni(Y1);const o=af(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const m=await sm(e,{idToken:h}).catch(()=>{});if(!m)break;f=await rs._fromGetAccountInfoResponse(e,m,h)}else f=rs._fromJSON(e,h);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Rl(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Rl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qk(e))return"Blackberry";if(Yk(e))return"Webos";if(Hk(e))return"Safari";if((e.includes("chrome/")||qk(e))&&!e.includes("edge/"))return"Chrome";if(Kk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Wk(t=Fn()){return/firefox\//i.test(t)}function Hk(t=Fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qk(t=Fn()){return/crios\//i.test(t)}function Gk(t=Fn()){return/iemobile/i.test(t)}function Kk(t=Fn()){return/android/i.test(t)}function Qk(t=Fn()){return/blackberry/i.test(t)}function Yk(t=Fn()){return/webos/i.test(t)}function Fw(t=Fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function OU(t=Fn()){var e;return Fw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MU(){return K5()&&document.documentMode===10}function Xk(t=Fn()){return Fw(t)||Kk(t)||Yk(t)||Qk(t)||/windows phone/i.test(t)||Gk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t,e=[]){let n;switch(t){case"Browser":n=X1(Fn());break;case"Worker":n=`${X1(Fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ic}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VU(t,e={}){return Us(t,"GET","/v2/passwordPolicy",Ii(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=6;class UU{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:FU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z1(this),this.idTokenSubscription=new Z1(this),this.beforeStateQueue=new LU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Rl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sm(this,{idToken:e}),r=await rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await im(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(ii(this));const n=e?Mt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VU(this),n=new UU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await DU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Rl.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ki(t){return Mt(t)}class Z1{constructor(e){this.auth=e,this.observer=null,this.addObserver=n3(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BU(t){pp=t}function Jk(t){return pp.loadJS(t)}function zU(){return pp.recaptchaEnterpriseScript}function WU(){return pp.gapiScript}function HU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class qU{constructor(){this.enterprise=new GU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class GU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KU="recaptcha-enterprise",eP="NO_RECAPTCHA";class QU{constructor(e){this.type=KU,this.auth=ki(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{CU(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new SU(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;G1(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(eP)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qU().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&G1(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=zU();c.length!==0&&(c+=l),Jk(c).then(()=>{s(l,i,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function J1(t,e,n,r=!1,s=!1){const i=new QU(t);let o;if(s)o=eP;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function om(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await J1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await J1(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t,e){const n=Dw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(vi(i,e??{}))return s;Vr(s,"already-initialized")}return n.initialize({options:e})}function XU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZU(t,e,n){const r=ki(t);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=tP(e),{host:o,port:l}=JU(e),c=l===null?"":`:${l}`,u={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(vi(u,r.config.emulator)&&vi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Nc(o)?(kk(`${i}//${o}${c}`),Pk("Auth",!0)):e9()}function tP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JU(t){const e=tP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:eE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:eE(o)}}}function eE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function e9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function t9(t,e){return Us(t,"POST","/v1/accounts:update",e)}async function n9(t,e){return Us(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t,e){return Ld(t,"POST","/v1/accounts:signInWithPassword",Ii(t,e))}async function nP(t,e){return Us(t,"POST","/v1/accounts:sendOobCode",Ii(t,e))}async function s9(t,e){return nP(t,e)}async function i9(t,e){return nP(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(t,e){return Ld(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))}async function a9(t,e){return Ld(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends Uw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new fd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(e,n,"signInWithPassword",r9);case"emailLink":return o9(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(e,r,"signUpPassword",n9);case"emailLink":return a9(e,{idToken:n,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t,e){return Ld(t,"POST","/v1/accounts:signInWithIdp",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9="http://localhost";class ka extends Uw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Od(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ka(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return jl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jl(e,n)}buildRequest(){const e={requestUri:l9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u9(t){const e=mu(pu(t)).link,n=e?mu(pu(e)).deep_link_id:null,r=mu(pu(t)).deep_link_id;return(r?mu(pu(r)).link:null)||r||n||e||t}class $w{constructor(e){var n,r,s,i,o,l;const c=mu(pu(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=c9((s=c.mode)!==null&&s!==void 0?s:null);Te(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=u9(e);try{return new $w(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.providerId=Ba.PROVIDER_ID}static credential(e,n){return fd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$w.parseLink(n);return Te(r,"argument-error"),fd._fromEmailAndCode(e,r.code,r.tenantId)}}Ba.PROVIDER_ID="password";Ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends Bw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Vd{constructor(){super("facebook.com")}static credential(e){return ka._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Vd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ka._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xs.credential(n,r)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Vd{constructor(){super("github.com")}static credential(e){return ka._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.GITHUB_SIGN_IN_METHOD="github.com";Ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Vd{constructor(){super("twitter.com")}static credential(e,n){return ka._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(t,e){return Ld(t,"POST","/v1/accounts:signUp",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await rs._fromIdTokenResponse(e,r,s),o=tE(r);return new Pa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=tE(r);return new Pa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function tE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends Ni{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,am.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new am(e,n,r,s)}}function rP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?am._fromErrorAndOperation(t,i,e,r):i})}async function h9(t,e,n=!1){const r=await sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Pa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(t,e,n=!1){const{auth:r}=t;if(gr(r.app))return Promise.reject(ii(r));const s="reauthenticate";try{const i=await sc(t,rP(r,s,e,t),n);Te(i.idToken,r,"internal-error");const o=Vw(i.idToken);Te(o,r,"internal-error");const{sub:l}=o;return Te(t.uid===l,r,"user-mismatch"),Pa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Vr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(t,e,n=!1){if(gr(t.app))return Promise.reject(ii(t));const r="signIn",s=await rP(t,r,e),i=await Pa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function f9(t,e){return iP(ki(t),e)}async function m9(t,e){return sP(Mt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(t){const e=ki(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function p9(t,e,n){const r=ki(t);await om(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",i9)}async function g9(t,e,n){if(gr(t.app))return Promise.reject(ii(t));const r=ki(t),o=await om(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d9).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&oP(t),c}),l=await Pa._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function y9(t,e,n){return gr(t.app)?Promise.reject(ii(t)):f9(Mt(t),Ba.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oP(t),r})}async function v9(t,e){const n=Mt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await s9(n.auth,s);i!==t.email&&await t.reload()}function x9(t,e){return w9(Mt(t),null,e)}async function w9(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const o=await sc(t,t9(r,i));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(t,e){return Mt(t).setPersistence(e)}function b9(t,e,n,r){return Mt(t).onIdTokenChanged(e,n,r)}function E9(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}function T9(t,e,n,r){return Mt(t).onAuthStateChanged(e,n,r)}function Qg(t){return Mt(t).signOut()}const lm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lm,"1"),this.storage.removeItem(lm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=1e3,C9=10;class lP extends aP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);MU()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,C9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},S9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lP.type="LOCAL";const cP=lP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP extends aP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uP.type="SESSION";const dP=uP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new gp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await N9(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=zw("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(){return window}function k9(t){ks().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(){return typeof ks().WorkerGlobalScope<"u"&&typeof ks().importScripts=="function"}async function P9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function R9(){return hP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="firebaseLocalStorageDb",j9=1,cm="firebaseLocalStorage",mP="fbase_key";class Fd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yp(t,e){return t.transaction([cm],e?"readwrite":"readonly").objectStore(cm)}function D9(){const t=indexedDB.deleteDatabase(fP);return new Fd(t).toPromise()}function Pv(){const t=indexedDB.open(fP,j9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cm,{keyPath:mP})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cm)?e(r):(r.close(),await D9(),e(await Pv()))})})}async function nE(t,e,n){const r=yp(t,!0).put({[mP]:e,value:n});return new Fd(r).toPromise()}async function O9(t,e){const n=yp(t,!1).get(e),r=await new Fd(n).toPromise();return r===void 0?null:r.value}function rE(t,e){const n=yp(t,!0).delete(e);return new Fd(n).toPromise()}const M9=800,L9=3;class pP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>L9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gp._getInstance(R9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await P9(),!this.activeServiceWorker)return;this.sender=new I9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pv();return await nE(e,lm,"1"),await rE(e,lm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>O9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=yp(s,!1).getAll();return new Fd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pP.type="LOCAL";const V9=pP;new Md(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t,e){return e?ni(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends Uw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F9(t){return iP(t.auth,new Ww(t),t.bypassAuthState)}function U9(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),sP(n,new Ww(t),t.bypassAuthState)}async function $9(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),h9(n,new Ww(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F9;case"linkViaPopup":case"linkViaRedirect":return $9;case"reauthViaPopup":case"reauthViaRedirect":return U9;default:Vr(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=new Md(2e3,1e4);async function z9(t,e,n){if(gr(t.app))return Promise.reject(os(t,"operation-not-supported-in-this-environment"));const r=ki(t);gU(t,e,Bw);const s=gP(r,n);return new ua(r,"signInViaPopup",e,s).executeNotNull()}class ua extends yP{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=zw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B9.get())};e()}}ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="pendingRedirect",lf=new Map;class H9 extends yP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lf.get(this.auth._key());if(!e){try{const r=await q9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lf.set(this.auth._key(),e)}return this.bypassAuthState||lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q9(t,e){const n=Q9(e),r=K9(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function G9(t,e){lf.set(t._key(),e)}function K9(t){return ni(t._redirectPersistence)}function Q9(t){return af(W9,t.config.apiKey,t.name)}async function Y9(t,e,n=!1){if(gr(t.app))return Promise.reject(ii(t));const r=ki(t),s=gP(r,e),o=await new H9(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=10*60*1e3;class Z9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vP(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(os(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=X9&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(e))}saveEventToCache(e){this.cachedEventUids.add(sE(e)),this.lastProcessedEventTime=Date.now()}}function sE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e$(t,e={}){return Us(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n$=/^https?/;async function r$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await e$(t);for(const n of e)try{if(s$(n))return}catch{}Vr(t,"unauthorized-domain")}function s$(t){const e=Iv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!n$.test(n))return!1;if(t$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=new Md(3e4,6e4);function iE(){const t=ks().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function o$(t){return new Promise((e,n)=>{var r,s,i;function o(){iE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iE(),n(os(t,"network-request-failed"))},timeout:i$.get()})}if(!((s=(r=ks().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ks().gapi)===null||i===void 0)&&i.load)o();else{const l=HU("iframefcb");return ks()[l]=()=>{gapi.load?o():n(os(t,"network-request-failed"))},Jk(`${WU()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw cf=null,e})}let cf=null;function a$(t){return cf=cf||o$(t),cf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=new Md(5e3,15e3),c$="__/auth/iframe",u$="emulator/auth/iframe",d$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f$(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Lw(e,u$):`https://${t.config.authDomain}/${c$}`,r={apiKey:e.apiKey,appName:t.name,v:Ic},s=h$.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Dd(r).slice(1)}`}async function m$(t){const e=await a$(t),n=ks().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:f$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d$,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=os(t,"network-request-failed"),l=ks().setTimeout(()=>{i(o)},l$.get());function c(){ks().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g$=500,y$=600,v$="_blank",x$="http://localhost";class oE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w$(t,e,n,r=g$,s=y$){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},p$),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Fn().toLowerCase();n&&(l=qk(u)?v$:n),Wk(u)&&(e=e||x$,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[g,E])=>`${m}${g}=${E},`,"");if(OU(u)&&l!=="_self")return _$(e||"",l),new oE(null);const f=window.open(e||"",l,h);Te(f,t,"popup-blocked");try{f.focus()}catch{}return new oE(f)}function _$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$="__/auth/handler",E$="emulator/auth/handler",T$=encodeURIComponent("fac");async function aE(t,e,n,r,s,i){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ic,eventId:s};if(e instanceof Bw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",t3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Vd){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${T$}=${encodeURIComponent(c)}`:"";return`${S$(t)}?${Dd(l).slice(1)}${u}`}function S$({config:t}){return t.emulator?Lw(t,E$):`https://${t.authDomain}/${b$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="webStorageSupport";class C${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dP,this._completeRedirectFn=Y9,this._overrideRedirectResult=G9}async _openPopup(e,n,r,s){var i;wi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await aE(e,n,r,Iv(),s);return w$(e,o,zw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await aE(e,n,r,Iv(),s);return k9(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(wi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await m$(e),r=new Z9(e);return n.register("authEvent",s=>(Te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yg,{type:Yg},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Yg];o!==void 0&&n(!!o),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Xk()||Hk()||Fw()}}const N$=C$;var lE="@firebase/auth",cE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P$(t){rc(new Ia("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zk(t)},u=new $U(r,s,i,c);return XU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rc(new Ia("auth-internal",e=>{const n=ki(e.getProvider("auth").getImmediate());return(r=>new I$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vo(lE,cE,k$(t)),vo(lE,cE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$=5*60,R$=Ik("authIdTokenMaxAge")||A$;let uE=null;const j$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R$)return;const s=n==null?void 0:n.token;uE!==s&&(uE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function D$(t=Dk()){const e=Dw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YU(t,{popupRedirectResolver:N$,persistence:[V9,cP,dP]}),r=Ik("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=j$(i.toString());E9(n,o,()=>o(n.currentUser)),b9(n,l=>o(l))}}const s=Ck("auth");return s&&ZU(n,`http://${s}`),n}function O$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}BU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=os("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",O$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P$("Browser");var dE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xo,xP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function I(){}I.prototype=S.prototype,N.D=S.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(k,R,O){for(var j=Array(arguments.length-2),B=2;B<arguments.length;B++)j[B-2]=arguments[B];return S.prototype[R].apply(k,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,S,I){I||(I=0);var k=Array(16);if(typeof S=="string")for(var R=0;16>R;++R)k[R]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(R=0;16>R;++R)k[R]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=N.g[0],I=N.g[1],R=N.g[2];var O=N.g[3],j=S+(O^I&(R^O))+k[0]+3614090360&4294967295;S=I+(j<<7&4294967295|j>>>25),j=O+(R^S&(I^R))+k[1]+3905402710&4294967295,O=S+(j<<12&4294967295|j>>>20),j=R+(I^O&(S^I))+k[2]+606105819&4294967295,R=O+(j<<17&4294967295|j>>>15),j=I+(S^R&(O^S))+k[3]+3250441966&4294967295,I=R+(j<<22&4294967295|j>>>10),j=S+(O^I&(R^O))+k[4]+4118548399&4294967295,S=I+(j<<7&4294967295|j>>>25),j=O+(R^S&(I^R))+k[5]+1200080426&4294967295,O=S+(j<<12&4294967295|j>>>20),j=R+(I^O&(S^I))+k[6]+2821735955&4294967295,R=O+(j<<17&4294967295|j>>>15),j=I+(S^R&(O^S))+k[7]+4249261313&4294967295,I=R+(j<<22&4294967295|j>>>10),j=S+(O^I&(R^O))+k[8]+1770035416&4294967295,S=I+(j<<7&4294967295|j>>>25),j=O+(R^S&(I^R))+k[9]+2336552879&4294967295,O=S+(j<<12&4294967295|j>>>20),j=R+(I^O&(S^I))+k[10]+4294925233&4294967295,R=O+(j<<17&4294967295|j>>>15),j=I+(S^R&(O^S))+k[11]+2304563134&4294967295,I=R+(j<<22&4294967295|j>>>10),j=S+(O^I&(R^O))+k[12]+1804603682&4294967295,S=I+(j<<7&4294967295|j>>>25),j=O+(R^S&(I^R))+k[13]+4254626195&4294967295,O=S+(j<<12&4294967295|j>>>20),j=R+(I^O&(S^I))+k[14]+2792965006&4294967295,R=O+(j<<17&4294967295|j>>>15),j=I+(S^R&(O^S))+k[15]+1236535329&4294967295,I=R+(j<<22&4294967295|j>>>10),j=S+(R^O&(I^R))+k[1]+4129170786&4294967295,S=I+(j<<5&4294967295|j>>>27),j=O+(I^R&(S^I))+k[6]+3225465664&4294967295,O=S+(j<<9&4294967295|j>>>23),j=R+(S^I&(O^S))+k[11]+643717713&4294967295,R=O+(j<<14&4294967295|j>>>18),j=I+(O^S&(R^O))+k[0]+3921069994&4294967295,I=R+(j<<20&4294967295|j>>>12),j=S+(R^O&(I^R))+k[5]+3593408605&4294967295,S=I+(j<<5&4294967295|j>>>27),j=O+(I^R&(S^I))+k[10]+38016083&4294967295,O=S+(j<<9&4294967295|j>>>23),j=R+(S^I&(O^S))+k[15]+3634488961&4294967295,R=O+(j<<14&4294967295|j>>>18),j=I+(O^S&(R^O))+k[4]+3889429448&4294967295,I=R+(j<<20&4294967295|j>>>12),j=S+(R^O&(I^R))+k[9]+568446438&4294967295,S=I+(j<<5&4294967295|j>>>27),j=O+(I^R&(S^I))+k[14]+3275163606&4294967295,O=S+(j<<9&4294967295|j>>>23),j=R+(S^I&(O^S))+k[3]+4107603335&4294967295,R=O+(j<<14&4294967295|j>>>18),j=I+(O^S&(R^O))+k[8]+1163531501&4294967295,I=R+(j<<20&4294967295|j>>>12),j=S+(R^O&(I^R))+k[13]+2850285829&4294967295,S=I+(j<<5&4294967295|j>>>27),j=O+(I^R&(S^I))+k[2]+4243563512&4294967295,O=S+(j<<9&4294967295|j>>>23),j=R+(S^I&(O^S))+k[7]+1735328473&4294967295,R=O+(j<<14&4294967295|j>>>18),j=I+(O^S&(R^O))+k[12]+2368359562&4294967295,I=R+(j<<20&4294967295|j>>>12),j=S+(I^R^O)+k[5]+4294588738&4294967295,S=I+(j<<4&4294967295|j>>>28),j=O+(S^I^R)+k[8]+2272392833&4294967295,O=S+(j<<11&4294967295|j>>>21),j=R+(O^S^I)+k[11]+1839030562&4294967295,R=O+(j<<16&4294967295|j>>>16),j=I+(R^O^S)+k[14]+4259657740&4294967295,I=R+(j<<23&4294967295|j>>>9),j=S+(I^R^O)+k[1]+2763975236&4294967295,S=I+(j<<4&4294967295|j>>>28),j=O+(S^I^R)+k[4]+1272893353&4294967295,O=S+(j<<11&4294967295|j>>>21),j=R+(O^S^I)+k[7]+4139469664&4294967295,R=O+(j<<16&4294967295|j>>>16),j=I+(R^O^S)+k[10]+3200236656&4294967295,I=R+(j<<23&4294967295|j>>>9),j=S+(I^R^O)+k[13]+681279174&4294967295,S=I+(j<<4&4294967295|j>>>28),j=O+(S^I^R)+k[0]+3936430074&4294967295,O=S+(j<<11&4294967295|j>>>21),j=R+(O^S^I)+k[3]+3572445317&4294967295,R=O+(j<<16&4294967295|j>>>16),j=I+(R^O^S)+k[6]+76029189&4294967295,I=R+(j<<23&4294967295|j>>>9),j=S+(I^R^O)+k[9]+3654602809&4294967295,S=I+(j<<4&4294967295|j>>>28),j=O+(S^I^R)+k[12]+3873151461&4294967295,O=S+(j<<11&4294967295|j>>>21),j=R+(O^S^I)+k[15]+530742520&4294967295,R=O+(j<<16&4294967295|j>>>16),j=I+(R^O^S)+k[2]+3299628645&4294967295,I=R+(j<<23&4294967295|j>>>9),j=S+(R^(I|~O))+k[0]+4096336452&4294967295,S=I+(j<<6&4294967295|j>>>26),j=O+(I^(S|~R))+k[7]+1126891415&4294967295,O=S+(j<<10&4294967295|j>>>22),j=R+(S^(O|~I))+k[14]+2878612391&4294967295,R=O+(j<<15&4294967295|j>>>17),j=I+(O^(R|~S))+k[5]+4237533241&4294967295,I=R+(j<<21&4294967295|j>>>11),j=S+(R^(I|~O))+k[12]+1700485571&4294967295,S=I+(j<<6&4294967295|j>>>26),j=O+(I^(S|~R))+k[3]+2399980690&4294967295,O=S+(j<<10&4294967295|j>>>22),j=R+(S^(O|~I))+k[10]+4293915773&4294967295,R=O+(j<<15&4294967295|j>>>17),j=I+(O^(R|~S))+k[1]+2240044497&4294967295,I=R+(j<<21&4294967295|j>>>11),j=S+(R^(I|~O))+k[8]+1873313359&4294967295,S=I+(j<<6&4294967295|j>>>26),j=O+(I^(S|~R))+k[15]+4264355552&4294967295,O=S+(j<<10&4294967295|j>>>22),j=R+(S^(O|~I))+k[6]+2734768916&4294967295,R=O+(j<<15&4294967295|j>>>17),j=I+(O^(R|~S))+k[13]+1309151649&4294967295,I=R+(j<<21&4294967295|j>>>11),j=S+(R^(I|~O))+k[4]+4149444226&4294967295,S=I+(j<<6&4294967295|j>>>26),j=O+(I^(S|~R))+k[11]+3174756917&4294967295,O=S+(j<<10&4294967295|j>>>22),j=R+(S^(O|~I))+k[2]+718787259&4294967295,R=O+(j<<15&4294967295|j>>>17),j=I+(O^(R|~S))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(R+(j<<21&4294967295|j>>>11))&4294967295,N.g[2]=N.g[2]+R&4294967295,N.g[3]=N.g[3]+O&4294967295}r.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var I=S-this.blockSize,k=this.B,R=this.h,O=0;O<S;){if(R==0)for(;O<=I;)s(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<S;)if(k[R++]=N.charCodeAt(O++),R==this.blockSize){s(this,k),R=0;break}}else for(;O<S;)if(k[R++]=N[O++],R==this.blockSize){s(this,k),R=0;break}}this.h=R,this.o+=S},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var I=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=I&255,I/=256;for(this.u(N),N=Array(16),S=I=0;4>S;++S)for(var k=0;32>k;k+=8)N[I++]=this.g[S]>>>k&255;return N};function i(N,S){var I=l;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=S(N)}function o(N,S){this.h=S;for(var I=[],k=!0,R=N.length-1;0<=R;R--){var O=N[R]|0;k&&O==S||(I[R]=O,k=!1)}this.g=I}var l={};function c(N){return-128<=N&&128>N?i(N,function(S){return new o([S|0],0>S?-1:0)}):new o([N|0],0>N?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return f;if(0>N)return x(u(-N));for(var S=[],I=1,k=0;N>=I;k++)S[k]=N/I|0,I*=4294967296;return new o(S,0)}function h(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return x(h(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(S,8)),k=f,R=0;R<N.length;R+=8){var O=Math.min(8,N.length-R),j=parseInt(N.substring(R,R+O),S);8>O?(O=u(Math.pow(S,O)),k=k.j(O).add(u(j))):(k=k.j(I),k=k.add(u(j)))}return k}var f=c(0),m=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(_(this))return-x(this).m();for(var N=0,S=1,I=0;I<this.g.length;I++){var k=this.i(I);N+=(0<=k?k:4294967296+k)*S,S*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(E(this))return"0";if(_(this))return"-"+x(this).toString(N);for(var S=u(Math.pow(N,6)),I=this,k="";;){var R=C(I,S).g;I=b(I,R.j(S));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=R,E(I))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function E(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function _(N){return N.h==-1}t.l=function(N){return N=b(this,N),_(N)?-1:E(N)?0:1};function x(N){for(var S=N.g.length,I=[],k=0;k<S;k++)I[k]=~N.g[k];return new o(I,~N.h).add(m)}t.abs=function(){return _(this)?x(this):this},t.add=function(N){for(var S=Math.max(this.g.length,N.g.length),I=[],k=0,R=0;R<=S;R++){var O=k+(this.i(R)&65535)+(N.i(R)&65535),j=(O>>>16)+(this.i(R)>>>16)+(N.i(R)>>>16);k=j>>>16,O&=65535,j&=65535,I[R]=j<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function b(N,S){return N.add(x(S))}t.j=function(N){if(E(this)||E(N))return f;if(_(this))return _(N)?x(this).j(x(N)):x(x(this).j(N));if(_(N))return x(this.j(x(N)));if(0>this.l(g)&&0>N.l(g))return u(this.m()*N.m());for(var S=this.g.length+N.g.length,I=[],k=0;k<2*S;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var R=0;R<N.g.length;R++){var O=this.i(k)>>>16,j=this.i(k)&65535,B=N.i(R)>>>16,ee=N.i(R)&65535;I[2*k+2*R]+=j*ee,y(I,2*k+2*R),I[2*k+2*R+1]+=O*ee,y(I,2*k+2*R+1),I[2*k+2*R+1]+=j*B,y(I,2*k+2*R+1),I[2*k+2*R+2]+=O*B,y(I,2*k+2*R+2)}for(k=0;k<S;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=S;k<2*S;k++)I[k]=0;return new o(I,0)};function y(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function v(N,S){this.g=N,this.h=S}function C(N,S){if(E(S))throw Error("division by zero");if(E(N))return new v(f,f);if(_(N))return S=C(x(N),S),new v(x(S.g),x(S.h));if(_(S))return S=C(N,x(S)),new v(x(S.g),S.h);if(30<N.g.length){if(_(N)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var I=m,k=S;0>=k.l(N);)I=A(I),k=A(k);var R=P(I,1),O=P(k,1);for(k=P(k,2),I=P(I,2);!E(k);){var j=O.add(k);0>=j.l(N)&&(R=R.add(I),O=j),k=P(k,1),I=P(I,1)}return S=b(N,R.j(S)),new v(R,S)}for(R=f;0<=N.l(S);){for(I=Math.max(1,Math.floor(N.m()/S.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=u(I),j=O.j(S);_(j)||0<j.l(N);)I-=k,O=u(I),j=O.j(S);E(O)&&(O=m),R=R.add(O),N=b(N,j)}return new v(R,N)}t.A=function(N){return C(this,N).h},t.and=function(N){for(var S=Math.max(this.g.length,N.g.length),I=[],k=0;k<S;k++)I[k]=this.i(k)&N.i(k);return new o(I,this.h&N.h)},t.or=function(N){for(var S=Math.max(this.g.length,N.g.length),I=[],k=0;k<S;k++)I[k]=this.i(k)|N.i(k);return new o(I,this.h|N.h)},t.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),I=[],k=0;k<S;k++)I[k]=this.i(k)^N.i(k);return new o(I,this.h^N.h)};function A(N){for(var S=N.g.length+1,I=[],k=0;k<S;k++)I[k]=N.i(k)<<1|N.i(k-1)>>>31;return new o(I,N.h)}function P(N,S){var I=S>>5;S%=32;for(var k=N.g.length-I,R=[],O=0;O<k;O++)R[O]=0<S?N.i(O+I)>>>S|N.i(O+I+1)<<32-S:N.i(O+I);return new o(R,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,xo=o}).apply(typeof dE<"u"?dE:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wP,gu,_P,uf,Av,bP,EP,TP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,T){return d==Array.prototype||d==Object.prototype||(d[w]=T.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var w=0;w<d.length;++w){var T=d[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(d,w){if(w)e:{var T=r;d=d.split(".");for(var D=0;D<d.length-1;D++){var F=d[D];if(!(F in T))break e;T=T[F]}d=d[d.length-1],D=T[d],w=w(D),w!=D&&w!=null&&e(T,d,{configurable:!0,writable:!0,value:w})}}function i(d,w){d instanceof String&&(d+="");var T=0,D=!1,F={next:function(){if(!D&&T<d.length){var z=T++;return{value:w(z,d[z]),done:!1}}return D=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(d){return d||function(){return i(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function u(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function h(d,w,T){return d.call.apply(d.bind,arguments)}function f(d,w,T){if(!d)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,D),d.apply(w,F)}}return function(){return d.apply(w,arguments)}}function m(d,w,T){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function g(d,w){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),d.apply(this,D)}}function E(d,w){function T(){}T.prototype=w.prototype,d.aa=w.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(D,F,z){for(var ie=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)ie[_t-2]=arguments[_t];return w.prototype[F].apply(D,ie)}}function _(d){const w=d.length;if(0<w){const T=Array(w);for(let D=0;D<w;D++)T[D]=d[D];return T}return[]}function x(d,w){for(let T=1;T<arguments.length;T++){const D=arguments[T];if(c(D)){const F=d.length||0,z=D.length||0;d.length=F+z;for(let ie=0;ie<z;ie++)d[F+ie]=D[ie]}else d.push(D)}}class b{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function y(d){return/^[\s\xa0]*$/.test(d)}function v(){var d=l.navigator;return d&&(d=d.userAgent)?d:""}function C(d){return C[" "](d),d}C[" "]=function(){};var A=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function P(d,w,T){for(const D in d)w.call(T,d[D],D,d)}function N(d,w){for(const T in d)w.call(void 0,d[T],T,d)}function S(d){const w={};for(const T in d)w[T]=d[T];return w}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,w){let T,D;for(let F=1;F<arguments.length;F++){D=arguments[F];for(T in D)d[T]=D[T];for(let z=0;z<I.length;z++)T=I[z],Object.prototype.hasOwnProperty.call(D,T)&&(d[T]=D[T])}}function R(d){var w=1;d=d.split(":");const T=[];for(;0<w&&d.length;)T.push(d.shift()),w--;return d.length&&T.push(d.join(":")),T}function O(d){l.setTimeout(()=>{throw d},0)}function j(){var d=$;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class B{constructor(){this.h=this.g=null}add(w,T){const D=ee.get();D.set(w,T),this.h?this.h.next=D:this.g=D,this.h=D}}var ee=new b(()=>new Z,d=>d.reset());class Z{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let se,U=!1,$=new B,ne=()=>{const d=l.Promise.resolve(void 0);se=()=>{d.then(he)}};var he=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(T){O(T)}var w=ee;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}U=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};l.addEventListener("test",T,w),l.removeEventListener("test",T,w)}catch{}return d}();function Ce(d,w){if(ue.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,D=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(A){e:{try{C(w.nodeName);var F=!0;break e}catch{}F=!1}F||(w=null)}}else T=="mouseover"?w=d.fromElement:T=="mouseout"&&(w=d.toElement);this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ut[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ce.aa.h.call(this)}}E(Ce,ue);var ut={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ot(d,w,T,D,F){this.listener=d,this.proxy=null,this.src=w,this.type=T,this.capture=!!D,this.ha=F,this.key=++Be,this.da=this.fa=!1}function Pe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ae(d){this.src=d,this.g={},this.h=0}Ae.prototype.add=function(d,w,T,D,F){var z=d.toString();d=this.g[z],d||(d=this.g[z]=[],this.h++);var ie=bt(d,w,D,F);return-1<ie?(w=d[ie],T||(w.fa=!1)):(w=new ot(w,this.src,z,!!D,F),w.fa=T,d.push(w)),w};function Re(d,w){var T=w.type;if(T in d.g){var D=d.g[T],F=Array.prototype.indexOf.call(D,w,void 0),z;(z=0<=F)&&Array.prototype.splice.call(D,F,1),z&&(Pe(w),d.g[T].length==0&&(delete d.g[T],d.h--))}}function bt(d,w,T,D){for(var F=0;F<d.length;++F){var z=d[F];if(!z.da&&z.listener==w&&z.capture==!!T&&z.ha==D)return F}return-1}var me="closure_lm_"+(1e6*Math.random()|0),xe={};function nt(d,w,T,D,F){if(Array.isArray(w)){for(var z=0;z<w.length;z++)nt(d,w[z],T,D,F);return null}return T=X(T),d&&d[re]?d.K(w,T,u(D)?!!D.capture:!!D,F):ht(d,w,T,!1,D,F)}function ht(d,w,T,D,F,z){if(!w)throw Error("Invalid event type");var ie=u(F)?!!F.capture:!!F,_t=W(d);if(_t||(d[me]=_t=new Ae(d)),T=_t.add(w,T,D,ie,z),T.proxy)return T;if(D=At(),T.proxy=D,D.src=d,D.listener=T,d.addEventListener)we||(F=ie),F===void 0&&(F=!1),d.addEventListener(w.toString(),D,F);else if(d.attachEvent)d.attachEvent(V(w.toString()),D);else if(d.addListener&&d.removeListener)d.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function At(){function d(T){return w.call(d.src,d.listener,T)}const w=M;return d}function ze(d,w,T,D,F){if(Array.isArray(w))for(var z=0;z<w.length;z++)ze(d,w[z],T,D,F);else D=u(D)?!!D.capture:!!D,T=X(T),d&&d[re]?(d=d.i,w=String(w).toString(),w in d.g&&(z=d.g[w],T=bt(z,T,D,F),-1<T&&(Pe(z[T]),Array.prototype.splice.call(z,T,1),z.length==0&&(delete d.g[w],d.h--)))):d&&(d=W(d))&&(w=d.g[w.toString()],d=-1,w&&(d=bt(w,T,D,F)),(T=-1<d?w[d]:null)&&L(T))}function L(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[re])Re(w.i,d);else{var T=d.type,D=d.proxy;w.removeEventListener?w.removeEventListener(T,D,d.capture):w.detachEvent?w.detachEvent(V(T),D):w.addListener&&w.removeListener&&w.removeListener(D),(T=W(w))?(Re(T,d),T.h==0&&(T.src=null,w[me]=null)):Pe(d)}}}function V(d){return d in xe?xe[d]:xe[d]="on"+d}function M(d,w){if(d.da)d=!0;else{w=new Ce(w,this);var T=d.listener,D=d.ha||d.src;d.fa&&L(d),d=T.call(D,w)}return d}function W(d){return d=d[me],d instanceof Ae?d:null}var G="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(d){return typeof d=="function"?d:(d[G]||(d[G]=function(w){return d.handleEvent(w)}),d[G])}function Y(){ae.call(this),this.i=new Ae(this),this.M=this,this.F=null}E(Y,ae),Y.prototype[re]=!0,Y.prototype.removeEventListener=function(d,w,T,D){ze(this,d,w,T,D)};function pe(d,w){var T,D=d.F;if(D)for(T=[];D;D=D.F)T.push(D);if(d=d.M,D=w.type||w,typeof w=="string")w=new ue(w,d);else if(w instanceof ue)w.target=w.target||d;else{var F=w;w=new ue(D,d),k(w,F)}if(F=!0,T)for(var z=T.length-1;0<=z;z--){var ie=w.g=T[z];F=He(ie,D,!0,w)&&F}if(ie=w.g=d,F=He(ie,D,!0,w)&&F,F=He(ie,D,!1,w)&&F,T)for(z=0;z<T.length;z++)ie=w.g=T[z],F=He(ie,D,!1,w)&&F}Y.prototype.N=function(){if(Y.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var T=d.g[w],D=0;D<T.length;D++)Pe(T[D]);delete d.g[w],d.h--}}this.F=null},Y.prototype.K=function(d,w,T,D){return this.i.add(String(d),w,!1,T,D)},Y.prototype.L=function(d,w,T,D){return this.i.add(String(d),w,!0,T,D)};function He(d,w,T,D){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var F=!0,z=0;z<w.length;++z){var ie=w[z];if(ie&&!ie.da&&ie.capture==T){var _t=ie.listener,xn=ie.ha||ie.src;ie.fa&&Re(d.i,ie),F=_t.call(xn,D)!==!1&&F}}return F&&!D.defaultPrevented}function Jt(d,w,T){if(typeof d=="function")T&&(d=m(d,T));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:l.setTimeout(d,w||0)}function Qn(d){d.g=Jt(()=>{d.g=null,d.i&&(d.i=!1,Qn(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Yn extends ae{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Qn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(d){ae.call(this),this.h=d,this.g={}}E(Nr,ae);var dn=[];function gn(d){P(d.g,function(w,T){this.g.hasOwnProperty(T)&&L(w)},d),d.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),gn(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=l.JSON.stringify,Br=l.JSON.parse,Lc=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Ai(){}Ai.prototype.h=null;function Vc(d){return d.h||(d.h=d.i())}function Fc(){}var Yo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xo(){ue.call(this,"d")}E(Xo,ue);function Ir(){ue.call(this,"c")}E(Ir,ue);var Bs={},ke=null;function rt(){return ke=ke||new Y}Bs.La="serverreachability";function wt(d){ue.call(this,Bs.La,d)}E(wt,ue);function yn(d){const w=rt();pe(w,new wt(w))}Bs.STAT_EVENT="statevent";function Xn(d,w){ue.call(this,Bs.STAT_EVENT,d),this.stat=w}E(Xn,ue);function Rt(d){const w=rt();pe(w,new Xn(w,d))}Bs.Ma="timingevent";function ms(d,w){ue.call(this,Bs.Ma,d),this.size=w}E(ms,ue);function vn(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},w)}function Zn(){this.g=!0}Zn.prototype.xa=function(){this.g=!1};function B2(d,w,T,D,F,z){d.info(function(){if(d.g)if(z)for(var ie="",_t=z.split("&"),xn=0;xn<_t.length;xn++){var at=_t[xn].split("=");if(1<at.length){var In=at[0];at=at[1];var kn=In.split("_");ie=2<=kn.length&&kn[1]=="type"?ie+(In+"="+at+"&"):ie+(In+"=redacted&")}}else ie=null;else ie=z;return"XMLHTTP REQ ("+D+") [attempt "+F+"]: "+w+`
`+T+`
`+ie})}function z2(d,w,T,D,F,z,ie){d.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+F+"]: "+w+`
`+T+`
`+z+" "+ie})}function Ka(d,w,T,D){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+H2(d,T)+(D?" "+D:"")})}function W2(d,w){d.info(function(){return"TIMEOUT: "+w})}Zn.prototype.info=function(){};function H2(d,w){if(!d.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var D=T[d];if(!(2>D.length)){var F=D[1];if(Array.isArray(F)&&!(1>F.length)){var z=F[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ie=1;ie<F.length;ie++)F[ie]=""}}}}return fs(T)}catch{return w}}var Xd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},i0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yp;function Zd(){}E(Zd,Ai),Zd.prototype.g=function(){return new XMLHttpRequest},Zd.prototype.i=function(){return{}},Yp=new Zd;function Ri(d,w,T,D){this.j=d,this.i=w,this.l=T,this.R=D||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new o0}function o0(){this.i=null,this.g="",this.h=!1}var a0={},Xp={};function Zp(d,w,T){d.L=1,d.v=nh(zs(w)),d.m=T,d.P=!0,l0(d,null)}function l0(d,w){d.F=Date.now(),Jd(d),d.A=zs(d.v);var T=d.A,D=d.R;Array.isArray(D)||(D=[String(D)]),b0(T.i,"t",D),d.C=0,T=d.j.J,d.h=new o0,d.g=U0(d.j,T?w:null,!d.m),0<d.O&&(d.M=new Yn(m(d.Y,d,d.g),d.O)),w=d.U,T=d.g,D=d.ca;var F="readystatechange";Array.isArray(F)||(F&&(dn[0]=F.toString()),F=dn);for(var z=0;z<F.length;z++){var ie=nt(T,F[z],D||w.handleEvent,!1,w.h||w);if(!ie)break;w.g[ie.key]=ie}w=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),yn(),B2(d.i,d.u,d.A,d.l,d.R,d.m)}Ri.prototype.ca=function(d){d=d.target;const w=this.M;w&&Ws(d)==3?w.j():this.Y(d)},Ri.prototype.Y=function(d){try{if(d==this.g)e:{const kn=Ws(this.g);var w=this.g.Ba();const Xa=this.g.Z();if(!(3>kn)&&(kn!=3||this.g&&(this.h.h||this.g.oa()||k0(this.g)))){this.J||kn!=4||w==7||(w==8||0>=Xa?yn(3):yn(2)),Jp(this);var T=this.g.Z();this.X=T;t:if(c0(this)){var D=k0(this.g);d="";var F=D.length,z=Ws(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zo(this),Uc(this);var ie="";break t}this.h.i=new l.TextDecoder}for(w=0;w<F;w++)this.h.h=!0,d+=this.h.i.decode(D[w],{stream:!(z&&w==F-1)});D.length=0,this.h.g+=d,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=T==200,z2(this.i,this.u,this.A,this.l,this.R,kn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,xn=this.g;if((_t=xn.g?xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(_t)){var at=_t;break t}}at=null}if(T=at)Ka(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eg(this,T);else{this.o=!1,this.s=3,Rt(12),Zo(this),Uc(this);break e}}if(this.P){T=!0;let zr;for(;!this.J&&this.C<ie.length;)if(zr=q2(this,ie),zr==Xp){kn==4&&(this.s=4,Rt(14),T=!1),Ka(this.i,this.l,null,"[Incomplete Response]");break}else if(zr==a0){this.s=4,Rt(15),Ka(this.i,this.l,ie,"[Invalid Chunk]"),T=!1;break}else Ka(this.i,this.l,zr,null),eg(this,zr);if(c0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kn!=4||ie.length!=0||this.h.h||(this.s=1,Rt(16),T=!1),this.o=this.o&&T,!T)Ka(this.i,this.l,ie,"[Invalid Chunked Response]"),Zo(this),Uc(this);else if(0<ie.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),og(In),In.M=!0,Rt(11))}}else Ka(this.i,this.l,ie,null),eg(this,ie);kn==4&&Zo(this),this.o&&!this.J&&(kn==4?M0(this.j,this):(this.o=!1,Jd(this)))}else cD(this.g),T==400&&0<ie.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Zo(this),Uc(this)}}}catch{}finally{}};function c0(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function q2(d,w){var T=d.C,D=w.indexOf(`
`,T);return D==-1?Xp:(T=Number(w.substring(T,D)),isNaN(T)?a0:(D+=1,D+T>w.length?Xp:(w=w.slice(D,D+T),d.C=D+T,w)))}Ri.prototype.cancel=function(){this.J=!0,Zo(this)};function Jd(d){d.S=Date.now()+d.I,u0(d,d.I)}function u0(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=vn(m(d.ba,d),w)}function Jp(d){d.B&&(l.clearTimeout(d.B),d.B=null)}Ri.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(W2(this.i,this.A),this.L!=2&&(yn(),Rt(17)),Zo(this),this.s=2,Uc(this)):u0(this,this.S-d)};function Uc(d){d.j.G==0||d.J||M0(d.j,d)}function Zo(d){Jp(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,gn(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function eg(d,w){try{var T=d.j;if(T.G!=0&&(T.g==d||tg(T.h,d))){if(!d.K&&tg(T.h,d)&&T.G==3){try{var D=T.Da.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var F=D;if(F[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)lh(T),oh(T);else break e;ig(T),Rt(18)}}else T.za=F[1],0<T.za-T.T&&37500>F[2]&&T.F&&T.v==0&&!T.C&&(T.C=vn(m(T.Za,T),6e3));if(1>=f0(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ea(T,11)}else if((d.K||T.g==d)&&lh(T),!y(w))for(F=T.Da.g.parse(w),w=0;w<F.length;w++){let at=F[w];if(T.T=at[0],at=at[1],T.G==2)if(at[0]=="c"){T.K=at[1],T.ia=at[2];const In=at[3];In!=null&&(T.la=In,T.j.info("VER="+T.la));const kn=at[4];kn!=null&&(T.Aa=kn,T.j.info("SVER="+T.Aa));const Xa=at[5];Xa!=null&&typeof Xa=="number"&&0<Xa&&(D=1.5*Xa,T.L=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const zr=d.g;if(zr){const uh=zr.g?zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uh){var z=D.h;z.g||uh.indexOf("spdy")==-1&&uh.indexOf("quic")==-1&&uh.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ng(z,z.h),z.h=null))}if(D.D){const ag=zr.g?zr.g.getResponseHeader("X-HTTP-Session-Id"):null;ag&&(D.ya=ag,St(D.I,D.D,ag))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),D=T;var ie=d;if(D.qa=F0(D,D.J?D.ia:null,D.W),ie.K){m0(D.h,ie);var _t=ie,xn=D.L;xn&&(_t.I=xn),_t.B&&(Jp(_t),Jd(_t)),D.g=ie}else D0(D);0<T.i.length&&ah(T)}else at[0]!="stop"&&at[0]!="close"||ea(T,7);else T.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?ea(T,7):sg(T):at[0]!="noop"&&T.l&&T.l.ta(at),T.v=0)}}yn(4)}catch{}}var G2=class{constructor(d,w){this.g=d,this.map=w}};function d0(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function h0(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function f0(d){return d.h?1:d.g?d.g.size:0}function tg(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function ng(d,w){d.g?d.g.add(w):d.h=w}function m0(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}d0.prototype.cancel=function(){if(this.i=p0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function p0(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const T of d.g.values())w=w.concat(T.D);return w}return _(d.i)}function K2(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var w=[],T=d.length,D=0;D<T;D++)w.push(d[D]);return w}w=[],T=0;for(D in d)w[T++]=d[D];return w}function Q2(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var w=[];d=d.length;for(var T=0;T<d;T++)w.push(T);return w}w=[],T=0;for(const D in d)w[T++]=D;return w}}}function g0(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var T=Q2(d),D=K2(d),F=D.length,z=0;z<F;z++)w.call(void 0,D[z],T&&T[z],d)}var y0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Y2(d,w){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var D=d[T].indexOf("="),F=null;if(0<=D){var z=d[T].substring(0,D);F=d[T].substring(D+1)}else z=d[T];w(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Jo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Jo){this.h=d.h,eh(this,d.j),this.o=d.o,this.g=d.g,th(this,d.s),this.l=d.l;var w=d.i,T=new zc;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),v0(this,T),this.m=d.m}else d&&(w=String(d).match(y0))?(this.h=!1,eh(this,w[1]||"",!0),this.o=$c(w[2]||""),this.g=$c(w[3]||"",!0),th(this,w[4]),this.l=$c(w[5]||"",!0),v0(this,w[6]||"",!0),this.m=$c(w[7]||"")):(this.h=!1,this.i=new zc(null,this.h))}Jo.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Bc(w,x0,!0),":");var T=this.g;return(T||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Bc(w,x0,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Bc(T,T.charAt(0)=="/"?J2:Z2,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Bc(T,tD)),d.join("")};function zs(d){return new Jo(d)}function eh(d,w,T){d.j=T?$c(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function th(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function v0(d,w,T){w instanceof zc?(d.i=w,nD(d.i,d.h)):(T||(w=Bc(w,eD)),d.i=new zc(w,d.h))}function St(d,w,T){d.i.set(w,T)}function nh(d){return St(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function $c(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Bc(d,w,T){return typeof d=="string"?(d=encodeURI(d).replace(w,X2),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function X2(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var x0=/[#\/\?@]/g,Z2=/[#\?:]/g,J2=/[#\?]/g,eD=/[#\?@]/g,tD=/#/g;function zc(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function ji(d){d.g||(d.g=new Map,d.h=0,d.i&&Y2(d.i,function(w,T){d.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=zc.prototype,t.add=function(d,w){ji(this),this.i=null,d=Qa(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(w),this.h+=1,this};function w0(d,w){ji(d),w=Qa(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function _0(d,w){return ji(d),w=Qa(d,w),d.g.has(w)}t.forEach=function(d,w){ji(this),this.g.forEach(function(T,D){T.forEach(function(F){d.call(w,F,D,this)},this)},this)},t.na=function(){ji(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let D=0;D<w.length;D++){const F=d[D];for(let z=0;z<F.length;z++)T.push(w[D])}return T},t.V=function(d){ji(this);let w=[];if(typeof d=="string")_0(this,d)&&(w=w.concat(this.g.get(Qa(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)w=w.concat(d[T])}return w},t.set=function(d,w){return ji(this),this.i=null,d=Qa(this,d),_0(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function b0(d,w,T){w0(d,w),0<T.length&&(d.i=null,d.g.set(Qa(d,w),_(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var D=w[T];const z=encodeURIComponent(String(D)),ie=this.V(D);for(D=0;D<ie.length;D++){var F=z;ie[D]!==""&&(F+="="+encodeURIComponent(String(ie[D]))),d.push(F)}}return this.i=d.join("&")};function Qa(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function nD(d,w){w&&!d.j&&(ji(d),d.i=null,d.g.forEach(function(T,D){var F=D.toLowerCase();D!=F&&(w0(this,D),b0(this,F,T))},d)),d.j=w}function rD(d,w){const T=new Zn;if(l.Image){const D=new Image;D.onload=g(Di,T,"TestLoadImage: loaded",!0,w,D),D.onerror=g(Di,T,"TestLoadImage: error",!1,w,D),D.onabort=g(Di,T,"TestLoadImage: abort",!1,w,D),D.ontimeout=g(Di,T,"TestLoadImage: timeout",!1,w,D),l.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=d}else w(!1)}function sD(d,w){const T=new Zn,D=new AbortController,F=setTimeout(()=>{D.abort(),Di(T,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:D.signal}).then(z=>{clearTimeout(F),z.ok?Di(T,"TestPingServer: ok",!0,w):Di(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(F),Di(T,"TestPingServer: error",!1,w)})}function Di(d,w,T,D,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),D(T)}catch{}}function iD(){this.g=new Lc}function oD(d,w,T){const D=T||"";try{g0(d,function(F,z){let ie=F;u(F)&&(ie=fs(F)),w.push(D+z+"="+encodeURIComponent(ie))})}catch(F){throw w.push(D+"type="+encodeURIComponent("_badmap")),F}}function rh(d){this.l=d.Ub||null,this.j=d.eb||!1}E(rh,Ai),rh.prototype.g=function(){return new sh(this.l,this.j)},rh.prototype.i=function(d){return function(){return d}}({});function sh(d,w){Y.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(sh,Y),t=sh.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,Hc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||l).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Hc(this)),this.g&&(this.readyState=3,Hc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;E0(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function E0(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Wc(this):Hc(this),this.readyState==3&&E0(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Wc(this))},t.Qa=function(d){this.g&&(this.response=d,Wc(this))},t.ga=function(){this.g&&Wc(this)};function Wc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Hc(d)}t.setRequestHeader=function(d,w){this.u.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=w.next();return d.join(`\r
`)};function Hc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(sh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function T0(d){let w="";return P(d,function(T,D){w+=D,w+=":",w+=T,w+=`\r
`}),w}function rg(d,w,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=T0(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):St(d,w,T))}function Wt(d){Y.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Wt,Y);var aD=/^https?$/i,lD=["POST","PUT"];t=Wt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,w,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yp.g(),this.v=this.o?Vc(this.o):Vc(Yp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(z){S0(this,z);return}if(d=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var F in D)T.set(F,D[F]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const z of D.keys())T.set(z,D.get(z));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(z=>z.toLowerCase()=="content-type"),F=l.FormData&&d instanceof l.FormData,!(0<=Array.prototype.indexOf.call(lD,w,void 0))||D||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ie]of T)this.g.setRequestHeader(z,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{I0(this),this.u=!0,this.g.send(d),this.u=!1}catch(z){S0(this,z)}};function S0(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,C0(d),ih(d)}function C0(d){d.A||(d.A=!0,pe(d,"complete"),pe(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,pe(this,"complete"),pe(this,"abort"),ih(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ih(this,!0)),Wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?N0(this):this.bb())},t.bb=function(){N0(this)};function N0(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Ws(d)!=4||d.Z()!=2)){if(d.u&&Ws(d)==4)Jt(d.Ea,0,d);else if(pe(d,"readystatechange"),Ws(d)==4){d.h=!1;try{const ie=d.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var D;if(D=ie===0){var F=String(d.D).match(y0)[1]||null;!F&&l.self&&l.self.location&&(F=l.self.location.protocol.slice(0,-1)),D=!aD.test(F?F.toLowerCase():"")}T=D}if(T)pe(d,"complete"),pe(d,"success");else{d.m=6;try{var z=2<Ws(d)?d.g.statusText:""}catch{z=""}d.l=z+" ["+d.Z()+"]",C0(d)}}finally{ih(d)}}}}function ih(d,w){if(d.g){I0(d);const T=d.g,D=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||pe(d,"ready");try{T.onreadystatechange=D}catch{}}}function I0(d){d.I&&(l.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Ws(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Ws(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Br(w)}};function k0(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function cD(d){const w={};d=(d.g&&2<=Ws(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<d.length;D++){if(y(d[D]))continue;var T=R(d[D]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const z=w[F]||[];w[F]=z,z.push(T)}N(w,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qc(d,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||w}function P0(d){this.Aa=0,this.i=[],this.j=new Zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qc("baseRetryDelayMs",5e3,d),this.cb=qc("retryDelaySeedMs",1e4,d),this.Wa=qc("forwardChannelMaxRetries",2,d),this.wa=qc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new d0(d&&d.concurrentRequestLimit),this.Da=new iD,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=P0.prototype,t.la=8,t.G=1,t.connect=function(d,w,T,D){Rt(0),this.W=d,this.H=w||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.I=F0(this,null,this.W),ah(this)};function sg(d){if(A0(d),d.G==3){var w=d.U++,T=zs(d.I);if(St(T,"SID",d.K),St(T,"RID",w),St(T,"TYPE","terminate"),Gc(d,T),w=new Ri(d,d.j,w),w.L=2,w.v=nh(zs(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&l.Image&&(new Image().src=w.v,T=!0),T||(w.g=U0(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Jd(w)}V0(d)}function oh(d){d.g&&(og(d),d.g.cancel(),d.g=null)}function A0(d){oh(d),d.u&&(l.clearTimeout(d.u),d.u=null),lh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&l.clearTimeout(d.s),d.s=null)}function ah(d){if(!h0(d.h)&&!d.s){d.s=!0;var w=d.Ga;se||ne(),U||(se(),U=!0),$.add(w,d),d.B=0}}function uD(d,w){return f0(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=vn(m(d.Ga,d,w),L0(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const F=new Ri(this,this.j,d);let z=this.o;if(this.S&&(z?(z=S(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(F.H=z,z=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(w+=D,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=j0(this,F,w),T=zs(this.I),St(T,"RID",d),St(T,"CVER",22),this.D&&St(T,"X-HTTP-Session-Id",this.D),Gc(this,T),z&&(this.O?w="headers="+encodeURIComponent(String(T0(z)))+"&"+w:this.m&&rg(T,this.m,z)),ng(this.h,F),this.Ua&&St(T,"TYPE","init"),this.P?(St(T,"$req",w),St(T,"SID","null"),F.T=!0,Zp(F,T,null)):Zp(F,T,w),this.G=2}}else this.G==3&&(d?R0(this,d):this.i.length==0||h0(this.h)||R0(this))};function R0(d,w){var T;w?T=w.l:T=d.U++;const D=zs(d.I);St(D,"SID",d.K),St(D,"RID",T),St(D,"AID",d.T),Gc(d,D),d.m&&d.o&&rg(D,d.m,d.o),T=new Ri(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),w&&(d.i=w.D.concat(d.i)),w=j0(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ng(d.h,T),Zp(T,D,w)}function Gc(d,w){d.H&&P(d.H,function(T,D){St(w,D,T)}),d.l&&g0({},function(T,D){St(w,D,T)})}function j0(d,w,T){T=Math.min(d.i.length,T);var D=d.l?m(d.l.Na,d.l,d):null;e:{var F=d.i;let z=-1;for(;;){const ie=["count="+T];z==-1?0<T?(z=F[0].g,ie.push("ofs="+z)):z=0:ie.push("ofs="+z);let _t=!0;for(let xn=0;xn<T;xn++){let at=F[xn].g;const In=F[xn].map;if(at-=z,0>at)z=Math.max(0,F[xn].g-100),_t=!1;else try{oD(In,ie,"req"+at+"_")}catch{D&&D(In)}}if(_t){D=ie.join("&");break e}}}return d=d.i.splice(0,T),w.D=d,D}function D0(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;se||ne(),U||(se(),U=!0),$.add(w,d),d.v=0}}function ig(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=vn(m(d.Fa,d),L0(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,O0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=vn(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),oh(this),O0(this))};function og(d){d.A!=null&&(l.clearTimeout(d.A),d.A=null)}function O0(d){d.g=new Ri(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=zs(d.qa);St(w,"RID","rpc"),St(w,"SID",d.K),St(w,"AID",d.T),St(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&St(w,"TO",d.ja),St(w,"TYPE","xmlhttp"),Gc(d,w),d.m&&d.o&&rg(w,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=nh(zs(w)),T.m=null,T.P=!0,l0(T,d)}t.Za=function(){this.C!=null&&(this.C=null,oh(this),ig(this),Rt(19))};function lh(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function M0(d,w){var T=null;if(d.g==w){lh(d),og(d),d.g=null;var D=2}else if(tg(d.h,w))T=w.D,m0(d.h,w),D=1;else return;if(d.G!=0){if(w.o)if(D==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var F=d.B;D=rt(),pe(D,new ms(D,T)),ah(d)}else D0(d);else if(F=w.s,F==3||F==0&&0<w.X||!(D==1&&uD(d,w)||D==2&&ig(d)))switch(T&&0<T.length&&(w=d.h,w.i=w.i.concat(T)),F){case 1:ea(d,5);break;case 4:ea(d,10);break;case 3:ea(d,6);break;default:ea(d,2)}}}function L0(d,w){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*w}function ea(d,w){if(d.j.info("Error code "+w),w==2){var T=m(d.fb,d),D=d.Xa;const F=!D;D=new Jo(D||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||eh(D,"https"),nh(D),F?rD(D.toString(),T):sD(D.toString(),T)}else Rt(2);d.G=0,d.l&&d.l.sa(w),V0(d),A0(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function V0(d){if(d.G=0,d.ka=[],d.l){const w=p0(d.h);(w.length!=0||d.i.length!=0)&&(x(d.ka,w),x(d.ka,d.i),d.h.i.length=0,_(d.i),d.i.length=0),d.l.ra()}}function F0(d,w,T){var D=T instanceof Jo?zs(T):new Jo(T);if(D.g!="")w&&(D.g=w+"."+D.g),th(D,D.s);else{var F=l.location;D=F.protocol,w=w?w+"."+F.hostname:F.hostname,F=+F.port;var z=new Jo(null);D&&eh(z,D),w&&(z.g=w),F&&th(z,F),T&&(z.l=T),D=z}return T=d.D,w=d.ya,T&&w&&St(D,T,w),St(D,"VER",d.la),Gc(d,D),D}function U0(d,w,T){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new Wt(new rh({eb:T})):new Wt(d.pa),w.Ha(d.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $0(){}t=$0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ch(){}ch.prototype.g=function(d,w){return new hr(d,w)};function hr(d,w){Y.call(this),this.g=new P0(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!y(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!y(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new Ya(this)}E(hr,Y),hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hr.prototype.close=function(){sg(this.g)},hr.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=fs(d),d=T);w.i.push(new G2(w.Ya++,d)),w.G==3&&ah(w)},hr.prototype.N=function(){this.g.l=null,delete this.j,sg(this.g),delete this.g,hr.aa.N.call(this)};function B0(d){Xo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const T in w){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}E(B0,Xo);function z0(){Ir.call(this),this.status=1}E(z0,Ir);function Ya(d){this.g=d}E(Ya,$0),Ya.prototype.ua=function(){pe(this.g,"a")},Ya.prototype.ta=function(d){pe(this.g,new B0(d))},Ya.prototype.sa=function(d){pe(this.g,new z0)},Ya.prototype.ra=function(){pe(this.g,"b")},ch.prototype.createWebChannel=ch.prototype.g,hr.prototype.send=hr.prototype.o,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,TP=function(){return new ch},EP=function(){return rt()},bP=Bs,Av={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xd.NO_ERROR=0,Xd.TIMEOUT=8,Xd.HTTP_ERROR=6,uf=Xd,i0.COMPLETE="complete",_P=i0,Fc.EventType=Yo,Yo.OPEN="a",Yo.CLOSE="b",Yo.ERROR="c",Yo.MESSAGE="d",Y.prototype.listen=Y.prototype.K,gu=Fc,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,wP=Wt}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});const hE="@firebase/firestore",fE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Rw("@firebase/firestore");function sl(){return Aa.logLevel}function fe(t,...e){if(Aa.logLevel<=Ye.DEBUG){const n=e.map(Hw);Aa.debug(`Firestore (${kc}): ${t}`,...n)}}function _i(t,...e){if(Aa.logLevel<=Ye.ERROR){const n=e.map(Hw);Aa.error(`Firestore (${kc}): ${t}`,...n)}}function Po(t,...e){if(Aa.logLevel<=Ye.WARN){const n=e.map(Hw);Aa.warn(`Firestore (${kc}): ${t}`,...n)}}function Hw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,SP(t,r,n)}function SP(t,e,n){let r=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw _i(r),new Error(r)}function dt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||SP(e,s,r)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(On.UNAUTHENTICATED))}shutdown(){}}class L${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class V${constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new oi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new oi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new CP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class F${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new F$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const r=i=>{i.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=B$(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function Rv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return We(r,s);{const i=NP(),o=z$(i.encode(pE(t,n)),i.encode(pE(e,n)));return o!==0?o:We(r,s)}}n+=r>65535?2:1}return We(t.length,e.length)}function pE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function z$(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return We(t[n],e[n]);return We(t.length,e.length)}function ic(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="__name__";class vs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=vs.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return We(e.length,n.length)}static compareSegments(e,n){const r=vs.isNumericId(e),s=vs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?vs.extractNumericId(e).compare(vs.extractNumericId(n)):Rv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xo.fromString(e.substring(4,e.length-2))}}class Et extends vs{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const W$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends vs{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return W$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gE}static keyField(){return new bn([gE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new le(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new le(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new le(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new le(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Et.fromString(e))}static fromName(e){return new _e(Et.fromString(e).popFirst(5))}static empty(){return new _e(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t,e,n){if(!n)throw new le(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function H$(t,e,n,r){if(e===!0&&r===!0)throw new le(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yE(t){if(!_e.isDocumentKey(t))throw new le(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vE(t){if(_e.isDocumentKey(t))throw new le(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function Fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vp(t);throw new le(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ud(t,e){if(!kP(t))throw new le(q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new le(q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=-62135596800,wE=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*wE);return new kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xE)throw new le(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wE}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ud(e,kt._jsonSchema))return new kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kt._jsonSchemaVersion="firestore/timestamp/1.0",kt._jsonSchema={type:sn("string",kt._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new kt(0,0))}static max(){return new je(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=-1;function q$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=je.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new Ao(s,_e.empty(),e)}function G$(t){return new Ao(t.readTime,t.key,md)}class Ao{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ao(je.min(),_e.empty(),md)}static max(){return new Ao(je.max(),_e.empty(),md)}}function K$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==Q$)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function X$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ac(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}xp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=-1;function wp(t){return t==null}function um(t){return t===0&&1/t==-1/0}function Z$(t){return typeof t=="number"&&Number.isInteger(t)&&!um(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="";function J$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_E(e)),e=eB(t.get(n),e);return _E(e)}function eB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case PP:n+="";break;default:n+=i}}return n}function _E(t){return t+PP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mh(this.root,e,this.comparator,!0)}}class Mh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=i??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _n(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new EE(this.data.getIterator())}getIteratorFrom(e){return new EE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class EE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new vr([])}unionWith(e){let n=new un(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ic(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new RP("Invalid base64 string: "+i):i}}(e);return new Nn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const tB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=tB.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jo(t){return typeof t=="string"?Nn.fromBase64String(t):Nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="server_timestamp",DP="__type__",OP="__previous_value__",MP="__local_write_time__";function Kw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[DP])===null||n===void 0?void 0:n.stringValue)===jP}function _p(t){const e=t.mapValue.fields[OP];return Kw(e)?_p(e):e}function pd(t){const e=Ro(t.mapValue.fields[MP].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n,r,s,i,o,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const dm="(default)";class gd{constructor(e,n){this.projectId=e,this.database=n||dm}static empty(){return new gd("","")}get isDefaultDatabase(){return this.database===dm}isEqual(e){return e instanceof gd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="__type__",VP="__max__",Lh={mapValue:{fields:{__type__:{stringValue:VP}}}},FP="__vector__",hm="value";function Do(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kw(t)?4:sB(t)?9007199254740991:rB(t)?10:11:Se(28295,{value:t})}function Ms(t,e){if(t===e)return!0;const n=Do(t);if(n!==Do(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pd(t).isEqual(pd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ro(s.timestampValue),l=Ro(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return jo(s.bytesValue).isEqual(jo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Kt(s.geoPointValue.latitude)===Kt(i.geoPointValue.latitude)&&Kt(s.geoPointValue.longitude)===Kt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Kt(s.integerValue)===Kt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Kt(s.doubleValue),l=Kt(i.doubleValue);return o===l?um(o)===um(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ic(t.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(bE(o)!==bE(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Ms(o[c],l[c])))return!1;return!0}(t,e);default:return Se(52216,{left:t})}}function yd(t,e){return(t.values||[]).find(n=>Ms(n,e))!==void 0}function oc(t,e){if(t===e)return 0;const n=Do(t),r=Do(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Kt(i.integerValue||i.doubleValue),c=Kt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return TE(t.timestampValue,e.timestampValue);case 4:return TE(pd(t),pd(e));case 5:return Rv(t.stringValue,e.stringValue);case 6:return function(i,o){const l=jo(i),c=jo(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=We(l[u],c[u]);if(h!==0)return h}return We(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=We(Kt(i.latitude),Kt(o.latitude));return l!==0?l:We(Kt(i.longitude),Kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return SE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,u,h;const f=i.fields||{},m=o.fields||{},g=(l=f[hm])===null||l===void 0?void 0:l.arrayValue,E=(c=m[hm])===null||c===void 0?void 0:c.arrayValue,_=We(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return _!==0?_:SE(g,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Lh.mapValue&&o===Lh.mapValue)return 0;if(i===Lh.mapValue)return 1;if(o===Lh.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=Rv(c[f],h[f]);if(m!==0)return m;const g=oc(l[c[f]],u[h[f]]);if(g!==0)return g}return We(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Se(23264,{le:n})}}function TE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Ro(t),r=Ro(e),s=We(n.seconds,r.seconds);return s!==0?s:We(n.nanos,r.nanos)}function SE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=oc(n[s],r[s]);if(i)return i}return We(n.length,r.length)}function ac(t){return jv(t)}function jv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ro(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return jo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=jv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${jv(n.fields[o])}`;return s+"}"}(t.mapValue):Se(61005,{value:t})}function df(t){switch(Do(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_p(t);return e?16+df(e):16;case 5:return 2*t.stringValue.length;case 6:return jo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+df(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Wo(r.fields,(i,o)=>{s+=i.length+df(o)}),s}(t.mapValue);default:throw Se(13486,{value:t})}}function CE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dv(t){return!!t&&"integerValue"in t}function Qw(t){return!!t&&"arrayValue"in t}function NE(t){return!!t&&"nullValue"in t}function IE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hf(t){return!!t&&"mapValue"in t}function rB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[LP])===null||n===void 0?void 0:n.stringValue)===FP}function Ou(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ou(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ou(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ou(n)}setAll(e){let n=bn.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Ou(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];hf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Wo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new rr(Ou(this.value))}}function UP(t){const e=[];return Wo(t.fields,(n,r)=>{const s=new bn([n]);if(hf(r)){const i=UP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ln(e,0,je.min(),je.min(),je.min(),rr.empty(),0)}static newFoundDocument(e,n,r,s){return new Ln(e,1,n,je.min(),r,s,0)}static newNoDocument(e,n){return new Ln(e,2,n,je.min(),je.min(),rr.empty(),0)}static newUnknownDocument(e,n){return new Ln(e,3,n,je.min(),je.min(),rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.position=e,this.inclusive=n}}function kE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=_e.comparator(_e.fromName(o.referenceValue),n.key):r=oc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function PE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ms(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n="asc"){this.field=e,this.dir=n}}function iB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{}class rn extends $P{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aB(e,n,r):n==="array-contains"?new uB(e,r):n==="in"?new dB(e,r):n==="not-in"?new hB(e,r):n==="array-contains-any"?new fB(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lB(e,r):new cB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oc(n,this.value)):n!==null&&Do(this.value)===Do(n)&&this.matchesComparison(oc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class us extends $P{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new us(e,n)}matches(e){return BP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function BP(t){return t.op==="and"}function zP(t){return oB(t)&&BP(t)}function oB(t){for(const e of t.filters)if(e instanceof us)return!1;return!0}function Ov(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+ac(t.value);if(zP(t))return t.filters.map(e=>Ov(e)).join(",");{const e=t.filters.map(n=>Ov(n)).join(",");return`${t.op}(${e})`}}function WP(t,e){return t instanceof rn?function(r,s){return s instanceof rn&&r.op===s.op&&r.field.isEqual(s.field)&&Ms(r.value,s.value)}(t,e):t instanceof us?function(r,s){return s instanceof us&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&WP(o,s.filters[l]),!0):!1}(t,e):void Se(19439)}function HP(t){return t instanceof rn?function(n){return`${n.field.canonicalString()} ${n.op} ${ac(n.value)}`}(t):t instanceof us?function(n){return n.op.toString()+" {"+n.getFilters().map(HP).join(" ,")+"}"}(t):"Filter"}class aB extends rn{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class lB extends rn{constructor(e,n){super(e,"in",n),this.keys=qP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cB extends rn{constructor(e,n){super(e,"not-in",n),this.keys=qP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class uB extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qw(n)&&yd(n.arrayValue,this.value)}}class dB extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yd(this.value.arrayValue,n)}}class hB extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(yd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yd(this.value.arrayValue,n)}}class fB extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Pe=null}}function AE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new mB(t,e,n,r,s,i,o)}function Yw(t){const e=Me(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ov(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),wp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ac(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ac(r)).join(",")),e.Pe=n}return e.Pe}function Xw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PE(t.startAt,e.startAt)&&PE(t.endAt,e.endAt)}function Mv(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function pB(t,e,n,r,s,i,o,l){return new Rc(t,e,n,r,s,i,o,l)}function Zw(t){return new Rc(t)}function RE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GP(t){return t.collectionGroup!==null}function Mu(t){const e=Me(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new un(bn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new vd(i,r))}),n.has(bn.keyField().canonicalString())||e.Te.push(new vd(bn.keyField(),r))}return e.Te}function Ps(t){const e=Me(t);return e.Ie||(e.Ie=gB(e,Mu(t))),e.Ie}function gB(t,e){if(t.limitType==="F")return AE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new vd(s.field,i)});const n=t.endAt?new fm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fm(t.startAt.position,t.startAt.inclusive):null;return AE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Lv(t,e){const n=t.filters.concat([e]);return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vv(t,e,n){return new Rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bp(t,e){return Xw(Ps(t),Ps(e))&&t.limitType===e.limitType}function KP(t){return`${Yw(Ps(t))}|lt:${t.limitType}`}function il(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>HP(s)).join(", ")}]`),wp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ac(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ac(s)).join(",")),`Target(${r})`}(Ps(t))}; limitType=${t.limitType})`}function Ep(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):_e.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Mu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=kE(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Mu(r),s)||r.endAt&&!function(o,l,c){const u=kE(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Mu(r),s))}(t,e)}function yB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QP(t){return(e,n)=>{let r=!1;for(const s of Mu(t)){const i=vB(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function vB(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?oc(c,u):Se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return AP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=new zt(_e.comparator);function bi(){return xB}const YP=new zt(_e.comparator);function yu(...t){let e=YP;for(const n of t)e=e.insert(n.key,n);return e}function XP(t){let e=YP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function da(){return Lu()}function ZP(){return Lu()}function Lu(){return new za(t=>t.toString(),(t,e)=>t.isEqual(e))}const wB=new zt(_e.comparator),_B=new un(_e.comparator);function Ze(...t){let e=_B;for(const n of t)e=e.add(n);return e}const bB=new un(We);function EB(){return bB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:um(e)?"-0":e}}function JP(t){return{integerValue:""+t}}function TB(t,e){return Z$(e)?JP(e):Jw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this._=void 0}}function SB(t,e,n){return t instanceof xd?function(s,i){const o={fields:{[DP]:{stringValue:jP},[MP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Kw(i)&&(i=_p(i)),i&&(o.fields[OP]=i),{mapValue:o}}(n,e):t instanceof lc?tA(t,e):t instanceof cc?nA(t,e):function(s,i){const o=eA(s,i),l=jE(o)+jE(s.Ee);return Dv(o)&&Dv(s.Ee)?JP(l):Jw(s.serializer,l)}(t,e)}function CB(t,e,n){return t instanceof lc?tA(t,e):t instanceof cc?nA(t,e):n}function eA(t,e){return t instanceof mm?function(r){return Dv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class xd extends Tp{}class lc extends Tp{constructor(e){super(),this.elements=e}}function tA(t,e){const n=rA(e);for(const r of t.elements)n.some(s=>Ms(s,r))||n.push(r);return{arrayValue:{values:n}}}class cc extends Tp{constructor(e){super(),this.elements=e}}function nA(t,e){let n=rA(e);for(const r of t.elements)n=n.filter(s=>!Ms(s,r));return{arrayValue:{values:n}}}class mm extends Tp{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function jE(t){return Kt(t.integerValue||t.doubleValue)}function rA(t){return Qw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n){this.field=e,this.transform=n}}function NB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof lc&&s instanceof lc||r instanceof cc&&s instanceof cc?ic(r.elements,s.elements,Ms):r instanceof mm&&s instanceof mm?Ms(r.Ee,s.Ee):r instanceof xd&&s instanceof xd}(t.transform,e.transform)}class IB{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sp{}function sA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cp(t.key,qn.none()):new $d(t.key,t.data,qn.none());{const n=t.data,r=rr.empty();let s=new un(bn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ho(t.key,r,new vr(s.toArray()),qn.none())}}function kB(t,e,n){t instanceof $d?function(s,i,o){const l=s.value.clone(),c=OE(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ho?function(s,i,o){if(!ff(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=OE(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(iA(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Vu(t,e,n,r){return t instanceof $d?function(i,o,l,c){if(!ff(i.precondition,o))return l;const u=i.value.clone(),h=ME(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ho?function(i,o,l,c){if(!ff(i.precondition,o))return l;const u=ME(i.fieldTransforms,c,o),h=o.data;return h.setAll(iA(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return ff(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function PB(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=eA(r.transform,s||null);i!=null&&(n===null&&(n=rr.empty()),n.set(r.field,i))}return n||null}function DE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ic(r,s,(i,o)=>NB(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $d extends Sp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ho extends Sp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function iA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function OE(t,e,n){const r=new Map;dt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,CB(o,l,n[s]))}return r}function ME(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,SB(i,o,e))}return r}class Cp extends Sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AB extends Sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&kB(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZP();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=sA(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&ic(this.mutations,e.mutations,(n,r)=>DE(n,r))&&ic(this.baseMutations,e.baseMutations,(n,r)=>DE(n,r))}}class t_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){dt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return wB}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new t_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jB=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,tt;function OB(t){switch(t){case q.OK:return Se(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function oA(t){if(t===void 0)return _i("GRPC error has no .code"),q.UNKNOWN;switch(t){case tn.OK:return q.OK;case tn.CANCELLED:return q.CANCELLED;case tn.UNKNOWN:return q.UNKNOWN;case tn.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case tn.INTERNAL:return q.INTERNAL;case tn.UNAVAILABLE:return q.UNAVAILABLE;case tn.UNAUTHENTICATED:return q.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case tn.NOT_FOUND:return q.NOT_FOUND;case tn.ALREADY_EXISTS:return q.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return q.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case tn.ABORTED:return q.ABORTED;case tn.OUT_OF_RANGE:return q.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return q.UNIMPLEMENTED;case tn.DATA_LOSS:return q.DATA_LOSS;default:return Se(39323,{code:t})}}(tt=tn||(tn={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=new xo([4294967295,4294967295],0);function LE(t){const e=NP().encode(t),n=new xP;return n.update(e),new Uint8Array(n.digest())}function VE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new xo([n,r],0),new xo([s,i],0)]}class n_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vu(`Invalid padding: ${n}`);if(r<0)throw new vu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=xo.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(xo.fromNumber(r)));return s.compare(MB)===1&&(s=new xo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=LE(e),[r,s]=VE(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new n_(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.fe===0)return;const n=LE(e),[r,s]=VE(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Bd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Np(je.min(),s,new zt(We),bi(),Ze())}}class Bd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bd(r,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class aA{constructor(e,n){this.targetId=e,this.De=n}}class lA{constructor(e,n,r=Nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class FE{constructor(){this.ve=0,this.Ce=UE(),this.Fe=Nn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ze(),n=Ze(),r=Ze();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se(38017,{changeType:i})}}),new Bd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=UE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class LB{constructor(e){this.We=e,this.Ge=new Map,this.ze=bi(),this.je=Vh(),this.Je=Vh(),this.He=new zt(We)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(Mv(i))if(r===0){const o=new _e(i.path);this.Xe(n,o,Ln.newNoDocument(o,je.min()))}else dt(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const l=this._t(e),c=l?this.ut(l,e,o):1;if(c!==0){this.rt(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=jo(r).toUint8Array()}catch(c){if(c instanceof RP)return Po("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new n_(o,s,i)}catch(c){return Po(c instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const l=this.st(o);if(l){if(i.current&&Mv(l.target)){const c=new _e(l.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,Ln.newNoDocument(c,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=Ze();this.Je.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new Np(e,n,this.He,this.ze,r);return this.ze=bi(),this.je=Vh(),this.Je=Vh(),this.He=new zt(We),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new FE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new un(We),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new un(We),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new FE),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Vh(){return new zt(_e.comparator)}function UE(){return new zt(_e.comparator)}const VB={asc:"ASCENDING",desc:"DESCENDING"},FB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UB={and:"AND",or:"OR"};class $B{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fv(t,e){return t.useProto3Json||wp(e)?e:{value:e}}function pm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BB(t,e){return pm(t,e.toTimestamp())}function As(t){return dt(!!t,49232),je.fromTimestamp(function(n){const r=Ro(n);return new kt(r.seconds,r.nanos)}(t))}function r_(t,e){return Uv(t,e).canonicalString()}function Uv(t,e){const n=function(s){return new Et(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uA(t){const e=Et.fromString(t);return dt(pA(e),10190,{key:e.toString()}),e}function $v(t,e){return r_(t.databaseId,e.path)}function Xg(t,e){const n=uA(e);if(n.get(1)!==t.databaseId.projectId)throw new le(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(hA(n))}function dA(t,e){return r_(t.databaseId,e)}function zB(t){const e=uA(t);return e.length===4?Et.emptyPath():hA(e)}function Bv(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hA(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $E(t,e,n){return{name:$v(t,e),fields:n.value.mapValue.fields}}function WB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Se(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(dt(h===void 0||typeof h=="string",58123),Nn.fromBase64String(h||"")):(dt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Nn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const h=u.code===void 0?q.UNKNOWN:oA(u.code);return new le(h,u.message||"")}(o);n=new lA(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Xg(t,r.document.name),i=As(r.document.updateTime),o=r.document.createTime?As(r.document.createTime):je.min(),l=new rr({mapValue:{fields:r.document.fields}}),c=Ln.newFoundDocument(s,i,o,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new mf(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Xg(t,r.document),i=r.readTime?As(r.readTime):je.min(),o=Ln.newNoDocument(s,i),l=r.removedTargetIds||[];n=new mf([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Xg(t,r.document),i=r.removedTargetIds||[];n=new mf([],i,s,null)}else{if(!("filter"in e))return Se(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new DB(s,i),l=r.targetId;n=new aA(l,o)}}return n}function HB(t,e){let n;if(e instanceof $d)n={update:$E(t,e.key,e.value)};else if(e instanceof Cp)n={delete:$v(t,e.key)};else if(e instanceof Ho)n={update:$E(t,e.key,e.data),updateMask:ez(e.fieldMask)};else{if(!(e instanceof AB))return Se(16599,{Rt:e.type});n={verify:$v(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof xd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof lc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof cc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof mm)return{fieldPath:o.field.canonicalString(),increment:l.Ee};throw Se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:BB(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Se(27497)}(t,e.precondition)),n}function qB(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?As(s.updateTime):As(i);return o.isEqual(je.min())&&(o=As(i)),new IB(o,s.transformResults||[])}(n,e))):[]}function GB(t,e){return{documents:[dA(t,e.path)]}}function KB(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dA(t,s);const i=function(u){if(u.length!==0)return mA(us.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:ol(m.field),direction:XB(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Fv(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:s}}function QB(t){let e=zB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){dt(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=fA(f);return m instanceof us&&zP(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(E){return new vd(al(E.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,wp(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,g=f.values||[];return new fm(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,g=f.values||[];return new fm(g,m)}(n.endAt)),pB(e,s,o,i,l,"F",c,u)}function YB(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=al(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=al(n.unaryFilter.field);return rn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=al(n.unaryFilter.field);return rn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=al(n.unaryFilter.field);return rn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(t):t.fieldFilter!==void 0?function(n){return rn.create(al(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return us.create(n.compositeFilter.filters.map(r=>fA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(t):Se(30097,{filter:t})}function XB(t){return VB[t]}function ZB(t){return FB[t]}function JB(t){return UB[t]}function ol(t){return{fieldPath:t.canonicalString()}}function al(t){return bn.fromServerFormat(t.fieldPath)}function mA(t){return t instanceof rn?function(n){if(n.op==="=="){if(IE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NAN"}};if(NE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NAN"}};if(NE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(n.field),op:ZB(n.op),value:n.value}}}(t):t instanceof us?function(n){const r=n.getFilters().map(s=>mA(s));return r.length===1?r[0]:{compositeFilter:{op:JB(n.op),filters:r}}}(t):Se(54877,{filter:t})}function ez(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n,r,s,i=je.min(),o=je.min(),l=Nn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new so(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e){this.gt=e}}function nz(t){const e=QB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(){this.Dn=new sz}addToCollectionParentIndex(e,n){return this.Dn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Ao.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Ao.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class sz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new un(Et.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new un(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gA=41943040;class tr{static withCacheSize(e){return new tr(e,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr.DEFAULT_COLLECTION_PERCENTILE=10,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tr.DEFAULT=new tr(gA,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tr.DISABLED=new tr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new uc(0)}static ur(){return new uc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="LruGarbageCollector",iz=1048576;function WE([t,e],[n,r]){const s=We(t,n);return s===0?We(e,r):s}class oz{constructor(e){this.Tr=e,this.buffer=new un(WE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();WE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class az{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){fe(zE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ac(n)?fe(zE,"Ignoring IndexedDB error during garbage collection: ",n):await Pc(n)}await this.Rr(3e5)})}}class lz{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(xp.ue);const r=new oz(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(BE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BE):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),sl()<=Ye.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function cz(t,e){return new lz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(){this.changes=new za(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Vu(r.mutation,s,vr.empty(),kt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ze()){const s=da();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=yu();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=da();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ze()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=bi();const o=Lu(),l=function(){return Lu()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Ho)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Vu(h.mutation,u,h.mutation.getFieldMask(),kt.now())):o.set(u.key,vr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return l.set(u,new dz(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Lu();let s=new zt((o,l)=>o-l),i=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||vr.empty();h=l.applyToLocalView(u,h),r.set(c,h);const f=(s.get(l.batchId)||Ze()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,f=ZP();h.forEach(m=>{if(!i.has(m)){const g=sA(n.get(m),r.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return _e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(da());let l=md,c=i;return o.next(u=>Q.forEach(u,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?Q.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Ze())).next(h=>({batchId:l,changes:XP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let s=yu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=yu();return this.indexManager.getCollectionParents(e,i).next(l=>Q.forEach(l,c=>{const u=function(f,m){return new Rc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Ln.newInvalidDocument(h)))});let l=yu();return o.forEach((c,u)=>{const h=i.get(c);h!==void 0&&Vu(h.mutation,u,vr.empty(),kt.now()),Ep(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:As(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:nz(s.bundledQuery),readTime:As(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(){this.overlays=new zt(_e.comparator),this.kr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=da();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=da(),i=n.length+1,o=new _e(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new zt((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=da(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=da(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=s)););return Q.resolve(l)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jB(n,r));let i=this.kr.get(n);i===void 0&&(i=Ze(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.qr=new un(hn.Qr),this.$r=new un(hn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new hn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new _e(new Et([])),r=new hn(n,e),s=new hn(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new _e(new Et([])),r=new hn(n,e),s=new hn(n,e+1);let i=Ze();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new hn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return _e.comparator(e.key,n.key)||We(e.Hr,n.Hr)}static Ur(e,n){return We(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new un(hn.Qr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new RB(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Yr=this.Yr.add(new hn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Gw:this.er-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),s=new hn(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const l=this.Zr(o.Hr);i.push(l)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(We);return n.forEach(s=>{const i=new hn(s,0),o=new hn(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],l=>{r=r.add(l.Hr)})}),Q.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;_e.isDocumentKey(i)||(i=i.child(""));const o=new hn(new _e(i),0);let l=new un(We);return this.Yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Hr)),!0)},o),Q.resolve(this.ei(l))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){dt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Q.forEach(n.mutations,s=>{const i=new hn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new hn(n,0),s=this.Yr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.ni=e,this.docs=function(){return new zt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let r=bi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ln.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=bi();const o=n.path,l=new _e(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||K$(G$(h),r)<=0||(s.has(h.key)||Ep(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Se(9500)}ri(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vz(this)}getSize(e){return Q.resolve(this.size)}}class vz extends uz{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e){this.persistence=e,this.ii=new za(n=>Yw(n),Xw),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.si=0,this.oi=new s_,this.targetCount=0,this._i=uc.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Q.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new uc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.hr(n),Q.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n){this.ai={},this.overlays={},this.ui=new xp(0),this.ci=!1,this.ci=!0,this.li=new pz,this.referenceDelegate=e(this),this.hi=new xz(this),this.indexManager=new rz,this.remoteDocumentCache=function(s){return new yz(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new tz(n),this.Ti=new fz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new gz(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const s=new wz(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return Q.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class wz extends Y${constructor(e){super(),this.currentSequenceNumber=e}}class i_{constructor(e){this.persistence=e,this.Ai=new s_,this.Ri=null}static Vi(e){return new i_(e)}get mi(){if(this.Ri)return this.Ri;throw Se(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.mi,r=>{const s=_e.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,je.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Q.or([()=>Q.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class gm{constructor(e,n){this.persistence=e,this.gi=new za(r=>J$(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=cz(this,n)}static Vi(e,n){return new gm(e,n)}Ii(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Q.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?Q.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(l=>{l||(r++,i.removeEntry(o,je.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Q.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=df(e.data.value)),n}Sr(e,n,r){return Q.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=Ze(),s=Ze();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new o_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Q5()?8:X$(Fn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new _z;return this.ws(e,n,o).next(l=>{if(i.result=l,this.Rs)return this.Ss(e,n,o,l.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(sl()<=Ye.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Q.resolve()):(sl()<=Ye.DEBUG&&fe("QueryEngine","Query:",il(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(sl()<=Ye.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(n))):Q.resolve())}ps(e,n){if(RE(n))return Q.resolve(null);let r=Ps(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Vv(n,null,"F"),r=Ps(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ze(...i);return this.gs.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.bs(n,l);return this.Ds(n,u,o,c.readTime)?this.ps(e,Vv(n,null,"F")):this.vs(e,u,n,c)}))})))}ys(e,n,r,s){return RE(n)||s.isEqual(je.min())?Q.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?Q.resolve(null):(sl()<=Ye.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),il(n)),this.vs(e,o,n,q$(s,md)).next(l=>l))})}bs(e,n){let r=new un(QP(e));return n.forEach((s,i)=>{Ep(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return sl()<=Ye.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",il(n)),this.gs.getDocumentsMatchingQuery(e,n,Ao.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="LocalStore",Ez=3e8;class Tz{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new zt(We),this.Ms=new za(i=>Yw(i),Xw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hz(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function Sz(t,e,n,r){return new Tz(t,e,n,r)}async function vA(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=Ze();for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:l}))})})}function Cz(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const f=u.batch,m=f.keys();let g=Q.resolve();return m.forEach(E=>{g=g.next(()=>h.getEntry(c,E)).next(_=>{const x=u.docVersions.get(E);dt(x!==null,48541),_.version.compareTo(x)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),h.addEntry(_)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Ze();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function xA(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Nz(t,e){const n=Me(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const l=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;l.push(n.hi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.hi.addMatchingKeys(i,h.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Nn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(_,x,b){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=Ez?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,g,h)&&l.push(n.hi.updateTargetData(i,g))});let c=bi(),u=Ze();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(Iz(i,o,e.documentUpdates).next(h=>{c=h.Ls,u=h.ks})),!r.isEqual(je.min())){const h=n.hi.getLastRemoteSnapshotVersion(i).next(f=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return Q.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Fs=s,i))}function Iz(t,e,n){let r=Ze(),s=Ze();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=bi();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(je.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):fe(a_,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ls:o,ks:s}})}function kz(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Gw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pz(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new so(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function zv(t,e,n){const r=Me(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ac(o))throw o;fe(a_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function HE(t,e,n){const r=Me(t);let s=je.min(),i=Ze();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=Me(c),m=f.Ms.get(h);return m!==void 0?Q.resolve(f.Fs.get(m)):f.hi.getTargetData(u,h)}(r,o,Ps(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:je.min(),n?i:Ze())).next(l=>(Az(r,yB(e),l),{documents:l,qs:i})))}function Az(t,e,n){let r=t.xs.get(e)||je.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class qE{constructor(){this.activeTargetIds=EB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rz{constructor(){this.Fo=new qE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new qE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="ConnectivityMonitor";class KE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){fe(GE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){fe(GE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh=null;function Wv(){return Fh===null?Fh=function(){return 268435456+Math.round(2147483648*Math.random())}():Fh++,"0x"+Fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="RestConnection",Dz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Oz{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===dm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Wv(),l=this.Go(e,n.toUriEncodedString());fe(Zg,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,s,i);const{host:u}=new URL(l),h=Nc(u);return this.jo(e,l,c,r,h).then(f=>(fe(Zg,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Po(Zg,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=Dz[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class Lz extends Oz{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=Wv();return new Promise((l,c)=>{const u=new wP;u.setWithCredentials(!0),u.listenOnce(_P.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case uf.NO_ERROR:const f=u.getResponseJson();fe(jn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case uf.TIMEOUT:fe(jn,`RPC '${e}' ${o} timed out`),c(new le(q.DEADLINE_EXCEEDED,"Request time out"));break;case uf.HTTP_ERROR:const m=u.getStatus();if(fe(jn,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const _=function(b){const y=b.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(y)>=0?y:q.UNKNOWN}(E.status);c(new le(_,E.message))}else c(new le(q.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new le(q.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{fe(jn,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);fe(jn,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}P_(e,n,r){const s=Wv(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TP(),l=EP(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");fe(jn,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.T_(f);let m=!1,g=!1;const E=new Mz({Ho:x=>{g?fe(jn,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(m||(fe(jn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),fe(jn,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},Yo:()=>f.close()}),_=(x,b,y)=>{x.listen(b,v=>{try{y(v)}catch(C){setTimeout(()=>{throw C},0)}})};return _(f,gu.EventType.OPEN,()=>{g||(fe(jn,`RPC '${e}' stream ${s} transport opened.`),E.s_())}),_(f,gu.EventType.CLOSE,()=>{g||(g=!0,fe(jn,`RPC '${e}' stream ${s} transport closed`),E.__(),this.I_(f))}),_(f,gu.EventType.ERROR,x=>{g||(g=!0,Po(jn,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),E.__(new le(q.UNAVAILABLE,"The operation could not be completed")))}),_(f,gu.EventType.MESSAGE,x=>{var b;if(!g){const y=x.data[0];dt(!!y,16349);const v=y,C=(v==null?void 0:v.error)||((b=v[0])===null||b===void 0?void 0:b.error);if(C){fe(jn,`RPC '${e}' stream ${s} received error:`,C);const A=C.status;let P=function(I){const k=tn[I];if(k!==void 0)return oA(k)}(A),N=C.message;P===void 0&&(P=q.INTERNAL,N="Unknown error status: "+A+" with message "+C.message),g=!0,E.__(new le(P,N)),f.close()}else fe(jn,`RPC '${e}' stream ${s} received:`,y),E.a_(y)}}),_(l,bP.STAT_EVENT,x=>{x.stat===Av.PROXY?fe(jn,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Av.NOPROXY&&fe(jn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t){return new $B(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="PersistentStream";class _A{constructor(e,n,r,s,i,o,l,c){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new wA(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(_i(n.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new le(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return fe(QE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(fe(QE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vz extends _A{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=WB(this.serializer,e),r=function(i){if(!("targetChange"in i))return je.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?je.min():o.readTime?As(o.readTime):je.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Bv(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=Mv(c)?{documents:GB(i,c)}:{query:KB(i,c).Vt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=cA(i,o.resumeToken);const u=Fv(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(je.min())>0){l.readTime=pm(i,o.snapshotVersion.toTimestamp());const u=Fv(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=YB(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Bv(this.serializer),n.removeTarget=e,this.k_(n)}}class Fz extends _A{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=qB(e.writeResults,e.commitTime),r=As(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Bv(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>HB(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{}class $z extends Uz{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new le(q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Uv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new le(q.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Jo(e,Uv(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(q.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Bz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(_i(n),this._a=!1):fe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class zz{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Wa(this)&&(fe(Ra,"Restarting streams for network reachability change."),await async function(c){const u=Me(c);u.Ia.add(4),await zd(u),u.Aa.set("Unknown"),u.Ia.delete(4),await kp(u)}(this))})}),this.Aa=new Bz(r,s)}}async function kp(t){if(Wa(t))for(const e of t.da)await e(!0)}async function zd(t){for(const e of t.da)await e(!1)}function bA(t,e){const n=Me(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),d_(n)?u_(n):jc(n).x_()&&c_(n,e))}function l_(t,e){const n=Me(t),r=jc(n);n.Ta.delete(e),r.x_()&&EA(n,e),n.Ta.size===0&&(r.x_()?r.B_():Wa(n)&&n.Aa.set("Unknown"))}function c_(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jc(t).H_(e)}function EA(t,e){t.Ra.$e(e),jc(t).Y_(e)}function u_(t){t.Ra=new LB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),jc(t).start(),t.Aa.aa()}function d_(t){return Wa(t)&&!jc(t).M_()&&t.Ta.size>0}function Wa(t){return Me(t).Ia.size===0}function TA(t){t.Ra=void 0}async function Wz(t){t.Aa.set("Online")}async function Hz(t){t.Ta.forEach((e,n)=>{c_(t,e)})}async function qz(t,e){TA(t),d_(t)?(t.Aa.la(e),u_(t)):t.Aa.set("Unknown")}async function Gz(t,e,n){if(t.Aa.set("Online"),e instanceof lA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ta.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ta.delete(l),s.Ra.removeTarget(l))}(t,e)}catch(r){fe(Ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ym(t,r)}else if(e instanceof mf?t.Ra.Ye(e):e instanceof aA?t.Ra.it(e):t.Ra.et(e),!n.isEqual(je.min()))try{const r=await xA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Ra.Pt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ta.get(u);h&&i.Ta.set(u,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const h=i.Ta.get(c);if(!h)return;i.Ta.set(c,h.withResumeToken(Nn.EMPTY_BYTE_STRING,h.snapshotVersion)),EA(i,c);const f=new so(h.target,c,u,h.sequenceNumber);c_(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){fe(Ra,"Failed to raise snapshot:",r),await ym(t,r)}}async function ym(t,e,n){if(!Ac(e))throw e;t.Ia.add(1),await zd(t),t.Aa.set("Offline"),n||(n=()=>xA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(Ra,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await kp(t)})}function SA(t,e){return e().catch(n=>ym(t,n,e))}async function Pp(t){const e=Me(t),n=Oo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Gw;for(;Kz(e);)try{const s=await kz(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,Qz(e,s)}catch(s){await ym(e,s)}CA(e)&&NA(e)}function Kz(t){return Wa(t)&&t.Pa.length<10}function Qz(t,e){t.Pa.push(e);const n=Oo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function CA(t){return Wa(t)&&!Oo(t).M_()&&t.Pa.length>0}function NA(t){Oo(t).start()}async function Yz(t){Oo(t).na()}async function Xz(t){const e=Oo(t);for(const n of t.Pa)e.X_(n.mutations)}async function Zz(t,e,n){const r=t.Pa.shift(),s=t_.from(r,e,n);await SA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Pp(t)}async function Jz(t,e){e&&Oo(t).Z_&&await async function(r,s){if(function(o){return OB(o)&&o!==q.ABORTED}(s.code)){const i=r.Pa.shift();Oo(r).N_(),await SA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Pp(r)}}(t,e),CA(t)&&NA(t)}async function YE(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),fe(Ra,"RemoteStore received new credentials");const r=Wa(n);n.Ia.add(3),await zd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await kp(n)}async function e8(t,e){const n=Me(t);e?(n.Ia.delete(2),await kp(n)):e||(n.Ia.add(2),await zd(n),n.Aa.set("Unknown"))}function jc(t){return t.Va||(t.Va=function(n,r,s){const i=Me(n);return i.ia(),new Vz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:Wz.bind(null,t),e_:Hz.bind(null,t),n_:qz.bind(null,t),J_:Gz.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),d_(t)?u_(t):t.Aa.set("Unknown")):(await t.Va.stop(),TA(t))})),t.Va}function Oo(t){return t.ma||(t.ma=function(n,r,s){const i=Me(n);return i.ia(),new Fz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Yz.bind(null,t),n_:Jz.bind(null,t),ea:Xz.bind(null,t),ta:Zz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Pp(t)):(await t.ma.stop(),t.Pa.length>0&&(fe(Ra,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new h_(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f_(t,e){if(_i("AsyncQueue",`${e}: ${t}`),Ac(t))return new le(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{static emptySet(e){return new Dl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=yu(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.fa=new zt(_e.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Se(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class dc{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new dc(e,n,Dl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class n8{constructor(){this.queries=ZE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=Me(n),i=s.queries;s.queries=ZE(),i.forEach((o,l)=>{for(const c of l.wa)c.onError(r)})})(this,new le(q.ABORTED,"Firestore shutting down"))}}function ZE(){return new za(t=>KP(t),bp)}async function IA(t,e){const n=Me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new t8,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=f_(o,`Initialization of query '${il(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&m_(n)}async function kA(t,e){const n=Me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function r8(t,e){const n=Me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.wa)l.Ca(s)&&(r=!0);o.ya=s}}r&&m_(n)}function s8(t,e,n){const r=Me(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function m_(t){t.Da.forEach(e=>{e.next()})}var Hv,JE;(JE=Hv||(Hv={})).Fa="default",JE.Cache="cache";class PA{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Hv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.key=e}}class RA{constructor(e){this.key=e}}class i8{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ze(),this.mutatedKeys=Ze(),this.Xa=QP(e),this.eu=new Dl(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new XE,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),g=Ep(this.query,f)?f:null,E=!!m&&this.mutatedKeys.has(m.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;m&&g?m.data.isEqual(g.data)?E!==_&&(r.track({type:3,doc:g}),x=!0):this.iu(m,g)||(r.track({type:2,doc:g}),x=!0,(c&&this.Xa(g,c)>0||u&&this.Xa(g,u)<0)&&(l=!0)):!m&&g?(r.track({type:0,doc:g}),x=!0):m&&!g&&(r.track({type:1,doc:m}),x=!0,(c||u)&&(l=!0)),x&&(g?(o=o.add(g),i=_?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{eu:o,ru:r,Ds:l,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,f)=>function(g,E){const _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{At:x})}};return _(g)-_(E)}(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(r),s=s!=null&&s;const l=n&&!s?this.ou():[],c=this.Za.size===0&&this.current&&!s?1:0,u=c!==this.Ya;return this.Ya=c,o.length!==0||u?{snapshot:new dc(this.query,e.eu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new XE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ze(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new RA(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new AA(r))}),n}uu(e){this.Ha=e.qs,this.Za=Ze();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return dc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const p_="SyncEngine";class o8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class a8{constructor(e){this.key=e,this.lu=!1}}class l8{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new za(l=>KP(l),bp),this.Tu=new Map,this.Iu=new Set,this.du=new zt(_e.comparator),this.Eu=new Map,this.Au=new s_,this.Ru={},this.Vu=new Map,this.mu=uc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function c8(t,e,n=!0){const r=VA(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await jA(r,e,n,!0),s}async function u8(t,e){const n=VA(t);await jA(n,e,!0,!1)}async function jA(t,e,n,r){const s=await Pz(t.localStore,Ps(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await d8(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&bA(t.remoteStore,s),l}async function d8(t,e,n,r,s){t.gu=(f,m,g)=>async function(_,x,b,y){let v=x.view.nu(b);v.Ds&&(v=await HE(_.localStore,x.query,!1).then(({documents:N})=>x.view.nu(N,v)));const C=y&&y.targetChanges.get(x.targetId),A=y&&y.targetMismatches.get(x.targetId)!=null,P=x.view.applyChanges(v,_.isPrimaryClient,C,A);return tT(_,x.targetId,P._u),P.snapshot}(t,f,m,g);const i=await HE(t.localStore,e,!0),o=new i8(e,i.qs),l=o.nu(i.documents),c=Bd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);tT(t,n,u._u);const h=new o8(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function h8(t,e,n){const r=Me(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!bp(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await zv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&l_(r.remoteStore,s.targetId),qv(r,s.targetId)}).catch(Pc)):(qv(r,s.targetId),await zv(r.localStore,s.targetId,!0))}async function f8(t,e){const n=Me(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),l_(n.remoteStore,r.targetId))}async function m8(t,e,n){const r=_8(t);try{const s=await function(o,l){const c=Me(o),u=kt.now(),h=l.reduce((g,E)=>g.add(E.key),Ze());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=bi(),_=Ze();return c.Os.getEntries(g,h).next(x=>{E=x,E.forEach((b,y)=>{y.isValidDocument()||(_=_.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,E)).next(x=>{f=x;const b=[];for(const y of l){const v=PB(y,f.get(y.key).overlayedDocument);v!=null&&b.push(new Ho(y.key,v,UP(v.value.mapValue),qn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,b,l)}).next(x=>{m=x;const b=x.applyToLocalDocumentSet(f,_);return c.documentOverlayCache.saveOverlays(g,x.batchId,b)})}).then(()=>({batchId:m.batchId,changes:XP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Ru[o.currentUser.toKey()];u||(u=new zt(We)),u=u.insert(l,c),o.Ru[o.currentUser.toKey()]=u}(r,s.batchId,n),await Wd(r,s.changes),await Pp(r.remoteStore)}catch(s){const i=f_(s,"Failed to persist write");n.reject(i)}}async function DA(t,e){const n=Me(t);try{const r=await Nz(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(dt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?dt(o.lu,14607):s.removedDocuments.size>0&&(dt(o.lu,42227),o.lu=!1))}),await Wd(n,r,e)}catch(r){await Pc(r)}}function eT(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=Me(o);c.onlineState=l;let u=!1;c.queries.forEach((h,f)=>{for(const m of f.wa)m.va(l)&&(u=!0)}),u&&m_(c)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function p8(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new zt(_e.comparator);o=o.insert(i,Ln.newNoDocument(i,je.min()));const l=Ze().add(i),c=new Np(je.min(),new Map,new zt(We),o,l);await DA(r,c),r.du=r.du.remove(i),r.Eu.delete(e),g_(r)}else await zv(r.localStore,e,!1).then(()=>qv(r,e,n)).catch(Pc)}async function g8(t,e){const n=Me(t),r=e.batch.batchId;try{const s=await Cz(n.localStore,e);MA(n,r,null),OA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wd(n,s)}catch(s){await Pc(s)}}async function y8(t,e,n){const r=Me(t);try{const s=await function(o,l){const c=Me(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(dt(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);MA(r,e,n),OA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wd(r,s)}catch(s){await Pc(s)}}function OA(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function MA(t,e,n){const r=Me(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function qv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||LA(t,r)})}function LA(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(l_(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),g_(t))}function tT(t,e,n){for(const r of n)r instanceof AA?(t.Au.addReference(r.key,e),v8(t,r)):r instanceof RA?(fe(p_,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||LA(t,r.key)):Se(19791,{yu:r})}function v8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(fe(p_,"New document in limbo: "+n),t.Iu.add(r),g_(t))}function g_(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new _e(Et.fromString(e)),r=t.mu.next();t.Eu.set(r,new a8(n)),t.du=t.du.insert(n,r),bA(t.remoteStore,new so(Ps(Zw(n.path)),r,"TargetPurposeLimboResolution",xp.ue))}}async function Wd(t,e,n){const r=Me(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((l,c)=>{o.push(r.gu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=o_.Es(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.hu.J_(s),await async function(c,u){const h=Me(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(u,m=>Q.forEach(m.Is,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>Q.forEach(m.ds,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Ac(f))throw f;fe(a_,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const g=h.Fs.get(m),E=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(E);h.Fs=h.Fs.insert(m,_)}}}(r.localStore,i))}async function x8(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){fe(p_,"User change. New user:",e.toKey());const r=await vA(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(l=>{l.forEach(c=>{c.reject(new le(q.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wd(n,r.Bs)}}function w8(t,e){const n=Me(t),r=n.Eu.get(e);if(r&&r.lu)return Ze().add(r.key);{let s=Ze();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const l=n.Pu.get(o);s=s.unionWith(l.view.tu)}return s}}function VA(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p8.bind(null,e),e.hu.J_=r8.bind(null,e.eventManager),e.hu.pu=s8.bind(null,e.eventManager),e}function _8(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y8.bind(null,e),e}class vm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ip(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Sz(this.persistence,new bz,e.initialUser,this.serializer)}Du(e){return new yA(i_.Vi,this.serializer)}bu(e){return new Rz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vm.provider={build:()=>new vm};class b8 extends vm{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){dt(this.persistence.referenceDelegate instanceof gm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new az(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?tr.withCacheSize(this.cacheSizeBytes):tr.DEFAULT;return new yA(r=>gm.Vi(r,n),this.serializer)}}class Gv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x8.bind(null,this.syncEngine),await e8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new n8}()}createDatastore(e){const n=Ip(e.databaseInfo.databaseId),r=function(i){return new Lz(i)}(e.databaseInfo);return function(i,o,l,c){return new $z(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new zz(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>eT(this.syncEngine,n,0),function(){return KE.C()?new KE:new jz}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,h){const f=new l8(s,i,o,l,c,u);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Me(s);fe(Ra,"RemoteStore shutting down."),i.Ia.add(5),await zd(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Gv.provider={build:()=>new Gv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="FirestoreClient";class E8{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=On.UNAUTHENTICATED,this.clientId=qw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{fe(Mo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(fe(Mo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=f_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ey(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Mo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await vA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Po("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{fe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Po("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function nT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await T8(t);fe(Mo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>YE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>YE(e.remoteStore,s)),t._onlineComponents=e}async function T8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Mo,"Using user provided OfflineComponentProvider");try{await ey(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===q.FAILED_PRECONDITION||s.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Po("Error using user provided cache. Falling back to memory cache: "+n),await ey(t,new vm)}}else fe(Mo,"Using default OfflineComponentProvider"),await ey(t,new b8(void 0));return t._offlineComponents}async function UA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Mo,"Using user provided OnlineComponentProvider"),await nT(t,t._uninitializedComponentsProvider._online)):(fe(Mo,"Using default OnlineComponentProvider"),await nT(t,new Gv))),t._onlineComponents}function S8(t){return UA(t).then(e=>e.syncEngine)}async function $A(t){const e=await UA(t),n=e.eventManager;return n.onListen=c8.bind(null,e.syncEngine),n.onUnlisten=h8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=f8.bind(null,e.syncEngine),n}function C8(t,e,n={}){const r=new oi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const h=new FA({next:m=>{h.Ou(),o.enqueueAndForget(()=>kA(i,f));const g=m.docs.has(l);!g&&m.fromCache?u.reject(new le(q.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new le(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new PA(Zw(l.path),h,{includeMetadataChanges:!0,ka:!0});return IA(i,f)}(await $A(t),t.asyncQueue,e,n,r)),r.promise}function N8(t,e,n={}){const r=new oi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const h=new FA({next:m=>{h.Ou(),o.enqueueAndForget(()=>kA(i,f)),m.fromCache&&c.source==="server"?u.reject(new le(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new PA(l,h,{includeMetadataChanges:!0,ka:!0});return IA(i,f)}(await $A(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firestore.googleapis.com",sT=!0;class iT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zA,this.ssl=sT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:sT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iz)throw new le(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new le(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new le(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new le(q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ap{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new M$;switch(r.type){case"firstParty":return new U$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rT.get(n);r&&(fe("ComponentProvider","Removing Datastore"),rT.delete(n),r.terminate())}(this),Promise.resolve()}}function I8(t,e,n,r={}){var s;t=Fr(t,Ap);const i=Nc(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(kk(`https://${c}`),Pk("Firestore",!0)),o.host!==zA&&o.host!==c&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:r});if(!vi(u,l)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=On.MOCK_USER;else{h=U5(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new le(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new On(m)}t._authCredentials=new L$(new CP(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ha(this.firestore,e,this._query)}}class Xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ud(n,Xt._jsonSchema))return new Xt(e,r||null,new _e(Et.fromString(n.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:sn("string",Xt._jsonSchemaVersion),referencePath:sn("string")};class wo extends Ha{constructor(e,n,r){super(e,n,Zw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new _e(e))}withConverter(e){return new wo(this.firestore,e,this._path)}}function cr(t,e,...n){if(t=Mt(t),IP("collection","path",e),t instanceof Ap){const r=Et.fromString(e,...n);return vE(r),new wo(t,null,r)}{if(!(t instanceof Xt||t instanceof wo))throw new le(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return vE(r),new wo(t.firestore,null,r)}}function yt(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=qw.newId()),IP("doc","path",e),t instanceof Ap){const r=Et.fromString(e,...n);return yE(r),new Xt(t,null,new _e(r))}{if(!(t instanceof Xt||t instanceof wo))throw new le(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return yE(r),new Xt(t.firestore,t instanceof wo?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="AsyncQueue";class aT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new wA(this,"async_queue_retry"),this.oc=()=>{const r=Jg();r&&fe(oT,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Jg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Jg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new oi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ac(e))throw e;fe(oT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,_i("INTERNAL UNHANDLED ERROR: ",lT(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=h_.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&Se(47125,{hc:lT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function lT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class qo extends Ap{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new aT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aT(e),this._firestoreClient=void 0,await e}}}function k8(t,e){const n=typeof t=="object"?t:Dk(),r=typeof t=="string"?t:dm,s=Dw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=V5("firestore");i&&I8(s,...i)}return s}function Rp(t){if(t._terminated)throw new le(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||P8(t),t._firestoreClient}function P8(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,h){return new nB(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,BA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new E8(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rr(Nn.fromBase64String(e))}catch(n){throw new le(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rr(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ud(e,Rr._jsonSchema))return Rr.fromBase64String(e.bytes)}}Rr._jsonSchemaVersion="firestore/bytes/1.0",Rr._jsonSchema={type:sn("string",Rr._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rs._jsonSchemaVersion}}static fromJSON(e){if(Ud(e,Rs._jsonSchema))return new Rs(e.latitude,e.longitude)}}Rs._jsonSchemaVersion="firestore/geoPoint/1.0",Rs._jsonSchema={type:sn("string",Rs._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:js._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ud(e,js._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new js(e.vectorValues);throw new le(q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}js._jsonSchemaVersion="firestore/vectorValue/1.0",js._jsonSchema={type:sn("string",js._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=/^__.*__$/;class R8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new $d(e,this.data,n,this.fieldTransforms)}}class WA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ho(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ec:t})}}class jp{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new jp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return xm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(HA(this.Ec)&&A8.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class j8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ip(e)}Dc(e,n,r,s=!1){return new jp({Ec:e,methodName:n,bc:r,path:bn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qd(t){const e=t._freezeSettings(),n=Ip(t._databaseId);return new j8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function y_(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);__("Data must be an object, but it was:",o,r);const l=QA(r,o);let c,u;if(i.merge)c=new vr(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=Kv(e,f,n);if(!o.contains(m))throw new le(q.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);XA(h,m)||h.push(m)}c=new vr(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new R8(new rr(l),c,u)}class Dp extends Dc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dp}}function qA(t,e,n){return new jp({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class v_ extends Dc{_toFieldTransform(e){return new e_(e.path,new xd)}isEqual(e){return e instanceof v_}}class x_ extends Dc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=qA(this,e,!0),r=this.vc.map(i=>qa(i,n)),s=new lc(r);return new e_(e.path,s)}isEqual(e){return e instanceof x_&&vi(this.vc,e.vc)}}class w_ extends Dc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=qA(this,e,!0),r=this.vc.map(i=>qa(i,n)),s=new cc(r);return new e_(e.path,s)}isEqual(e){return e instanceof w_&&vi(this.vc,e.vc)}}function GA(t,e,n,r){const s=t.Dc(1,e,n);__("Data must be an object, but it was:",s,r);const i=[],o=rr.empty();Wo(r,(c,u)=>{const h=b_(e,c,n);u=Mt(u);const f=s.gc(h);if(u instanceof Dp)i.push(h);else{const m=qa(u,f);m!=null&&(i.push(h),o.set(h,m))}});const l=new vr(i);return new WA(o,l,s.fieldTransforms)}function KA(t,e,n,r,s,i){const o=t.Dc(1,e,n),l=[Kv(e,r,n)],c=[s];if(i.length%2!=0)throw new le(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(Kv(e,i[m])),c.push(i[m+1]);const u=[],h=rr.empty();for(let m=l.length-1;m>=0;--m)if(!XA(u,l[m])){const g=l[m];let E=c[m];E=Mt(E);const _=o.gc(g);if(E instanceof Dp)u.push(g);else{const x=qa(E,_);x!=null&&(u.push(g),h.set(g,x))}}const f=new vr(u);return new WA(h,f,o.fieldTransforms)}function D8(t,e,n,r=!1){return qa(n,t.Dc(r?4:3,e))}function qa(t,e){if(YA(t=Mt(t)))return __("Unsupported field value:",e,t),QA(t,e);if(t instanceof Dc)return function(r,s){if(!HA(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=qa(l,s.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=kt.fromDate(r);return{timestampValue:pm(s.serializer,i)}}if(r instanceof kt){const i=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pm(s.serializer,i)}}if(r instanceof Rs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rr)return{bytesValue:cA(s.serializer,r._byteString)};if(r instanceof Xt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:r_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof js)return function(o,l){return{mapValue:{fields:{[LP]:{stringValue:FP},[hm]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.wc("VectorValues must only contain numeric values.");return Jw(l.serializer,u)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${vp(r)}`)}(t,e)}function QA(t,e){const n={};return AP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(t,(r,s)=>{const i=qa(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function YA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof Rs||t instanceof Rr||t instanceof Xt||t instanceof Dc||t instanceof js)}function __(t,e,n){if(!YA(n)||!kP(n)){const r=vp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Kv(t,e,n){if((e=Mt(e))instanceof Hd)return e._internalPath;if(typeof e=="string")return b_(t,e);throw xm("Field path arguments must be of type string or ",t,!1,void 0,n)}const O8=new RegExp("[~\\*/\\[\\]]");function b_(t,e,n){if(e.search(O8)>=0)throw xm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hd(...e.split("."))._internalPath}catch{throw xm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xm(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new le(q.INVALID_ARGUMENT,l+t+c)}function XA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Op("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class M8 extends ZA{data(){return super.data()}}function Op(t,e){return typeof e=="string"?b_(t,e):e instanceof Hd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E_{}class JA extends E_{}function ur(t,e,...n){let r=[];e instanceof E_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof T_).length,l=i.filter(c=>c instanceof Mp).length;if(o>1||o>0&&l>0)throw new le(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Mp extends JA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Mp(e,n,r)}_apply(e){const n=this._parse(e);return eR(e._query,n),new Ha(e.firestore,e.converter,Lv(e._query,n))}_parse(e){const n=qd(e.firestore);return function(i,o,l,c,u,h,f){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new le(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){uT(f,h);const E=[];for(const _ of f)E.push(cT(c,i,_));m={arrayValue:{values:E}}}else m=cT(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||uT(f,h),m=D8(l,o,f,h==="in"||h==="not-in");return rn.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mn(t,e,n){const r=e,s=Op("where",t);return Mp._create(s,r,n)}class T_ extends E_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new T_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:us.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)eR(o,c),o=Lv(o,c)}(e._query,n),new Ha(e.firestore,e.converter,Lv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class S_ extends JA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new S_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new le(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new le(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vd(i,o)}(e._query,this._field,this._direction);return new Ha(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Rc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Go(t,e="asc"){const n=e,r=Op("orderBy",t);return S_._create(r,n)}function cT(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new le(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GP(e)&&n.indexOf("/")!==-1)throw new le(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!_e.isDocumentKey(r))throw new le(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CE(t,new _e(r))}if(n instanceof Xt)return CE(t,n._key);throw new le(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vp(n)}.`)}function uT(t,e){if(!Array.isArray(t)||t.length===0)throw new le(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eR(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class V8{convertValue(e,n="none"){switch(Do(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[hm].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Kt(o.doubleValue));return new js(i)}convertGeoPoint(e){return new Rs(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_p(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pd(e));default:return null}}convertTimestamp(e){const n=Ro(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);dt(pA(r),9688,{name:e});const s=new gd(r.get(1),r.get(3)),i=new _e(r.popFirst(5));return s.isEqual(n)||_i(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class xu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends ZA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Op("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:sn("string",_a._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class pf extends _a{data(e={}){return super.data(e)}}class Ol{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new xu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pf(this._firestore,this._userDataWriter,r.key,r,new xu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new pf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new xu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new pf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new xu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:F8(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ol._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function F8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){t=Fr(t,Xt);const e=Fr(t.firestore,qo);return C8(Rp(e),t._key).then(n=>U8(e,t,n))}Ol._jsonSchemaVersion="firestore/querySnapshot/1.0",Ol._jsonSchema={type:sn("string",Ol._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class tR extends V8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function dr(t){t=Fr(t,Ha);const e=Fr(t.firestore,qo),n=Rp(e),r=new tR(e);return L8(t._query),N8(n,t._query).then(s=>new Ol(e,r,t,s))}function sa(t,e,n){t=Fr(t,Xt);const r=Fr(t.firestore,qo),s=C_(t.converter,e,n);return Gd(r,[y_(qd(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,qn.none())])}function Pi(t,e,n,...r){t=Fr(t,Xt);const s=Fr(t.firestore,qo),i=qd(s);let o;return o=typeof(e=Mt(e))=="string"||e instanceof Hd?KA(i,"updateDoc",t._key,e,n,r):GA(i,"updateDoc",t._key,e),Gd(s,[o.toMutation(t._key,qn.exists(!0))])}function N_(t){return Gd(Fr(t.firestore,qo),[new Cp(t._key,qn.none())])}function Ga(t,e){const n=Fr(t.firestore,qo),r=yt(t),s=C_(t.converter,e);return Gd(n,[y_(qd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,qn.exists(!1))]).then(()=>r)}function Gd(t,e){return function(r,s){const i=new oi;return r.asyncQueue.enqueueAndForget(async()=>m8(await S8(r),s,i)),i.promise}(Rp(t),e)}function U8(t,e,n){const r=n.docs.get(e._key),s=new tR(t);return new _a(t,s,e._key,r,new xu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=qd(e)}set(e,n,r){this._verifyNotCommitted();const s=ty(e,this._firestore),i=C_(s.converter,n,r),o=y_(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,qn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=ty(e,this._firestore);let o;return o=typeof(n=Mt(n))=="string"||n instanceof Hd?KA(this._dataReader,"WriteBatch.update",i._key,n,r,s):GA(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,qn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ty(e,this._firestore);return this._mutations=this._mutations.concat(new Cp(n._key,qn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ty(t,e){if((t=Mt(t)).firestore!==e)throw new le(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Qe(){return new v_("serverTimestamp")}function B8(...t){return new x_("arrayUnion",t)}function z8(...t){return new w_("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(t){return Rp(t=Fr(t,qo)),new $8(t,e=>Gd(t,e))}(function(e,n=!0){(function(s){kc=s})(Ic),rc(new Ia("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new qo(new V$(r.getProvider("auth-internal")),new $$(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new le(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gd(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),vo(hE,fE,e),vo(hE,fE,"esm2017")})();var H8="firebase",q8="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vo(H8,q8,"app");const G8={apiKey:"AIzaSyDvxFHXf3JsSv3FSd_aEGoFAdb0VmduwdM",authDomain:"qtonz-sports.firebaseapp.com",projectId:"qtonz-sports",storageBucket:"qtonz-sports.firebasestorage.app",messagingSenderId:"61854773542",appId:"1:61854773542:web:5114c630865f5a929091e7"},nR=jk(G8),ys=D$(nR),$e=k8(nR);_9(ys,cP).catch(t=>{console.error("Failed to set Firebase auth persistence:",t)});const rR=p.createContext(void 0),K8=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(!0),[i,o]=p.useState(!1),[l,c]=p.useState(!1),u=Cc();p.useEffect(()=>{const x=T9(ys,async b=>{n(b),b?await h(b.uid):(o(!1),c(!1)),s(!1)});return()=>x()},[]);const h=async x=>{try{const b=await ja(yt($e,"user_roles",x)),y=b.exists()?b.data():null,v=(y==null?void 0:y.roles)??[];o(v.includes("admin")),c(!v.includes("admin"))}catch(b){console.error("Error checking admin role:",b),o(!1),c(!1)}},f=async(x,b,y)=>{try{const C=(await g9(ys,x,b)).user;return await sa(yt($e,"profiles",C.uid),{name:(y==null?void 0:y.name)||"",email:x,phone:(y==null?void 0:y.phone)||"",department:(y==null?void 0:y.department)||"",gender:(y==null?void 0:y.gender)||"",created_at:Qe(),updated_at:Qe()},{merge:!0}),await sa(yt($e,"user_roles",C.uid),{roles:["player"],updated_at:Qe(),created_at:Qe()},{merge:!0}),await v9(C),await Qg(ys),{error:null}}catch(v){return{error:v}}},m=async(x,b)=>{try{if(!(await y9(ys,x,b)).user.emailVerified)throw await Qg(ys),new Error("Please verify your email address before logging in.");return u("/"),{error:null}}catch(y){return{error:y}}},g=async()=>{try{const x=new Xs,y=(await z9(ys,x)).user;return(await ja(yt($e,"profiles",y.uid))).exists()?{error:null,user:y,isNewUser:!1}:(await sa(yt($e,"profiles",y.uid),{name:y.displayName||"",email:y.email||"",created_at:Qe(),updated_at:Qe()},{merge:!0}),await sa(yt($e,"user_roles",y.uid),{roles:["player"],updated_at:Qe(),created_at:Qe()},{merge:!0}),{error:null,user:y,isNewUser:!0})}catch(x){return{error:x}}},E=async x=>{try{const b=ys.currentUser;if(!b)throw new Error("No authenticated user found");return await sa(yt($e,"profiles",b.uid),{name:b.displayName||"",email:b.email||"",phone:(x==null?void 0:x.phone)||"",department:(x==null?void 0:x.department)||"",gender:(x==null?void 0:x.gender)||"",password:(x==null?void 0:x.password)||"",created_at:Qe(),updated_at:Qe()},{merge:!0}),await sa(yt($e,"user_roles",b.uid),{roles:["player"],updated_at:Qe(),created_at:Qe()},{merge:!0}),{error:null}}catch(b){return{error:b}}},_=async()=>{await Qg(ys),o(!1),u("/")};return a.jsx(rR.Provider,{value:{user:e,loading:r,isAdmin:i,isPlayer:l,signUp:f,signIn:m,signInWithGoogle:g,signUpWithGoogle:E,signOut:_},children:t})},Cr=()=>{const t=p.useContext(rR);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Q8=$a("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),be=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?wc:"button";return a.jsx(o,{className:ce(Q8({variant:e,size:n,className:t})),ref:i,...s})});be.displayName="Button";const Y8=()=>{const{user:t,signOut:e,isAdmin:n,isPlayer:r}=Cr(),[s,i]=p.useState(!1);return a.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 w-full border-b border-border/40 glass-card shadow-lg",children:[a.jsxs("div",{className:"container flex h-16 md:h-18 items-center justify-between px-4 md:px-6",children:[a.jsxs(gt,{to:"/",className:"group flex items-center space-x-2 transition-transform hover:scale-105",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Cn,{className:"h-6 w-6 md:h-7 md:w-7 text-primary transition-all group-hover:rotate-12 group-hover:text-accent"}),a.jsx("div",{className:"absolute inset-0 blur-lg bg-primary/30 group-hover:bg-accent/40 transition-all"})]}),a.jsx("span",{className:"text-xl md:text-2xl font-bold gradient-text font-['Outfit']",children:"SportsBracket"})]}),a.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[a.jsxs(gt,{to:"/leaderboard",className:"text-sm font-semibold text-foreground hover:text-primary transition-all hover:scale-105 relative group",children:["Leaderboard",a.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-accent transition-all group-hover:w-full"})]}),r&&a.jsxs(gt,{to:"/dashboard",className:"text-sm font-semibold text-foreground hover:text-primary transition-all hover:scale-105 relative group",children:["Player Dashboard",a.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-accent transition-all group-hover:w-full"})]}),n&&a.jsxs(gt,{to:"/admin",className:"text-sm font-semibold text-foreground hover:text-primary transition-all hover:scale-105 relative group",children:["Admin",a.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-accent transition-all group-hover:w-full"})]})]}),a.jsx("div",{className:"hidden md:flex items-center space-x-3",children:t?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground bg-muted px-3 py-1.5 rounded-full",children:t.displayName}),a.jsxs(be,{variant:"ghost",onClick:e,className:"hover-lift",children:[a.jsx(Wf,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(gt,{to:"/login",children:a.jsx(be,{variant:"ghost",className:"hover-lift",children:"Login"})}),a.jsx(gt,{to:"/register",children:a.jsx(be,{className:"bg-gradient-to-r from-primary to-accent hover:shadow-lg hover:scale-105 transition-all",children:"Register"})})]})}),a.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-muted/50 transition-all active:scale-95",onClick:()=>i(!s),"aria-label":"Toggle menu",children:s?a.jsx(tp,{className:"h-6 w-6 text-primary"}):a.jsx(Y4,{className:"h-6 w-6 text-primary"})})]}),s&&a.jsx("div",{className:"md:hidden border-t border-border/40 glass animate-slide-down",children:a.jsxs("div",{className:"container py-4 space-y-3 px-4",children:[a.jsx(gt,{to:"/leaderboard",className:"block py-3 px-4 text-sm font-semibold text-foreground hover:text-primary hover:bg-primary/10 rounded-lg transition-all",onClick:()=>i(!1),children:"Leaderboard"}),r&&a.jsx(gt,{to:"/dashboard",className:"block py-3 px-4 text-sm font-semibold text-foreground hover:text-primary hover:bg-primary/10 rounded-lg transition-all",onClick:()=>i(!1),children:"Player Dashboard"}),n&&a.jsx(gt,{to:"/admin",className:"block py-3 px-4 text-sm font-semibold text-foreground hover:text-primary hover:bg-primary/10 rounded-lg transition-all",onClick:()=>i(!1),children:"Admin"}),a.jsx("div",{className:"flex flex-col space-y-3 pt-4 border-t border-border/40",children:t?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-4 py-2 bg-muted rounded-lg",children:a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:t.email})}),a.jsxs(be,{variant:"ghost",onClick:()=>{e(),i(!1)},className:"w-full justify-start hover:bg-destructive/10 hover:text-destructive",children:[a.jsx(Wf,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(gt,{to:"/login",onClick:()=>i(!1),children:a.jsx(be,{variant:"outline",className:"w-full hover-lift",children:"Login"})}),a.jsx(gt,{to:"/register",onClick:()=>i(!1),children:a.jsx(be,{className:"w-full bg-gradient-to-r from-primary to-accent hover:shadow-lg transition-all",children:"Register"})})]})})]})})]})},X8=()=>a.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-primary via-secondary to-accent py-16 md:py-24 lg:py-32",children:[a.jsxs("div",{className:"container relative z-10 px-4 md:px-6",children:[a.jsxs("div",{className:"mx-auto max-w-5xl text-center",children:[a.jsxs("div",{className:"mb-6 md:mb-8 inline-flex items-center rounded-full bg-white/10 px-4 md:px-6 py-2 md:py-2.5 backdrop-blur-sm border border-white/20 animate-slide-down hover:scale-105 transition-transform",children:[a.jsx(Cn,{className:"mr-2 h-4 w-4 md:h-5 md:w-5 text-accent animate-pulse"}),a.jsx("span",{className:"text-xs md:text-sm font-semibold text-white",children:"Sports Week 2025"}),a.jsx(fI,{className:"ml-2 h-4 w-4 md:h-5 md:w-5 text-warning"})]}),a.jsxs("h1",{className:"mb-6 md:mb-8 text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-black tracking-tight text-white leading-tight animate-slide-up",children:["Tournament Management",a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-accent via-warning to-accent bg-clip-text text-transparent animate-pulse",children:"Made Simple"})]}),a.jsx("p",{className:"mb-8 md:mb-10 text-base md:text-lg lg:text-xl text-white/95 max-w-3xl mx-auto leading-relaxed px-4 md:px-0 animate-fade-in",children:"Organize, track, and manage your sports tournaments with ease. From registration to final results, we've got you covered with cutting-edge technology."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center animate-scale-in px-4 md:px-0",children:[a.jsx(gt,{to:"/register",className:"w-full sm:w-auto",children:a.jsxs(be,{size:"lg",className:"w-full sm:w-auto bg-gradient-to-r from-accent to-warning hover:from-warning hover:to-accent text-white font-bold shadow-2xl hover:shadow-accent/50 hover:scale-110 transition-all group",children:["Register Now",a.jsx(O4,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})}),a.jsx(gt,{to:"/leaderboard",className:"w-full sm:w-auto",children:a.jsx(be,{size:"lg",variant:"outline",className:"w-full sm:w-auto glass-card border-white/30 text-white hover:bg-white/20 hover:scale-105 transition-all font-semibold",children:"View Leaderboard"})})]})]}),a.jsxs("div",{className:"mt-12 md:mt-20 grid gap-4 md:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 px-4 md:px-0",children:[a.jsxs("div",{className:"group rounded-2xl p-6 md:p-8 bg-white/15 backdrop-blur-md border border-white/30 hover:border-white/50 hover:bg-white/20 transition-all hover:scale-105 hover:-translate-y-2 animate-slide-up shadow-xl",children:[a.jsxs("div",{className:"relative inline-block mb-4 md:mb-6",children:[a.jsx(Cn,{className:"h-10 w-10 md:h-12 md:w-12 text-white drop-shadow-lg group-hover:rotate-12 transition-transform"}),a.jsx("div",{className:"absolute inset-0 blur-xl bg-accent/40 group-hover:bg-accent/60 transition-all"})]}),a.jsx("h3",{className:"mb-2 md:mb-3 text-lg md:text-xl font-bold text-white drop-shadow-md",children:"7 Sports"}),a.jsx("p",{className:"text-sm md:text-base text-white drop-shadow-sm leading-relaxed",children:"Cricket, Volleyball, Chess, Table Tennis, Carrom, Pool, Pickleball"})]}),a.jsxs("div",{className:"group rounded-2xl p-6 md:p-8 bg-white/15 backdrop-blur-md border border-white/30 hover:border-white/50 hover:bg-white/20 transition-all hover:scale-105 hover:-translate-y-2 animate-slide-up shadow-xl",style:{animationDelay:"0.1s"},children:[a.jsxs("div",{className:"relative inline-block mb-4 md:mb-6",children:[a.jsx(pi,{className:"h-10 w-10 md:h-12 md:w-12 text-white drop-shadow-lg group-hover:scale-110 transition-transform"}),a.jsx("div",{className:"absolute inset-0 blur-xl bg-warning/40 group-hover:bg-warning/60 transition-all"})]}),a.jsx("h3",{className:"mb-2 md:mb-3 text-lg md:text-xl font-bold text-white drop-shadow-md",children:"Team Management"}),a.jsx("p",{className:"text-sm md:text-base text-white drop-shadow-sm leading-relaxed",children:"Create teams, pairs, and track individual players seamlessly"})]}),a.jsxs("div",{className:"group rounded-2xl p-6 md:p-8 bg-white/15 backdrop-blur-md border border-white/30 hover:border-white/50 hover:bg-white/20 transition-all hover:scale-105 hover:-translate-y-2 sm:col-span-2 lg:col-span-1 animate-slide-up shadow-xl",style:{animationDelay:"0.2s"},children:[a.jsxs("div",{className:"relative inline-block mb-4 md:mb-6",children:[a.jsx(No,{className:"h-10 w-10 md:h-12 md:w-12 text-white drop-shadow-lg group-hover:rotate-6 transition-transform"}),a.jsx("div",{className:"absolute inset-0 blur-xl bg-info/40 group-hover:bg-info/60 transition-all"})]}),a.jsx("h3",{className:"mb-2 md:mb-3 text-lg md:text-xl font-bold text-white drop-shadow-md",children:"Live Brackets"}),a.jsx("p",{className:"text-sm md:text-base text-white drop-shadow-sm leading-relaxed",children:"Real-time tournament brackets with instant result updates"})]})]})]}),a.jsx("div",{className:"absolute top-0 left-0 -translate-x-1/2 -translate-y-1/2 w-64 h-64 md:w-96 md:h-96 bg-accent/30 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 right-0 translate-x-1/2 translate-y-1/2 w-64 h-64 md:w-96 md:h-96 bg-warning/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 md:w-[600px] md:h-[600px] bg-white/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute top-10 left-10 w-2 h-2 bg-white/40 rounded-full animate-ping"}),a.jsx("div",{className:"absolute top-20 right-20 w-3 h-3 bg-accent/60 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),a.jsx("div",{className:"absolute bottom-20 left-20 w-2 h-2 bg-warning/60 rounded-full animate-ping",style:{animationDelay:"1s"}})]}),Ne=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ne.displayName="Card";const Je=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",t),...e}));Je.displayName="CardHeader";const et=p.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",t),...e}));et.displayName="CardTitle";const Ur=p.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));Ur.displayName="CardDescription";const Ie=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ce("p-6 pt-0",t),...e}));Ie.displayName="CardContent";const Z8=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",t),...e}));Z8.displayName="CardFooter";const J8=$a("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Wn({className:t,variant:e,...n}){return a.jsx("div",{className:ce(J8({variant:e}),t),...n})}const e7=({name:t,type:e,playersPerTeam:n,icon:r})=>{const s=()=>{switch(e){case"SINGLE":return"1v1";case"PAIR":return"2v2";case"TEAM":return`${n}v${n}`}},i=()=>{switch(e){case"SINGLE":return"default";case"PAIR":return"secondary";case"TEAM":return"outline"}};return a.jsx(Ne,{className:"overflow-hidden transition-all hover:shadow-lg hover:-translate-y-1 cursor-pointer",children:a.jsxs(Ie,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:"rounded-lg bg-primary/10 p-3 text-primary",children:r}),a.jsx(Wn,{variant:i(),className:"text-xs",children:s()})]}),a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:t}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(pi,{className:"mr-1 h-4 w-4"}),a.jsxs("span",{children:[e==="SINGLE"?"Individual":e==="PAIR"?"Doubles":"Team"," Competition"]})]})]})})},t7=()=>{const t=[{name:"Cricket",type:"TEAM",playersPerTeam:11,icon:a.jsx(mw,{className:"h-6 w-6"})},{name:"Volleyball",type:"TEAM",playersPerTeam:6,icon:a.jsx(nL,{className:"h-6 w-6"})},{name:"Chess",type:"SINGLE",playersPerTeam:1,icon:a.jsx(W4,{className:"h-6 w-6"})},{name:"Table Tennis",type:"PAIR",playersPerTeam:2,icon:a.jsx(a1,{className:"h-6 w-6"})},{name:"Carrom",type:"PAIR",playersPerTeam:2,icon:a.jsx(Z4,{className:"h-6 w-6"})},{name:"8 Ball Pool",type:"PAIR",playersPerTeam:2,icon:a.jsx(a1,{className:"h-6 w-6"})},{name:"Pickleball",type:"PAIR",playersPerTeam:2,icon:a.jsx(fI,{className:"h-6 w-6"})}];return a.jsx("section",{className:"py-12 md:py-20 lg:py-24 bg-gradient-to-b from-muted/30 to-background",children:a.jsxs("div",{className:"container px-4 md:px-6",children:[a.jsxs("div",{className:"text-center mb-10 md:mb-16 animate-fade-in",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black tracking-tight mb-4 md:mb-6",children:a.jsx("span",{className:"gradient-text",children:"Tournament Games"})}),a.jsx("p",{className:"text-base md:text-lg lg:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed px-4 md:px-0",children:"Compete in 7 exciting sports across different formats - singles, doubles, and team events"})]}),a.jsx("div",{className:"grid gap-4 md:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map((e,n)=>a.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${n*.1}s`},children:a.jsx(e7,{...e})},e.name))})]})})},n7=()=>a.jsx("section",{className:"py-16 md:py-24",children:a.jsxs("div",{className:"container",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight text-foreground md:text-4xl mb-4",children:"Interactive Tournament Brackets"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Visualize and track tournament progress with our clean bracket system"})]}),a.jsxs(Ne,{className:"overflow-hidden",children:[a.jsx(Je,{className:"bg-gradient-to-r from-primary to-primary/80",children:a.jsx(et,{className:"text-white",children:"Sample Bracket - 8 Teams"})}),a.jsx(Ie,{className:"p-8",children:a.jsxs("div",{className:"flex justify-center items-center gap-8",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Quarter Finals"}),[1,2,3,4].map(t=>a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-card hover:border-primary transition-colors cursor-pointer",children:a.jsxs("div",{className:"text-sm font-medium",children:["Team ",t*2-1]})}),a.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-card hover:border-primary transition-colors cursor-pointer",children:a.jsxs("div",{className:"text-sm font-medium",children:["Team ",t*2]})})]},t))]}),a.jsxs("div",{className:"space-y-16",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Semi Finals"}),[1,2].map(t=>a.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-muted hover:border-primary transition-colors cursor-pointer min-w-[120px]",children:a.jsxs("div",{className:"text-sm font-medium text-muted-foreground",children:["Winner ",t]})},t))]}),a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Final"}),a.jsx("div",{className:"border-2 border-accent rounded-lg px-4 py-3 bg-accent/5 hover:border-accent transition-colors cursor-pointer min-w-[120px]",children:a.jsx("div",{className:"text-sm font-semibold text-accent",children:"Champion"})})]})]})})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Supports 8, 16, and 32 team brackets with automatic advancement"})})]})}),r7=()=>a.jsx("footer",{className:"border-t border-border bg-muted/30",children:a.jsxs("div",{className:"container py-12",children:[a.jsxs("div",{className:"grid gap-8 md:grid-cols-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Cn,{className:"h-6 w-6 text-primary"}),a.jsx("span",{className:"text-xl font-bold text-foreground",children:"SportsBracket"})]}),a.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Complete tournament management system for organizing and tracking sports events. Built for Sports Week 2025."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx(gt,{to:"/games",className:"text-muted-foreground hover:text-primary transition-colors",children:"Games"})}),a.jsx("li",{children:a.jsx(gt,{to:"/schedule",className:"text-muted-foreground hover:text-primary transition-colors",children:"Schedule"})}),a.jsx("li",{children:a.jsx(gt,{to:"/results",className:"text-muted-foreground hover:text-primary transition-colors",children:"Results"})}),a.jsx("li",{children:a.jsx(gt,{to:"/leaderboard",className:"text-muted-foreground hover:text-primary transition-colors",children:"Leaderboard"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Account"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx(gt,{to:"/login",className:"text-muted-foreground hover:text-primary transition-colors",children:"Login"})}),a.jsx("li",{children:a.jsx(gt,{to:"/register",className:"text-muted-foreground hover:text-primary transition-colors",children:"Register"})})]})]})]}),a.jsx("div",{className:"mt-8 pt-8 border-t border-border text-center text-sm text-muted-foreground",children:" 2025 SportsBracket. Sports Week Tournament Management System."})]})}),s7=()=>a.jsxs("div",{className:"min-h-screen",children:[a.jsx(Y8,{}),a.jsx(X8,{}),a.jsx(t7,{}),a.jsx(n7,{}),a.jsx(r7,{})]});var ny="focusScope.autoFocusOnMount",ry="focusScope.autoFocusOnUnmount",dT={bubbles:!1,cancelable:!0},i7="FocusScope",I_=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=p.useState(null),u=Lr(s),h=Lr(i),f=p.useRef(null),m=xt(e,_=>c(_)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let _=function(v){if(g.paused||!l)return;const C=v.target;l.contains(C)?f.current=C:$i(f.current,{select:!0})},x=function(v){if(g.paused||!l)return;const C=v.relatedTarget;C!==null&&(l.contains(C)||$i(f.current,{select:!0}))},b=function(v){if(document.activeElement===document.body)for(const A of v)A.removedNodes.length>0&&$i(l)};document.addEventListener("focusin",_),document.addEventListener("focusout",x);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",x),y.disconnect()}}},[r,l,g.paused]),p.useEffect(()=>{if(l){fT.add(g);const _=document.activeElement;if(!l.contains(_)){const b=new CustomEvent(ny,dT);l.addEventListener(ny,u),l.dispatchEvent(b),b.defaultPrevented||(o7(d7(sR(l)),{select:!0}),document.activeElement===_&&$i(l))}return()=>{l.removeEventListener(ny,u),setTimeout(()=>{const b=new CustomEvent(ry,dT);l.addEventListener(ry,h),l.dispatchEvent(b),b.defaultPrevented||$i(_??document.body,{select:!0}),l.removeEventListener(ry,h),fT.remove(g)},0)}}},[l,u,h,g]);const E=p.useCallback(_=>{if(!n&&!r||g.paused)return;const x=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,b=document.activeElement;if(x&&b){const y=_.currentTarget,[v,C]=a7(y);v&&C?!_.shiftKey&&b===C?(_.preventDefault(),n&&$i(v,{select:!0})):_.shiftKey&&b===v&&(_.preventDefault(),n&&$i(C,{select:!0})):b===y&&_.preventDefault()}},[n,r,g.paused]);return a.jsx(Le.div,{tabIndex:-1,...o,ref:m,onKeyDown:E})});I_.displayName=i7;function o7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if($i(r,{select:e}),document.activeElement!==n)return}function a7(t){const e=sR(t),n=hT(e,t),r=hT(e.reverse(),t);return[n,r]}function sR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hT(t,e){for(const n of t)if(!l7(n,{upTo:e}))return n}function l7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function c7(t){return t instanceof HTMLInputElement&&"select"in t}function $i(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&c7(t)&&e&&t.select()}}var fT=u7();function u7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=mT(t,e),t.unshift(e)},remove(e){var n;t=mT(t,e),(n=t[0])==null||n.resume()}}}function mT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function d7(t){return t.filter(e=>e.tagName!=="A")}var sy=0;function iR(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??pT()),document.body.insertAdjacentElement("beforeend",t[1]??pT()),sy++,()=>{sy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sy--}},[])}function pT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gf="right-scroll-bar-position",yf="width-before-scroll-bar",h7="with-scroll-bars-hidden",f7="--removed-body-scroll-bar-size";function iy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function m7(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var p7=typeof window<"u"?p.useLayoutEffect:p.useEffect,gT=new WeakMap;function g7(t,e){var n=m7(null,function(r){return t.forEach(function(s){return iy(s,r)})});return p7(function(){var r=gT.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||iy(l,null)}),i.forEach(function(l){s.has(l)||iy(l,o)})}gT.set(n,t)},[t]),n}function y7(t){return t}function v7(t,e){e===void 0&&(e=y7);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function x7(t){t===void 0&&(t={});var e=v7(null);return e.options=Es({async:!0,ssr:!1},t),e}var oR=function(t){var e=t.sideCar,n=Od(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Es({},n))};oR.isSideCarExport=!0;function w7(t,e){return t.useMedium(e),oR}var aR=x7(),oy=function(){},Lp=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:oy,onWheelCapture:oy,onTouchMoveCapture:oy}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,g=t.noRelative,E=t.noIsolation,_=t.inert,x=t.allowPinchZoom,b=t.as,y=b===void 0?"div":b,v=t.gapMode,C=Od(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,P=g7([n,e]),N=Es(Es({},C),s);return p.createElement(p.Fragment,null,h&&p.createElement(A,{sideCar:aR,removeScrollBar:u,shards:f,noRelative:g,noIsolation:E,inert:_,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:v}),o?p.cloneElement(p.Children.only(l),Es(Es({},N),{ref:P})):p.createElement(y,Es({},N,{className:c,ref:P}),l))});Lp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lp.classNames={fullWidth:yf,zeroRight:gf};var _7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function b7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_7();return e&&t.setAttribute("nonce",e),t}function E7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function T7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var S7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=b7())&&(E7(e,n),T7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},C7=function(){var t=S7();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lR=function(){var t=C7(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},N7={left:0,top:0,right:0,gap:0},ay=function(t){return parseInt(t||"",10)||0},I7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[ay(n),ay(r),ay(s)]},k7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return N7;var e=I7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},P7=lR(),Ml="data-scroll-locked",A7=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(h7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ml,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(yf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(gf," .").concat(gf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(yf," .").concat(yf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ml,`] {
    `).concat(f7,": ").concat(l,`px;
  }
`)},yT=function(){var t=parseInt(document.body.getAttribute(Ml)||"0",10);return isFinite(t)?t:0},R7=function(){p.useEffect(function(){return document.body.setAttribute(Ml,(yT()+1).toString()),function(){var t=yT()-1;t<=0?document.body.removeAttribute(Ml):document.body.setAttribute(Ml,t.toString())}},[])},j7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;R7();var i=p.useMemo(function(){return k7(s)},[s]);return p.createElement(P7,{styles:A7(i,!e,s,n?"":"!important")})},Qv=!1;if(typeof window<"u")try{var Uh=Object.defineProperty({},"passive",{get:function(){return Qv=!0,!0}});window.addEventListener("test",Uh,Uh),window.removeEventListener("test",Uh,Uh)}catch{Qv=!1}var Ja=Qv?{passive:!1}:!1,D7=function(t){return t.tagName==="TEXTAREA"},cR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!D7(t)&&n[e]==="visible")},O7=function(t){return cR(t,"overflowY")},M7=function(t){return cR(t,"overflowX")},vT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=uR(t,r);if(s){var i=dR(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},L7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},V7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},uR=function(t,e){return t==="v"?O7(e):M7(e)},dR=function(t,e){return t==="v"?L7(e):V7(e)},F7=function(t,e){return t==="h"&&e==="rtl"?-1:1},U7=function(t,e,n,r,s){var i=F7(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,c=e.contains(l),u=!1,h=o>0,f=0,m=0;do{if(!l)break;var g=dR(t,l),E=g[0],_=g[1],x=g[2],b=_-x-i*E;(E||b)&&uR(t,l)&&(f+=b,m+=E);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(u=!0),u},$h=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},xT=function(t){return[t.deltaX,t.deltaY]},wT=function(t){return t&&"current"in t?t.current:t},$7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},B7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},z7=0,el=[];function W7(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(z7++)[0],i=p.useState(lR)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var _=fU([t.lockRef.current],(t.shards||[]).map(wT),!0).filter(Boolean);return _.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(_,x){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var b=$h(_),y=n.current,v="deltaX"in _?_.deltaX:y[0]-b[0],C="deltaY"in _?_.deltaY:y[1]-b[1],A,P=_.target,N=Math.abs(v)>Math.abs(C)?"h":"v";if("touches"in _&&N==="h"&&P.type==="range")return!1;var S=vT(N,P);if(!S)return!0;if(S?A=N:(A=N==="v"?"h":"v",S=vT(N,P)),!S)return!1;if(!r.current&&"changedTouches"in _&&(v||C)&&(r.current=A),!A)return!0;var I=r.current||A;return U7(I,x,_,I==="h"?v:C,!0)},[]),c=p.useCallback(function(_){var x=_;if(!(!el.length||el[el.length-1]!==i)){var b="deltaY"in x?xT(x):$h(x),y=e.current.filter(function(A){return A.name===x.type&&(A.target===x.target||x.target===A.shadowParent)&&$7(A.delta,b)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var v=(o.current.shards||[]).map(wT).filter(Boolean).filter(function(A){return A.contains(x.target)}),C=v.length>0?l(x,v[0]):!o.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),u=p.useCallback(function(_,x,b,y){var v={name:_,delta:x,target:b,should:y,shadowParent:H7(b)};e.current.push(v),setTimeout(function(){e.current=e.current.filter(function(C){return C!==v})},1)},[]),h=p.useCallback(function(_){n.current=$h(_),r.current=void 0},[]),f=p.useCallback(function(_){u(_.type,xT(_),_.target,l(_,t.lockRef.current))},[]),m=p.useCallback(function(_){u(_.type,$h(_),_.target,l(_,t.lockRef.current))},[]);p.useEffect(function(){return el.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ja),document.addEventListener("touchmove",c,Ja),document.addEventListener("touchstart",h,Ja),function(){el=el.filter(function(_){return _!==i}),document.removeEventListener("wheel",c,Ja),document.removeEventListener("touchmove",c,Ja),document.removeEventListener("touchstart",h,Ja)}},[]);var g=t.removeScrollBar,E=t.inert;return p.createElement(p.Fragment,null,E?p.createElement(i,{styles:B7(s)}):null,g?p.createElement(j7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function H7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const q7=w7(aR,W7);var k_=p.forwardRef(function(t,e){return p.createElement(Lp,Es({},t,{ref:e,sideCar:q7}))});k_.classNames=Lp.classNames;var G7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},tl=new WeakMap,Bh=new WeakMap,zh={},ly=0,hR=function(t){return t&&(t.host||hR(t.parentNode))},K7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=hR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Q7=function(t,e,n,r){var s=K7(e,Array.isArray(t)?t:[t]);zh[n]||(zh[n]=new WeakMap);var i=zh[n],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var g=m.getAttribute(r),E=g!==null&&g!=="false",_=(tl.get(m)||0)+1,x=(i.get(m)||0)+1;tl.set(m,_),i.set(m,x),o.push(m),_===1&&E&&Bh.set(m,!0),x===1&&m.setAttribute(n,"true"),E||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return h(e),l.clear(),ly++,function(){o.forEach(function(f){var m=tl.get(f)-1,g=i.get(f)-1;tl.set(f,m),i.set(f,g),m||(Bh.has(f)||f.removeAttribute(r),Bh.delete(f)),g||f.removeAttribute(n)}),ly--,ly||(tl=new WeakMap,tl=new WeakMap,Bh=new WeakMap,zh={})}},fR=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=G7(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Q7(r,s,n,"aria-hidden")):function(){return null}},Vp="Dialog",[mR,dQ]=Si(Vp),[Y7,ds]=mR(Vp),pR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[u,h]=Co({prop:r,defaultProp:s??!1,onChange:i,caller:Vp});return a.jsx(Y7,{scope:e,triggerRef:l,contentRef:c,contentId:si(),titleId:si(),descriptionId:si(),open:u,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};pR.displayName=Vp;var gR="DialogTrigger",yR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ds(gR,n),i=xt(e,s.triggerRef);return a.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":R_(s.open),...r,ref:i,onClick:Ee(t.onClick,s.onOpenToggle)})});yR.displayName=gR;var P_="DialogPortal",[X7,vR]=mR(P_,{forceMount:void 0}),xR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ds(P_,e);return a.jsx(X7,{scope:e,forceMount:n,children:p.Children.map(r,o=>a.jsx(Bo,{present:n||i.open,children:a.jsx(Xm,{asChild:!0,container:s,children:o})}))})};xR.displayName=P_;var wm="DialogOverlay",wR=p.forwardRef((t,e)=>{const n=vR(wm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ds(wm,t.__scopeDialog);return i.modal?a.jsx(Bo,{present:r||i.open,children:a.jsx(J7,{...s,ref:e})}):null});wR.displayName=wm;var Z7=Jl("DialogOverlay.RemoveScroll"),J7=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ds(wm,n);return a.jsx(k_,{as:Z7,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Le.div,{"data-state":R_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Da="DialogContent",_R=p.forwardRef((t,e)=>{const n=vR(Da,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ds(Da,t.__scopeDialog);return a.jsx(Bo,{present:r||i.open,children:i.modal?a.jsx(eW,{...s,ref:e}):a.jsx(tW,{...s,ref:e})})});_R.displayName=Da;var eW=p.forwardRef((t,e)=>{const n=ds(Da,t.__scopeDialog),r=p.useRef(null),s=xt(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return fR(i)},[]),a.jsx(bR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,i=>i.preventDefault())})}),tW=p.forwardRef((t,e)=>{const n=ds(Da,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return a.jsx(bR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),bR=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=ds(Da,n),c=p.useRef(null),u=xt(e,c);return iR(),a.jsxs(a.Fragment,{children:[a.jsx(I_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Pd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":R_(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(nW,{titleId:l.titleId}),a.jsx(sW,{contentRef:c,descriptionId:l.descriptionId})]})]})}),A_="DialogTitle",ER=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ds(A_,n);return a.jsx(Le.h2,{id:s.titleId,...r,ref:e})});ER.displayName=A_;var TR="DialogDescription",SR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ds(TR,n);return a.jsx(Le.p,{id:s.descriptionId,...r,ref:e})});SR.displayName=TR;var CR="DialogClose",NR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ds(CR,n);return a.jsx(Le.button,{type:"button",...r,ref:e,onClick:Ee(t.onClick,()=>s.onOpenChange(!1))})});NR.displayName=CR;function R_(t){return t?"open":"closed"}var IR="DialogTitleWarning",[hQ,kR]=BM(IR,{contentName:Da,titleName:A_,docsSlug:"dialog"}),nW=({titleId:t})=>{const e=kR(IR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},rW="DialogDescriptionWarning",sW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kR(rW).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},PR=pR,iW=yR,AR=xR,Fp=wR,Up=_R,$p=ER,Bp=SR,RR=NR;const _o=PR,j_=iW,oW=AR,jR=p.forwardRef(({className:t,...e},n)=>a.jsx(Fp,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));jR.displayName=Fp.displayName;const ai=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(oW,{children:[a.jsx(jR,{}),a.jsxs(Up,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(RR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(tp,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ai.displayName=Up.displayName;const li=({className:t,...e})=>a.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});li.displayName="DialogHeader";const ci=p.forwardRef(({className:t,...e},n)=>a.jsx($p,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",t),...e}));ci.displayName=$p.displayName;const Yv=p.forwardRef(({className:t,...e},n)=>a.jsx(Bp,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));Yv.displayName=Bp.displayName;const vt=p.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));vt.displayName="Input";var aW=Object.defineProperty,lW=Object.defineProperties,cW=Object.getOwnPropertyDescriptors,_m=Object.getOwnPropertySymbols,DR=Object.prototype.hasOwnProperty,OR=Object.prototype.propertyIsEnumerable,_T=(t,e,n)=>e in t?aW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uW=(t,e)=>{for(var n in e||(e={}))DR.call(e,n)&&_T(t,n,e[n]);if(_m)for(var n of _m(e))OR.call(e,n)&&_T(t,n,e[n]);return t},dW=(t,e)=>lW(t,cW(e)),hW=(t,e)=>{var n={};for(var r in t)DR.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&_m)for(var r of _m(t))e.indexOf(r)<0&&OR.call(t,r)&&(n[r]=t[r]);return n};function fW(t){let e=setTimeout(t,0),n=setTimeout(t,10),r=setTimeout(t,50);return[e,n,r]}function mW(t){let e=p.useRef();return p.useEffect(()=>{e.current=t}),e.current}var pW=18,MR=40,gW=`${MR}px`,yW=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function vW({containerRef:t,inputRef:e,pushPasswordManagerStrategy:n,isFocused:r}){let[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),h=p.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&s&&o,[s,o,n]),f=p.useCallback(()=>{let m=t.current,g=e.current;if(!m||!g||c||n==="none")return;let E=m,_=E.getBoundingClientRect().left+E.offsetWidth,x=E.getBoundingClientRect().top+E.offsetHeight/2,b=_-pW,y=x;document.querySelectorAll(yW).length===0&&document.elementFromPoint(b,y)===m||(i(!0),u(!0))},[t,e,c,n]);return p.useEffect(()=>{let m=t.current;if(!m||n==="none")return;function g(){let _=window.innerWidth-m.getBoundingClientRect().right;l(_>=MR)}g();let E=setInterval(g,1e3);return()=>{clearInterval(E)}},[t,n]),p.useEffect(()=>{let m=r||document.activeElement===e.current;if(n==="none"||!m)return;let g=setTimeout(f,0),E=setTimeout(f,2e3),_=setTimeout(f,5e3),x=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(E),clearTimeout(_),clearTimeout(x)}},[e,r,n,f]),{hasPWMBadge:s,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:gW}}var LR=p.createContext({}),VR=p.forwardRef((t,e)=>{var n=t,{value:r,onChange:s,maxLength:i,textAlign:o="left",pattern:l,placeholder:c,inputMode:u="numeric",onComplete:h,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:m,containerClassName:g,noScriptCSSFallback:E=xW,render:_,children:x}=n,b=hW(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),y,v,C,A,P;let[N,S]=p.useState(typeof b.defaultValue=="string"?b.defaultValue:""),I=r??N,k=mW(I),R=p.useCallback(me=>{s==null||s(me),S(me)},[s]),O=p.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),j=p.useRef(null),B=p.useRef(null),ee=p.useRef({value:I,onChange:R,isIOS:typeof window<"u"&&((v=(y=window==null?void 0:window.CSS)==null?void 0:y.supports)==null?void 0:v.call(y,"-webkit-touch-callout","none"))}),Z=p.useRef({prev:[(C=j.current)==null?void 0:C.selectionStart,(A=j.current)==null?void 0:A.selectionEnd,(P=j.current)==null?void 0:P.selectionDirection]});p.useImperativeHandle(e,()=>j.current,[]),p.useEffect(()=>{let me=j.current,xe=B.current;if(!me||!xe)return;ee.current.value!==me.value&&ee.current.onChange(me.value),Z.current.prev=[me.selectionStart,me.selectionEnd,me.selectionDirection];function nt(){if(document.activeElement!==me){ae(null),we(null);return}let ze=me.selectionStart,L=me.selectionEnd,V=me.selectionDirection,M=me.maxLength,W=me.value,G=Z.current.prev,X=-1,Y=-1,pe;if(W.length!==0&&ze!==null&&L!==null){let Yn=ze===L,Nr=ze===W.length&&W.length<M;if(Yn&&!Nr){let dn=ze;if(dn===0)X=0,Y=1,pe="forward";else if(dn===M)X=dn-1,Y=dn,pe="backward";else if(M>1&&W.length>1){let gn=0;if(G[0]!==null&&G[1]!==null){pe=dn<G[1]?"backward":"forward";let fs=G[0]===G[1]&&G[0]<M;pe==="backward"&&!fs&&(gn=-1)}X=gn+dn,Y=gn+dn+1}}X!==-1&&Y!==-1&&X!==Y&&j.current.setSelectionRange(X,Y,pe)}let He=X!==-1?X:ze,Jt=Y!==-1?Y:L,Qn=pe??V;ae(He),we(Jt),Z.current.prev=[He,Jt,Qn]}if(document.addEventListener("selectionchange",nt,{capture:!0}),nt(),document.activeElement===me&&ne(!0),!document.getElementById("input-otp-style")){let ze=document.createElement("style");if(ze.id="input-otp-style",document.head.appendChild(ze),ze.sheet){let L="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";su(ze.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),su(ze.sheet,`[data-input-otp]:autofill { ${L} }`),su(ze.sheet,`[data-input-otp]:-webkit-autofill { ${L} }`),su(ze.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),su(ze.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let ht=()=>{xe&&xe.style.setProperty("--root-height",`${me.clientHeight}px`)};ht();let At=new ResizeObserver(ht);return At.observe(me),()=>{document.removeEventListener("selectionchange",nt,{capture:!0}),At.disconnect()}},[]);let[se,U]=p.useState(!1),[$,ne]=p.useState(!1),[he,ae]=p.useState(null),[ue,we]=p.useState(null);p.useEffect(()=>{fW(()=>{var me,xe,nt,ht;(me=j.current)==null||me.dispatchEvent(new Event("input"));let At=(xe=j.current)==null?void 0:xe.selectionStart,ze=(nt=j.current)==null?void 0:nt.selectionEnd,L=(ht=j.current)==null?void 0:ht.selectionDirection;At!==null&&ze!==null&&(ae(At),we(ze),Z.current.prev=[At,ze,L])})},[I,$]),p.useEffect(()=>{k!==void 0&&I!==k&&k.length<i&&I.length===i&&(h==null||h(I))},[i,h,k,I]);let Ce=vW({containerRef:B,inputRef:j,pushPasswordManagerStrategy:f,isFocused:$}),ut=p.useCallback(me=>{let xe=me.currentTarget.value.slice(0,i);if(xe.length>0&&O&&!O.test(xe)){me.preventDefault();return}typeof k=="string"&&xe.length<k.length&&document.dispatchEvent(new Event("selectionchange")),R(xe)},[i,R,k,O]),re=p.useCallback(()=>{var me;if(j.current){let xe=Math.min(j.current.value.length,i-1),nt=j.current.value.length;(me=j.current)==null||me.setSelectionRange(xe,nt),ae(xe),we(nt)}ne(!0)},[i]),Be=p.useCallback(me=>{var xe,nt;let ht=j.current;if(!m&&(!ee.current.isIOS||!me.clipboardData||!ht))return;let At=me.clipboardData.getData("text/plain"),ze=m?m(At):At;me.preventDefault();let L=(xe=j.current)==null?void 0:xe.selectionStart,V=(nt=j.current)==null?void 0:nt.selectionEnd,M=(L!==V?I.slice(0,L)+ze+I.slice(V):I.slice(0,L)+ze+I.slice(L)).slice(0,i);if(M.length>0&&O&&!O.test(M))return;ht.value=M,R(M);let W=Math.min(M.length,i-1),G=M.length;ht.setSelectionRange(W,G),ae(W),we(G)},[i,R,O,I]),ot=p.useMemo(()=>({position:"relative",cursor:b.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[b.disabled]),Pe=p.useMemo(()=>({position:"absolute",inset:0,width:Ce.willPushPWMBadge?`calc(100% + ${Ce.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:Ce.willPushPWMBadge?`inset(0 ${Ce.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[Ce.PWM_BADGE_SPACE_WIDTH,Ce.willPushPWMBadge,o]),Ae=p.useMemo(()=>p.createElement("input",dW(uW({autoComplete:b.autoComplete||"one-time-code"},b),{"data-input-otp":!0,"data-input-otp-placeholder-shown":I.length===0||void 0,"data-input-otp-mss":he,"data-input-otp-mse":ue,inputMode:u,pattern:O==null?void 0:O.source,"aria-placeholder":c,style:Pe,maxLength:i,value:I,ref:j,onPaste:me=>{var xe;Be(me),(xe=b.onPaste)==null||xe.call(b,me)},onChange:ut,onMouseOver:me=>{var xe;U(!0),(xe=b.onMouseOver)==null||xe.call(b,me)},onMouseLeave:me=>{var xe;U(!1),(xe=b.onMouseLeave)==null||xe.call(b,me)},onFocus:me=>{var xe;re(),(xe=b.onFocus)==null||xe.call(b,me)},onBlur:me=>{var xe;ne(!1),(xe=b.onBlur)==null||xe.call(b,me)}})),[ut,re,Be,u,Pe,i,ue,he,b,O==null?void 0:O.source,I]),Re=p.useMemo(()=>({slots:Array.from({length:i}).map((me,xe)=>{var nt;let ht=$&&he!==null&&ue!==null&&(he===ue&&xe===he||xe>=he&&xe<ue),At=I[xe]!==void 0?I[xe]:null,ze=I[0]!==void 0?null:(nt=c==null?void 0:c[xe])!=null?nt:null;return{char:At,placeholderChar:ze,isActive:ht,hasFakeCaret:ht&&At===null}}),isFocused:$,isHovering:!b.disabled&&se}),[$,se,i,ue,he,b.disabled,I]),bt=p.useMemo(()=>_?_(Re):p.createElement(LR.Provider,{value:Re},x),[x,Re,_]);return p.createElement(p.Fragment,null,E!==null&&p.createElement("noscript",null,p.createElement("style",null,E)),p.createElement("div",{ref:B,"data-input-otp-container":!0,style:ot,className:g},bt,p.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Ae)))});VR.displayName="Input";function su(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var xW=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const FR=p.forwardRef(({className:t,containerClassName:e,...n},r)=>a.jsx(VR,{ref:r,containerClassName:ce("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:ce("disabled:cursor-not-allowed",t),...n}));FR.displayName="InputOTP";const UR=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ce("flex items-center",t),...e}));UR.displayName="InputOTPGroup";const ia=p.forwardRef(({index:t,className:e,...n},r)=>{const s=p.useContext(LR),{char:i,hasFakeCaret:o,isActive:l}=s.slots[t];return a.jsxs("div",{ref:r,className:ce("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",e),...n,children:[i,o&&a.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});ia.displayName="InputOTPSlot";const wW=p.forwardRef(({...t},e)=>a.jsx("div",{ref:e,role:"separator",...t,children:a.jsx(z4,{})}));wW.displayName="InputOTPSeparator";var _W="Label",$R=p.forwardRef((t,e)=>a.jsx(Le.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));$R.displayName=_W;var BR=$R;const bW=$a("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Xe=p.forwardRef(({className:t,...e},n)=>a.jsx(BR,{ref:n,className:ce(bW(),t),...e}));Xe.displayName=BR.displayName;const EW=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[h,f]=p.useState(""),[m,g]=p.useState(""),[E,_]=p.useState(!1),[x,b]=p.useState(!1),{signIn:y,signInWithGoogle:v,user:C}=Cr(),{toast:A}=Sr(),P=Cc();p.useEffect(()=>{C&&P("/")},[C,P]);const N=async R=>{R.preventDefault(),i(!0);try{const{error:O}=await y(t,n);O&&A({title:"Login failed",description:O.message,variant:"destructive"})}catch(O){A({title:"Error",description:O.message,variant:"destructive"})}finally{i(!1)}},S=async()=>{i(!0);try{const{error:R,isNewUser:O}=await v();R?A({title:"Google sign-in failed",description:R.message,variant:"destructive"}):O&&P("/register",{state:{isNewUser:!0}})}catch(R){A({title:"Error",description:R.message,variant:"destructive"})}finally{i(!1)}},I=async()=>{if(!h){A({title:"Email required",description:"Please enter your email address",variant:"destructive"});return}_(!0);try{await p9(ys,h),A({title:"Password reset email sent",description:"Check your email for password reset instructions"}),l(!1)}catch(R){A({title:"Error",description:R.message,variant:"destructive"})}finally{_(!1)}},k=async()=>{if(m.length!==6){A({title:"Invalid OTP",description:"Please enter a valid 6-digit OTP",variant:"destructive"});return}b(!0);try{A({title:"OTP verified",description:"Password reset functionality implemented"}),u(!1),g("")}catch(R){A({title:"Error",description:R.message,variant:"destructive"})}finally{b(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsxs(gt,{to:"/",className:"inline-flex items-center space-x-2 mb-4",children:[a.jsx(Cn,{className:"h-8 w-8 text-primary"}),a.jsx("span",{className:"text-2xl font-bold text-foreground",children:"SportsBracket"})]})}),a.jsxs(Ne,{children:[a.jsxs(Je,{children:[a.jsx(et,{children:"Welcome Back"}),a.jsx(Ur,{children:"Login to manage your tournament participation"})]}),a.jsx(Ie,{children:a.jsxs("form",{className:"space-y-4",onSubmit:N,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"email",children:"Email"}),a.jsx(vt,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:R=>e(R.target.value),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"password",children:"Password"}),a.jsx(vt,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:R=>r(R.target.value),required:!0})]}),a.jsx(be,{className:"w-full",type:"submit",disabled:s,children:s?"Logging in...":"Login"}),a.jsx(be,{className:"w-full",variant:"outline",onClick:S,disabled:s,children:"Continue with Google"}),a.jsxs("div",{className:"text-center text-sm space-y-2",children:[a.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-primary hover:underline",children:"Forgot password?"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),a.jsx(gt,{to:"/register",className:"text-primary hover:underline",children:"Register here"})]})]})]})})]}),a.jsx(_o,{open:o,onOpenChange:l,children:a.jsxs(ai,{children:[a.jsxs(li,{children:[a.jsx(ci,{children:"Reset Password"}),a.jsx(Yv,{children:"Enter your email address and we'll send you a password reset link."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"forgot-email",children:"Email"}),a.jsx(vt,{id:"forgot-email",type:"email",placeholder:"Enter your email",value:h,onChange:R=>f(R.target.value)})]}),a.jsx(be,{className:"w-full",onClick:I,disabled:E,children:E?"Sending...":"Send Reset Email"})]})]})}),a.jsx(_o,{open:c,onOpenChange:u,children:a.jsxs(ai,{children:[a.jsxs(li,{children:[a.jsx(ci,{children:"Enter OTP"}),a.jsx(Yv,{children:"Enter the 6-digit code sent to your email."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(FR,{value:m,onChange:g,maxLength:6,children:a.jsxs(UR,{children:[a.jsx(ia,{index:0}),a.jsx(ia,{index:1}),a.jsx(ia,{index:2}),a.jsx(ia,{index:3}),a.jsx(ia,{index:4}),a.jsx(ia,{index:5})]})})}),a.jsx(be,{className:"w-full",onClick:k,disabled:x,children:x?"Verifying...":"Verify OTP"})]})]})})]})})};function bT(t,[e,n]){return Math.min(n,Math.max(e,t))}var TW=p.createContext(void 0);function D_(t){const e=p.useContext(TW);return t||e||"ltr"}function zR(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var SW=[" ","Enter","ArrowUp","ArrowDown"],CW=[" ","Enter"],Oa="Select",[zp,Wp,NW]=aw(Oa),[Oc,fQ]=Si(Oa,[NW,ip]),Hp=ip(),[IW,Ko]=Oc(Oa),[kW,PW]=Oc(Oa),WR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:g,form:E}=t,_=Hp(e),[x,b]=p.useState(null),[y,v]=p.useState(null),[C,A]=p.useState(!1),P=D_(u),[N,S]=Co({prop:r,defaultProp:s??!1,onChange:i,caller:Oa}),[I,k]=Co({prop:o,defaultProp:l,onChange:c,caller:Oa}),R=p.useRef(null),O=x?E||!!x.closest("form"):!0,[j,B]=p.useState(new Set),ee=Array.from(j).map(Z=>Z.props.value).join(";");return a.jsx(qI,{..._,children:a.jsxs(IW,{required:g,scope:e,trigger:x,onTriggerChange:b,valueNode:y,onValueNodeChange:v,valueNodeHasChildren:C,onValueNodeHasChildrenChange:A,contentId:si(),value:I,onValueChange:k,open:N,onOpenChange:S,dir:P,triggerPointerDownPosRef:R,disabled:m,children:[a.jsx(zp.Provider,{scope:e,children:a.jsx(kW,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(Z=>{B(se=>new Set(se).add(Z))},[]),onNativeOptionRemove:p.useCallback(Z=>{B(se=>{const U=new Set(se);return U.delete(Z),U})},[]),children:n})}),O?a.jsxs(mj,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:f,value:I,onChange:Z=>k(Z.target.value),disabled:m,form:E,children:[I===void 0?a.jsx("option",{value:""}):null,Array.from(j)]},ee):null]})})};WR.displayName=Oa;var HR="SelectTrigger",qR=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Hp(n),o=Ko(HR,n),l=o.disabled||r,c=xt(e,o.onTriggerChange),u=Wp(n),h=p.useRef("touch"),[f,m,g]=gj(_=>{const x=u().filter(v=>!v.disabled),b=x.find(v=>v.value===o.value),y=yj(x,_,b);y!==void 0&&o.onValueChange(y.value)}),E=_=>{l||(o.onOpenChange(!0),g()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return a.jsx(GI,{asChild:!0,...i,children:a.jsx(Le.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":pj(o.value)?"":void 0,...s,ref:c,onClick:Ee(s.onClick,_=>{_.currentTarget.focus(),h.current!=="mouse"&&E(_)}),onPointerDown:Ee(s.onPointerDown,_=>{h.current=_.pointerType;const x=_.target;x.hasPointerCapture(_.pointerId)&&x.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(E(_),_.preventDefault())}),onKeyDown:Ee(s.onKeyDown,_=>{const x=f.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&m(_.key),!(x&&_.key===" ")&&SW.includes(_.key)&&(E(),_.preventDefault())})})})});qR.displayName=HR;var GR="SelectValue",KR=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,c=Ko(GR,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=xt(e,c.onValueNodeChange);return Sn(()=>{u(h)},[u,h]),a.jsx(Le.span,{...l,ref:f,style:{pointerEvents:"none"},children:pj(c.value)?a.jsx(a.Fragment,{children:o}):i})});KR.displayName=GR;var AW="SelectIcon",QR=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(Le.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});QR.displayName=AW;var RW="SelectPortal",YR=t=>a.jsx(Xm,{asChild:!0,...t});YR.displayName=RW;var Ma="SelectContent",XR=p.forwardRef((t,e)=>{const n=Ko(Ma,t.__scopeSelect),[r,s]=p.useState();if(Sn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ua.createPortal(a.jsx(ZR,{scope:t.__scopeSelect,children:a.jsx(zp.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(JR,{...t,ref:e})});XR.displayName=Ma;var qr=10,[ZR,Qo]=Oc(Ma),jW="SelectContentImpl",DW=Jl("SelectContent.RemoveScroll"),JR=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:E,hideWhenDetached:_,avoidCollisions:x,...b}=t,y=Ko(Ma,n),[v,C]=p.useState(null),[A,P]=p.useState(null),N=xt(e,re=>C(re)),[S,I]=p.useState(null),[k,R]=p.useState(null),O=Wp(n),[j,B]=p.useState(!1),ee=p.useRef(!1);p.useEffect(()=>{if(v)return fR(v)},[v]),iR();const Z=p.useCallback(re=>{const[Be,...ot]=O().map(Re=>Re.ref.current),[Pe]=ot.slice(-1),Ae=document.activeElement;for(const Re of re)if(Re===Ae||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===Be&&A&&(A.scrollTop=0),Re===Pe&&A&&(A.scrollTop=A.scrollHeight),Re==null||Re.focus(),document.activeElement!==Ae))return},[O,A]),se=p.useCallback(()=>Z([S,v]),[Z,S,v]);p.useEffect(()=>{j&&se()},[j,se]);const{onOpenChange:U,triggerPointerDownPosRef:$}=y;p.useEffect(()=>{if(v){let re={x:0,y:0};const Be=Pe=>{var Ae,Re;re={x:Math.abs(Math.round(Pe.pageX)-(((Ae=$.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((Re=$.current)==null?void 0:Re.y)??0))}},ot=Pe=>{re.x<=10&&re.y<=10?Pe.preventDefault():v.contains(Pe.target)||U(!1),document.removeEventListener("pointermove",Be),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Be),document.addEventListener("pointerup",ot,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Be),document.removeEventListener("pointerup",ot,{capture:!0})}}},[v,U,$]),p.useEffect(()=>{const re=()=>U(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[U]);const[ne,he]=gj(re=>{const Be=O().filter(Ae=>!Ae.disabled),ot=Be.find(Ae=>Ae.ref.current===document.activeElement),Pe=yj(Be,re,ot);Pe&&setTimeout(()=>Pe.ref.current.focus())}),ae=p.useCallback((re,Be,ot)=>{const Pe=!ee.current&&!ot;(y.value!==void 0&&y.value===Be||Pe)&&(I(re),Pe&&(ee.current=!0))},[y.value]),ue=p.useCallback(()=>v==null?void 0:v.focus(),[v]),we=p.useCallback((re,Be,ot)=>{const Pe=!ee.current&&!ot;(y.value!==void 0&&y.value===Be||Pe)&&R(re)},[y.value]),Ce=r==="popper"?Xv:ej,ut=Ce===Xv?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:E,hideWhenDetached:_,avoidCollisions:x}:{};return a.jsx(ZR,{scope:n,content:v,viewport:A,onViewportChange:P,itemRefCallback:ae,selectedItem:S,onItemLeave:ue,itemTextRefCallback:we,focusSelectedItem:se,selectedItemText:k,position:r,isPositioned:j,searchRef:ne,children:a.jsx(k_,{as:DW,allowPinchZoom:!0,children:a.jsx(I_,{asChild:!0,trapped:y.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Ee(s,re=>{var Be;(Be=y.trigger)==null||Be.focus({preventScroll:!0}),re.preventDefault()}),children:a.jsx(Pd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(Ce,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:re=>re.preventDefault(),...b,...ut,onPlaced:()=>B(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ee(b.onKeyDown,re=>{const Be=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Be&&re.key.length===1&&he(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Pe=O().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Ae=re.target,Re=Pe.indexOf(Ae);Pe=Pe.slice(Re+1)}setTimeout(()=>Z(Pe)),re.preventDefault()}})})})})})})});JR.displayName=jW;var OW="SelectItemAlignedPosition",ej=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ko(Ma,n),o=Qo(Ma,n),[l,c]=p.useState(null),[u,h]=p.useState(null),f=xt(e,N=>h(N)),m=Wp(n),g=p.useRef(!1),E=p.useRef(!0),{viewport:_,selectedItem:x,selectedItemText:b,focusSelectedItem:y}=o,v=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&_&&x&&b){const N=i.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(i.dir!=="rtl"){const Ae=k.left-S.left,Re=I.left-Ae,bt=N.left-Re,me=N.width+bt,xe=Math.max(me,S.width),nt=window.innerWidth-qr,ht=bT(Re,[qr,Math.max(qr,nt-xe)]);l.style.minWidth=me+"px",l.style.left=ht+"px"}else{const Ae=S.right-k.right,Re=window.innerWidth-I.right-Ae,bt=window.innerWidth-N.right-Re,me=N.width+bt,xe=Math.max(me,S.width),nt=window.innerWidth-qr,ht=bT(Re,[qr,Math.max(qr,nt-xe)]);l.style.minWidth=me+"px",l.style.right=ht+"px"}const R=m(),O=window.innerHeight-qr*2,j=_.scrollHeight,B=window.getComputedStyle(u),ee=parseInt(B.borderTopWidth,10),Z=parseInt(B.paddingTop,10),se=parseInt(B.borderBottomWidth,10),U=parseInt(B.paddingBottom,10),$=ee+Z+j+U+se,ne=Math.min(x.offsetHeight*5,$),he=window.getComputedStyle(_),ae=parseInt(he.paddingTop,10),ue=parseInt(he.paddingBottom,10),we=N.top+N.height/2-qr,Ce=O-we,ut=x.offsetHeight/2,re=x.offsetTop+ut,Be=ee+Z+re,ot=$-Be;if(Be<=we){const Ae=R.length>0&&x===R[R.length-1].ref.current;l.style.bottom="0px";const Re=u.clientHeight-_.offsetTop-_.offsetHeight,bt=Math.max(Ce,ut+(Ae?ue:0)+Re+se),me=Be+bt;l.style.height=me+"px"}else{const Ae=R.length>0&&x===R[0].ref.current;l.style.top="0px";const bt=Math.max(we,ee+_.offsetTop+(Ae?ae:0)+ut)+ot;l.style.height=bt+"px",_.scrollTop=Be-we+_.offsetTop}l.style.margin=`${qr}px 0`,l.style.minHeight=ne+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,l,u,_,x,b,i.dir,r]);Sn(()=>v(),[v]);const[C,A]=p.useState();Sn(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const P=p.useCallback(N=>{N&&E.current===!0&&(v(),y==null||y(),E.current=!1)},[v,y]);return a.jsx(LW,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:P,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:a.jsx(Le.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ej.displayName=OW;var MW="SelectPopperPosition",Xv=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=qr,...i}=t,o=Hp(n);return a.jsx(KI,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Xv.displayName=MW;var[LW,O_]=Oc(Ma,{}),Zv="SelectViewport",tj=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Qo(Zv,n),o=O_(Zv,n),l=xt(e,i.onViewportChange),c=p.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(zp.Slot,{scope:n,children:a.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ee(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const g=Math.abs(c.current-h.scrollTop);if(g>0){const E=window.innerHeight-qr*2,_=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(_,x);if(b<E){const y=b+g,v=Math.min(E,y),C=y-v;f.style.height=v+"px",f.style.bottom==="0px"&&(h.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});tj.displayName=Zv;var nj="SelectGroup",[VW,FW]=Oc(nj),UW=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=si();return a.jsx(VW,{scope:n,id:s,children:a.jsx(Le.div,{role:"group","aria-labelledby":s,...r,ref:e})})});UW.displayName=nj;var rj="SelectLabel",sj=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=FW(rj,n);return a.jsx(Le.div,{id:s.id,...r,ref:e})});sj.displayName=rj;var bm="SelectItem",[$W,ij]=Oc(bm),oj=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=Ko(bm,n),c=Qo(bm,n),u=l.value===r,[h,f]=p.useState(i??""),[m,g]=p.useState(!1),E=xt(e,y=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,y,r,s)}),_=si(),x=p.useRef("touch"),b=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx($W,{scope:n,value:r,disabled:s,textId:_,isSelected:u,onItemTextChange:p.useCallback(y=>{f(v=>v||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(zp.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:a.jsx(Le.div,{role:"option","aria-labelledby":_,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:E,onFocus:Ee(o.onFocus,()=>g(!0)),onBlur:Ee(o.onBlur,()=>g(!1)),onClick:Ee(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:Ee(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:Ee(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:Ee(o.onPointerMove,y=>{var v;x.current=y.pointerType,s?(v=c.onItemLeave)==null||v.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(o.onPointerLeave,y=>{var v;y.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:Ee(o.onKeyDown,y=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&y.key===" "||(CW.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});oj.displayName=bm;var wu="SelectItemText",aj=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ko(wu,n),l=Qo(wu,n),c=ij(wu,n),u=PW(wu,n),[h,f]=p.useState(null),m=xt(e,b=>f(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),g=h==null?void 0:h.textContent,E=p.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:_,onNativeOptionRemove:x}=u;return Sn(()=>(_(E),()=>x(E)),[_,x,E]),a.jsxs(a.Fragment,{children:[a.jsx(Le.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ua.createPortal(i.children,o.valueNode):null]})});aj.displayName=wu;var lj="SelectItemIndicator",cj=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ij(lj,n).isSelected?a.jsx(Le.span,{"aria-hidden":!0,...r,ref:e}):null});cj.displayName=lj;var Jv="SelectScrollUpButton",uj=p.forwardRef((t,e)=>{const n=Qo(Jv,t.__scopeSelect),r=O_(Jv,t.__scopeSelect),[s,i]=p.useState(!1),o=xt(e,r.onScrollButtonChange);return Sn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(hj,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});uj.displayName=Jv;var ex="SelectScrollDownButton",dj=p.forwardRef((t,e)=>{const n=Qo(ex,t.__scopeSelect),r=O_(ex,t.__scopeSelect),[s,i]=p.useState(!1),o=xt(e,r.onScrollButtonChange);return Sn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(hj,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});dj.displayName=ex;var hj=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Qo("SelectScrollButton",n),o=p.useRef(null),l=Wp(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Sn(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(Le.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ee(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ee(s.onPointerLeave,()=>{c()})})}),BW="SelectSeparator",fj=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(Le.div,{"aria-hidden":!0,...r,ref:e})});fj.displayName=BW;var tx="SelectArrow",zW=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Hp(n),i=Ko(tx,n),o=Qo(tx,n);return i.open&&o.position==="popper"?a.jsx(QI,{...s,...r,ref:e}):null});zW.displayName=tx;var WW="SelectBubbleInput",mj=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=p.useRef(null),i=xt(r,s),o=zR(e);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[o,e]),a.jsx(Le.select,{...n,style:{...FN,...n.style},ref:i,defaultValue:e})});mj.displayName=WW;function pj(t){return t===""||t===void 0}function gj(t){const e=Lr(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function yj(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=HW(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function HW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qW=WR,vj=qR,GW=KR,KW=QR,QW=YR,xj=XR,YW=tj,wj=sj,_j=oj,XW=aj,ZW=cj,bj=uj,Ej=dj,Tj=fj;const Vt=qW,Ft=GW,Dt=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(vj,{ref:r,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(KW,{asChild:!0,children:a.jsx(cI,{className:"h-4 w-4 opacity-50"})})]}));Dt.displayName=vj.displayName;const Sj=p.forwardRef(({className:t,...e},n)=>a.jsx(bj,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(U4,{className:"h-4 w-4"})}));Sj.displayName=bj.displayName;const Cj=p.forwardRef(({className:t,...e},n)=>a.jsx(Ej,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(cI,{className:"h-4 w-4"})}));Cj.displayName=Ej.displayName;const Ot=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(QW,{children:a.jsxs(xj,{ref:s,className:ce("relative z-[100] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(Sj,{}),a.jsx(YW,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(Cj,{})]})}));Ot.displayName=xj.displayName;const JW=p.forwardRef(({className:t,...e},n)=>a.jsx(wj,{ref:n,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));JW.displayName=wj.displayName;const qe=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(_j,{ref:r,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ZW,{children:a.jsx(lI,{className:"h-4 w-4"})})}),a.jsx(XW,{children:e})]}));qe.displayName=_j.displayName;const eH=p.forwardRef(({className:t,...e},n)=>a.jsx(Tj,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",t),...e}));eH.displayName=Tj.displayName;const tH=()=>{var y;const t=Fs(),[e,n]=p.useState({name:"",email:"",phone:"",department:"",gender:"",password:""}),[r,s]=p.useState(!1),[i,o]=p.useState((y=t.state)!=null&&y.isNewUser?2:1),[l,c]=p.useState(null),{signUp:u,signInWithGoogle:h,signUpWithGoogle:f,user:m}=Cr(),{toast:g}=Sr(),E=Cc();p.useEffect(()=>{var v;(v=t.state)!=null&&v.isNewUser&&m&&(c(m),g({title:"Profile Update Required",description:"Please update your profile details to complete registration."}),window.history.replaceState({},document.title))},[t.state,m]),p.useEffect(()=>{m&&i===1&&E("/")},[m,E,i]);const _=async v=>{v.preventDefault(),s(!0);try{const{error:C}=await u(e.email,e.password,{name:e.name,department:e.department,gender:e.gender,phone:e.phone});C?g({title:"Registration failed",description:C.message,variant:"destructive"}):(g({title:"Registration successful!",description:"A verification email has been sent to your email address. Please verify it before logging in."}),E("/login"))}catch(C){g({title:"Error",description:C.message,variant:"destructive"})}finally{s(!1)}},x=async()=>{s(!0);try{const{error:v,user:C,isNewUser:A}=await h();v?g({title:"Google sign-in failed",description:v.message,variant:"destructive"}):C&&A?(c(C),g({title:"Profile Update Required",description:"Please update your profile details to complete registration."}),o(2)):C&&!A&&E("/")}catch(v){g({title:"Error",description:v.message,variant:"destructive"})}finally{s(!1)}},b=async v=>{v.preventDefault(),s(!0);try{const{error:C}=await f({department:e.department,gender:e.gender});C?g({title:"Registration failed",description:C.message,variant:"destructive"}):(g({title:"Registration successful!",description:"Welcome to SportsBracket!"}),E("/"))}catch(C){g({title:"Error",description:C.message,variant:"destructive"})}finally{s(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4 py-12",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsxs(gt,{to:"/",className:"inline-flex items-center space-x-2 mb-4",children:[a.jsx(Cn,{className:"h-8 w-8 text-primary"}),a.jsx("span",{className:"text-2xl font-bold text-foreground",children:"SportsBracket"})]})}),a.jsxs(Ne,{children:[a.jsxs(Je,{children:[a.jsx(et,{children:i===1?"Create Account":"Complete Profile"}),a.jsx(Ur,{children:i===1?"Register manually or with Google to participate":"Please provide additional details to complete your registration"})]}),a.jsx(Ie,{children:i===1?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"name",children:"Full Name"}),a.jsx(vt,{id:"name",placeholder:"John Doe",value:e.name,onChange:v=>n({...e,name:v.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"email",children:"Email"}),a.jsx(vt,{id:"email",type:"email",placeholder:"john@example.com",value:e.email,onChange:v=>n({...e,email:v.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"department",children:"Department / Class"}),a.jsx(vt,{id:"department",placeholder:"Ex: CSE-A",value:e.department,onChange:v=>n({...e,department:v.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"gender",children:"Gender"}),a.jsxs(Vt,{value:e.gender,onValueChange:v=>n({...e,gender:v}),children:[a.jsx(Dt,{id:"gender",children:a.jsx(Ft,{placeholder:"Select gender"})}),a.jsxs(Ot,{children:[a.jsx(qe,{value:"male",children:"Male"}),a.jsx(qe,{value:"female",children:"Female"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"password",children:"Password"}),a.jsx(vt,{id:"password",type:"password",placeholder:"******",value:e.password,onChange:v=>n({...e,password:v.target.value}),required:!0})]}),a.jsx(be,{className:"w-full",type:"submit",disabled:r,children:r?"Registering...":"Register"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),a.jsxs(be,{className:"w-full",onClick:x,disabled:r,variant:"outline",type:"button",children:[a.jsx("svg",{className:"mr-2 h-4 w-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:a.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Google"]}),a.jsxs("div",{className:"text-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),a.jsx(gt,{to:"/login",className:"text-primary hover:underline",children:"Login here"})]})]}):a.jsxs("form",{className:"space-y-4",onSubmit:b,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{children:"Full Name"}),a.jsx(vt,{value:(l==null?void 0:l.displayName)||"",disabled:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{children:"Email"}),a.jsx(vt,{value:(l==null?void 0:l.email)||"",disabled:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"department-google",children:"Department / Class"}),a.jsx(vt,{id:"department-google",placeholder:"Enter your department or class",value:e.department,onChange:v=>n({...e,department:v.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"gender-google",children:"Gender"}),a.jsxs(Vt,{value:e.gender,onValueChange:v=>n({...e,gender:v}),children:[a.jsx(Dt,{id:"gender-google",children:a.jsx(Ft,{placeholder:"Select gender"})}),a.jsxs(Ot,{children:[a.jsx(qe,{value:"male",children:"Male"}),a.jsx(qe,{value:"female",children:"Female"}),a.jsx(qe,{value:"other",children:"Other"})]})]})]}),a.jsx(be,{className:"w-full",type:"submit",disabled:r,children:r?"Completing registration...":"Complete Registration"}),a.jsx("div",{className:"text-center",children:a.jsx(be,{variant:"ghost",onClick:()=>o(1),className:"text-sm",type:"button",children:"Back"})})]})})]})]})})},nH=cr($e,"tournaments"),hs=async()=>{const t=ur(nH,Go("created_at","desc"));return(await dr(t)).docs.map(n=>({id:n.id,...n.data()}))},rH=cr($e,"leaderboard"),Nj=async t=>{const e=ur(rH,mn("tournament_id","==",t),Go("points","desc"));return(await dr(e)).docs.map(r=>({id:r.id,...r.data()}))},sH=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(""),[s,i]=p.useState([]),[o,l]=p.useState(!1);p.useEffect(()=>{hs().then(h=>{e(h),h.length>0&&r(h[0].id)})},[]),p.useEffect(()=>{if(!n){i([]);return}l(!0),Nj(n).then(i).finally(()=>l(!1))},[n]);const c=s.slice(0,3),u=s.slice(3);return a.jsx("div",{className:"min-h-screen bg-muted/30 py-12",children:a.jsxs("div",{className:"container space-y-8",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase text-muted-foreground tracking-wide",children:"Standings"}),a.jsx("h1",{className:"text-3xl font-bold",children:"Leaderboard"}),a.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl",children:"Track the top performers across all sports and divisions. Standings update automatically after each verified match result."})]}),a.jsxs("div",{className:"w-full md:w-64",children:[a.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Tournament"}),a.jsxs(Vt,{value:n,onValueChange:r,children:[a.jsx(Dt,{children:a.jsx(Ft,{placeholder:"Select tournament"})}),a.jsx(Ot,{children:t.map(h=>a.jsx(qe,{value:h.id,children:h.name},h.id))})]})]})]}),a.jsxs(Ne,{children:[a.jsxs(Je,{className:"flex items-center justify-between",children:[a.jsx(et,{children:"Top Performers"}),o&&a.jsx(lr,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),a.jsx(Ie,{children:c.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No leaderboard data yet."}):a.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:c.map((h,f)=>a.jsxs("div",{className:"rounded-xl border bg-gradient-to-br from-background to-muted/50 p-5 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground uppercase tracking-wide",children:h.entity_type.toLowerCase()}),a.jsx(Q4,{className:`h-5 w-5 ${f===0?"text-yellow-500":"text-muted-foreground"}`})]}),a.jsx("h3",{className:"text-2xl font-bold mt-3",children:h.name}),a.jsxs("div",{className:"mt-auto pt-6 flex items-center justify-between text-sm font-medium",children:[a.jsxs("span",{children:[h.points," pts"]}),a.jsxs("span",{children:[h.wins,"-",h.losses]})]})]},h.id))})})]}),u.length>0&&a.jsxs(Ne,{children:[a.jsx(Je,{children:a.jsx(et,{children:"Full Standings"})}),a.jsx(Ie,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-muted-foreground border-b",children:[a.jsx("th",{className:"py-2 pr-4",children:"Rank"}),a.jsx("th",{className:"py-2 pr-4",children:"Name"}),a.jsx("th",{className:"py-2 pr-4",children:"Type"}),a.jsx("th",{className:"py-2 pr-4",children:"Points"}),a.jsx("th",{className:"py-2 pr-4",children:"Wins"}),a.jsx("th",{className:"py-2 pr-4",children:"Losses"})]})}),a.jsx("tbody",{children:u.map((h,f)=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"py-2 pr-4",children:h.rank??f+4}),a.jsx("td",{className:"py-2 pr-4 font-medium",children:h.name}),a.jsx("td",{className:"py-2 pr-4 capitalize",children:h.entity_type.toLowerCase()}),a.jsx("td",{className:"py-2 pr-4",children:h.points}),a.jsx("td",{className:"py-2 pr-4",children:h.wins}),a.jsx("td",{className:"py-2 pr-4",children:h.losses})]},h.id))})]})})})]})]})})},iH=cr($e,"games"),$s=async t=>{const e=[Go("created_at","desc")];t&&e.unshift(mn("tournament_id","==",t));const n=ur(iH,...e);return(await dr(n)).docs.map(s=>({id:s.id,...s.data()}))},nx=cr($e,"matches"),Ij=cr($e,"match_results"),Fu=async t=>{const e=[mn("tournament_id","==",t.tournamentId)];t.gameId&&e.push(mn("game_id","==",t.gameId));const n=ur(nx,...e);return(await dr(n)).docs.map(i=>({id:i.id,...i.data()})).sort((i,o)=>i.round_index!==o.round_index?i.round_index-o.round_index:i.match_order-o.match_order)},kj=async t=>{if(t.length===0)return[];const e=[];for(let s=0;s<t.length;s+=10)e.push(t.slice(s,s+10));const n=[];for(const s of e){const i=ur(nx,mn("participant_a_id","in",s)),o=await dr(i),l=ur(nx,mn("participant_b_id","in",s)),c=await dr(l),u=new Map;o.docs.forEach(h=>u.set(h.id,{id:h.id,...h.data()})),c.docs.forEach(h=>u.set(h.id,{id:h.id,...h.data()})),u.forEach(h=>n.push(h))}return Array.from(new Map(n.map(s=>[s.id,s])).values())},vf=async(t,e)=>{await Pi(yt($e,"matches",t),{...e,updated_at:Qe()})},oH=async(t,e)=>{const n=await Ga(Ij,{...e,match_id:t,created_at:Qe(),updated_at:Qe()});return await vf(t,{status:"COMPLETED"}),n.id},aH=async t=>{if(t.length===0)return[];const e=[];for(let r=0;r<t.length;r+=10)e.push(t.slice(r,r+10));const n=[];for(const r of e){const s=ur(Ij,mn("match_id","in",r));(await dr(s)).docs.forEach(o=>n.push({id:o.id,...o.data()}))}return n},M_=cr($e,"participants"),Pj=async t=>{const e=[mn("tournament_id","==",t.tournamentId),Go("created_at","asc")];t.gameId&&e.splice(1,0,mn("game_id","==",t.gameId));const n=ur(M_,...e);return(await dr(n)).docs.map(s=>({id:s.id,...s.data()}))},Aj=async t=>{const e=ur(M_,mn("user_id","==",t));return(await dr(e)).docs.map(r=>({id:r.id,...r.data()}))},Rj=async t=>(await Ga(M_,{...t,created_at:Qe(),updated_at:Qe()})).id,lH=t=>t?new Date(t).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"}):"TBD",cH=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState(!1);p.useEffect(()=>{hs().then(x=>{i(x),x.length>0&&e(x[0].id)})},[]),p.useEffect(()=>{if(!t){l([]),u([]);return}(async()=>{g(!0);const[b,y,v]=await Promise.all([$s(t),Fu({tournamentId:t,gameId:n||void 0}),Pj({tournamentId:t,gameId:n||void 0})]);l(b),u(y),f(v),g(!1)})()},[t,n]);const E=p.useMemo(()=>h.reduce((x,b)=>(x[b.id]=b,x),{}),[h]),_=c.filter(x=>x.status!=="COMPLETED");return a.jsx("div",{className:"min-h-screen bg-muted/30 py-12",children:a.jsxs("div",{className:"container space-y-8",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm uppercase text-muted-foreground tracking-wide",children:"Live Schedule"}),a.jsx("h1",{className:"text-3xl font-bold",children:"Matches & Fixtures"}),a.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl",children:"Stay on top of every match happening this week. Filter by tournament or sport to find exact fixtures, venues, and kickoff times."})]}),a.jsxs("div",{className:"w-full md:w-[28rem] flex flex-col gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Tournament"}),a.jsxs(Vt,{value:t,onValueChange:e,children:[a.jsx(Dt,{children:a.jsx(Ft,{placeholder:"Select tournament"})}),a.jsx(Ot,{children:s.map(x=>a.jsx(qe,{value:x.id,children:x.name},x.id))})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Game"}),a.jsxs(Vt,{value:n,onValueChange:r,disabled:!t,children:[a.jsx(Dt,{children:a.jsx(Ft,{placeholder:"All games"})}),a.jsxs(Ot,{children:[a.jsx(qe,{value:"",children:"All games"}),o.map(x=>a.jsx(qe,{value:x.id,children:x.name},x.id))]})]})]})]})]}),a.jsxs(Ne,{children:[a.jsxs(Je,{className:"flex items-center justify-between",children:[a.jsx(et,{children:"Upcoming & Live Matches"}),m&&a.jsx(lr,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),a.jsx(Ie,{children:t?_.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No scheduled matches yet. Check back later once brackets are published."}):a.jsx("div",{className:"grid gap-4",children:_.map(x=>{var C;const b=x.participant_a_id?E[x.participant_a_id]:void 0,y=x.participant_b_id?E[x.participant_b_id]:void 0,v=((C=o.find(A=>A.id===x.game_id))==null?void 0:C.name)??"Tournament Game";return a.jsxs("div",{className:"rounded-xl border bg-background p-5",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:v}),a.jsx("h3",{className:"text-lg font-semibold",children:x.round_name})]}),a.jsx(Wn,{variant:x.status==="SCHEDULED"?"secondary":"default",children:x.status==="SCHEDULED"?"Scheduled":x.status.toLowerCase()})]}),a.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Participant A"}),a.jsx("p",{className:"text-lg font-medium",children:(b==null?void 0:b.user_id)||(b==null?void 0:b.team_id)||"TBD"})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Participant B"}),a.jsx("p",{className:"text-lg font-medium",children:(y==null?void 0:y.user_id)||(y==null?void 0:y.team_id)||"TBD"})]})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(ep,{className:"h-4 w-4"}),lH(x.match_time)]}),a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(dI,{className:"h-4 w-4"}),x.venue||"Venue TBD"]})]})]},x.id)})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a tournament to view fixtures."})})]})]})})},cy=768;function uH(){const[t,e]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${cy-1}px)`),r=()=>{e(window.innerWidth<cy)};return n.addEventListener("change",r),e(window.innerWidth<cy),()=>n.removeEventListener("change",r)},[]),!!t}var dH="Separator",ET="horizontal",hH=["horizontal","vertical"],jj=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=ET,...s}=t,i=fH(r)?r:ET,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(Le.div,{"data-orientation":i,...l,...s,ref:e})});jj.displayName=dH;function fH(t){return hH.includes(t)}var Dj=jj;const Oj=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>a.jsx(Dj,{ref:s,decorative:n,orientation:e,className:ce("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Oj.displayName=Dj.displayName;const mH=PR,pH=AR,Mj=p.forwardRef(({className:t,...e},n)=>a.jsx(Fp,{className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Mj.displayName=Fp.displayName;const gH=$a("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Lj=p.forwardRef(({side:t="right",className:e,children:n,...r},s)=>a.jsxs(pH,{children:[a.jsx(Mj,{}),a.jsxs(Up,{ref:s,className:ce(gH({side:t}),e),...r,children:[n,a.jsxs(RR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(tp,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Lj.displayName=Up.displayName;const Vj=p.forwardRef(({className:t,...e},n)=>a.jsx($p,{ref:n,className:ce("text-lg font-semibold text-foreground",t),...e}));Vj.displayName=$p.displayName;const yH=p.forwardRef(({className:t,...e},n)=>a.jsx(Bp,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));yH.displayName=Bp.displayName;function TT({className:t,...e}){return a.jsx("div",{className:ce("animate-pulse rounded-md bg-muted",t),...e})}const vH="sidebar:state",xH=60*60*24*7,wH="16rem",_H="18rem",bH="3rem",EH="b",Fj=p.createContext(null);function qp(){const t=p.useContext(Fj);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const L_=p.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:s,children:i,...o},l)=>{const c=uH(),[u,h]=p.useState(!1),[f,m]=p.useState(t),g=e??f,E=p.useCallback(y=>{const v=typeof y=="function"?y(g):y;n?n(v):m(v),document.cookie=`${vH}=${v}; path=/; max-age=${xH}`},[n,g]),_=p.useCallback(()=>c?h(y=>!y):E(y=>!y),[c,E,h]);p.useEffect(()=>{const y=v=>{v.key===EH&&(v.metaKey||v.ctrlKey)&&(v.preventDefault(),_())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[_]);const x=g?"expanded":"collapsed",b=p.useMemo(()=>({state:x,open:g,setOpen:E,isMobile:c,openMobile:u,setOpenMobile:h,toggleSidebar:_}),[x,g,E,c,u,h,_]);return a.jsx(Fj.Provider,{value:b,children:a.jsx(sk,{delayDuration:0,children:a.jsx("div",{style:{"--sidebar-width":wH,"--sidebar-width-icon":bH,...s},className:ce("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...o,children:i})})})});L_.displayName="SidebarProvider";const V_=p.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:s,...i},o)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:h}=qp();return n==="none"?a.jsx("div",{className:ce("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:s}):l?a.jsx(mH,{open:u,onOpenChange:h,...i,children:a.jsxs(Lj,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":_H},side:t,children:[a.jsx(Vj,{className:"sr-only",children:"Navigation"}),a.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):a.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":e,"data-side":t,children:[a.jsx("div",{className:ce("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:ce("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});V_.displayName="Sidebar";const F_=p.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:s}=qp();return a.jsxs(be,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ce("h-7 w-7",t),onClick:i=>{e==null||e(i),s()},...n,children:[a.jsx(X4,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});F_.displayName="SidebarTrigger";const TH=p.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=qp();return a.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:ce("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});TH.displayName="SidebarRail";const SH=p.forwardRef(({className:t,...e},n)=>a.jsx("main",{ref:n,className:ce("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));SH.displayName="SidebarInset";const CH=p.forwardRef(({className:t,...e},n)=>a.jsx(vt,{ref:n,"data-sidebar":"input",className:ce("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));CH.displayName="SidebarInput";const NH=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,"data-sidebar":"header",className:ce("flex flex-col gap-2 p-2",t),...e}));NH.displayName="SidebarHeader";const IH=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,"data-sidebar":"footer",className:ce("flex flex-col gap-2 p-2",t),...e}));IH.displayName="SidebarFooter";const kH=p.forwardRef(({className:t,...e},n)=>a.jsx(Oj,{ref:n,"data-sidebar":"separator",className:ce("mx-2 w-auto bg-sidebar-border",t),...e}));kH.displayName="SidebarSeparator";const U_=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,"data-sidebar":"content",className:ce("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));U_.displayName="SidebarContent";const $_=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,"data-sidebar":"group",className:ce("relative flex w-full min-w-0 flex-col p-2",t),...e}));$_.displayName="SidebarGroup";const B_=p.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?wc:"div";return a.jsx(s,{ref:r,"data-sidebar":"group-label",className:ce("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});B_.displayName="SidebarGroupLabel";const PH=p.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?wc:"button";return a.jsx(s,{ref:r,"data-sidebar":"group-action",className:ce("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});PH.displayName="SidebarGroupAction";const z_=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,"data-sidebar":"group-content",className:ce("w-full text-sm",t),...e}));z_.displayName="SidebarGroupContent";const W_=p.forwardRef(({className:t,...e},n)=>a.jsx("ul",{ref:n,"data-sidebar":"menu",className:ce("flex w-full min-w-0 flex-col gap-1",t),...e}));W_.displayName="SidebarMenu";const H_=p.forwardRef(({className:t,...e},n)=>a.jsx("li",{ref:n,"data-sidebar":"menu-item",className:ce("group/menu-item relative",t),...e}));H_.displayName="SidebarMenuItem";const AH=$a("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),q_=p.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:s,className:i,...o},l)=>{const c=t?wc:"button",{isMobile:u,state:h}=qp(),f=a.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:ce(AH({variant:n,size:r}),i),...o});return s?(typeof s=="string"&&(s={children:s}),a.jsxs(n6,{children:[a.jsx(r6,{asChild:!0,children:f}),a.jsx(ik,{side:"right",align:"center",hidden:h!=="collapsed"||u,...s})]})):f});q_.displayName="SidebarMenuButton";const RH=p.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},s)=>{const i=e?wc:"button";return a.jsx(i,{ref:s,"data-sidebar":"menu-action",className:ce("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});RH.displayName="SidebarMenuAction";const jH=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:ce("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));jH.displayName="SidebarMenuBadge";const DH=p.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const s=p.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:ce("flex h-8 items-center gap-2 rounded-md px-2",t),...n,children:[e&&a.jsx(TT,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),a.jsx(TT,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});DH.displayName="SidebarMenuSkeleton";const OH=p.forwardRef(({className:t,...e},n)=>a.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:ce("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));OH.displayName="SidebarMenuSub";const MH=p.forwardRef(({...t},e)=>a.jsx("li",{ref:e,...t}));MH.displayName="SidebarMenuSubItem";const LH=p.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...s},i)=>{const o=t?wc:"a";return a.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:ce("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});LH.displayName="SidebarMenuSubButton";const Uj=p.forwardRef(({className:t,activeClassName:e,pendingClassName:n,to:r,...s},i)=>a.jsx(C5,{ref:i,to:r,className:({isActive:o,isPending:l})=>ce(t,o&&e,l&&n),...s}));Uj.displayName="NavLink";const VH=[{title:"Overview",url:"/admin",icon:q4},{title:"Registrations",url:"/admin/registrations",icon:B4},{title:"Participants",url:"/admin/participants",icon:pi},{title:"Tournaments",url:"/admin/tournaments",icon:Cn},{title:"Games",url:"/admin/games",icon:hw},{title:"Teams",url:"/admin/teams",icon:J4},{title:"Schedule",url:"/admin/schedule",icon:M4},{title:"Matches",url:"/admin/matches",icon:No},{title:"Leaderboard",url:"/admin/leaderboard",icon:L4},{title:"Users",url:"/admin/users",icon:eL}];function FH(){const t=Fs();return a.jsx(V_,{collapsible:"icon",children:a.jsx(U_,{children:a.jsxs($_,{children:[a.jsx(B_,{children:"Admin Panel"}),a.jsx(z_,{children:a.jsx(W_,{children:VH.map(e=>a.jsx(H_,{children:a.jsx(q_,{asChild:!0,isActive:t.pathname===e.url,tooltip:e.title,children:a.jsxs(Uj,{to:e.url,className:"hover:bg-muted/50",activeClassName:"bg-muted text-primary font-medium",children:[a.jsx(e.icon,{className:"h-4 w-4"}),a.jsx("span",{children:e.title})]})})},e.title))})})]})})})}function UH(){const{signOut:t,user:e}=Cr();return a.jsxs("header",{className:"sticky top-0 z-50 h-16 border-b bg-card flex items-center justify-between px-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(F_,{}),a.jsxs(gt,{to:"/admin",className:"flex items-center gap-2",children:[a.jsx(Cn,{className:"h-6 w-6 text-primary"}),a.jsx("span",{className:"text-lg font-bold",children:"Admin Dashboard"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.displayName}),a.jsxs(be,{variant:"outline",size:"sm",onClick:t,children:[a.jsx(Wf,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}const $H=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState(""),[o,l]=p.useState(!0),[c,u]=p.useState(!1),[h,f]=p.useState(null),[m,g]=p.useState({name:"",game_type:"SINGLE",players_per_team:1,is_active:!0,tournament_id:""}),{toast:E}=Sr();p.useEffect(()=>{_()},[]),p.useEffect(()=>{s?x():e([])},[s]);const _=async()=>{try{const P=await hs();r(P),P.length>0&&!s&&i(P[0].id)}catch(P){E({title:"Error",description:P.message,variant:"destructive"})}},x=async()=>{if(s)try{l(!0);const P=await $s(s);e(P)}catch(P){E({title:"Error",description:P.message,variant:"destructive"})}finally{l(!1)}},b=async P=>{if(P.preventDefault(),!m.tournament_id){E({title:"Error",description:"Please select a tournament",variant:"destructive"});return}try{h?(await Pi(yt($e,"games",h),{...m,updated_at:Qe()}),E({title:"Game updated successfully"})):(await Ga(cr($e,"games"),{...m,created_at:Qe(),updated_at:Qe()}),E({title:"Game created successfully"})),u(!1),C(),x()}catch(N){E({title:"Error",description:N.message,variant:"destructive"})}},y=P=>{f(P.id),g({name:P.name,game_type:P.game_type,players_per_team:P.players_per_team,is_active:P.is_active,tournament_id:P.tournament_id||s}),u(!0)},v=async P=>{if(confirm("Are you sure you want to delete this game?"))try{await N_(yt($e,"games",P)),E({title:"Game deleted successfully"}),x()}catch(N){E({title:"Error",description:N.message,variant:"destructive"})}},C=()=>{g({name:"",game_type:"SINGLE",players_per_team:1,is_active:!0,tournament_id:s}),f(null)},A=P=>{const N=n.find(S=>S.id===P);return(N==null?void 0:N.name)||"Unknown Tournament"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Games"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Configure sports and game settings"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"w-full md:w-64",children:[a.jsx(Xe,{htmlFor:"tournament-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Tournament"}),a.jsxs(Vt,{value:s,onValueChange:i,children:[a.jsx(Dt,{id:"tournament-select",children:a.jsx(Ft,{placeholder:"Select tournament"})}),a.jsx(Ot,{children:n.map(P=>a.jsx(qe,{value:P.id,children:P.name},P.id))})]})]}),a.jsxs(_o,{open:c,onOpenChange:P=>{u(P),P&&!h&&g(N=>({...N,tournament_id:s})),P||C()},children:[a.jsx(j_,{asChild:!0,children:a.jsxs(be,{disabled:!s,children:[a.jsx(Hf,{className:"h-4 w-4 mr-2"}),"Add Game"]})}),a.jsxs(ai,{children:[a.jsx(li,{children:a.jsxs(ci,{children:[h?"Edit":"Create"," Game"]})}),a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"tournament_id",children:"Tournament"}),a.jsxs(Vt,{value:m.tournament_id,onValueChange:P=>g({...m,tournament_id:P}),disabled:!!h,children:[a.jsx(Dt,{id:"tournament_id",children:a.jsx(Ft,{placeholder:"Select tournament"})}),a.jsx(Ot,{children:n.map(P=>a.jsx(qe,{value:P.id,children:P.name},P.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"name",children:"Game Name"}),a.jsx(vt,{id:"name",value:m.name,onChange:P=>g({...m,name:P.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"game_type",children:"Game Type"}),a.jsxs(Vt,{value:m.game_type,onValueChange:P=>g({...m,game_type:P}),children:[a.jsx(Dt,{children:a.jsx(Ft,{})}),a.jsxs(Ot,{children:[a.jsx(qe,{value:"SINGLE",children:"Single (1v1)"}),a.jsx(qe,{value:"PAIR",children:"Pair (2v2)"}),a.jsx(qe,{value:"TEAM",children:"Team"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"players_per_team",children:"Players Per Team"}),a.jsx(vt,{id:"players_per_team",type:"number",min:"1",value:m.players_per_team,onChange:P=>g({...m,players_per_team:parseInt(P.target.value)}),required:!0})]}),a.jsxs(be,{type:"submit",className:"w-full",children:[h?"Update":"Create"," Game"]})]})]})]})]})]}),s?o?a.jsx(Ne,{children:a.jsx(Ie,{className:"py-8 text-center text-muted-foreground",children:"Loading games..."})}):t.length===0?a.jsx(Ne,{children:a.jsx(Ie,{className:"py-8 text-center text-muted-foreground",children:'No games found for this tournament. Click "Add Game" to create one.'})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(P=>a.jsxs(Ne,{children:[a.jsx(Je,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx(et,{children:P.name}),P.tournament_id&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:A(P.tournament_id)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{variant:"outline",size:"sm",onClick:()=>y(P),children:a.jsx(fw,{className:"h-4 w-4"})}),a.jsx(be,{variant:"outline",size:"sm",onClick:()=>v(P.id),children:a.jsx(pw,{className:"h-4 w-4"})})]})]})}),a.jsxs(Ie,{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Type:"}),a.jsx("span",{className:"font-medium",children:P.game_type})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Players:"}),a.jsx("span",{className:"font-medium",children:P.players_per_team})]}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${P.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:P.is_active?"Active":"Inactive"})]})]},P.id))}):a.jsx(Ne,{children:a.jsx(Ie,{className:"py-8 text-center text-muted-foreground",children:"Please select a tournament to view or create games."})})]})};var Gp="Checkbox",[BH,mQ]=Si(Gp),[zH,G_]=BH(Gp);function WH(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:f}=t,[m,g]=Co({prop:n,defaultProp:s??!1,onChange:c,caller:Gp}),[E,_]=p.useState(null),[x,b]=p.useState(null),y=p.useRef(!1),v=E?!!o||!!E.closest("form"):!0,C={checked:m,disabled:i,setChecked:g,control:E,setControl:_,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:bo(s)?!1:s,isFormControl:v,bubbleInput:x,setBubbleInput:b};return a.jsx(zH,{scope:e,...C,children:HH(f)?f(C):r})}var $j="CheckboxTrigger",Bj=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:E}=G_($j,t),_=xt(s,h),x=p.useRef(c);return p.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const y=()=>f(x.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[i,f]),a.jsx(Le.button,{type:"button",role:"checkbox","aria-checked":bo(c)?"mixed":c,"aria-required":u,"data-state":Gj(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:_,onKeyDown:Ee(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Ee(n,b=>{f(y=>bo(y)?!0:!y),E&&g&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});Bj.displayName=$j;var K_=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:h,...f}=t;return a.jsx(WH,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:m})=>a.jsxs(a.Fragment,{children:[a.jsx(Bj,{...f,ref:e,__scopeCheckbox:n}),m&&a.jsx(qj,{__scopeCheckbox:n})]})})});K_.displayName=Gp;var zj="CheckboxIndicator",Wj=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=G_(zj,n);return a.jsx(Bo,{present:r||bo(i.checked)||i.checked===!0,children:a.jsx(Le.span,{"data-state":Gj(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});Wj.displayName=zj;var Hj="CheckboxBubbleInput",qj=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:h,form:f,bubbleInput:m,setBubbleInput:g}=G_(Hj,t),E=xt(n,g),_=zR(i),x=MI(r);p.useEffect(()=>{const y=m;if(!y)return;const v=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(v,"checked").set,P=!s.current;if(_!==i&&A){const N=new Event("click",{bubbles:P});y.indeterminate=bo(i),A.call(y,bo(i)?!1:i),y.dispatchEvent(N)}},[m,_,i,s]);const b=p.useRef(bo(i)?!1:i);return a.jsx(Le.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:h,form:f,...e,tabIndex:-1,ref:E,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});qj.displayName=Hj;function HH(t){return typeof t=="function"}function bo(t){return t==="indeterminate"}function Gj(t){return bo(t)?"indeterminate":t?"checked":"unchecked"}const rx=p.forwardRef(({className:t,...e},n)=>a.jsx(K_,{ref:n,className:ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(Wj,{className:ce("flex items-center justify-center text-current"),children:a.jsx(lI,{className:"h-4 w-4"})})}));rx.displayName=K_.displayName;const Kj=cr($e,"teams"),Q_=async t=>{const e=[];t.tournamentId&&e.push(mn("tournament_id","==",t.tournamentId)),t.gameId&&e.push(mn("game_id","==",t.gameId)),t.userId&&e.push(mn("player_ids","array-contains",t.userId));const n=ur(Kj,...e);return(await dr(n)).docs.map(i=>({id:i.id,...i.data()})).sort((i,o)=>{const l=new Date(i.created_at||0).getTime();return new Date(o.created_at||0).getTime()-l})},ST=async t=>(await Ga(Kj,{...t,created_at:Qe(),updated_at:Qe()})).id,qH=async(t,e)=>{await Pi(yt($e,"teams",t),{...e,updated_at:Qe()})},GH=async(t,e)=>{await Pi(yt($e,"teams",t),{player_ids:B8(e),updated_at:Qe()})},KH=async t=>{await N_(yt($e,"teams",t))},QH=cr($e,"profiles"),Qj=cr($e,"user_roles"),Mc=async()=>{const t=ur(QH,Go("created_at","desc"));return(await dr(t)).docs.map(n=>({id:n.id,...n.data()}))},YH=async t=>{try{const e=await ja(yt(Qj,t));return e.exists()?e.data().roles||[]:[]}catch(e){return console.error("Error fetching user role:",e),[]}},XH=async()=>{try{const t=await Mc();return await Promise.all(t.map(async n=>{const r=await YH(n.id);return{...n,roles:r}}))}catch(t){return console.error("Error fetching users with roles:",t),[]}},ZH=async(t,e)=>{try{await sa(yt(Qj,t),{roles:e,updated_at:Qe()},{merge:!0})}catch(n){throw console.error("Error updating user role:",n),n}},Yj=cr($e,"registrations"),ui=async t=>{const e=[];t.tournamentId&&e.push(mn("tournament_id","==",t.tournamentId)),t.gameId&&e.push(mn("game_id","==",t.gameId)),t.status&&e.push(mn("status","==",t.status)),t.userId&&e.push(mn("user_id","==",t.userId));const n=ur(Yj,...e,Go("created_at","desc"));return(await dr(n)).docs.map(s=>({id:s.id,...s.data()}))},JH=async t=>{await Ga(Yj,{...t,status:"pending",created_at:Qe(),updated_at:Qe()})},eq=async(t,e)=>{await Pi(yt($e,"registrations",t),{status:e,updated_at:Qe()})},Xj=cr($e,"notifications"),Zj=async t=>{const e=ur(Xj,mn("user_id","==",t),Go("created_at","desc"));return(await dr(e)).docs.map(r=>({id:r.id,...r.data()}))},Em=async t=>{await Ga(Xj,{...t,is_read:!1,created_at:Qe(),updated_at:Qe()})},CT=async t=>{await Pi(yt($e,"notifications",t),{is_read:!0,updated_at:Qe()})},tq=()=>{var L,V;const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState(""),[m,g]=p.useState(""),[E,_]=p.useState(!0),[x,b]=p.useState(!1),[y,v]=p.useState(!1),[C,A]=p.useState(!1),[P,N]=p.useState(null),[S,I]=p.useState(null),[k,R]=p.useState({name:"",is_pair:!1,status:"pending",tournament_id:"",game_id:""}),[O,j]=p.useState([]),[B,ee]=p.useState([]),[Z,se]=p.useState(""),{toast:U}=Sr(),$=s.find(M=>M.id===m),ne=($==null?void 0:$.game_type)==="TEAM",he=($==null?void 0:$.game_type)==="PAIR",ae=($==null?void 0:$.game_type)==="SINGLE";p.useEffect(()=>{ue(),ut()},[]),p.useEffect(()=>{h?we():(i([]),g(""))},[h]),p.useEffect(()=>{h&&m?(Ce(),re()):(e([]),u([]))},[h,m]);const ue=async()=>{try{const M=await hs();r(M),M.length>0&&!h&&f(M[0].id)}catch(M){U({title:"Error",description:M.message,variant:"destructive"})}},we=async()=>{if(h)try{const M=await $s(h);i(M),M.length>0&&!m&&g(M[0].id)}catch(M){U({title:"Error",description:M.message,variant:"destructive"})}},Ce=async()=>{if(!(!h||!m))try{_(!0);const M=await Q_({tournamentId:h,gameId:m});e(M)}catch(M){U({title:"Error",description:M.message,variant:"destructive"})}finally{_(!1)}},ut=async()=>{try{const M=await Mc();l(M)}catch(M){U({title:"Error",description:M.message,variant:"destructive"})}},re=async()=>{if(!(!h||!m))try{const M=await ui({tournamentId:h,gameId:m});u(M)}catch(M){U({title:"Error fetching registrations",description:M.message,variant:"destructive"})}},Be=async M=>{if(M.preventDefault(),!k.tournament_id||!k.game_id){U({title:"Error",description:"Please select a tournament and game",variant:"destructive"});return}if(!he&&!k.name.trim()){U({title:"Error",description:"Team name is required",variant:"destructive"});return}try{P?(await qH(P,{name:k.name,is_pair:k.is_pair,status:k.status}),U({title:`${he?"Pair":"Team"} updated successfully`})):(await ST({...k,name:he?`Pair ${Date.now()}`:k.name,player_ids:[]}),U({title:`${he?"Pair":"Team"} created successfully`})),b(!1),me(),Ce()}catch(W){U({title:"Error",description:W.message,variant:"destructive"})}},ot=M=>{N(M.id),R({name:M.name,is_pair:M.is_pair,status:M.status,tournament_id:M.tournament_id,game_id:M.game_id}),b(!0)},Pe=async M=>{if(confirm("Are you sure you want to delete this team?"))try{await KH(M),U({title:"Team deleted successfully"}),Ce()}catch(W){U({title:"Error",description:W.message,variant:"destructive"})}},Ae=M=>{I(M),j(M.player_ids),v(!0)},Re=async()=>{if(B.length===2)try{const M=o.find(Y=>Y.id===B[0]),W=o.find(Y=>Y.id===B[1]),G=M&&W?`${M.name} & ${W.name}`:`Pair ${Date.now()}`,X=await ST({tournament_id:h,game_id:m,name:G,is_pair:!0,player_ids:B,status:"confirmed"});await Rj({tournament_id:h,game_id:m,type:"TEAM",team_id:X}),U({title:"Pair created successfully"});for(const Y of B)await Em({user_id:Y,title:"Team Assignment",message:`You have been added to a pair for ${nt(m)} in ${xe(h)}.`,type:"team_assignment"});A(!1),ee([]),Ce()}catch(M){U({title:"Error",description:M.message,variant:"destructive"})}},bt=async()=>{if(S)try{const M=S.player_ids.filter(G=>!O.includes(G));for(const G of M)await Pi(yt($e,"teams",S.id),{player_ids:z8(G),updated_at:Qe()});const W=O.filter(G=>!S.player_ids.includes(G));for(const G of W)await GH(S.id,G);U({title:"Team players updated successfully"});for(const G of W)await Em({user_id:G,title:"Team Assignment",message:`You have been added to team ${S.name} for ${nt(m)} in ${xe(h)}.`,type:"team_assignment"});v(!1),I(null),Ce()}catch(M){U({title:"Error",description:M.message,variant:"destructive"})}},me=()=>{R({name:"",is_pair:!1,status:"pending",tournament_id:h,game_id:m}),N(null)},xe=M=>{const W=n.find(G=>G.id===M);return(W==null?void 0:W.name)||"Unknown Tournament"},nt=M=>{const W=s.find(G=>G.id===M);return(W==null?void 0:W.name)||"Unknown Game"},ht=M=>{const W=o.find(G=>G.id===M);return(W==null?void 0:W.name)||"Unknown User"},At=M=>c.some(W=>W.user_id===M),ze=M=>t.find(G=>G.player_ids.includes(M)&&(S?G.id!==S.id:!0));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Teams"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Create and manage teams for tournaments"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"w-full md:w-64",children:[a.jsx(Xe,{htmlFor:"tournament-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Tournament"}),a.jsxs(Vt,{value:h,onValueChange:f,children:[a.jsx(Dt,{id:"tournament-select",children:a.jsx(Ft,{placeholder:"Select tournament"})}),a.jsx(Ot,{children:n.map(M=>a.jsx(qe,{value:M.id,children:M.name},M.id))})]})]}),a.jsxs("div",{className:"w-full md:w-64",children:[a.jsx(Xe,{htmlFor:"game-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Game"}),a.jsxs(Vt,{value:m,onValueChange:g,disabled:!h,children:[a.jsx(Dt,{id:"game-select",children:a.jsx(Ft,{placeholder:"Select game"})}),a.jsx(Ot,{children:s.map(M=>a.jsx(qe,{value:M.id,children:M.name},M.id))})]})]}),a.jsxs(_o,{open:x,onOpenChange:M=>{b(M),M&&!P&&R(W=>({...W,tournament_id:h,game_id:m,is_pair:!1})),M||me()},children:[ne&&a.jsx(j_,{asChild:!0,children:a.jsxs(be,{disabled:!h||!m,children:[a.jsx(Hf,{className:"h-4 w-4 mr-2"}),"Add Team"]})}),a.jsxs(ai,{children:[a.jsx(li,{children:a.jsxs(ci,{children:[P?"Edit":"Create"," Team"]})}),a.jsxs("form",{onSubmit:Be,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"tournament_id",children:"Tournament"}),a.jsxs(Vt,{value:k.tournament_id,onValueChange:M=>R({...k,tournament_id:M}),disabled:!!P,children:[a.jsx(Dt,{id:"tournament_id",children:a.jsx(Ft,{placeholder:"Select tournament"})}),a.jsx(Ot,{children:n.map(M=>a.jsx(qe,{value:M.id,children:M.name},M.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"game_id",children:"Game"}),a.jsxs(Vt,{value:k.game_id,onValueChange:M=>R({...k,game_id:M}),disabled:!!P,children:[a.jsx(Dt,{id:"game_id",children:a.jsx(Ft,{placeholder:"Select game"})}),a.jsx(Ot,{children:s.map(M=>a.jsx(qe,{value:M.id,children:M.name},M.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"name",children:"Team Name"}),a.jsx(vt,{id:"name",value:k.name,onChange:M=>R({...k,name:M.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"status",children:"Status"}),a.jsxs(Vt,{value:k.status,onValueChange:M=>R({...k,status:M}),children:[a.jsx(Dt,{children:a.jsx(Ft,{})}),a.jsxs(Ot,{children:[a.jsx(qe,{value:"pending",children:"Pending"}),a.jsxs(qe,{value:"confirmed",disabled:P?(((L=t.find(M=>M.id===P))==null?void 0:L.player_ids.length)||0)<(($==null?void 0:$.players_per_team)||1):!0,children:["Confirmed ",P&&(((V=t.find(M=>M.id===P))==null?void 0:V.player_ids.length)||0)<(($==null?void 0:$.players_per_team)||1)?"(Add players first)":""]})]})]})]}),a.jsxs(be,{type:"submit",className:"w-full",children:[P?"Update":"Create"," Team"]})]})]})]}),he&&a.jsxs(be,{disabled:!h||!m,onClick:()=>A(!0),children:[a.jsx(Hf,{className:"h-4 w-4 mr-2"}),"Add Pair"]})]})]}),!h||!m?a.jsx(Ne,{children:a.jsx(Ie,{className:"py-8 text-center text-muted-foreground",children:"Please select a tournament and game to view or create teams."})}):ae?a.jsx(Ne,{children:a.jsx(Ie,{className:"py-8 text-center text-muted-foreground",children:"Single player games don't require team management. Players are managed through registrations."})}):E?a.jsx(Ne,{children:a.jsxs(Ie,{className:"py-8 text-center text-muted-foreground",children:["Loading ",he?"pairs":"teams","..."]})}):t.length===0?a.jsx(Ne,{children:a.jsxs(Ie,{className:"py-8 text-center text-muted-foreground",children:["No ",he?"pairs":"teams",' found for this tournament and game. Click "Add ',he?"Pair":"Team",'" to create one.']})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(M=>a.jsxs(Ne,{children:[a.jsx(Je,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx(et,{children:M.is_pair?M.player_ids.length===2?`${ht(M.player_ids[0])} & ${ht(M.player_ids[1])}`:`Pair ${M.id.slice(-4)}`:M.name}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[xe(M.tournament_id)," - ",nt(M.game_id)]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{variant:"outline",size:"sm",onClick:()=>Ae(M),children:a.jsx(pi,{className:"h-4 w-4"})}),!M.is_pair&&a.jsx(be,{variant:"outline",size:"sm",onClick:()=>ot(M),children:a.jsx(fw,{className:"h-4 w-4"})}),a.jsx(be,{variant:"outline",size:"sm",onClick:()=>Pe(M.id),children:a.jsx(pw,{className:"h-4 w-4"})})]})]})}),a.jsxs(Ie,{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Type:"}),a.jsx("span",{className:"font-medium",children:M.is_pair?"Pair":"Team"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Players:"}),a.jsx("span",{className:"font-medium",children:M.player_ids.length})]}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${M.status==="confirmed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:M.status})]})]},M.id))}),a.jsx(_o,{open:C,onOpenChange:M=>{A(M),M||(ee([]),se(""))},children:a.jsxs(ai,{className:"max-w-2xl",children:[a.jsx(li,{children:a.jsx(ci,{children:"Create Pair"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Select exactly 2 players for this pair",B.length>0&&a.jsxs("span",{className:"font-medium",children:[" (",B.length," selected)"]})]}),a.jsx("div",{className:"space-y-2",children:a.jsx(vt,{placeholder:"Search users by name or email...",value:Z,onChange:M=>se(M.target.value),className:"w-full"})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.filter(M=>(M.name.toLowerCase().includes(Z.toLowerCase())||M.email.toLowerCase().includes(Z.toLowerCase()))&&At(M.id)).map(M=>{const W=ze(M.id),G=!!W&&!B.includes(M.id)||!B.includes(M.id)&&B.length>=2;return a.jsxs("div",{className:"flex items-center space-x-2 p-2 border-b",children:[a.jsx(rx,{id:`pair-user-${M.id}`,checked:B.includes(M.id),disabled:G,onCheckedChange:X=>{ee(X?Y=>[...Y,M.id]:Y=>Y.filter(pe=>pe!==M.id))}}),a.jsxs("div",{className:"flex-1",children:[a.jsxs(Xe,{htmlFor:`pair-user-${M.id}`,className:G&&W?"text-muted-foreground":"",children:[M.name," (",M.email,")"]}),W&&a.jsxs("p",{className:"text-xs text-red-500",children:["Already in ",W.is_pair?"a pair":W.name]})]})]},M.id)})}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(be,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),a.jsx(be,{onClick:Re,disabled:B.length!==2,children:"Create Pair"})]})]})]})}),a.jsx(_o,{open:y,onOpenChange:M=>{v(M),M||se("")},children:a.jsxs(ai,{className:"max-w-2xl",children:[a.jsx(li,{children:a.jsxs(ci,{children:["Manage Players - ",S!=null&&S.is_pair?S.player_ids.length===2?`${ht(S.player_ids[0])} & ${ht(S.player_ids[1])}`:`Pair ${S.id.slice(-4)}`:S==null?void 0:S.name]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:[S!=null&&S.is_pair?"Select exactly 2 players for this pair":`Select up to ${($==null?void 0:$.players_per_team)||1} players for this team`,O.length>0&&a.jsxs("span",{className:"font-medium",children:[" (",O.length," selected)"]})]}),a.jsx("div",{className:"space-y-2",children:a.jsx(vt,{placeholder:"Search users by name or email...",value:Z,onChange:M=>se(M.target.value),className:"w-full"})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.filter(M=>(M.name.toLowerCase().includes(Z.toLowerCase())||M.email.toLowerCase().includes(Z.toLowerCase()))&&At(M.id)).map(M=>{const W=ze(M.id),G=S!=null&&S.is_pair?2:($==null?void 0:$.players_per_team)||1,X=!!W&&!O.includes(M.id)||!O.includes(M.id)&&O.length>=G;return a.jsxs("div",{className:"flex items-center space-x-2 p-2 border-b",children:[a.jsx(rx,{id:`user-${M.id}`,checked:O.includes(M.id),disabled:X,onCheckedChange:Y=>{j(Y?pe=>[...pe,M.id]:pe=>pe.filter(He=>He!==M.id))}}),a.jsxs("div",{className:"flex-1",children:[a.jsxs(Xe,{htmlFor:`user-${M.id}`,className:X&&W?"text-muted-foreground":"",children:[M.name," (",M.email,")"]}),W&&a.jsxs("p",{className:"text-xs text-red-500",children:["Already in ",W.is_pair?"a pair":W.name]})]})]},M.id)})}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(be,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),a.jsx(be,{onClick:bt,children:"Update Players"})]})]})]})})]})},nq=(t,e)=>{const n=e-t;return n===0?"Final":n===1?"Semi Final":n===2?"Quarter Final":`Round ${t+1}`},rq=t=>Math.pow(2,Math.ceil(Math.log2(Math.max(1,t)))),sq=(t,e=[])=>{var h,f,m;const n=[...t].sort((g,E)=>g.seed&&E.seed?g.seed-E.seed:g.seed?-1:E.seed?1:(g.created_at||"").localeCompare(E.created_at||"")),r=n.length,s=rq(r),i=Math.log2(s),o=[],l=new Array(s).fill(null);n.forEach((g,E)=>{l[E]=g});let c=s/2,u=[];for(let g=0;g<i;g++){const E=[];for(let _=0;_<c;_++){const x=((h=e.shift())==null?void 0:h.id)||crypto.randomUUID(),b=_*2,y={id:x,round_index:g,round_name:nq(g,i-1),match_order:_,participant_a_id:g===0?(f=l[b])==null?void 0:f.id:void 0,participant_b_id:g===0?(m=l[b+1])==null?void 0:m.id:void 0};if(u.length){const v=u[_*2],C=u[_*2+1],A=o.find(N=>N.id===v);A&&(A.next_match_id=x,A.winner_slot_in_next="A");const P=o.find(N=>N.id===C);P&&(P.next_match_id=x,P.winner_slot_in_next="B")}o.push(y),E.push(x)}u=E,c=c/2}return o},iq=async(t,e,n)=>{const r=W8($e);n.forEach(s=>{const i=yt($e,"matches",s.id);r.set(i,{tournament_id:t,game_id:e,...s,status:"SCHEDULED",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{merge:!0})}),await r.commit()},oq=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState(""),[h,f]=p.useState(""),[m,g]=p.useState(!1),{toast:E}=Sr();p.useEffect(()=>{hs().then(e)},[]),p.useEffect(()=>{f("")},[c]),p.useEffect(()=>{(async()=>{if(!c){r([]),i([]),l([]);return}g(!0);try{const[C,A,P]=await Promise.all([$s(c),Pj({tournamentId:c,gameId:h||void 0}),Fu({tournamentId:c,gameId:h||void 0})]);r(C),i(A),l(P)}catch(C){E({title:"Error loading data",description:C.message,variant:"destructive"}),r([]),i([]),l([])}finally{g(!1)}})()},[c,h]);const _=p.useMemo(()=>s.reduce((v,C)=>(v[C.id]=C,v),{}),[s]),x=p.useMemo(()=>o.reduce((v,C)=>(v[C.round_index]||(v[C.round_index]=[]),v[C.round_index].push(C),v),{}),[o]),b=async()=>{if(!c||!h){E({title:"Select tournament and game",description:"Both tournament and game are required to generate bracket.",variant:"destructive"});return}if(s.length<2){E({title:"Not enough participants",description:"At least two participants are required to create a bracket.",variant:"destructive"});return}try{g(!0);const v=sq(s);await iq(c,h,v);const C=await Fu({tournamentId:c,gameId:h});l(C),E({title:"Bracket generated",description:"Matches created successfully."})}catch(v){E({title:"Generation failed",description:v.message,variant:"destructive"})}finally{g(!1)}},y=async(v,C)=>{try{await oH(v.id,{tournament_id:v.tournament_id,game_id:v.game_id,winner_participant_id:C,score_details:"",points_awarded:{[C]:3},submitted_by:"admin"}),v.next_match_id&&v.winner_slot_in_next&&await vf(v.next_match_id,v.winner_slot_in_next==="A"?{participant_a_id:C}:{participant_b_id:C});const A=await Fu({tournamentId:c,gameId:h||void 0});l(A),E({title:"Result recorded"})}catch(A){E({title:"Failed to record result",description:A.message,variant:"destructive"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),a.jsxs(Vt,{value:c,onValueChange:u,children:[a.jsx(Dt,{children:a.jsx(Ft,{placeholder:"Select tournament"})}),a.jsx(Ot,{children:t.map(v=>a.jsx(qe,{value:v.id,children:v.name},v.id))})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Game"}),a.jsxs(Vt,{value:h,onValueChange:f,disabled:!c,children:[a.jsx(Dt,{children:a.jsx(Ft,{placeholder:"Select game"})}),a.jsx(Ot,{children:n.map(v=>a.jsx(qe,{value:v.id,children:v.name},v.id))})]})]}),a.jsxs(be,{onClick:b,disabled:!h||m,children:[a.jsx($4,{className:"h-4 w-4 mr-2"}),"Generate Bracket"]})]}),a.jsxs(Ne,{children:[a.jsxs(Je,{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(et,{children:"Match Schedule"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-generated bracket with manual override support."})]}),m&&a.jsx(lr,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),a.jsx(Ie,{children:c?o.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No matches yet. Generate a bracket or create matches manually."}):Object.entries(x).map(([v,C])=>a.jsxs("div",{className:"mb-6",children:[a.jsxs("p",{className:"text-sm font-semibold mb-3 uppercase text-muted-foreground",children:["Round ",Number(v)+1]}),a.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:C.map(A=>{const P=A.participant_a_id?_[A.participant_a_id]:void 0,N=A.participant_b_id?_[A.participant_b_id]:void 0;return a.jsx(Ne,{children:a.jsxs(Ie,{className:"space-y-3 pt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Match"}),a.jsx("p",{className:"font-semibold",children:A.round_name})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:(P==null?void 0:P.user_id)||(P==null?void 0:P.team_id)||"TBD"}),a.jsx(be,{variant:"outline",size:"sm",disabled:!P,onClick:()=>P&&y(A,P.id),children:"Win"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:(N==null?void 0:N.user_id)||(N==null?void 0:N.team_id)||"TBD"}),a.jsx(be,{variant:"outline",size:"sm",disabled:!N,onClick:()=>N&&y(A,N.id),children:"Win"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx(vt,{type:"datetime-local",value:(()=>{var I;if(!A.match_time)return"";let S;return(I=A.match_time)!=null&&I.toDate?S=A.match_time.toDate():A.match_time instanceof Date?S=A.match_time:S=new Date(A.match_time),isNaN(S.getTime())?"":new Date(S.getTime()-S.getTimezoneOffset()*6e4).toISOString().slice(0,16)})(),onChange:S=>vf(A.id,{match_time:new Date(S.target.value).toISOString()})}),a.jsx(vt,{placeholder:"Venue",value:A.venue||"",onChange:S=>vf(A.id,{venue:S.target.value})})]})]})},A.id)})})]},v)):a.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament and game to view matches."})})]})]})},aq=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState(!1),[o,l]=p.useState(null),[c,u]=p.useState({name:"",start_date:"",end_date:"",is_active:!0}),{toast:h}=Sr();p.useEffect(()=>{f()},[]);const f=async()=>{try{const x=ur(cr($e,"tournaments"),Go("created_at","desc")),y=(await dr(x)).docs.map(v=>{const C=v.data();return{id:v.id,name:C.name??"",start_date:C.start_date||"",end_date:C.end_date||"",is_active:C.is_active??!0}});e(y)}catch(x){h({title:"Error",description:x.message,variant:"destructive"})}finally{r(!1)}},m=async x=>{x.preventDefault();try{o?(await Pi(yt($e,"tournaments",o),{...c,updated_at:Qe()}),h({title:"Tournament updated successfully"})):(await Ga(cr($e,"tournaments"),{...c,created_at:Qe(),updated_at:Qe()}),h({title:"Tournament created successfully"})),i(!1),_(),f()}catch(b){h({title:"Error",description:b.message,variant:"destructive"})}},g=x=>{l(x.id),u({name:x.name,start_date:x.start_date||"",end_date:x.end_date||"",is_active:x.is_active}),i(!0)},E=async x=>{if(confirm("Are you sure you want to delete this tournament?"))try{await N_(yt($e,"tournaments",x)),h({title:"Tournament deleted successfully"}),f()}catch(b){h({title:"Error",description:b.message,variant:"destructive"})}},_=()=>{u({name:"",start_date:"",end_date:"",is_active:!0}),l(null)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Tournaments"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage tournament configurations"})]}),a.jsxs(_o,{open:s,onOpenChange:x=>{i(x),x||_()},children:[a.jsx(j_,{asChild:!0,children:a.jsxs(be,{children:[a.jsx(Hf,{className:"h-4 w-4 mr-2"}),"Add Tournament"]})}),a.jsxs(ai,{children:[a.jsx(li,{children:a.jsxs(ci,{children:[o?"Edit":"Create"," Tournament"]})}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"name",children:"Tournament Name"}),a.jsx(vt,{id:"name",value:c.name,onChange:x=>u({...c,name:x.target.value}),required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"start_date",children:"Start Date"}),a.jsx(vt,{id:"start_date",type:"date",value:c.start_date,onChange:x=>u({...c,start_date:x.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"end_date",children:"End Date"}),a.jsx(vt,{id:"end_date",type:"date",value:c.end_date,onChange:x=>u({...c,end_date:x.target.value})})]})]}),a.jsxs(be,{type:"submit",className:"w-full",children:[o?"Update":"Create"," Tournament"]})]})]})]})]}),n?a.jsx("p",{children:"Loading..."}):a.jsx("div",{className:"grid gap-4",children:t.map(x=>a.jsxs(Ne,{children:[a.jsx(Je,{children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx(et,{children:x.name}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x.start_date&&x.end_date&&`${new Date(x.start_date).toLocaleDateString()} - ${new Date(x.end_date).toLocaleDateString()}`})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{variant:"outline",size:"sm",onClick:()=>g(x),children:a.jsx(fw,{className:"h-4 w-4"})}),a.jsx(be,{variant:"outline",size:"sm",onClick:()=>E(x.id),children:a.jsx(pw,{className:"h-4 w-4"})})]})]})}),a.jsx(Ie,{children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${x.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.is_active?"Active":"Inactive"})})]},x.id))})]})},lq=()=>{const[t,e]=p.useState({activeTournamentsCount:0,activeTournamentName:"Loading...",totalGames:0,registeredPlayers:0,scheduledMatches:0}),[n,r]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const[i,o,l]=await Promise.all([hs(),Mc(),$s()]),c=i.filter(f=>f.is_active),u=c[0]||i[0];let h=0;u&&(h=(await Fu({tournamentId:u.id})).length),e({activeTournamentsCount:c.length,activeTournamentName:u?u.name:"No Tournaments",totalGames:l.length,registeredPlayers:o.length,scheduledMatches:h})}catch(i){console.error("Error fetching dashboard data:",i),e(o=>({...o,activeTournamentName:"Error loading data"}))}finally{r(!1)}})()},[]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Overview"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Welcome to the Sports Week Admin Dashboard"})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(Ne,{children:[a.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(et,{className:"text-sm font-medium",children:"Active Tournaments"}),a.jsx(Cn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.activeTournamentsCount}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t.activeTournamentName})]})]}),a.jsxs(Ne,{children:[a.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(et,{className:"text-sm font-medium",children:"Total Games"}),a.jsx(hw,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.totalGames}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all tournaments"})]})]}),a.jsxs(Ne,{children:[a.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(et,{className:"text-sm font-medium",children:"Registered Players"}),a.jsx(pi,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.registeredPlayers}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total registered users"})]})]}),a.jsxs(Ne,{children:[a.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(et,{className:"text-sm font-medium",children:"Scheduled Matches"}),a.jsx(No,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.scheduledMatches}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"For current tournament"})]})]})]}),a.jsxs(Ne,{children:[a.jsx(Je,{children:a.jsx(et,{children:"Quick Start Guide"})}),a.jsxs(Ie,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Create a Tournament"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Set up Sports Week 2025 with start and end dates"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Add Games"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure games like Chess, Cricket, Volleyball, etc."})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Create Teams"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Build teams and pairs for various games"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"4"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Schedule Matches"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create match fixtures with dates, times, and venues"})]})]})]})]})]})},cq=async(t,e)=>{await Em({user_id:t,title:"Game Registration Approved! ",message:`Your registration for "${e.gameName}" in ${e.tournamentName} has been approved. Good luck!`,type:"registration"})},uq=async(t,e)=>{await Em({user_id:t,title:"Game Registration Update",message:`Your registration for "${e.gameName}" in ${e.tournamentName} was not approved. Please contact the admin for more information.`,type:"registration"})},dq={pending:"secondary",approved:"default",rejected:"destructive"},hq=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState(!1),{toast:E}=Sr();p.useEffect(()=>{(async()=>{const[C,A]=await Promise.all([hs(),Mc()]);i(C),f(A)})()},[]),p.useEffect(()=>{if(!t){l([]),u([]);return}(async()=>{g(!0);const[C,A]=await Promise.all([$s(t),ui({tournamentId:t,gameId:n||void 0})]);l(C),u(A),g(!1)})()},[t,n]);const _=p.useMemo(()=>s.find(v=>v.id===t),[s,t]),x=async(v,C)=>{await eq(v.id,C);const A=o.find(N=>N.id===v.game_id),P=(A==null?void 0:A.name)||"Unknown Game";C==="approved"?(await Rj({tournament_id:v.tournament_id,game_id:v.game_id,type:"USER",user_id:v.user_id}),await cq(v.user_id,{tournamentName:(_==null?void 0:_.name)||"Tournament",gameName:P}),console.debug("Participant created/Approved notification sent")):C==="rejected"&&await uq(v.user_id,{tournamentName:(_==null?void 0:_.name)||"Tournament",gameName:P})},b=async(v,C)=>{try{await x(v,C),E({title:`Registration ${C}`,description:C==="approved"?"Player added to participants list.":"Player notified of rejection."});const A=await ui({tournamentId:v.tournament_id,gameId:n||void 0});u(A)}catch(A){E({title:"Action failed",description:A.message,variant:"destructive"})}},y=async()=>{const v=c.filter(C=>C.status==="pending");if(v.length===0){E({title:"No pending registrations",description:"There are no pending requests to approve."});return}g(!0);try{await Promise.all(v.map(A=>x(A,"approved"))),E({title:"Batch Approval Successful",description:`Approved ${v.length} registrations.`});const C=await ui({tournamentId:t,gameId:n||void 0});u(C)}catch(C){E({title:"Batch Action failed",description:C.message,variant:"destructive"})}finally{g(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),a.jsxs(Vt,{value:t,onValueChange:e,children:[a.jsx(Dt,{children:a.jsx(Ft,{placeholder:"Select tournament"})}),a.jsx(Ot,{children:s.map(v=>a.jsx(qe,{value:v.id,children:v.name},v.id))})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Game"}),a.jsxs(Vt,{value:n,onValueChange:r,disabled:!t,children:[a.jsx(Dt,{children:a.jsx(Ft,{placeholder:"All games"})}),a.jsxs(Ot,{children:[a.jsx(qe,{value:"all",children:"All games"}),o.map(v=>a.jsx(qe,{value:v.id,children:v.name},v.id))]})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(be,{onClick:y,disabled:m||!t||c.filter(v=>v.status==="pending").length===0,children:[m?a.jsx(lr,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Approve All showing requests"]})}),a.jsxs(Ne,{children:[a.jsxs(Je,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(et,{children:"Registrations"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Approve or reject player registrations for the selected tournament."})]}),m&&a.jsx(lr,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),a.jsx(Ie,{children:t?c.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No registrations found."}):a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx("div",{className:"max-h-[600px] overflow-y-auto overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"sticky top-0 bg-background z-10",children:a.jsxs("tr",{className:"border-b bg-muted/50",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Email"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Game"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Actions"})]})}),a.jsx("tbody",{children:c.map(v=>{const C=h.find(P=>P.id===v.user_id),A=o.find(P=>P.id===v.game_id);return a.jsxs("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsx("p",{className:"font-medium",children:(C==null?void 0:C.name)??v.user_id})}),a.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:(C==null?void 0:C.email)??""}),a.jsx("td",{className:"py-3 px-4 text-sm",children:(A==null?void 0:A.name)??"Unknown"}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(Wn,{variant:dq[v.status],children:v.status})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("div",{className:"flex items-center gap-2",children:v.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx(be,{variant:"outline",size:"sm",onClick:()=>b(v,"approved"),children:"Approve"}),a.jsx(be,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>b(v,"rejected"),children:"Reject"})]})})})]},v.id)})})]})})}):a.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view registrations."})})]})]})},fq={pending:"secondary",approved:"default",rejected:"destructive"},mq=()=>{const[t,e]=p.useState(""),[n,r]=p.useState("all"),[s,i]=p.useState("all"),[o,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState([]),[E,_]=p.useState(!1);Sr(),p.useEffect(()=>{(async()=>{const[C,A]=await Promise.all([hs(),Mc()]);l(C),g(A)})()},[]),p.useEffect(()=>{if(!t){u([]),f([]);return}(async()=>{_(!0);const[C,A]=await Promise.all([$s(t),ui({tournamentId:t,gameId:n&&n!=="all"?n:void 0,status:s!=="all"?s:void 0})]);u(C),f(A),_(!1)})()},[t,n,s]);const x=p.useMemo(()=>h,[h]),b=v=>{const C=m.find(A=>A.id===v);return{name:(C==null?void 0:C.name)??v,email:(C==null?void 0:C.email)??""}},y=v=>{var C;return((C=c.find(A=>A.id===v))==null?void 0:C.name)??"Unknown Game"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),a.jsxs(Vt,{value:t,onValueChange:e,children:[a.jsx(Dt,{children:a.jsx(Ft,{placeholder:"Select tournament"})}),a.jsx(Ot,{children:o.map(v=>a.jsx(qe,{value:v.id,children:v.name},v.id))})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Game"}),a.jsxs(Vt,{value:n,onValueChange:r,disabled:!t,children:[a.jsx(Dt,{children:a.jsx(Ft,{placeholder:"All games"})}),a.jsxs(Ot,{children:[a.jsx(qe,{value:"all",children:"All games"}),c.map(v=>a.jsx(qe,{value:v.id,children:v.name},v.id))]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Registration Status"}),a.jsxs(Vt,{value:s,onValueChange:i,disabled:!t,children:[a.jsx(Dt,{children:a.jsx(Ft,{placeholder:"All statuses"})}),a.jsxs(Ot,{children:[a.jsx(qe,{value:"all",children:"All statuses"}),a.jsx(qe,{value:"approved",children:"Approved only"}),a.jsx(qe,{value:"pending",children:"Pending only"}),a.jsx(qe,{value:"rejected",children:"Rejected only"})]})]})]})]}),a.jsxs(Ne,{children:[a.jsxs(Je,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(et,{children:"Participants List"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View all user registrations with approval status and game details."})]}),E&&a.jsx(lr,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),a.jsx(Ie,{children:t?x.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No registrations found."}):a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"sticky top-0 bg-background z-10",children:a.jsxs("tr",{className:"border-b bg-muted/50",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Email"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Game"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Registered At"})]})}),a.jsx("tbody",{children:x.map(v=>{const C=b(v.user_id);return a.jsxs("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsx("p",{className:"font-medium",children:C.name})}),a.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:C.email}),a.jsx("td",{className:"py-3 px-4 text-sm",children:y(v.game_id)}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(Wn,{variant:fq[v.status],children:v.status})}),a.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:v.created_at?new Date(v.created_at).toLocaleDateString():"N/A"})]},v.id)})})]})})}):a.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view participants."})})]}),t&&x.length>0&&a.jsxs(Ne,{children:[a.jsx(Je,{children:a.jsx(et,{children:"Summary"})}),a.jsx(Ie,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Registrations"}),a.jsx("p",{className:"text-2xl font-bold",children:h.length})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:h.filter(v=>v.status==="approved").length})]}),a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:h.filter(v=>v.status==="pending").length})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected"}),a.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:h.filter(v=>v.status==="rejected").length})]})]})})]})]})},pq=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(""),[s,i]=p.useState([]),[o,l]=p.useState(!1);return p.useEffect(()=>{hs().then(e)},[]),p.useEffect(()=>{if(!n){i([]);return}l(!0),Nj(n).then(i).finally(()=>l(!1))},[n]),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-wrap gap-4 items-end",children:a.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[a.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),a.jsxs(Vt,{value:n,onValueChange:r,children:[a.jsx(Dt,{children:a.jsx(Ft,{placeholder:"Select tournament"})}),a.jsx(Ot,{children:t.map(c=>a.jsx(qe,{value:c.id,children:c.name},c.id))})]})]})}),a.jsxs(Ne,{children:[a.jsxs(Je,{className:"flex items-center justify-between",children:[a.jsx(et,{children:"Leaderboard"}),o&&a.jsx(lr,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),a.jsx(Ie,{children:n?s.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No leaderboard data yet."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-muted-foreground border-b",children:[a.jsx("th",{className:"py-2 pr-4",children:"Rank"}),a.jsx("th",{className:"py-2 pr-4",children:"Name"}),a.jsx("th",{className:"py-2 pr-4",children:"Type"}),a.jsx("th",{className:"py-2 pr-4",children:"Points"}),a.jsx("th",{className:"py-2 pr-4",children:"Wins"}),a.jsx("th",{className:"py-2 pr-4",children:"Losses"})]})}),a.jsx("tbody",{children:s.map((c,u)=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"py-2 pr-4",children:c.rank??u+1}),a.jsx("td",{className:"py-2 pr-4 font-medium",children:c.name}),a.jsx("td",{className:"py-2 pr-4 capitalize",children:c.entity_type.toLowerCase()}),a.jsx("td",{className:"py-2 pr-4",children:c.points}),a.jsx("td",{className:"py-2 pr-4",children:c.wins}),a.jsx("td",{className:"py-2 pr-4",children:c.losses})]},c.id))})]})}):a.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view standings."})})]})]})},gq=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState(null),[o,l]=p.useState(""),[c,u]=p.useState(null),{isAdmin:h}=Cr();p.useEffect(()=>{f()},[]);const f=async()=>{try{r(!0),i(null);const x=await XH();e(x)}catch(x){console.error("Error loading users:",x),i("Failed to load users. Please try again.")}finally{r(!1)}},m=async(x,b)=>{try{u(x),i(null),await ZH(x,[b]),e(y=>y.map(v=>v.id===x?{...v,roles:[b]}:v))}catch(y){console.error("Error updating user role:",y),i("Failed to update user role. Please try again.")}finally{u(null)}},g=t.filter(x=>{var b,y,v;return((b=x.name)==null?void 0:b.toLowerCase().includes(o.toLowerCase()))||((y=x.email)==null?void 0:y.toLowerCase().includes(o.toLowerCase()))||((v=x.department)==null?void 0:v.toLowerCase().includes(o.toLowerCase()))}),E=x=>x.includes("admin")?"role-badge admin":"role-badge player",_=x=>x.includes("admin")?"Admin":"Player";return h?a.jsxs("div",{className:"users-management",children:[a.jsxs("div",{className:"users-header",children:[a.jsxs("div",{className:"header-content",children:[a.jsx("h1",{children:"Users Management"}),a.jsx("p",{className:"subtitle",children:"Manage user roles and permissions"})]}),a.jsxs("div",{className:"header-stats",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx("span",{className:"stat-value",children:t.length}),a.jsx("span",{className:"stat-label",children:"Total Users"})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx("span",{className:"stat-value",children:t.filter(x=>x.roles.includes("admin")).length}),a.jsx("span",{className:"stat-label",children:"Admins"})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx("span",{className:"stat-value",children:t.filter(x=>x.roles.includes("player")).length}),a.jsx("span",{className:"stat-label",children:"Players"})]})]})]}),a.jsxs("div",{className:"users-controls",children:[a.jsxs("div",{className:"search-box",children:[a.jsxs("svg",{className:"search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[a.jsx("circle",{cx:"11",cy:"11",r:"8"}),a.jsx("path",{d:"m21 21-4.35-4.35"})]}),a.jsx("input",{type:"text",placeholder:"Search by name, email, or department...",value:o,onChange:x=>l(x.target.value),className:"search-input"})]}),a.jsxs("button",{onClick:f,className:"refresh-btn",disabled:n,children:[a.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:a.jsx("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"})}),"Refresh"]})]}),s&&a.jsxs("div",{className:"error-banner",children:[a.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),s]}),n?a.jsxs("div",{className:"loading-container",children:[a.jsx("div",{className:"spinner"}),a.jsx("p",{children:"Loading users..."})]}):a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"users-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"}),a.jsx("th",{children:"Phone"}),a.jsx("th",{children:"Department"}),a.jsx("th",{children:"Gender"}),a.jsx("th",{children:"Current Role"}),a.jsx("th",{children:"Change Role"})]})}),a.jsx("tbody",{children:g.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"no-data",children:o?"No users found matching your search.":"No users available."})}):g.map(x=>{var b;return a.jsxs("tr",{children:[a.jsx("td",{className:"user-name",children:a.jsxs("div",{className:"name-cell",children:[a.jsx("div",{className:"avatar",children:((b=x.name)==null?void 0:b.charAt(0).toUpperCase())||"U"}),a.jsx("span",{children:x.name||"N/A"})]})}),a.jsx("td",{children:x.email||"N/A"}),a.jsx("td",{children:x.phone||"N/A"}),a.jsx("td",{children:x.department||"N/A"}),a.jsx("td",{className:"gender-cell",children:x.gender?a.jsx("span",{className:"gender-badge",children:x.gender}):"N/A"}),a.jsx("td",{children:a.jsx("span",{className:E(x.roles),children:_(x.roles)})}),a.jsx("td",{children:a.jsxs("div",{className:"role-selector",children:[a.jsxs("select",{value:x.roles.includes("admin")?"admin":"player",onChange:y=>m(x.id,y.target.value),disabled:c===x.id,className:"role-select",children:[a.jsx("option",{value:"player",children:"Player"}),a.jsx("option",{value:"admin",children:"Admin"})]}),c===x.id&&a.jsx("div",{className:"updating-indicator",children:a.jsx("div",{className:"mini-spinner"})})]})})]},x.id)})})]})})]}):a.jsx("div",{className:"users-management",children:a.jsxs("div",{className:"error-message",children:[a.jsx("h2",{children:"Access Denied"}),a.jsx("p",{children:"You don't have permission to access this page."})]})})},yq=()=>{const{loading:t,isAdmin:e}=Cr();return p.useEffect(()=>{const n=document.body,r=n.style.paddingTop;return n.style.paddingTop="0",()=>{n.style.paddingTop=r}},[]),t?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading..."})}):e?a.jsx(L_,{children:a.jsxs("div",{className:"min-h-screen flex w-full bg-muted/30",children:[a.jsx(FH,{}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(UH,{}),a.jsx("main",{className:"flex-1 p-6",children:a.jsxs(Aw,{children:[a.jsx(It,{path:"/",element:a.jsx(lq,{})}),a.jsx(It,{path:"/registrations",element:a.jsx(hq,{})}),a.jsx(It,{path:"/participants",element:a.jsx(mq,{})}),a.jsx(It,{path:"/tournaments",element:a.jsx(aq,{})}),a.jsx(It,{path:"/games",element:a.jsx($H,{})}),a.jsx(It,{path:"/teams",element:a.jsx(tq,{})}),a.jsx(It,{path:"/matches",element:a.jsx(oq,{})}),a.jsx(It,{path:"/leaderboard",element:a.jsx(pq,{})}),a.jsx(It,{path:"/users",element:a.jsx(gq,{})})]})})]})]})}):a.jsx(wv,{to:"/",replace:!0})},vq=[{title:"Dashboard",url:"/dashboard",icon:H4},{title:"Register for Games",url:"/dashboard/register",icon:hw},{title:"My Games",url:"/dashboard/my-games",icon:G4},{title:"Notifications",url:"/dashboard/notifications",icon:Ru},{title:"My Tournaments",url:"/dashboard/tournaments",icon:Cn},{title:"My Matches",url:"/dashboard/matches",icon:mw},{title:"Schedule",url:"/dashboard/schedule",icon:No},{title:"Profile",url:"/dashboard/profile",icon:hI}];function xq(){const t=Fs();return a.jsx(V_,{collapsible:"icon",children:a.jsx(U_,{children:a.jsxs($_,{children:[a.jsx(B_,{children:"Player Panel"}),a.jsx(z_,{children:a.jsx(W_,{children:vq.map(e=>a.jsx(H_,{children:a.jsx(q_,{asChild:!0,isActive:t.pathname===e.url,tooltip:e.title,children:a.jsxs(gt,{to:e.url,children:[a.jsx(e.icon,{className:"h-4 w-4"}),a.jsx("span",{children:e.title})]})})},e.title))})})]})})})}function wq(){const{signOut:t,user:e}=Cr(),[n,r]=p.useState(""),[s,i]=p.useState(0);return p.useEffect(()=>{(async()=>{if(e!=null&&e.uid)try{const l=await ja(yt($e,"profiles",e.uid));if(l.exists()){const c=l.data();r(c.name||e.displayName||e.email||"")}else r(e.displayName||e.email||"")}catch(l){console.error("Error fetching profile:",l),r(e.displayName||e.email||"")}})()},[e]),p.useEffect(()=>{const o=async()=>{if(e!=null&&e.uid)try{const u=(await Zj(e.uid)).filter(h=>!h.is_read).length;i(u)}catch(c){console.error("Error loading notifications:",c)}};o();const l=setInterval(o,3e4);return()=>clearInterval(l)},[e]),a.jsxs("header",{className:"sticky top-0 z-50 h-16 border-b bg-card flex items-center justify-between px-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(F_,{}),a.jsxs(gt,{to:"/dashboard",className:"flex items-center gap-2",children:[a.jsx(hI,{className:"h-6 w-6 text-primary"}),a.jsx("span",{className:"text-lg font-bold",children:"Player Dashboard"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(gt,{to:"/dashboard/notifications",children:a.jsxs(be,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(Ru,{className:"h-5 w-5"}),s>0&&a.jsx(Wn,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:s>9?"9+":s})]})}),a.jsx("span",{className:"text-sm text-muted-foreground",children:n}),a.jsxs(be,{variant:"outline",size:"sm",onClick:t,children:[a.jsx(Wf,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}var Kd=t=>t.type==="checkbox",ha=t=>t instanceof Date,Bn=t=>t==null;const Jj=t=>typeof t=="object";var Zt=t=>!Bn(t)&&!Array.isArray(t)&&Jj(t)&&!ha(t),e2=t=>Zt(t)&&t.target?Kd(t.target)?t.target.checked:t.target.value:t,_q=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,t2=(t,e)=>t.has(_q(e)),bq=t=>{const e=t.constructor&&t.constructor.prototype;return Zt(e)&&e.hasOwnProperty("isPrototypeOf")},Y_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function an(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Y_&&(t instanceof Blob||r))&&(n||Zt(t)))if(e=n?[]:{},!n&&!bq(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=an(t[s]));else return t;return e}var Kp=t=>/^\w*$/.test(t),Qt=t=>t===void 0,X_=t=>Array.isArray(t)?t.filter(Boolean):[],Z_=t=>X_(t.replace(/["|']|\]/g,"").split(/\.|\[/)),oe=(t,e,n)=>{if(!e||!Zt(t))return n;const r=(Kp(e)?[e]:Z_(e)).reduce((s,i)=>Bn(s)?s:s[i],t);return Qt(r)||r===t?Qt(t[e])?n:t[e]:r},mr=t=>typeof t=="boolean",ft=(t,e,n)=>{let r=-1;const s=Kp(e)?[e]:Z_(e),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==o){const u=t[l];c=Zt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Tm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ts={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},n2=H.createContext(null);n2.displayName="HookFormContext";const J_=()=>H.useContext(n2);var r2=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==ts.all&&(e._proxyFormState[o]=!r||ts.all),n&&(n[o]=!0),t[o]}});return s};const e0=typeof window<"u"?H.useLayoutEffect:H.useEffect;function Eq(t){const e=J_(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,l]=H.useState(n._formState),c=H.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return e0(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),H.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),H.useMemo(()=>r2(o,n,c.current,!1),[o,n])}var Ss=t=>typeof t=="string",s2=(t,e,n,r,s)=>Ss(t)?(r&&e.watch.add(t),oe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),oe(n,i))):(r&&(e.watchAll=!0),n),sx=t=>Bn(t)||!Jj(t);function Zs(t,e,n=new WeakSet){if(sx(t)||sx(e))return t===e;if(ha(t)&&ha(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(ha(o)&&ha(l)||Zt(o)&&Zt(l)||Array.isArray(o)&&Array.isArray(l)?!Zs(o,l,n):o!==l)return!1}}return!0}function Tq(t){const e=J_(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o,compute:l}=t||{},c=H.useRef(s),u=H.useRef(l),h=H.useRef(void 0);u.current=l;const f=H.useMemo(()=>n._getWatch(r,c.current),[n,r]),[m,g]=H.useState(u.current?u.current(f):f);return e0(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:E=>{if(!i){const _=s2(r,n._names,E.values||n._formValues,!1,c.current);if(u.current){const x=u.current(_);Zs(x,h.current)||(g(x),h.current=x)}else g(_)}}}),[n,i,r,o]),H.useEffect(()=>n._removeUnmounted()),m}function Sq(t){const e=J_(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:o}=t,l=t2(s._names.array,n),c=H.useMemo(()=>oe(s._formValues,n,oe(s._defaultValues,n,o)),[s,n,o]),u=Tq({control:s,name:n,defaultValue:c,exact:!0}),h=Eq({control:s,name:n,exact:!0}),f=H.useRef(t),m=H.useRef(s.register(n,{...t.rules,value:u,...mr(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const g=H.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!oe(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!oe(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!oe(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!oe(h.validatingFields,n)},error:{enumerable:!0,get:()=>oe(h.errors,n)}}),[h,n]),E=H.useCallback(y=>m.current.onChange({target:{value:e2(y),name:n},type:Tm.CHANGE}),[n]),_=H.useCallback(()=>m.current.onBlur({target:{value:oe(s._formValues,n),name:n},type:Tm.BLUR}),[n,s._formValues]),x=H.useCallback(y=>{const v=oe(s._fields,n);v&&y&&(v._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:C=>y.setCustomValidity(C),reportValidity:()=>y.reportValidity()})},[s._fields,n]),b=H.useMemo(()=>({name:n,value:u,...mr(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:E,onBlur:_,ref:x}),[n,r,h.disabled,E,_,x,u]);return H.useEffect(()=>{const y=s._options.shouldUnregister||i;s.register(n,{...f.current.rules,...mr(f.current.disabled)?{disabled:f.current.disabled}:{}});const v=(C,A)=>{const P=oe(s._fields,C);P&&P._f&&(P._f.mount=A)};if(v(n,!0),y){const C=an(oe(s._options.defaultValues,n));ft(s._defaultValues,n,C),Qt(oe(s._formValues,n))&&ft(s._formValues,n,C)}return!l&&s.register(n),()=>{(l?y&&!s._state.action:y)?s.unregister(n):v(n,!1)}},[n,s,l,i]),H.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),H.useMemo(()=>({field:b,formState:h,fieldState:g}),[b,h,g])}const Cq=t=>t.render(Sq(t));var i2=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Uu=t=>Array.isArray(t)?t:[t],NT=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Jn=t=>Zt(t)&&!Object.keys(t).length,t0=t=>t.type==="file",ns=t=>typeof t=="function",Sm=t=>{if(!Y_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},o2=t=>t.type==="select-multiple",n0=t=>t.type==="radio",Nq=t=>n0(t)||Kd(t),uy=t=>Sm(t)&&t.isConnected;function Iq(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Qt(t)?r++:t[e[r++]];return t}function kq(t){for(const e in t)if(t.hasOwnProperty(e)&&!Qt(t[e]))return!1;return!0}function en(t,e){const n=Array.isArray(e)?e:Kp(e)?[e]:Z_(e),r=n.length===1?t:Iq(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Zt(r)&&Jn(r)||Array.isArray(r)&&kq(r))&&en(t,n.slice(0,-1)),t}var a2=t=>{for(const e in t)if(ns(t[e]))return!0;return!1};function Cm(t,e={}){const n=Array.isArray(t);if(Zt(t)||n)for(const r in t)Array.isArray(t[r])||Zt(t[r])&&!a2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Cm(t[r],e[r])):Bn(t[r])||(e[r]=!0);return e}function l2(t,e,n){const r=Array.isArray(t);if(Zt(t)||r)for(const s in t)Array.isArray(t[s])||Zt(t[s])&&!a2(t[s])?Qt(e)||sx(n[s])?n[s]=Array.isArray(t[s])?Cm(t[s],[]):{...Cm(t[s])}:l2(t[s],Bn(e)?{}:e[s],n[s]):n[s]=!Zs(t[s],e[s]);return n}var iu=(t,e)=>l2(t,e,Cm(e));const IT={value:!1,isValid:!1},kT={value:!0,isValid:!0};var c2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Qt(t[0].attributes.value)?Qt(t[0].value)||t[0].value===""?kT:{value:t[0].value,isValid:!0}:kT:IT}return IT},u2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Qt(t)?t:e?t===""?NaN:t&&+t:n&&Ss(t)?new Date(t):r?r(t):t;const PT={isValid:!1,value:null};var d2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,PT):PT;function AT(t){const e=t.ref;return t0(e)?e.files:n0(e)?d2(t.refs).value:o2(e)?[...e.selectedOptions].map(({value:n})=>n):Kd(e)?c2(t.refs).value:u2(Qt(e.value)?t.ref.value:e.value,t)}var Pq=(t,e,n,r)=>{const s={};for(const i of t){const o=oe(e,i);o&&ft(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Nm=t=>t instanceof RegExp,ou=t=>Qt(t)?t:Nm(t)?t.source:Zt(t)?Nm(t.value)?t.value.source:t.value:t,RT=t=>({isOnSubmit:!t||t===ts.onSubmit,isOnBlur:t===ts.onBlur,isOnChange:t===ts.onChange,isOnAll:t===ts.all,isOnTouch:t===ts.onTouched});const jT="AsyncFunction";var Aq=t=>!!t&&!!t.validate&&!!(ns(t.validate)&&t.validate.constructor.name===jT||Zt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===jT)),Rq=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),DT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const $u=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=oe(t,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if($u(l,e))break}else if(Zt(l)&&$u(l,e))break}}};function OT(t,e,n){const r=oe(t,n);if(r||Kp(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=oe(e,i),l=oe(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var jq=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Jn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||ts.all))},Dq=(t,e,n)=>!t||!e||t===e||Uu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Oq=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Mq=(t,e)=>!X_(oe(t,e)).length&&en(t,e),Lq=(t,e,n)=>{const r=Uu(oe(t,n));return ft(r,"root",e[n]),ft(t,n,r),t},xf=t=>Ss(t);function MT(t,e,n="validate"){if(xf(t)||Array.isArray(t)&&t.every(xf)||mr(t)&&!t)return{type:n,message:xf(t)?t:"",ref:e}}var nl=t=>Zt(t)&&!Nm(t)?t:{value:t,message:""},LT=async(t,e,n,r,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:h,min:f,max:m,pattern:g,validate:E,name:_,valueAsNumber:x,mount:b}=t._f,y=oe(n,_);if(!b||e.has(_))return{};const v=l?l[0]:o,C=O=>{s&&v.reportValidity&&(v.setCustomValidity(mr(O)?"":O||""),v.reportValidity())},A={},P=n0(o),N=Kd(o),S=P||N,I=(x||t0(o))&&Qt(o.value)&&Qt(y)||Sm(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,k=i2.bind(null,_,r,A),R=(O,j,B,ee=qs.maxLength,Z=qs.minLength)=>{const se=O?j:B;A[_]={type:O?ee:Z,message:se,ref:o,...k(O?ee:Z,se)}};if(i?!Array.isArray(y)||!y.length:c&&(!S&&(I||Bn(y))||mr(y)&&!y||N&&!c2(l).isValid||P&&!d2(l).isValid)){const{value:O,message:j}=xf(c)?{value:!!c,message:c}:nl(c);if(O&&(A[_]={type:qs.required,message:j,ref:v,...k(qs.required,j)},!r))return C(j),A}if(!I&&(!Bn(f)||!Bn(m))){let O,j;const B=nl(m),ee=nl(f);if(!Bn(y)&&!isNaN(y)){const Z=o.valueAsNumber||y&&+y;Bn(B.value)||(O=Z>B.value),Bn(ee.value)||(j=Z<ee.value)}else{const Z=o.valueAsDate||new Date(y),se=ne=>new Date(new Date().toDateString()+" "+ne),U=o.type=="time",$=o.type=="week";Ss(B.value)&&y&&(O=U?se(y)>se(B.value):$?y>B.value:Z>new Date(B.value)),Ss(ee.value)&&y&&(j=U?se(y)<se(ee.value):$?y<ee.value:Z<new Date(ee.value))}if((O||j)&&(R(!!O,B.message,ee.message,qs.max,qs.min),!r))return C(A[_].message),A}if((u||h)&&!I&&(Ss(y)||i&&Array.isArray(y))){const O=nl(u),j=nl(h),B=!Bn(O.value)&&y.length>+O.value,ee=!Bn(j.value)&&y.length<+j.value;if((B||ee)&&(R(B,O.message,j.message),!r))return C(A[_].message),A}if(g&&!I&&Ss(y)){const{value:O,message:j}=nl(g);if(Nm(O)&&!y.match(O)&&(A[_]={type:qs.pattern,message:j,ref:o,...k(qs.pattern,j)},!r))return C(j),A}if(E){if(ns(E)){const O=await E(y,n),j=MT(O,v);if(j&&(A[_]={...j,...k(qs.validate,j.message)},!r))return C(j.message),A}else if(Zt(E)){let O={};for(const j in E){if(!Jn(O)&&!r)break;const B=MT(await E[j](y,n),v,j);B&&(O={...B,...k(j,B.message)},C(B.message),r&&(A[_]=O))}if(!Jn(O)&&(A[_]={ref:v,...O},!r))return A}}return C(!0),A};const Vq={mode:ts.onSubmit,reValidateMode:ts.onChange,shouldFocusError:!0};function Fq(t={}){let e={...Vq,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ns(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Zt(e.defaultValues)||Zt(e.values)?an(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:an(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const m={array:NT(),state:NT()},g=e.criteriaMode===ts.all,E=L=>V=>{clearTimeout(u),u=setTimeout(L,V)},_=async L=>{if(!e.disabled&&(h.isValid||f.isValid||L)){const V=e.resolver?Jn((await N()).errors):await I(r,!0);V!==n.isValid&&m.state.next({isValid:V})}},x=(L,V)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((L||Array.from(l.mount)).forEach(M=>{M&&(V?ft(n.validatingFields,M,V):en(n.validatingFields,M))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Jn(n.validatingFields)}))},b=(L,V=[],M,W,G=!0,X=!0)=>{if(W&&M&&!e.disabled){if(o.action=!0,X&&Array.isArray(oe(r,L))){const Y=M(oe(r,L),W.argA,W.argB);G&&ft(r,L,Y)}if(X&&Array.isArray(oe(n.errors,L))){const Y=M(oe(n.errors,L),W.argA,W.argB);G&&ft(n.errors,L,Y),Mq(n.errors,L)}if((h.touchedFields||f.touchedFields)&&X&&Array.isArray(oe(n.touchedFields,L))){const Y=M(oe(n.touchedFields,L),W.argA,W.argB);G&&ft(n.touchedFields,L,Y)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=iu(s,i)),m.state.next({name:L,isDirty:R(L,V),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ft(i,L,V)},y=(L,V)=>{ft(n.errors,L,V),m.state.next({errors:n.errors})},v=L=>{n.errors=L,m.state.next({errors:n.errors,isValid:!1})},C=(L,V,M,W)=>{const G=oe(r,L);if(G){const X=oe(i,L,Qt(M)?oe(s,L):M);Qt(X)||W&&W.defaultChecked||V?ft(i,L,V?X:AT(G._f)):B(L,X),o.mount&&_()}},A=(L,V,M,W,G)=>{let X=!1,Y=!1;const pe={name:L};if(!e.disabled){if(!M||W){(h.isDirty||f.isDirty)&&(Y=n.isDirty,n.isDirty=pe.isDirty=R(),X=Y!==pe.isDirty);const He=Zs(oe(s,L),V);Y=!!oe(n.dirtyFields,L),He?en(n.dirtyFields,L):ft(n.dirtyFields,L,!0),pe.dirtyFields=n.dirtyFields,X=X||(h.dirtyFields||f.dirtyFields)&&Y!==!He}if(M){const He=oe(n.touchedFields,L);He||(ft(n.touchedFields,L,M),pe.touchedFields=n.touchedFields,X=X||(h.touchedFields||f.touchedFields)&&He!==M)}X&&G&&m.state.next(pe)}return X?pe:{}},P=(L,V,M,W)=>{const G=oe(n.errors,L),X=(h.isValid||f.isValid)&&mr(V)&&n.isValid!==V;if(e.delayError&&M?(c=E(()=>y(L,M)),c(e.delayError)):(clearTimeout(u),c=null,M?ft(n.errors,L,M):en(n.errors,L)),(M?!Zs(G,M):G)||!Jn(W)||X){const Y={...W,...X&&mr(V)?{isValid:V}:{},errors:n.errors,name:L};n={...n,...Y},m.state.next(Y)}},N=async L=>{x(L,!0);const V=await e.resolver(i,e.context,Pq(L||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(L),V},S=async L=>{const{errors:V}=await N(L);if(L)for(const M of L){const W=oe(V,M);W?ft(n.errors,M,W):en(n.errors,M)}else n.errors=V;return V},I=async(L,V,M={valid:!0})=>{for(const W in L){const G=L[W];if(G){const{_f:X,...Y}=G;if(X){const pe=l.array.has(X.name),He=G._f&&Aq(G._f);He&&h.validatingFields&&x([W],!0);const Jt=await LT(G,l.disabled,i,g,e.shouldUseNativeValidation&&!V,pe);if(He&&h.validatingFields&&x([W]),Jt[X.name]&&(M.valid=!1,V))break;!V&&(oe(Jt,X.name)?pe?Lq(n.errors,Jt,X.name):ft(n.errors,X.name,Jt[X.name]):en(n.errors,X.name))}!Jn(Y)&&await I(Y,V,M)}}return M.valid},k=()=>{for(const L of l.unMount){const V=oe(r,L);V&&(V._f.refs?V._f.refs.every(M=>!uy(M)):!uy(V._f.ref))&&re(L)}l.unMount=new Set},R=(L,V)=>!e.disabled&&(L&&V&&ft(i,L,V),!Zs(ne(),s)),O=(L,V,M)=>s2(L,l,{...o.mount?i:Qt(V)?s:Ss(L)?{[L]:V}:V},M,V),j=L=>X_(oe(o.mount?i:s,L,e.shouldUnregister?oe(s,L,[]):[])),B=(L,V,M={})=>{const W=oe(r,L);let G=V;if(W){const X=W._f;X&&(!X.disabled&&ft(i,L,u2(V,X)),G=Sm(X.ref)&&Bn(V)?"":V,o2(X.ref)?[...X.ref.options].forEach(Y=>Y.selected=G.includes(Y.value)):X.refs?Kd(X.ref)?X.refs.forEach(Y=>{(!Y.defaultChecked||!Y.disabled)&&(Array.isArray(G)?Y.checked=!!G.find(pe=>pe===Y.value):Y.checked=G===Y.value||!!G)}):X.refs.forEach(Y=>Y.checked=Y.value===G):t0(X.ref)?X.ref.value="":(X.ref.value=G,X.ref.type||m.state.next({name:L,values:an(i)})))}(M.shouldDirty||M.shouldTouch)&&A(L,G,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&$(L)},ee=(L,V,M)=>{for(const W in V){if(!V.hasOwnProperty(W))return;const G=V[W],X=L+"."+W,Y=oe(r,X);(l.array.has(L)||Zt(G)||Y&&!Y._f)&&!ha(G)?ee(X,G,M):B(X,G,M)}},Z=(L,V,M={})=>{const W=oe(r,L),G=l.array.has(L),X=an(V);ft(i,L,X),G?(m.array.next({name:L,values:an(i)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&M.shouldDirty&&m.state.next({name:L,dirtyFields:iu(s,i),isDirty:R(L,X)})):W&&!W._f&&!Bn(X)?ee(L,X,M):B(L,X,M),DT(L,l)&&m.state.next({...n,name:L}),m.state.next({name:o.mount?L:void 0,values:an(i)})},se=async L=>{o.mount=!0;const V=L.target;let M=V.name,W=!0;const G=oe(r,M),X=He=>{W=Number.isNaN(He)||ha(He)&&isNaN(He.getTime())||Zs(He,oe(i,M,He))},Y=RT(e.mode),pe=RT(e.reValidateMode);if(G){let He,Jt;const Qn=V.type?AT(G._f):e2(L),Yn=L.type===Tm.BLUR||L.type===Tm.FOCUS_OUT,Nr=!Rq(G._f)&&!e.resolver&&!oe(n.errors,M)&&!G._f.deps||Oq(Yn,oe(n.touchedFields,M),n.isSubmitted,pe,Y),dn=DT(M,l,Yn);ft(i,M,Qn),Yn?(G._f.onBlur&&G._f.onBlur(L),c&&c(0)):G._f.onChange&&G._f.onChange(L);const gn=A(M,Qn,Yn),fs=!Jn(gn)||dn;if(!Yn&&m.state.next({name:M,type:L.type,values:an(i)}),Nr)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?Yn&&_():Yn||_()),fs&&m.state.next({name:M,...dn?{}:gn});if(!Yn&&dn&&m.state.next({...n}),e.resolver){const{errors:Br}=await N([M]);if(X(Qn),W){const Lc=OT(n.errors,r,M),Ai=OT(Br,r,Lc.name||M);He=Ai.error,M=Ai.name,Jt=Jn(Br)}}else x([M],!0),He=(await LT(G,l.disabled,i,g,e.shouldUseNativeValidation))[M],x([M]),X(Qn),W&&(He?Jt=!1:(h.isValid||f.isValid)&&(Jt=await I(r,!0)));W&&(G._f.deps&&$(G._f.deps),P(M,Jt,He,gn))}},U=(L,V)=>{if(oe(n.errors,V)&&L.focus)return L.focus(),1},$=async(L,V={})=>{let M,W;const G=Uu(L);if(e.resolver){const X=await S(Qt(L)?L:G);M=Jn(X),W=L?!G.some(Y=>oe(X,Y)):M}else L?(W=(await Promise.all(G.map(async X=>{const Y=oe(r,X);return await I(Y&&Y._f?{[X]:Y}:Y)}))).every(Boolean),!(!W&&!n.isValid)&&_()):W=M=await I(r);return m.state.next({...!Ss(L)||(h.isValid||f.isValid)&&M!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:M}:{},errors:n.errors}),V.shouldFocus&&!W&&$u(r,U,L?G:l.mount),W},ne=L=>{const V={...o.mount?i:s};return Qt(L)?V:Ss(L)?oe(V,L):L.map(M=>oe(V,M))},he=(L,V)=>({invalid:!!oe((V||n).errors,L),isDirty:!!oe((V||n).dirtyFields,L),error:oe((V||n).errors,L),isValidating:!!oe(n.validatingFields,L),isTouched:!!oe((V||n).touchedFields,L)}),ae=L=>{L&&Uu(L).forEach(V=>en(n.errors,V)),m.state.next({errors:L?n.errors:{}})},ue=(L,V,M)=>{const W=(oe(r,L,{_f:{}})._f||{}).ref,G=oe(n.errors,L)||{},{ref:X,message:Y,type:pe,...He}=G;ft(n.errors,L,{...He,...V,ref:W}),m.state.next({name:L,errors:n.errors,isValid:!1}),M&&M.shouldFocus&&W&&W.focus&&W.focus()},we=(L,V)=>ns(L)?m.state.subscribe({next:M=>"values"in M&&L(O(void 0,V),M)}):O(L,V,!0),Ce=L=>m.state.subscribe({next:V=>{Dq(L.name,V.name,L.exact)&&jq(V,L.formState||h,ht,L.reRenderRoot)&&L.callback({values:{...i},...n,...V,defaultValues:s})}}).unsubscribe,ut=L=>(o.mount=!0,f={...f,...L.formState},Ce({...L,formState:f})),re=(L,V={})=>{for(const M of L?Uu(L):l.mount)l.mount.delete(M),l.array.delete(M),V.keepValue||(en(r,M),en(i,M)),!V.keepError&&en(n.errors,M),!V.keepDirty&&en(n.dirtyFields,M),!V.keepTouched&&en(n.touchedFields,M),!V.keepIsValidating&&en(n.validatingFields,M),!e.shouldUnregister&&!V.keepDefaultValue&&en(s,M);m.state.next({values:an(i)}),m.state.next({...n,...V.keepDirty?{isDirty:R()}:{}}),!V.keepIsValid&&_()},Be=({disabled:L,name:V})=>{(mr(L)&&o.mount||L||l.disabled.has(V))&&(L?l.disabled.add(V):l.disabled.delete(V))},ot=(L,V={})=>{let M=oe(r,L);const W=mr(V.disabled)||mr(e.disabled);return ft(r,L,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:L}},name:L,mount:!0,...V}}),l.mount.add(L),M?Be({disabled:mr(V.disabled)?V.disabled:e.disabled,name:L}):C(L,!0,V.value),{...W?{disabled:V.disabled||e.disabled}:{},...e.progressive?{required:!!V.required,min:ou(V.min),max:ou(V.max),minLength:ou(V.minLength),maxLength:ou(V.maxLength),pattern:ou(V.pattern)}:{},name:L,onChange:se,onBlur:se,ref:G=>{if(G){ot(L,V),M=oe(r,L);const X=Qt(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,Y=Nq(X),pe=M._f.refs||[];if(Y?pe.find(He=>He===X):X===M._f.ref)return;ft(r,L,{_f:{...M._f,...Y?{refs:[...pe.filter(uy),X,...Array.isArray(oe(s,L))?[{}]:[]],ref:{type:X.type,name:L}}:{ref:X}}}),C(L,!1,void 0,X)}else M=oe(r,L,{}),M._f&&(M._f.mount=!1),(e.shouldUnregister||V.shouldUnregister)&&!(t2(l.array,L)&&o.action)&&l.unMount.add(L)}}},Pe=()=>e.shouldFocusError&&$u(r,U,l.mount),Ae=L=>{mr(L)&&(m.state.next({disabled:L}),$u(r,(V,M)=>{const W=oe(r,M);W&&(V.disabled=W._f.disabled||L,Array.isArray(W._f.refs)&&W._f.refs.forEach(G=>{G.disabled=W._f.disabled||L}))},0,!1))},Re=(L,V)=>async M=>{let W;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let G=an(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:Y}=await N();n.errors=X,G=an(Y)}else await I(r);if(l.disabled.size)for(const X of l.disabled)en(G,X);if(en(n.errors,"root"),Jn(n.errors)){m.state.next({errors:{}});try{await L(G,M)}catch(X){W=X}}else V&&await V({...n.errors},M),Pe(),setTimeout(Pe);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Jn(n.errors)&&!W,submitCount:n.submitCount+1,errors:n.errors}),W)throw W},bt=(L,V={})=>{oe(r,L)&&(Qt(V.defaultValue)?Z(L,an(oe(s,L))):(Z(L,V.defaultValue),ft(s,L,an(V.defaultValue))),V.keepTouched||en(n.touchedFields,L),V.keepDirty||(en(n.dirtyFields,L),n.isDirty=V.defaultValue?R(L,an(oe(s,L))):R()),V.keepError||(en(n.errors,L),h.isValid&&_()),m.state.next({...n}))},me=(L,V={})=>{const M=L?an(L):s,W=an(M),G=Jn(L),X=G?s:W;if(V.keepDefaultValues||(s=M),!V.keepValues){if(V.keepDirtyValues){const Y=new Set([...l.mount,...Object.keys(iu(s,i))]);for(const pe of Array.from(Y))oe(n.dirtyFields,pe)?ft(X,pe,oe(i,pe)):Z(pe,oe(X,pe))}else{if(Y_&&Qt(L))for(const Y of l.mount){const pe=oe(r,Y);if(pe&&pe._f){const He=Array.isArray(pe._f.refs)?pe._f.refs[0]:pe._f.ref;if(Sm(He)){const Jt=He.closest("form");if(Jt){Jt.reset();break}}}}if(V.keepFieldsRef)for(const Y of l.mount)Z(Y,oe(X,Y));else r={}}i=e.shouldUnregister?V.keepDefaultValues?an(s):{}:an(X),m.array.next({values:{...X}}),m.state.next({values:{...X}})}l={mount:V.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!V.keepIsValid||!!V.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:V.keepSubmitCount?n.submitCount:0,isDirty:G?!1:V.keepDirty?n.isDirty:!!(V.keepDefaultValues&&!Zs(L,s)),isSubmitted:V.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:G?{}:V.keepDirtyValues?V.keepDefaultValues&&i?iu(s,i):n.dirtyFields:V.keepDefaultValues&&L?iu(s,L):V.keepDirty?n.dirtyFields:{},touchedFields:V.keepTouched?n.touchedFields:{},errors:V.keepErrors?n.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},xe=(L,V)=>me(ns(L)?L(i):L,V),nt=(L,V={})=>{const M=oe(r,L),W=M&&M._f;if(W){const G=W.refs?W.refs[0]:W.ref;G.focus&&(G.focus(),V.shouldSelect&&ns(G.select)&&G.select())}},ht=L=>{n={...n,...L}},ze={control:{register:ot,unregister:re,getFieldState:he,handleSubmit:Re,setError:ue,_subscribe:Ce,_runSchema:N,_focusError:Pe,_getWatch:O,_getDirty:R,_setValid:_,_setFieldArray:b,_setDisabledField:Be,_setErrors:v,_getFieldArray:j,_reset:me,_resetDefaultValues:()=>ns(e.defaultValues)&&e.defaultValues().then(L=>{xe(L,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:Ae,_subjects:m,_proxyFormState:h,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return l},set _names(L){l=L},get _formState(){return n},get _options(){return e},set _options(L){e={...e,...L}}},subscribe:ut,trigger:$,register:ot,handleSubmit:Re,watch:we,setValue:Z,getValues:ne,reset:xe,resetField:bt,clearErrors:ae,unregister:re,setError:ue,setFocus:nt,getFieldState:he};return{...ze,formControl:ze}}function VT(t={}){const e=H.useRef(void 0),n=H.useRef(void 0),[r,s]=H.useState({isDirty:!1,isValidating:!1,isLoading:ns(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ns(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!ns(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=Fq(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,e0(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),H.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),H.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),H.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),H.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),H.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),H.useEffect(()=>{t.values&&!Zs(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),H.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=r2(r,i),e.current}const FT=(t,e,n)=>{if(t&&"reportValidity"in t){const r=oe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},h2=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?FT(r.ref,n,t):r.refs&&r.refs.forEach(s=>FT(s,n,t))}},Uq=(t,e)=>{e.shouldUseNativeValidation&&h2(t,e);const n={};for(const r in t){const s=oe(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if($q(e.names||Object.keys(t),r)){const o=Object.assign({},oe(n,r));ft(o,"root",i),ft(n,r,o)}else ft(n,r,i)}return n},$q=(t,e)=>t.some(n=>n.startsWith(e+"."));var Bq=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=i2(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},UT=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&h2({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Uq(Bq(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},ct;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ct||(ct={}));var $T;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})($T||($T={}));const ye=ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wi=t=>{switch(typeof t){case"undefined":return ye.undefined;case"string":return ye.string;case"number":return Number.isNaN(t)?ye.nan:ye.number;case"boolean":return ye.boolean;case"function":return ye.function;case"bigint":return ye.bigint;case"symbol":return ye.symbol;case"object":return Array.isArray(t)?ye.array:t===null?ye.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ye.promise:typeof Map<"u"&&t instanceof Map?ye.map:typeof Set<"u"&&t instanceof Set?ye.set:typeof Date<"u"&&t instanceof Date?ye.date:ye.object;default:return ye.unknown}},te=ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ei extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(e){if(!(e instanceof Ei))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ei.create=t=>new Ei(t);const ix=(t,e)=>{let n;switch(t.code){case te.invalid_type:t.received===ye.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case te.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ct.jsonStringifyReplacer)}`;break;case te.unrecognized_keys:n=`Unrecognized key(s) in object: ${ct.joinValues(t.keys,", ")}`;break;case te.invalid_union:n="Invalid input";break;case te.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ct.joinValues(t.options)}`;break;case te.invalid_enum_value:n=`Invalid enum value. Expected ${ct.joinValues(t.options)}, received '${t.received}'`;break;case te.invalid_arguments:n="Invalid function arguments";break;case te.invalid_return_type:n="Invalid function return type";break;case te.invalid_date:n="Invalid date";break;case te.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ct.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case te.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case te.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case te.custom:n="Invalid input";break;case te.invalid_intersection_types:n="Intersection results could not be merged";break;case te.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case te.not_finite:n="Number must be finite";break;default:n=e.defaultError,ct.assertNever(t)}return{message:n}};let zq=ix;function Wq(){return zq}const Hq=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function de(t,e){const n=Wq(),r=Hq({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===ix?void 0:ix].filter(s=>!!s)});t.common.issues.push(r)}class br{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return De;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return br.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return De;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const De=Object.freeze({status:"aborted"}),_u=t=>({status:"dirty",value:t}),$r=t=>({status:"valid",value:t}),BT=t=>t.status==="aborted",zT=t=>t.status==="dirty",hc=t=>t.status==="valid",Im=t=>typeof Promise<"u"&&t instanceof Promise;var ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ve||(ve={}));class Lo{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const WT=(t,e)=>{if(hc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ei(t.common.issues);return this._error=n,this._error}}};function Ge(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class it{get description(){return this._def.description}_getType(e){return Wi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Wi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new br,ctx:{common:e.parent.common,data:e.data,parsedType:Wi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Im(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wi(e)},s=this._parseSync({data:e,path:r.path,parent:r});return WT(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wi(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return hc(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>hc(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Wi(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Im(s)?s:Promise.resolve(s));return WT(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),l=()=>i.addIssue({code:te.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new mc({schema:this,typeName:Oe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Eo.create(this,this._def)}nullable(){return pc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ds.create(this)}promise(){return Rm.create(this,this._def)}or(e){return Pm.create([this,e],this._def)}and(e){return Am.create(this,e,this._def)}transform(e){return new mc({...Ge(this._def),schema:this,typeName:Oe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ax({...Ge(this._def),innerType:this,defaultValue:n,typeName:Oe.ZodDefault})}brand(){return new mG({typeName:Oe.ZodBranded,type:this,...Ge(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new lx({...Ge(this._def),innerType:this,catchValue:n,typeName:Oe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return r0.create(this,e)}readonly(){return cx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qq=/^c[^\s-]{8,}$/i,Gq=/^[0-9a-z]+$/,Kq=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Qq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Yq=/^[a-z0-9_-]{21}$/i,Xq=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Zq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Jq=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eG="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let dy;const tG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nG=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,rG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,sG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iG=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,f2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",aG=new RegExp(`^${f2}$`);function m2(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function lG(t){return new RegExp(`^${m2(t)}$`)}function cG(t){let e=`${f2}T${m2(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function uG(t,e){return!!((e==="v4"||!e)&&tG.test(t)||(e==="v6"||!e)&&rG.test(t))}function dG(t,e){if(!Xq.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function hG(t,e){return!!((e==="v4"||!e)&&nG.test(t)||(e==="v6"||!e)&&sG.test(t))}class io extends it{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ye.string){const i=this._getOrReturnCtx(e);return de(i,{code:te.invalid_type,expected:ye.string,received:i.parsedType}),De}const r=new br;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?de(s,{code:te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&de(s,{code:te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Jq.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"email",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")dy||(dy=new RegExp(eG,"u")),dy.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"emoji",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Qq.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"uuid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Yq.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"nanoid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")qq.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"cuid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Gq.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"cuid2",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Kq.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"ulid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),de(s,{validation:"url",code:te.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"regex",code:te.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),de(s,{code:te.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),de(s,{code:te.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),de(s,{code:te.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?cG(i).test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{code:te.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?aG.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{code:te.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?lG(i).test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{code:te.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Zq.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"duration",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?uG(e.data,i.version)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"ip",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?dG(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"jwt",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?hG(e.data,i.version)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"cidr",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?iG.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"base64",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?oG.test(e.data)||(s=this._getOrReturnCtx(e,s),de(s,{validation:"base64url",code:te.invalid_string,message:i.message}),r.dirty()):ct.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:te.invalid_string,...ve.errToObj(r)})}_addCheck(e){return new io({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ve.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ve.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ve.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ve.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ve.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ve.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ve.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ve.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ve.errToObj(n)})}nonempty(e){return this.min(1,ve.errToObj(e))}trim(){return new io({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new io({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new io({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}io.create=t=>new io({checks:[],typeName:Oe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ge(t)});function fG(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class wd extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ye.number){const i=this._getOrReturnCtx(e);return de(i,{code:te.invalid_type,expected:ye.number,received:i.parsedType}),De}let r;const s=new br;for(const i of this._def.checks)i.kind==="int"?ct.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:te.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:te.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:te.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?fG(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),de(r,{code:te.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),de(r,{code:te.not_finite,message:i.message}),s.dirty()):ct.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,r,s){return new wd({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ve.toString(s)}]})}_addCheck(e){return new wd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ct.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}wd.create=t=>new wd({checks:[],typeName:Oe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ge(t)});class _d extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ye.bigint)return this._getInvalidInput(e);let r;const s=new br;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:te.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),de(r,{code:te.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),de(r,{code:te.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ct.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return de(n,{code:te.invalid_type,expected:ye.bigint,received:n.parsedType}),De}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,r,s){return new _d({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ve.toString(s)}]})}_addCheck(e){return new _d({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}_d.create=t=>new _d({checks:[],typeName:Oe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ge(t)});class HT extends it{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ye.boolean){const r=this._getOrReturnCtx(e);return de(r,{code:te.invalid_type,expected:ye.boolean,received:r.parsedType}),De}return $r(e.data)}}HT.create=t=>new HT({typeName:Oe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ge(t)});class km extends it{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ye.date){const i=this._getOrReturnCtx(e);return de(i,{code:te.invalid_type,expected:ye.date,received:i.parsedType}),De}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return de(i,{code:te.invalid_date}),De}const r=new br;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:te.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),de(s,{code:te.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ct.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new km({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ve.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ve.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}km.create=t=>new km({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Oe.ZodDate,...Ge(t)});class qT extends it{_parse(e){if(this._getType(e)!==ye.symbol){const r=this._getOrReturnCtx(e);return de(r,{code:te.invalid_type,expected:ye.symbol,received:r.parsedType}),De}return $r(e.data)}}qT.create=t=>new qT({typeName:Oe.ZodSymbol,...Ge(t)});class GT extends it{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return de(r,{code:te.invalid_type,expected:ye.undefined,received:r.parsedType}),De}return $r(e.data)}}GT.create=t=>new GT({typeName:Oe.ZodUndefined,...Ge(t)});class KT extends it{_parse(e){if(this._getType(e)!==ye.null){const r=this._getOrReturnCtx(e);return de(r,{code:te.invalid_type,expected:ye.null,received:r.parsedType}),De}return $r(e.data)}}KT.create=t=>new KT({typeName:Oe.ZodNull,...Ge(t)});class QT extends it{constructor(){super(...arguments),this._any=!0}_parse(e){return $r(e.data)}}QT.create=t=>new QT({typeName:Oe.ZodAny,...Ge(t)});class YT extends it{constructor(){super(...arguments),this._unknown=!0}_parse(e){return $r(e.data)}}YT.create=t=>new YT({typeName:Oe.ZodUnknown,...Ge(t)});class Vo extends it{_parse(e){const n=this._getOrReturnCtx(e);return de(n,{code:te.invalid_type,expected:ye.never,received:n.parsedType}),De}}Vo.create=t=>new Vo({typeName:Oe.ZodNever,...Ge(t)});class XT extends it{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return de(r,{code:te.invalid_type,expected:ye.void,received:r.parsedType}),De}return $r(e.data)}}XT.create=t=>new XT({typeName:Oe.ZodVoid,...Ge(t)});class Ds extends it{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ye.array)return de(n,{code:te.invalid_type,expected:ye.array,received:n.parsedType}),De;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(de(n,{code:o?te.too_big:te.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(de(n,{code:te.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(de(n,{code:te.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new Lo(n,o,n.path,l)))).then(o=>br.mergeArray(r,o));const i=[...n.data].map((o,l)=>s.type._parseSync(new Lo(n,o,n.path,l)));return br.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Ds({...this._def,minLength:{value:e,message:ve.toString(n)}})}max(e,n){return new Ds({...this._def,maxLength:{value:e,message:ve.toString(n)}})}length(e,n){return new Ds({...this._def,exactLength:{value:e,message:ve.toString(n)}})}nonempty(e){return this.min(1,e)}}Ds.create=(t,e)=>new Ds({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Oe.ZodArray,...Ge(e)});function ll(t){if(t instanceof qt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Eo.create(ll(r))}return new qt({...t._def,shape:()=>e})}else return t instanceof Ds?new Ds({...t._def,type:ll(t.element)}):t instanceof Eo?Eo.create(ll(t.unwrap())):t instanceof pc?pc.create(ll(t.unwrap())):t instanceof La?La.create(t.items.map(e=>ll(e))):t}class qt extends it{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ct.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ye.object){const u=this._getOrReturnCtx(e);return de(u,{code:te.invalid_type,expected:ye.object,received:u.parsedType}),De}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Vo&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const h=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new Lo(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Vo){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(u==="strict")l.length>0&&(de(s,{code:te.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const f=s.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new Lo(s,f,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const f=await h.key,m=await h.value;u.push({key:f,value:m,alwaysSet:h.alwaysSet})}return u}).then(u=>br.mergeObjectSync(r,u)):br.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return ve.errToObj,new qt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ve.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new qt({...this._def,unknownKeys:"strip"})}passthrough(){return new qt({...this._def,unknownKeys:"passthrough"})}extend(e){return new qt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new qt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Oe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new qt({...this._def,catchall:e})}pick(e){const n={};for(const r of ct.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new qt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ct.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new qt({...this._def,shape:()=>n})}deepPartial(){return ll(this)}partial(e){const n={};for(const r of ct.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new qt({...this._def,shape:()=>n})}required(e){const n={};for(const r of ct.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Eo;)i=i._def.innerType;n[r]=i}return new qt({...this._def,shape:()=>n})}keyof(){return p2(ct.objectKeys(this.shape))}}qt.create=(t,e)=>new qt({shape:()=>t,unknownKeys:"strip",catchall:Vo.create(),typeName:Oe.ZodObject,...Ge(e)});qt.strictCreate=(t,e)=>new qt({shape:()=>t,unknownKeys:"strict",catchall:Vo.create(),typeName:Oe.ZodObject,...Ge(e)});qt.lazycreate=(t,e)=>new qt({shape:t,unknownKeys:"strip",catchall:Vo.create(),typeName:Oe.ZodObject,...Ge(e)});class Pm extends it{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Ei(l.ctx.common.issues));return de(n,{code:te.invalid_union,unionErrors:o}),De}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Ei(c));return de(n,{code:te.invalid_union,unionErrors:l}),De}}get options(){return this._def.options}}Pm.create=(t,e)=>new Pm({options:t,typeName:Oe.ZodUnion,...Ge(e)});function ox(t,e){const n=Wi(t),r=Wi(e);if(t===e)return{valid:!0,data:t};if(n===ye.object&&r===ye.object){const s=ct.objectKeys(e),i=ct.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=ox(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===ye.array&&r===ye.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=ox(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===ye.date&&r===ye.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Am extends it{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(BT(i)||BT(o))return De;const l=ox(i.value,o.value);return l.valid?((zT(i)||zT(o))&&n.dirty(),{status:n.value,value:l.data}):(de(r,{code:te.invalid_intersection_types}),De)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Am.create=(t,e,n)=>new Am({left:t,right:e,typeName:Oe.ZodIntersection,...Ge(n)});class La extends it{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.array)return de(r,{code:te.invalid_type,expected:ye.array,received:r.parsedType}),De;if(r.data.length<this._def.items.length)return de(r,{code:te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),De;!this._def.rest&&r.data.length>this._def.items.length&&(de(r,{code:te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Lo(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>br.mergeArray(n,o)):br.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new La({...this._def,rest:e})}}La.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new La({items:t,typeName:Oe.ZodTuple,rest:null,...Ge(e)})};class ZT extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.map)return de(r,{code:te.invalid_type,expected:ye.map,received:r.parsedType}),De;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new Lo(r,l,r.path,[u,"key"])),value:i._parse(new Lo(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return De;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return De;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}}}}ZT.create=(t,e,n)=>new ZT({valueType:e,keyType:t,typeName:Oe.ZodMap,...Ge(n)});class bd extends it{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.set)return de(r,{code:te.invalid_type,expected:ye.set,received:r.parsedType}),De;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(de(r,{code:te.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(de(r,{code:te.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const h of c){if(h.status==="aborted")return De;h.status==="dirty"&&n.dirty(),u.add(h.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new Lo(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new bd({...this._def,minSize:{value:e,message:ve.toString(n)}})}max(e,n){return new bd({...this._def,maxSize:{value:e,message:ve.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}bd.create=(t,e)=>new bd({valueType:t,minSize:null,maxSize:null,typeName:Oe.ZodSet,...Ge(e)});class JT extends it{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}JT.create=(t,e)=>new JT({getter:t,typeName:Oe.ZodLazy,...Ge(e)});class eS extends it{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return de(n,{received:n.data,code:te.invalid_literal,expected:this._def.value}),De}return{status:"valid",value:e.data}}get value(){return this._def.value}}eS.create=(t,e)=>new eS({value:t,typeName:Oe.ZodLiteral,...Ge(e)});function p2(t,e){return new fc({values:t,typeName:Oe.ZodEnum,...Ge(e)})}class fc extends it{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return de(n,{expected:ct.joinValues(r),received:n.parsedType,code:te.invalid_type}),De}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return de(n,{received:n.data,code:te.invalid_enum_value,options:r}),De}return $r(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return fc.create(e,{...this._def,...n})}exclude(e,n=this._def){return fc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}fc.create=p2;class tS extends it{_parse(e){const n=ct.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ye.string&&r.parsedType!==ye.number){const s=ct.objectValues(n);return de(r,{expected:ct.joinValues(s),received:r.parsedType,code:te.invalid_type}),De}if(this._cache||(this._cache=new Set(ct.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ct.objectValues(n);return de(r,{received:r.data,code:te.invalid_enum_value,options:s}),De}return $r(e.data)}get enum(){return this._def.values}}tS.create=(t,e)=>new tS({values:t,typeName:Oe.ZodNativeEnum,...Ge(e)});class Rm extends it{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.promise&&n.common.async===!1)return de(n,{code:te.invalid_type,expected:ye.promise,received:n.parsedType}),De;const r=n.parsedType===ye.promise?n.data:Promise.resolve(n.data);return $r(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Rm.create=(t,e)=>new Rm({type:t,typeName:Oe.ZodPromise,...Ge(e)});class mc extends it{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{de(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return De;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?De:c.status==="dirty"||n.value==="dirty"?_u(c.value):c});{if(n.value==="aborted")return De;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?De:l.status==="dirty"||n.value==="dirty"?_u(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?De:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?De:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!hc(o))return De;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>hc(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:n.value,value:l})):De);ct.assertNever(s)}}mc.create=(t,e,n)=>new mc({schema:t,typeName:Oe.ZodEffects,effect:e,...Ge(n)});mc.createWithPreprocess=(t,e,n)=>new mc({schema:e,effect:{type:"preprocess",transform:t},typeName:Oe.ZodEffects,...Ge(n)});class Eo extends it{_parse(e){return this._getType(e)===ye.undefined?$r(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Eo.create=(t,e)=>new Eo({innerType:t,typeName:Oe.ZodOptional,...Ge(e)});class pc extends it{_parse(e){return this._getType(e)===ye.null?$r(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pc.create=(t,e)=>new pc({innerType:t,typeName:Oe.ZodNullable,...Ge(e)});class ax extends it{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ax.create=(t,e)=>new ax({innerType:t,typeName:Oe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ge(e)});class lx extends it{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Im(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ei(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ei(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}lx.create=(t,e)=>new lx({innerType:t,typeName:Oe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ge(e)});class nS extends it{_parse(e){if(this._getType(e)!==ye.nan){const r=this._getOrReturnCtx(e);return de(r,{code:te.invalid_type,expected:ye.nan,received:r.parsedType}),De}return{status:"valid",value:e.data}}}nS.create=t=>new nS({typeName:Oe.ZodNaN,...Ge(t)});class mG extends it{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class r0 extends it{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?De:i.status==="dirty"?(n.dirty(),_u(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?De:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new r0({in:e,out:n,typeName:Oe.ZodPipeline})}}class cx extends it{_parse(e){const n=this._def.innerType._parse(e),r=s=>(hc(s)&&(s.value=Object.freeze(s.value)),s);return Im(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}cx.create=(t,e)=>new cx({innerType:t,typeName:Oe.ZodReadonly,...Ge(e)});qt.lazycreate;var Oe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Oe||(Oe={}));const Ll=io.create;Vo.create;Ds.create;const g2=qt.create;qt.strictCreate;Pm.create;Am.create;La.create;const pG=fc.create;Rm.create;Eo.create;pc.create;const gG=g2({name:Ll().min(1,"Name is required"),phone:Ll().min(10,"Phone number must be at least 10 digits"),gender:pG(["male","female","other"],{required_error:"Please select a gender"}),department:Ll().min(1,"Department is required")}),yG=g2({currentPassword:Ll().min(1,"Current password is required"),newPassword:Ll().min(6,"New password must be at least 6 characters"),confirmPassword:Ll().min(6,"Please confirm your new password")}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),vG=()=>{const{user:t}=Cr(),{toast:e}=Sr(),[n,r]=p.useState(!0),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),h=VT({resolver:UT(gG)}),f=VT({resolver:UT(yG)});p.useEffect(()=>{if(t){m();const _=t.providerData.some(x=>x.providerId==="password");u(_)}},[t]);const m=async()=>{try{const _=await ja(yt($e,"profiles",t.uid));if(_.exists()){const x=_.data();h.reset({name:x.name||"",phone:x.phone||"",gender:x.gender||"",department:x.department||""})}}catch(_){console.error("Error fetching profile:",_),e({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{r(!1)}},g=async _=>{if(t){i(!0);try{await Pi(yt($e,"profiles",t.uid),{..._,updated_at:Qe()}),e({title:"Success",description:"Profile updated successfully"})}catch(x){console.error("Error updating profile:",x),e({title:"Error",description:"Failed to update profile",variant:"destructive"})}finally{i(!1)}}},E=async _=>{if(!(!t||!t.email)){l(!0);try{const x=Ba.credential(t.email,_.currentPassword);await m9(t,x),await x9(t,_.newPassword),e({title:"Success",description:"Password changed successfully"}),f.reset()}catch(x){console.error("Error changing password:",x);let b="Failed to change password";x.code==="auth/wrong-password"?b="Current password is incorrect":x.code==="auth/weak-password"&&(b="New password is too weak"),e({title:"Error",description:b,variant:"destructive"})}finally{l(!1)}}};return n?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(lr,{className:"h-8 w-8 animate-spin"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Profile Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(Ne,{children:[a.jsxs(Je,{children:[a.jsx(et,{children:"Profile Information"}),a.jsx(Ur,{children:"Update your personal details"})]}),a.jsx(Ie,{children:a.jsxs("form",{onSubmit:h.handleSubmit(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"name",children:"Full Name"}),a.jsx(vt,{id:"name",...h.register("name"),placeholder:"Enter your full name"}),h.formState.errors.name&&a.jsx("p",{className:"text-sm text-red-500",children:h.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"phone",children:"Mobile Number"}),a.jsx(vt,{id:"phone",...h.register("phone"),placeholder:"Enter your mobile number"}),h.formState.errors.phone&&a.jsx("p",{className:"text-sm text-red-500",children:h.formState.errors.phone.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"gender",children:"Gender"}),a.jsx(Cq,{name:"gender",control:h.control,render:({field:_})=>a.jsxs(Vt,{value:_.value,onValueChange:_.onChange,children:[a.jsx(Dt,{children:a.jsx(Ft,{placeholder:"Select gender"})}),a.jsxs(Ot,{children:[a.jsx(qe,{value:"male",children:"Male"}),a.jsx(qe,{value:"female",children:"Female"}),a.jsx(qe,{value:"other",children:"Other"})]})]})}),h.formState.errors.gender&&a.jsx("p",{className:"text-sm text-red-500",children:h.formState.errors.gender.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"department",children:"Department"}),a.jsx(vt,{id:"department",...h.register("department"),placeholder:"Enter your department"}),h.formState.errors.department&&a.jsx("p",{className:"text-sm text-red-500",children:h.formState.errors.department.message})]}),a.jsxs(be,{type:"submit",disabled:s,children:[s&&a.jsx(lr,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Profile"]})]})})]}),a.jsxs(Ne,{children:[a.jsxs(Je,{children:[a.jsx(et,{children:"Change Password"}),a.jsx(Ur,{children:"Update your account password"})]}),a.jsx(Ie,{children:a.jsxs("form",{onSubmit:f.handleSubmit(E),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"currentPassword",children:"Current Password"}),a.jsx(vt,{id:"currentPassword",type:"password",...f.register("currentPassword"),placeholder:"Enter current password"}),f.formState.errors.currentPassword&&a.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.currentPassword.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"newPassword",children:"New Password"}),a.jsx(vt,{id:"newPassword",type:"password",...f.register("newPassword"),placeholder:"Enter new password"}),f.formState.errors.newPassword&&a.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.newPassword.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xe,{htmlFor:"confirmPassword",children:"Confirm New Password"}),a.jsx(vt,{id:"confirmPassword",type:"password",...f.register("confirmPassword"),placeholder:"Confirm new password"}),f.formState.errors.confirmPassword&&a.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.confirmPassword.message})]}),a.jsxs(be,{type:"submit",disabled:o,children:[o&&a.jsx(lr,{className:"mr-2 h-4 w-4 animate-spin"}),"Change Password"]})]})})]})]})]})},xG=$a("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Jr=p.forwardRef(({className:t,variant:e,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:ce(xG({variant:e}),t),...n}));Jr.displayName="Alert";const wG=p.forwardRef(({className:t,...e},n)=>a.jsx("h5",{ref:n,className:ce("mb-1 font-medium leading-none tracking-tight",t),...e}));wG.displayName="AlertTitle";const es=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:ce("text-sm [&_p]:leading-relaxed",t),...e}));es.displayName="AlertDescription";const _G=()=>{const{user:t}=Cr(),{toast:e}=Sr(),[n,r]=p.useState([]),[s,i]=p.useState(""),[o,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState(!1),[m,g]=p.useState(!1);p.useEffect(()=>{(async()=>{f(!0);try{const v=await hs();console.log("Fetched tournaments:",v);const C=v.filter(A=>A.is_active);console.log("Available tournaments:",C),r(C),C.length===0&&e({title:"No Tournaments",description:"No active tournaments found. Please ensure tournaments are created in admin panel."})}catch(v){console.error("Error loading tournaments:",v),e({title:"Error",description:"Failed to load tournaments",variant:"destructive"})}finally{f(!1)}})()},[e]),p.useEffect(()=>{if(!s||!t){l([]),u([]);return}(async()=>{g(!0);try{const[v,C]=await Promise.all([$s(s),ui({tournamentId:s})]);console.log("Fetched games for tournament:",s,v),l(v),console.log("User registrations:",C);const A=C.filter(P=>P.user_id===t.uid);console.log("User's registrations:",A),u(A),v.length===0&&e({title:"No Games",description:"No games found in this tournament. Please ensure games are created in admin panel."})}catch(v){console.error("Error loading games:",v),e({title:"Error",description:"Failed to load games",variant:"destructive"})}finally{g(!1)}})()},[s,t,e]);const E=y=>c.find(v=>v.game_id===y),_=async y=>{if(!(!t||!s))try{await JH({tournament_id:s,game_id:y,user_id:t.uid}),e({title:"Registration Submitted",description:"Your registration has been submitted for admin approval."});const C=(await ui({tournamentId:s})).filter(A=>A.user_id===t.uid);u(C)}catch(v){console.error("Error registering:",v),e({title:"Registration Failed",description:v.message||"Failed to submit registration",variant:"destructive"})}},x=y=>{switch(y){case"SINGLE":return"Single Player";case"PAIR":return"Pair (2 Players)";case"TEAM":return"Team";default:return y}},b=n.find(y=>y.id===s);return h?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(lr,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Register for Games"}),a.jsx("p",{className:"text-muted-foreground",children:"Browse available tournaments and register for games"})]}),a.jsxs(Ne,{children:[a.jsxs(Je,{children:[a.jsx(et,{children:"Select Tournament"}),a.jsx(Ur,{children:"Choose a tournament to view available games"})]}),a.jsx(Ie,{children:n.length===0?a.jsx(Jr,{children:a.jsx(es,{children:"No active tournaments available at the moment. Please check back later."})}):a.jsxs(Vt,{value:s,onValueChange:i,children:[a.jsx(Dt,{className:"w-full",children:a.jsx(Ft,{placeholder:"Select a tournament"})}),a.jsx(Ot,{children:n.map(y=>a.jsx(qe,{value:y.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cn,{className:"h-4 w-4"}),a.jsx("span",{children:y.name}),a.jsx(Wn,{variant:"outline",className:"ml-2",children:y.status})]})},y.id))})]})})]}),b&&a.jsxs(Ne,{className:"border-primary/20 bg-primary/5",children:[a.jsx(Je,{children:a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Cn,{className:"h-5 w-5"}),b.name]})}),a.jsxs(Ie,{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(No,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Start Date:"}),a.jsx("span",{className:"font-medium",children:b.start_date?new Date(b.start_date).toLocaleDateString():"TBA"})]}),b.end_date&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(No,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"End Date:"}),a.jsx("span",{className:"font-medium",children:new Date(b.end_date).toLocaleDateString()})]})]})]}),s&&a.jsxs(Ne,{children:[a.jsxs(Je,{children:[a.jsx(et,{children:"Available Games"}),a.jsxs(Ur,{children:[o.length," game",o.length!==1?"s":""," available for registration"]})]}),a.jsx(Ie,{children:m?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(lr,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):o.length===0?a.jsx(Jr,{children:a.jsx(es,{children:"No active games available in this tournament yet."})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:o.map(y=>{const v=E(y.id),C=!!v,A=(v==null?void 0:v.status)==="pending",P=(v==null?void 0:v.status)==="approved",N=(v==null?void 0:v.status)==="rejected";return a.jsxs(Ne,{className:"relative overflow-hidden",children:[a.jsx(Je,{children:a.jsxs(et,{className:"text-lg flex items-start justify-between",children:[a.jsx("span",{children:y.name}),P&&a.jsx(dw,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),A&&a.jsx(ep,{className:"h-5 w-5 text-yellow-500 flex-shrink-0"}),N&&a.jsx(uI,{className:"h-5 w-5 text-red-500 flex-shrink-0"})]})}),a.jsxs(Ie,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(pi,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Type:"}),a.jsx(Wn,{variant:"secondary",children:x(y.game_type)})]}),y.game_type!=="SINGLE"&&a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(pi,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Players per team:"}),a.jsx("span",{className:"font-medium",children:y.players_per_team})]})]}),C&&a.jsx("div",{className:"pt-2",children:a.jsxs(Wn,{variant:P?"default":A?"secondary":"destructive",className:"w-full justify-center py-2",children:[P&&" Approved",A&&" Pending Approval",N&&" Rejected"]})}),!C&&a.jsx(be,{className:"w-full",onClick:()=>_(y.id),children:"Register Now"}),N&&a.jsx(be,{className:"w-full",variant:"outline",onClick:()=>_(y.id),children:"Register Again"})]})]},y.id)})})})]}),!s&&n.length>0&&a.jsx(Jr,{children:a.jsx(es,{children:"Please select a tournament above to view available games."})})]})};var hy="rovingFocusGroup.onEntryFocus",bG={bubbles:!1,cancelable:!0},Qd="RovingFocusGroup",[ux,y2,EG]=aw(Qd),[TG,v2]=Si(Qd,[EG]),[SG,CG]=TG(Qd),x2=p.forwardRef((t,e)=>a.jsx(ux.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(ux.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(NG,{...t,ref:e})})}));x2.displayName=Qd;var NG=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=t,m=p.useRef(null),g=xt(e,m),E=D_(i),[_,x]=Co({prop:o,defaultProp:l??null,onChange:c,caller:Qd}),[b,y]=p.useState(!1),v=Lr(u),C=y2(n),A=p.useRef(!1),[P,N]=p.useState(0);return p.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(hy,v),()=>S.removeEventListener(hy,v)},[v]),a.jsx(SG,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:_,onItemFocus:p.useCallback(S=>x(S),[x]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(S=>S+1),[]),onFocusableItemRemove:p.useCallback(()=>N(S=>S-1),[]),children:a.jsx(Le.div,{tabIndex:b||P===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{A.current=!0}),onFocus:Ee(t.onFocus,S=>{const I=!A.current;if(S.target===S.currentTarget&&I&&!b){const k=new CustomEvent(hy,bG);if(S.currentTarget.dispatchEvent(k),!k.defaultPrevented){const R=C().filter(Z=>Z.focusable),O=R.find(Z=>Z.active),j=R.find(Z=>Z.id===_),ee=[O,j,...R].filter(Boolean).map(Z=>Z.ref.current);b2(ee,h)}}A.current=!1}),onBlur:Ee(t.onBlur,()=>y(!1))})})}),w2="RovingFocusGroupItem",_2=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=t,c=si(),u=i||c,h=CG(w2,n),f=h.currentTabStopId===u,m=y2(n),{onFocusableItemAdd:g,onFocusableItemRemove:E,currentTabStopId:_}=h;return p.useEffect(()=>{if(r)return g(),()=>E()},[r,g,E]),a.jsx(ux.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(Le.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Ee(t.onMouseDown,x=>{r?h.onItemFocus(u):x.preventDefault()}),onFocus:Ee(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:Ee(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=PG(x,h.orientation,h.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let v=m().filter(C=>C.focusable).map(C=>C.ref.current);if(b==="last")v.reverse();else if(b==="prev"||b==="next"){b==="prev"&&v.reverse();const C=v.indexOf(x.currentTarget);v=h.loop?AG(v,C+1):v.slice(C+1)}setTimeout(()=>b2(v))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:_!=null}):o})})});_2.displayName=w2;var IG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function PG(t,e,n){const r=kG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return IG[r]}function b2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function AG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var RG=x2,jG=_2,Qp="Tabs",[DG,pQ]=Si(Qp,[v2]),E2=v2(),[OG,s0]=DG(Qp),T2=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=D_(l),[f,m]=Co({prop:r,onChange:s,defaultProp:i??"",caller:Qp});return a.jsx(OG,{scope:n,baseId:si(),value:f,onValueChange:m,orientation:o,dir:h,activationMode:c,children:a.jsx(Le.div,{dir:h,"data-orientation":o,...u,ref:e})})});T2.displayName=Qp;var S2="TabsList",C2=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=s0(S2,n),o=E2(n);return a.jsx(RG,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(Le.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});C2.displayName=S2;var N2="TabsTrigger",I2=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=s0(N2,n),l=E2(n),c=A2(o.baseId,r),u=R2(o.baseId,r),h=r===o.value;return a.jsx(jG,{asChild:!0,...l,focusable:!s,active:h,children:a.jsx(Le.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:Ee(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ee(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ee(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});I2.displayName=N2;var k2="TabsContent",P2=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,l=s0(k2,n),c=A2(l.baseId,r),u=R2(l.baseId,r),h=r===l.value,f=p.useRef(h);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(Bo,{present:s||h,children:({present:m})=>a.jsx(Le.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});P2.displayName=k2;function A2(t,e){return`${t}-trigger-${e}`}function R2(t,e){return`${t}-content-${e}`}var MG=T2,j2=C2,D2=I2,O2=P2;const LG=MG,M2=p.forwardRef(({className:t,...e},n)=>a.jsx(j2,{ref:n,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));M2.displayName=j2.displayName;const cl=p.forwardRef(({className:t,...e},n)=>a.jsx(D2,{ref:n,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));cl.displayName=D2.displayName;const ul=p.forwardRef(({className:t,...e},n)=>a.jsx(O2,{ref:n,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ul.displayName=O2.displayName;const VG=()=>{const{user:t}=Cr(),{toast:e}=Sr(),[n,r]=p.useState([]),[s,i]=p.useState([]),[o,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState(!0);p.useEffect(()=>{(async()=>{if(t){g(!0);try{const[N,S,I,k,R]=await Promise.all([ui({}),$s(),hs(),Q_({userId:t.uid}),Mc()]),O=N.filter(j=>j.user_id===t.uid);r(O),l(S),u(I),i(k),f(R)}catch(N){console.error("Error loading data:",N),e({title:"Error",description:"Failed to load your games",variant:"destructive"})}finally{g(!1)}}})()},[t,e]);const E=P=>o.find(N=>N.id===P),_=P=>c.find(N=>N.id===P),x=P=>{var N;return((N=h.find(S=>S.id===P))==null?void 0:N.name)||"Unknown User"},b=P=>{switch(P){case"SINGLE":return"Single Player";case"PAIR":return"Pair (2 Players)";case"TEAM":return"Team";default:return P}},y=n.filter(P=>P.status==="pending"),v=n.filter(P=>P.status==="approved"),C=n.filter(P=>P.status==="rejected"),A=({registration:P})=>{const N=E(P.game_id),S=_(P.tournament_id);return!N||!S?null:a.jsxs(Ne,{children:[a.jsx(Je,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(et,{className:"text-lg",children:N.name}),a.jsxs(Ur,{className:"flex items-center gap-2",children:[a.jsx(Cn,{className:"h-4 w-4"}),S.name]})]}),a.jsx("div",{className:"flex flex-col items-end gap-2",children:a.jsxs(Wn,{variant:P.status==="approved"?"default":P.status==="pending"?"secondary":"destructive",children:[P.status==="approved"&&a.jsx(dw,{className:"h-3 w-3 mr-1"}),P.status==="pending"&&a.jsx(ep,{className:"h-3 w-3 mr-1"}),P.status==="rejected"&&a.jsx(uI,{className:"h-3 w-3 mr-1"}),P.status]})})]})}),a.jsxs(Ie,{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pi,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Type:"})]}),a.jsx(Wn,{variant:"outline",children:b(N.game_type)}),S.start_date&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(No,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Start:"})]}),a.jsx("span",{className:"font-medium",children:new Date(S.start_date).toLocaleDateString()})]})]}),P.notes&&a.jsx("div",{className:"pt-3 border-t",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("span",{className:"font-medium",children:"Note:"})," ",P.notes]})}),a.jsxs("div",{className:"pt-2 text-xs text-muted-foreground",children:["Registered on ",(()=>{if(!P.created_at)return"N/A";let I;return P.created_at.toDate?I=P.created_at.toDate():P.created_at.seconds?I=new Date(P.created_at.seconds*1e3):I=new Date(P.created_at),isNaN(I.getTime())?"Invalid Date":I.toLocaleDateString()})()]})]})]})};return m?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(lr,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Games"}),a.jsx("p",{className:"text-muted-foreground",children:"View and manage your game registrations"})]}),n.length===0&&s.length===0?a.jsx(Ne,{children:a.jsx(Ie,{className:"pt-6",children:a.jsx(Jr,{children:a.jsxs(es,{className:"text-center",children:["You haven't registered for any games or joined any teams yet. Visit the ",a.jsx("strong",{children:"Register for Games"})," page to get started!"]})})})}):a.jsxs(LG,{defaultValue:"all",className:"space-y-4",children:[a.jsxs(M2,{className:"grid w-full grid-cols-5 max-w-3xl",children:[a.jsxs(cl,{value:"all",children:["All (",n.length,")"]}),a.jsxs(cl,{value:"teams",children:["Teams (",s.length,")"]}),a.jsxs(cl,{value:"pending",children:["Pending (",y.length,")"]}),a.jsxs(cl,{value:"approved",children:["Approved (",v.length,")"]}),a.jsxs(cl,{value:"rejected",children:["Rejected (",C.length,")"]})]}),a.jsx(ul,{value:"all",className:"space-y-4",children:n.length===0?a.jsx(Jr,{children:a.jsx(es,{children:"No registrations found."})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(P=>a.jsx(A,{registration:P},P.id))})}),a.jsx(ul,{value:"teams",className:"space-y-4",children:s.length===0?a.jsx(Jr,{children:a.jsx(es,{children:"You are not part of any teams yet."})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map(P=>{const N=_(P.tournament_id),S=E(P.game_id),I=P.player_ids.filter(k=>k!==(t==null?void 0:t.uid)).map(k=>x(k));return a.jsxs(Ne,{children:[a.jsx(Je,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(et,{className:"text-lg",children:P.name}),a.jsxs(Ur,{className:"flex items-center gap-2",children:[a.jsx(Cn,{className:"h-4 w-4"}),N==null?void 0:N.name," - ",S==null?void 0:S.name]})]}),a.jsx(Wn,{variant:P.status==="confirmed"?"default":"secondary",children:P.status})]})}),a.jsxs(Ie,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground min-w-[60px]",children:[a.jsx(pi,{className:"h-4 w-4"}),a.jsx("span",{children:"Type:"})]}),a.jsx("span",{className:"font-medium",children:P.is_pair?"Pair":"Team"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(tL,{className:"h-4 w-4"}),a.jsx("span",{children:"Teammates:"})]}),I.length>0?a.jsx("div",{className:"flex flex-wrap gap-2 pl-6",children:I.map((k,R)=>a.jsx(Wn,{variant:"outline",className:"bg-muted/50",children:k},R))}):a.jsx("span",{className:"text-sm text-muted-foreground pl-6 italic",children:"No other members yet"})]})]})]},P.id)})})}),a.jsx(ul,{value:"pending",className:"space-y-4",children:y.length===0?a.jsx(Jr,{children:a.jsx(es,{children:"No pending registrations. All your registrations have been processed."})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:y.map(P=>a.jsx(A,{registration:P},P.id))})}),a.jsx(ul,{value:"approved",className:"space-y-4",children:v.length===0?a.jsx(Jr,{children:a.jsx(es,{children:"No approved registrations yet. Check back later!"})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:v.map(P=>a.jsx(A,{registration:P},P.id))})}),a.jsx(ul,{value:"rejected",className:"space-y-4",children:C.length===0?a.jsx(Jr,{children:a.jsx(es,{children:"No rejected registrations. Great!"})}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:C.map(P=>a.jsx(A,{registration:P},P.id))})})]})]})},FG=()=>{const{user:t}=Cr(),{toast:e}=Sr(),[n,r]=p.useState([]),[s,i]=p.useState(!0),o=async()=>{if(t){i(!0);try{const m=await Zj(t.uid);r(m)}catch(m){console.error("Error loading notifications:",m),e({title:"Error",description:"Failed to load notifications",variant:"destructive"})}finally{i(!1)}}};p.useEffect(()=>{o()},[t]);const l=async m=>{try{await CT(m),r(n.map(g=>g.id===m?{...g,is_read:!0}:g)),e({title:"Marked as read",description:"Notification marked as read"})}catch(g){e({title:"Error",description:g.message||"Failed to mark notification as read",variant:"destructive"})}},c=async()=>{try{const m=n.filter(g=>!g.is_read);await Promise.all(m.map(g=>CT(g.id))),r(n.map(g=>({...g,is_read:!0}))),e({title:"All marked as read",description:"All notifications marked as read"})}catch(m){e({title:"Error",description:m.message||"Failed to mark all notifications as read",variant:"destructive"})}},u=m=>{if(!m)return"";let g;if(m!=null&&m.toDate?g=m.toDate():m!=null&&m.seconds?g=new Date(m.seconds*1e3):g=new Date(m),isNaN(g.getTime()))return"Invalid Date";const E=new Date,_=E.getTime()-g.getTime(),x=Math.floor(_/6e4),b=Math.floor(_/36e5),y=Math.floor(_/864e5);return x<1?"Just now":x<60?`${x} minute${x!==1?"s":""} ago`:b<24?`${b} hour${b!==1?"s":""} ago`:y<7?`${y} day${y!==1?"s":""} ago`:g.toLocaleDateString("en-US",{month:"short",day:"numeric",year:g.getFullYear()!==E.getFullYear()?"numeric":void 0})},h=m=>{switch(m){case"registration":return a.jsx(dw,{className:"h-5 w-5 text-green-500"});case"match":return a.jsx(Ru,{className:"h-5 w-5 text-blue-500"});default:return a.jsx(Ru,{className:"h-5 w-5 text-muted-foreground"})}},f=n.filter(m=>!m.is_read).length;return s?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(lr,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Notifications"}),a.jsx("p",{className:"text-muted-foreground",children:f>0?`You have ${f} unread notification${f!==1?"s":""}`:"You're all caught up!"})]}),f>0&&a.jsx(be,{variant:"outline",onClick:c,children:"Mark All as Read"})]}),a.jsxs(Ne,{children:[a.jsxs(Je,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Ru,{className:"h-5 w-5"}),"All Notifications"]}),a.jsx(Ur,{children:"Your recent notifications and updates"})]}),a.jsx(Ie,{children:n.length===0?a.jsx(Jr,{children:a.jsx(es,{children:"No notifications yet. You'll receive notifications when your game registrations are approved or when matches are scheduled."})}):a.jsx("div",{className:"space-y-3",children:n.map(m=>a.jsx(Ne,{className:`${m.is_read?"opacity-60 hover:opacity-80":"border-primary/50 bg-primary/5"} transition-opacity`,children:a.jsx(Ie,{className:"pt-6",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:m.is_read?a.jsx(K4,{className:"h-5 w-5 text-muted-foreground"}):h(m.type)}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"space-y-1 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-semibold",children:m.title}),!m.is_read&&a.jsx(Wn,{variant:"default",className:"h-5 px-1.5 text-xs",children:"New"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:m.message})]}),!m.is_read&&a.jsx(be,{variant:"ghost",size:"sm",onClick:()=>l(m.id),children:"Mark as read"})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsx("span",{children:u(m.created_at)}),m.type&&a.jsx(Wn,{variant:"outline",className:"text-xs",children:m.type})]})]})]})})},m.id))})})]})]})};function on(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ls(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function L2(t,e){const n=on(t);if(isNaN(e))return Ls(t,NaN);if(!e)return n;const r=n.getDate(),s=Ls(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const V2=6048e5,UG=864e5;let $G={};function Yd(){return $G}function gc(t,e){var l,c,u,h;const n=Yd(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=on(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function jm(t){return gc(t,{weekStartsOn:1})}function F2(t){const e=on(t),n=e.getFullYear(),r=Ls(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=jm(r),i=Ls(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=jm(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Dm(t){const e=on(t);return e.setHours(0,0,0,0),e}function rS(t){const e=on(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function BG(t,e){const n=Dm(t),r=Dm(e),s=+n-rS(n),i=+r-rS(r);return Math.round((s-i)/UG)}function zG(t){const e=F2(t),n=Ls(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),jm(n)}function WG(t){return Ls(t,Date.now())}function dx(t,e){const n=Dm(t),r=Dm(e);return+n==+r}function HG(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function qG(t){if(!HG(t)&&typeof t!="number")return!1;const e=on(t);return!isNaN(Number(e))}function GG(t){const e=on(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function KG(t,e){const n=on(t.start),r=on(t.end);let s=+n>+r;const i=s?+n:+r,o=s?r:n;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(on(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return s?c.reverse():c}function QG(t){const e=on(t);return e.setDate(1),e.setHours(0,0,0,0),e}function YG(t){const e=on(t),n=Ls(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function XG(t,e){var l,c;const n=Yd(),r=n.weekStartsOn??((c=(l=n.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,s=on(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const ZG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JG=(t,e,n)=>{let r;const s=ZG[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function fy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const eK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rK={date:fy({formats:eK,defaultWidth:"full"}),time:fy({formats:tK,defaultWidth:"full"}),dateTime:fy({formats:nK,defaultWidth:"full"})},sK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iK=(t,e,n,r)=>sK[t];function au(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const oK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hK=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fK={ordinalNumber:hK,era:au({values:oK,defaultWidth:"wide"}),quarter:au({values:aK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:au({values:lK,defaultWidth:"wide"}),day:au({values:cK,defaultWidth:"wide"}),dayPeriod:au({values:uK,defaultWidth:"wide",formattingValues:dK,defaultFormattingWidth:"wide"})};function lu(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?pK(l,f=>f.test(o)):mK(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(o.length);return{value:u,rest:h}}}function mK(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function pK(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function gK(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const yK=/^(\d+)(th|st|nd|rd)?/i,vK=/\d+/i,xK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wK={any:[/^b/i,/^(a|c)/i]},_K={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bK={any:[/1/i,/2/i,/3/i,/4/i]},EK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},IK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kK={ordinalNumber:gK({matchPattern:yK,parsePattern:vK,valueCallback:t=>parseInt(t,10)}),era:lu({matchPatterns:xK,defaultMatchWidth:"wide",parsePatterns:wK,defaultParseWidth:"any"}),quarter:lu({matchPatterns:_K,defaultMatchWidth:"wide",parsePatterns:bK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:lu({matchPatterns:EK,defaultMatchWidth:"wide",parsePatterns:TK,defaultParseWidth:"any"}),day:lu({matchPatterns:SK,defaultMatchWidth:"wide",parsePatterns:CK,defaultParseWidth:"any"}),dayPeriod:lu({matchPatterns:NK,defaultMatchWidth:"any",parsePatterns:IK,defaultParseWidth:"any"})},PK={code:"en-US",formatDistance:JG,formatLong:rK,formatRelative:iK,localize:fK,match:kK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AK(t){const e=on(t);return BG(e,YG(e))+1}function RK(t){const e=on(t),n=+jm(e)-+zG(e);return Math.round(n/V2)+1}function U2(t,e){var h,f,m,g;const n=on(t),r=n.getFullYear(),s=Yd(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=Ls(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=gc(o,e),c=Ls(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=gc(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function jK(t,e){var l,c,u,h;const n=Yd(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=U2(t,e),i=Ls(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),gc(i,e)}function DK(t,e){const n=on(t),r=+gc(n,e)-+jK(n,e);return Math.round(r/V2)+1}function mt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Fi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return mt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):mt(n+1,2)},d(t,e){return mt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return mt(t.getHours()%12||12,e.length)},H(t,e){return mt(t.getHours(),e.length)},m(t,e){return mt(t.getMinutes(),e.length)},s(t,e){return mt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return mt(s,e.length)}},rl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sS={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Fi.y(t,e)},Y:function(t,e,n,r){const s=U2(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return mt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):mt(i,e.length)},R:function(t,e){const n=F2(t);return mt(n,e.length)},u:function(t,e){const n=t.getFullYear();return mt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return mt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return mt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Fi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return mt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=DK(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):mt(s,e.length)},I:function(t,e,n){const r=RK(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):mt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Fi.d(t,e)},D:function(t,e,n){const r=AK(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):mt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return mt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return mt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return mt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=rl.noon:r===0?s=rl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=rl.evening:r>=12?s=rl.afternoon:r>=4?s=rl.morning:s=rl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Fi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Fi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):mt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Fi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Fi.s(t,e)},S:function(t,e){return Fi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return oS(r);case"XXXX":case"XX":return oa(r);case"XXXXX":case"XXX":default:return oa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return oS(r);case"xxxx":case"xx":return oa(r);case"xxxxx":case"xxx":default:return oa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+iS(r,":");case"OOOO":default:return"GMT"+oa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+iS(r,":");case"zzzz":default:return"GMT"+oa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return mt(r,e.length)},T:function(t,e,n){const r=t.getTime();return mt(r,e.length)}};function iS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+mt(i,2)}function oS(t,e){return t%60===0?(t>0?"-":"+")+mt(Math.abs(t)/60,2):oa(t,e)}function oa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=mt(Math.trunc(r/60),2),i=mt(r%60,2);return n+s+e+i}const aS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},$2=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},OK=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return aS(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",aS(r,e)).replace("{{time}}",$2(s,e))},MK={p:$2,P:OK},LK=/^D+$/,VK=/^Y+$/,FK=["D","DD","YY","YYYY"];function UK(t){return LK.test(t)}function $K(t){return VK.test(t)}function BK(t,e,n){const r=zK(t,e,n);if(console.warn(r),FK.includes(t))throw new RangeError(r)}function zK(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const WK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qK=/^'([^]*?)'?$/,GK=/''/g,KK=/[a-zA-Z]/;function cu(t,e,n){var h,f,m,g;const r=Yd(),s=r.locale??PK,i=r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,l=on(t);if(!qG(l))throw new RangeError("Invalid time value");let c=e.match(HK).map(E=>{const _=E[0];if(_==="p"||_==="P"){const x=MK[_];return x(E,s.formatLong)}return E}).join("").match(WK).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const _=E[0];if(_==="'")return{isToken:!1,value:QK(E)};if(sS[_])return{isToken:!0,value:E};if(_.match(KK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:E}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(E=>{if(!E.isToken)return E.value;const _=E.value;($K(_)||UK(_))&&BK(_,e,String(t));const x=sS[_[0]];return x(l,_,s.localize,u)}).join("")}function QK(t){const e=t.match(qK);return e?e[1].replace(GK,"'"):t}function YK(t,e){const n=on(t),r=on(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function lS(t){return dx(t,WG(t))}function XK(t,e){return L2(t,-e)}const cS=()=>{const{user:t}=Cr(),e=Cc(),[n,r]=p.useState(new Date),[s,i]=p.useState(null),[o,l]=p.useState([]),[c,u]=p.useState(!0),[h,f]=p.useState(!1),[m,g]=p.useState([]);p.useEffect(()=>{(async()=>{if(t){u(!0);try{const I=await $s();g(I);const R=(await Q_({userId:t.uid})).map(ee=>ee.id),O=await Aj(t.uid),j=[t.uid,...R],B=await kj(j);l(B)}catch(I){console.error("Error loading schedule:",I)}finally{u(!1)}}})()},[t]);const E=S=>o.filter(I=>{var R;if(!I.match_time)return!1;const k=(R=I.match_time)!=null&&R.toDate?I.match_time.toDate():new Date(I.match_time);return dx(k,S)}),_=S=>{var I;return((I=m.find(k=>k.id===S))==null?void 0:I.name)||"Unknown Game"},x=()=>{e("/dashboard/my-games")},b=QG(n),y=GG(b),v=gc(b),C=XG(y),A=KG({start:v,end:C}),P=[];for(let S=0;S<A.length;S+=7)P.push(A.slice(S,S+7));const N=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"My Schedule"}),a.jsx("p",{className:"text-muted-foreground",children:"View and track your upcoming matches"})]})}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold",children:cu(n,"MMMM yyyy")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{variant:"outline",size:"icon",onClick:()=>r(XK(n,1)),children:a.jsx(V4,{className:"h-4 w-4"})}),a.jsx(be,{variant:"outline",size:"icon",onClick:()=>r(L2(n,1)),children:a.jsx(F4,{className:"h-4 w-4"})})]})]}),a.jsx(Ne,{children:a.jsxs(Ie,{className:"p-0",children:[a.jsx("div",{className:"grid grid-cols-7 border-b",children:N.map(S=>a.jsx("div",{className:"p-4 text-center font-medium text-sm text-muted-foreground border-r last:border-r-0",children:S},S))}),P.map((S,I)=>a.jsx("div",{className:"grid grid-cols-7 border-b last:border-b-0",children:S.map((k,R)=>{const O=E(k),j=s&&dx(k,s),B=YK(k,n);return a.jsxs("div",{className:`min-h-[120px] p-2 border-r last:border-r-0 transition-colors cursor-pointer hover:bg-muted/50
                                            ${B?"":"bg-muted/10 text-muted-foreground"}
                                            ${j?"bg-primary/5 ring-1 ring-inset ring-primary":""}
                                            ${lS(k)?"bg-accent/50":""}
                                        `,onClick:()=>{O.length>0&&(i(k),f(!0))},children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("span",{className:`text-sm font-medium h-7 w-7 flex items-center justify-center rounded-full
                                                ${lS(k)?"bg-primary text-primary-foreground":""}
                                            `,children:cu(k,"d")}),O.length>0&&a.jsx("span",{className:"text-xs font-bold text-primary bg-primary/10 px-1.5 py-0.5 rounded-full",children:O.length})]}),a.jsxs("div",{className:"space-y-1",children:[O.slice(0,3).map(ee=>{var se;const Z=(se=ee.match_time)!=null&&se.toDate?ee.match_time.toDate():new Date(ee.match_time);return a.jsxs("div",{className:"text-xs p-1 rounded bg-secondary truncate",children:[cu(Z,"HH:mm")," - ",_(ee.game_id)]},ee.id)}),O.length>3&&a.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["+ ",O.length-3," more"]})]})]},R)})},I))]})}),a.jsx(_o,{open:h,onOpenChange:f,children:a.jsxs(ai,{className:"max-w-md",children:[a.jsx(li,{children:a.jsxs(ci,{children:["Matches on ",s?cu(s,"MMMM d, yyyy"):""]})}),a.jsx("div",{className:"space-y-4 py-4",children:s&&E(s).map(S=>{var k;const I=(k=S.match_time)!=null&&k.toDate?S.match_time.toDate():new Date(S.match_time);return a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:x,children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cn,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-semibold",children:_(S.game_id)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(ep,{className:"h-3 w-3"}),a.jsx("span",{children:cu(I,"HH:mm")})]}),S.venue&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(dI,{className:"h-3 w-3"}),a.jsx("span",{children:S.venue})]})]}),a.jsx(be,{variant:"ghost",size:"sm",children:"View Details"})]},S.id)})})]})})]})},ZK=()=>{const{user:t,loading:e,isAdmin:n}=Cr(),[r,s]=p.useState(""),[i,o]=p.useState({activeTournaments:0,matchesPlayed:0,wins:0,upcomingMatches:0}),[l,c]=p.useState([]),[u,h]=p.useState([]);return p.useEffect(()=>{(async()=>{if(t)try{const m=await ja(yt($e,"profiles",t.uid));if(m.exists()){const R=m.data();s(R.name||t.displayName||t.email||"User")}else s(t.displayName||t.email||"User");const g=await ui({userId:t.uid,status:"approved"}),E=Array.from(new Set(g.map(R=>R.tournament_id))),_=E.map(R=>ja(yt($e,"tournaments",R))),b=(await Promise.all(_)).map(R=>R.exists()?{id:R.id,...R.data()}:null).filter(R=>R!==null&&(R.status==="active"||R.status==="draft"));c(b);const v=(await Aj(t.uid)).map(R=>R.id);let C=await kj(v);C.sort((R,O)=>{const j=new Date(R.updated_at||R.created_at||0).getTime();return new Date(O.updated_at||O.created_at||0).getTime()-j});const A=C.slice(0,5).map(R=>({title:`Match: ${R.round_name}`,description:`Status: ${R.status}`,date:new Date(R.match_time||R.created_at||"").toLocaleDateString()}));if(A.length===0&&g.length>0){const R=[...g].sort((O,j)=>{const B=new Date(O.created_at||0).getTime();return new Date(j.created_at||0).getTime()-B});A.push(...R.slice(0,5).map(O=>({title:"Joined Tournament",description:"Registration Approved",date:new Date(O.created_at||"").toLocaleDateString()})))}h(A);const P=C.filter(R=>R.status==="COMPLETED").length,N=C.filter(R=>R.status==="SCHEDULED").length,S=C.filter(R=>R.status==="COMPLETED").map(R=>R.id),k=(await aH(S)).filter(R=>v.includes(R.winner_participant_id)).length;o({activeTournaments:E.length,matchesPlayed:P,wins:k,upcomingMatches:N})}catch(m){console.error("Error fetching dashboard data:",m),s(t.displayName||t.email||"User")}})()},[t]),p.useEffect(()=>{const f=document.body,m=f.style.paddingTop;return f.style.paddingTop="0",()=>{f.style.paddingTop=m}},[]),e?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading..."})}):t?n?a.jsx(wv,{to:"/admin",replace:!0}):a.jsx(L_,{children:a.jsxs("div",{className:"min-h-screen flex w-full bg-muted/30",children:[a.jsx(xq,{}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(wq,{}),a.jsx("main",{className:"flex-1 p-6",children:a.jsxs(Aw,{children:[a.jsx(It,{index:!0,element:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Player Dashboard"}),a.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",r,"!"]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[a.jsxs(Ne,{children:[a.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(et,{className:"text-sm font-medium",children:"Tournaments Joined"}),a.jsx(Cn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.activeTournaments}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Active tournaments"})]})]}),a.jsxs(Ne,{children:[a.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(et,{className:"text-sm font-medium",children:"Matches Played"}),a.jsx(mw,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.matchesPlayed}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total matches"})]})]}),a.jsxs(Ne,{children:[a.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(et,{className:"text-sm font-medium",children:"Wins"}),a.jsx(Cn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.wins}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Victories achieved"})]})]}),a.jsxs(Ne,{children:[a.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(et,{className:"text-sm font-medium",children:"Upcoming Matches"}),a.jsx(No,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Ie,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.upcomingMatches}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled matches"})]})]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(Ne,{children:[a.jsxs(Je,{children:[a.jsx(et,{children:"Recent Activity"}),a.jsx(Ur,{children:"Your latest tournament activities"})]}),a.jsx(Ie,{children:u.length>0?a.jsx("div",{className:"space-y-4",children:u.map((f,m)=>a.jsxs("div",{className:"flex items-center justify-between border-b last:border-0 pb-2 last:pb-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:f.title}),a.jsx("p",{className:"text-xs text-muted-foreground",children:f.description})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:f.date})]},m))}):a.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No recent activity yet. Join a tournament to get started!"})})]}),a.jsxs(Ne,{children:[a.jsxs(Je,{children:[a.jsx(et,{children:"Current Tournaments"}),a.jsx(Ur,{children:"Tournaments you're participating in"})]}),a.jsx(Ie,{children:l.length>0?a.jsx("div",{className:"space-y-4",children:l.map(f=>a.jsxs("div",{className:"flex items-center justify-between border-b last:border-0 pb-2 last:pb-0",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:f.name}),a.jsx(Wn,{variant:f.status==="active"?"default":"secondary",className:"mt-1",children:f.status})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(f.start_date||"").toLocaleDateString()})})]},f.id))}):a.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No active tournaments. Browse available tournaments to join!"})})]})]})]})}),a.jsx(It,{path:"register",element:a.jsx(_G,{})}),a.jsx(It,{path:"my-games",element:a.jsx(VG,{})}),a.jsx(It,{path:"matches",element:a.jsx(cS,{})}),a.jsx(It,{path:"schedule",element:a.jsx(cS,{})}),a.jsx(It,{path:"notifications",element:a.jsx(FG,{})}),a.jsx(It,{path:"profile",element:a.jsx(vG,{})})]})})]})]})}):a.jsx(wv,{to:"/login",replace:!0})},JK=()=>{const t=Fs();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},eQ=new C6,tQ=()=>a.jsx(I6,{client:eQ,children:a.jsxs(sk,{children:[a.jsx(VL,{}),a.jsx(gV,{}),a.jsx(E5,{basename:"/SportsBracket/",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:a.jsx(K8,{children:a.jsxs(Aw,{children:[a.jsx(It,{path:"/",element:a.jsx(s7,{})}),a.jsx(It,{path:"/leaderboard",element:a.jsx(sH,{})}),a.jsx(It,{path:"/schedule",element:a.jsx(cH,{})}),a.jsx(It,{path:"/login",element:a.jsx(EW,{})}),a.jsx(It,{path:"/register",element:a.jsx(tH,{})}),a.jsx(It,{path:"/dashboard/*",element:a.jsx(ZK,{})}),a.jsx(It,{path:"/admin/*",element:a.jsx(yq,{})}),a.jsx(It,{path:"*",element:a.jsx(JK,{})})]})})})]})});RN(document.getElementById("root")).render(a.jsx(tQ,{}));
