var db=t=>{throw TypeError(t)};var wg=(t,e,n)=>e.has(t)||db("Cannot "+n);var te=(t,e,n)=>(wg(t,e,"read from private field"),n?n.call(t):e.get(t)),ht=(t,e,n)=>e.has(t)?db("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),We=(t,e,n,r)=>(wg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Vn=(t,e,n)=>(wg(t,e,"access private method"),n);var _h=(t,e,n,r)=>({set _(s){We(t,e,s,n)},get _(){return te(t,e,r)}});function HD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function VS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FS={exports:{}},zm={},US={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=Symbol.for("react.element"),qD=Symbol.for("react.portal"),GD=Symbol.for("react.fragment"),KD=Symbol.for("react.strict_mode"),QD=Symbol.for("react.profiler"),YD=Symbol.for("react.provider"),XD=Symbol.for("react.context"),ZD=Symbol.for("react.forward_ref"),JD=Symbol.for("react.suspense"),eO=Symbol.for("react.memo"),tO=Symbol.for("react.lazy"),hb=Symbol.iterator;function nO(t){return t===null||typeof t!="object"?null:(t=hb&&t[hb]||t["@@iterator"],typeof t=="function"?t:null)}var $S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BS=Object.assign,zS={};function Sc(t,e,n){this.props=t,this.context=e,this.refs=zS,this.updater=n||$S}Sc.prototype.isReactComponent={};Sc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WS(){}WS.prototype=Sc.prototype;function Sx(t,e,n){this.props=t,this.context=e,this.refs=zS,this.updater=n||$S}var Nx=Sx.prototype=new WS;Nx.constructor=Sx;BS(Nx,Sc.prototype);Nx.isPureReactComponent=!0;var fb=Array.isArray,HS=Object.prototype.hasOwnProperty,Cx={current:null},qS={key:!0,ref:!0,__self:!0,__source:!0};function GS(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)HS.call(e,r)&&!qS.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Od,type:t,key:i,ref:a,props:s,_owner:Cx.current}}function rO(t,e){return{$$typeof:Od,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ix(t){return typeof t=="object"&&t!==null&&t.$$typeof===Od}function sO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mb=/\/+/g;function _g(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sO(""+t.key):e.toString(36)}function ef(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Od:case qD:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+_g(a,0):r,fb(s)?(n="",t!=null&&(n=t.replace(mb,"$&/")+"/"),ef(s,e,n,"",function(u){return u})):s!=null&&(Ix(s)&&(s=rO(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(mb,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",fb(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+_g(i,l);a+=ef(i,e,n,c,s)}else if(c=nO(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+_g(i,l++),a+=ef(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function bh(t,e,n){if(t==null)return t;var r=[],s=0;return ef(t,r,"","",function(i){return e.call(n,i,s++)}),r}function iO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sr={current:null},tf={transition:null},aO={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:tf,ReactCurrentOwner:Cx};function KS(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:bh,forEach:function(t,e,n){bh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bh(t,function(){e++}),e},toArray:function(t){return bh(t,function(e){return e})||[]},only:function(t){if(!Ix(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Je.Component=Sc;Je.Fragment=GD;Je.Profiler=QD;Je.PureComponent=Sx;Je.StrictMode=KD;Je.Suspense=JD;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aO;Je.act=KS;Je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BS({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Cx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)HS.call(e,c)&&!qS.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Od,type:t.type,key:s,ref:i,props:r,_owner:a}};Je.createContext=function(t){return t={$$typeof:XD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YD,_context:t},t.Consumer=t};Je.createElement=GS;Je.createFactory=function(t){var e=GS.bind(null,t);return e.type=t,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(t){return{$$typeof:ZD,render:t}};Je.isValidElement=Ix;Je.lazy=function(t){return{$$typeof:tO,_payload:{_status:-1,_result:t},_init:iO}};Je.memo=function(t,e){return{$$typeof:eO,type:t,compare:e===void 0?null:e}};Je.startTransition=function(t){var e=tf.transition;tf.transition={};try{t()}finally{tf.transition=e}};Je.unstable_act=KS;Je.useCallback=function(t,e){return sr.current.useCallback(t,e)};Je.useContext=function(t){return sr.current.useContext(t)};Je.useDebugValue=function(){};Je.useDeferredValue=function(t){return sr.current.useDeferredValue(t)};Je.useEffect=function(t,e){return sr.current.useEffect(t,e)};Je.useId=function(){return sr.current.useId()};Je.useImperativeHandle=function(t,e,n){return sr.current.useImperativeHandle(t,e,n)};Je.useInsertionEffect=function(t,e){return sr.current.useInsertionEffect(t,e)};Je.useLayoutEffect=function(t,e){return sr.current.useLayoutEffect(t,e)};Je.useMemo=function(t,e){return sr.current.useMemo(t,e)};Je.useReducer=function(t,e,n){return sr.current.useReducer(t,e,n)};Je.useRef=function(t){return sr.current.useRef(t)};Je.useState=function(t){return sr.current.useState(t)};Je.useSyncExternalStore=function(t,e,n){return sr.current.useSyncExternalStore(t,e,n)};Je.useTransition=function(){return sr.current.useTransition()};Je.version="18.3.1";US.exports=Je;var p=US.exports;const J=VS(p),kx=HD({__proto__:null,default:J},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oO=p,lO=Symbol.for("react.element"),cO=Symbol.for("react.fragment"),uO=Object.prototype.hasOwnProperty,dO=oO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hO={key:!0,ref:!0,__self:!0,__source:!0};function QS(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)uO.call(e,r)&&!hO.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:lO,type:t,key:i,ref:a,props:s,_owner:dO.current}}zm.Fragment=cO;zm.jsx=QS;zm.jsxs=QS;FS.exports=zm;var o=FS.exports,YS={exports:{}},Pr={},XS={exports:{}},ZS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,B){var $=U.length;U.push(B);e:for(;0<$;){var X=$-1>>>1,le=U[X];if(0<s(le,B))U[X]=B,U[$]=le,$=X;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var B=U[0],$=U.pop();if($!==B){U[0]=$;e:for(var X=0,le=U.length,de=le>>>1;X<de;){var xe=2*(X+1)-1,Ce=U[xe],st=xe+1,ie=U[st];if(0>s(Ce,$))st<le&&0>s(ie,Ce)?(U[X]=ie,U[st]=$,X=st):(U[X]=Ce,U[xe]=$,X=xe);else if(st<le&&0>s(ie,$))U[X]=ie,U[st]=$,X=st;else break e}}return B}function s(U,B){var $=U.sortIndex-B.sortIndex;return $!==0?$:U.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,m=3,g=!1,E=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(U){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=U)r(u),B.sortIndex=B.expirationTime,e(c,B);else break;B=n(u)}}function S(U){if(x=!1,v(U),!E)if(n(c)!==null)E=!0,H(P);else{var B=n(u);B!==null&&q(S,B.startTime-U)}}function P(U,B){E=!1,x&&(x=!1,w(C),C=-1),g=!0;var $=m;try{for(v(B),f=n(c);f!==null&&(!(f.expirationTime>B)||U&&!D());){var X=f.callback;if(typeof X=="function"){f.callback=null,m=f.priorityLevel;var le=X(f.expirationTime<=B);B=t.unstable_now(),typeof le=="function"?f.callback=le:f===n(c)&&r(c),v(B)}else r(c);f=n(c)}if(f!==null)var de=!0;else{var xe=n(u);xe!==null&&q(S,xe.startTime-B),de=!1}return de}finally{f=null,m=$,g=!1}}var O=!1,T=null,C=-1,j=5,A=-1;function D(){return!(t.unstable_now()-A<j)}function I(){if(T!==null){var U=t.unstable_now();A=U;var B=!0;try{B=T(!0,U)}finally{B?k():(O=!1,T=null)}}else O=!1}var k;if(typeof y=="function")k=function(){y(I)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,G=V.port2;V.port1.onmessage=I,k=function(){G.postMessage(null)}}else k=function(){b(I,0)};function H(U){T=U,O||(O=!0,k())}function q(U,B){C=b(function(){U(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,H(P))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var $=m;m=B;try{return U()}finally{m=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,B){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var $=m;m=U;try{return B()}finally{m=$}},t.unstable_scheduleCallback=function(U,B,$){var X=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,U){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=$+le,U={id:h++,callback:B,priorityLevel:U,startTime:$,expirationTime:le,sortIndex:-1},$>X?(U.sortIndex=$,e(u,U),n(c)===null&&U===n(u)&&(x?(w(C),C=-1):x=!0,q(S,$-X))):(U.sortIndex=le,e(c,U),E||g||(E=!0,H(P))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var B=m;return function(){var $=m;m=B;try{return U.apply(this,arguments)}finally{m=$}}}})(ZS);XS.exports=ZS;var fO=XS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mO=p,kr=fO;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JS=new Set,Gu={};function Qo(t,e){tc(t,e),tc(t+"Capture",e)}function tc(t,e){for(Gu[t]=e,t=0;t<e.length;t++)JS.add(e[t])}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iy=Object.prototype.hasOwnProperty,pO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pb={},gb={};function gO(t){return Iy.call(gb,t)?!0:Iy.call(pb,t)?!1:pO.test(t)?gb[t]=!0:(pb[t]=!0,!1)}function yO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vO(t,e,n,r){if(e===null||typeof e>"u"||yO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ir(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rn[t]=new ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rn[e]=new ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rn[t]=new ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rn[t]=new ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rn[t]=new ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rn[t]=new ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rn[t]=new ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rn[t]=new ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rn[t]=new ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var jx=/[\-:]([a-z])/g;function Px(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jx,Px);Rn[e]=new ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jx,Px);Rn[e]=new ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jx,Px);Rn[e]=new ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rn[t]=new ir(t,1,!1,t.toLowerCase(),null,!1,!1)});Rn.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rn[t]=new ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ax(t,e,n,r){var s=Rn.hasOwnProperty(e)?Rn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vO(e,n,s,r)&&(n=null),r||s===null?gO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Di=mO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eh=Symbol.for("react.element"),wl=Symbol.for("react.portal"),_l=Symbol.for("react.fragment"),Rx=Symbol.for("react.strict_mode"),ky=Symbol.for("react.profiler"),eN=Symbol.for("react.provider"),tN=Symbol.for("react.context"),Dx=Symbol.for("react.forward_ref"),jy=Symbol.for("react.suspense"),Py=Symbol.for("react.suspense_list"),Ox=Symbol.for("react.memo"),Zi=Symbol.for("react.lazy"),nN=Symbol.for("react.offscreen"),yb=Symbol.iterator;function eu(t){return t===null||typeof t!="object"?null:(t=yb&&t[yb]||t["@@iterator"],typeof t=="function"?t:null)}var Yt=Object.assign,bg;function pu(t){if(bg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bg=e&&e[1]||""}return`
`+bg+t}var Eg=!1;function Tg(t,e){if(!t||Eg)return"";Eg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{Eg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pu(t):""}function xO(t){switch(t.tag){case 5:return pu(t.type);case 16:return pu("Lazy");case 13:return pu("Suspense");case 19:return pu("SuspenseList");case 0:case 2:case 15:return t=Tg(t.type,!1),t;case 11:return t=Tg(t.type.render,!1),t;case 1:return t=Tg(t.type,!0),t;default:return""}}function Ay(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _l:return"Fragment";case wl:return"Portal";case ky:return"Profiler";case Rx:return"StrictMode";case jy:return"Suspense";case Py:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tN:return(t.displayName||"Context")+".Consumer";case eN:return(t._context.displayName||"Context")+".Provider";case Dx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ox:return e=t.displayName||null,e!==null?e:Ay(t.type)||"Memo";case Zi:e=t._payload,t=t._init;try{return Ay(t(e))}catch{}}return null}function wO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ay(e);case 8:return e===Rx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Da(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _O(t){var e=rN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Th(t){t._valueTracker||(t._valueTracker=_O(t))}function sN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ry(t,e){var n=e.checked;return Yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Da(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iN(t,e){e=e.checked,e!=null&&Ax(t,"checked",e,!1)}function Dy(t,e){iN(t,e);var n=Da(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Oy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Oy(t,e.type,Da(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Oy(t,e,n){(e!=="number"||jf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gu=Array.isArray;function Al(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Da(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function My(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return Yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(se(92));if(gu(n)){if(1<n.length)throw Error(se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Da(n)}}function aN(t,e){var n=Da(e.value),r=Da(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _b(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ly(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sh,lN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sh=Sh||document.createElement("div"),Sh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ku(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bO=["Webkit","ms","Moz","O"];Object.keys(Cu).forEach(function(t){bO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cu[e]=Cu[t]})});function cN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cu.hasOwnProperty(t)&&Cu[t]?(""+e).trim():e+"px"}function uN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var EO=Yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vy(t,e){if(e){if(EO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function Fy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uy=null;function Mx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $y=null,Rl=null,Dl=null;function bb(t){if(t=Vd(t)){if(typeof $y!="function")throw Error(se(280));var e=t.stateNode;e&&(e=Km(e),$y(t.stateNode,t.type,e))}}function dN(t){Rl?Dl?Dl.push(t):Dl=[t]:Rl=t}function hN(){if(Rl){var t=Rl,e=Dl;if(Dl=Rl=null,bb(t),e)for(t=0;t<e.length;t++)bb(e[t])}}function fN(t,e){return t(e)}function mN(){}var Sg=!1;function pN(t,e,n){if(Sg)return t(e,n);Sg=!0;try{return fN(t,e,n)}finally{Sg=!1,(Rl!==null||Dl!==null)&&(mN(),hN())}}function Qu(t,e){var n=t.stateNode;if(n===null)return null;var r=Km(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var By=!1;if(wi)try{var tu={};Object.defineProperty(tu,"passive",{get:function(){By=!0}}),window.addEventListener("test",tu,tu),window.removeEventListener("test",tu,tu)}catch{By=!1}function TO(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Iu=!1,Pf=null,Af=!1,zy=null,SO={onError:function(t){Iu=!0,Pf=t}};function NO(t,e,n,r,s,i,a,l,c){Iu=!1,Pf=null,TO.apply(SO,arguments)}function CO(t,e,n,r,s,i,a,l,c){if(NO.apply(this,arguments),Iu){if(Iu){var u=Pf;Iu=!1,Pf=null}else throw Error(se(198));Af||(Af=!0,zy=u)}}function Yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Eb(t){if(Yo(t)!==t)throw Error(se(188))}function IO(t){var e=t.alternate;if(!e){if(e=Yo(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Eb(s),t;if(i===r)return Eb(s),e;i=i.sibling}throw Error(se(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function yN(t){return t=IO(t),t!==null?vN(t):null}function vN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vN(t);if(e!==null)return e;t=t.sibling}return null}var xN=kr.unstable_scheduleCallback,Tb=kr.unstable_cancelCallback,kO=kr.unstable_shouldYield,jO=kr.unstable_requestPaint,an=kr.unstable_now,PO=kr.unstable_getCurrentPriorityLevel,Lx=kr.unstable_ImmediatePriority,wN=kr.unstable_UserBlockingPriority,Rf=kr.unstable_NormalPriority,AO=kr.unstable_LowPriority,_N=kr.unstable_IdlePriority,Wm=null,Rs=null;function RO(t){if(Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(Wm,t,void 0,(t.current.flags&128)===128)}catch{}}var hs=Math.clz32?Math.clz32:MO,DO=Math.log,OO=Math.LN2;function MO(t){return t>>>=0,t===0?32:31-(DO(t)/OO|0)|0}var Nh=64,Ch=4194304;function yu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Df(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=yu(l):(i&=a,i!==0&&(r=yu(i)))}else a=n&~s,a!==0?r=yu(a):i!==0&&(r=yu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hs(e),s=1<<n,r|=t[n],e&=~s;return r}function LO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-hs(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=LO(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Wy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bN(){var t=Nh;return Nh<<=1,!(Nh&4194240)&&(Nh=64),t}function Ng(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Md(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hs(e),t[e]=n}function FO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-hs(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Vx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hs(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var St=0;function EN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TN,Fx,SN,NN,CN,Hy=!1,Ih=[],ya=null,va=null,xa=null,Yu=new Map,Xu=new Map,na=[],UO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sb(t,e){switch(t){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Yu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xu.delete(e.pointerId)}}function nu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Vd(e),e!==null&&Fx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function $O(t,e,n,r,s){switch(e){case"focusin":return ya=nu(ya,t,e,n,r,s),!0;case"dragenter":return va=nu(va,t,e,n,r,s),!0;case"mouseover":return xa=nu(xa,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Yu.set(i,nu(Yu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Xu.set(i,nu(Xu.get(i)||null,t,e,n,r,s)),!0}return!1}function IN(t){var e=yo(t.target);if(e!==null){var n=Yo(e);if(n!==null){if(e=n.tag,e===13){if(e=gN(n),e!==null){t.blockedOn=e,CN(t.priority,function(){SN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Uy=r,n.target.dispatchEvent(r),Uy=null}else return e=Vd(n),e!==null&&Fx(e),t.blockedOn=n,!1;e.shift()}return!0}function Nb(t,e,n){nf(t)&&n.delete(e)}function BO(){Hy=!1,ya!==null&&nf(ya)&&(ya=null),va!==null&&nf(va)&&(va=null),xa!==null&&nf(xa)&&(xa=null),Yu.forEach(Nb),Xu.forEach(Nb)}function ru(t,e){t.blockedOn===e&&(t.blockedOn=null,Hy||(Hy=!0,kr.unstable_scheduleCallback(kr.unstable_NormalPriority,BO)))}function Zu(t){function e(s){return ru(s,t)}if(0<Ih.length){ru(Ih[0],t);for(var n=1;n<Ih.length;n++){var r=Ih[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ya!==null&&ru(ya,t),va!==null&&ru(va,t),xa!==null&&ru(xa,t),Yu.forEach(e),Xu.forEach(e),n=0;n<na.length;n++)r=na[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<na.length&&(n=na[0],n.blockedOn===null);)IN(n),n.blockedOn===null&&na.shift()}var Ol=Di.ReactCurrentBatchConfig,Of=!0;function zO(t,e,n,r){var s=St,i=Ol.transition;Ol.transition=null;try{St=1,Ux(t,e,n,r)}finally{St=s,Ol.transition=i}}function WO(t,e,n,r){var s=St,i=Ol.transition;Ol.transition=null;try{St=4,Ux(t,e,n,r)}finally{St=s,Ol.transition=i}}function Ux(t,e,n,r){if(Of){var s=qy(t,e,n,r);if(s===null)Mg(t,e,r,Mf,n),Sb(t,r);else if($O(s,t,e,n,r))r.stopPropagation();else if(Sb(t,r),e&4&&-1<UO.indexOf(t)){for(;s!==null;){var i=Vd(s);if(i!==null&&TN(i),i=qy(t,e,n,r),i===null&&Mg(t,e,r,Mf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mg(t,e,r,null,n)}}var Mf=null;function qy(t,e,n,r){if(Mf=null,t=Mx(r),t=yo(t),t!==null)if(e=Yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mf=t,null}function kN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PO()){case Lx:return 1;case wN:return 4;case Rf:case AO:return 16;case _N:return 536870912;default:return 16}default:return 16}}var ha=null,$x=null,rf=null;function jN(){if(rf)return rf;var t,e=$x,n=e.length,r,s="value"in ha?ha.value:ha.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return rf=s.slice(t,1<r?1-r:void 0)}function sf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kh(){return!0}function Cb(){return!1}function Ar(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?kh:Cb,this.isPropagationStopped=Cb,this}return Yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kh)},persist:function(){},isPersistent:kh}),e}var Nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bx=Ar(Nc),Ld=Yt({},Nc,{view:0,detail:0}),HO=Ar(Ld),Cg,Ig,su,Hm=Yt({},Ld,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==su&&(su&&t.type==="mousemove"?(Cg=t.screenX-su.screenX,Ig=t.screenY-su.screenY):Ig=Cg=0,su=t),Cg)},movementY:function(t){return"movementY"in t?t.movementY:Ig}}),Ib=Ar(Hm),qO=Yt({},Hm,{dataTransfer:0}),GO=Ar(qO),KO=Yt({},Ld,{relatedTarget:0}),kg=Ar(KO),QO=Yt({},Nc,{animationName:0,elapsedTime:0,pseudoElement:0}),YO=Ar(QO),XO=Yt({},Nc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZO=Ar(XO),JO=Yt({},Nc,{data:0}),kb=Ar(JO),eM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nM[t])?!!e[t]:!1}function zx(){return rM}var sM=Yt({},Ld,{key:function(t){if(t.key){var e=eM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zx,charCode:function(t){return t.type==="keypress"?sf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iM=Ar(sM),aM=Yt({},Hm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jb=Ar(aM),oM=Yt({},Ld,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zx}),lM=Ar(oM),cM=Yt({},Nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),uM=Ar(cM),dM=Yt({},Hm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hM=Ar(dM),fM=[9,13,27,32],Wx=wi&&"CompositionEvent"in window,ku=null;wi&&"documentMode"in document&&(ku=document.documentMode);var mM=wi&&"TextEvent"in window&&!ku,PN=wi&&(!Wx||ku&&8<ku&&11>=ku),Pb=" ",Ab=!1;function AN(t,e){switch(t){case"keyup":return fM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bl=!1;function pM(t,e){switch(t){case"compositionend":return RN(e);case"keypress":return e.which!==32?null:(Ab=!0,Pb);case"textInput":return t=e.data,t===Pb&&Ab?null:t;default:return null}}function gM(t,e){if(bl)return t==="compositionend"||!Wx&&AN(t,e)?(t=jN(),rf=$x=ha=null,bl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PN&&e.locale!=="ko"?null:e.data;default:return null}}var yM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yM[t.type]:e==="textarea"}function DN(t,e,n,r){dN(r),e=Lf(e,"onChange"),0<e.length&&(n=new Bx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ju=null,Ju=null;function vM(t){HN(t,0)}function qm(t){var e=Sl(t);if(sN(e))return t}function xM(t,e){if(t==="change")return e}var ON=!1;if(wi){var jg;if(wi){var Pg="oninput"in document;if(!Pg){var Db=document.createElement("div");Db.setAttribute("oninput","return;"),Pg=typeof Db.oninput=="function"}jg=Pg}else jg=!1;ON=jg&&(!document.documentMode||9<document.documentMode)}function Ob(){ju&&(ju.detachEvent("onpropertychange",MN),Ju=ju=null)}function MN(t){if(t.propertyName==="value"&&qm(Ju)){var e=[];DN(e,Ju,t,Mx(t)),pN(vM,e)}}function wM(t,e,n){t==="focusin"?(Ob(),ju=e,Ju=n,ju.attachEvent("onpropertychange",MN)):t==="focusout"&&Ob()}function _M(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qm(Ju)}function bM(t,e){if(t==="click")return qm(e)}function EM(t,e){if(t==="input"||t==="change")return qm(e)}function TM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ps=typeof Object.is=="function"?Object.is:TM;function ed(t,e){if(ps(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Iy.call(e,s)||!ps(t[s],e[s]))return!1}return!0}function Mb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lb(t,e){var n=Mb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mb(n)}}function LN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VN(){for(var t=window,e=jf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jf(t.document)}return e}function Hx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function SM(t){var e=VN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LN(n.ownerDocument.documentElement,n)){if(r!==null&&Hx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Lb(n,i);var a=Lb(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NM=wi&&"documentMode"in document&&11>=document.documentMode,El=null,Gy=null,Pu=null,Ky=!1;function Vb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ky||El==null||El!==jf(r)||(r=El,"selectionStart"in r&&Hx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pu&&ed(Pu,r)||(Pu=r,r=Lf(Gy,"onSelect"),0<r.length&&(e=new Bx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=El)))}function jh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Tl={animationend:jh("Animation","AnimationEnd"),animationiteration:jh("Animation","AnimationIteration"),animationstart:jh("Animation","AnimationStart"),transitionend:jh("Transition","TransitionEnd")},Ag={},FN={};wi&&(FN=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function Gm(t){if(Ag[t])return Ag[t];if(!Tl[t])return t;var e=Tl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FN)return Ag[t]=e[n];return t}var UN=Gm("animationend"),$N=Gm("animationiteration"),BN=Gm("animationstart"),zN=Gm("transitionend"),WN=new Map,Fb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ka(t,e){WN.set(t,e),Qo(e,[t])}for(var Rg=0;Rg<Fb.length;Rg++){var Dg=Fb[Rg],CM=Dg.toLowerCase(),IM=Dg[0].toUpperCase()+Dg.slice(1);Ka(CM,"on"+IM)}Ka(UN,"onAnimationEnd");Ka($N,"onAnimationIteration");Ka(BN,"onAnimationStart");Ka("dblclick","onDoubleClick");Ka("focusin","onFocus");Ka("focusout","onBlur");Ka(zN,"onTransitionEnd");tc("onMouseEnter",["mouseout","mouseover"]);tc("onMouseLeave",["mouseout","mouseover"]);tc("onPointerEnter",["pointerout","pointerover"]);tc("onPointerLeave",["pointerout","pointerover"]);Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kM=new Set("cancel close invalid load scroll toggle".split(" ").concat(vu));function Ub(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CO(r,e,void 0,t),t.currentTarget=null}function HN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Ub(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Ub(s,l,u),i=c}}}if(Af)throw t=zy,Af=!1,zy=null,t}function Ut(t,e){var n=e[Jy];n===void 0&&(n=e[Jy]=new Set);var r=t+"__bubble";n.has(r)||(qN(e,t,2,!1),n.add(r))}function Og(t,e,n){var r=0;e&&(r|=4),qN(n,t,r,e)}var Ph="_reactListening"+Math.random().toString(36).slice(2);function td(t){if(!t[Ph]){t[Ph]=!0,JS.forEach(function(n){n!=="selectionchange"&&(kM.has(n)||Og(n,!1,t),Og(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ph]||(e[Ph]=!0,Og("selectionchange",!1,e))}}function qN(t,e,n,r){switch(kN(e)){case 1:var s=zO;break;case 4:s=WO;break;default:s=Ux}n=s.bind(null,e,n,t),s=void 0,!By||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=yo(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}pN(function(){var u=i,h=Mx(n),f=[];e:{var m=WN.get(t);if(m!==void 0){var g=Bx,E=t;switch(t){case"keypress":if(sf(n)===0)break e;case"keydown":case"keyup":g=iM;break;case"focusin":E="focus",g=kg;break;case"focusout":E="blur",g=kg;break;case"beforeblur":case"afterblur":g=kg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ib;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=GO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=lM;break;case UN:case $N:case BN:g=YO;break;case zN:g=uM;break;case"scroll":g=HO;break;case"wheel":g=hM;break;case"copy":case"cut":case"paste":g=ZO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=jb}var x=(e&4)!==0,b=!x&&t==="scroll",w=x?m!==null?m+"Capture":null:m;x=[];for(var y=u,v;y!==null;){v=y;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,w!==null&&(S=Qu(y,w),S!=null&&x.push(nd(y,S,v)))),b)break;y=y.return}0<x.length&&(m=new g(m,E,null,n,h),f.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Uy&&(E=n.relatedTarget||n.fromElement)&&(yo(E)||E[_i]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=u,E=E?yo(E):null,E!==null&&(b=Yo(E),E!==b||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=u),g!==E)){if(x=Ib,S="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=jb,S="onPointerLeave",w="onPointerEnter",y="pointer"),b=g==null?m:Sl(g),v=E==null?m:Sl(E),m=new x(S,y+"leave",g,n,h),m.target=b,m.relatedTarget=v,S=null,yo(h)===u&&(x=new x(w,y+"enter",E,n,h),x.target=v,x.relatedTarget=b,S=x),b=S,g&&E)t:{for(x=g,w=E,y=0,v=x;v;v=cl(v))y++;for(v=0,S=w;S;S=cl(S))v++;for(;0<y-v;)x=cl(x),y--;for(;0<v-y;)w=cl(w),v--;for(;y--;){if(x===w||w!==null&&x===w.alternate)break t;x=cl(x),w=cl(w)}x=null}else x=null;g!==null&&$b(f,m,g,x,!1),E!==null&&b!==null&&$b(f,b,E,x,!0)}}e:{if(m=u?Sl(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var P=xM;else if(Rb(m))if(ON)P=EM;else{P=_M;var O=wM}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=bM);if(P&&(P=P(t,u))){DN(f,P,n,h);break e}O&&O(t,m,u),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Oy(m,"number",m.value)}switch(O=u?Sl(u):window,t){case"focusin":(Rb(O)||O.contentEditable==="true")&&(El=O,Gy=u,Pu=null);break;case"focusout":Pu=Gy=El=null;break;case"mousedown":Ky=!0;break;case"contextmenu":case"mouseup":case"dragend":Ky=!1,Vb(f,n,h);break;case"selectionchange":if(NM)break;case"keydown":case"keyup":Vb(f,n,h)}var T;if(Wx)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else bl?AN(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(PN&&n.locale!=="ko"&&(bl||C!=="onCompositionStart"?C==="onCompositionEnd"&&bl&&(T=jN()):(ha=h,$x="value"in ha?ha.value:ha.textContent,bl=!0)),O=Lf(u,C),0<O.length&&(C=new kb(C,t,null,n,h),f.push({event:C,listeners:O}),T?C.data=T:(T=RN(n),T!==null&&(C.data=T)))),(T=mM?pM(t,n):gM(t,n))&&(u=Lf(u,"onBeforeInput"),0<u.length&&(h=new kb("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=T))}HN(f,e)})}function nd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qu(t,n),i!=null&&r.unshift(nd(t,i,s)),i=Qu(t,e),i!=null&&r.push(nd(t,i,s))),t=t.return}return r}function cl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $b(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Qu(n,i),c!=null&&a.unshift(nd(n,c,l))):s||(c=Qu(n,i),c!=null&&a.push(nd(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var jM=/\r\n?/g,PM=/\u0000|\uFFFD/g;function Bb(t){return(typeof t=="string"?t:""+t).replace(jM,`
`).replace(PM,"")}function Ah(t,e,n){if(e=Bb(e),Bb(t)!==e&&n)throw Error(se(425))}function Vf(){}var Qy=null,Yy=null;function Xy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zy=typeof setTimeout=="function"?setTimeout:void 0,AM=typeof clearTimeout=="function"?clearTimeout:void 0,zb=typeof Promise=="function"?Promise:void 0,RM=typeof queueMicrotask=="function"?queueMicrotask:typeof zb<"u"?function(t){return zb.resolve(null).then(t).catch(DM)}:Zy;function DM(t){setTimeout(function(){throw t})}function Lg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Zu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Zu(e)}function wa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cc=Math.random().toString(36).slice(2),ks="__reactFiber$"+Cc,rd="__reactProps$"+Cc,_i="__reactContainer$"+Cc,Jy="__reactEvents$"+Cc,OM="__reactListeners$"+Cc,MM="__reactHandles$"+Cc;function yo(t){var e=t[ks];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_i]||n[ks]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wb(t);t!==null;){if(n=t[ks])return n;t=Wb(t)}return e}t=n,n=t.parentNode}return null}function Vd(t){return t=t[ks]||t[_i],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function Km(t){return t[rd]||null}var ev=[],Nl=-1;function Qa(t){return{current:t}}function Bt(t){0>Nl||(t.current=ev[Nl],ev[Nl]=null,Nl--)}function Ot(t,e){Nl++,ev[Nl]=t.current,t.current=e}var Oa={},qn=Qa(Oa),mr=Qa(!1),Ao=Oa;function nc(t,e){var n=t.type.contextTypes;if(!n)return Oa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pr(t){return t=t.childContextTypes,t!=null}function Ff(){Bt(mr),Bt(qn)}function Hb(t,e,n){if(qn.current!==Oa)throw Error(se(168));Ot(qn,e),Ot(mr,n)}function GN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(se(108,wO(t)||"Unknown",s));return Yt({},n,r)}function Uf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oa,Ao=qn.current,Ot(qn,t),Ot(mr,mr.current),!0}function qb(t,e,n){var r=t.stateNode;if(!r)throw Error(se(169));n?(t=GN(t,e,Ao),r.__reactInternalMemoizedMergedChildContext=t,Bt(mr),Bt(qn),Ot(qn,t)):Bt(mr),Ot(mr,n)}var oi=null,Qm=!1,Vg=!1;function KN(t){oi===null?oi=[t]:oi.push(t)}function LM(t){Qm=!0,KN(t)}function Ya(){if(!Vg&&oi!==null){Vg=!0;var t=0,e=St;try{var n=oi;for(St=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oi=null,Qm=!1}catch(s){throw oi!==null&&(oi=oi.slice(t+1)),xN(Lx,Ya),s}finally{St=e,Vg=!1}}return null}var Cl=[],Il=0,$f=null,Bf=0,Mr=[],Lr=0,Ro=null,di=1,hi="";function ho(t,e){Cl[Il++]=Bf,Cl[Il++]=$f,$f=t,Bf=e}function QN(t,e,n){Mr[Lr++]=di,Mr[Lr++]=hi,Mr[Lr++]=Ro,Ro=t;var r=di;t=hi;var s=32-hs(r)-1;r&=~(1<<s),n+=1;var i=32-hs(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,di=1<<32-hs(e)+s|n<<s|r,hi=i+t}else di=1<<i|n<<s|r,hi=t}function qx(t){t.return!==null&&(ho(t,1),QN(t,1,0))}function Gx(t){for(;t===$f;)$f=Cl[--Il],Cl[Il]=null,Bf=Cl[--Il],Cl[Il]=null;for(;t===Ro;)Ro=Mr[--Lr],Mr[Lr]=null,hi=Mr[--Lr],Mr[Lr]=null,di=Mr[--Lr],Mr[Lr]=null}var Cr=null,Sr=null,Ht=!1,ls=null;function YN(t,e){var n=Wr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cr=t,Sr=wa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cr=t,Sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ro!==null?{id:di,overflow:hi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cr=t,Sr=null,!0):!1;default:return!1}}function tv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nv(t){if(Ht){var e=Sr;if(e){var n=e;if(!Gb(t,e)){if(tv(t))throw Error(se(418));e=wa(n.nextSibling);var r=Cr;e&&Gb(t,e)?YN(r,n):(t.flags=t.flags&-4097|2,Ht=!1,Cr=t)}}else{if(tv(t))throw Error(se(418));t.flags=t.flags&-4097|2,Ht=!1,Cr=t}}}function Kb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cr=t}function Rh(t){if(t!==Cr)return!1;if(!Ht)return Kb(t),Ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xy(t.type,t.memoizedProps)),e&&(e=Sr)){if(tv(t))throw XN(),Error(se(418));for(;e;)YN(t,e),e=wa(e.nextSibling)}if(Kb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sr=wa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sr=null}}else Sr=Cr?wa(t.stateNode.nextSibling):null;return!0}function XN(){for(var t=Sr;t;)t=wa(t.nextSibling)}function rc(){Sr=Cr=null,Ht=!1}function Kx(t){ls===null?ls=[t]:ls.push(t)}var VM=Di.ReactCurrentBatchConfig;function iu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,t))}return t}function Dh(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qb(t){var e=t._init;return e(t._payload)}function ZN(t){function e(w,y){if(t){var v=w.deletions;v===null?(w.deletions=[y],w.flags|=16):v.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Ta(w,y),w.index=0,w.sibling=null,w}function i(w,y,v){return w.index=v,t?(v=w.alternate,v!==null?(v=v.index,v<y?(w.flags|=2,y):v):(w.flags|=2,y)):(w.flags|=1048576,y)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,y,v,S){return y===null||y.tag!==6?(y=Hg(v,w.mode,S),y.return=w,y):(y=s(y,v),y.return=w,y)}function c(w,y,v,S){var P=v.type;return P===_l?h(w,y,v.props.children,S,v.key):y!==null&&(y.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Zi&&Qb(P)===y.type)?(S=s(y,v.props),S.ref=iu(w,y,v),S.return=w,S):(S=hf(v.type,v.key,v.props,null,w.mode,S),S.ref=iu(w,y,v),S.return=w,S)}function u(w,y,v,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=qg(v,w.mode,S),y.return=w,y):(y=s(y,v.children||[]),y.return=w,y)}function h(w,y,v,S,P){return y===null||y.tag!==7?(y=jo(v,w.mode,S,P),y.return=w,y):(y=s(y,v),y.return=w,y)}function f(w,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Hg(""+y,w.mode,v),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Eh:return v=hf(y.type,y.key,y.props,null,w.mode,v),v.ref=iu(w,null,y),v.return=w,v;case wl:return y=qg(y,w.mode,v),y.return=w,y;case Zi:var S=y._init;return f(w,S(y._payload),v)}if(gu(y)||eu(y))return y=jo(y,w.mode,v,null),y.return=w,y;Dh(w,y)}return null}function m(w,y,v,S){var P=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return P!==null?null:l(w,y,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Eh:return v.key===P?c(w,y,v,S):null;case wl:return v.key===P?u(w,y,v,S):null;case Zi:return P=v._init,m(w,y,P(v._payload),S)}if(gu(v)||eu(v))return P!==null?null:h(w,y,v,S,null);Dh(w,v)}return null}function g(w,y,v,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(v)||null,l(y,w,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Eh:return w=w.get(S.key===null?v:S.key)||null,c(y,w,S,P);case wl:return w=w.get(S.key===null?v:S.key)||null,u(y,w,S,P);case Zi:var O=S._init;return g(w,y,v,O(S._payload),P)}if(gu(S)||eu(S))return w=w.get(v)||null,h(y,w,S,P,null);Dh(y,S)}return null}function E(w,y,v,S){for(var P=null,O=null,T=y,C=y=0,j=null;T!==null&&C<v.length;C++){T.index>C?(j=T,T=null):j=T.sibling;var A=m(w,T,v[C],S);if(A===null){T===null&&(T=j);break}t&&T&&A.alternate===null&&e(w,T),y=i(A,y,C),O===null?P=A:O.sibling=A,O=A,T=j}if(C===v.length)return n(w,T),Ht&&ho(w,C),P;if(T===null){for(;C<v.length;C++)T=f(w,v[C],S),T!==null&&(y=i(T,y,C),O===null?P=T:O.sibling=T,O=T);return Ht&&ho(w,C),P}for(T=r(w,T);C<v.length;C++)j=g(T,w,C,v[C],S),j!==null&&(t&&j.alternate!==null&&T.delete(j.key===null?C:j.key),y=i(j,y,C),O===null?P=j:O.sibling=j,O=j);return t&&T.forEach(function(D){return e(w,D)}),Ht&&ho(w,C),P}function x(w,y,v,S){var P=eu(v);if(typeof P!="function")throw Error(se(150));if(v=P.call(v),v==null)throw Error(se(151));for(var O=P=null,T=y,C=y=0,j=null,A=v.next();T!==null&&!A.done;C++,A=v.next()){T.index>C?(j=T,T=null):j=T.sibling;var D=m(w,T,A.value,S);if(D===null){T===null&&(T=j);break}t&&T&&D.alternate===null&&e(w,T),y=i(D,y,C),O===null?P=D:O.sibling=D,O=D,T=j}if(A.done)return n(w,T),Ht&&ho(w,C),P;if(T===null){for(;!A.done;C++,A=v.next())A=f(w,A.value,S),A!==null&&(y=i(A,y,C),O===null?P=A:O.sibling=A,O=A);return Ht&&ho(w,C),P}for(T=r(w,T);!A.done;C++,A=v.next())A=g(T,w,C,A.value,S),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?C:A.key),y=i(A,y,C),O===null?P=A:O.sibling=A,O=A);return t&&T.forEach(function(I){return e(w,I)}),Ht&&ho(w,C),P}function b(w,y,v,S){if(typeof v=="object"&&v!==null&&v.type===_l&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Eh:e:{for(var P=v.key,O=y;O!==null;){if(O.key===P){if(P=v.type,P===_l){if(O.tag===7){n(w,O.sibling),y=s(O,v.props.children),y.return=w,w=y;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Zi&&Qb(P)===O.type){n(w,O.sibling),y=s(O,v.props),y.ref=iu(w,O,v),y.return=w,w=y;break e}n(w,O);break}else e(w,O);O=O.sibling}v.type===_l?(y=jo(v.props.children,w.mode,S,v.key),y.return=w,w=y):(S=hf(v.type,v.key,v.props,null,w.mode,S),S.ref=iu(w,y,v),S.return=w,w=S)}return a(w);case wl:e:{for(O=v.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(w,y.sibling),y=s(y,v.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=qg(v,w.mode,S),y.return=w,w=y}return a(w);case Zi:return O=v._init,b(w,y,O(v._payload),S)}if(gu(v))return E(w,y,v,S);if(eu(v))return x(w,y,v,S);Dh(w,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(w,y.sibling),y=s(y,v),y.return=w,w=y):(n(w,y),y=Hg(v,w.mode,S),y.return=w,w=y),a(w)):n(w,y)}return b}var sc=ZN(!0),JN=ZN(!1),zf=Qa(null),Wf=null,kl=null,Qx=null;function Yx(){Qx=kl=Wf=null}function Xx(t){var e=zf.current;Bt(zf),t._currentValue=e}function rv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ml(t,e){Wf=t,Qx=kl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fr=!0),t.firstContext=null)}function qr(t){var e=t._currentValue;if(Qx!==t)if(t={context:t,memoizedValue:e,next:null},kl===null){if(Wf===null)throw Error(se(308));kl=t,Wf.dependencies={lanes:0,firstContext:t}}else kl=kl.next=t;return e}var vo=null;function Zx(t){vo===null?vo=[t]:vo.push(t)}function eC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Zx(e)):(n.next=s.next,s.next=n),e.interleaved=n,bi(t,r)}function bi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ji=!1;function Jx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _a(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,bi(t,n)}return s=r.interleaved,s===null?(e.next=e,Zx(r)):(e.next=s.next,s.next=e),r.interleaved=e,bi(t,n)}function af(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vx(t,n)}}function Yb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hf(t,e,n,r){var s=t.updateQueue;Ji=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=u=c=null,l=i;do{var m=l.lane,g=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var E=t,x=l;switch(m=e,g=n,x.tag){case 1:if(E=x.payload,typeof E=="function"){f=E.call(g,f,m);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=x.payload,m=typeof E=="function"?E.call(g,f,m):E,m==null)break e;f=Yt({},f,m);break e;case 2:Ji=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=f):h=h.next=g,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Oo|=a,t.lanes=a,t.memoizedState=f}}function Xb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(se(191,s));s.call(r)}}}var Fd={},Ds=Qa(Fd),sd=Qa(Fd),id=Qa(Fd);function xo(t){if(t===Fd)throw Error(se(174));return t}function ew(t,e){switch(Ot(id,e),Ot(sd,t),Ot(Ds,Fd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ly(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ly(e,t)}Bt(Ds),Ot(Ds,e)}function ic(){Bt(Ds),Bt(sd),Bt(id)}function nC(t){xo(id.current);var e=xo(Ds.current),n=Ly(e,t.type);e!==n&&(Ot(sd,t),Ot(Ds,n))}function tw(t){sd.current===t&&(Bt(Ds),Bt(sd))}var Gt=Qa(0);function qf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fg=[];function nw(){for(var t=0;t<Fg.length;t++)Fg[t]._workInProgressVersionPrimary=null;Fg.length=0}var of=Di.ReactCurrentDispatcher,Ug=Di.ReactCurrentBatchConfig,Do=0,Kt=null,yn=null,En=null,Gf=!1,Au=!1,ad=0,FM=0;function Fn(){throw Error(se(321))}function rw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ps(t[n],e[n]))return!1;return!0}function sw(t,e,n,r,s,i){if(Do=i,Kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,of.current=t===null||t.memoizedState===null?zM:WM,t=n(r,s),Au){i=0;do{if(Au=!1,ad=0,25<=i)throw Error(se(301));i+=1,En=yn=null,e.updateQueue=null,of.current=HM,t=n(r,s)}while(Au)}if(of.current=Kf,e=yn!==null&&yn.next!==null,Do=0,En=yn=Kt=null,Gf=!1,e)throw Error(se(300));return t}function iw(){var t=ad!==0;return ad=0,t}function Es(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Kt.memoizedState=En=t:En=En.next=t,En}function Gr(){if(yn===null){var t=Kt.alternate;t=t!==null?t.memoizedState:null}else t=yn.next;var e=En===null?Kt.memoizedState:En.next;if(e!==null)En=e,yn=t;else{if(t===null)throw Error(se(310));yn=t,t={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},En===null?Kt.memoizedState=En=t:En=En.next=t}return En}function od(t,e){return typeof e=="function"?e(t):e}function $g(t){var e=Gr(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=yn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((Do&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Kt.lanes|=h,Oo|=h}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,ps(r,e.memoizedState)||(fr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Kt.lanes|=i,Oo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bg(t){var e=Gr(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ps(i,e.memoizedState)||(fr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function rC(){}function sC(t,e){var n=Kt,r=Gr(),s=e(),i=!ps(r.memoizedState,s);if(i&&(r.memoizedState=s,fr=!0),r=r.queue,aw(oC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||En!==null&&En.memoizedState.tag&1){if(n.flags|=2048,ld(9,aC.bind(null,n,r,s,e),void 0,null),Tn===null)throw Error(se(349));Do&30||iC(n,e,s)}return s}function iC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aC(t,e,n,r){e.value=n,e.getSnapshot=r,lC(e)&&cC(t)}function oC(t,e,n){return n(function(){lC(e)&&cC(t)})}function lC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ps(t,n)}catch{return!0}}function cC(t){var e=bi(t,1);e!==null&&fs(e,t,1,-1)}function Zb(t){var e=Es();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:t},e.queue=t,t=t.dispatch=BM.bind(null,Kt,t),[e.memoizedState,t]}function ld(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uC(){return Gr().memoizedState}function lf(t,e,n,r){var s=Es();Kt.flags|=t,s.memoizedState=ld(1|e,n,void 0,r===void 0?null:r)}function Ym(t,e,n,r){var s=Gr();r=r===void 0?null:r;var i=void 0;if(yn!==null){var a=yn.memoizedState;if(i=a.destroy,r!==null&&rw(r,a.deps)){s.memoizedState=ld(e,n,i,r);return}}Kt.flags|=t,s.memoizedState=ld(1|e,n,i,r)}function Jb(t,e){return lf(8390656,8,t,e)}function aw(t,e){return Ym(2048,8,t,e)}function dC(t,e){return Ym(4,2,t,e)}function hC(t,e){return Ym(4,4,t,e)}function fC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mC(t,e,n){return n=n!=null?n.concat([t]):null,Ym(4,4,fC.bind(null,e,t),n)}function ow(){}function pC(t,e){var n=Gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gC(t,e){var n=Gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yC(t,e,n){return Do&21?(ps(n,e)||(n=bN(),Kt.lanes|=n,Oo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fr=!0),t.memoizedState=n)}function UM(t,e){var n=St;St=n!==0&&4>n?n:4,t(!0);var r=Ug.transition;Ug.transition={};try{t(!1),e()}finally{St=n,Ug.transition=r}}function vC(){return Gr().memoizedState}function $M(t,e,n){var r=Ea(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xC(t))wC(e,n);else if(n=eC(t,e,n,r),n!==null){var s=nr();fs(n,t,r,s),_C(n,e,r)}}function BM(t,e,n){var r=Ea(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xC(t))wC(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,ps(l,a)){var c=e.interleaved;c===null?(s.next=s,Zx(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=eC(t,e,s,r),n!==null&&(s=nr(),fs(n,t,r,s),_C(n,e,r))}}function xC(t){var e=t.alternate;return t===Kt||e!==null&&e===Kt}function wC(t,e){Au=Gf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _C(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vx(t,n)}}var Kf={readContext:qr,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},zM={readContext:qr,useCallback:function(t,e){return Es().memoizedState=[t,e===void 0?null:e],t},useContext:qr,useEffect:Jb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lf(4194308,4,fC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lf(4194308,4,t,e)},useInsertionEffect:function(t,e){return lf(4,2,t,e)},useMemo:function(t,e){var n=Es();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Es();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$M.bind(null,Kt,t),[r.memoizedState,t]},useRef:function(t){var e=Es();return t={current:t},e.memoizedState=t},useState:Zb,useDebugValue:ow,useDeferredValue:function(t){return Es().memoizedState=t},useTransition:function(){var t=Zb(!1),e=t[0];return t=UM.bind(null,t[1]),Es().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Kt,s=Es();if(Ht){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),Tn===null)throw Error(se(349));Do&30||iC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Jb(oC.bind(null,r,i,t),[t]),r.flags|=2048,ld(9,aC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Es(),e=Tn.identifierPrefix;if(Ht){var n=hi,r=di;n=(r&~(1<<32-hs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ad++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=FM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WM={readContext:qr,useCallback:pC,useContext:qr,useEffect:aw,useImperativeHandle:mC,useInsertionEffect:dC,useLayoutEffect:hC,useMemo:gC,useReducer:$g,useRef:uC,useState:function(){return $g(od)},useDebugValue:ow,useDeferredValue:function(t){var e=Gr();return yC(e,yn.memoizedState,t)},useTransition:function(){var t=$g(od)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:sC,useId:vC,unstable_isNewReconciler:!1},HM={readContext:qr,useCallback:pC,useContext:qr,useEffect:aw,useImperativeHandle:mC,useInsertionEffect:dC,useLayoutEffect:hC,useMemo:gC,useReducer:Bg,useRef:uC,useState:function(){return Bg(od)},useDebugValue:ow,useDeferredValue:function(t){var e=Gr();return yn===null?e.memoizedState=t:yC(e,yn.memoizedState,t)},useTransition:function(){var t=Bg(od)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:sC,useId:vC,unstable_isNewReconciler:!1};function rs(t,e){if(t&&t.defaultProps){e=Yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xm={isMounted:function(t){return(t=t._reactInternals)?Yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nr(),s=Ea(t),i=pi(r,s);i.payload=e,n!=null&&(i.callback=n),e=_a(t,i,s),e!==null&&(fs(e,t,s,r),af(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nr(),s=Ea(t),i=pi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=_a(t,i,s),e!==null&&(fs(e,t,s,r),af(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nr(),r=Ea(t),s=pi(n,r);s.tag=2,e!=null&&(s.callback=e),e=_a(t,s,r),e!==null&&(fs(e,t,r,n),af(e,t,r))}};function e1(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!ed(n,r)||!ed(s,i):!0}function bC(t,e,n){var r=!1,s=Oa,i=e.contextType;return typeof i=="object"&&i!==null?i=qr(i):(s=pr(e)?Ao:qn.current,r=e.contextTypes,i=(r=r!=null)?nc(t,s):Oa),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function t1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xm.enqueueReplaceState(e,e.state,null)}function iv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Jx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=qr(i):(i=pr(e)?Ao:qn.current,s.context=nc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(sv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xm.enqueueReplaceState(s,s.state,null),Hf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ac(t,e){try{var n="",r=e;do n+=xO(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function zg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function av(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qM=typeof WeakMap=="function"?WeakMap:Map;function EC(t,e,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yf||(Yf=!0,gv=r),av(t,e)},n}function TC(t,e,n){n=pi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){av(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){av(t,e),typeof r!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function n1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=a4.bind(null,t,e,n),e.then(t,t))}function r1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function s1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pi(-1,1),e.tag=2,_a(n,e,1))),n.lanes|=1),t)}var GM=Di.ReactCurrentOwner,fr=!1;function Jn(t,e,n,r){e.child=t===null?JN(e,null,n,r):sc(e,t.child,n,r)}function i1(t,e,n,r,s){n=n.render;var i=e.ref;return Ml(e,s),r=sw(t,e,n,r,i,s),n=iw(),t!==null&&!fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ei(t,e,s)):(Ht&&n&&qx(e),e.flags|=1,Jn(t,e,r,s),e.child)}function a1(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!pw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,SC(t,e,i,r,s)):(t=hf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ed,n(a,r)&&t.ref===e.ref)return Ei(t,e,s)}return e.flags|=1,t=Ta(i,r),t.ref=e.ref,t.return=e,e.child=t}function SC(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ed(i,r)&&t.ref===e.ref)if(fr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(fr=!0);else return e.lanes=t.lanes,Ei(t,e,s)}return ov(t,e,n,r,s)}function NC(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(Pl,_r),_r|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ot(Pl,_r),_r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ot(Pl,_r),_r|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ot(Pl,_r),_r|=r;return Jn(t,e,s,n),e.child}function CC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ov(t,e,n,r,s){var i=pr(n)?Ao:qn.current;return i=nc(e,i),Ml(e,s),n=sw(t,e,n,r,i,s),r=iw(),t!==null&&!fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ei(t,e,s)):(Ht&&r&&qx(e),e.flags|=1,Jn(t,e,n,s),e.child)}function o1(t,e,n,r,s){if(pr(n)){var i=!0;Uf(e)}else i=!1;if(Ml(e,s),e.stateNode===null)cf(t,e),bC(e,n,r),iv(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=qr(u):(u=pr(n)?Ao:qn.current,u=nc(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&t1(e,a,r,u),Ji=!1;var m=e.memoizedState;a.state=m,Hf(e,r,a,s),c=e.memoizedState,l!==r||m!==c||mr.current||Ji?(typeof h=="function"&&(sv(e,n,h,r),c=e.memoizedState),(l=Ji||e1(e,n,l,r,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,tC(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:rs(e.type,l),a.props=u,f=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=qr(c):(c=pr(n)?Ao:qn.current,c=nc(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&t1(e,a,r,c),Ji=!1,m=e.memoizedState,a.state=m,Hf(e,r,a,s);var E=e.memoizedState;l!==f||m!==E||mr.current||Ji?(typeof g=="function"&&(sv(e,n,g,r),E=e.memoizedState),(u=Ji||e1(e,n,u,r,m,E,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,E,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,E,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),a.props=r,a.state=E,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return lv(t,e,n,r,i,s)}function lv(t,e,n,r,s,i){CC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&qb(e,n,!1),Ei(t,e,i);r=e.stateNode,GM.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=sc(e,t.child,null,i),e.child=sc(e,null,l,i)):Jn(t,e,l,i),e.memoizedState=r.state,s&&qb(e,n,!0),e.child}function IC(t){var e=t.stateNode;e.pendingContext?Hb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hb(t,e.context,!1),ew(t,e.containerInfo)}function l1(t,e,n,r,s){return rc(),Kx(s),e.flags|=256,Jn(t,e,n,r),e.child}var cv={dehydrated:null,treeContext:null,retryLane:0};function uv(t){return{baseLanes:t,cachePool:null,transitions:null}}function kC(t,e,n){var r=e.pendingProps,s=Gt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ot(Gt,s&1),t===null)return nv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ep(a,r,0,null),t=jo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=uv(n),e.memoizedState=cv,t):lw(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return KM(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ta(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ta(l,i):(i=jo(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?uv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=cv,r}return i=t.child,t=i.sibling,r=Ta(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lw(t,e){return e=ep({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oh(t,e,n,r){return r!==null&&Kx(r),sc(e,t.child,null,n),t=lw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KM(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=zg(Error(se(422))),Oh(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ep({mode:"visible",children:r.children},s,0,null),i=jo(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&sc(e,t.child,null,a),e.child.memoizedState=uv(a),e.memoizedState=cv,i);if(!(e.mode&1))return Oh(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(se(419)),r=zg(i,r,void 0),Oh(t,e,a,r)}if(l=(a&t.childLanes)!==0,fr||l){if(r=Tn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bi(t,s),fs(r,t,s,-1))}return mw(),r=zg(Error(se(421))),Oh(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=o4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Sr=wa(s.nextSibling),Cr=e,Ht=!0,ls=null,t!==null&&(Mr[Lr++]=di,Mr[Lr++]=hi,Mr[Lr++]=Ro,di=t.id,hi=t.overflow,Ro=e),e=lw(e,r.children),e.flags|=4096,e)}function c1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rv(t.return,e,n)}function Wg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jC(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Jn(t,e,r.children,n),r=Gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c1(t,n,e);else if(t.tag===19)c1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ot(Gt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Wg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Wg(e,!0,n,null,i);break;case"together":Wg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=Ta(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ta(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QM(t,e,n){switch(e.tag){case 3:IC(e),rc();break;case 5:nC(e);break;case 1:pr(e.type)&&Uf(e);break;case 4:ew(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ot(zf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ot(Gt,Gt.current&1),e.flags|=128,null):n&e.child.childLanes?kC(t,e,n):(Ot(Gt,Gt.current&1),t=Ei(t,e,n),t!==null?t.sibling:null);Ot(Gt,Gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jC(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ot(Gt,Gt.current),r)break;return null;case 22:case 23:return e.lanes=0,NC(t,e,n)}return Ei(t,e,n)}var PC,dv,AC,RC;PC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dv=function(){};AC=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,xo(Ds.current);var i=null;switch(n){case"input":s=Ry(t,s),r=Ry(t,r),i=[];break;case"select":s=Yt({},s,{value:void 0}),r=Yt({},r,{value:void 0}),i=[];break;case"textarea":s=My(t,s),r=My(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vf)}Vy(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ut("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};RC=function(t,e,n,r){n!==r&&(e.flags|=4)};function au(t,e){if(!Ht)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YM(t,e,n){var r=e.pendingProps;switch(Gx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(e),null;case 1:return pr(e.type)&&Ff(),Un(e),null;case 3:return r=e.stateNode,ic(),Bt(mr),Bt(qn),nw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ls!==null&&(xv(ls),ls=null))),dv(t,e),Un(e),null;case 5:tw(e);var s=xo(id.current);if(n=e.type,t!==null&&e.stateNode!=null)AC(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return Un(e),null}if(t=xo(Ds.current),Rh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ks]=e,r[rd]=i,t=(e.mode&1)!==0,n){case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":case"embed":Ut("load",r);break;case"video":case"audio":for(s=0;s<vu.length;s++)Ut(vu[s],r);break;case"source":Ut("error",r);break;case"img":case"image":case"link":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"input":vb(r,i),Ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ut("invalid",r);break;case"textarea":wb(r,i),Ut("invalid",r)}Vy(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ah(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ah(r.textContent,l,t),s=["children",""+l]):Gu.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ut("scroll",r)}switch(n){case"input":Th(r),xb(r,i,!0);break;case"textarea":Th(r),_b(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Vf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ks]=e,t[rd]=r,PC(t,e,!1,!1),e.stateNode=t;e:{switch(a=Fy(n,r),n){case"dialog":Ut("cancel",t),Ut("close",t),s=r;break;case"iframe":case"object":case"embed":Ut("load",t),s=r;break;case"video":case"audio":for(s=0;s<vu.length;s++)Ut(vu[s],t);s=r;break;case"source":Ut("error",t),s=r;break;case"img":case"image":case"link":Ut("error",t),Ut("load",t),s=r;break;case"details":Ut("toggle",t),s=r;break;case"input":vb(t,r),s=Ry(t,r),Ut("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Yt({},r,{value:void 0}),Ut("invalid",t);break;case"textarea":wb(t,r),s=My(t,r),Ut("invalid",t);break;default:s=r}Vy(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?uN(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lN(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ku(t,c):typeof c=="number"&&Ku(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ut("scroll",t):c!=null&&Ax(t,i,c,a))}switch(n){case"input":Th(t),xb(t,r,!1);break;case"textarea":Th(t),_b(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Da(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Al(t,!!r.multiple,i,!1):r.defaultValue!=null&&Al(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Un(e),null;case 6:if(t&&e.stateNode!=null)RC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(n=xo(id.current),xo(Ds.current),Rh(e)){if(r=e.stateNode,n=e.memoizedProps,r[ks]=e,(i=r.nodeValue!==n)&&(t=Cr,t!==null))switch(t.tag){case 3:Ah(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ah(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ks]=e,e.stateNode=r}return Un(e),null;case 13:if(Bt(Gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ht&&Sr!==null&&e.mode&1&&!(e.flags&128))XN(),rc(),e.flags|=98560,i=!1;else if(i=Rh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(se(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(se(317));i[ks]=e}else rc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Un(e),i=!1}else ls!==null&&(xv(ls),ls=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Gt.current&1?vn===0&&(vn=3):mw())),e.updateQueue!==null&&(e.flags|=4),Un(e),null);case 4:return ic(),dv(t,e),t===null&&td(e.stateNode.containerInfo),Un(e),null;case 10:return Xx(e.type._context),Un(e),null;case 17:return pr(e.type)&&Ff(),Un(e),null;case 19:if(Bt(Gt),i=e.memoizedState,i===null)return Un(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)au(i,!1);else{if(vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=qf(t),a!==null){for(e.flags|=128,au(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ot(Gt,Gt.current&1|2),e.child}t=t.sibling}i.tail!==null&&an()>oc&&(e.flags|=128,r=!0,au(i,!1),e.lanes=4194304)}else{if(!r)if(t=qf(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),au(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ht)return Un(e),null}else 2*an()-i.renderingStartTime>oc&&n!==1073741824&&(e.flags|=128,r=!0,au(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=an(),e.sibling=null,n=Gt.current,Ot(Gt,r?n&1|2:n&1),e):(Un(e),null);case 22:case 23:return fw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_r&1073741824&&(Un(e),e.subtreeFlags&6&&(e.flags|=8192)):Un(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function XM(t,e){switch(Gx(e),e.tag){case 1:return pr(e.type)&&Ff(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ic(),Bt(mr),Bt(qn),nw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tw(e),null;case 13:if(Bt(Gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));rc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Bt(Gt),null;case 4:return ic(),null;case 10:return Xx(e.type._context),null;case 22:case 23:return fw(),null;case 24:return null;default:return null}}var Mh=!1,Wn=!1,ZM=typeof WeakSet=="function"?WeakSet:Set,ye=null;function jl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tn(t,e,r)}else n.current=null}function hv(t,e,n){try{n()}catch(r){tn(t,e,r)}}var u1=!1;function JM(t,e){if(Qy=Of,t=VN(),Hx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++u===s&&(l=a),m===i&&++h===r&&(c=a),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yy={focusedElem:t,selectionRange:n},Of=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var x=E.memoizedProps,b=E.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:rs(e.type,x),b);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(S){tn(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return E=u1,u1=!1,E}function Ru(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&hv(e,n,i)}s=s.next}while(s!==r)}}function Zm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DC(t){var e=t.alternate;e!==null&&(t.alternate=null,DC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ks],delete e[rd],delete e[Jy],delete e[OM],delete e[MM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OC(t){return t.tag===5||t.tag===3||t.tag===4}function d1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vf));else if(r!==4&&(t=t.child,t!==null))for(mv(t,e,n),t=t.sibling;t!==null;)mv(t,e,n),t=t.sibling}function pv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pv(t,e,n),t=t.sibling;t!==null;)pv(t,e,n),t=t.sibling}var In=null,os=!1;function Hi(t,e,n){for(n=n.child;n!==null;)MC(t,e,n),n=n.sibling}function MC(t,e,n){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(Wm,n)}catch{}switch(n.tag){case 5:Wn||jl(n,e);case 6:var r=In,s=os;In=null,Hi(t,e,n),In=r,os=s,In!==null&&(os?(t=In,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):In.removeChild(n.stateNode));break;case 18:In!==null&&(os?(t=In,n=n.stateNode,t.nodeType===8?Lg(t.parentNode,n):t.nodeType===1&&Lg(t,n),Zu(t)):Lg(In,n.stateNode));break;case 4:r=In,s=os,In=n.stateNode.containerInfo,os=!0,Hi(t,e,n),In=r,os=s;break;case 0:case 11:case 14:case 15:if(!Wn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&hv(n,e,a),s=s.next}while(s!==r)}Hi(t,e,n);break;case 1:if(!Wn&&(jl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){tn(n,e,l)}Hi(t,e,n);break;case 21:Hi(t,e,n);break;case 22:n.mode&1?(Wn=(r=Wn)||n.memoizedState!==null,Hi(t,e,n),Wn=r):Hi(t,e,n);break;default:Hi(t,e,n)}}function h1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZM),e.forEach(function(r){var s=l4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function es(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:In=l.stateNode,os=!1;break e;case 3:In=l.stateNode.containerInfo,os=!0;break e;case 4:In=l.stateNode.containerInfo,os=!0;break e}l=l.return}if(In===null)throw Error(se(160));MC(i,a,s),In=null,os=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){tn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LC(e,t),e=e.sibling}function LC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(es(e,t),bs(t),r&4){try{Ru(3,t,t.return),Zm(3,t)}catch(x){tn(t,t.return,x)}try{Ru(5,t,t.return)}catch(x){tn(t,t.return,x)}}break;case 1:es(e,t),bs(t),r&512&&n!==null&&jl(n,n.return);break;case 5:if(es(e,t),bs(t),r&512&&n!==null&&jl(n,n.return),t.flags&32){var s=t.stateNode;try{Ku(s,"")}catch(x){tn(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&iN(s,i),Fy(l,a);var u=Fy(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?uN(s,f):h==="dangerouslySetInnerHTML"?lN(s,f):h==="children"?Ku(s,f):Ax(s,h,f,u)}switch(l){case"input":Dy(s,i);break;case"textarea":aN(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Al(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?Al(s,!!i.multiple,i.defaultValue,!0):Al(s,!!i.multiple,i.multiple?[]:"",!1))}s[rd]=i}catch(x){tn(t,t.return,x)}}break;case 6:if(es(e,t),bs(t),r&4){if(t.stateNode===null)throw Error(se(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){tn(t,t.return,x)}}break;case 3:if(es(e,t),bs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zu(e.containerInfo)}catch(x){tn(t,t.return,x)}break;case 4:es(e,t),bs(t);break;case 13:es(e,t),bs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dw=an())),r&4&&h1(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Wn=(u=Wn)||h,es(e,t),Wn=u):es(e,t),bs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ye=t,h=t.child;h!==null;){for(f=ye=h;ye!==null;){switch(m=ye,g=m.child,m.tag){case 0:case 11:case 14:case 15:Ru(4,m,m.return);break;case 1:jl(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(x){tn(r,n,x)}}break;case 5:jl(m,m.return);break;case 22:if(m.memoizedState!==null){m1(f);continue}}g!==null?(g.return=m,ye=g):m1(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=cN("display",a))}catch(x){tn(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){tn(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:es(e,t),bs(t),r&4&&h1(t);break;case 21:break;default:es(e,t),bs(t)}}function bs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OC(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ku(s,""),r.flags&=-33);var i=d1(t);pv(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=d1(t);mv(t,l,a);break;default:throw Error(se(161))}}catch(c){tn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function e4(t,e,n){ye=t,VC(t)}function VC(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var s=ye,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Mh;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Wn;l=Mh;var u=Wn;if(Mh=a,(Wn=c)&&!u)for(ye=s;ye!==null;)a=ye,c=a.child,a.tag===22&&a.memoizedState!==null?p1(s):c!==null?(c.return=a,ye=c):p1(s);for(;i!==null;)ye=i,VC(i),i=i.sibling;ye=s,Mh=l,Wn=u}f1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ye=i):f1(t)}}function f1(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wn||Zm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rs(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Xb(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xb(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Zu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Wn||e.flags&512&&fv(e)}catch(m){tn(e,e.return,m)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function m1(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function p1(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zm(4,e)}catch(c){tn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){tn(e,s,c)}}var i=e.return;try{fv(e)}catch(c){tn(e,i,c)}break;case 5:var a=e.return;try{fv(e)}catch(c){tn(e,a,c)}}}catch(c){tn(e,e.return,c)}if(e===t){ye=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ye=l;break}ye=e.return}}var t4=Math.ceil,Qf=Di.ReactCurrentDispatcher,cw=Di.ReactCurrentOwner,Hr=Di.ReactCurrentBatchConfig,lt=0,Tn=null,dn=null,Pn=0,_r=0,Pl=Qa(0),vn=0,cd=null,Oo=0,Jm=0,uw=0,Du=null,dr=null,dw=0,oc=1/0,ai=null,Yf=!1,gv=null,ba=null,Lh=!1,fa=null,Xf=0,Ou=0,yv=null,uf=-1,df=0;function nr(){return lt&6?an():uf!==-1?uf:uf=an()}function Ea(t){return t.mode&1?lt&2&&Pn!==0?Pn&-Pn:VM.transition!==null?(df===0&&(df=bN()),df):(t=St,t!==0||(t=window.event,t=t===void 0?16:kN(t.type)),t):1}function fs(t,e,n,r){if(50<Ou)throw Ou=0,yv=null,Error(se(185));Md(t,n,r),(!(lt&2)||t!==Tn)&&(t===Tn&&(!(lt&2)&&(Jm|=n),vn===4&&ra(t,Pn)),gr(t,r),n===1&&lt===0&&!(e.mode&1)&&(oc=an()+500,Qm&&Ya()))}function gr(t,e){var n=t.callbackNode;VO(t,e);var r=Df(t,t===Tn?Pn:0);if(r===0)n!==null&&Tb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Tb(n),e===1)t.tag===0?LM(g1.bind(null,t)):KN(g1.bind(null,t)),RM(function(){!(lt&6)&&Ya()}),n=null;else{switch(EN(r)){case 1:n=Lx;break;case 4:n=wN;break;case 16:n=Rf;break;case 536870912:n=_N;break;default:n=Rf}n=qC(n,FC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FC(t,e){if(uf=-1,df=0,lt&6)throw Error(se(327));var n=t.callbackNode;if(Ll()&&t.callbackNode!==n)return null;var r=Df(t,t===Tn?Pn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zf(t,r);else{e=r;var s=lt;lt|=2;var i=$C();(Tn!==t||Pn!==e)&&(ai=null,oc=an()+500,ko(t,e));do try{s4();break}catch(l){UC(t,l)}while(!0);Yx(),Qf.current=i,lt=s,dn!==null?e=0:(Tn=null,Pn=0,e=vn)}if(e!==0){if(e===2&&(s=Wy(t),s!==0&&(r=s,e=vv(t,s))),e===1)throw n=cd,ko(t,0),ra(t,r),gr(t,an()),n;if(e===6)ra(t,r);else{if(s=t.current.alternate,!(r&30)&&!n4(s)&&(e=Zf(t,r),e===2&&(i=Wy(t),i!==0&&(r=i,e=vv(t,i))),e===1))throw n=cd,ko(t,0),ra(t,r),gr(t,an()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:fo(t,dr,ai);break;case 3:if(ra(t,r),(r&130023424)===r&&(e=dw+500-an(),10<e)){if(Df(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){nr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Zy(fo.bind(null,t,dr,ai),e);break}fo(t,dr,ai);break;case 4:if(ra(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-hs(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=an()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t4(r/1960))-r,10<r){t.timeoutHandle=Zy(fo.bind(null,t,dr,ai),r);break}fo(t,dr,ai);break;case 5:fo(t,dr,ai);break;default:throw Error(se(329))}}}return gr(t,an()),t.callbackNode===n?FC.bind(null,t):null}function vv(t,e){var n=Du;return t.current.memoizedState.isDehydrated&&(ko(t,e).flags|=256),t=Zf(t,e),t!==2&&(e=dr,dr=n,e!==null&&xv(e)),t}function xv(t){dr===null?dr=t:dr.push.apply(dr,t)}function n4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ps(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ra(t,e){for(e&=~uw,e&=~Jm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hs(e),r=1<<n;t[n]=-1,e&=~r}}function g1(t){if(lt&6)throw Error(se(327));Ll();var e=Df(t,0);if(!(e&1))return gr(t,an()),null;var n=Zf(t,e);if(t.tag!==0&&n===2){var r=Wy(t);r!==0&&(e=r,n=vv(t,r))}if(n===1)throw n=cd,ko(t,0),ra(t,e),gr(t,an()),n;if(n===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fo(t,dr,ai),gr(t,an()),null}function hw(t,e){var n=lt;lt|=1;try{return t(e)}finally{lt=n,lt===0&&(oc=an()+500,Qm&&Ya())}}function Mo(t){fa!==null&&fa.tag===0&&!(lt&6)&&Ll();var e=lt;lt|=1;var n=Hr.transition,r=St;try{if(Hr.transition=null,St=1,t)return t()}finally{St=r,Hr.transition=n,lt=e,!(lt&6)&&Ya()}}function fw(){_r=Pl.current,Bt(Pl)}function ko(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AM(n)),dn!==null)for(n=dn.return;n!==null;){var r=n;switch(Gx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ff();break;case 3:ic(),Bt(mr),Bt(qn),nw();break;case 5:tw(r);break;case 4:ic();break;case 13:Bt(Gt);break;case 19:Bt(Gt);break;case 10:Xx(r.type._context);break;case 22:case 23:fw()}n=n.return}if(Tn=t,dn=t=Ta(t.current,null),Pn=_r=e,vn=0,cd=null,uw=Jm=Oo=0,dr=Du=null,vo!==null){for(e=0;e<vo.length;e++)if(n=vo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}vo=null}return t}function UC(t,e){do{var n=dn;try{if(Yx(),of.current=Kf,Gf){for(var r=Kt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gf=!1}if(Do=0,En=yn=Kt=null,Au=!1,ad=0,cw.current=null,n===null||n.return===null){vn=1,cd=e,dn=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=Pn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=r1(a);if(g!==null){g.flags&=-257,s1(g,a,l,i,e),g.mode&1&&n1(i,u,e),e=g,c=u;var E=e.updateQueue;if(E===null){var x=new Set;x.add(c),e.updateQueue=x}else E.add(c);break e}else{if(!(e&1)){n1(i,u,e),mw();break e}c=Error(se(426))}}else if(Ht&&l.mode&1){var b=r1(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),s1(b,a,l,i,e),Kx(ac(c,l));break e}}i=c=ac(c,l),vn!==4&&(vn=2),Du===null?Du=[i]:Du.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=EC(i,c,e);Yb(i,w);break e;case 1:l=c;var y=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ba===null||!ba.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=TC(i,l,e);Yb(i,S);break e}}i=i.return}while(i!==null)}zC(n)}catch(P){e=P,dn===n&&n!==null&&(dn=n=n.return);continue}break}while(!0)}function $C(){var t=Qf.current;return Qf.current=Kf,t===null?Kf:t}function mw(){(vn===0||vn===3||vn===2)&&(vn=4),Tn===null||!(Oo&268435455)&&!(Jm&268435455)||ra(Tn,Pn)}function Zf(t,e){var n=lt;lt|=2;var r=$C();(Tn!==t||Pn!==e)&&(ai=null,ko(t,e));do try{r4();break}catch(s){UC(t,s)}while(!0);if(Yx(),lt=n,Qf.current=r,dn!==null)throw Error(se(261));return Tn=null,Pn=0,vn}function r4(){for(;dn!==null;)BC(dn)}function s4(){for(;dn!==null&&!kO();)BC(dn)}function BC(t){var e=HC(t.alternate,t,_r);t.memoizedProps=t.pendingProps,e===null?zC(t):dn=e,cw.current=null}function zC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XM(n,e),n!==null){n.flags&=32767,dn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vn=6,dn=null;return}}else if(n=YM(n,e,_r),n!==null){dn=n;return}if(e=e.sibling,e!==null){dn=e;return}dn=e=t}while(e!==null);vn===0&&(vn=5)}function fo(t,e,n){var r=St,s=Hr.transition;try{Hr.transition=null,St=1,i4(t,e,n,r)}finally{Hr.transition=s,St=r}return null}function i4(t,e,n,r){do Ll();while(fa!==null);if(lt&6)throw Error(se(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(FO(t,i),t===Tn&&(dn=Tn=null,Pn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lh||(Lh=!0,qC(Rf,function(){return Ll(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Hr.transition,Hr.transition=null;var a=St;St=1;var l=lt;lt|=4,cw.current=null,JM(t,n),LC(n,t),SM(Yy),Of=!!Qy,Yy=Qy=null,t.current=n,e4(n),jO(),lt=l,St=a,Hr.transition=i}else t.current=n;if(Lh&&(Lh=!1,fa=t,Xf=s),i=t.pendingLanes,i===0&&(ba=null),RO(n.stateNode),gr(t,an()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Yf)throw Yf=!1,t=gv,gv=null,t;return Xf&1&&t.tag!==0&&Ll(),i=t.pendingLanes,i&1?t===yv?Ou++:(Ou=0,yv=t):Ou=0,Ya(),null}function Ll(){if(fa!==null){var t=EN(Xf),e=Hr.transition,n=St;try{if(Hr.transition=null,St=16>t?16:t,fa===null)var r=!1;else{if(t=fa,fa=null,Xf=0,lt&6)throw Error(se(331));var s=lt;for(lt|=4,ye=t.current;ye!==null;){var i=ye,a=i.child;if(ye.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ye=u;ye!==null;){var h=ye;switch(h.tag){case 0:case 11:case 15:Ru(8,h,i)}var f=h.child;if(f!==null)f.return=h,ye=f;else for(;ye!==null;){h=ye;var m=h.sibling,g=h.return;if(DC(h),h===u){ye=null;break}if(m!==null){m.return=g,ye=m;break}ye=g}}}var E=i.alternate;if(E!==null){var x=E.child;if(x!==null){E.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}ye=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ye=a;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ru(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ye=w;break e}ye=i.return}}var y=t.current;for(ye=y;ye!==null;){a=ye;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,ye=v;else e:for(a=y;ye!==null;){if(l=ye,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zm(9,l)}}catch(P){tn(l,l.return,P)}if(l===a){ye=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ye=S;break e}ye=l.return}}if(lt=s,Ya(),Rs&&typeof Rs.onPostCommitFiberRoot=="function")try{Rs.onPostCommitFiberRoot(Wm,t)}catch{}r=!0}return r}finally{St=n,Hr.transition=e}}return!1}function y1(t,e,n){e=ac(n,e),e=EC(t,e,1),t=_a(t,e,1),e=nr(),t!==null&&(Md(t,1,e),gr(t,e))}function tn(t,e,n){if(t.tag===3)y1(t,t,n);else for(;e!==null;){if(e.tag===3){y1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ba===null||!ba.has(r))){t=ac(n,t),t=TC(e,t,1),e=_a(e,t,1),t=nr(),e!==null&&(Md(e,1,t),gr(e,t));break}}e=e.return}}function a4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nr(),t.pingedLanes|=t.suspendedLanes&n,Tn===t&&(Pn&n)===n&&(vn===4||vn===3&&(Pn&130023424)===Pn&&500>an()-dw?ko(t,0):uw|=n),gr(t,e)}function WC(t,e){e===0&&(t.mode&1?(e=Ch,Ch<<=1,!(Ch&130023424)&&(Ch=4194304)):e=1);var n=nr();t=bi(t,e),t!==null&&(Md(t,e,n),gr(t,n))}function o4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WC(t,n)}function l4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),WC(t,n)}var HC;HC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mr.current)fr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fr=!1,QM(t,e,n);fr=!!(t.flags&131072)}else fr=!1,Ht&&e.flags&1048576&&QN(e,Bf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cf(t,e),t=e.pendingProps;var s=nc(e,qn.current);Ml(e,n),s=sw(null,e,r,t,s,n);var i=iw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pr(r)?(i=!0,Uf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jx(e),s.updater=Xm,e.stateNode=s,s._reactInternals=e,iv(e,r,t,n),e=lv(null,e,r,!0,i,n)):(e.tag=0,Ht&&i&&qx(e),Jn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=u4(r),t=rs(r,t),s){case 0:e=ov(null,e,r,t,n);break e;case 1:e=o1(null,e,r,t,n);break e;case 11:e=i1(null,e,r,t,n);break e;case 14:e=a1(null,e,r,rs(r.type,t),n);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rs(r,s),ov(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rs(r,s),o1(t,e,r,s,n);case 3:e:{if(IC(e),t===null)throw Error(se(387));r=e.pendingProps,i=e.memoizedState,s=i.element,tC(t,e),Hf(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ac(Error(se(423)),e),e=l1(t,e,r,n,s);break e}else if(r!==s){s=ac(Error(se(424)),e),e=l1(t,e,r,n,s);break e}else for(Sr=wa(e.stateNode.containerInfo.firstChild),Cr=e,Ht=!0,ls=null,n=JN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rc(),r===s){e=Ei(t,e,n);break e}Jn(t,e,r,n)}e=e.child}return e;case 5:return nC(e),t===null&&nv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Xy(r,s)?a=null:i!==null&&Xy(r,i)&&(e.flags|=32),CC(t,e),Jn(t,e,a,n),e.child;case 6:return t===null&&nv(e),null;case 13:return kC(t,e,n);case 4:return ew(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sc(e,null,r,n):Jn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rs(r,s),i1(t,e,r,s,n);case 7:return Jn(t,e,e.pendingProps,n),e.child;case 8:return Jn(t,e,e.pendingProps.children,n),e.child;case 12:return Jn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ot(zf,r._currentValue),r._currentValue=a,i!==null)if(ps(i.value,a)){if(i.children===s.children&&!mr.current){e=Ei(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=pi(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),rv(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(se(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),rv(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Jn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ml(e,n),s=qr(s),r=r(s),e.flags|=1,Jn(t,e,r,n),e.child;case 14:return r=e.type,s=rs(r,e.pendingProps),s=rs(r.type,s),a1(t,e,r,s,n);case 15:return SC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rs(r,s),cf(t,e),e.tag=1,pr(r)?(t=!0,Uf(e)):t=!1,Ml(e,n),bC(e,r,s),iv(e,r,s,n),lv(null,e,r,!0,t,n);case 19:return jC(t,e,n);case 22:return NC(t,e,n)}throw Error(se(156,e.tag))};function qC(t,e){return xN(t,e)}function c4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(t,e,n,r){return new c4(t,e,n,r)}function pw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function u4(t){if(typeof t=="function")return pw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dx)return 11;if(t===Ox)return 14}return 2}function Ta(t,e){var n=t.alternate;return n===null?(n=Wr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hf(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")pw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case _l:return jo(n.children,s,i,e);case Rx:a=8,s|=8;break;case ky:return t=Wr(12,n,e,s|2),t.elementType=ky,t.lanes=i,t;case jy:return t=Wr(13,n,e,s),t.elementType=jy,t.lanes=i,t;case Py:return t=Wr(19,n,e,s),t.elementType=Py,t.lanes=i,t;case nN:return ep(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eN:a=10;break e;case tN:a=9;break e;case Dx:a=11;break e;case Ox:a=14;break e;case Zi:a=16,r=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=Wr(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function jo(t,e,n,r){return t=Wr(7,t,r,e),t.lanes=n,t}function ep(t,e,n,r){return t=Wr(22,t,r,e),t.elementType=nN,t.lanes=n,t.stateNode={isHidden:!1},t}function Hg(t,e,n){return t=Wr(6,t,null,e),t.lanes=n,t}function qg(t,e,n){return e=Wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function d4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ng(0),this.expirationTimes=Ng(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ng(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gw(t,e,n,r,s,i,a,l,c){return t=new d4(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Wr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jx(i),t}function h4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GC(t){if(!t)return Oa;t=t._reactInternals;e:{if(Yo(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var n=t.type;if(pr(n))return GN(t,n,e)}return e}function KC(t,e,n,r,s,i,a,l,c){return t=gw(n,r,!0,t,s,i,a,l,c),t.context=GC(null),n=t.current,r=nr(),s=Ea(n),i=pi(r,s),i.callback=e??null,_a(n,i,s),t.current.lanes=s,Md(t,s,r),gr(t,r),t}function tp(t,e,n,r){var s=e.current,i=nr(),a=Ea(s);return n=GC(n),e.context===null?e.context=n:e.pendingContext=n,e=pi(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_a(s,e,a),t!==null&&(fs(t,s,a,i),af(t,s,a)),a}function Jf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function v1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yw(t,e){v1(t,e),(t=t.alternate)&&v1(t,e)}function f4(){return null}var QC=typeof reportError=="function"?reportError:function(t){console.error(t)};function vw(t){this._internalRoot=t}np.prototype.render=vw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));tp(t,e,null,null)};np.prototype.unmount=vw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mo(function(){tp(null,t,null,null)}),e[_i]=null}};function np(t){this._internalRoot=t}np.prototype.unstable_scheduleHydration=function(t){if(t){var e=NN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<na.length&&e!==0&&e<na[n].priority;n++);na.splice(n,0,t),n===0&&IN(t)}};function xw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function x1(){}function m4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Jf(a);i.call(u)}}var a=KC(e,r,t,0,null,!1,!1,"",x1);return t._reactRootContainer=a,t[_i]=a.current,td(t.nodeType===8?t.parentNode:t),Mo(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Jf(c);l.call(u)}}var c=gw(t,0,!1,null,null,!1,!1,"",x1);return t._reactRootContainer=c,t[_i]=c.current,td(t.nodeType===8?t.parentNode:t),Mo(function(){tp(e,c,n,r)}),c}function sp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Jf(a);l.call(c)}}tp(e,a,t,s)}else a=m4(n,e,t,s,r);return Jf(a)}TN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yu(e.pendingLanes);n!==0&&(Vx(e,n|1),gr(e,an()),!(lt&6)&&(oc=an()+500,Ya()))}break;case 13:Mo(function(){var r=bi(t,1);if(r!==null){var s=nr();fs(r,t,1,s)}}),yw(t,1)}};Fx=function(t){if(t.tag===13){var e=bi(t,134217728);if(e!==null){var n=nr();fs(e,t,134217728,n)}yw(t,134217728)}};SN=function(t){if(t.tag===13){var e=Ea(t),n=bi(t,e);if(n!==null){var r=nr();fs(n,t,e,r)}yw(t,e)}};NN=function(){return St};CN=function(t,e){var n=St;try{return St=t,e()}finally{St=n}};$y=function(t,e,n){switch(e){case"input":if(Dy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Km(r);if(!s)throw Error(se(90));sN(r),Dy(r,s)}}}break;case"textarea":aN(t,n);break;case"select":e=n.value,e!=null&&Al(t,!!n.multiple,e,!1)}};fN=hw;mN=Mo;var p4={usingClientEntryPoint:!1,Events:[Vd,Sl,Km,dN,hN,hw]},ou={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g4={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yN(t),t===null?null:t.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||f4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{Wm=Vh.inject(g4),Rs=Vh}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p4;Pr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xw(e))throw Error(se(200));return h4(t,e,null,n)};Pr.createRoot=function(t,e){if(!xw(t))throw Error(se(299));var n=!1,r="",s=QC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=gw(t,1,!1,null,null,n,!1,r,s),t[_i]=e.current,td(t.nodeType===8?t.parentNode:t),new vw(e)};Pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=yN(e),t=t===null?null:t.stateNode,t};Pr.flushSync=function(t){return Mo(t)};Pr.hydrate=function(t,e,n){if(!rp(e))throw Error(se(200));return sp(null,t,e,!0,n)};Pr.hydrateRoot=function(t,e,n){if(!xw(t))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=QC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=KC(e,null,t,1,n??null,s,!1,i,a),t[_i]=e.current,td(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new np(e)};Pr.render=function(t,e,n){if(!rp(e))throw Error(se(200));return sp(null,t,e,!1,n)};Pr.unmountComponentAtNode=function(t){if(!rp(t))throw Error(se(40));return t._reactRootContainer?(Mo(function(){sp(null,null,t,!1,function(){t._reactRootContainer=null,t[_i]=null})}),!0):!1};Pr.unstable_batchedUpdates=hw;Pr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!rp(n))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return sp(t,e,n,!1,r)};Pr.version="18.3.1-next-f1338f8080-20240426";function YC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YC)}catch(t){console.error(t)}}YC(),YS.exports=Pr;var Xo=YS.exports;const XC=VS(Xo);var ZC,w1=Xo;ZC=w1.createRoot,w1.hydrateRoot;const y4=1,v4=1e6;let Gg=0;function x4(){return Gg=(Gg+1)%Number.MAX_SAFE_INTEGER,Gg.toString()}const Kg=new Map,_1=t=>{if(Kg.has(t))return;const e=setTimeout(()=>{Kg.delete(t),Mu({type:"REMOVE_TOAST",toastId:t})},v4);Kg.set(t,e)},w4=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,y4)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?_1(n):t.toasts.forEach(r=>{_1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ff=[];let mf={toasts:[]};function Mu(t){mf=w4(mf,t),ff.forEach(e=>{e(mf)})}function _4({...t}){const e=x4(),n=s=>Mu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Mu({type:"DISMISS_TOAST",toastId:e});return Mu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Yn(){const[t,e]=p.useState(mf);return p.useEffect(()=>(ff.push(e),()=>{const n=ff.indexOf(e);n>-1&&ff.splice(n,1)}),[t]),{...t,toast:_4,dismiss:n=>Mu({type:"DISMISS_TOAST",toastId:n})}}function Ne(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function b1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function JC(...t){return e=>{let n=!1;const r=t.map(s=>{const i=b1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():b1(t[s],null)}}}}function _t(...t){return p.useCallback(JC(...t),t)}function b4(t,e){const n=p.createContext(e),r=i=>{const{children:a,...l}=i,c=p.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=p.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Qs(t,e=[]){let n=[];function r(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];const u=f=>{var w;const{scope:m,children:g,...E}=f,x=((w=m==null?void 0:m[t])==null?void 0:w[c])||l,b=p.useMemo(()=>E,Object.values(E));return o.jsx(x.Provider,{value:b,children:g})};u.displayName=i+"Provider";function h(f,m){var x;const g=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,E=p.useContext(g);if(E)return E;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,E4(s,...e)]}function E4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function lc(t){const e=T4(t),n=p.forwardRef((r,s)=>{const{children:i,...a}=r,l=p.Children.toArray(i),c=l.find(N4);if(c){const u=c.props.children,h=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Ic=lc("Slot");function T4(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const a=I4(s),l=C4(i,s.props);return s.type!==p.Fragment&&(l.ref=r?JC(r,a):a),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eI=Symbol("radix.slottable");function S4(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=eI,e}function N4(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eI}function C4(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function I4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ww(t){const e=t+"CollectionProvider",[n,r]=Qs(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:b,children:w}=x,y=J.useRef(null),v=J.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:v,collectionRef:y,children:w})};a.displayName=e;const l=t+"CollectionSlot",c=lc(l),u=J.forwardRef((x,b)=>{const{scope:w,children:y}=x,v=i(l,w),S=_t(b,v.collectionRef);return o.jsx(c,{ref:S,children:y})});u.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=lc(h),g=J.forwardRef((x,b)=>{const{scope:w,children:y,...v}=x,S=J.useRef(null),P=_t(b,S),O=i(h,w);return J.useEffect(()=>(O.itemMap.set(S,{ref:S,...v}),()=>void O.itemMap.delete(S))),o.jsx(m,{[f]:"",ref:P,children:y})});g.displayName=h;function E(x){const b=i(t+"CollectionConsumer",x);return J.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((O,T)=>v.indexOf(O.ref.current)-v.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},E,r]}var k4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=k4.reduce((t,e)=>{const n=lc(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function tI(t,e){t&&Xo.flushSync(()=>t.dispatchEvent(e))}function Kr(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function j4(t,e=globalThis==null?void 0:globalThis.document){const n=Kr(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var P4="DismissableLayer",wv="dismissableLayer.update",A4="dismissableLayer.pointerDownOutside",R4="dismissableLayer.focusOutside",E1,nI=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ud=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=p.useContext(nI),[h,f]=p.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),E=_t(e,T=>f(T)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(b),y=h?x.indexOf(h):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=w,P=O4(T=>{const C=T.target,j=[...u.branches].some(A=>A.contains(C));!S||j||(s==null||s(T),a==null||a(T),T.defaultPrevented||l==null||l())},m),O=M4(T=>{const C=T.target;[...u.branches].some(A=>A.contains(C))||(i==null||i(T),a==null||a(T),T.defaultPrevented||l==null||l())},m);return j4(T=>{y===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},m),p.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(E1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),T1(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=E1)}},[h,m,n,u]),p.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),T1())},[h,u]),p.useEffect(()=>{const T=()=>g({});return document.addEventListener(wv,T),()=>document.removeEventListener(wv,T)},[]),o.jsx(Me.div,{...c,ref:E,style:{pointerEvents:v?S?"auto":"none":void 0,...t.style},onFocusCapture:Ne(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Ne(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ne(t.onPointerDownCapture,P.onPointerDownCapture)})});Ud.displayName=P4;var D4="DismissableLayerBranch",rI=p.forwardRef((t,e)=>{const n=p.useContext(nI),r=p.useRef(null),s=_t(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Me.div,{...t,ref:s})});rI.displayName=D4;function O4(t,e=globalThis==null?void 0:globalThis.document){const n=Kr(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){sI(A4,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function M4(t,e=globalThis==null?void 0:globalThis.document){const n=Kr(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&sI(R4,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function T1(){const t=new CustomEvent(wv);document.dispatchEvent(t)}function sI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?tI(s,i):s.dispatchEvent(i)}var L4=Ud,V4=rI,Dn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},F4="Portal",ip=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=p.useState(!1);Dn(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?XC.createPortal(o.jsx(Me.div,{...r,ref:e}),a):null});ip.displayName=F4;function U4(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Xa=t=>{const{present:e,children:n}=t,r=$4(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=_t(r.ref,B4(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};Xa.displayName="Presence";function $4(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),a=t?"mounted":"unmounted",[l,c]=U4(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Fh(r.current);i.current=l==="mounted"?u:"none"},[l]),Dn(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,g=Fh(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Dn(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=g=>{const x=Fh(r.current).includes(g.animationName);if(g.target===e&&x&&(c("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=g=>{g.target===e&&(i.current=Fh(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Fh(t){return(t==null?void 0:t.animationName)||"none"}function B4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var z4=kx[" useInsertionEffect ".trim().toString()]||Dn;function Ti({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=W4({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=p.useRef(t!==void 0);p.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=p.useCallback(h=>{var f;if(l){const m=H4(h)?h(t):h;m!==t&&((f=a.current)==null||f.call(a,m))}else i(h)},[l,t,i,a]);return[c,u]}function W4({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return z4(()=>{i.current=e},[e]),p.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function H4(t){return typeof t=="function"}var iI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),q4="VisuallyHidden",ap=p.forwardRef((t,e)=>o.jsx(Me.span,{...t,ref:e,style:{...iI,...t.style}}));ap.displayName=q4;var G4=ap,_w="ToastProvider",[bw,K4,Q4]=ww("Toast"),[aI,MQ]=Qs("Toast",[Q4]),[Y4,op]=aI(_w),oI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[l,c]=p.useState(null),[u,h]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${_w}\`. Expected non-empty \`string\`.`),o.jsx(bw.Provider,{scope:e,children:o.jsx(Y4,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>h(g=>g+1),[]),onToastRemove:p.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:a})})};oI.displayName=_w;var lI="ToastViewport",X4=["F8"],_v="toast.viewportPause",bv="toast.viewportResume",cI=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=X4,label:s="Notifications ({hotkey})",...i}=t,a=op(lI,n),l=K4(n),c=p.useRef(null),u=p.useRef(null),h=p.useRef(null),f=p.useRef(null),m=_t(e,f,a.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=a.toastCount>0;p.useEffect(()=>{const b=w=>{var v;r.length!==0&&r.every(S=>w[S]||w.code===S)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),p.useEffect(()=>{const b=c.current,w=f.current;if(E&&b&&w){const y=()=>{if(!a.isClosePausedRef.current){const O=new CustomEvent(_v);w.dispatchEvent(O),a.isClosePausedRef.current=!0}},v=()=>{if(a.isClosePausedRef.current){const O=new CustomEvent(bv);w.dispatchEvent(O),a.isClosePausedRef.current=!1}},S=O=>{!b.contains(O.relatedTarget)&&v()},P=()=>{b.contains(document.activeElement)||v()};return b.addEventListener("focusin",y),b.addEventListener("focusout",S),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",P),window.addEventListener("blur",y),window.addEventListener("focus",v),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",P),window.removeEventListener("blur",y),window.removeEventListener("focus",v)}}},[E,a.isClosePausedRef]);const x=p.useCallback(({tabbingDirection:b})=>{const y=l().map(v=>{const S=v.ref.current,P=[S,...uL(S)];return b==="forwards"?P:P.reverse()});return(b==="forwards"?y.reverse():y).flat()},[l]);return p.useEffect(()=>{const b=f.current;if(b){const w=y=>{var P,O,T;const v=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!v){const C=document.activeElement,j=y.shiftKey;if(y.target===b&&j){(P=u.current)==null||P.focus();return}const I=x({tabbingDirection:j?"backwards":"forwards"}),k=I.findIndex(V=>V===C);Qg(I.slice(k+1))?y.preventDefault():j?(O=u.current)==null||O.focus():(T=h.current)==null||T.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[l,x]),o.jsxs(V4,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&o.jsx(Ev,{ref:u,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});Qg(b)}}),o.jsx(bw.Slot,{scope:n,children:o.jsx(Me.ol,{tabIndex:-1,...i,ref:m})}),E&&o.jsx(Ev,{ref:h,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});Qg(b)}})]})});cI.displayName=lI;var uI="ToastFocusProxy",Ev=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=op(uI,n);return o.jsx(ap,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});Ev.displayName=uI;var $d="Toast",Z4="toast.swipeStart",J4="toast.swipeMove",eL="toast.swipeCancel",tL="toast.swipeEnd",dI=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=t,[l,c]=Ti({prop:r,defaultProp:s??!0,onChange:i,caller:$d});return o.jsx(Xa,{present:n||l,children:o.jsx(sL,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:Kr(t.onPause),onResume:Kr(t.onResume),onSwipeStart:Ne(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ne(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});dI.displayName=$d;var[nL,rL]=aI($d,{onClose(){}}),sL=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...E}=t,x=op($d,n),[b,w]=p.useState(null),y=_t(e,V=>w(V)),v=p.useRef(null),S=p.useRef(null),P=s||x.duration,O=p.useRef(0),T=p.useRef(P),C=p.useRef(0),{onToastAdd:j,onToastRemove:A}=x,D=Kr(()=>{var G;(b==null?void 0:b.contains(document.activeElement))&&((G=x.viewport)==null||G.focus()),a()}),I=p.useCallback(V=>{!V||V===1/0||(window.clearTimeout(C.current),O.current=new Date().getTime(),C.current=window.setTimeout(D,V))},[D]);p.useEffect(()=>{const V=x.viewport;if(V){const G=()=>{I(T.current),u==null||u()},H=()=>{const q=new Date().getTime()-O.current;T.current=T.current-q,window.clearTimeout(C.current),c==null||c()};return V.addEventListener(_v,H),V.addEventListener(bv,G),()=>{V.removeEventListener(_v,H),V.removeEventListener(bv,G)}}},[x.viewport,P,c,u,I]),p.useEffect(()=>{i&&!x.isClosePausedRef.current&&I(P)},[i,P,x.isClosePausedRef,I]),p.useEffect(()=>(j(),()=>A()),[j,A]);const k=p.useMemo(()=>b?vI(b):null,[b]);return x.viewport?o.jsxs(o.Fragment,{children:[k&&o.jsx(iL,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),o.jsx(nL,{scope:n,onClose:D,children:Xo.createPortal(o.jsx(bw.ItemSlot,{scope:n,children:o.jsx(L4,{asChild:!0,onEscapeKeyDown:Ne(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||D(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...E,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ne(t.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Ne(t.onPointerDown,V=>{V.button===0&&(v.current={x:V.clientX,y:V.clientY})}),onPointerMove:Ne(t.onPointerMove,V=>{if(!v.current)return;const G=V.clientX-v.current.x,H=V.clientY-v.current.y,q=!!S.current,U=["left","right"].includes(x.swipeDirection),B=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,$=U?B(0,G):0,X=U?0:B(0,H),le=V.pointerType==="touch"?10:2,de={x:$,y:X},xe={originalEvent:V,delta:de};q?(S.current=de,Uh(J4,f,xe,{discrete:!1})):S1(de,x.swipeDirection,le)?(S.current=de,Uh(Z4,h,xe,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(G)>le||Math.abs(H)>le)&&(v.current=null)}),onPointerUp:Ne(t.onPointerUp,V=>{const G=S.current,H=V.target;if(H.hasPointerCapture(V.pointerId)&&H.releasePointerCapture(V.pointerId),S.current=null,v.current=null,G){const q=V.currentTarget,U={originalEvent:V,delta:G};S1(G,x.swipeDirection,x.swipeThreshold)?Uh(tL,g,U,{discrete:!0}):Uh(eL,m,U,{discrete:!0}),q.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),iL=t=>{const{__scopeToast:e,children:n,...r}=t,s=op($d,e),[i,a]=p.useState(!1),[l,c]=p.useState(!1);return lL(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(ip,{asChild:!0,children:o.jsx(ap,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},aL="ToastTitle",hI=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Me.div,{...r,ref:e})});hI.displayName=aL;var oL="ToastDescription",fI=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Me.div,{...r,ref:e})});fI.displayName=oL;var mI="ToastAction",pI=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(yI,{altText:n,asChild:!0,children:o.jsx(Ew,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${mI}\`. Expected non-empty \`string\`.`),null)});pI.displayName=mI;var gI="ToastClose",Ew=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=rL(gI,n);return o.jsx(yI,{asChild:!0,children:o.jsx(Me.button,{type:"button",...r,ref:e,onClick:Ne(t.onClick,s.onClose)})})});Ew.displayName=gI;var yI=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return o.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function vI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),cL(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...vI(r))}}),e}function Uh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?tI(s,i):s.dispatchEvent(i)}var S1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function lL(t=()=>{}){const e=Kr(t);Dn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function cL(t){return t.nodeType===t.ELEMENT_NODE}function uL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Qg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var dL=oI,xI=cI,wI=dI,_I=hI,bI=fI,EI=pI,TI=Ew;function SI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=SI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function NI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=SI(t))&&(r&&(r+=" "),r+=e);return r}const N1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,C1=NI,Zo=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return C1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const m=N1(h)||N1(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...g}=h;return Object.entries(g).every(E=>{let[x,b]=E;return Array.isArray(b)?b.includes({...i,...l}[x]):{...i,...l}[x]===b})?[...u,f,m]:u},[]);return C1(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...fL,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:CI("lucide",s),...l},[...a.map(([u,h])=>p.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(mL,{ref:i,iconNode:e,className:CI(`lucide-${hL(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=De("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=De("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=De("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=De("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=De("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=De("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=De("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=De("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=De("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=De("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=De("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=De("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=De("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=De("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=De("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=De("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=De("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=De("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=De("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=De("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=De("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=De("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=De("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=De("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),kw="-",ML=t=>{const e=VL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(kw);return l[0]===""&&l.length!==1&&l.shift(),MI(l,e)||LL(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},MI=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?MI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(kw);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},j1=/^\[(.+)\]$/,LL=t=>{if(j1.test(t)){const e=j1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},VL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return UL(Object.entries(t.classGroups),n).forEach(([i,a])=>{Tv(a,r,i,e)}),r},Tv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:P1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(FL(s)){Tv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{Tv(a,P1(e,i),n,r)})})},P1=(t,e)=>{let n=t;return e.split(kw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},FL=t=>t.isThemeGetter,UL=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,$L=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},LI="!",BL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,h=0,f;for(let b=0;b<l.length;b++){let w=l[b];if(u===0){if(w===s&&(r||l.slice(b,b+i)===e)){c.push(l.slice(h,b)),h=b+i;continue}if(w==="/"){f=b;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?l:l.substring(h),g=m.startsWith(LI),E=g?m.substring(1):m,x=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:E,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:a}):a},zL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},WL=t=>({cache:$L(t.cacheSize),parseClassName:BL(t),...ML(t)}),HL=/\s+/,qL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(HL);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let E=!!g,x=r(E?m.substring(0,g):m);if(!x){if(!E){l=u+(l.length>0?" "+l:l);continue}if(x=r(m),!x){l=u+(l.length>0?" "+l:l);continue}E=!1}const b=zL(h).join(":"),w=f?b+LI:b,y=w+x;if(i.includes(y))continue;i.push(y);const v=s(x,E);for(let S=0;S<v.length;++S){const P=v[S];i.push(w+P)}l=u+(l.length>0?" "+l:l)}return l};function GL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=VI(e))&&(r&&(r+=" "),r+=n);return r}const VI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=VI(t[r]))&&(n&&(n+=" "),n+=e);return n};function KL(t,...e){let n,r,s,i=a;function a(c){const u=e.reduce((h,f)=>f(h),t());return n=WL(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=qL(c,n);return s(c,h),h}return function(){return i(GL.apply(null,arguments))}}const Ft=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},FI=/^\[(?:([a-z-]+):)?(.+)\]$/i,QL=/^\d+\/\d+$/,YL=new Set(["px","full","screen"]),XL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ri=t=>Vl(t)||YL.has(t)||QL.test(t),qi=t=>kc(t,"length",cV),Vl=t=>!!t&&!Number.isNaN(Number(t)),Xg=t=>kc(t,"number",Vl),lu=t=>!!t&&Number.isInteger(Number(t)),nV=t=>t.endsWith("%")&&Vl(t.slice(0,-1)),Ge=t=>FI.test(t),Gi=t=>XL.test(t),rV=new Set(["length","size","percentage"]),sV=t=>kc(t,rV,UI),iV=t=>kc(t,"position",UI),aV=new Set(["image","url"]),oV=t=>kc(t,aV,dV),lV=t=>kc(t,"",uV),cu=()=>!0,kc=(t,e,n)=>{const r=FI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},cV=t=>ZL.test(t)&&!JL.test(t),UI=()=>!1,uV=t=>eV.test(t),dV=t=>tV.test(t),hV=()=>{const t=Ft("colors"),e=Ft("spacing"),n=Ft("blur"),r=Ft("brightness"),s=Ft("borderColor"),i=Ft("borderRadius"),a=Ft("borderSpacing"),l=Ft("borderWidth"),c=Ft("contrast"),u=Ft("grayscale"),h=Ft("hueRotate"),f=Ft("invert"),m=Ft("gap"),g=Ft("gradientColorStops"),E=Ft("gradientColorStopPositions"),x=Ft("inset"),b=Ft("margin"),w=Ft("opacity"),y=Ft("padding"),v=Ft("saturate"),S=Ft("scale"),P=Ft("sepia"),O=Ft("skew"),T=Ft("space"),C=Ft("translate"),j=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ge,e],I=()=>[Ge,e],k=()=>["",ri,qi],V=()=>["auto",Vl,Ge],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ge],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Vl,Ge];return{cacheSize:500,separator:":",theme:{colors:[cu],spacing:[ri,qi],blur:["none","",Gi,Ge],brightness:X(),borderColor:[t],borderRadius:["none","","full",Gi,Ge],borderSpacing:I(),borderWidth:k(),contrast:X(),grayscale:B(),hueRotate:X(),invert:B(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[nV,qi],inset:D(),margin:D(),opacity:X(),padding:I(),saturate:X(),scale:X(),sepia:B(),skew:X(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[Gi]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Ge]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lu,Ge]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",lu,Ge]}],"grid-cols":[{"grid-cols":[cu]}],"col-start-end":[{col:["auto",{span:["full",lu,Ge]},Ge]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[cu]}],"row-start-end":[{row:["auto",{span:[lu,Ge]},Ge]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,e]}],"min-w":[{"min-w":[Ge,e,"min","max","fit"]}],"max-w":[{"max-w":[Ge,e,"none","full","min","max","fit","prose",{screen:[Gi]},Gi]}],h:[{h:[Ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Gi,qi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xg]}],"font-family":[{font:[cu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",Vl,Xg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ri,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ri,qi]}],"underline-offset":[{"underline-offset":["auto",ri,Ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),iV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},oV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[ri,Ge]}],"outline-w":[{outline:[ri,qi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[ri,qi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Gi,lV]}],"shadow-color":[{shadow:[cu]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Gi,Ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[lu,Ge]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ri,qi,Xg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fV=KL(hV);function ae(...t){return fV(NI(t))}const mV=dL,$I=p.forwardRef(({className:t,...e},n)=>o.jsx(xI,{ref:n,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));$I.displayName=xI.displayName;const pV=Zo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),BI=p.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(wI,{ref:r,className:ae(pV({variant:e}),t),...n}));BI.displayName=wI.displayName;const gV=p.forwardRef(({className:t,...e},n)=>o.jsx(EI,{ref:n,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));gV.displayName=EI.displayName;const zI=p.forwardRef(({className:t,...e},n)=>o.jsx(TI,{ref:n,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(cp,{className:"h-4 w-4"})}));zI.displayName=TI.displayName;const WI=p.forwardRef(({className:t,...e},n)=>o.jsx(_I,{ref:n,className:ae("text-sm font-semibold",t),...e}));WI.displayName=_I.displayName;const HI=p.forwardRef(({className:t,...e},n)=>o.jsx(bI,{ref:n,className:ae("text-sm opacity-90",t),...e}));HI.displayName=bI.displayName;function yV(){const{toasts:t}=Yn();return o.jsxs(mV,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return o.jsxs(BI,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(WI,{children:n}),r&&o.jsx(HI,{children:r})]}),s,o.jsx(zI,{})]},e)}),o.jsx($I,{})]})}var A1=["light","dark"],vV="(prefers-color-scheme: dark)",xV=p.createContext(void 0),wV={setTheme:t=>{},themes:[]},_V=()=>{var t;return(t=p.useContext(xV))!=null?t:wV};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?A1.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(E,x=!1,b=!0)=>{let w=a?a[E]:E,y=x?E+"|| ''":`'${w}'`,v="";return s&&b&&!x&&A1.includes(E)&&(v+=`d.style.colorScheme = '${E}';`),n==="class"?x||w?v+=`c.add(${y})`:v+="null":w&&(v+=`d[s](n,${y})`),v},g=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${vV}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var bV=t=>{switch(t){case"success":return SV;case"info":return CV;case"warning":return NV;case"error":return IV;default:return null}},EV=Array(12).fill(0),TV=({visible:t,className:e})=>J.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},J.createElement("div",{className:"sonner-spinner"},EV.map((n,r)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),SV=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),NV=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),CV=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),IV=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kV=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),jV=()=>{let[t,e]=J.useState(document.hidden);return J.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Sv=1,PV=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Sv++,a=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,a,l=s.then(async u=>{if(a=["resolve",u],J.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(RV(u)&&!u.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,h)=>l.then(()=>a[0]==="reject"?h(a[1]):u(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Sv++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},cr=new PV,AV=(t,e)=>{let n=(e==null?void 0:e.id)||Sv++;return cr.addToast({title:t,...e,id:n}),n},RV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",DV=AV,OV=()=>cr.toasts,MV=()=>cr.getActiveToasts();Object.assign(DV,{success:cr.success,info:cr.info,warning:cr.warning,error:cr.error,custom:cr.custom,message:cr.message,promise:cr.promise,dismiss:cr.dismiss,loading:cr.loading},{getHistory:OV,getToasts:MV});function LV(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}LV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function $h(t){return t.label!==void 0}var VV=3,FV="32px",UV="16px",R1=4e3,$V=356,BV=14,zV=20,WV=200;function ts(...t){return t.filter(Boolean).join(" ")}function HV(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var qV=t=>{var e,n,r,s,i,a,l,c,u,h,f;let{invert:m,toast:g,unstyled:E,interacting:x,setHeights:b,visibleToasts:w,heights:y,index:v,toasts:S,expanded:P,removeToast:O,defaultRichColors:T,closeButton:C,style:j,cancelButtonStyle:A,actionButtonStyle:D,className:I="",descriptionClassName:k="",duration:V,position:G,gap:H,loadingIcon:q,expandByDefault:U,classNames:B,icons:$,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:le}=t,[de,xe]=J.useState(null),[Ce,st]=J.useState(null),[ie,He]=J.useState(!1),[it,Re]=J.useState(!1),[Pe,Ae]=J.useState(!1),[Nt,ge]=J.useState(!1),[we,et]=J.useState(!1),[ut,At]=J.useState(0),[Be,L]=J.useState(0),z=J.useRef(g.duration||V||R1),M=J.useRef(null),Q=J.useRef(null),Z=v===0,re=v+1<=w,F=g.type,Y=g.dismissible!==!1,ce=g.className||"",ze=g.descriptionClassName||"",tt=J.useMemo(()=>y.findIndex(Oe=>Oe.toastId===g.id)||0,[y,g.id]),Lt=J.useMemo(()=>{var Oe;return(Oe=g.closeButton)!=null?Oe:C},[g.closeButton,C]),_n=J.useMemo(()=>g.duration||V||R1,[g.duration,V]),It=J.useRef(0),qt=J.useRef(0),Ct=J.useRef(0),pn=J.useRef(null),[Rr,$i]=G.split("-"),Wc=J.useMemo(()=>y.reduce((Oe,ot,kt)=>kt>=tt?Oe:Oe+ot.height,0),[y,tt]),Hc=jV(),ao=g.invert||m,oo=F==="loading";qt.current=J.useMemo(()=>tt*H+Wc,[tt,Wc]),J.useEffect(()=>{z.current=_n},[_n]),J.useEffect(()=>{He(!0)},[]),J.useEffect(()=>{let Oe=Q.current;if(Oe){let ot=Oe.getBoundingClientRect().height;return L(ot),b(kt=>[{toastId:g.id,height:ot,position:g.position},...kt]),()=>b(kt=>kt.filter(Sn=>Sn.toastId!==g.id))}},[b,g.id]),J.useLayoutEffect(()=>{if(!ie)return;let Oe=Q.current,ot=Oe.style.height;Oe.style.height="auto";let kt=Oe.getBoundingClientRect().height;Oe.style.height=ot,L(kt),b(Sn=>Sn.find(ar=>ar.toastId===g.id)?Sn.map(ar=>ar.toastId===g.id?{...ar,height:kt}:ar):[{toastId:g.id,height:kt,position:g.position},...Sn])},[ie,g.title,g.description,b,g.id]);let Dr=J.useCallback(()=>{Re(!0),At(qt.current),b(Oe=>Oe.filter(ot=>ot.toastId!==g.id)),setTimeout(()=>{O(g)},WV)},[g,O,b,qt]);J.useEffect(()=>{if(g.promise&&F==="loading"||g.duration===1/0||g.type==="loading")return;let Oe;return P||x||le&&Hc?(()=>{if(Ct.current<It.current){let ot=new Date().getTime()-It.current;z.current=z.current-ot}Ct.current=new Date().getTime()})():z.current!==1/0&&(It.current=new Date().getTime(),Oe=setTimeout(()=>{var ot;(ot=g.onAutoClose)==null||ot.call(g,g),Dr()},z.current)),()=>clearTimeout(Oe)},[P,x,g,F,le,Hc,Dr]),J.useEffect(()=>{g.delete&&Dr()},[Dr,g.delete]);function ei(){var Oe,ot,kt;return $!=null&&$.loading?J.createElement("div",{className:ts(B==null?void 0:B.loader,(Oe=g==null?void 0:g.classNames)==null?void 0:Oe.loader,"sonner-loader"),"data-visible":F==="loading"},$.loading):q?J.createElement("div",{className:ts(B==null?void 0:B.loader,(ot=g==null?void 0:g.classNames)==null?void 0:ot.loader,"sonner-loader"),"data-visible":F==="loading"},q):J.createElement(TV,{className:ts(B==null?void 0:B.loader,(kt=g==null?void 0:g.classNames)==null?void 0:kt.loader),visible:F==="loading"})}return J.createElement("li",{tabIndex:0,ref:Q,className:ts(I,ce,B==null?void 0:B.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[F],(n=g==null?void 0:g.classNames)==null?void 0:n[F]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:T,"data-styled":!(g.jsx||g.unstyled||E),"data-mounted":ie,"data-promise":!!g.promise,"data-swiped":we,"data-removed":it,"data-visible":re,"data-y-position":Rr,"data-x-position":$i,"data-index":v,"data-front":Z,"data-swiping":Pe,"data-dismissible":Y,"data-type":F,"data-invert":ao,"data-swipe-out":Nt,"data-swipe-direction":Ce,"data-expanded":!!(P||U&&ie),style:{"--index":v,"--toasts-before":v,"--z-index":S.length-v,"--offset":`${it?ut:qt.current}px`,"--initial-height":U?"auto":`${Be}px`,...j,...g.style},onDragEnd:()=>{Ae(!1),xe(null),pn.current=null},onPointerDown:Oe=>{oo||!Y||(M.current=new Date,At(qt.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(Ae(!0),pn.current={x:Oe.clientX,y:Oe.clientY}))},onPointerUp:()=>{var Oe,ot,kt,Sn;if(Nt||!Y)return;pn.current=null;let ar=Number(((Oe=Q.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wt=Number(((ot=Q.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),_s=new Date().getTime()-((kt=M.current)==null?void 0:kt.getTime()),Nn=de==="x"?ar:Wt,or=Math.abs(Nn)/_s;if(Math.abs(Nn)>=zV||or>.11){At(qt.current),(Sn=g.onDismiss)==null||Sn.call(g,g),st(de==="x"?ar>0?"right":"left":Wt>0?"down":"up"),Dr(),ge(!0),et(!1);return}Ae(!1),xe(null)},onPointerMove:Oe=>{var ot,kt,Sn,ar;if(!pn.current||!Y||((ot=window.getSelection())==null?void 0:ot.toString().length)>0)return;let Wt=Oe.clientY-pn.current.y,_s=Oe.clientX-pn.current.x,Nn=(kt=t.swipeDirections)!=null?kt:HV(G);!de&&(Math.abs(_s)>1||Math.abs(Wt)>1)&&xe(Math.abs(_s)>Math.abs(Wt)?"x":"y");let or={x:0,y:0};de==="y"?(Nn.includes("top")||Nn.includes("bottom"))&&(Nn.includes("top")&&Wt<0||Nn.includes("bottom")&&Wt>0)&&(or.y=Wt):de==="x"&&(Nn.includes("left")||Nn.includes("right"))&&(Nn.includes("left")&&_s<0||Nn.includes("right")&&_s>0)&&(or.x=_s),(Math.abs(or.x)>0||Math.abs(or.y)>0)&&et(!0),(Sn=Q.current)==null||Sn.style.setProperty("--swipe-amount-x",`${or.x}px`),(ar=Q.current)==null||ar.style.setProperty("--swipe-amount-y",`${or.y}px`)}},Lt&&!g.jsx?J.createElement("button",{"aria-label":X,"data-disabled":oo,"data-close-button":!0,onClick:oo||!Y?()=>{}:()=>{var Oe;Dr(),(Oe=g.onDismiss)==null||Oe.call(g,g)},className:ts(B==null?void 0:B.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=$==null?void 0:$.close)!=null?i:kV):null,g.jsx||p.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:J.createElement(J.Fragment,null,F||g.icon||g.promise?J.createElement("div",{"data-icon":"",className:ts(B==null?void 0:B.icon,(a=g==null?void 0:g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ei():null,g.type!=="loading"?g.icon||($==null?void 0:$[F])||bV(F):null):null,J.createElement("div",{"data-content":"",className:ts(B==null?void 0:B.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},J.createElement("div",{"data-title":"",className:ts(B==null?void 0:B.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?J.createElement("div",{"data-description":"",className:ts(k,ze,B==null?void 0:B.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),p.isValidElement(g.cancel)?g.cancel:g.cancel&&$h(g.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||A,onClick:Oe=>{var ot,kt;$h(g.cancel)&&Y&&((kt=(ot=g.cancel).onClick)==null||kt.call(ot,Oe),Dr())},className:ts(B==null?void 0:B.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,p.isValidElement(g.action)?g.action:g.action&&$h(g.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||D,onClick:Oe=>{var ot,kt;$h(g.action)&&((kt=(ot=g.action).onClick)==null||kt.call(ot,Oe),!Oe.defaultPrevented&&Dr())},className:ts(B==null?void 0:B.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function D1(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function GV(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?UV:FV;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var KV=p.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:m,style:g,visibleToasts:E=VV,toastOptions:x,dir:b=D1(),gap:w=BV,loadingIcon:y,icons:v,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:P}=t,[O,T]=J.useState([]),C=J.useMemo(()=>Array.from(new Set([r].concat(O.filter(le=>le.position).map(le=>le.position)))),[O,r]),[j,A]=J.useState([]),[D,I]=J.useState(!1),[k,V]=J.useState(!1),[G,H]=J.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=J.useRef(null),U=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=J.useRef(null),$=J.useRef(!1),X=J.useCallback(le=>{T(de=>{var xe;return(xe=de.find(Ce=>Ce.id===le.id))!=null&&xe.delete||cr.dismiss(le.id),de.filter(({id:Ce})=>Ce!==le.id)})},[]);return J.useEffect(()=>cr.subscribe(le=>{if(le.dismiss){T(de=>de.map(xe=>xe.id===le.id?{...xe,delete:!0}:xe));return}setTimeout(()=>{XC.flushSync(()=>{T(de=>{let xe=de.findIndex(Ce=>Ce.id===le.id);return xe!==-1?[...de.slice(0,xe),{...de[xe],...le},...de.slice(xe+1)]:[le,...de]})})})}),[]),J.useEffect(()=>{if(h!=="system"){H(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let le=window.matchMedia("(prefers-color-scheme: dark)");try{le.addEventListener("change",({matches:de})=>{H(de?"dark":"light")})}catch{le.addListener(({matches:xe})=>{try{H(xe?"dark":"light")}catch(Ce){console.error(Ce)}})}},[h]),J.useEffect(()=>{O.length<=1&&I(!1)},[O]),J.useEffect(()=>{let le=de=>{var xe,Ce;s.every(st=>de[st]||de.code===st)&&(I(!0),(xe=q.current)==null||xe.focus()),de.code==="Escape"&&(document.activeElement===q.current||(Ce=q.current)!=null&&Ce.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",le),()=>document.removeEventListener("keydown",le)},[s]),J.useEffect(()=>{if(q.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,$.current=!1)}},[q.current]),J.createElement("section",{ref:e,"aria-label":`${S} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((le,de)=>{var xe;let[Ce,st]=le.split("-");return O.length?J.createElement("ol",{key:le,dir:b==="auto"?D1():b,tabIndex:-1,ref:q,className:l,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":Ce,"data-lifted":D&&O.length>1&&!i,"data-x-position":st,style:{"--front-toast-height":`${((xe=j[0])==null?void 0:xe.height)||0}px`,"--width":`${$V}px`,"--gap":`${w}px`,...g,...GV(c,u)},onBlur:ie=>{$.current&&!ie.currentTarget.contains(ie.relatedTarget)&&($.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||$.current||($.current=!0,B.current=ie.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{k||I(!1)},onDragEnd:()=>I(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},O.filter(ie=>!ie.position&&de===0||ie.position===le).map((ie,He)=>{var it,Re;return J.createElement(qV,{key:ie.id,icons:v,index:He,toast:ie,defaultRichColors:f,duration:(it=x==null?void 0:x.duration)!=null?it:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:E,closeButton:(Re=x==null?void 0:x.closeButton)!=null?Re:a,interacting:k,position:le,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:X,toasts:O.filter(Pe=>Pe.position==ie.position),heights:j.filter(Pe=>Pe.position==ie.position),setHeights:A,expandByDefault:i,gap:w,loadingIcon:y,expanded:D,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const QV=({...t})=>{const{theme:e="system"}=_V();return o.jsx(KV,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var YV=kx[" useId ".trim().toString()]||(()=>{}),XV=0;function gi(t){const[e,n]=p.useState(YV());return Dn(()=>{n(r=>r??String(XV++))},[t]),e?`radix-${e}`:""}const ZV=["top","right","bottom","left"],Ma=Math.min,Er=Math.max,tm=Math.round,Bh=Math.floor,Os=t=>({x:t,y:t}),JV={left:"right",right:"left",bottom:"top",top:"bottom"},eF={start:"end",end:"start"};function Nv(t,e,n){return Er(t,Ma(e,n))}function Ni(t,e){return typeof t=="function"?t(e):t}function Ci(t){return t.split("-")[0]}function jc(t){return t.split("-")[1]}function jw(t){return t==="x"?"y":"x"}function Pw(t){return t==="y"?"height":"width"}const tF=new Set(["top","bottom"]);function Ps(t){return tF.has(Ci(t))?"y":"x"}function Aw(t){return jw(Ps(t))}function nF(t,e,n){n===void 0&&(n=!1);const r=jc(t),s=Aw(t),i=Pw(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=nm(a)),[a,nm(a)]}function rF(t){const e=nm(t);return[Cv(t),e,Cv(e)]}function Cv(t){return t.replace(/start|end/g,e=>eF[e])}const O1=["left","right"],M1=["right","left"],sF=["top","bottom"],iF=["bottom","top"];function aF(t,e,n){switch(t){case"top":case"bottom":return n?e?M1:O1:e?O1:M1;case"left":case"right":return e?sF:iF;default:return[]}}function oF(t,e,n,r){const s=jc(t);let i=aF(Ci(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(Cv)))),i}function nm(t){return t.replace(/left|right|bottom|top/g,e=>JV[e])}function lF(t){return{top:0,right:0,bottom:0,left:0,...t}}function qI(t){return typeof t!="number"?lF(t):{top:t,right:t,bottom:t,left:t}}function rm(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function L1(t,e,n){let{reference:r,floating:s}=t;const i=Ps(e),a=Aw(e),l=Pw(a),c=Ci(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(jc(e)){case"start":g[a]-=m*(n&&u?-1:1);break;case"end":g[a]+=m*(n&&u?-1:1);break}return g}const cF=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=L1(u,r,c),m=r,g={},E=0;for(let x=0;x<l.length;x++){const{name:b,fn:w}=l[x],{x:y,y:v,data:S,reset:P}=await w({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:t,floating:e}});h=y??h,f=v??f,g={...g,[b]:{...g[b],...S}},P&&E<=50&&(E++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(u=P.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):P.rects),{x:h,y:f}=L1(u,m,c)),x=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:g}};async function dd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=Ni(e,t),E=qI(g),b=l[m?f==="floating"?"reference":"floating":f],w=rm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),y=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},P=rm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:v,strategy:c}):y);return{top:(w.top-P.top+E.top)/S.y,bottom:(P.bottom-w.bottom+E.bottom)/S.y,left:(w.left-P.left+E.left)/S.x,right:(P.right-w.right+E.right)/S.x}}const uF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=Ni(t,e)||{};if(u==null)return{};const f=qI(h),m={x:n,y:r},g=Aw(s),E=Pw(g),x=await a.getDimensions(u),b=g==="y",w=b?"top":"left",y=b?"bottom":"right",v=b?"clientHeight":"clientWidth",S=i.reference[E]+i.reference[g]-m[g]-i.floating[E],P=m[g]-i.reference[g],O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let T=O?O[v]:0;(!T||!await(a.isElement==null?void 0:a.isElement(O)))&&(T=l.floating[v]||i.floating[E]);const C=S/2-P/2,j=T/2-x[E]/2-1,A=Ma(f[w],j),D=Ma(f[y],j),I=A,k=T-x[E]-D,V=T/2-x[E]/2+C,G=Nv(I,V,k),H=!c.arrow&&jc(s)!=null&&V!==G&&i.reference[E]/2-(V<I?A:D)-x[E]/2<0,q=H?V<I?V-I:V-k:0;return{[g]:m[g]+q,data:{[g]:G,centerOffset:V-G-q,...H&&{alignmentOffset:q}},reset:H}}}),dF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:x=!0,...b}=Ni(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Ci(s),y=Ps(l),v=Ci(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),P=m||(v||!x?[nm(l)]:rF(l)),O=E!=="none";!m&&O&&P.push(...oF(l,x,E,S));const T=[l,...P],C=await dd(e,b),j=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&j.push(C[w]),f){const V=nF(s,a,S);j.push(C[V[0]],C[V[1]])}if(A=[...A,{placement:s,overflows:j}],!j.every(V=>V<=0)){var D,I;const V=(((D=i.flip)==null?void 0:D.index)||0)+1,G=T[V];if(G&&(!(f==="alignment"?y!==Ps(G):!1)||A.every(U=>U.overflows[0]>0&&Ps(U.placement)===y)))return{data:{index:V,overflows:A},reset:{placement:G}};let H=(I=A.filter(q=>q.overflows[0]<=0).sort((q,U)=>q.overflows[1]-U.overflows[1])[0])==null?void 0:I.placement;if(!H)switch(g){case"bestFit":{var k;const q=(k=A.filter(U=>{if(O){const B=Ps(U.placement);return B===y||B==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(B=>B>0).reduce((B,$)=>B+$,0)]).sort((U,B)=>U[1]-B[1])[0])==null?void 0:k[0];q&&(H=q);break}case"initialPlacement":H=l;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function V1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function F1(t){return ZV.some(e=>t[e]>=0)}const hF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ni(t,e);switch(r){case"referenceHidden":{const i=await dd(e,{...s,elementContext:"reference"}),a=V1(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:F1(a)}}}case"escaped":{const i=await dd(e,{...s,altBoundary:!0}),a=V1(i,n.floating);return{data:{escapedOffsets:a,escaped:F1(a)}}}default:return{}}}}},GI=new Set(["left","top"]);async function fF(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Ci(n),l=jc(n),c=Ps(n)==="y",u=GI.has(a)?-1:1,h=i&&c?-1:1,f=Ni(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:E}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof E=="number"&&(g=l==="end"?E*-1:E),c?{x:g*h,y:m*u}:{x:m*u,y:g*h}}const mF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await fF(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},pF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:w,y}=b;return{x:w,y}}},...c}=Ni(t,e),u={x:n,y:r},h=await dd(e,c),f=Ps(Ci(s)),m=jw(f);let g=u[m],E=u[f];if(i){const b=m==="y"?"top":"left",w=m==="y"?"bottom":"right",y=g+h[b],v=g-h[w];g=Nv(y,g,v)}if(a){const b=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=E+h[b],v=E-h[w];E=Nv(y,E,v)}const x=l.fn({...e,[m]:g,[f]:E});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:i,[f]:a}}}}}},gF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ni(t,e),h={x:n,y:r},f=Ps(s),m=jw(f);let g=h[m],E=h[f];const x=Ni(l,e),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=m==="y"?"height":"width",S=i.reference[m]-i.floating[v]+b.mainAxis,P=i.reference[m]+i.reference[v]-b.mainAxis;g<S?g=S:g>P&&(g=P)}if(u){var w,y;const v=m==="y"?"width":"height",S=GI.has(Ci(s)),P=i.reference[f]-i.floating[v]+(S&&((w=a.offset)==null?void 0:w[f])||0)+(S?0:b.crossAxis),O=i.reference[f]+i.reference[v]+(S?0:((y=a.offset)==null?void 0:y[f])||0)-(S?b.crossAxis:0);E<P?E=P:E>O&&(E=O)}return{[m]:g,[f]:E}}}},yF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=Ni(t,e),h=await dd(e,u),f=Ci(s),m=jc(s),g=Ps(s)==="y",{width:E,height:x}=i.floating;let b,w;f==="top"||f==="bottom"?(b=f,w=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,b=m==="end"?"top":"bottom");const y=x-h.top-h.bottom,v=E-h.left-h.right,S=Ma(x-h[b],y),P=Ma(E-h[w],v),O=!e.middlewareData.shift;let T=S,C=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=v),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=y),O&&!m){const A=Er(h.left,0),D=Er(h.right,0),I=Er(h.top,0),k=Er(h.bottom,0);g?C=E-2*(A!==0||D!==0?A+D:Er(h.left,h.right)):T=x-2*(I!==0||k!==0?I+k:Er(h.top,h.bottom))}await c({...e,availableWidth:C,availableHeight:T});const j=await a.getDimensions(l.floating);return E!==j.width||x!==j.height?{reset:{rects:!0}}:{}}}};function up(){return typeof window<"u"}function Pc(t){return KI(t)?(t.nodeName||"").toLowerCase():"#document"}function Ir(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ys(t){var e;return(e=(KI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function KI(t){return up()?t instanceof Node||t instanceof Ir(t).Node:!1}function ys(t){return up()?t instanceof Element||t instanceof Ir(t).Element:!1}function qs(t){return up()?t instanceof HTMLElement||t instanceof Ir(t).HTMLElement:!1}function U1(t){return!up()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ir(t).ShadowRoot}const vF=new Set(["inline","contents"]);function Bd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=vs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!vF.has(s)}const xF=new Set(["table","td","th"]);function wF(t){return xF.has(Pc(t))}const _F=[":popover-open",":modal"];function dp(t){return _F.some(e=>{try{return t.matches(e)}catch{return!1}})}const bF=["transform","translate","scale","rotate","perspective"],EF=["transform","translate","scale","rotate","perspective","filter"],TF=["paint","layout","strict","content"];function Rw(t){const e=Dw(),n=ys(t)?vs(t):t;return bF.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||EF.some(r=>(n.willChange||"").includes(r))||TF.some(r=>(n.contain||"").includes(r))}function SF(t){let e=La(t);for(;qs(e)&&!cc(e);){if(Rw(e))return e;if(dp(e))return null;e=La(e)}return null}function Dw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NF=new Set(["html","body","#document"]);function cc(t){return NF.has(Pc(t))}function vs(t){return Ir(t).getComputedStyle(t)}function hp(t){return ys(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function La(t){if(Pc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||U1(t)&&t.host||Ys(t);return U1(e)?e.host:e}function QI(t){const e=La(t);return cc(e)?t.ownerDocument?t.ownerDocument.body:t.body:qs(e)&&Bd(e)?e:QI(e)}function hd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=QI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Ir(s);if(i){const l=Iv(a);return e.concat(a,a.visualViewport||[],Bd(s)?s:[],l&&n?hd(l):[])}return e.concat(s,hd(s,[],n))}function Iv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function YI(t){const e=vs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=qs(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=tm(n)!==i||tm(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function Ow(t){return ys(t)?t:t.contextElement}function Fl(t){const e=Ow(t);if(!qs(e))return Os(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=YI(e);let a=(i?tm(n.width):n.width)/r,l=(i?tm(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const CF=Os(0);function XI(t){const e=Ir(t);return!Dw()||!e.visualViewport?CF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function IF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ir(t)?!1:e}function Lo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Ow(t);let a=Os(1);e&&(r?ys(r)&&(a=Fl(r)):a=Fl(t));const l=IF(i,n,r)?XI(i):Os(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(i){const m=Ir(i),g=r&&ys(r)?Ir(r):r;let E=m,x=Iv(E);for(;x&&r&&g!==E;){const b=Fl(x),w=x.getBoundingClientRect(),y=vs(x),v=w.left+(x.clientLeft+parseFloat(y.paddingLeft))*b.x,S=w.top+(x.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,u*=b.y,h*=b.x,f*=b.y,c+=v,u+=S,E=Ir(x),x=Iv(E)}}return rm({width:h,height:f,x:c,y:u})}function Mw(t,e){const n=hp(t).scrollLeft;return e?e.left+n:Lo(Ys(t)).left+n}function ZI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Mw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function kF(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Ys(r),l=e?dp(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Os(1);const h=Os(0),f=qs(r);if((f||!f&&!i)&&((Pc(r)!=="body"||Bd(a))&&(c=hp(r)),qs(r))){const g=Lo(r);u=Fl(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const m=a&&!f&&!i?ZI(a,c,!0):Os(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function jF(t){return Array.from(t.getClientRects())}function PF(t){const e=Ys(t),n=hp(t),r=t.ownerDocument.body,s=Er(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Er(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Mw(t);const l=-n.scrollTop;return vs(r).direction==="rtl"&&(a+=Er(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function AF(t,e){const n=Ir(t),r=Ys(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=Dw();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const RF=new Set(["absolute","fixed"]);function DF(t,e){const n=Lo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=qs(t)?Fl(t):Os(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function $1(t,e,n){let r;if(e==="viewport")r=AF(t,n);else if(e==="document")r=PF(Ys(t));else if(ys(e))r=DF(e,n);else{const s=XI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return rm(r)}function JI(t,e){const n=La(t);return n===e||!ys(n)||cc(n)?!1:vs(n).position==="fixed"||JI(n,e)}function OF(t,e){const n=e.get(t);if(n)return n;let r=hd(t,[],!1).filter(l=>ys(l)&&Pc(l)!=="body"),s=null;const i=vs(t).position==="fixed";let a=i?La(t):t;for(;ys(a)&&!cc(a);){const l=vs(a),c=Rw(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&RF.has(s.position)||Bd(a)&&!c&&JI(t,a))?r=r.filter(h=>h!==a):s=l,a=La(a)}return e.set(t,r),r}function MF(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?dp(e)?[]:OF(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,h)=>{const f=$1(e,h,s);return u.top=Er(f.top,u.top),u.right=Ma(f.right,u.right),u.bottom=Ma(f.bottom,u.bottom),u.left=Er(f.left,u.left),u},$1(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function LF(t){const{width:e,height:n}=YI(t);return{width:e,height:n}}function VF(t,e,n){const r=qs(e),s=Ys(e),i=n==="fixed",a=Lo(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Os(0);function u(){c.x=Mw(s)}if(r||!r&&!i)if((Pc(e)!=="body"||Bd(s))&&(l=hp(e)),r){const g=Lo(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?ZI(s,l):Os(0),f=a.left+l.scrollLeft-c.x-h.x,m=a.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:a.width,height:a.height}}function Zg(t){return vs(t).position==="static"}function B1(t,e){if(!qs(t)||vs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ys(t)===n&&(n=n.ownerDocument.body),n}function ek(t,e){const n=Ir(t);if(dp(t))return n;if(!qs(t)){let s=La(t);for(;s&&!cc(s);){if(ys(s)&&!Zg(s))return s;s=La(s)}return n}let r=B1(t,e);for(;r&&wF(r)&&Zg(r);)r=B1(r,e);return r&&cc(r)&&Zg(r)&&!Rw(r)?n:r||SF(t)||n}const FF=async function(t){const e=this.getOffsetParent||ek,n=this.getDimensions,r=await n(t.floating);return{reference:VF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UF(t){return vs(t).direction==="rtl"}const $F={convertOffsetParentRelativeRectToViewportRelativeRect:kF,getDocumentElement:Ys,getClippingRect:MF,getOffsetParent:ek,getElementRects:FF,getClientRects:jF,getDimensions:LF,getScale:Fl,isElement:ys,isRTL:UF};function tk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function BF(t,e){let n=null,r;const s=Ys(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:h,top:f,width:m,height:g}=u;if(l||e(),!m||!g)return;const E=Bh(f),x=Bh(s.clientWidth-(h+m)),b=Bh(s.clientHeight-(f+g)),w=Bh(h),v={rootMargin:-E+"px "+-x+"px "+-b+"px "+-w+"px",threshold:Er(0,Ma(1,c))||1};let S=!0;function P(O){const T=O[0].intersectionRatio;if(T!==c){if(!S)return a();T?a(!1,T):r=setTimeout(()=>{a(!1,1e-7)},1e3)}T===1&&!tk(u,t.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(P,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,v)}n.observe(t)}return a(!0),i}function zF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Ow(t),h=s||i?[...u?hd(u):[],...hd(e)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=u&&l?BF(u,n):null;let m=-1,g=null;a&&(g=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=g)==null||v.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let E,x=c?Lo(t):null;c&&b();function b(){const w=Lo(t);x&&!tk(x,w)&&n(),x=w,E=requestAnimationFrame(b)}return n(),()=>{var w;h.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(E)}}const WF=mF,HF=pF,qF=dF,GF=yF,KF=hF,z1=uF,QF=gF,YF=(t,e,n)=>{const r=new Map,s={platform:$F,...n},i={...s.platform,_c:r};return cF(t,e,{...s,platform:i})};var XF=typeof document<"u",ZF=function(){},pf=XF?p.useLayoutEffect:ZF;function sm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!sm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!sm(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function nk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function W1(t,e){const n=nk(t);return Math.round(e*n)/n}function Jg(t){const e=p.useRef(t);return pf(()=>{e.current=t}),e}function JF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=p.useState(r);sm(m,r)||g(r);const[E,x]=p.useState(null),[b,w]=p.useState(null),y=p.useCallback(U=>{U!==O.current&&(O.current=U,x(U))},[]),v=p.useCallback(U=>{U!==T.current&&(T.current=U,w(U))},[]),S=i||E,P=a||b,O=p.useRef(null),T=p.useRef(null),C=p.useRef(h),j=c!=null,A=Jg(c),D=Jg(s),I=Jg(u),k=p.useCallback(()=>{if(!O.current||!T.current)return;const U={placement:e,strategy:n,middleware:m};D.current&&(U.platform=D.current),YF(O.current,T.current,U).then(B=>{const $={...B,isPositioned:I.current!==!1};V.current&&!sm(C.current,$)&&(C.current=$,Xo.flushSync(()=>{f($)}))})},[m,e,n,D,I]);pf(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(U=>({...U,isPositioned:!1})))},[u]);const V=p.useRef(!1);pf(()=>(V.current=!0,()=>{V.current=!1}),[]),pf(()=>{if(S&&(O.current=S),P&&(T.current=P),S&&P){if(A.current)return A.current(S,P,k);k()}},[S,P,k,A,j]);const G=p.useMemo(()=>({reference:O,floating:T,setReference:y,setFloating:v}),[y,v]),H=p.useMemo(()=>({reference:S,floating:P}),[S,P]),q=p.useMemo(()=>{const U={position:n,left:0,top:0};if(!H.floating)return U;const B=W1(H.floating,h.x),$=W1(H.floating,h.y);return l?{...U,transform:"translate("+B+"px, "+$+"px)",...nk(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:$}},[n,l,H.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:k,refs:G,elements:H,floatingStyles:q}),[h,k,G,H,q])}const e5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?z1({element:r.current,padding:s}).fn(n):{}:r?z1({element:r,padding:s}).fn(n):{}}}},t5=(t,e)=>({...WF(t),options:[t,e]}),n5=(t,e)=>({...HF(t),options:[t,e]}),r5=(t,e)=>({...QF(t),options:[t,e]}),s5=(t,e)=>({...qF(t),options:[t,e]}),i5=(t,e)=>({...GF(t),options:[t,e]}),a5=(t,e)=>({...KF(t),options:[t,e]}),o5=(t,e)=>({...e5(t),options:[t,e]});var l5="Arrow",rk=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(Me.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});rk.displayName=l5;var c5=rk;function Lw(t){const[e,n]=p.useState(void 0);return Dn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Vw="Popper",[sk,fp]=Qs(Vw),[u5,ik]=sk(Vw),ak=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return o.jsx(u5,{scope:e,anchor:r,onAnchorChange:s,children:n})};ak.displayName=Vw;var ok="PopperAnchor",lk=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=ik(ok,n),a=p.useRef(null),l=_t(e,a);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(Me.div,{...s,ref:l})});lk.displayName=ok;var Fw="PopperContent",[d5,h5]=sk(Fw),ck=p.forwardRef((t,e)=>{var ie,He,it,Re,Pe,Ae;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:E,...x}=t,b=ik(Fw,n),[w,y]=p.useState(null),v=_t(e,Nt=>y(Nt)),[S,P]=p.useState(null),O=Lw(S),T=(O==null?void 0:O.width)??0,C=(O==null?void 0:O.height)??0,j=r+(i!=="center"?"-"+i:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(u)?u:[u],I=D.length>0,k={padding:A,boundary:D.filter(m5),altBoundary:I},{refs:V,floatingStyles:G,placement:H,isPositioned:q,middlewareData:U}=JF({strategy:"fixed",placement:j,whileElementsMounted:(...Nt)=>zF(...Nt,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[t5({mainAxis:s+C,alignmentAxis:a}),c&&n5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?r5():void 0,...k}),c&&s5({...k}),i5({...k,apply:({elements:Nt,rects:ge,availableWidth:we,availableHeight:et})=>{const{width:ut,height:At}=ge.reference,Be=Nt.floating.style;Be.setProperty("--radix-popper-available-width",`${we}px`),Be.setProperty("--radix-popper-available-height",`${et}px`),Be.setProperty("--radix-popper-anchor-width",`${ut}px`),Be.setProperty("--radix-popper-anchor-height",`${At}px`)}}),S&&o5({element:S,padding:l}),p5({arrowWidth:T,arrowHeight:C}),m&&a5({strategy:"referenceHidden",...k})]}),[B,$]=hk(H),X=Kr(E);Dn(()=>{q&&(X==null||X())},[q,X]);const le=(ie=U.arrow)==null?void 0:ie.x,de=(He=U.arrow)==null?void 0:He.y,xe=((it=U.arrow)==null?void 0:it.centerOffset)!==0,[Ce,st]=p.useState();return Dn(()=>{w&&st(window.getComputedStyle(w).zIndex)},[w]),o.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:q?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(Re=U.transformOrigin)==null?void 0:Re.x,(Pe=U.transformOrigin)==null?void 0:Pe.y].join(" "),...((Ae=U.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(d5,{scope:n,placedSide:B,onArrowChange:P,arrowX:le,arrowY:de,shouldHideArrow:xe,children:o.jsx(Me.div,{"data-side":B,"data-align":$,...x,ref:v,style:{...x.style,animation:q?void 0:"none"}})})})});ck.displayName=Fw;var uk="PopperArrow",f5={top:"bottom",right:"left",bottom:"top",left:"right"},dk=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=h5(uk,r),a=f5[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(c5,{...s,ref:n,style:{...s.style,display:"block"}})})});dk.displayName=uk;function m5(t){return t!==null}var p5=t=>({name:"transformOrigin",options:t,fn(e){var b,w,y;const{placement:n,rects:r,middlewareData:s}=e,a=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,h]=hk(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let E="",x="";return u==="bottom"?(E=a?f:`${m}px`,x=`${-c}px`):u==="top"?(E=a?f:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(E=`${-c}px`,x=a?f:`${g}px`):u==="left"&&(E=`${r.floating.width+c}px`,x=a?f:`${g}px`),{data:{x:E,y:x}}}});function hk(t){const[e,n="center"]=t.split("-");return[e,n]}var fk=ak,mk=lk,pk=ck,gk=dk,[mp,VQ]=Qs("Tooltip",[fp]),pp=fp(),yk="TooltipProvider",g5=700,kv="tooltip.open",[y5,Uw]=mp(yk),vk=t=>{const{__scopeTooltip:e,delayDuration:n=g5,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(y5,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};vk.displayName=yk;var fd="Tooltip",[v5,gp]=mp(fd),xk=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:a,delayDuration:l}=t,c=Uw(fd,t.__scopeTooltip),u=pp(e),[h,f]=p.useState(null),m=gi(),g=p.useRef(0),E=a??c.disableHoverableContent,x=l??c.delayDuration,b=p.useRef(!1),[w,y]=Ti({prop:r,defaultProp:s??!1,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(kv))):c.onClose(),i==null||i(T)},caller:fd}),v=p.useMemo(()=>w?b.current?"delayed-open":"instant-open":"closed",[w]),S=p.useCallback(()=>{window.clearTimeout(g.current),g.current=0,b.current=!1,y(!0)},[y]),P=p.useCallback(()=>{window.clearTimeout(g.current),g.current=0,y(!1)},[y]),O=p.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{b.current=!0,y(!0),g.current=0},x)},[x,y]);return p.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),o.jsx(fk,{...u,children:o.jsx(v5,{scope:e,contentId:m,open:w,stateAttribute:v,trigger:h,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?O():S()},[c.isOpenDelayedRef,O,S]),onTriggerLeave:p.useCallback(()=>{E?P():(window.clearTimeout(g.current),g.current=0)},[P,E]),onOpen:S,onClose:P,disableHoverableContent:E,children:n})})};xk.displayName=fd;var jv="TooltipTrigger",wk=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=gp(jv,n),i=Uw(jv,n),a=pp(n),l=p.useRef(null),c=_t(e,l,s.onTriggerChange),u=p.useRef(!1),h=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(mk,{asChild:!0,...a,children:o.jsx(Me.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Ne(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ne(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Ne(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ne(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ne(t.onBlur,s.onClose),onClick:Ne(t.onClick,s.onClose)})})});wk.displayName=jv;var x5="TooltipPortal",[FQ,w5]=mp(x5,{forceMount:void 0}),uc="TooltipContent",_k=p.forwardRef((t,e)=>{const n=w5(uc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=gp(uc,t.__scopeTooltip);return o.jsx(Xa,{present:r||a.open,children:a.disableHoverableContent?o.jsx(bk,{side:s,...i,ref:e}):o.jsx(_5,{side:s,...i,ref:e})})}),_5=p.forwardRef((t,e)=>{const n=gp(uc,t.__scopeTooltip),r=Uw(uc,t.__scopeTooltip),s=p.useRef(null),i=_t(e,s),[a,l]=p.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,m=p.useCallback(()=>{l(null),f(!1)},[f]),g=p.useCallback((E,x)=>{const b=E.currentTarget,w={x:E.clientX,y:E.clientY},y=N5(w,b.getBoundingClientRect()),v=C5(w,y),S=I5(x.getBoundingClientRect()),P=j5([...v,...S]);l(P),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&h){const E=b=>g(b,h),x=b=>g(b,c);return c.addEventListener("pointerleave",E),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",E),h.removeEventListener("pointerleave",x)}}},[c,h,g,m]),p.useEffect(()=>{if(a){const E=x=>{const b=x.target,w={x:x.clientX,y:x.clientY},y=(c==null?void 0:c.contains(b))||(h==null?void 0:h.contains(b)),v=!k5(w,a);y?m():v&&(m(),u())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[c,h,a,u,m]),o.jsx(bk,{...t,ref:i})}),[b5,E5]=mp(fd,{isInside:!1}),T5=S4("TooltipContent"),bk=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,c=gp(uc,n),u=pp(n),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(kv,h),()=>document.removeEventListener(kv,h)),[h]),p.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),o.jsx(Ud,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:o.jsxs(pk,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(T5,{children:r}),o.jsx(b5,{scope:n,isInside:!0,children:o.jsx(G4,{id:c.contentId,role:"tooltip",children:s||r})})]})})});_k.displayName=uc;var Ek="TooltipArrow",S5=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=pp(n);return E5(Ek,n).isInside?null:o.jsx(gk,{...s,...r,ref:e})});S5.displayName=Ek;function N5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function C5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function I5(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function k5(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,h=l.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function j5(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),P5(e)}function P5(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var A5=vk,R5=xk,D5=wk,Tk=_k;const $w=A5,Sk=R5,Nk=D5,Bw=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(Tk,{ref:r,sideOffset:e,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Bw.displayName=Tk.displayName;var yp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vp=typeof window>"u"||"Deno"in globalThis;function ss(){}function O5(t,e){return typeof t=="function"?t(e):t}function M5(t){return typeof t=="number"&&t>=0&&t!==1/0}function L5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Pv(t,e){return typeof t=="function"?t(e):t}function V5(t,e){return typeof t=="function"?t(e):t}function H1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==zw(a,e.options))return!1}else if(!pd(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function q1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(md(e.options.mutationKey)!==md(i))return!1}else if(!pd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function zw(t,e){return((e==null?void 0:e.queryKeyHashFn)||md)(t)}function md(t){return JSON.stringify(t,(e,n)=>Av(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function pd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>pd(t[n],e[n])):!1}function Ck(t,e){if(t===e)return t;const n=G1(t)&&G1(e);if(n||Av(t)&&Av(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<a;h++){const f=n?h:i[h];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=Ck(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return s===a&&u===s?t:l}return e}function G1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Av(t){if(!K1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!K1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function K1(t){return Object.prototype.toString.call(t)==="[object Object]"}function F5(t){return new Promise(e=>{setTimeout(e,t)})}function U5(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Ck(t,e):e}function $5(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function B5(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ww=Symbol();function Ik(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ww?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Eo,oa,Gl,jS,z5=(jS=class extends yp{constructor(){super();ht(this,Eo);ht(this,oa);ht(this,Gl);We(this,Gl,e=>{if(!vp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){te(this,oa)||this.setEventListener(te(this,Gl))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,oa))==null||e.call(this),We(this,oa,void 0))}setEventListener(e){var n;We(this,Gl,e),(n=te(this,oa))==null||n.call(this),We(this,oa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){te(this,Eo)!==e&&(We(this,Eo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof te(this,Eo)=="boolean"?te(this,Eo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Eo=new WeakMap,oa=new WeakMap,Gl=new WeakMap,jS),kk=new z5,Kl,la,Ql,PS,W5=(PS=class extends yp{constructor(){super();ht(this,Kl,!0);ht(this,la);ht(this,Ql);We(this,Ql,e=>{if(!vp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){te(this,la)||this.setEventListener(te(this,Ql))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,la))==null||e.call(this),We(this,la,void 0))}setEventListener(e){var n;We(this,Ql,e),(n=te(this,la))==null||n.call(this),We(this,la,e(this.setOnline.bind(this)))}setOnline(e){te(this,Kl)!==e&&(We(this,Kl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return te(this,Kl)}},Kl=new WeakMap,la=new WeakMap,Ql=new WeakMap,PS),im=new W5;function H5(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function q5(t){return Math.min(1e3*2**t,3e4)}function jk(t){return(t??"online")==="online"?im.isOnline():!0}var Pk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ey(t){return t instanceof Pk}function Ak(t){let e=!1,n=0,r=!1,s;const i=H5(),a=x=>{var b;r||(m(new Pk(x)),(b=t.abort)==null||b.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>kk.isFocused()&&(t.networkMode==="always"||im.isOnline())&&t.canRun(),h=()=>jk(t.networkMode)&&t.canRun(),f=x=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,x),s==null||s(),i.resolve(x))},m=x=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,x),s==null||s(),i.reject(x))},g=()=>new Promise(x=>{var b;s=w=>{(r||u())&&x(w)},(b=t.onPause)==null||b.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),E=()=>{if(r)return;let x;const b=n===0?t.initialPromise:void 0;try{x=b??t.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(f).catch(w=>{var O;if(r)return;const y=t.retry??(vp?0:3),v=t.retryDelay??q5,S=typeof v=="function"?v(n,w):v,P=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,w);if(e||!P){m(w);return}n++,(O=t.onFail)==null||O.call(t,n,w),F5(S).then(()=>u()?void 0:g()).then(()=>{e?m(w):E()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?E():g().then(E),i)}}var G5=t=>setTimeout(t,0);function K5(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=G5;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var tr=K5(),To,AS,Rk=(AS=class{constructor(){ht(this,To)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M5(this.gcTime)&&We(this,To,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(vp?1/0:5*60*1e3))}clearGcTimeout(){te(this,To)&&(clearTimeout(te(this,To)),We(this,To,void 0))}},To=new WeakMap,AS),Yl,So,Or,No,Bn,Rd,Co,is,ii,RS,Q5=(RS=class extends Rk{constructor(n){super();ht(this,is);ht(this,Yl);ht(this,So);ht(this,Or);ht(this,No);ht(this,Bn);ht(this,Rd);ht(this,Co);We(this,Co,!1),We(this,Rd,n.defaultOptions),this.setOptions(n.options),this.observers=[],We(this,No,n.client),We(this,Or,te(this,No).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,We(this,Yl,X5(this.options)),this.state=n.state??te(this,Yl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=te(this,Bn))==null?void 0:n.promise}setOptions(n){this.options={...te(this,Rd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,Or).remove(this)}setData(n,r){const s=U5(this.state.data,n,this.options);return Vn(this,is,ii).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Vn(this,is,ii).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=te(this,Bn))==null?void 0:s.promise;return(i=te(this,Bn))==null||i.cancel(n),r?r.then(ss).catch(ss):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,Yl))}isActive(){return this.observers.some(n=>V5(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ww||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Pv(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!L5(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=te(this,Bn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=te(this,Bn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),te(this,Or).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(te(this,Bn)&&(te(this,Co)?te(this,Bn).cancel({revert:!0}):te(this,Bn).cancelRetry()),this.scheduleGc()),te(this,Or).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vn(this,is,ii).call(this,{type:"invalidate"})}fetch(n,r){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(te(this,Bn))return te(this,Bn).continueRetry(),te(this,Bn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(E=>E.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(We(this,Co,!0),s.signal)})},a=()=>{const g=Ik(this.options,r),x=(()=>{const b={client:te(this,No),queryKey:this.queryKey,meta:this.meta};return i(b),b})();return We(this,Co,!1),this.options.persister?this.options.persister(g,x,this):g(x)},c=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:te(this,No),state:this.state,fetchFn:a};return i(g),g})();(h=this.options.behavior)==null||h.onFetch(c,this),We(this,So,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Vn(this,is,ii).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=g=>{var E,x,b,w;ey(g)&&g.silent||Vn(this,is,ii).call(this,{type:"error",error:g}),ey(g)||((x=(E=te(this,Or).config).onError)==null||x.call(E,g,this),(w=(b=te(this,Or).config).onSettled)==null||w.call(b,this.state.data,g,this)),this.scheduleGc()};return We(this,Bn,Ak({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var E,x,b,w;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(y){u(y);return}(x=(E=te(this,Or).config).onSuccess)==null||x.call(E,g,this),(w=(b=te(this,Or).config).onSettled)==null||w.call(b,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,E)=>{Vn(this,is,ii).call(this,{type:"failed",failureCount:g,error:E})},onPause:()=>{Vn(this,is,ii).call(this,{type:"pause"})},onContinue:()=>{Vn(this,is,ii).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),te(this,Bn).start()}},Yl=new WeakMap,So=new WeakMap,Or=new WeakMap,No=new WeakMap,Bn=new WeakMap,Rd=new WeakMap,Co=new WeakMap,is=new WeakSet,ii=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Y5(s.data,this.options),fetchMeta:n.meta??null};case"success":return We(this,So,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return ey(i)&&i.revert&&te(this,So)?{...te(this,So),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),tr.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),te(this,Or).notify({query:this,type:"updated",action:n})})},RS);function Y5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function X5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ns,DS,Z5=(DS=class extends yp{constructor(e={}){super();ht(this,Ns);this.config=e,We(this,Ns,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??zw(s,n);let a=this.get(i);return a||(a=new Q5({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){te(this,Ns).has(e.queryHash)||(te(this,Ns).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=te(this,Ns).get(e.queryHash);n&&(e.destroy(),n===e&&te(this,Ns).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return te(this,Ns).get(e)}getAll(){return[...te(this,Ns).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>H1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>H1(e,r)):n}notify(e){tr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){tr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ns=new WeakMap,DS),Cs,Zn,Io,Is,Yi,OS,J5=(OS=class extends Rk{constructor(n){super();ht(this,Is);ht(this,Cs);ht(this,Zn);ht(this,Io);this.mutationId=n.mutationId,We(this,Zn,n.mutationCache),We(this,Cs,[]),this.state=n.state||e6(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){te(this,Cs).includes(n)||(te(this,Cs).push(n),this.clearGcTimeout(),te(this,Zn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){We(this,Cs,te(this,Cs).filter(r=>r!==n)),this.scheduleGc(),te(this,Zn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){te(this,Cs).length||(this.state.status==="pending"?this.scheduleGc():te(this,Zn).remove(this))}continue(){var n;return((n=te(this,Io))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,u,h,f,m,g,E,x,b,w,y,v,S,P,O,T,C,j;const r=()=>{Vn(this,Is,Yi).call(this,{type:"continue"})};We(this,Io,Ak({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,D)=>{Vn(this,Is,Yi).call(this,{type:"failed",failureCount:A,error:D})},onPause:()=>{Vn(this,Is,Yi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,Zn).canRun(this)}));const s=this.state.status==="pending",i=!te(this,Io).canStart();try{if(s)r();else{Vn(this,Is,Yi).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(a=te(this,Zn).config).onMutate)==null?void 0:l.call(a,n,this));const D=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));D!==this.state.context&&Vn(this,Is,Yi).call(this,{type:"pending",context:D,variables:n,isPaused:i})}const A=await te(this,Io).start();return await((f=(h=te(this,Zn).config).onSuccess)==null?void 0:f.call(h,A,n,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,A,n,this.state.context)),await((x=(E=te(this,Zn).config).onSettled)==null?void 0:x.call(E,A,null,this.state.variables,this.state.context,this)),await((w=(b=this.options).onSettled)==null?void 0:w.call(b,A,null,n,this.state.context)),Vn(this,Is,Yi).call(this,{type:"success",data:A}),A}catch(A){try{throw await((v=(y=te(this,Zn).config).onError)==null?void 0:v.call(y,A,n,this.state.context,this)),await((P=(S=this.options).onError)==null?void 0:P.call(S,A,n,this.state.context)),await((T=(O=te(this,Zn).config).onSettled)==null?void 0:T.call(O,void 0,A,this.state.variables,this.state.context,this)),await((j=(C=this.options).onSettled)==null?void 0:j.call(C,void 0,A,n,this.state.context)),A}finally{Vn(this,Is,Yi).call(this,{type:"error",error:A})}}finally{te(this,Zn).runNext(this)}}},Cs=new WeakMap,Zn=new WeakMap,Io=new WeakMap,Is=new WeakSet,Yi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),tr.batch(()=>{te(this,Cs).forEach(s=>{s.onMutationUpdate(n)}),te(this,Zn).notify({mutation:this,type:"updated",action:n})})},OS);function e6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var li,as,Dd,MS,t6=(MS=class extends yp{constructor(e={}){super();ht(this,li);ht(this,as);ht(this,Dd);this.config=e,We(this,li,new Set),We(this,as,new Map),We(this,Dd,0)}build(e,n,r){const s=new J5({mutationCache:this,mutationId:++_h(this,Dd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){te(this,li).add(e);const n=zh(e);if(typeof n=="string"){const r=te(this,as).get(n);r?r.push(e):te(this,as).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(te(this,li).delete(e)){const n=zh(e);if(typeof n=="string"){const r=te(this,as).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&te(this,as).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=zh(e);if(typeof n=="string"){const r=te(this,as).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=zh(e);if(typeof n=="string"){const s=(r=te(this,as).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tr.batch(()=>{te(this,li).forEach(e=>{this.notify({type:"removed",mutation:e})}),te(this,li).clear(),te(this,as).clear()})}getAll(){return Array.from(te(this,li))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>q1(n,r))}findAll(e={}){return this.getAll().filter(n=>q1(e,n))}notify(e){tr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return tr.batch(()=>Promise.all(e.map(n=>n.continue().catch(ss))))}},li=new WeakMap,as=new WeakMap,Dd=new WeakMap,MS);function zh(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Q1(t){return{onFetch:(e,n)=>{var h,f,m,g,E;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],a=((E=e.state.data)==null?void 0:E.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const b=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},w=Ik(e.options,e.fetchOptions),y=async(v,S,P)=>{if(x)return Promise.reject();if(S==null&&v.pages.length)return Promise.resolve(v);const T=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:S,direction:P?"backward":"forward",meta:e.options.meta};return b(D),D})(),C=await w(T),{maxPages:j}=e.options,A=P?B5:$5;return{pages:A(v.pages,C,j),pageParams:A(v.pageParams,S,j)}};if(s&&i.length){const v=s==="backward",S=v?n6:Y1,P={pages:i,pageParams:a},O=S(r,P);l=await y(P,O,v)}else{const v=t??i.length;do{const S=c===0?a[0]??r.initialPageParam:Y1(r,l);if(c>0&&S==null)break;l=await y(l,S),c++}while(c<v)}return l};e.options.persister?e.fetchFn=()=>{var x,b;return(b=(x=e.options).persister)==null?void 0:b.call(x,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Y1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function n6(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Jt,ca,ua,Xl,Zl,da,Jl,ec,LS,r6=(LS=class{constructor(t={}){ht(this,Jt);ht(this,ca);ht(this,ua);ht(this,Xl);ht(this,Zl);ht(this,da);ht(this,Jl);ht(this,ec);We(this,Jt,t.queryCache||new Z5),We(this,ca,t.mutationCache||new t6),We(this,ua,t.defaultOptions||{}),We(this,Xl,new Map),We(this,Zl,new Map),We(this,da,0)}mount(){_h(this,da)._++,te(this,da)===1&&(We(this,Jl,kk.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,Jt).onFocus())})),We(this,ec,im.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,Jt).onOnline())})))}unmount(){var t,e;_h(this,da)._--,te(this,da)===0&&((t=te(this,Jl))==null||t.call(this),We(this,Jl,void 0),(e=te(this,ec))==null||e.call(this),We(this,ec,void 0))}isFetching(t){return te(this,Jt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return te(this,ca).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=te(this,Jt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=te(this,Jt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Pv(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return te(this,Jt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=te(this,Jt).get(r.queryHash),i=s==null?void 0:s.state.data,a=O5(e,i);if(a!==void 0)return te(this,Jt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return tr.batch(()=>te(this,Jt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=te(this,Jt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=te(this,Jt);tr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=te(this,Jt);return tr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=tr.batch(()=>te(this,Jt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ss).catch(ss)}invalidateQueries(t,e={}){return tr.batch(()=>(te(this,Jt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=tr.batch(()=>te(this,Jt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ss)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ss)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=te(this,Jt).build(this,e);return n.isStaleByTime(Pv(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ss).catch(ss)}fetchInfiniteQuery(t){return t.behavior=Q1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ss).catch(ss)}ensureInfiniteQueryData(t){return t.behavior=Q1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return im.isOnline()?te(this,ca).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,Jt)}getMutationCache(){return te(this,ca)}getDefaultOptions(){return te(this,ua)}setDefaultOptions(t){We(this,ua,t)}setQueryDefaults(t,e){te(this,Xl).set(md(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...te(this,Xl).values()],n={};return e.forEach(r=>{pd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){te(this,Zl).set(md(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...te(this,Zl).values()],n={};return e.forEach(r=>{pd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...te(this,ua).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=zw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ww&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...te(this,ua).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){te(this,Jt).clear(),te(this,ca).clear()}},Jt=new WeakMap,ca=new WeakMap,ua=new WeakMap,Xl=new WeakMap,Zl=new WeakMap,da=new WeakMap,Jl=new WeakMap,ec=new WeakMap,LS),s6=p.createContext(void 0),i6=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(s6.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gd.apply(this,arguments)}var ma;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ma||(ma={}));const X1="popstate";function a6(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return Rv("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:am(s)}return l6(e,n,null,t)}function Qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o6(){return Math.random().toString(36).substr(2,8)}function Z1(t,e){return{usr:t.state,key:t.key,idx:e}}function Rv(t,e,n,r){return n===void 0&&(n=null),gd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ac(e):e,{state:n,key:e&&e.key||r||o6()})}function am(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ac(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function l6(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=ma.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(gd({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function f(){l=ma.Pop;let b=h(),w=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:w})}function m(b,w){l=ma.Push;let y=Rv(x.location,b,w);u=h()+1;let v=Z1(y,u),S=x.createHref(y);try{a.pushState(v,"",S)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(S)}i&&c&&c({action:l,location:x.location,delta:1})}function g(b,w){l=ma.Replace;let y=Rv(x.location,b,w);u=h();let v=Z1(y,u),S=x.createHref(y);a.replaceState(v,"",S),i&&c&&c({action:l,location:x.location,delta:0})}function E(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:am(b);return y=y.replace(/ $/,"%20"),Qt(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let x={get action(){return l},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(X1,f),c=b,()=>{s.removeEventListener(X1,f),c=null}},createHref(b){return e(s,b)},createURL:E,encodeLocation(b){let w=E(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:g,go(b){return a.go(b)}};return x}var J1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(J1||(J1={}));function c6(t,e,n){return n===void 0&&(n="/"),u6(t,e,n,!1)}function u6(t,e,n,r){let s=typeof e=="string"?Ac(e):e,i=dc(s.pathname||"/",n);if(i==null)return null;let a=Ok(t);d6(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=b6(i);l=w6(a[c],u,r)}return l}function Ok(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Qt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Sa([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(Qt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ok(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:v6(u,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of Mk(i.path))s(i,a,c)}),e}function Mk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Mk(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function d6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:x6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const h6=/^:[\w-]+$/,f6=3,m6=2,p6=1,g6=10,y6=-2,eE=t=>t==="*";function v6(t,e){let n=t.split("/"),r=n.length;return n.some(eE)&&(r+=y6),e&&(r+=m6),n.filter(s=>!eE(s)).reduce((s,i)=>s+(h6.test(i)?f6:i===""?p6:g6),r)}function x6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function w6(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=om({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=om({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Sa([i,f.pathname]),pathnameBase:N6(Sa([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Sa([i,f.pathnameBase]))}return a}function om(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_6(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let x=l[f]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const E=l[f];return g&&!E?u[m]=void 0:u[m]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function _6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Dk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function b6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function E6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ac(t):t;return{pathname:n?n.startsWith("/")?n:T6(n,e):e,search:C6(r),hash:I6(s)}}function T6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ty(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hw(t,e){let n=S6(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qw(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ac(t):(s=gd({},t),Qt(!s.pathname||!s.pathname.includes("?"),ty("?","pathname","search",s)),Qt(!s.pathname||!s.pathname.includes("#"),ty("#","pathname","hash",s)),Qt(!s.search||!s.search.includes("#"),ty("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=E6(s,l),u=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Sa=t=>t.join("/").replace(/\/\/+/g,"/"),N6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,I6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function k6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Lk=["post","put","patch","delete"];new Set(Lk);const j6=["get",...Lk];new Set(j6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yd(){return yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yd.apply(this,arguments)}const xp=p.createContext(null),Vk=p.createContext(null),Oi=p.createContext(null),wp=p.createContext(null),Za=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Fk=p.createContext(null);function P6(t,e){let{relative:n}=e===void 0?{}:e;Rc()||Qt(!1);let{basename:r,navigator:s}=p.useContext(Oi),{hash:i,pathname:a,search:l}=_p(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Sa([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Rc(){return p.useContext(wp)!=null}function Xs(){return Rc()||Qt(!1),p.useContext(wp).location}function Uk(t){p.useContext(Oi).static||p.useLayoutEffect(t)}function Dc(){let{isDataRoute:t}=p.useContext(Za);return t?W6():A6()}function A6(){Rc()||Qt(!1);let t=p.useContext(xp),{basename:e,future:n,navigator:r}=p.useContext(Oi),{matches:s}=p.useContext(Za),{pathname:i}=Xs(),a=JSON.stringify(Hw(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return Uk(()=>{l.current=!0}),p.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=qw(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Sa([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,a,i,t])}function _p(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(Oi),{matches:s}=p.useContext(Za),{pathname:i}=Xs(),a=JSON.stringify(Hw(s,r.v7_relativeSplatPath));return p.useMemo(()=>qw(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function R6(t,e){return D6(t,e)}function D6(t,e,n,r){Rc()||Qt(!1);let{navigator:s}=p.useContext(Oi),{matches:i}=p.useContext(Za),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Xs(),h;if(e){var f;let b=typeof e=="string"?Ac(e):e;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Qt(!1),h=b}else h=u;let m=h.pathname||"/",g=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let E=c6(t,{pathname:g}),x=F6(E&&E.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Sa([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Sa([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&x?p.createElement(wp.Provider,{value:{location:yd({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ma.Pop}},x):x}function O6(){let t=z6(),e=k6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const M6=p.createElement(O6,null);class L6 extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Za.Provider,{value:this.props.routeContext},p.createElement(Fk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V6(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(xp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Za.Provider,{value:e},r)}function F6(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||Qt(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:g}=n,E=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||E){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,m)=>{let g,E=!1,x=null,b=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||M6,c&&(u<0&&m===0?(E=!0,b=null):u===m&&(E=!0,b=f.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,m+1)),y=()=>{let v;return g?v=x:E?v=b:f.route.Component?v=p.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=h,p.createElement(V6,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?p.createElement(L6,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var $k=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($k||{}),lm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lm||{});function U6(t){let e=p.useContext(xp);return e||Qt(!1),e}function $6(t){let e=p.useContext(Vk);return e||Qt(!1),e}function B6(t){let e=p.useContext(Za);return e||Qt(!1),e}function Bk(t){let e=B6(),n=e.matches[e.matches.length-1];return n.route.id||Qt(!1),n.route.id}function z6(){var t;let e=p.useContext(Fk),n=$6(lm.UseRouteError),r=Bk(lm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function W6(){let{router:t}=U6($k.UseNavigateStable),e=Bk(lm.UseNavigateStable),n=p.useRef(!1);return Uk(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,yd({fromRouteId:e},i)))},[t,e])}function H6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Dv(t){let{to:e,replace:n,state:r,relative:s}=t;Rc()||Qt(!1);let{future:i,static:a}=p.useContext(Oi),{matches:l}=p.useContext(Za),{pathname:c}=Xs(),u=Dc(),h=qw(e,Hw(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return p.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Pt(t){Qt(!1)}function q6(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ma.Pop,navigator:i,static:a=!1,future:l}=t;Rc()&&Qt(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:a,future:yd({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Ac(r));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:E="default"}=r,x=p.useMemo(()=>{let b=dc(h,c);return b==null?null:{location:{pathname:b,search:f,hash:m,state:g,key:E},navigationType:s}},[c,h,f,m,g,E,s]);return x==null?null:p.createElement(Oi.Provider,{value:u},p.createElement(wp.Provider,{children:n,value:x}))}function Gw(t){let{children:e,location:n}=t;return R6(Ov(e),n)}new Promise(()=>{});function Ov(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,Ov(r.props.children,i));return}r.type!==Pt&&Qt(!1),!r.props.index||!r.props.children||Qt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ov(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function zk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function G6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function K6(t,e){return t.button===0&&(!e||e==="_self")&&!G6(t)}const Q6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Y6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],X6="6";try{window.__reactRouterVersion=X6}catch{}const Z6=p.createContext({isTransitioning:!1}),J6="startTransition",tE=kx[J6];function e3(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=a6({window:s,v5Compat:!0}));let a=i.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=p.useCallback(f=>{u&&tE?tE(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>a.listen(h),[a,h]),p.useEffect(()=>H6(r),[r]),p.createElement(q6,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const t3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,m=zk(e,Q6),{basename:g}=p.useContext(Oi),E,x=!1;if(typeof u=="string"&&n3.test(u)&&(E=u,t3))try{let v=new URL(window.location.href),S=u.startsWith("//")?new URL(v.protocol+u):new URL(u),P=dc(S.pathname,g);S.origin===v.origin&&P!=null?u=P+S.search+S.hash:x=!0}catch{}let b=P6(u,{relative:s}),w=i3(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function y(v){r&&r(v),v.defaultPrevented||w(v)}return p.createElement("a",cm({},m,{href:E||b,onClick:x||i?r:y,ref:n,target:c}))}),r3=p.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:h}=e,f=zk(e,Y6),m=_p(c,{relative:f.relative}),g=Xs(),E=p.useContext(Vk),{navigator:x,basename:b}=p.useContext(Oi),w=E!=null&&a3(m)&&u===!0,y=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,v=g.pathname,S=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;s||(v=v.toLowerCase(),S=S?S.toLowerCase():null,y=y.toLowerCase()),S&&b&&(S=dc(S,b)||S);const P=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let O=v===y||!a&&v.startsWith(y)&&v.charAt(P)==="/",T=S!=null&&(S===y||!a&&S.startsWith(y)&&S.charAt(y.length)==="/"),C={isActive:O,isPending:T,isTransitioning:w},j=O?r:void 0,A;typeof i=="function"?A=i(C):A=[i,O?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(C):l;return p.createElement(Rt,cm({},f,{"aria-current":j,className:A,ref:n,style:D,to:c,viewTransition:u}),typeof h=="function"?h(C):h)});var Mv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Mv||(Mv={}));var nE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nE||(nE={}));function s3(t){let e=p.useContext(xp);return e||Qt(!1),e}function i3(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=Dc(),u=Xs(),h=_p(t,{relative:a});return p.useCallback(f=>{if(K6(f,n)){f.preventDefault();let m=r!==void 0?r:am(u)===am(h);c(t,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,h,r,s,n,t,i,a,l])}function a3(t,e){e===void 0&&(e={});let n=p.useContext(Z6);n==null&&Qt(!1);let{basename:r}=s3(Mv.useViewTransitionState),s=_p(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=dc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=dc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return om(s.pathname,a)!=null||om(s.pathname,i)!=null}const o3=()=>{};var rE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},l3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},Hk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(m=64)),r.push(n[h],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Wk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new c3;const m=i<<2|l>>4;if(r.push(m),u!==64){const g=l<<4&240|u>>2;if(r.push(g),f!==64){const E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class c3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u3=function(t){const e=Wk(t);return Hk.encodeByteArray(e,!0)},um=function(t){return u3(t).replace(/\./g,"")},qk=function(t){try{return Hk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=()=>d3().__FIREBASE_DEFAULTS__,f3=()=>{if(typeof process>"u"||typeof rE>"u")return;const t=rE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qk(t[1]);return e&&JSON.parse(e)},bp=()=>{try{return o3()||h3()||f3()||m3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gk=t=>{var e,n;return(n=(e=bp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},p3=t=>{const e=Gk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Kk=()=>{var t;return(t=bp())===null||t===void 0?void 0:t.config},Qk=t=>{var e;return(e=bp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[um(JSON.stringify(n)),um(JSON.stringify(a)),""].join(".")}const Vu={};function v3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vu))Vu[e]?t.emulator.push(e):t.prod.push(e);return t}function x3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sE=!1;function Xk(t,e){if(typeof window>"u"||typeof document>"u"||!Oc(window.location.host)||Vu[t]===e||Vu[t]||sE)return;Vu[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=v3().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{sE=!0,a()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=x3(r),g=n("text"),E=document.getElementById(g)||document.createElement("span"),x=n("learnmore"),b=document.getElementById(x)||document.createElement("a"),w=n("preprendIcon"),y=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const v=m.element;l(v),h(b,x);const S=u();c(y,w),v.append(y,E,b,S),document.body.appendChild(v)}i?(E.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function _3(){var t;const e=(t=bp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function T3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S3(){const t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function N3(){return!_3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C3(){try{return typeof indexedDB=="object"}catch{return!1}}function I3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="FirebaseError";class Mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=k3,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zd.prototype.create)}}class zd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?j3(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Mi(s,l,r)}}function j3(t,e){return t.replace(P3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const P3=/\{\$([^}]+)}/g;function A3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ii(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(iE(i)&&iE(a)){if(!Ii(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function iE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function wu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function R3(t,e){const n=new D3(t,e);return n.subscribe.bind(n)}class D3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");O3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ny),s.error===void 0&&(s.error=ny),s.complete===void 0&&(s.complete=ny);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ny(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}class Vo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new g3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V3(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:L3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L3(t){return t===mo?void 0:t}function V3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const U3={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},$3=nt.INFO,B3={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},z3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=B3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kw{constructor(e){this.name=e,this._logLevel=$3,this._logHandler=z3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const W3=(t,e)=>e.some(n=>t instanceof n);let aE,oE;function H3(){return aE||(aE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q3(){return oE||(oE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zk=new WeakMap,Lv=new WeakMap,Jk=new WeakMap,ry=new WeakMap,Qw=new WeakMap;function G3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Na(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Zk.set(n,t)}).catch(()=>{}),Qw.set(e,t),e}function K3(t){if(Lv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Lv.set(t,e)}let Vv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Na(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q3(t){Vv=t(Vv)}function Y3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sy(this),e,...n);return Jk.set(r,e.sort?e.sort():[e]),Na(r)}:q3().includes(t)?function(...e){return t.apply(sy(this),e),Na(Zk.get(this))}:function(...e){return Na(t.apply(sy(this),e))}}function X3(t){return typeof t=="function"?Y3(t):(t instanceof IDBTransaction&&K3(t),W3(t,H3())?new Proxy(t,Vv):t)}function Na(t){if(t instanceof IDBRequest)return G3(t);if(ry.has(t))return ry.get(t);const e=X3(t);return e!==t&&(ry.set(t,e),Qw.set(e,t)),e}const sy=t=>Qw.get(t);function Z3(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=Na(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Na(a.result),c.oldVersion,c.newVersion,Na(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const J3=["get","getKey","getAll","getAllKeys","count"],eU=["put","add","delete","clear"],iy=new Map;function lE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iy.get(e))return iy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=eU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||J3.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return iy.set(e,i),i}Q3(t=>({...t,get:(e,n,r)=>lE(e,n)||t.get(e,n,r),has:(e,n)=>!!lE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fv="@firebase/app",cE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Kw("@firebase/app"),rU="@firebase/app-compat",sU="@firebase/analytics-compat",iU="@firebase/analytics",aU="@firebase/app-check-compat",oU="@firebase/app-check",lU="@firebase/auth",cU="@firebase/auth-compat",uU="@firebase/database",dU="@firebase/data-connect",hU="@firebase/database-compat",fU="@firebase/functions",mU="@firebase/functions-compat",pU="@firebase/installations",gU="@firebase/installations-compat",yU="@firebase/messaging",vU="@firebase/messaging-compat",xU="@firebase/performance",wU="@firebase/performance-compat",_U="@firebase/remote-config",bU="@firebase/remote-config-compat",EU="@firebase/storage",TU="@firebase/storage-compat",SU="@firebase/firestore",NU="@firebase/ai",CU="@firebase/firestore-compat",IU="firebase",kU="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="[DEFAULT]",jU={[Fv]:"fire-core",[rU]:"fire-core-compat",[iU]:"fire-analytics",[sU]:"fire-analytics-compat",[oU]:"fire-app-check",[aU]:"fire-app-check-compat",[lU]:"fire-auth",[cU]:"fire-auth-compat",[uU]:"fire-rtdb",[dU]:"fire-data-connect",[hU]:"fire-rtdb-compat",[fU]:"fire-fn",[mU]:"fire-fn-compat",[pU]:"fire-iid",[gU]:"fire-iid-compat",[yU]:"fire-fcm",[vU]:"fire-fcm-compat",[xU]:"fire-perf",[wU]:"fire-perf-compat",[_U]:"fire-rc",[bU]:"fire-rc-compat",[EU]:"fire-gcs",[TU]:"fire-gcs-compat",[SU]:"fire-fst",[CU]:"fire-fst-compat",[NU]:"fire-vertex","fire-js":"fire-js",[IU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=new Map,PU=new Map,$v=new Map;function uE(t,e){try{t.container.addComponent(e)}catch(n){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hc(t){const e=t.name;if($v.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;$v.set(e,t);for(const n of dm.values())uE(n,t);for(const n of PU.values())uE(n,t);return!0}function Yw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new zd("app","Firebase",AU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=kU;function ej(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Uv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Ca.create("bad-app-name",{appName:String(s)});if(n||(n=Kk()),!n)throw Ca.create("no-options");const i=dm.get(s);if(i){if(Ii(n,i.options)&&Ii(r,i.config))return i;throw Ca.create("duplicate-app",{appName:s})}const a=new F3(s);for(const c of $v.values())a.addComponent(c);const l=new RU(n,r,a);return dm.set(s,l),l}function tj(t=Uv){const e=dm.get(t);if(!e&&t===Uv&&Kk())return ej();if(!e)throw Ca.create("no-app",{appName:t});return e}function Ia(t,e,n){var r;let s=(r=jU[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(l.join(" "));return}hc(new Vo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU="firebase-heartbeat-database",OU=1,vd="firebase-heartbeat-store";let ay=null;function nj(){return ay||(ay=Z3(DU,OU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ca.create("idb-open",{originalErrorMessage:t.message})})),ay}async function MU(t){try{const n=(await nj()).transaction(vd),r=await n.objectStore(vd).get(rj(t));return await n.done,r}catch(e){if(e instanceof Mi)ki.warn(e.message);else{const n=Ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(n.message)}}}async function dE(t,e){try{const r=(await nj()).transaction(vd,"readwrite");await r.objectStore(vd).put(e,rj(t)),await r.done}catch(n){if(n instanceof Mi)ki.warn(n.message);else{const r=Ca.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ki.warn(r.message)}}}function rj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=1024,VU=30;class FU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $U(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=hE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>VU){const a=BU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ki.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hE(),{heartbeatsToSend:r,unsentEntries:s}=UU(this._heartbeatsCache.heartbeats),i=um(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ki.warn(n),""}}}function hE(){return new Date().toISOString().substring(0,10)}function UU(t,e=LU){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),fE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),fE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $U{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C3()?I3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return dE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return dE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fE(t){return um(JSON.stringify({version:2,heartbeats:t})).length}function BU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t){hc(new Vo("platform-logger",e=>new tU(e),"PRIVATE")),hc(new Vo("heartbeat",e=>new FU(e),"PRIVATE")),Ia(Fv,cE,t),Ia(Fv,cE,"esm2017"),Ia("fire-js","")}zU("");var js=function(){return js=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},js.apply(this,arguments)};function Hd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function WU(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function sj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HU=sj,ij=new zd("auth","Firebase",sj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new Kw("@firebase/auth");function qU(t,...e){hm.logLevel<=nt.WARN&&hm.warn(`Auth (${Mc}): ${t}`,...e)}function gf(t,...e){hm.logLevel<=nt.ERROR&&hm.error(`Auth (${Mc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,...e){throw Zw(t,...e)}function ms(t,...e){return Zw(t,...e)}function Xw(t,e,n){const r=Object.assign(Object.assign({},HU()),{[e]:n});return new zd("auth","Firebase",r).create(e,{appName:t.name})}function yi(t){return Xw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GU(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qr(t,"argument-error"),Xw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ij.create(t,...e)}function Ie(t,e,...n){if(!t)throw Zw(e,...n)}function fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gf(e),new Error(e)}function ji(t,e){t||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KU(){return mE()==="http:"||mE()==="https:"}function mE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KU()||E3()||"connection"in navigator)?navigator.onLine:!0}function YU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=w3()||T3()}get(){return QU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t,e){ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JU=new qd(3e4,6e4);function Li(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zs(t,e,n,r,s={}){return oj(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=Wd(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return b3()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Oc(t.emulatorConfig.host)&&(u.credentials="include"),aj.fetch()(await lj(t,t.config.apiHost,n,l),u)})}async function oj(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},XU),e);try{const s=new t9(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Wh(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Wh(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Wh(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Xw(t,h,u);Qr(t,h)}}catch(s){if(s instanceof Mi)throw s;Qr(t,"network-request-failed",{message:String(s)})}}async function Gd(t,e,n,r,s={}){const i=await Zs(t,e,n,r,s);return"mfaPendingCredential"in i&&Qr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function lj(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?Jw(t.config,s):`${t.config.apiScheme}://${s}`;return ZU.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function e9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class t9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ms(this.auth,"network-request-failed")),JU.get())})}}function Wh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ms(t,e,r);return s.customData._tokenResponse=n,s}function pE(t){return t!==void 0&&t.enterprise!==void 0}class n9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return e9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function r9(t,e){return Zs(t,"GET","/v2/recaptchaConfig",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t,e){return Zs(t,"POST","/v1/accounts:delete",e)}async function fm(t,e){return Zs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i9(t,e=!1){const n=zt(t),r=await n.getIdToken(e),s=e0(r);Ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Fu(oy(s.auth_time)),issuedAtTime:Fu(oy(s.iat)),expirationTime:Fu(oy(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function oy(t){return Number(t)*1e3}function e0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gf("JWT malformed, contained fewer than 3 sections"),null;try{const s=qk(n);return s?JSON.parse(s):(gf("Failed to decode base64 JWT payload"),null)}catch(s){return gf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function gE(t){const e=e0(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mi&&a9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function a9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await fc(t,fm(n,{idToken:r}));Ie(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?cj(i.providerUserInfo):[],l=c9(t.providerData,a),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new zv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function l9(t){const e=zt(t);await xd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function c9(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function cj(t){return t.map(e=>{var{providerId:n}=e,r=Hd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(t,e){const n=await oj(t,{},async()=>{const r=Wd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await lj(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Oc(t.emulatorConfig.host)&&(c.credentials="include"),aj.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function d9(t,e){return Zs(t,"POST","/v2/accounts:revokeToken",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=gE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await u9(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Ul;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ie(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Ie(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ul,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ds{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Hd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await fc(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i9(this,e)}reload(){return l9(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ds(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tr(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await fc(this,s9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(a=n.photoURL)!==null&&a!==void 0?a:void 0,x=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:v,emailVerified:S,isAnonymous:P,providerData:O,stsTokenManager:T}=n;Ie(v&&T,e,"internal-error");const C=Ul.fromJSON(this.name,T);Ie(typeof v=="string",e,"internal-error"),Ki(f,e.name),Ki(m,e.name),Ie(typeof S=="boolean",e,"internal-error"),Ie(typeof P=="boolean",e,"internal-error"),Ki(g,e.name),Ki(E,e.name),Ki(x,e.name),Ki(b,e.name),Ki(w,e.name),Ki(y,e.name);const j=new ds({uid:v,auth:e,email:m,emailVerified:S,displayName:f,isAnonymous:P,photoURL:E,phoneNumber:g,tenantId:x,stsTokenManager:C,createdAt:w,lastLoginAt:y});return O&&Array.isArray(O)&&(j.providerData=O.map(A=>Object.assign({},A))),b&&(j._redirectEventId=b),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ul;s.updateFromServerResponse(n);const i=new ds({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await xd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?cj(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Ul;l.updateFromIdToken(r);const c=new ds({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new zv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map;function mi(t){ji(t instanceof Function,"Expected a class definition");let e=yE.get(t);return e?(ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uj.type="NONE";const vE=uj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t,e,n){return`firebase:${t}:${e}:${n}`}class $l{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=yf(this.userKey,s.apiKey,i),this.fullPersistenceKey=yf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fm(this.auth,{idToken:e}).catch(()=>{});return n?ds._fromGetAccountInfoResponse(this.auth,n,e):null}return ds._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $l(mi(vE),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||mi(vE);const a=yf(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(a);if(h){let f;if(typeof h=="string"){const m=await fm(e,{idToken:h}).catch(()=>{});if(!m)break;f=await ds._fromGetAccountInfoResponse(e,m,h)}else f=ds._fromJSON(e,h);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new $l(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new $l(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gj(e))return"Blackberry";if(yj(e))return"Webos";if(hj(e))return"Safari";if((e.includes("chrome/")||fj(e))&&!e.includes("edge/"))return"Chrome";if(pj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dj(t=Gn()){return/firefox\//i.test(t)}function hj(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fj(t=Gn()){return/crios\//i.test(t)}function mj(t=Gn()){return/iemobile/i.test(t)}function pj(t=Gn()){return/android/i.test(t)}function gj(t=Gn()){return/blackberry/i.test(t)}function yj(t=Gn()){return/webos/i.test(t)}function t0(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function h9(t=Gn()){var e;return t0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function f9(){return S3()&&document.documentMode===10}function vj(t=Gn()){return t0(t)||pj(t)||yj(t)||gj(t)||/windows phone/i.test(t)||mj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t,e=[]){let n;switch(t){case"Browser":n=xE(Gn());break;case"Worker":n=`${xE(Gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(t,e={}){return Zs(t,"GET","/v2/passwordPolicy",Li(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=6;class y9{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:g9,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wE(this),this.idTokenSubscription=new wE(this),this.beforeStateQueue=new m9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ij,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await $l.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fm(this,{idToken:e}),r=await ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tr(this.app))return Promise.reject(yi(this));const n=e?zt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tr(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tr(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p9(this),n=new y9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await d9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await $l.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vi(t){return zt(t)}class wE{constructor(e){this.auth=e,this.observer=null,this.addObserver=R3(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x9(t){Ep=t}function wj(t){return Ep.loadJS(t)}function w9(){return Ep.recaptchaEnterpriseScript}function _9(){return Ep.gapiScript}function b9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class E9{constructor(){this.enterprise=new T9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class T9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const S9="recaptcha-enterprise",_j="NO_RECAPTCHA";class N9{constructor(e){this.type=S9,this.auth=Vi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{r9(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new n9(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;pE(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(_j)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new E9().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&pE(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=w9();c.length!==0&&(c+=l),wj(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function _E(t,e,n,r=!1,s=!1){const i=new N9(t);let a;if(s)a=_j;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function mm(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await _E(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await _E(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t,e){const n=Yw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ii(i,e??{}))return s;Qr(s,"already-initialized")}return n.initialize({options:e})}function I9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function k9(t,e,n){const r=Vi(t);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=bj(e),{host:a,port:l}=j9(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(Ii(u,r.config.emulator)&&Ii(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Oc(a)?(Yk(`${i}//${a}${c}`),Xk("Auth",!0)):P9()}function bj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function j9(t){const e=bj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:bE(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:bE(a)}}}function bE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function P9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function A9(t,e){return Zs(t,"POST","/v1/accounts:update",e)}async function R9(t,e){return Zs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t,e){return Gd(t,"POST","/v1/accounts:signInWithPassword",Li(t,e))}async function Ej(t,e){return Zs(t,"POST","/v1/accounts:sendOobCode",Li(t,e))}async function O9(t,e){return Ej(t,e)}async function M9(t,e){return Ej(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(t,e){return Gd(t,"POST","/v1/accounts:signInWithEmailLink",Li(t,e))}async function V9(t,e){return Gd(t,"POST","/v1/accounts:signInWithEmailLink",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends n0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new wd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mm(e,n,"signInWithPassword",D9);case"emailLink":return L9(e,{email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mm(e,r,"signUpPassword",R9);case"emailLink":return V9(e,{idToken:n,email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t,e){return Gd(t,"POST","/v1/accounts:signInWithIdp",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9="http://localhost";class Fo extends n0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Hd(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new Fo(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Bl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bl(e,n)}buildRequest(){const e={requestUri:F9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $9(t){const e=xu(wu(t)).link,n=e?xu(wu(e)).deep_link_id:null,r=xu(wu(t)).deep_link_id;return(r?xu(wu(r)).link:null)||r||n||e||t}class r0{constructor(e){var n,r,s,i,a,l;const c=xu(wu(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=U9((s=c.mode)!==null&&s!==void 0?s:null);Ie(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=$9(e);try{return new r0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.providerId=Va.PROVIDER_ID}static credential(e,n){return wd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=r0.parseLink(n);return Ie(r,"argument-error"),wd._fromEmailAndCode(e,r.code,r.tenantId)}}Va.PROVIDER_ID="password";Va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends s0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Kd{constructor(){super("facebook.com")}static credential(e){return Fo._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Kd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fo._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Kd{constructor(){super("github.com")}static credential(e){return Fo._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.GITHUB_SIGN_IN_METHOD="github.com";ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Kd{constructor(){super("twitter.com")}static credential(e,n){return Fo._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return aa.credential(n,r)}catch{return null}}}aa.TWITTER_SIGN_IN_METHOD="twitter.com";aa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B9(t,e){return Gd(t,"POST","/v1/accounts:signUp",Li(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ds._fromIdTokenResponse(e,r,s),a=EE(r);return new Uo({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=EE(r);return new Uo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function EE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm extends Mi{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,pm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new pm(e,n,r,s)}}function Tj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?pm._fromErrorAndOperation(t,i,e,r):i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function Sj(t,e,n=!1){const r=await fc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Uo._forOperation(t,"link",r)}async function W9(t,e,n){await xd(e);const r=z9(e.providerData);Ie(r.has(n)===t,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e,n=!1){const{auth:r}=t;if(Tr(r.app))return Promise.reject(yi(r));const s="reauthenticate";try{const i=await fc(t,Tj(r,s,e,t),n);Ie(i.idToken,r,"internal-error");const a=e0(i.idToken);Ie(a,r,"internal-error");const{sub:l}=a;return Ie(t.uid===l,r,"user-mismatch"),Uo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(t,e,n=!1){if(Tr(t.app))return Promise.reject(yi(t));const r="signIn",s=await Tj(t,r,e),i=await Uo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function H9(t,e){return Cj(Vi(t),e)}async function q9(t,e){const n=zt(t);return await W9(!1,n,e.providerId),Sj(n,e)}async function G9(t,e){return Nj(zt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(t){const e=Vi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function K9(t,e,n){const r=Vi(t);await mm(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",M9)}async function Q9(t,e,n){if(Tr(t.app))return Promise.reject(yi(t));const r=Vi(t),a=await mm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",B9).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Ij(t),c}),l=await Uo._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function Y9(t,e,n){return Tr(t.app)?Promise.reject(yi(t)):H9(zt(t),Va.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ij(t),r})}async function X9(t,e){const n=zt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await O9(n.auth,s);i!==t.email&&await t.reload()}function Z9(t,e){return J9(zt(t),null,e)}async function J9(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const a=await fc(t,A9(r,i));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(t,e){return zt(t).setPersistence(e)}function t$(t,e,n,r){return zt(t).onIdTokenChanged(e,n,r)}function n$(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function r$(t,e,n,r){return zt(t).onAuthStateChanged(e,n,r)}function ly(t){return zt(t).signOut()}const gm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gm,"1"),this.storage.removeItem(gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=1e3,i$=10;class jj extends kj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);f9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,i$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},s$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jj.type="LOCAL";const Pj=jj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj extends kj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Aj.type="SESSION";const Rj=Aj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Tp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await a$(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=i0("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return window}function l$(t){Ms().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(){return typeof Ms().WorkerGlobalScope<"u"&&typeof Ms().importScripts=="function"}async function c$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function d$(){return Dj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="firebaseLocalStorageDb",h$=1,ym="firebaseLocalStorage",Mj="fbase_key";class Qd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sp(t,e){return t.transaction([ym],e?"readwrite":"readonly").objectStore(ym)}function f$(){const t=indexedDB.deleteDatabase(Oj);return new Qd(t).toPromise()}function Wv(){const t=indexedDB.open(Oj,h$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ym,{keyPath:Mj})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ym)?e(r):(r.close(),await f$(),e(await Wv()))})})}async function TE(t,e,n){const r=Sp(t,!0).put({[Mj]:e,value:n});return new Qd(r).toPromise()}async function m$(t,e){const n=Sp(t,!1).get(e),r=await new Qd(n).toPromise();return r===void 0?null:r.value}function SE(t,e){const n=Sp(t,!0).delete(e);return new Qd(n).toPromise()}const p$=800,g$=3;class Lj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>g$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tp._getInstance(d$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await c$(),!this.activeServiceWorker)return;this.sender=new o$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wv();return await TE(e,gm,"1"),await SE(e,gm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>m$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Sp(s,!1).getAll();return new Qd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lj.type="LOCAL";const y$=Lj;new qd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t,e){return e?mi(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0 extends n0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function v$(t){return Cj(t.auth,new a0(t),t.bypassAuthState)}function x$(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),Nj(n,new a0(t),t.bypassAuthState)}async function w$(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),Sj(n,new a0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v$;case"linkViaPopup":case"linkViaRedirect":return w$;case"reauthViaPopup":case"reauthViaRedirect":return x$;default:Qr(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=new qd(2e3,1e4);async function b$(t,e,n){if(Tr(t.app))return Promise.reject(ms(t,"operation-not-supported-in-this-environment"));const r=Vi(t);GU(t,e,s0);const s=Vj(r,n);return new wo(r,"signInViaPopup",e,s).executeNotNull()}class wo extends Fj{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=i0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_$.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$="pendingRedirect",vf=new Map;class T$ extends Fj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vf.get(this.auth._key());if(!e){try{const r=await S$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vf.set(this.auth._key(),e)}return this.bypassAuthState||vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S$(t,e){const n=I$(e),r=C$(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function N$(t,e){vf.set(t._key(),e)}function C$(t){return mi(t._redirectPersistence)}function I$(t){return yf(E$,t.config.apiKey,t.name)}async function k$(t,e,n=!1){if(Tr(t.app))return Promise.reject(yi(t));const r=Vi(t),s=Vj(r,e),a=await new T$(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=10*60*1e3;class P${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Uj(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ms(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j$&&this.cachedEventUids.clear(),this.cachedEventUids.has(NE(e))}saveEventToCache(e){this.cachedEventUids.add(NE(e)),this.lastProcessedEventTime=Date.now()}}function NE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Uj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R$(t,e={}){return Zs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O$=/^https?/;async function M$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await R$(t);for(const n of e)try{if(L$(n))return}catch{}Qr(t,"unauthorized-domain")}function L$(t){const e=Bv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!O$.test(n))return!1;if(D$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=new qd(3e4,6e4);function CE(){const t=Ms().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function F$(t){return new Promise((e,n)=>{var r,s,i;function a(){CE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CE(),n(ms(t,"network-request-failed"))},timeout:V$.get()})}if(!((s=(r=Ms().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ms().gapi)===null||i===void 0)&&i.load)a();else{const l=b9("iframefcb");return Ms()[l]=()=>{gapi.load?a():n(ms(t,"network-request-failed"))},wj(`${_9()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw xf=null,e})}let xf=null;function U$(t){return xf=xf||F$(t),xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=new qd(5e3,15e3),B$="__/auth/iframe",z$="emulator/auth/iframe",W$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q$(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jw(e,z$):`https://${t.config.authDomain}/${B$}`,r={apiKey:e.apiKey,appName:t.name,v:Mc},s=H$.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Wd(r).slice(1)}`}async function G$(t){const e=await U$(t),n=Ms().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:q$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W$,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=ms(t,"network-request-failed"),l=Ms().setTimeout(()=>{i(a)},$$.get());function c(){Ms().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q$=500,Y$=600,X$="_blank",Z$="http://localhost";class IE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function J$(t,e,n,r=Q$,s=Y$){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},K$),{width:r.toString(),height:s.toString(),top:i,left:a}),u=Gn().toLowerCase();n&&(l=fj(u)?X$:n),dj(u)&&(e=e||Z$,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[g,E])=>`${m}${g}=${E},`,"");if(h9(u)&&l!=="_self")return eB(e||"",l),new IE(null);const f=window.open(e||"",l,h);Ie(f,t,"popup-blocked");try{f.focus()}catch{}return new IE(f)}function eB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB="__/auth/handler",nB="emulator/auth/handler",rB=encodeURIComponent("fac");async function kE(t,e,n,r,s,i){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mc,eventId:s};if(e instanceof s0){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",A3(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof Kd){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${rB}=${encodeURIComponent(c)}`:"";return`${sB(t)}?${Wd(l).slice(1)}${u}`}function sB({config:t}){return t.emulator?Jw(t,nB):`https://${t.authDomain}/${tB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="webStorageSupport";class iB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rj,this._completeRedirectFn=k$,this._overrideRedirectResult=N$}async _openPopup(e,n,r,s){var i;ji((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await kE(e,n,r,Bv(),s);return J$(e,a,i0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await kE(e,n,r,Bv(),s);return l$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ji(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await G$(e),r=new P$(e);return n.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cy,{type:cy},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[cy];a!==void 0&&n(!!a),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vj()||hj()||t0()}}const aB=iB;var jE="@firebase/auth",PE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cB(t){hc(new Vo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ie(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xj(t)},u=new v9(r,s,i,c);return I9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hc(new Vo("auth-internal",e=>{const n=Vi(e.getProvider("auth").getImmediate());return(r=>new oB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ia(jE,PE,lB(t)),Ia(jE,PE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=5*60,dB=Qk("authIdTokenMaxAge")||uB;let AE=null;const hB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dB)return;const s=n==null?void 0:n.token;AE!==s&&(AE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function fB(t=tj()){const e=Yw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=C9(t,{popupRedirectResolver:aB,persistence:[y$,Pj,Rj]}),r=Qk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=hB(i.toString());n$(n,a,()=>a(n.currentUser)),t$(n,l=>a(l))}}const s=Gk("auth");return s&&k9(n,`http://${s}`),n}function mB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}x9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ms("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",mB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cB("Browser");var RE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ka,$j;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,C){function j(){}j.prototype=C.prototype,T.D=C.prototype,T.prototype=new j,T.prototype.constructor=T,T.C=function(A,D,I){for(var k=Array(arguments.length-2),V=2;V<arguments.length;V++)k[V-2]=arguments[V];return C.prototype[D].apply(A,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,C,j){j||(j=0);var A=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)A[D]=C.charCodeAt(j++)|C.charCodeAt(j++)<<8|C.charCodeAt(j++)<<16|C.charCodeAt(j++)<<24;else for(D=0;16>D;++D)A[D]=C[j++]|C[j++]<<8|C[j++]<<16|C[j++]<<24;C=T.g[0],j=T.g[1],D=T.g[2];var I=T.g[3],k=C+(I^j&(D^I))+A[0]+3614090360&4294967295;C=j+(k<<7&4294967295|k>>>25),k=I+(D^C&(j^D))+A[1]+3905402710&4294967295,I=C+(k<<12&4294967295|k>>>20),k=D+(j^I&(C^j))+A[2]+606105819&4294967295,D=I+(k<<17&4294967295|k>>>15),k=j+(C^D&(I^C))+A[3]+3250441966&4294967295,j=D+(k<<22&4294967295|k>>>10),k=C+(I^j&(D^I))+A[4]+4118548399&4294967295,C=j+(k<<7&4294967295|k>>>25),k=I+(D^C&(j^D))+A[5]+1200080426&4294967295,I=C+(k<<12&4294967295|k>>>20),k=D+(j^I&(C^j))+A[6]+2821735955&4294967295,D=I+(k<<17&4294967295|k>>>15),k=j+(C^D&(I^C))+A[7]+4249261313&4294967295,j=D+(k<<22&4294967295|k>>>10),k=C+(I^j&(D^I))+A[8]+1770035416&4294967295,C=j+(k<<7&4294967295|k>>>25),k=I+(D^C&(j^D))+A[9]+2336552879&4294967295,I=C+(k<<12&4294967295|k>>>20),k=D+(j^I&(C^j))+A[10]+4294925233&4294967295,D=I+(k<<17&4294967295|k>>>15),k=j+(C^D&(I^C))+A[11]+2304563134&4294967295,j=D+(k<<22&4294967295|k>>>10),k=C+(I^j&(D^I))+A[12]+1804603682&4294967295,C=j+(k<<7&4294967295|k>>>25),k=I+(D^C&(j^D))+A[13]+4254626195&4294967295,I=C+(k<<12&4294967295|k>>>20),k=D+(j^I&(C^j))+A[14]+2792965006&4294967295,D=I+(k<<17&4294967295|k>>>15),k=j+(C^D&(I^C))+A[15]+1236535329&4294967295,j=D+(k<<22&4294967295|k>>>10),k=C+(D^I&(j^D))+A[1]+4129170786&4294967295,C=j+(k<<5&4294967295|k>>>27),k=I+(j^D&(C^j))+A[6]+3225465664&4294967295,I=C+(k<<9&4294967295|k>>>23),k=D+(C^j&(I^C))+A[11]+643717713&4294967295,D=I+(k<<14&4294967295|k>>>18),k=j+(I^C&(D^I))+A[0]+3921069994&4294967295,j=D+(k<<20&4294967295|k>>>12),k=C+(D^I&(j^D))+A[5]+3593408605&4294967295,C=j+(k<<5&4294967295|k>>>27),k=I+(j^D&(C^j))+A[10]+38016083&4294967295,I=C+(k<<9&4294967295|k>>>23),k=D+(C^j&(I^C))+A[15]+3634488961&4294967295,D=I+(k<<14&4294967295|k>>>18),k=j+(I^C&(D^I))+A[4]+3889429448&4294967295,j=D+(k<<20&4294967295|k>>>12),k=C+(D^I&(j^D))+A[9]+568446438&4294967295,C=j+(k<<5&4294967295|k>>>27),k=I+(j^D&(C^j))+A[14]+3275163606&4294967295,I=C+(k<<9&4294967295|k>>>23),k=D+(C^j&(I^C))+A[3]+4107603335&4294967295,D=I+(k<<14&4294967295|k>>>18),k=j+(I^C&(D^I))+A[8]+1163531501&4294967295,j=D+(k<<20&4294967295|k>>>12),k=C+(D^I&(j^D))+A[13]+2850285829&4294967295,C=j+(k<<5&4294967295|k>>>27),k=I+(j^D&(C^j))+A[2]+4243563512&4294967295,I=C+(k<<9&4294967295|k>>>23),k=D+(C^j&(I^C))+A[7]+1735328473&4294967295,D=I+(k<<14&4294967295|k>>>18),k=j+(I^C&(D^I))+A[12]+2368359562&4294967295,j=D+(k<<20&4294967295|k>>>12),k=C+(j^D^I)+A[5]+4294588738&4294967295,C=j+(k<<4&4294967295|k>>>28),k=I+(C^j^D)+A[8]+2272392833&4294967295,I=C+(k<<11&4294967295|k>>>21),k=D+(I^C^j)+A[11]+1839030562&4294967295,D=I+(k<<16&4294967295|k>>>16),k=j+(D^I^C)+A[14]+4259657740&4294967295,j=D+(k<<23&4294967295|k>>>9),k=C+(j^D^I)+A[1]+2763975236&4294967295,C=j+(k<<4&4294967295|k>>>28),k=I+(C^j^D)+A[4]+1272893353&4294967295,I=C+(k<<11&4294967295|k>>>21),k=D+(I^C^j)+A[7]+4139469664&4294967295,D=I+(k<<16&4294967295|k>>>16),k=j+(D^I^C)+A[10]+3200236656&4294967295,j=D+(k<<23&4294967295|k>>>9),k=C+(j^D^I)+A[13]+681279174&4294967295,C=j+(k<<4&4294967295|k>>>28),k=I+(C^j^D)+A[0]+3936430074&4294967295,I=C+(k<<11&4294967295|k>>>21),k=D+(I^C^j)+A[3]+3572445317&4294967295,D=I+(k<<16&4294967295|k>>>16),k=j+(D^I^C)+A[6]+76029189&4294967295,j=D+(k<<23&4294967295|k>>>9),k=C+(j^D^I)+A[9]+3654602809&4294967295,C=j+(k<<4&4294967295|k>>>28),k=I+(C^j^D)+A[12]+3873151461&4294967295,I=C+(k<<11&4294967295|k>>>21),k=D+(I^C^j)+A[15]+530742520&4294967295,D=I+(k<<16&4294967295|k>>>16),k=j+(D^I^C)+A[2]+3299628645&4294967295,j=D+(k<<23&4294967295|k>>>9),k=C+(D^(j|~I))+A[0]+4096336452&4294967295,C=j+(k<<6&4294967295|k>>>26),k=I+(j^(C|~D))+A[7]+1126891415&4294967295,I=C+(k<<10&4294967295|k>>>22),k=D+(C^(I|~j))+A[14]+2878612391&4294967295,D=I+(k<<15&4294967295|k>>>17),k=j+(I^(D|~C))+A[5]+4237533241&4294967295,j=D+(k<<21&4294967295|k>>>11),k=C+(D^(j|~I))+A[12]+1700485571&4294967295,C=j+(k<<6&4294967295|k>>>26),k=I+(j^(C|~D))+A[3]+2399980690&4294967295,I=C+(k<<10&4294967295|k>>>22),k=D+(C^(I|~j))+A[10]+4293915773&4294967295,D=I+(k<<15&4294967295|k>>>17),k=j+(I^(D|~C))+A[1]+2240044497&4294967295,j=D+(k<<21&4294967295|k>>>11),k=C+(D^(j|~I))+A[8]+1873313359&4294967295,C=j+(k<<6&4294967295|k>>>26),k=I+(j^(C|~D))+A[15]+4264355552&4294967295,I=C+(k<<10&4294967295|k>>>22),k=D+(C^(I|~j))+A[6]+2734768916&4294967295,D=I+(k<<15&4294967295|k>>>17),k=j+(I^(D|~C))+A[13]+1309151649&4294967295,j=D+(k<<21&4294967295|k>>>11),k=C+(D^(j|~I))+A[4]+4149444226&4294967295,C=j+(k<<6&4294967295|k>>>26),k=I+(j^(C|~D))+A[11]+3174756917&4294967295,I=C+(k<<10&4294967295|k>>>22),k=D+(C^(I|~j))+A[2]+718787259&4294967295,D=I+(k<<15&4294967295|k>>>17),k=j+(I^(D|~C))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+C&4294967295,T.g[1]=T.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+I&4294967295}r.prototype.u=function(T,C){C===void 0&&(C=T.length);for(var j=C-this.blockSize,A=this.B,D=this.h,I=0;I<C;){if(D==0)for(;I<=j;)s(this,T,I),I+=this.blockSize;if(typeof T=="string"){for(;I<C;)if(A[D++]=T.charCodeAt(I++),D==this.blockSize){s(this,A),D=0;break}}else for(;I<C;)if(A[D++]=T[I++],D==this.blockSize){s(this,A),D=0;break}}this.h=D,this.o+=C},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var C=1;C<T.length-8;++C)T[C]=0;var j=8*this.o;for(C=T.length-8;C<T.length;++C)T[C]=j&255,j/=256;for(this.u(T),T=Array(16),C=j=0;4>C;++C)for(var A=0;32>A;A+=8)T[j++]=this.g[C]>>>A&255;return T};function i(T,C){var j=l;return Object.prototype.hasOwnProperty.call(j,T)?j[T]:j[T]=C(T)}function a(T,C){this.h=C;for(var j=[],A=!0,D=T.length-1;0<=D;D--){var I=T[D]|0;A&&I==C||(j[D]=I,A=!1)}this.g=j}var l={};function c(T){return-128<=T&&128>T?i(T,function(C){return new a([C|0],0>C?-1:0)}):new a([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return b(u(-T));for(var C=[],j=1,A=0;T>=j;A++)C[A]=T/j|0,j*=4294967296;return new a(C,0)}function h(T,C){if(T.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(T.charAt(0)=="-")return b(h(T.substring(1),C));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=u(Math.pow(C,8)),A=f,D=0;D<T.length;D+=8){var I=Math.min(8,T.length-D),k=parseInt(T.substring(D,D+I),C);8>I?(I=u(Math.pow(C,I)),A=A.j(I).add(u(k))):(A=A.j(j),A=A.add(u(k)))}return A}var f=c(0),m=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(x(this))return-b(this).m();for(var T=0,C=1,j=0;j<this.g.length;j++){var A=this.i(j);T+=(0<=A?A:4294967296+A)*C,C*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E(this))return"0";if(x(this))return"-"+b(this).toString(T);for(var C=u(Math.pow(T,6)),j=this,A="";;){var D=S(j,C).g;j=w(j,D.j(C));var I=((0<j.g.length?j.g[0]:j.h)>>>0).toString(T);if(j=D,E(j))return I+A;for(;6>I.length;)I="0"+I;A=I+A}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function E(T){if(T.h!=0)return!1;for(var C=0;C<T.g.length;C++)if(T.g[C]!=0)return!1;return!0}function x(T){return T.h==-1}t.l=function(T){return T=w(this,T),x(T)?-1:E(T)?0:1};function b(T){for(var C=T.g.length,j=[],A=0;A<C;A++)j[A]=~T.g[A];return new a(j,~T.h).add(m)}t.abs=function(){return x(this)?b(this):this},t.add=function(T){for(var C=Math.max(this.g.length,T.g.length),j=[],A=0,D=0;D<=C;D++){var I=A+(this.i(D)&65535)+(T.i(D)&65535),k=(I>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);A=k>>>16,I&=65535,k&=65535,j[D]=k<<16|I}return new a(j,j[j.length-1]&-2147483648?-1:0)};function w(T,C){return T.add(b(C))}t.j=function(T){if(E(this)||E(T))return f;if(x(this))return x(T)?b(this).j(b(T)):b(b(this).j(T));if(x(T))return b(this.j(b(T)));if(0>this.l(g)&&0>T.l(g))return u(this.m()*T.m());for(var C=this.g.length+T.g.length,j=[],A=0;A<2*C;A++)j[A]=0;for(A=0;A<this.g.length;A++)for(var D=0;D<T.g.length;D++){var I=this.i(A)>>>16,k=this.i(A)&65535,V=T.i(D)>>>16,G=T.i(D)&65535;j[2*A+2*D]+=k*G,y(j,2*A+2*D),j[2*A+2*D+1]+=I*G,y(j,2*A+2*D+1),j[2*A+2*D+1]+=k*V,y(j,2*A+2*D+1),j[2*A+2*D+2]+=I*V,y(j,2*A+2*D+2)}for(A=0;A<C;A++)j[A]=j[2*A+1]<<16|j[2*A];for(A=C;A<2*C;A++)j[A]=0;return new a(j,0)};function y(T,C){for(;(T[C]&65535)!=T[C];)T[C+1]+=T[C]>>>16,T[C]&=65535,C++}function v(T,C){this.g=T,this.h=C}function S(T,C){if(E(C))throw Error("division by zero");if(E(T))return new v(f,f);if(x(T))return C=S(b(T),C),new v(b(C.g),b(C.h));if(x(C))return C=S(T,b(C)),new v(b(C.g),C.h);if(30<T.g.length){if(x(T)||x(C))throw Error("slowDivide_ only works with positive integers.");for(var j=m,A=C;0>=A.l(T);)j=P(j),A=P(A);var D=O(j,1),I=O(A,1);for(A=O(A,2),j=O(j,2);!E(A);){var k=I.add(A);0>=k.l(T)&&(D=D.add(j),I=k),A=O(A,1),j=O(j,1)}return C=w(T,D.j(C)),new v(D,C)}for(D=f;0<=T.l(C);){for(j=Math.max(1,Math.floor(T.m()/C.m())),A=Math.ceil(Math.log(j)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),I=u(j),k=I.j(C);x(k)||0<k.l(T);)j-=A,I=u(j),k=I.j(C);E(I)&&(I=m),D=D.add(I),T=w(T,k)}return new v(D,T)}t.A=function(T){return S(this,T).h},t.and=function(T){for(var C=Math.max(this.g.length,T.g.length),j=[],A=0;A<C;A++)j[A]=this.i(A)&T.i(A);return new a(j,this.h&T.h)},t.or=function(T){for(var C=Math.max(this.g.length,T.g.length),j=[],A=0;A<C;A++)j[A]=this.i(A)|T.i(A);return new a(j,this.h|T.h)},t.xor=function(T){for(var C=Math.max(this.g.length,T.g.length),j=[],A=0;A<C;A++)j[A]=this.i(A)^T.i(A);return new a(j,this.h^T.h)};function P(T){for(var C=T.g.length+1,j=[],A=0;A<C;A++)j[A]=T.i(A)<<1|T.i(A-1)>>>31;return new a(j,T.h)}function O(T,C){var j=C>>5;C%=32;for(var A=T.g.length-j,D=[],I=0;I<A;I++)D[I]=0<C?T.i(I+j)>>>C|T.i(I+j+1)<<32-C:T.i(I+j);return new a(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$j=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,ka=a}).apply(typeof RE<"u"?RE:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bj,_u,zj,wf,Hv,Wj,Hj,qj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,N){return d==Array.prototype||d==Object.prototype||(d[_]=N.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var _=0;_<d.length;++_){var N=d[_];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function s(d,_){if(_)e:{var N=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var W=d[R];if(!(W in N))break e;N=N[W]}d=d[d.length-1],R=N[d],_=_(R),_!=R&&_!=null&&e(N,d,{configurable:!0,writable:!0,value:_})}}function i(d,_){d instanceof String&&(d+="");var N=0,R=!1,W={next:function(){if(!R&&N<d.length){var K=N++;return{value:_(K,d[K]),done:!1}}return R=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(d){return d||function(){return i(this,function(_,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function u(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function h(d,_,N){return d.call.apply(d.bind,arguments)}function f(d,_,N){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,R),d.apply(_,W)}}return function(){return d.apply(_,arguments)}}function m(d,_,N){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function g(d,_){var N=Array.prototype.slice.call(arguments,1);return function(){var R=N.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function E(d,_){function N(){}N.prototype=_.prototype,d.aa=_.prototype,d.prototype=new N,d.prototype.constructor=d,d.Qb=function(R,W,K){for(var ue=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)ue[jt-2]=arguments[jt];return _.prototype[W].apply(R,ue)}}function x(d){const _=d.length;if(0<_){const N=Array(_);for(let R=0;R<_;R++)N[R]=d[R];return N}return[]}function b(d,_){for(let N=1;N<arguments.length;N++){const R=arguments[N];if(c(R)){const W=d.length||0,K=R.length||0;d.length=W+K;for(let ue=0;ue<K;ue++)d[W+ue]=R[ue]}else d.push(R)}}class w{constructor(_,N){this.i=_,this.j=N,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function y(d){return/^[\s\xa0]*$/.test(d)}function v(){var d=l.navigator;return d&&(d=d.userAgent)?d:""}function S(d){return S[" "](d),d}S[" "]=function(){};var P=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function O(d,_,N){for(const R in d)_.call(N,d[R],R,d)}function T(d,_){for(const N in d)_.call(void 0,d[N],N,d)}function C(d){const _={};for(const N in d)_[N]=d[N];return _}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(d,_){let N,R;for(let W=1;W<arguments.length;W++){R=arguments[W];for(N in R)d[N]=R[N];for(let K=0;K<j.length;K++)N=j[K],Object.prototype.hasOwnProperty.call(R,N)&&(d[N]=R[N])}}function D(d){var _=1;d=d.split(":");const N=[];for(;0<_&&d.length;)N.push(d.shift()),_--;return d.length&&N.push(d.join(":")),N}function I(d){l.setTimeout(()=>{throw d},0)}function k(){var d=B;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class V{constructor(){this.h=this.g=null}add(_,N){const R=G.get();R.set(_,N),this.h?this.h.next=R:this.g=R,this.h=R}}var G=new w(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(_,N){this.h=_,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let q,U=!1,B=new V,$=()=>{const d=l.Promise.resolve(void 0);q=()=>{d.then(X)}};var X=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(N){I(N)}var _=G;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}U=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const N=()=>{};l.addEventListener("test",N,_),l.removeEventListener("test",N,_)}catch{}return d}();function Ce(d,_){if(de.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var N=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(P){e:{try{S(_.nodeName);var W=!0;break e}catch{}W=!1}W||(_=null)}}else N=="mouseover"?_=d.fromElement:N=="mouseout"&&(_=d.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:st[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ce.aa.h.call(this)}}E(Ce,de);var st={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),He=0;function it(d,_,N,R,W){this.listener=d,this.proxy=null,this.src=_,this.type=N,this.capture=!!R,this.ha=W,this.key=++He,this.da=this.fa=!1}function Re(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Pe(d){this.src=d,this.g={},this.h=0}Pe.prototype.add=function(d,_,N,R,W){var K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);var ue=Nt(d,_,R,W);return-1<ue?(_=d[ue],N||(_.fa=!1)):(_=new it(_,this.src,K,!!R,W),_.fa=N,d.push(_)),_};function Ae(d,_){var N=_.type;if(N in d.g){var R=d.g[N],W=Array.prototype.indexOf.call(R,_,void 0),K;(K=0<=W)&&Array.prototype.splice.call(R,W,1),K&&(Re(_),d.g[N].length==0&&(delete d.g[N],d.h--))}}function Nt(d,_,N,R){for(var W=0;W<d.length;++W){var K=d[W];if(!K.da&&K.listener==_&&K.capture==!!N&&K.ha==R)return W}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),we={};function et(d,_,N,R,W){if(Array.isArray(_)){for(var K=0;K<_.length;K++)et(d,_[K],N,R,W);return null}return N=re(N),d&&d[ie]?d.K(_,N,u(R)?!!R.capture:!!R,W):ut(d,_,N,!1,R,W)}function ut(d,_,N,R,W,K){if(!_)throw Error("Invalid event type");var ue=u(W)?!!W.capture:!!W,jt=Q(d);if(jt||(d[ge]=jt=new Pe(d)),N=jt.add(_,N,R,ue,K),N.proxy)return N;if(R=At(),N.proxy=R,R.src=d,R.listener=N,d.addEventListener)xe||(W=ue),W===void 0&&(W=!1),d.addEventListener(_.toString(),R,W);else if(d.attachEvent)d.attachEvent(z(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return N}function At(){function d(N){return _.call(d.src,d.listener,N)}const _=M;return d}function Be(d,_,N,R,W){if(Array.isArray(_))for(var K=0;K<_.length;K++)Be(d,_[K],N,R,W);else R=u(R)?!!R.capture:!!R,N=re(N),d&&d[ie]?(d=d.i,_=String(_).toString(),_ in d.g&&(K=d.g[_],N=Nt(K,N,R,W),-1<N&&(Re(K[N]),Array.prototype.splice.call(K,N,1),K.length==0&&(delete d.g[_],d.h--)))):d&&(d=Q(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Nt(_,N,R,W)),(N=-1<d?_[d]:null)&&L(N))}function L(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ie])Ae(_.i,d);else{var N=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(N,R,d.capture):_.detachEvent?_.detachEvent(z(N),R):_.addListener&&_.removeListener&&_.removeListener(R),(N=Q(_))?(Ae(N,d),N.h==0&&(N.src=null,_[ge]=null)):Re(d)}}}function z(d){return d in we?we[d]:we[d]="on"+d}function M(d,_){if(d.da)d=!0;else{_=new Ce(_,this);var N=d.listener,R=d.ha||d.src;d.fa&&L(d),d=N.call(R,_)}return d}function Q(d){return d=d[ge],d instanceof Pe?d:null}var Z="__closure_events_fn_"+(1e9*Math.random()>>>0);function re(d){return typeof d=="function"?d:(d[Z]||(d[Z]=function(_){return d.handleEvent(_)}),d[Z])}function F(){le.call(this),this.i=new Pe(this),this.M=this,this.F=null}E(F,le),F.prototype[ie]=!0,F.prototype.removeEventListener=function(d,_,N,R){Be(this,d,_,N,R)};function Y(d,_){var N,R=d.F;if(R)for(N=[];R;R=R.F)N.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new de(_,d);else if(_ instanceof de)_.target=_.target||d;else{var W=_;_=new de(R,d),A(_,W)}if(W=!0,N)for(var K=N.length-1;0<=K;K--){var ue=_.g=N[K];W=ce(ue,R,!0,_)&&W}if(ue=_.g=d,W=ce(ue,R,!0,_)&&W,W=ce(ue,R,!1,_)&&W,N)for(K=0;K<N.length;K++)ue=_.g=N[K],W=ce(ue,R,!1,_)&&W}F.prototype.N=function(){if(F.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var N=d.g[_],R=0;R<N.length;R++)Re(N[R]);delete d.g[_],d.h--}}this.F=null},F.prototype.K=function(d,_,N,R){return this.i.add(String(d),_,!1,N,R)},F.prototype.L=function(d,_,N,R){return this.i.add(String(d),_,!0,N,R)};function ce(d,_,N,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var W=!0,K=0;K<_.length;++K){var ue=_[K];if(ue&&!ue.da&&ue.capture==N){var jt=ue.listener,Cn=ue.ha||ue.src;ue.fa&&Ae(d.i,ue),W=jt.call(Cn,R)!==!1&&W}}return W&&!R.defaultPrevented}function ze(d,_,N){if(typeof d=="function")N&&(d=m(d,N));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:l.setTimeout(d,_||0)}function tt(d){d.g=ze(()=>{d.g=null,d.i&&(d.i=!1,tt(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Lt extends le{constructor(_,N){super(),this.m=_,this.l=N,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:tt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _n(d){le.call(this),this.h=d,this.g={}}E(_n,le);var It=[];function qt(d){O(d.g,function(_,N){this.g.hasOwnProperty(N)&&L(_)},d),d.g={}}_n.prototype.N=function(){_n.aa.N.call(this),qt(this)},_n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ct=l.JSON.stringify,pn=l.JSON.parse,Rr=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function $i(){}$i.prototype.h=null;function Wc(d){return d.h||(d.h=d.i())}function Hc(){}var ao={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oo(){de.call(this,"d")}E(oo,de);function Dr(){de.call(this,"c")}E(Dr,de);var ei={},Oe=null;function ot(){return Oe=Oe||new F}ei.La="serverreachability";function kt(d){de.call(this,ei.La,d)}E(kt,de);function Sn(d){const _=ot();Y(_,new kt(_))}ei.STAT_EVENT="statevent";function ar(d,_){de.call(this,ei.STAT_EVENT,d),this.stat=_}E(ar,de);function Wt(d){const _=ot();Y(_,new ar(_,d))}ei.Ma="timingevent";function _s(d,_){de.call(this,ei.Ma,d),this.size=_}E(_s,de);function Nn(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},_)}function or(){this.g=!0}or.prototype.xa=function(){this.g=!1};function bD(d,_,N,R,W,K){d.info(function(){if(d.g)if(K)for(var ue="",jt=K.split("&"),Cn=0;Cn<jt.length;Cn++){var dt=jt[Cn].split("=");if(1<dt.length){var Mn=dt[0];dt=dt[1];var Ln=Mn.split("_");ue=2<=Ln.length&&Ln[1]=="type"?ue+(Mn+"="+dt+"&"):ue+(Mn+"=redacted&")}}else ue=null;else ue=K;return"XMLHTTP REQ ("+R+") [attempt "+W+"]: "+_+`
`+N+`
`+ue})}function ED(d,_,N,R,W,K,ue){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+W+"]: "+_+`
`+N+`
`+K+" "+ue})}function il(d,_,N,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+SD(d,N)+(R?" "+R:"")})}function TD(d,_){d.info(function(){return"TIMEOUT: "+_})}or.prototype.info=function(){};function SD(d,_){if(!d.g)return _;if(!_)return null;try{var N=JSON.parse(_);if(N){for(d=0;d<N.length;d++)if(Array.isArray(N[d])){var R=N[d];if(!(2>R.length)){var W=R[1];if(Array.isArray(W)&&!(1>W.length)){var K=W[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ue=1;ue<W.length;ue++)W[ue]=""}}}}return Ct(N)}catch{return _}}var oh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},N_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lg;function lh(){}E(lh,$i),lh.prototype.g=function(){return new XMLHttpRequest},lh.prototype.i=function(){return{}},lg=new lh;function Bi(d,_,N,R){this.j=d,this.i=_,this.l=N,this.R=R||1,this.U=new _n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new C_}function C_(){this.i=null,this.g="",this.h=!1}var I_={},cg={};function ug(d,_,N){d.L=1,d.v=hh(ti(_)),d.m=N,d.P=!0,k_(d,null)}function k_(d,_){d.F=Date.now(),ch(d),d.A=ti(d.v);var N=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),z_(N.i,"t",R),d.C=0,N=d.j.J,d.h=new C_,d.g=ob(d.j,N?_:null,!d.m),0<d.O&&(d.M=new Lt(m(d.Y,d,d.g),d.O)),_=d.U,N=d.g,R=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(It[0]=W.toString()),W=It);for(var K=0;K<W.length;K++){var ue=et(N,W[K],R||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Sn(),bD(d.i,d.u,d.A,d.l,d.R,d.m)}Bi.prototype.ca=function(d){d=d.target;const _=this.M;_&&ni(d)==3?_.j():this.Y(d)},Bi.prototype.Y=function(d){try{if(d==this.g)e:{const Ln=ni(this.g);var _=this.g.Ba();const ll=this.g.Z();if(!(3>Ln)&&(Ln!=3||this.g&&(this.h.h||this.g.oa()||Y_(this.g)))){this.J||Ln!=4||_==7||(_==8||0>=ll?Sn(3):Sn(2)),dg(this);var N=this.g.Z();this.X=N;t:if(j_(this)){var R=Y_(this.g);d="";var W=R.length,K=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lo(this),qc(this);var ue="";break t}this.h.i=new l.TextDecoder}for(_=0;_<W;_++)this.h.h=!0,d+=this.h.i.decode(R[_],{stream:!(K&&_==W-1)});R.length=0,this.h.g+=d,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=N==200,ED(this.i,this.u,this.A,this.l,this.R,Ln,N),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,Cn=this.g;if((jt=Cn.g?Cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(jt)){var dt=jt;break t}}dt=null}if(N=dt)il(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hg(this,N);else{this.o=!1,this.s=3,Wt(12),lo(this),qc(this);break e}}if(this.P){N=!0;let Jr;for(;!this.J&&this.C<ue.length;)if(Jr=ND(this,ue),Jr==cg){Ln==4&&(this.s=4,Wt(14),N=!1),il(this.i,this.l,null,"[Incomplete Response]");break}else if(Jr==I_){this.s=4,Wt(15),il(this.i,this.l,ue,"[Invalid Chunk]"),N=!1;break}else il(this.i,this.l,Jr,null),hg(this,Jr);if(j_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ln!=4||ue.length!=0||this.h.h||(this.s=1,Wt(16),N=!1),this.o=this.o&&N,!N)il(this.i,this.l,ue,"[Invalid Chunked Response]"),lo(this),qc(this);else if(0<ue.length&&!this.W){this.W=!0;var Mn=this.j;Mn.g==this&&Mn.ba&&!Mn.M&&(Mn.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),vg(Mn),Mn.M=!0,Wt(11))}}else il(this.i,this.l,ue,null),hg(this,ue);Ln==4&&lo(this),this.o&&!this.J&&(Ln==4?rb(this.j,this):(this.o=!1,ch(this)))}else zD(this.g),N==400&&0<ue.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),lo(this),qc(this)}}}catch{}finally{}};function j_(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ND(d,_){var N=d.C,R=_.indexOf(`
`,N);return R==-1?cg:(N=Number(_.substring(N,R)),isNaN(N)?I_:(R+=1,R+N>_.length?cg:(_=_.slice(R,R+N),d.C=R+N,_)))}Bi.prototype.cancel=function(){this.J=!0,lo(this)};function ch(d){d.S=Date.now()+d.I,P_(d,d.I)}function P_(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Nn(m(d.ba,d),_)}function dg(d){d.B&&(l.clearTimeout(d.B),d.B=null)}Bi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(TD(this.i,this.A),this.L!=2&&(Sn(),Wt(17)),lo(this),this.s=2,qc(this)):P_(this,this.S-d)};function qc(d){d.j.G==0||d.J||rb(d.j,d)}function lo(d){dg(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,qt(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function hg(d,_){try{var N=d.j;if(N.G!=0&&(N.g==d||fg(N.h,d))){if(!d.K&&fg(N.h,d)&&N.G==3){try{var R=N.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var W=R;if(W[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<d.F)vh(N),gh(N);else break e;yg(N),Wt(18)}}else N.za=W[1],0<N.za-N.T&&37500>W[2]&&N.F&&N.v==0&&!N.C&&(N.C=Nn(m(N.Za,N),6e3));if(1>=D_(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else uo(N,11)}else if((d.K||N.g==d)&&vh(N),!y(_))for(W=N.Da.g.parse(_),_=0;_<W.length;_++){let dt=W[_];if(N.T=dt[0],dt=dt[1],N.G==2)if(dt[0]=="c"){N.K=dt[1],N.ia=dt[2];const Mn=dt[3];Mn!=null&&(N.la=Mn,N.j.info("VER="+N.la));const Ln=dt[4];Ln!=null&&(N.Aa=Ln,N.j.info("SVER="+N.Aa));const ll=dt[5];ll!=null&&typeof ll=="number"&&0<ll&&(R=1.5*ll,N.L=R,N.j.info("backChannelRequestTimeoutMs_="+R)),R=N;const Jr=d.g;if(Jr){const wh=Jr.g?Jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wh){var K=R.h;K.g||wh.indexOf("spdy")==-1&&wh.indexOf("quic")==-1&&wh.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(mg(K,K.h),K.h=null))}if(R.D){const xg=Jr.g?Jr.g.getResponseHeader("X-HTTP-Session-Id"):null;xg&&(R.ya=xg,Vt(R.I,R.D,xg))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-d.F,N.j.info("Handshake RTT: "+N.R+"ms")),R=N;var ue=d;if(R.qa=ab(R,R.J?R.ia:null,R.W),ue.K){O_(R.h,ue);var jt=ue,Cn=R.L;Cn&&(jt.I=Cn),jt.B&&(dg(jt),ch(jt)),R.g=ue}else tb(R);0<N.i.length&&yh(N)}else dt[0]!="stop"&&dt[0]!="close"||uo(N,7);else N.G==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?uo(N,7):gg(N):dt[0]!="noop"&&N.l&&N.l.ta(dt),N.v=0)}}Sn(4)}catch{}}var CD=class{constructor(d,_){this.g=d,this.map=_}};function A_(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function R_(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function D_(d){return d.h?1:d.g?d.g.size:0}function fg(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function mg(d,_){d.g?d.g.add(_):d.h=_}function O_(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}A_.prototype.cancel=function(){if(this.i=M_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function M_(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const N of d.g.values())_=_.concat(N.D);return _}return x(d.i)}function ID(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var _=[],N=d.length,R=0;R<N;R++)_.push(d[R]);return _}_=[],N=0;for(R in d)_[N++]=d[R];return _}function kD(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var _=[];d=d.length;for(var N=0;N<d;N++)_.push(N);return _}_=[],N=0;for(const R in d)_[N++]=R;return _}}}function L_(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var N=kD(d),R=ID(d),W=R.length,K=0;K<W;K++)_.call(void 0,R[K],N&&N[K],d)}var V_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jD(d,_){if(d){d=d.split("&");for(var N=0;N<d.length;N++){var R=d[N].indexOf("="),W=null;if(0<=R){var K=d[N].substring(0,R);W=d[N].substring(R+1)}else K=d[N];_(K,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function co(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof co){this.h=d.h,uh(this,d.j),this.o=d.o,this.g=d.g,dh(this,d.s),this.l=d.l;var _=d.i,N=new Qc;N.i=_.i,_.g&&(N.g=new Map(_.g),N.h=_.h),F_(this,N),this.m=d.m}else d&&(_=String(d).match(V_))?(this.h=!1,uh(this,_[1]||"",!0),this.o=Gc(_[2]||""),this.g=Gc(_[3]||"",!0),dh(this,_[4]),this.l=Gc(_[5]||"",!0),F_(this,_[6]||"",!0),this.m=Gc(_[7]||"")):(this.h=!1,this.i=new Qc(null,this.h))}co.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Kc(_,U_,!0),":");var N=this.g;return(N||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Kc(_,U_,!0),"@"),d.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&d.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&d.push("/"),d.push(Kc(N,N.charAt(0)=="/"?RD:AD,!0))),(N=this.i.toString())&&d.push("?",N),(N=this.m)&&d.push("#",Kc(N,OD)),d.join("")};function ti(d){return new co(d)}function uh(d,_,N){d.j=N?Gc(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function dh(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function F_(d,_,N){_ instanceof Qc?(d.i=_,MD(d.i,d.h)):(N||(_=Kc(_,DD)),d.i=new Qc(_,d.h))}function Vt(d,_,N){d.i.set(_,N)}function hh(d){return Vt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Gc(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Kc(d,_,N){return typeof d=="string"?(d=encodeURI(d).replace(_,PD),N&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function PD(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var U_=/[#\/\?@]/g,AD=/[#\?:]/g,RD=/[#\?]/g,DD=/[#\?@]/g,OD=/#/g;function Qc(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function zi(d){d.g||(d.g=new Map,d.h=0,d.i&&jD(d.i,function(_,N){d.add(decodeURIComponent(_.replace(/\+/g," ")),N)}))}t=Qc.prototype,t.add=function(d,_){zi(this),this.i=null,d=al(this,d);var N=this.g.get(d);return N||this.g.set(d,N=[]),N.push(_),this.h+=1,this};function $_(d,_){zi(d),_=al(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function B_(d,_){return zi(d),_=al(d,_),d.g.has(_)}t.forEach=function(d,_){zi(this),this.g.forEach(function(N,R){N.forEach(function(W){d.call(_,W,R,this)},this)},this)},t.na=function(){zi(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),N=[];for(let R=0;R<_.length;R++){const W=d[R];for(let K=0;K<W.length;K++)N.push(_[R])}return N},t.V=function(d){zi(this);let _=[];if(typeof d=="string")B_(this,d)&&(_=_.concat(this.g.get(al(this,d))));else{d=Array.from(this.g.values());for(let N=0;N<d.length;N++)_=_.concat(d[N])}return _},t.set=function(d,_){return zi(this),this.i=null,d=al(this,d),B_(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function z_(d,_,N){$_(d,_),0<N.length&&(d.i=null,d.g.set(al(d,_),x(N)),d.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var N=0;N<_.length;N++){var R=_[N];const K=encodeURIComponent(String(R)),ue=this.V(R);for(R=0;R<ue.length;R++){var W=K;ue[R]!==""&&(W+="="+encodeURIComponent(String(ue[R]))),d.push(W)}}return this.i=d.join("&")};function al(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function MD(d,_){_&&!d.j&&(zi(d),d.i=null,d.g.forEach(function(N,R){var W=R.toLowerCase();R!=W&&($_(this,R),z_(this,W,N))},d)),d.j=_}function LD(d,_){const N=new or;if(l.Image){const R=new Image;R.onload=g(Wi,N,"TestLoadImage: loaded",!0,_,R),R.onerror=g(Wi,N,"TestLoadImage: error",!1,_,R),R.onabort=g(Wi,N,"TestLoadImage: abort",!1,_,R),R.ontimeout=g(Wi,N,"TestLoadImage: timeout",!1,_,R),l.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function VD(d,_){const N=new or,R=new AbortController,W=setTimeout(()=>{R.abort(),Wi(N,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(K=>{clearTimeout(W),K.ok?Wi(N,"TestPingServer: ok",!0,_):Wi(N,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(W),Wi(N,"TestPingServer: error",!1,_)})}function Wi(d,_,N,R,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),R(N)}catch{}}function FD(){this.g=new Rr}function UD(d,_,N){const R=N||"";try{L_(d,function(W,K){let ue=W;u(W)&&(ue=Ct(W)),_.push(R+K+"="+encodeURIComponent(ue))})}catch(W){throw _.push(R+"type="+encodeURIComponent("_badmap")),W}}function fh(d){this.l=d.Ub||null,this.j=d.eb||!1}E(fh,$i),fh.prototype.g=function(){return new mh(this.l,this.j)},fh.prototype.i=function(d){return function(){return d}}({});function mh(d,_){F.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(mh,F),t=mh.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Xc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||l).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Xc(this)),this.g&&(this.readyState=3,Xc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;W_(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function W_(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Yc(this):Xc(this),this.readyState==3&&W_(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Yc(this))},t.Qa=function(d){this.g&&(this.response=d,Yc(this))},t.ga=function(){this.g&&Yc(this)};function Yc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Xc(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var N=_.next();!N.done;)N=N.value,d.push(N[0]+": "+N[1]),N=_.next();return d.join(`\r
`)};function Xc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(mh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function H_(d){let _="";return O(d,function(N,R){_+=R,_+=":",_+=N,_+=`\r
`}),_}function pg(d,_,N){e:{for(R in N){var R=!1;break e}R=!0}R||(N=H_(N),typeof d=="string"?N!=null&&encodeURIComponent(String(N)):Vt(d,_,N))}function Zt(d){F.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Zt,F);var $D=/^https?$/i,BD=["POST","PUT"];t=Zt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,N,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lg.g(),this.v=this.o?Wc(this.o):Wc(lg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(K){q_(this,K);return}if(d=N||"",N=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var W in R)N.set(W,R[W]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const K of R.keys())N.set(K,R.get(K));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(N.keys()).find(K=>K.toLowerCase()=="content-type"),W=l.FormData&&d instanceof l.FormData,!(0<=Array.prototype.indexOf.call(BD,_,void 0))||R||W||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of N)this.g.setRequestHeader(K,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Q_(this),this.u=!0,this.g.send(d),this.u=!1}catch(K){q_(this,K)}};function q_(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,G_(d),ph(d)}function G_(d){d.A||(d.A=!0,Y(d,"complete"),Y(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Y(this,"complete"),Y(this,"abort"),ph(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ph(this,!0)),Zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?K_(this):this.bb())},t.bb=function(){K_(this)};function K_(d){if(d.h&&typeof a<"u"&&(!d.v[1]||ni(d)!=4||d.Z()!=2)){if(d.u&&ni(d)==4)ze(d.Ea,0,d);else if(Y(d,"readystatechange"),ni(d)==4){d.h=!1;try{const ue=d.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var N;if(!(N=_)){var R;if(R=ue===0){var W=String(d.D).match(V_)[1]||null;!W&&l.self&&l.self.location&&(W=l.self.location.protocol.slice(0,-1)),R=!$D.test(W?W.toLowerCase():"")}N=R}if(N)Y(d,"complete"),Y(d,"success");else{d.m=6;try{var K=2<ni(d)?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.Z()+"]",G_(d)}}finally{ph(d)}}}}function ph(d,_){if(d.g){Q_(d);const N=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Y(d,"ready");try{N.onreadystatechange=R}catch{}}}function Q_(d){d.I&&(l.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ni(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),pn(_)}};function Y_(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function zD(d){const _={};d=(d.g&&2<=ni(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(y(d[R]))continue;var N=D(d[R]);const W=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const K=_[W]||[];_[W]=K,K.push(N)}T(_,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zc(d,_,N){return N&&N.internalChannelParams&&N.internalChannelParams[d]||_}function X_(d){this.Aa=0,this.i=[],this.j=new or,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zc("baseRetryDelayMs",5e3,d),this.cb=Zc("retryDelaySeedMs",1e4,d),this.Wa=Zc("forwardChannelMaxRetries",2,d),this.wa=Zc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new A_(d&&d.concurrentRequestLimit),this.Da=new FD,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=X_.prototype,t.la=8,t.G=1,t.connect=function(d,_,N,R){Wt(0),this.W=d,this.H=_||{},N&&R!==void 0&&(this.H.OSID=N,this.H.OAID=R),this.F=this.X,this.I=ab(this,null,this.W),yh(this)};function gg(d){if(Z_(d),d.G==3){var _=d.U++,N=ti(d.I);if(Vt(N,"SID",d.K),Vt(N,"RID",_),Vt(N,"TYPE","terminate"),Jc(d,N),_=new Bi(d,d.j,_),_.L=2,_.v=hh(ti(N)),N=!1,l.navigator&&l.navigator.sendBeacon)try{N=l.navigator.sendBeacon(_.v.toString(),"")}catch{}!N&&l.Image&&(new Image().src=_.v,N=!0),N||(_.g=ob(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ch(_)}ib(d)}function gh(d){d.g&&(vg(d),d.g.cancel(),d.g=null)}function Z_(d){gh(d),d.u&&(l.clearTimeout(d.u),d.u=null),vh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&l.clearTimeout(d.s),d.s=null)}function yh(d){if(!R_(d.h)&&!d.s){d.s=!0;var _=d.Ga;q||$(),U||(q(),U=!0),B.add(_,d),d.B=0}}function WD(d,_){return D_(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Nn(m(d.Ga,d,_),sb(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new Bi(this,this.j,d);let K=this.o;if(this.S&&(K?(K=C(K),A(K,this.S)):K=this.S),this.m!==null||this.O||(W.H=K,K=null),this.P)e:{for(var _=0,N=0;N<this.i.length;N++){t:{var R=this.i[N];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=N;break e}if(_===4096||N===this.i.length-1){_=N+1;break e}}_=1e3}else _=1e3;_=eb(this,W,_),N=ti(this.I),Vt(N,"RID",d),Vt(N,"CVER",22),this.D&&Vt(N,"X-HTTP-Session-Id",this.D),Jc(this,N),K&&(this.O?_="headers="+encodeURIComponent(String(H_(K)))+"&"+_:this.m&&pg(N,this.m,K)),mg(this.h,W),this.Ua&&Vt(N,"TYPE","init"),this.P?(Vt(N,"$req",_),Vt(N,"SID","null"),W.T=!0,ug(W,N,null)):ug(W,N,_),this.G=2}}else this.G==3&&(d?J_(this,d):this.i.length==0||R_(this.h)||J_(this))};function J_(d,_){var N;_?N=_.l:N=d.U++;const R=ti(d.I);Vt(R,"SID",d.K),Vt(R,"RID",N),Vt(R,"AID",d.T),Jc(d,R),d.m&&d.o&&pg(R,d.m,d.o),N=new Bi(d,d.j,N,d.B+1),d.m===null&&(N.H=d.o),_&&(d.i=_.D.concat(d.i)),_=eb(d,N,1e3),N.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),mg(d.h,N),ug(N,R,_)}function Jc(d,_){d.H&&O(d.H,function(N,R){Vt(_,R,N)}),d.l&&L_({},function(N,R){Vt(_,R,N)})}function eb(d,_,N){N=Math.min(d.i.length,N);var R=d.l?m(d.l.Na,d.l,d):null;e:{var W=d.i;let K=-1;for(;;){const ue=["count="+N];K==-1?0<N?(K=W[0].g,ue.push("ofs="+K)):K=0:ue.push("ofs="+K);let jt=!0;for(let Cn=0;Cn<N;Cn++){let dt=W[Cn].g;const Mn=W[Cn].map;if(dt-=K,0>dt)K=Math.max(0,W[Cn].g-100),jt=!1;else try{UD(Mn,ue,"req"+dt+"_")}catch{R&&R(Mn)}}if(jt){R=ue.join("&");break e}}}return d=d.i.splice(0,N),_.D=d,R}function tb(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;q||$(),U||(q(),U=!0),B.add(_,d),d.v=0}}function yg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Nn(m(d.Fa,d),sb(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,nb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Nn(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),gh(this),nb(this))};function vg(d){d.A!=null&&(l.clearTimeout(d.A),d.A=null)}function nb(d){d.g=new Bi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=ti(d.qa);Vt(_,"RID","rpc"),Vt(_,"SID",d.K),Vt(_,"AID",d.T),Vt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Vt(_,"TO",d.ja),Vt(_,"TYPE","xmlhttp"),Jc(d,_),d.m&&d.o&&pg(_,d.m,d.o),d.L&&(d.g.I=d.L);var N=d.g;d=d.ia,N.L=1,N.v=hh(ti(_)),N.m=null,N.P=!0,k_(N,d)}t.Za=function(){this.C!=null&&(this.C=null,gh(this),yg(this),Wt(19))};function vh(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function rb(d,_){var N=null;if(d.g==_){vh(d),vg(d),d.g=null;var R=2}else if(fg(d.h,_))N=_.D,O_(d.h,_),R=1;else return;if(d.G!=0){if(_.o)if(R==1){N=_.m?_.m.length:0,_=Date.now()-_.F;var W=d.B;R=ot(),Y(R,new _s(R,N)),yh(d)}else tb(d);else if(W=_.s,W==3||W==0&&0<_.X||!(R==1&&WD(d,_)||R==2&&yg(d)))switch(N&&0<N.length&&(_=d.h,_.i=_.i.concat(N)),W){case 1:uo(d,5);break;case 4:uo(d,10);break;case 3:uo(d,6);break;default:uo(d,2)}}}function sb(d,_){let N=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(N*=2),N*_}function uo(d,_){if(d.j.info("Error code "+_),_==2){var N=m(d.fb,d),R=d.Xa;const W=!R;R=new co(R||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||uh(R,"https"),hh(R),W?LD(R.toString(),N):VD(R.toString(),N)}else Wt(2);d.G=0,d.l&&d.l.sa(_),ib(d),Z_(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function ib(d){if(d.G=0,d.ka=[],d.l){const _=M_(d.h);(_.length!=0||d.i.length!=0)&&(b(d.ka,_),b(d.ka,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.ra()}}function ab(d,_,N){var R=N instanceof co?ti(N):new co(N);if(R.g!="")_&&(R.g=_+"."+R.g),dh(R,R.s);else{var W=l.location;R=W.protocol,_=_?_+"."+W.hostname:W.hostname,W=+W.port;var K=new co(null);R&&uh(K,R),_&&(K.g=_),W&&dh(K,W),N&&(K.l=N),R=K}return N=d.D,_=d.ya,N&&_&&Vt(R,N,_),Vt(R,"VER",d.la),Jc(d,R),R}function ob(d,_,N){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Zt(new fh({eb:N})):new Zt(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lb(){}t=lb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xh(){}xh.prototype.g=function(d,_){return new wr(d,_)};function wr(d,_){F.call(this),this.g=new X_(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!y(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!y(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new ol(this)}E(wr,F),wr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wr.prototype.close=function(){gg(this.g)},wr.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var N={};N.__data__=d,d=N}else this.u&&(N={},N.__data__=Ct(d),d=N);_.i.push(new CD(_.Ya++,d)),_.G==3&&yh(_)},wr.prototype.N=function(){this.g.l=null,delete this.j,gg(this.g),delete this.g,wr.aa.N.call(this)};function cb(d){oo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const N in _){d=N;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}E(cb,oo);function ub(){Dr.call(this),this.status=1}E(ub,Dr);function ol(d){this.g=d}E(ol,lb),ol.prototype.ua=function(){Y(this.g,"a")},ol.prototype.ta=function(d){Y(this.g,new cb(d))},ol.prototype.sa=function(d){Y(this.g,new ub)},ol.prototype.ra=function(){Y(this.g,"b")},xh.prototype.createWebChannel=xh.prototype.g,wr.prototype.send=wr.prototype.o,wr.prototype.open=wr.prototype.m,wr.prototype.close=wr.prototype.close,qj=function(){return new xh},Hj=function(){return ot()},Wj=ei,Hv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oh.NO_ERROR=0,oh.TIMEOUT=8,oh.HTTP_ERROR=6,wf=oh,N_.COMPLETE="complete",zj=N_,Hc.EventType=ao,ao.OPEN="a",ao.CLOSE="b",ao.ERROR="c",ao.MESSAGE="d",F.prototype.listen=F.prototype.K,_u=Hc,Zt.prototype.listenOnce=Zt.prototype.L,Zt.prototype.getLastError=Zt.prototype.Ka,Zt.prototype.getLastErrorCode=Zt.prototype.Ba,Zt.prototype.getStatus=Zt.prototype.Z,Zt.prototype.getResponseJson=Zt.prototype.Oa,Zt.prototype.getResponseText=Zt.prototype.oa,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Ha,Bj=Zt}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});const DE="@firebase/firestore",OE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new Kw("@firebase/firestore");function pl(){return $o.logLevel}function pe(t,...e){if($o.logLevel<=nt.DEBUG){const n=e.map(o0);$o.debug(`Firestore (${Lc}): ${t}`,...n)}}function Pi(t,...e){if($o.logLevel<=nt.ERROR){const n=e.map(o0);$o.error(`Firestore (${Lc}): ${t}`,...n)}}function Fa(t,...e){if($o.logLevel<=nt.WARN){const n=e.map(o0);$o.warn(`Firestore (${Lc}): ${t}`,...n)}}function o0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Gj(t,r,n)}function Gj(t,e,n){let r=`FIRESTORE (${Lc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Pi(r),new Error(r)}function wt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Gj(e,s,r)}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zn.UNAUTHENTICATED))}shutdown(){}}class gB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yB{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vi,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new Kj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new zn(e)}}class vB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new vB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ME{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=i=>{i.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,pe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ME(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ME(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=_B(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function qv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Xe(r,s);{const i=Qj(),a=bB(i.encode(LE(t,n)),i.encode(LE(e,n)));return a!==0?a:Xe(r,s)}}n+=r>65535?2:1}return Xe(t.length,e.length)}function LE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function bB(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Xe(t[n],e[n]);return Xe(t.length,e.length)}function mc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="__name__";class Ss{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ss.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Xe(e.length,n.length)}static compareSegments(e,n){const r=Ss.isNumericId(e),s=Ss.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ss.extractNumericId(e).compare(Ss.extractNumericId(n)):qv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ka.fromString(e.substring(4,e.length-2))}}class Dt extends Ss{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const EB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends Ss{construct(e,n,r){return new jn(e,n,r)}static isValidIdentifier(e){return EB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VE}static keyField(){return new jn([VE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(n)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(Dt.fromString(e))}static fromName(e){return new Se(Dt.fromString(e).popFirst(5))}static empty(){return new Se(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t,e,n){if(!n)throw new fe(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TB(t,e,n,r){if(e===!0&&r===!0)throw new fe(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FE(t){if(!Se.isDocumentKey(t))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UE(t){if(Se.isDocumentKey(t))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xj(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Np(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function Yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Np(t);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Yd(t,e){if(!Xj(t))throw new fe(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new fe(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=-62135596800,BE=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BE);return new $t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$E)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yd(e,$t._jsonSchema))return new $t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$E;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$t._jsonSchemaVersion="firestore/timestamp/1.0",$t._jsonSchema={type:fn("string",$t._jsonSchemaVersion),seconds:fn("number"),nanoseconds:fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new $t(0,0))}static max(){return new Le(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=-1;function SB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Le.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new Ua(s,Se.empty(),e)}function NB(t){return new Ua(t.readTime,t.key,_d)}class Ua{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ua(Le.min(),Se.empty(),_d)}static max(){return new Ua(Le.max(),Se.empty(),_d)}}function CB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==IB)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(s=>s?ne.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{a[u]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new ne((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function jB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Cp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=-1;function Ip(t){return t==null}function vm(t){return t===0&&1/t==-1/0}function PB(t){return typeof t=="number"&&Number.isInteger(t)&&!vm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj="";function AB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zE(e)),e=RB(t.get(n),e);return zE(e)}function RB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Zj:n+="";break;default:n+=i}}return n}function zE(t){return t+Zj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ja(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Jj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new Xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qh(this.root,e,this.comparator,!1)}getReverseIterator(){return new qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qh(this.root,e,this.comparator,!0)}}class qh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??kn.RED,this.left=s??kn.EMPTY,this.right=i??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new kn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return kn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(e){return new HE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class HE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new Nr([])}unionWith(e){let n=new wn(jn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new eP("Invalid base64 string: "+i):i}}(e);return new On(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new On(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}On.EMPTY_BYTE_STRING=new On("");const DB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=DB.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rn(t.seconds),nanos:rn(t.nanos)}}function rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ba(t){return typeof t=="string"?On.fromBase64String(t):On.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="server_timestamp",nP="__type__",rP="__previous_value__",sP="__local_write_time__";function u0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[nP])===null||n===void 0?void 0:n.stringValue)===tP}function kp(t){const e=t.mapValue.fields[rP];return u0(e)?kp(e):e}function bd(t){const e=$a(t.mapValue.fields[sP].timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,n,r,s,i,a,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const xm="(default)";class Ed{constructor(e,n){this.projectId=e,this.database=n||xm}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database===xm}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="__type__",aP="__max__",Gh={mapValue:{fields:{__type__:{stringValue:aP}}}},oP="__vector__",wm="value";function za(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?u0(t)?4:LB(t)?9007199254740991:MB(t)?10:11:je(28295,{value:t})}function Gs(t,e){if(t===e)return!0;const n=za(t);if(n!==za(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bd(t).isEqual(bd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=$a(s.timestampValue),l=$a(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ba(s.bytesValue).isEqual(Ba(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return rn(s.geoPointValue.latitude)===rn(i.geoPointValue.latitude)&&rn(s.geoPointValue.longitude)===rn(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return rn(s.integerValue)===rn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=rn(s.doubleValue),l=rn(i.doubleValue);return a===l?vm(a)===vm(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return mc(t.arrayValue.values||[],e.arrayValue.values||[],Gs);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(WE(a)!==WE(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Gs(a[c],l[c])))return!1;return!0}(t,e);default:return je(52216,{left:t})}}function Td(t,e){return(t.values||[]).find(n=>Gs(n,e))!==void 0}function pc(t,e){if(t===e)return 0;const n=za(t),r=za(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=rn(i.integerValue||i.doubleValue),c=rn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return qE(t.timestampValue,e.timestampValue);case 4:return qE(bd(t),bd(e));case 5:return qv(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Ba(i),c=Ba(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=Xe(l[u],c[u]);if(h!==0)return h}return Xe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Xe(rn(i.latitude),rn(a.latitude));return l!==0?l:Xe(rn(i.longitude),rn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GE(t.arrayValue,e.arrayValue);case 10:return function(i,a){var l,c,u,h;const f=i.fields||{},m=a.fields||{},g=(l=f[wm])===null||l===void 0?void 0:l.arrayValue,E=(c=m[wm])===null||c===void 0?void 0:c.arrayValue,x=Xe(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:GE(g,E)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Gh.mapValue&&a===Gh.mapValue)return 0;if(i===Gh.mapValue)return 1;if(a===Gh.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=qv(c[f],h[f]);if(m!==0)return m;const g=pc(l[c[f]],u[h[f]]);if(g!==0)return g}return Xe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw je(23264,{le:n})}}function qE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=$a(t),r=$a(e),s=Xe(n.seconds,r.seconds);return s!==0?s:Xe(n.nanos,r.nanos)}function GE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=pc(n[s],r[s]);if(i)return i}return Xe(n.length,r.length)}function gc(t){return Gv(t)}function Gv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$a(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ba(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Gv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Gv(n.fields[a])}`;return s+"}"}(t.mapValue):je(61005,{value:t})}function _f(t){switch(za(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kp(t);return e?16+_f(e):16;case 5:return 2*t.stringValue.length;case 6:return Ba(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+_f(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ja(r.fields,(i,a)=>{s+=i.length+_f(a)}),s}(t.mapValue);default:throw je(13486,{value:t})}}function KE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kv(t){return!!t&&"integerValue"in t}function d0(t){return!!t&&"arrayValue"in t}function QE(t){return!!t&&"nullValue"in t}function YE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bf(t){return!!t&&"mapValue"in t}function MB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[iP])===null||n===void 0?void 0:n.stringValue)===oP}function Uu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ja(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Uu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===aP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(n)}setAll(e){let n=jn.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Uu(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());bf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];bf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ja(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new hr(Uu(this.value))}}function lP(t){const e=[];return Ja(t.fields,(n,r)=>{const s=new jn([n]);if(bf(r)){const i=lP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Hn(e,0,Le.min(),Le.min(),Le.min(),hr.empty(),0)}static newFoundDocument(e,n,r,s){return new Hn(e,1,n,Le.min(),r,s,0)}static newNoDocument(e,n){return new Hn(e,2,n,Le.min(),Le.min(),hr.empty(),0)}static newUnknownDocument(e,n){return new Hn(e,3,n,Le.min(),Le.min(),hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.position=e,this.inclusive=n}}function XE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=Se.comparator(Se.fromName(a.referenceValue),n.key):r=pc(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function VB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{}class hn extends cP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UB(e,n,r):n==="array-contains"?new zB(e,r):n==="in"?new WB(e,r):n==="not-in"?new HB(e,r):n==="array-contains-any"?new qB(e,r):new hn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $B(e,r):new BB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pc(n,this.value)):n!==null&&za(this.value)===za(n)&&this.matchesComparison(pc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xs extends cP{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new xs(e,n)}matches(e){return uP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function uP(t){return t.op==="and"}function dP(t){return FB(t)&&uP(t)}function FB(t){for(const e of t.filters)if(e instanceof xs)return!1;return!0}function Qv(t){if(t instanceof hn)return t.field.canonicalString()+t.op.toString()+gc(t.value);if(dP(t))return t.filters.map(e=>Qv(e)).join(",");{const e=t.filters.map(n=>Qv(n)).join(",");return`${t.op}(${e})`}}function hP(t,e){return t instanceof hn?function(r,s){return s instanceof hn&&r.op===s.op&&r.field.isEqual(s.field)&&Gs(r.value,s.value)}(t,e):t instanceof xs?function(r,s){return s instanceof xs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&hP(a,s.filters[l]),!0):!1}(t,e):void je(19439)}function fP(t){return t instanceof hn?function(n){return`${n.field.canonicalString()} ${n.op} ${gc(n.value)}`}(t):t instanceof xs?function(n){return n.op.toString()+" {"+n.getFilters().map(fP).join(" ,")+"}"}(t):"Filter"}class UB extends hn{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class $B extends hn{constructor(e,n){super(e,"in",n),this.keys=mP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class BB extends hn{constructor(e,n){super(e,"not-in",n),this.keys=mP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class zB extends hn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return d0(n)&&Td(n.arrayValue,this.value)}}class WB extends hn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Td(this.value.arrayValue,n)}}class HB extends hn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Td(this.value.arrayValue,n)}}class qB extends hn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!d0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Td(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Pe=null}}function JE(t,e=null,n=[],r=[],s=null,i=null,a=null){return new GB(t,e,n,r,s,i,a)}function h0(t){const e=$e(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gc(r)).join(",")),e.Pe=n}return e.Pe}function f0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZE(t.startAt,e.startAt)&&ZE(t.endAt,e.endAt)}function Yv(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function KB(t,e,n,r,s,i,a,l){return new Uc(t,e,n,r,s,i,a,l)}function m0(t){return new Uc(t)}function eT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pP(t){return t.collectionGroup!==null}function $u(t){const e=$e(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new wn(jn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new Sd(i,r))}),n.has(jn.keyField().canonicalString())||e.Te.push(new Sd(jn.keyField(),r))}return e.Te}function Ls(t){const e=$e(t);return e.Ie||(e.Ie=QB(e,$u(t))),e.Ie}function QB(t,e){if(t.limitType==="F")return JE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Sd(s.field,i)});const n=t.endAt?new _m(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _m(t.startAt.position,t.startAt.inclusive):null;return JE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xv(t,e){const n=t.filters.concat([e]);return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zv(t,e,n){return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jp(t,e){return f0(Ls(t),Ls(e))&&t.limitType===e.limitType}function gP(t){return`${h0(Ls(t))}|lt:${t.limitType}`}function gl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>fP(s)).join(", ")}]`),Ip(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>gc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>gc(s)).join(",")),`Target(${r})`}(Ls(t))}; limitType=${t.limitType})`}function Pp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of $u(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=XE(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,$u(r),s)||r.endAt&&!function(a,l,c){const u=XE(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,$u(r),s))}(t,e)}function YB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yP(t){return(e,n)=>{let r=!1;for(const s of $u(t)){const i=XB(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function XB(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?pc(c,u):je(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ja(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Jj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=new Xt(Se.comparator);function Ai(){return ZB}const vP=new Xt(Se.comparator);function bu(...t){let e=vP;for(const n of t)e=e.insert(n.key,n);return e}function xP(t){let e=vP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _o(){return Bu()}function wP(){return Bu()}function Bu(){return new el(t=>t.toString(),(t,e)=>t.isEqual(e))}const JB=new Xt(Se.comparator),e8=new wn(Se.comparator);function rt(...t){let e=e8;for(const n of t)e=e.add(n);return e}const t8=new wn(Xe);function n8(){return t8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vm(e)?"-0":e}}function _P(t){return{integerValue:""+t}}function bP(t,e){return PB(e)?_P(e):p0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(){this._=void 0}}function r8(t,e,n){return t instanceof Nd?function(s,i){const a={fields:{[nP]:{stringValue:tP},[sP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&u0(i)&&(i=kp(i)),i&&(a.fields[rP]=i),{mapValue:a}}(n,e):t instanceof yc?TP(t,e):t instanceof vc?SP(t,e):function(s,i){const a=EP(s,i),l=tT(a)+tT(s.Ee);return Kv(a)&&Kv(s.Ee)?_P(l):p0(s.serializer,l)}(t,e)}function s8(t,e,n){return t instanceof yc?TP(t,e):t instanceof vc?SP(t,e):n}function EP(t,e){return t instanceof Cd?function(r){return Kv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Nd extends Ap{}class yc extends Ap{constructor(e){super(),this.elements=e}}function TP(t,e){const n=NP(e);for(const r of t.elements)n.some(s=>Gs(s,r))||n.push(r);return{arrayValue:{values:n}}}class vc extends Ap{constructor(e){super(),this.elements=e}}function SP(t,e){let n=NP(e);for(const r of t.elements)n=n.filter(s=>!Gs(s,r));return{arrayValue:{values:n}}}class Cd extends Ap{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function tT(t){return rn(t.integerValue||t.doubleValue)}function NP(t){return d0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n){this.field=e,this.transform=n}}function i8(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof yc&&s instanceof yc||r instanceof vc&&s instanceof vc?mc(r.elements,s.elements,Gs):r instanceof Cd&&s instanceof Cd?Gs(r.Ee,s.Ee):r instanceof Nd&&s instanceof Nd}(t.transform,e.transform)}class a8{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dp{}function CP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Op(t.key,rr.none()):new Xd(t.key,t.data,rr.none());{const n=t.data,r=hr.empty();let s=new wn(jn.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new eo(t.key,r,new Nr(s.toArray()),rr.none())}}function o8(t,e,n){t instanceof Xd?function(s,i,a){const l=s.value.clone(),c=rT(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof eo?function(s,i,a){if(!Ef(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=rT(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(IP(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function zu(t,e,n,r){return t instanceof Xd?function(i,a,l,c){if(!Ef(i.precondition,a))return l;const u=i.value.clone(),h=sT(i.fieldTransforms,c,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof eo?function(i,a,l,c){if(!Ef(i.precondition,a))return l;const u=sT(i.fieldTransforms,c,a),h=a.data;return h.setAll(IP(i)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,l){return Ef(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function l8(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=EP(r.transform,s||null);i!=null&&(n===null&&(n=hr.empty()),n.set(r.field,i))}return n||null}function nT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&mc(r,s,(i,a)=>i8(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xd extends Dp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class eo extends Dp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function IP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rT(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,s8(a,l,n[s]))}return r}function sT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,r8(i,a,e))}return r}class Op extends Dp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c8 extends Dp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&o8(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wP();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=CP(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,(n,r)=>nT(n,r))&&mc(this.baseMutations,e.baseMutations,(n,r)=>nT(n,r))}}class g0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){wt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return JB}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new g0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d8=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,at;function f8(t){switch(t){case ee.OK:return je(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return je(15467,{code:t})}}function kP(t){if(t===void 0)return Pi("GRPC error has no .code"),ee.UNKNOWN;switch(t){case un.OK:return ee.OK;case un.CANCELLED:return ee.CANCELLED;case un.UNKNOWN:return ee.UNKNOWN;case un.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case un.INTERNAL:return ee.INTERNAL;case un.UNAVAILABLE:return ee.UNAVAILABLE;case un.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case un.NOT_FOUND:return ee.NOT_FOUND;case un.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case un.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case un.ABORTED:return ee.ABORTED;case un.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case un.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case un.DATA_LOSS:return ee.DATA_LOSS;default:return je(39323,{code:t})}}(at=un||(un={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=new ka([4294967295,4294967295],0);function iT(t){const e=Qj().encode(t),n=new $j;return n.update(e),new Uint8Array(n.digest())}function aT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ka([n,r],0),new ka([s,i],0)]}class y0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eu(`Invalid padding: ${n}`);if(r<0)throw new Eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ka.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(ka.fromNumber(r)));return s.compare(m8)===1&&(s=new ka([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=iT(e),[r,s]=aT(n);for(let i=0;i<this.hashCount;i++){const a=this.pe(r,s,i);if(!this.ye(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new y0(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.fe===0)return;const n=iT(e),[r,s]=aT(n);for(let i=0;i<this.hashCount;i++){const a=this.pe(r,s,i);this.we(a)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Zd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Mp(Le.min(),s,new Xt(Xe),Ai(),rt())}}class Zd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zd(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class jP{constructor(e,n){this.targetId=e,this.De=n}}class PP{constructor(e,n,r=On.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class oT{constructor(){this.ve=0,this.Ce=lT(),this.Fe=On.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=rt(),n=rt(),r=rt();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:je(38017,{changeType:i})}}),new Zd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=lT()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class p8{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ai(),this.je=Kh(),this.Je=Kh(),this.He=new Xt(Xe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(Yv(i))if(r===0){const a=new Se(i.path);this.Xe(n,a,Hn.newNoDocument(a,Le.min()))}else wt(r===1,20013,{expectedCount:r});else{const a=this.ot(n);if(a!==r){const l=this._t(e),c=l?this.ut(l,e,a):1;if(c!==0){this.rt(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Ba(r).toUint8Array()}catch(c){if(c instanceof eP)return Fa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new y0(a,s,i)}catch(c){return Fa(c instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.We.lt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,a)=>{const l=this.st(a);if(l){if(i.current&&Yv(l.target)){const c=new Se(l.target.path);this.Tt(c).has(a)||this.It(a,c)||this.Xe(a,c,Hn.newNoDocument(c,e))}i.Ne&&(n.set(a,i.Le()),i.ke())}});let r=rt();this.Je.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ze.forEach((i,a)=>a.setReadTime(e));const s=new Mp(e,n,this.He,this.ze,r);return this.ze=Ai(),this.je=Kh(),this.Je=Kh(),this.He=new Xt(Xe),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new oT,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new wn(Xe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new wn(Xe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new oT),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Kh(){return new Xt(Se.comparator)}function lT(){return new Xt(Se.comparator)}const g8={asc:"ASCENDING",desc:"DESCENDING"},y8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v8={and:"AND",or:"OR"};class x8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jv(t,e){return t.useProto3Json||Ip(e)?e:{value:e}}function bm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function w8(t,e){return bm(t,e.toTimestamp())}function Vs(t){return wt(!!t,49232),Le.fromTimestamp(function(n){const r=$a(n);return new $t(r.seconds,r.nanos)}(t))}function v0(t,e){return ex(t,e).canonicalString()}function ex(t,e){const n=function(s){return new Dt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function RP(t){const e=Dt.fromString(t);return wt(VP(e),10190,{key:e.toString()}),e}function tx(t,e){return v0(t.databaseId,e.path)}function uy(t,e){const n=RP(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(OP(n))}function DP(t,e){return v0(t.databaseId,e)}function _8(t){const e=RP(t);return e.length===4?Dt.emptyPath():OP(e)}function nx(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OP(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cT(t,e,n){return{name:tx(t,e),fields:n.value.mapValue.fields}}function b8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:je(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(wt(h===void 0||typeof h=="string",58123),On.fromBase64String(h||"")):(wt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),On.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const h=u.code===void 0?ee.UNKNOWN:kP(u.code);return new fe(h,u.message||"")}(a);n=new PP(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=uy(t,r.document.name),i=Vs(r.document.updateTime),a=r.document.createTime?Vs(r.document.createTime):Le.min(),l=new hr({mapValue:{fields:r.document.fields}}),c=Hn.newFoundDocument(s,i,a,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Tf(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=uy(t,r.document),i=r.readTime?Vs(r.readTime):Le.min(),a=Hn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Tf([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=uy(t,r.document),i=r.removedTargetIds||[];n=new Tf([],i,s,null)}else{if(!("filter"in e))return je(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new h8(s,i),l=r.targetId;n=new jP(l,a)}}return n}function E8(t,e){let n;if(e instanceof Xd)n={update:cT(t,e.key,e.value)};else if(e instanceof Op)n={delete:tx(t,e.key)};else if(e instanceof eo)n={update:cT(t,e.key,e.data),updateMask:A8(e.fieldMask)};else{if(!(e instanceof c8))return je(16599,{Rt:e.type});n={verify:tx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Nd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof yc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof vc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Cd)return{fieldPath:a.field.canonicalString(),increment:l.Ee};throw je(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:w8(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:je(27497)}(t,e.precondition)),n}function T8(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?Vs(s.updateTime):Vs(i);return a.isEqual(Le.min())&&(a=Vs(i)),new a8(a,s.transformResults||[])}(n,e))):[]}function S8(t,e){return{documents:[DP(t,e.path)]}}function N8(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DP(t,s);const i=function(u){if(u.length!==0)return LP(xs.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:yl(m.field),direction:k8(m.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Jv(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:s}}function C8(t){let e=_8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){wt(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=MP(f);return m instanceof xs&&dP(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(m=>function(E){return new Sd(vl(E.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Ip(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,g=f.values||[];return new _m(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,g=f.values||[];return new _m(g,m)}(n.endAt)),KB(e,s,a,i,l,"F",c,u)}function I8(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vl(n.unaryFilter.field);return hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=vl(n.unaryFilter.field);return hn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=vl(n.unaryFilter.field);return hn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=vl(n.unaryFilter.field);return hn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(t):t.fieldFilter!==void 0?function(n){return hn.create(vl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xs.create(n.compositeFilter.filters.map(r=>MP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(n.compositeFilter.op))}(t):je(30097,{filter:t})}function k8(t){return g8[t]}function j8(t){return y8[t]}function P8(t){return v8[t]}function yl(t){return{fieldPath:t.canonicalString()}}function vl(t){return jn.fromServerFormat(t.fieldPath)}function LP(t){return t instanceof hn?function(n){if(n.op==="=="){if(YE(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NAN"}};if(QE(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YE(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NOT_NAN"}};if(QE(n.value))return{unaryFilter:{field:yl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yl(n.field),op:j8(n.op),value:n.value}}}(t):t instanceof xs?function(n){const r=n.getFilters().map(s=>LP(s));return r.length===1?r[0]:{compositeFilter:{op:P8(n.op),filters:r}}}(t):je(54877,{filter:t})}function A8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,r,s,i=Le.min(),a=Le.min(),l=On.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e){this.gt=e}}function D8(t){const e=C8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(){this.Dn=new M8}addToCollectionParentIndex(e,n){return this.Dn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Ua.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Ua.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class M8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new wn(Dt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FP=41943040;class ur{static withCacheSize(e){return new ur(e,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(FP,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new xc(0)}static ur(){return new xc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="LruGarbageCollector",L8=1048576;function hT([t,e],[n,r]){const s=Xe(t,n);return s===0?Xe(e,r):s}class V8{constructor(e){this.Tr=e,this.buffer=new wn(hT),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){pe(dT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fc(n)?pe(dT,"Ignoring IndexedDB error during garbage collection: ",n):await Vc(n)}await this.Rr(3e5)})}}class U8{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Cp.ue);const r=new V8(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(uT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uT):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,a,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),pl()<=nt.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function $8(t,e){return new U8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(){this.changes=new el(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&zu(r.mutation,s,Nr.empty(),$t.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rt()){const s=_o();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=bu();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=_o();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=Ai();const a=Bu(),l=function(){return Bu()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof eo)?i=i.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),zu(h.mutation,u,h.mutation.getFieldMask(),$t.now())):a.set(u.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>a.set(u,h)),n.forEach((u,h)=>{var f;return l.set(u,new z8(h,(f=a.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Bu();let s=new Xt((a,l)=>a-l),i=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Nr.empty();h=l.applyToLocalView(u,h),r.set(c,h);const f=(s.get(l.batchId)||rt()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,f=wP();h.forEach(m=>{if(!i.has(m)){const g=CP(n.get(m),r.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ne.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return Se.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ne.resolve(_o());let l=_d,c=i;return a.next(u=>ne.forEach(u,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?ne.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,rt())).next(h=>({batchId:l,changes:xP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let s=bu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=bu();return this.indexManager.getCollectionParents(e,i).next(l=>ne.forEach(l,c=>{const u=function(f,m){return new Uc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,m)=>{a=a.insert(f,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,Hn.newInvalidDocument(h)))});let l=bu();return a.forEach((c,u)=>{const h=i.get(c);h!==void 0&&zu(h.mutation,u,Nr.empty(),$t.now()),Pp(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Vs(s.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:D8(s.bundledQuery),readTime:Vs(s.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(){this.overlays=new Xt(Se.comparator),this.kr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_o();return ne.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const s=_o(),i=n.length+1,a=new Se(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Xt((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=_o(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=_o(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=s)););return ne.resolve(l)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new d8(n,r));let i=this.kr.get(n);i===void 0&&(i=rt(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(){this.sessionToken=On.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.qr=new wn(bn.Qr),this.$r=new wn(bn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new bn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new bn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Se(new Dt([])),r=new bn(n,e),s=new bn(n,e+1),i=[];return this.$r.forEachInRange([r,s],a=>{this.Wr(a),i.push(a.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Se(new Dt([])),r=new bn(n,e),s=new bn(n,e+1);let i=rt();return this.$r.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new bn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Se.comparator(e.key,n.key)||Xe(e.Hr,n.Hr)}static Ur(e,n){return Xe(e.Hr,n.Hr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new wn(bn.Qr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new u8(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Yr=this.Yr.add(new bn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ne.resolve(a)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return ne.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?c0:this.er-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),s=new bn(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],a=>{const l=this.Zr(a.Hr);i.push(l)}),ne.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(Xe);return n.forEach(s=>{const i=new bn(s,0),a=new bn(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,a],l=>{r=r.add(l.Hr)})}),ne.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Se.isDocumentKey(i)||(i=i.child(""));const a=new bn(new Se(i),0);let l=new wn(Xe);return this.Yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Hr)),!0)},a),ne.resolve(this.ei(l))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){wt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return ne.forEach(n.mutations,s=>{const i=new bn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new bn(n,0),s=this.Yr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e){this.ni=e,this.docs=function(){return new Xt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(n))}getEntries(e,n){let r=Ai();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Hn.newInvalidDocument(s))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ai();const a=n.path,l=new Se(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||CB(NB(h),r)<=0||(s.has(h.key)||Pp(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return ne.resolve(i)}getAllFromCollectionGroup(e,n,r,s){je(9500)}ri(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Y8(this)}getSize(e){return ne.resolve(this.size)}}class Y8 extends B8{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e){this.persistence=e,this.ii=new el(n=>h0(n),f0),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.si=0,this.oi=new x0,this.targetCount=0,this._i=xc.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),ne.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new xc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.hr(n),ne.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ii.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),ne.waitFor(i).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),ne.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n){this.ai={},this.overlays={},this.ui=new Cp(0),this.ci=!1,this.ci=!0,this.li=new G8,this.referenceDelegate=e(this),this.hi=new X8(this),this.indexManager=new O8,this.remoteDocumentCache=function(s){return new Q8(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new R8(n),this.Ti=new H8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new K8(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const s=new Z8(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return ne.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class Z8 extends kB{constructor(e){super(),this.currentSequenceNumber=e}}class w0{constructor(e){this.persistence=e,this.Ai=new x0,this.Ri=null}static Vi(e){return new w0(e)}get mi(){if(this.Ri)return this.Ri;throw je(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.mi,r=>{const s=Se.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,Le.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ne.or([()=>ne.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Em{constructor(e,n){this.persistence=e,this.gi=new el(r=>AB(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=$8(this,n)}static Vi(e,n){return new Em(e,n)}Ii(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return ne.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?ne.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,a=>this.Sr(e,a,n).next(l=>{l||(r++,i.removeEntry(a,Le.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ne.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_f(e.data.value)),n}Sr(e,n,r){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return ne.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=rt(),s=rt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new _0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return N3()?8:jB(Gn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new J8;return this.ws(e,n,a).next(l=>{if(i.result=l,this.Rs)return this.Ss(e,n,a,l.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(pl()<=nt.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",gl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(pl()<=nt.DEBUG&&pe("QueryEngine","Query:",gl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(pl()<=nt.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",gl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ls(n))):ne.resolve())}ps(e,n){if(eT(n))return ne.resolve(null);let r=Ls(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Zv(n,null,"F"),r=Ls(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=rt(...i);return this.gs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.bs(n,l);return this.Ds(n,u,a,c.readTime)?this.ps(e,Zv(n,null,"F")):this.vs(e,u,n,c)}))})))}ys(e,n,r,s){return eT(n)||s.isEqual(Le.min())?ne.resolve(null):this.gs.getDocuments(e,r).next(i=>{const a=this.bs(n,i);return this.Ds(n,a,r,s)?ne.resolve(null):(pl()<=nt.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),gl(n)),this.vs(e,a,n,SB(s,_d)).next(l=>l))})}bs(e,n){let r=new wn(yP(e));return n.forEach((s,i)=>{Pp(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return pl()<=nt.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",gl(n)),this.gs.getDocumentsMatchingQuery(e,n,Ua.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="LocalStore",tz=3e8;class nz{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Xt(Xe),this.Ms=new el(i=>h0(i),f0),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W8(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function rz(t,e,n,r){return new nz(t,e,n,r)}async function $P(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=rt();for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:a,addedBatchIds:l}))})})}function sz(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const f=u.batch,m=f.keys();let g=ne.resolve();return m.forEach(E=>{g=g.next(()=>h.getEntry(c,E)).next(x=>{const b=u.docVersions.get(E);wt(b!==null,48541),x.version.compareTo(b)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),h.addEntry(x)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=rt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function BP(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function iz(t,e){const n=$e(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const l=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;l.push(n.hi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.hi.addMatchingKeys(i,h.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(On.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(x,b,w){return x.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=tz?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,g,h)&&l.push(n.hi.updateTargetData(i,g))});let c=Ai(),u=rt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(az(i,a,e.documentUpdates).next(h=>{c=h.Ls,u=h.ks})),!r.isEqual(Le.min())){const h=n.hi.getLastRemoteSnapshotVersion(i).next(f=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return ne.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Fs=s,i))}function az(t,e,n){let r=rt(),s=rt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Ai();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Le.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):pe(b0,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ls:a,ks:s}})}function oz(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=c0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lz(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,ne.resolve(s)):n.hi.allocateTargetId(r).next(a=>(s=new pa(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function rx(t,e,n){const r=$e(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Fc(a))throw a;pe(b0,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function fT(t,e,n){const r=$e(t);let s=Le.min(),i=rt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,h){const f=$e(c),m=f.Ms.get(h);return m!==void 0?ne.resolve(f.Fs.get(m)):f.hi.getTargetData(u,h)}(r,a,Ls(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,n?s:Le.min(),n?i:rt())).next(l=>(cz(r,YB(e),l),{documents:l,qs:i})))}function cz(t,e,n){let r=t.xs.get(e)||Le.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class mT{constructor(){this.activeTargetIds=n8()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uz{constructor(){this.Fo=new mT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new mT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="ConnectivityMonitor";class gT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){pe(pT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){pe(pT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh=null;function sx(){return Qh===null?Qh=function(){return 268435456+Math.round(2147483648*Math.random())}():Qh++,"0x"+Qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="RestConnection",hz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fz{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===xm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const a=sx(),l=this.Go(e,n.toUriEncodedString());pe(dy,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,s,i);const{host:u}=new URL(l),h=Oc(u);return this.jo(e,l,c,r,h).then(f=>(pe(dy,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Fa(dy,`RPC '${e}' ${a} failed with error: `,f,"url: ",l,"request:",r),f})}Jo(e,n,r,s,i,a){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=hz[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection";class pz extends fz{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const a=sx();return new Promise((l,c)=>{const u=new Bj;u.setWithCredentials(!0),u.listenOnce(zj.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case wf.NO_ERROR:const f=u.getResponseJson();pe($n,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),l(f);break;case wf.TIMEOUT:pe($n,`RPC '${e}' ${a} timed out`),c(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case wf.HTTP_ERROR:const m=u.getStatus();if(pe($n,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const x=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(y)>=0?y:ee.UNKNOWN}(E.status);c(new fe(x,E.message))}else c(new fe(ee.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:je(9055,{c_:e,streamId:a,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{pe($n,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);pe($n,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",h,r,15)})}P_(e,n,r){const s=sx(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=qj(),l=Hj(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");pe($n,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=a.createWebChannel(h,c);this.T_(f);let m=!1,g=!1;const E=new mz({Ho:b=>{g?pe($n,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(m||(pe($n,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),pe($n,`RPC '${e}' stream ${s} sending:`,b),f.send(b))},Yo:()=>f.close()}),x=(b,w,y)=>{b.listen(w,v=>{try{y(v)}catch(S){setTimeout(()=>{throw S},0)}})};return x(f,_u.EventType.OPEN,()=>{g||(pe($n,`RPC '${e}' stream ${s} transport opened.`),E.s_())}),x(f,_u.EventType.CLOSE,()=>{g||(g=!0,pe($n,`RPC '${e}' stream ${s} transport closed`),E.__(),this.I_(f))}),x(f,_u.EventType.ERROR,b=>{g||(g=!0,Fa($n,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),E.__(new fe(ee.UNAVAILABLE,"The operation could not be completed")))}),x(f,_u.EventType.MESSAGE,b=>{var w;if(!g){const y=b.data[0];wt(!!y,16349);const v=y,S=(v==null?void 0:v.error)||((w=v[0])===null||w===void 0?void 0:w.error);if(S){pe($n,`RPC '${e}' stream ${s} received error:`,S);const P=S.status;let O=function(j){const A=un[j];if(A!==void 0)return kP(A)}(P),T=S.message;O===void 0&&(O=ee.INTERNAL,T="Unknown error status: "+P+" with message "+S.message),g=!0,E.__(new fe(O,T)),f.close()}else pe($n,`RPC '${e}' stream ${s} received:`,y),E.a_(y)}}),x(l,Wj.STAT_EVENT,b=>{b.stat===Hv.PROXY?pe($n,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Hv.NOPROXY&&pe($n,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function hy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(t){return new x8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="PersistentStream";class WP{constructor(e,n,r,s,i,a,l,c){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new zP(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new fe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return pe(yT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(pe(yT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gz extends WP{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=b8(this.serializer,e),r=function(i){if(!("targetChange"in i))return Le.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Le.min():a.readTime?Vs(a.readTime):Le.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=nx(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Yv(c)?{documents:S8(i,c)}:{query:N8(i,c).Vt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=AP(i,a.resumeToken);const u=Jv(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Le.min())>0){l.readTime=bm(i,a.snapshotVersion.toTimestamp());const u=Jv(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=I8(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=nx(this.serializer),n.removeTarget=e,this.k_(n)}}class yz extends WP{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=T8(e.writeResults,e.commitTime),r=Vs(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=nx(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>E8(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{}class xz extends vz{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Wo(e,ex(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new fe(ee.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Jo(e,ex(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(ee.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class wz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Pi(n),this._a=!1):pe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="RemoteStore";class _z{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(a=>{r.enqueueAndForget(async()=>{tl(this)&&(pe(Bo,"Restarting streams for network reachability change."),await async function(c){const u=$e(c);u.Ia.add(4),await Jd(u),u.Aa.set("Unknown"),u.Ia.delete(4),await Vp(u)}(this))})}),this.Aa=new wz(r,s)}}async function Vp(t){if(tl(t))for(const e of t.da)await e(!0)}async function Jd(t){for(const e of t.da)await e(!1)}function HP(t,e){const n=$e(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),N0(n)?S0(n):$c(n).x_()&&T0(n,e))}function E0(t,e){const n=$e(t),r=$c(n);n.Ta.delete(e),r.x_()&&qP(n,e),n.Ta.size===0&&(r.x_()?r.B_():tl(n)&&n.Aa.set("Unknown"))}function T0(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$c(t).H_(e)}function qP(t,e){t.Ra.$e(e),$c(t).Y_(e)}function S0(t){t.Ra=new p8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),$c(t).start(),t.Aa.aa()}function N0(t){return tl(t)&&!$c(t).M_()&&t.Ta.size>0}function tl(t){return $e(t).Ia.size===0}function GP(t){t.Ra=void 0}async function bz(t){t.Aa.set("Online")}async function Ez(t){t.Ta.forEach((e,n)=>{T0(t,e)})}async function Tz(t,e){GP(t),N0(t)?(t.Aa.la(e),S0(t)):t.Aa.set("Unknown")}async function Sz(t,e,n){if(t.Aa.set("Online"),e instanceof PP&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ta.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ta.delete(l),s.Ra.removeTarget(l))}(t,e)}catch(r){pe(Bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tm(t,r)}else if(e instanceof Tf?t.Ra.Ye(e):e instanceof jP?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Le.min()))try{const r=await BP(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.Ra.Pt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ta.get(u);h&&i.Ta.set(u,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const h=i.Ta.get(c);if(!h)return;i.Ta.set(c,h.withResumeToken(On.EMPTY_BYTE_STRING,h.snapshotVersion)),qP(i,c);const f=new pa(h.target,c,u,h.sequenceNumber);T0(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){pe(Bo,"Failed to raise snapshot:",r),await Tm(t,r)}}async function Tm(t,e,n){if(!Fc(e))throw e;t.Ia.add(1),await Jd(t),t.Aa.set("Offline"),n||(n=()=>BP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe(Bo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Vp(t)})}function KP(t,e){return e().catch(n=>Tm(t,n,e))}async function Fp(t){const e=$e(t),n=Wa(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:c0;for(;Nz(e);)try{const s=await oz(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,Cz(e,s)}catch(s){await Tm(e,s)}QP(e)&&YP(e)}function Nz(t){return tl(t)&&t.Pa.length<10}function Cz(t,e){t.Pa.push(e);const n=Wa(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function QP(t){return tl(t)&&!Wa(t).M_()&&t.Pa.length>0}function YP(t){Wa(t).start()}async function Iz(t){Wa(t).na()}async function kz(t){const e=Wa(t);for(const n of t.Pa)e.X_(n.mutations)}async function jz(t,e,n){const r=t.Pa.shift(),s=g0.from(r,e,n);await KP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Fp(t)}async function Pz(t,e){e&&Wa(t).Z_&&await async function(r,s){if(function(a){return f8(a)&&a!==ee.ABORTED}(s.code)){const i=r.Pa.shift();Wa(r).N_(),await KP(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Fp(r)}}(t,e),QP(t)&&YP(t)}async function vT(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),pe(Bo,"RemoteStore received new credentials");const r=tl(n);n.Ia.add(3),await Jd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Vp(n)}async function Az(t,e){const n=$e(t);e?(n.Ia.delete(2),await Vp(n)):e||(n.Ia.add(2),await Jd(n),n.Aa.set("Unknown"))}function $c(t){return t.Va||(t.Va=function(n,r,s){const i=$e(n);return i.ia(),new gz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:bz.bind(null,t),e_:Ez.bind(null,t),n_:Tz.bind(null,t),J_:Sz.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),N0(t)?S0(t):t.Aa.set("Unknown")):(await t.Va.stop(),GP(t))})),t.Va}function Wa(t){return t.ma||(t.ma=function(n,r,s){const i=$e(n);return i.ia(),new yz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Iz.bind(null,t),n_:Pz.bind(null,t),ea:kz.bind(null,t),ta:jz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Fp(t)):(await t.ma.stop(),t.Pa.length>0&&(pe(Bo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new C0(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I0(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),Fc(t))return new fe(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{static emptySet(e){return new zl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=bu(),this.sortedSet=new Xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.fa=new Xt(Se.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):je(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class wc{constructor(e,n,r,s,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new wc(e,n,zl.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Dz{constructor(){this.queries=wT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=$e(n),i=s.queries;s.queries=wT(),i.forEach((a,l)=>{for(const c of l.wa)c.onError(r)})})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function wT(){return new el(t=>gP(t),jp)}async function XP(t,e){const n=$e(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new Rz,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=I0(a,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&k0(n)}async function ZP(t,e){const n=$e(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.wa.indexOf(e);a>=0&&(i.wa.splice(a,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Oz(t,e){const n=$e(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.wa)l.Ca(s)&&(r=!0);a.ya=s}}r&&k0(n)}function Mz(t,e,n){const r=$e(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function k0(t){t.Da.forEach(e=>{e.next()})}var ix,_T;(_T=ix||(ix={})).Fa="default",_T.Cache="cache";class JP{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ix.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.key=e}}class tA{constructor(e){this.key=e}}class Lz{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=rt(),this.mutatedKeys=rt(),this.Xa=yP(e),this.eu=new zl(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new xT,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),g=Pp(this.query,f)?f:null,E=!!m&&this.mutatedKeys.has(m.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;m&&g?m.data.isEqual(g.data)?E!==x&&(r.track({type:3,doc:g}),b=!0):this.iu(m,g)||(r.track({type:2,doc:g}),b=!0,(c&&this.Xa(g,c)>0||u&&this.Xa(g,u)<0)&&(l=!0)):!m&&g?(r.track({type:0,doc:g}),b=!0):m&&!g&&(r.track({type:1,doc:m}),b=!0,(c||u)&&(l=!0)),b&&(g?(a=a.add(g),i=x?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{eu:a,ru:r,Ds:l,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((h,f)=>function(g,E){const x=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{At:b})}};return x(g)-x(E)}(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(r),s=s!=null&&s;const l=n&&!s?this.ou():[],c=this.Za.size===0&&this.current&&!s?1:0,u=c!==this.Ya;return this.Ya=c,a.length!==0||u?{snapshot:new wc(this.query,e.eu,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new xT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=rt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new tA(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new eA(r))}),n}uu(e){this.Ha=e.qs,this.Za=rt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return wc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const j0="SyncEngine";class Vz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Fz{constructor(e){this.key=e,this.lu=!1}}class Uz{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new el(l=>gP(l),jp),this.Tu=new Map,this.Iu=new Set,this.du=new Xt(Se.comparator),this.Eu=new Map,this.Au=new x0,this.Ru={},this.Vu=new Map,this.mu=xc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function $z(t,e,n=!0){const r=oA(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await nA(r,e,n,!0),s}async function Bz(t,e){const n=oA(t);await nA(n,e,!0,!1)}async function nA(t,e,n,r){const s=await lz(t.localStore,Ls(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await zz(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&HP(t.remoteStore,s),l}async function zz(t,e,n,r,s){t.gu=(f,m,g)=>async function(x,b,w,y){let v=b.view.nu(w);v.Ds&&(v=await fT(x.localStore,b.query,!1).then(({documents:T})=>b.view.nu(T,v)));const S=y&&y.targetChanges.get(b.targetId),P=y&&y.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(v,x.isPrimaryClient,S,P);return ET(x,b.targetId,O._u),O.snapshot}(t,f,m,g);const i=await fT(t.localStore,e,!0),a=new Lz(e,i.qs),l=a.nu(i.documents),c=Zd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);ET(t,n,u._u);const h=new Vz(e,n,a);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function Wz(t,e,n){const r=$e(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(a=>!jp(a,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await rx(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&E0(r.remoteStore,s.targetId),ax(r,s.targetId)}).catch(Vc)):(ax(r,s.targetId),await rx(r.localStore,s.targetId,!0))}async function Hz(t,e){const n=$e(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),E0(n.remoteStore,r.targetId))}async function qz(t,e,n){const r=Jz(t);try{const s=await function(a,l){const c=$e(a),u=$t.now(),h=l.reduce((g,E)=>g.add(E.key),rt());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=Ai(),x=rt();return c.Os.getEntries(g,h).next(b=>{E=b,E.forEach((w,y)=>{y.isValidDocument()||(x=x.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,E)).next(b=>{f=b;const w=[];for(const y of l){const v=l8(y,f.get(y.key).overlayedDocument);v!=null&&w.push(new eo(y.key,v,lP(v.value.mapValue),rr.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,w,l)}).next(b=>{m=b;const w=b.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(g,b.batchId,w)})}).then(()=>({batchId:m.batchId,changes:xP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Ru[a.currentUser.toKey()];u||(u=new Xt(Xe)),u=u.insert(l,c),a.Ru[a.currentUser.toKey()]=u}(r,s.batchId,n),await eh(r,s.changes),await Fp(r.remoteStore)}catch(s){const i=I0(s,"Failed to persist write");n.reject(i)}}async function rA(t,e){const n=$e(t);try{const r=await iz(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Eu.get(i);a&&(wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.lu=!0:s.modifiedDocuments.size>0?wt(a.lu,14607):s.removedDocuments.size>0&&(wt(a.lu,42227),a.lu=!1))}),await eh(n,r,e)}catch(r){await Vc(r)}}function bT(t,e,n){const r=$e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=$e(a);c.onlineState=l;let u=!1;c.queries.forEach((h,f)=>{for(const m of f.wa)m.va(l)&&(u=!0)}),u&&k0(c)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Gz(t,e,n){const r=$e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let a=new Xt(Se.comparator);a=a.insert(i,Hn.newNoDocument(i,Le.min()));const l=rt().add(i),c=new Mp(Le.min(),new Map,new Xt(Xe),a,l);await rA(r,c),r.du=r.du.remove(i),r.Eu.delete(e),P0(r)}else await rx(r.localStore,e,!1).then(()=>ax(r,e,n)).catch(Vc)}async function Kz(t,e){const n=$e(t),r=e.batch.batchId;try{const s=await sz(n.localStore,e);iA(n,r,null),sA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eh(n,s)}catch(s){await Vc(s)}}async function Qz(t,e,n){const r=$e(t);try{const s=await function(a,l){const c=$e(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(wt(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);iA(r,e,n),sA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eh(r,s)}catch(s){await Vc(s)}}function sA(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function iA(t,e,n){const r=$e(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function ax(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||aA(t,r)})}function aA(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(E0(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),P0(t))}function ET(t,e,n){for(const r of n)r instanceof eA?(t.Au.addReference(r.key,e),Yz(t,r)):r instanceof tA?(pe(j0,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||aA(t,r.key)):je(19791,{yu:r})}function Yz(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(pe(j0,"New document in limbo: "+n),t.Iu.add(r),P0(t))}function P0(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Se(Dt.fromString(e)),r=t.mu.next();t.Eu.set(r,new Fz(n)),t.du=t.du.insert(n,r),HP(t.remoteStore,new pa(Ls(m0(n.path)),r,"TargetPurposeLimboResolution",Cp.ue))}}async function eh(t,e,n){const r=$e(t),s=[],i=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((l,c)=>{a.push(r.gu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=_0.Es(c.targetId,u);i.push(f)}}))}),await Promise.all(a),r.hu.J_(s),await async function(c,u){const h=$e(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ne.forEach(u,m=>ne.forEach(m.Is,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>ne.forEach(m.ds,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Fc(f))throw f;pe(b0,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const g=h.Fs.get(m),E=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(E);h.Fs=h.Fs.insert(m,x)}}}(r.localStore,i))}async function Xz(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){pe(j0,"User change. New user:",e.toKey());const r=await $P(n.localStore,e);n.currentUser=e,function(i,a){i.Vu.forEach(l=>{l.forEach(c=>{c.reject(new fe(ee.CANCELLED,a))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eh(n,r.Bs)}}function Zz(t,e){const n=$e(t),r=n.Eu.get(e);if(r&&r.lu)return rt().add(r.key);{let s=rt();const i=n.Tu.get(e);if(!i)return s;for(const a of i){const l=n.Pu.get(a);s=s.unionWith(l.view.tu)}return s}}function oA(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gz.bind(null,e),e.hu.J_=Oz.bind(null,e.eventManager),e.hu.pu=Mz.bind(null,e.eventManager),e}function Jz(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qz.bind(null,e),e}class Sm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return rz(this.persistence,new ez,e.initialUser,this.serializer)}Du(e){return new UP(w0.Vi,this.serializer)}bu(e){return new uz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sm.provider={build:()=>new Sm};class e7 extends Sm{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){wt(this.persistence.referenceDelegate instanceof Em,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new F8(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?ur.withCacheSize(this.cacheSizeBytes):ur.DEFAULT;return new UP(r=>Em.Vi(r,n),this.serializer)}}class ox{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xz.bind(null,this.syncEngine),await Az(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Dz}()}createDatastore(e){const n=Lp(e.databaseInfo.databaseId),r=function(i){return new pz(i)}(e.databaseInfo);return function(i,a,l,c){return new xz(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new _z(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>bT(this.syncEngine,n,0),function(){return gT.C()?new gT:new dz}())}createSyncEngine(e,n){return function(s,i,a,l,c,u,h){const f=new Uz(s,i,a,l,c,u);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=$e(s);pe(Bo,"RemoteStore shutting down."),i.Ia.add(5),await Jd(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ox.provider={build:()=>new ox};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="FirestoreClient";class t7{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zn.UNAUTHENTICATED,this.clientId=l0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{pe(Ha,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(pe(Ha,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=I0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fy(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Ha,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $P(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Fa("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{pe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Fa("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function TT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n7(t);pe(Ha,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>vT(e.remoteStore,s)),t._onlineComponents=e}async function n7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Ha,"Using user provided OfflineComponentProvider");try{await fy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),await fy(t,new Sm)}}else pe(Ha,"Using default OfflineComponentProvider"),await fy(t,new e7(void 0));return t._offlineComponents}async function cA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Ha,"Using user provided OnlineComponentProvider"),await TT(t,t._uninitializedComponentsProvider._online)):(pe(Ha,"Using default OnlineComponentProvider"),await TT(t,new ox))),t._onlineComponents}function r7(t){return cA(t).then(e=>e.syncEngine)}async function uA(t){const e=await cA(t),n=e.eventManager;return n.onListen=$z.bind(null,e.syncEngine),n.onUnlisten=Wz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Bz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Hz.bind(null,e.syncEngine),n}function s7(t,e,n={}){const r=new vi;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const h=new lA({next:m=>{h.Ou(),a.enqueueAndForget(()=>ZP(i,f));const g=m.docs.has(l);!g&&m.fromCache?u.reject(new fe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new fe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new JP(m0(l.path),h,{includeMetadataChanges:!0,ka:!0});return XP(i,f)}(await uA(t),t.asyncQueue,e,n,r)),r.promise}function i7(t,e,n={}){const r=new vi;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const h=new lA({next:m=>{h.Ou(),a.enqueueAndForget(()=>ZP(i,f)),m.fromCache&&c.source==="server"?u.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new JP(l,h,{includeMetadataChanges:!0,ka:!0});return XP(i,f)}(await uA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firestore.googleapis.com",NT=!0;class CT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hA,this.ssl=NT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:NT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L8)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Up{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pB;switch(r.type){case"firstParty":return new xB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ST.get(n);r&&(pe("ComponentProvider","Removing Datastore"),ST.delete(n),r.terminate())}(this),Promise.resolve()}}function a7(t,e,n,r={}){var s;t=Yr(t,Up);const i=Oc(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(Yk(`https://${c}`),Xk("Firestore",!0)),a.host!==hA&&a.host!==c&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:i,emulatorOptions:r});if(!Ii(u,l)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=zn.MOCK_USER;else{h=y3(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zn(m)}t._authCredentials=new gB(new Kj(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nl(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Yd(n,on._jsonSchema))return new on(e,r||null,new Se(Dt.fromString(n.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:fn("string",on._jsonSchemaVersion),referencePath:fn("string")};class ja extends nl{constructor(e,n,r){super(e,n,m0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new Se(e))}withConverter(e){return new ja(this.firestore,e,this._path)}}function yr(t,e,...n){if(t=zt(t),Yj("collection","path",e),t instanceof Up){const r=Dt.fromString(e,...n);return UE(r),new ja(t,null,r)}{if(!(t instanceof on||t instanceof ja))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return UE(r),new ja(t.firestore,null,r)}}function Tt(t,e,...n){if(t=zt(t),arguments.length===1&&(e=l0.newId()),Yj("doc","path",e),t instanceof Up){const r=Dt.fromString(e,...n);return FE(r),new on(t,null,new Se(r))}{if(!(t instanceof on||t instanceof ja))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return FE(r),new on(t.firestore,t instanceof ja?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="AsyncQueue";class kT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new zP(this,"async_queue_retry"),this.oc=()=>{const r=hy();r&&pe(IT,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=hy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=hy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new vi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Fc(e))throw e;pe(IT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Pi("INTERNAL UNHANDLED ERROR: ",jT(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=C0.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&je(47125,{hc:jT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function jT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class to extends Up{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new kT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kT(e),this._firestoreClient=void 0,await e}}}function o7(t,e){const n=typeof t=="object"?t:tj(),r=typeof t=="string"?t:xm,s=Yw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=p3("firestore");i&&a7(s,...i)}return s}function $p(t){if(t._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||l7(t),t._firestoreClient}function l7(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,h){return new OB(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,dA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new t7(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $r(On.fromBase64String(e))}catch(n){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $r(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$r._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yd(e,$r._jsonSchema))return $r.fromBase64String(e.bytes)}}$r._jsonSchemaVersion="firestore/bytes/1.0",$r._jsonSchema={type:fn("string",$r._jsonSchemaVersion),bytes:fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fs._jsonSchemaVersion}}static fromJSON(e){if(Yd(e,Fs._jsonSchema))return new Fs(e.latitude,e.longitude)}}Fs._jsonSchemaVersion="firestore/geoPoint/1.0",Fs._jsonSchema={type:fn("string",Fs._jsonSchemaVersion),latitude:fn("number"),longitude:fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yd(e,Us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Us(e.vectorValues);throw new fe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Us._jsonSchemaVersion="firestore/vectorValue/1.0",Us._jsonSchema={type:fn("string",Us._jsonSchemaVersion),vectorValues:fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7=/^__.*__$/;class u7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xd(e,this.data,n,this.fieldTransforms)}}class fA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new eo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ec:t})}}class Bp{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Bp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Nm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(mA(this.Ec)&&c7.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class d7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lp(e)}Dc(e,n,r,s=!1){return new Bp({Ec:e,methodName:n,bc:r,path:jn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nh(t){const e=t._freezeSettings(),n=Lp(t._databaseId);return new d7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function A0(t,e,n,r,s,i={}){const a=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);L0("Data must be an object, but it was:",a,r);const l=vA(r,a);let c,u;if(i.merge)c=new Nr(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=lx(e,f,n);if(!a.contains(m))throw new fe(ee.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);wA(h,m)||h.push(m)}c=new Nr(h),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new u7(new hr(l),c,u)}class zp extends rl{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zp}}function pA(t,e,n){return new Bp({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class R0 extends rl{_toFieldTransform(e){return new Rp(e.path,new Nd)}isEqual(e){return e instanceof R0}}class D0 extends rl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=pA(this,e,!0),r=this.vc.map(i=>sl(i,n)),s=new yc(r);return new Rp(e.path,s)}isEqual(e){return e instanceof D0&&Ii(this.vc,e.vc)}}class O0 extends rl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=pA(this,e,!0),r=this.vc.map(i=>sl(i,n)),s=new vc(r);return new Rp(e.path,s)}isEqual(e){return e instanceof O0&&Ii(this.vc,e.vc)}}class M0 extends rl{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new Cd(e.serializer,bP(e.serializer,this.Cc));return new Rp(e.path,n)}isEqual(e){return e instanceof M0&&this.Cc===e.Cc}}function gA(t,e,n,r){const s=t.Dc(1,e,n);L0("Data must be an object, but it was:",s,r);const i=[],a=hr.empty();Ja(r,(c,u)=>{const h=V0(e,c,n);u=zt(u);const f=s.gc(h);if(u instanceof zp)i.push(h);else{const m=sl(u,f);m!=null&&(i.push(h),a.set(h,m))}});const l=new Nr(i);return new fA(a,l,s.fieldTransforms)}function yA(t,e,n,r,s,i){const a=t.Dc(1,e,n),l=[lx(e,r,n)],c=[s];if(i.length%2!=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(lx(e,i[m])),c.push(i[m+1]);const u=[],h=hr.empty();for(let m=l.length-1;m>=0;--m)if(!wA(u,l[m])){const g=l[m];let E=c[m];E=zt(E);const x=a.gc(g);if(E instanceof zp)u.push(g);else{const b=sl(E,x);b!=null&&(u.push(g),h.set(g,b))}}const f=new Nr(u);return new fA(h,f,a.fieldTransforms)}function h7(t,e,n,r=!1){return sl(n,t.Dc(r?4:3,e))}function sl(t,e){if(xA(t=zt(t)))return L0("Unsupported field value:",e,t),vA(t,e);if(t instanceof rl)return function(r,s){if(!mA(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=sl(l,s.yc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bP(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=$t.fromDate(r);return{timestampValue:bm(s.serializer,i)}}if(r instanceof $t){const i=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bm(s.serializer,i)}}if(r instanceof Fs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $r)return{bytesValue:AP(s.serializer,r._byteString)};if(r instanceof on){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:v0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Us)return function(a,l){return{mapValue:{fields:{[iP]:{stringValue:oP},[wm]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.wc("VectorValues must only contain numeric values.");return p0(l.serializer,u)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${Np(r)}`)}(t,e)}function vA(t,e){const n={};return Jj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ja(t,(r,s)=>{const i=sl(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function xA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof Fs||t instanceof $r||t instanceof on||t instanceof rl||t instanceof Us)}function L0(t,e,n){if(!xA(n)||!Xj(n)){const r=Np(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function lx(t,e,n){if((e=zt(e))instanceof th)return e._internalPath;if(typeof e=="string")return V0(t,e);throw Nm("Field path arguments must be of type string or ",t,!1,void 0,n)}const f7=new RegExp("[~\\*/\\[\\]]");function V0(t,e,n){if(e.search(f7)>=0)throw Nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new th(...e.split("."))._internalPath}catch{throw Nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nm(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new fe(ee.INVALID_ARGUMENT,l+t+c)}function wA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m7 extends _A{data(){return super.data()}}function Wp(t,e){return typeof e=="string"?V0(t,e):e instanceof th?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F0{}class bA extends F0{}function Kn(t,e,...n){let r=[];e instanceof F0&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof U0).length,l=i.filter(c=>c instanceof Hp).length;if(a>1||a>0&&l>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Hp extends bA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hp(e,n,r)}_apply(e){const n=this._parse(e);return EA(e._query,n),new nl(e.firestore,e.converter,Xv(e._query,n))}_parse(e){const n=nh(e.firestore);return function(i,a,l,c,u,h,f){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){AT(f,h);const E=[];for(const x of f)E.push(PT(c,i,x));m={arrayValue:{values:E}}}else m=PT(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||AT(f,h),m=h7(l,a,f,h==="in"||h==="not-in");return hn.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function nn(t,e,n){const r=e,s=Wp("where",t);return Hp._create(s,r,n)}class U0 extends F0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new U0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)EA(a,c),a=Xv(a,c)}(e._query,n),new nl(e.firestore,e.converter,Xv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $0 extends bA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $0(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sd(i,a)}(e._query,this._field,this._direction);return new nl(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new Uc(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function no(t,e="asc"){const n=e,r=Wp("orderBy",t);return $0._create(r,n)}function PT(t,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pP(e)&&n.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dt.fromString(n));if(!Se.isDocumentKey(r))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KE(t,new Se(r))}if(n instanceof on)return KE(t,n._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Np(n)}.`)}function AT(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EA(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class g7{convertValue(e,n="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ja(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[wm].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>rn(a.doubleValue));return new Us(i)}convertGeoPoint(e){return new Fs(rn(e.latitude),rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bd(e));default:return null}}convertTimestamp(e){const n=$a(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);wt(VP(r),9688,{name:e});const s=new Ed(r.get(1),r.get(3)),i=new Se(r.popFirst(5));return s.isEqual(n)||Pi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Po extends _A{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Po._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Po._jsonSchemaVersion="firestore/documentSnapshot/1.0",Po._jsonSchema={type:fn("string",Po._jsonSchemaVersion),bundleSource:fn("string","DocumentSnapshot"),bundleName:fn("string"),bundle:fn("string")};class Sf extends Po{data(e={}){return super.data(e)}}class Wl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Tu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sf(this._firestore,this._userDataWriter,r.key,r,new Tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Sf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Tu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Sf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Tu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:y7(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=l0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function y7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t){t=Yr(t,on);const e=Yr(t.firestore,to);return s7($p(e),t._key).then(n=>v7(e,t,n))}Wl._jsonSchemaVersion="firestore/querySnapshot/1.0",Wl._jsonSchema={type:fn("string",Wl._jsonSchemaVersion),bundleSource:fn("string","QuerySnapshot"),bundleName:fn("string"),bundle:fn("string")};class TA extends g7{constructor(e){super(),this.firestore=e}convertBytes(e){return new $r(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function Qn(t){t=Yr(t,nl);const e=Yr(t.firestore,to),n=$p(e),r=new TA(e);return p7(t._query),i7(n,t._query).then(s=>new Wl(e,r,t,s))}function ea(t,e,n){t=Yr(t,on);const r=Yr(t.firestore,to),s=B0(t.converter,e,n);return rh(r,[A0(nh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,rr.none())])}function Fi(t,e,n,...r){t=Yr(t,on);const s=Yr(t.firestore,to),i=nh(s);let a;return a=typeof(e=zt(e))=="string"||e instanceof th?yA(i,"updateDoc",t._key,e,n,r):gA(i,"updateDoc",t._key,e),rh(s,[a.toMutation(t._key,rr.exists(!0))])}function z0(t){return rh(Yr(t.firestore,to),[new Op(t._key,rr.none())])}function ro(t,e){const n=Yr(t.firestore,to),r=Tt(t),s=B0(t.converter,e);return rh(n,[A0(nh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function rh(t,e){return function(r,s){const i=new vi;return r.asyncQueue.enqueueAndForget(async()=>qz(await r7(r),s,i)),i.promise}($p(t),e)}function v7(t,e,n){const r=n.docs.get(e._key),s=new TA(t);return new Po(t,s,e._key,r,new Tu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=nh(e)}set(e,n,r){this._verifyNotCommitted();const s=my(e,this._firestore),i=B0(s.converter,n,r),a=A0(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(a.toMutation(s._key,rr.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=my(e,this._firestore);let a;return a=typeof(n=zt(n))=="string"||n instanceof th?yA(this._dataReader,"WriteBatch.update",i._key,n,r,s):gA(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(a.toMutation(i._key,rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=my(e,this._firestore);return this._mutations=this._mutations.concat(new Op(n._key,rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function my(t,e){if((t=zt(t)).firestore!==e)throw new fe(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ye(){return new R0("serverTimestamp")}function w7(...t){return new D0("arrayUnion",t)}function _7(...t){return new O0("arrayRemove",t)}function py(t){return new M0("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t){return $p(t=Yr(t,to)),new x7(t,e=>rh(t,e))}(function(e,n=!0){(function(s){Lc=s})(Mc),hc(new Vo("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new to(new yB(r.getProvider("auth-internal")),new wB(a,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(u.options.projectId,h)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Ia(DE,OE,e),Ia(DE,OE,"esm2017")})();var b7="firebase",E7="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ia(b7,E7,"app");const T7={apiKey:"AIzaSyDvxFHXf3JsSv3FSd_aEGoFAdb0VmduwdM",authDomain:"qtonz-sports.firebaseapp.com",projectId:"qtonz-sports",storageBucket:"qtonz-sports.firebasestorage.app",messagingSenderId:"61854773542",appId:"1:61854773542:web:5114c630865f5a929091e7"},NA=ej(T7),Ts=fB(NA),qe=o7(NA);e$(Ts,Pj).catch(t=>{console.error("Failed to set Firebase auth persistence:",t)});const CA=p.createContext(void 0),S7=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(!0),[i,a]=p.useState(!1),[l,c]=p.useState(!1),u=Dc();p.useEffect(()=>{const b=r$(Ts,async w=>{n(w),w?await h(w.uid):(a(!1),c(!1)),s(!1)});return()=>b()},[]);const h=async b=>{try{const w=await zo(Tt(qe,"user_roles",b)),y=w.exists()?w.data():null,v=(y==null?void 0:y.roles)??[];a(v.includes("admin")),c(!v.includes("admin"))}catch(w){console.error("Error checking admin role:",w),a(!1),c(!1)}},f=async(b,w,y)=>{try{const S=(await Q9(Ts,b,w)).user;return await ea(Tt(qe,"profiles",S.uid),{name:(y==null?void 0:y.name)||"",email:b,phone:(y==null?void 0:y.phone)||"",department:(y==null?void 0:y.department)||"",gender:(y==null?void 0:y.gender)||"",created_at:Ye(),updated_at:Ye()},{merge:!0}),await ea(Tt(qe,"user_roles",S.uid),{roles:["player"],updated_at:Ye(),created_at:Ye()},{merge:!0}),await X9(S),await ly(Ts),{error:null}}catch(v){return{error:v}}},m=async(b,w)=>{try{if(!(await Y9(Ts,b,w)).user.emailVerified)throw await ly(Ts),new Error("Please verify your email address before logging in.");return u("/"),{error:null}}catch(y){return{error:y}}},g=async()=>{try{const b=new ci,y=(await b$(Ts,b)).user;return(await zo(Tt(qe,"profiles",y.uid))).exists()?{error:null,user:y,isNewUser:!1}:(await ea(Tt(qe,"profiles",y.uid),{name:y.displayName||"",email:y.email||"",created_at:Ye(),updated_at:Ye()},{merge:!0}),await ea(Tt(qe,"user_roles",y.uid),{roles:["player"],updated_at:Ye(),created_at:Ye()},{merge:!0}),{error:null,user:y,isNewUser:!0})}catch(b){return{error:b}}},E=async b=>{try{const w=Ts.currentUser;if(!w)throw new Error("No authenticated user found");return await ea(Tt(qe,"profiles",w.uid),{name:w.displayName||"",email:w.email||"",phone:(b==null?void 0:b.phone)||"",department:(b==null?void 0:b.department)||"",gender:(b==null?void 0:b.gender)||"",password:(b==null?void 0:b.password)||"",created_at:Ye(),updated_at:Ye()},{merge:!0}),await ea(Tt(qe,"user_roles",w.uid),{roles:["player"],updated_at:Ye(),created_at:Ye()},{merge:!0}),{error:null}}catch(w){return{error:w}}},x=async()=>{await ly(Ts),a(!1),u("/")};return o.jsx(CA.Provider,{value:{user:e,loading:r,isAdmin:i,isPlayer:l,signUp:f,signIn:m,signInWithGoogle:g,signUpWithGoogle:E,signOut:x},children:t})},Xn=()=>{const t=p.useContext(CA);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},N7=Zo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),be=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?Ic:"button";return o.jsx(a,{className:ae(N7({variant:e,size:n,className:t})),ref:i,...s})});be.displayName="Button";const W0=()=>{const{user:t,signOut:e,isAdmin:n,isPlayer:r}=Xn(),[s,i]=p.useState(!1);return o.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 w-full border-b border-border/40 glass-card shadow-lg",children:[o.jsxs("div",{className:"container flex h-16 md:h-18 items-center justify-between px-4 md:px-6",children:[o.jsxs(Rt,{to:"/",className:"group flex items-center space-x-2 transition-transform hover:scale-105",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Mt,{className:"h-6 w-6 md:h-7 md:w-7 text-primary transition-all group-hover:rotate-12 group-hover:text-accent"}),o.jsx("div",{className:"absolute inset-0 blur-lg bg-primary/30 group-hover:bg-accent/40 transition-all"})]}),o.jsx("span",{className:"text-xl md:text-2xl font-bold gradient-text font-['Outfit']",children:"SportsBracket"})]}),o.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[o.jsxs(Rt,{to:"/leaderboard",className:"text-sm font-semibold text-foreground hover:text-primary transition-all hover:scale-105 relative group",children:["Leaderboard",o.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-accent transition-all group-hover:w-full"})]}),r&&o.jsxs(Rt,{to:"/dashboard",className:"text-sm font-semibold text-foreground hover:text-primary transition-all hover:scale-105 relative group",children:["Player Dashboard",o.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-accent transition-all group-hover:w-full"})]}),n&&o.jsxs(Rt,{to:"/admin",className:"text-sm font-semibold text-foreground hover:text-primary transition-all hover:scale-105 relative group",children:["Admin",o.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-accent transition-all group-hover:w-full"})]})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-3",children:t?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground bg-muted px-3 py-1.5 rounded-full",children:t.displayName}),o.jsxs(be,{variant:"ghost",onClick:e,className:"hover-lift",children:[o.jsx(em,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Rt,{to:"/login",children:o.jsx(be,{variant:"ghost",className:"hover-lift",children:"Login"})}),o.jsx(Rt,{to:"/register",children:o.jsx(be,{className:"bg-gradient-to-r from-primary to-accent hover:shadow-lg hover:scale-105 transition-all",children:"Register"})})]})}),o.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-muted/50 transition-all active:scale-95",onClick:()=>i(!s),"aria-label":"Toggle menu",children:s?o.jsx(cp,{className:"h-6 w-6 text-primary"}):o.jsx(CL,{className:"h-6 w-6 text-primary"})})]}),s&&o.jsx("div",{className:"md:hidden border-t border-border/40 glass animate-slide-down",children:o.jsxs("div",{className:"container py-4 space-y-3 px-4",children:[o.jsx(Rt,{to:"/leaderboard",className:"block py-3 px-4 text-sm font-semibold text-foreground hover:text-primary hover:bg-primary/10 rounded-lg transition-all",onClick:()=>i(!1),children:"Leaderboard"}),r&&o.jsx(Rt,{to:"/dashboard",className:"block py-3 px-4 text-sm font-semibold text-foreground hover:text-primary hover:bg-primary/10 rounded-lg transition-all",onClick:()=>i(!1),children:"Player Dashboard"}),n&&o.jsx(Rt,{to:"/admin",className:"block py-3 px-4 text-sm font-semibold text-foreground hover:text-primary hover:bg-primary/10 rounded-lg transition-all",onClick:()=>i(!1),children:"Admin"}),o.jsx("div",{className:"flex flex-col space-y-3 pt-4 border-t border-border/40",children:t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-4 py-2 bg-muted rounded-lg",children:o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:t.email})}),o.jsxs(be,{variant:"ghost",onClick:()=>{e(),i(!1)},className:"w-full justify-start hover:bg-destructive/10 hover:text-destructive",children:[o.jsx(em,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Rt,{to:"/login",onClick:()=>i(!1),children:o.jsx(be,{variant:"outline",className:"w-full hover-lift",children:"Login"})}),o.jsx(Rt,{to:"/register",onClick:()=>i(!1),children:o.jsx(be,{className:"w-full bg-gradient-to-r from-primary to-accent hover:shadow-lg transition-all",children:"Register"})})]})})]})})]})},C7=()=>{const{user:t}=Xn();return o.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-primary via-secondary to-accent py-16 md:py-24 lg:py-32",children:[o.jsxs("div",{className:"container relative z-10 px-4 md:px-6",children:[o.jsxs("div",{className:"mx-auto max-w-5xl text-center",children:[o.jsxs("div",{className:"mb-6 md:mb-8 inline-flex items-center rounded-full bg-white/10 px-4 md:px-6 py-2 md:py-2.5 backdrop-blur-sm border border-white/20 animate-slide-down hover:scale-105 transition-transform",children:[o.jsx(Mt,{className:"mr-2 h-4 w-4 md:h-5 md:w-5 text-accent animate-pulse"}),o.jsx("span",{className:"text-xs md:text-sm font-semibold text-white",children:"Sports Week 2025"}),o.jsx(OI,{className:"ml-2 h-4 w-4 md:h-5 md:w-5 text-warning"})]}),o.jsxs("h1",{className:"mb-6 md:mb-8 text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-black tracking-tight text-white leading-tight animate-slide-up",children:["Tournament Management",o.jsx("br",{}),o.jsx("span",{className:"bg-gradient-to-r from-accent via-warning to-accent bg-clip-text text-transparent animate-pulse",children:"Made Simple"})]}),o.jsx("p",{className:"mb-8 md:mb-10 text-base md:text-lg lg:text-xl text-white/95 max-w-3xl mx-auto leading-relaxed px-4 md:px-0 animate-fade-in",children:"Organize, track, and manage your sports tournaments with ease. From registration to final results, we've got you covered with cutting-edge technology."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center animate-scale-in px-4 md:px-0",children:[!t&&o.jsx(Rt,{to:"/register",className:"w-full sm:w-auto",children:o.jsxs(be,{size:"lg",className:"w-full sm:w-auto bg-gradient-to-r from-accent to-warning hover:from-warning hover:to-accent text-white font-bold shadow-2xl hover:shadow-accent/50 hover:scale-110 transition-all group",children:["Register Now",o.jsx(pL,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})}),o.jsx(Rt,{to:"/leaderboard",className:"w-full sm:w-auto",children:o.jsx(be,{size:"lg",variant:"outline",className:"w-full sm:w-auto glass-card border-black/30 text-black hover:bg-white/20 hover:text-black hover:scale-105 transition-all font-bold",children:"View Leaderboard"})})]})]}),o.jsxs("div",{className:"mt-12 md:mt-20 grid gap-4 md:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 px-4 md:px-0",children:[o.jsxs("div",{className:"group rounded-2xl p-6 md:p-8 bg-white/15 backdrop-blur-md border border-white/30 hover:border-white/50 hover:bg-white/20 transition-all hover:scale-105 hover:-translate-y-2 animate-slide-up shadow-xl",children:[o.jsxs("div",{className:"relative inline-block mb-4 md:mb-6",children:[o.jsx(Mt,{className:"h-10 w-10 md:h-12 md:w-12 text-white drop-shadow-lg group-hover:rotate-12 transition-transform"}),o.jsx("div",{className:"absolute inset-0 blur-xl bg-accent/40 group-hover:bg-accent/60 transition-all"})]}),o.jsx("h3",{className:"mb-2 md:mb-3 text-lg md:text-xl font-bold text-white drop-shadow-md",children:"7 Sports"}),o.jsx("p",{className:"text-sm md:text-base text-white drop-shadow-sm leading-relaxed",children:"Cricket, Volleyball, Chess, Table Tennis, Carrom, Pool, Pickleball"})]}),o.jsxs("div",{className:"group rounded-2xl p-6 md:p-8 bg-white/15 backdrop-blur-md border border-white/30 hover:border-white/50 hover:bg-white/20 transition-all hover:scale-105 hover:-translate-y-2 animate-slide-up shadow-xl",style:{animationDelay:"0.1s"},children:[o.jsxs("div",{className:"relative inline-block mb-4 md:mb-6",children:[o.jsx(Si,{className:"h-10 w-10 md:h-12 md:w-12 text-white drop-shadow-lg group-hover:scale-110 transition-transform"}),o.jsx("div",{className:"absolute inset-0 blur-xl bg-warning/40 group-hover:bg-warning/60 transition-all"})]}),o.jsx("h3",{className:"mb-2 md:mb-3 text-lg md:text-xl font-bold text-white drop-shadow-md",children:"Team Management"}),o.jsx("p",{className:"text-sm md:text-base text-white drop-shadow-sm leading-relaxed",children:"Create teams, pairs, and track individual players seamlessly"})]}),o.jsxs("div",{className:"group rounded-2xl p-6 md:p-8 bg-white/15 backdrop-blur-md border border-white/30 hover:border-white/50 hover:bg-white/20 transition-all hover:scale-105 hover:-translate-y-2 sm:col-span-2 lg:col-span-1 animate-slide-up shadow-xl",style:{animationDelay:"0.2s"},children:[o.jsxs("div",{className:"relative inline-block mb-4 md:mb-6",children:[o.jsx(gs,{className:"h-10 w-10 md:h-12 md:w-12 text-white drop-shadow-lg group-hover:rotate-6 transition-transform"}),o.jsx("div",{className:"absolute inset-0 blur-xl bg-info/40 group-hover:bg-info/60 transition-all"})]}),o.jsx("h3",{className:"mb-2 md:mb-3 text-lg md:text-xl font-bold text-white drop-shadow-md",children:"Live Brackets"}),o.jsx("p",{className:"text-sm md:text-base text-white drop-shadow-sm leading-relaxed",children:"Real-time tournament brackets with instant result updates"})]})]})]}),o.jsx("div",{className:"absolute top-0 left-0 -translate-x-1/2 -translate-y-1/2 w-64 h-64 md:w-96 md:h-96 bg-accent/30 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute bottom-0 right-0 translate-x-1/2 translate-y-1/2 w-64 h-64 md:w-96 md:h-96 bg-warning/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 md:w-[600px] md:h-[600px] bg-white/5 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute top-10 left-10 w-2 h-2 bg-white/40 rounded-full animate-ping"}),o.jsx("div",{className:"absolute top-20 right-20 w-3 h-3 bg-accent/60 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),o.jsx("div",{className:"absolute bottom-20 left-20 w-2 h-2 bg-warning/60 rounded-full animate-ping",style:{animationDelay:"1s"}})]})},Ee=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ee.displayName="Card";const Ke=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",t),...e}));Ke.displayName="CardHeader";const Qe=p.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));Qe.displayName="CardTitle";const vr=p.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));vr.displayName="CardDescription";const Te=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ae("p-6 pt-0",t),...e}));Te.displayName="CardContent";const I7=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",t),...e}));I7.displayName="CardFooter";const k7=Zo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function gt({className:t,variant:e,...n}){return o.jsx("div",{className:ae(k7({variant:e}),t),...n})}const j7=({name:t,type:e,playersPerTeam:n,icon:r})=>{const s=()=>{switch(e){case"SINGLE":return"1v1";case"PAIR":return"2v2";case"TEAM":return`${n}v${n}`}},i=()=>{switch(e){case"SINGLE":return"default";case"PAIR":return"secondary";case"TEAM":return"outline"}};return o.jsx(Ee,{className:"overflow-hidden transition-all hover:shadow-lg hover:-translate-y-1 cursor-pointer",children:o.jsxs(Te,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"rounded-lg bg-primary/10 p-3 text-primary",children:r}),o.jsx(gt,{variant:i(),className:"text-xs",children:s()})]}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:t}),o.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx(Si,{className:"mr-1 h-4 w-4"}),o.jsxs("span",{children:[e==="SINGLE"?"Individual":e==="PAIR"?"Doubles":"Team"," Competition"]})]})]})})},P7=()=>{const t=[{name:"Cricket",type:"TEAM",playersPerTeam:11,icon:o.jsx(Cw,{className:"h-6 w-6"})},{name:"Volleyball",type:"TEAM",playersPerTeam:6,icon:o.jsx(OL,{className:"h-6 w-6"})},{name:"Chess",type:"SINGLE",playersPerTeam:1,icon:o.jsx(bL,{className:"h-6 w-6"})},{name:"Table Tennis",type:"PAIR",playersPerTeam:2,icon:o.jsx(I1,{className:"h-6 w-6"})},{name:"Carrom",type:"PAIR",playersPerTeam:2,icon:o.jsx(PL,{className:"h-6 w-6"})},{name:"8 Ball Pool",type:"PAIR",playersPerTeam:2,icon:o.jsx(I1,{className:"h-6 w-6"})},{name:"Pickleball",type:"PAIR",playersPerTeam:2,icon:o.jsx(OI,{className:"h-6 w-6"})}];return o.jsx("section",{className:"py-12 md:py-20 lg:py-24 bg-gradient-to-b from-muted/30 to-background",children:o.jsxs("div",{className:"container px-4 md:px-6",children:[o.jsxs("div",{className:"text-center mb-10 md:mb-16 animate-fade-in",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black tracking-tight mb-4 md:mb-6",children:o.jsx("span",{className:"gradient-text",children:"Tournament Games"})}),o.jsx("p",{className:"text-base md:text-lg lg:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed px-4 md:px-0",children:"Compete in 7 exciting sports across different formats - singles, doubles, and team events"})]}),o.jsx("div",{className:"grid gap-4 md:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map((e,n)=>o.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${n*.1}s`},children:o.jsx(j7,{...e})},e.name))})]})})},A7=()=>o.jsx("section",{className:"py-16 md:py-24",children:o.jsxs("div",{className:"container",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight text-foreground md:text-4xl mb-4",children:"Interactive Tournament Brackets"}),o.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Visualize and track tournament progress with our clean bracket system"})]}),o.jsxs(Ee,{className:"overflow-hidden",children:[o.jsx(Ke,{className:"bg-gradient-to-r from-primary to-primary/80",children:o.jsx(Qe,{className:"text-white",children:"Sample Bracket - 8 Teams"})}),o.jsx(Te,{className:"p-8",children:o.jsxs("div",{className:"flex justify-center items-center gap-8",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Quarter Finals"}),[1,2,3,4].map(t=>o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-card hover:border-primary transition-colors cursor-pointer",children:o.jsxs("div",{className:"text-sm font-medium",children:["Team ",t*2-1]})}),o.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-card hover:border-primary transition-colors cursor-pointer",children:o.jsxs("div",{className:"text-sm font-medium",children:["Team ",t*2]})})]},t))]}),o.jsxs("div",{className:"space-y-16",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Semi Finals"}),[1,2].map(t=>o.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-muted hover:border-primary transition-colors cursor-pointer min-w-[120px]",children:o.jsxs("div",{className:"text-sm font-medium text-muted-foreground",children:["Winner ",t]})},t))]}),o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Final"}),o.jsx("div",{className:"border-2 border-accent rounded-lg px-4 py-3 bg-accent/5 hover:border-accent transition-colors cursor-pointer min-w-[120px]",children:o.jsx("div",{className:"text-sm font-semibold text-accent",children:"Champion"})})]})]})})]}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"Supports 8, 16, and 32 team brackets with automatic advancement"})})]})}),R7=()=>o.jsx("footer",{className:"border-t border-border bg-muted/30",children:o.jsxs("div",{className:"container py-12",children:[o.jsxs("div",{className:"grid gap-8 md:grid-cols-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(Mt,{className:"h-6 w-6 text-primary"}),o.jsx("span",{className:"text-xl font-bold text-foreground",children:"SportsBracket"})]}),o.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Complete tournament management system for organizing and tracking sports events. Built for Sports Week 2025."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Quick Links"}),o.jsx("ul",{className:"space-y-2 text-sm",children:o.jsx("li",{children:o.jsx(Rt,{to:"/leaderboard",className:"text-muted-foreground hover:text-primary transition-colors",children:"Leaderboard"})})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Account"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{children:o.jsx(Rt,{to:"/login",className:"text-muted-foreground hover:text-primary transition-colors",children:"Login"})}),o.jsx("li",{children:o.jsx(Rt,{to:"/register",className:"text-muted-foreground hover:text-primary transition-colors",children:"Register"})})]})]})]}),o.jsx("div",{className:"mt-8 pt-8 border-t border-border text-center text-sm text-muted-foreground",children:" 2025 SportsBracket. Sports Week Tournament Management System."})]})}),D7=()=>o.jsxs("div",{className:"min-h-screen pt-16 md:pt-10",children:[o.jsx(W0,{}),o.jsx(C7,{}),o.jsx(P7,{}),o.jsx(A7,{}),o.jsx(R7,{})]}),IA=p.createContext(void 0),O7=({children:t})=>{const[e,n]=p.useState(!1);return o.jsxs(IA.Provider,{value:{isLoading:e,setIsLoading:n},children:[t,e&&o.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-background/80 backdrop-blur-sm transition-all duration-300",children:o.jsxs("div",{className:"flex flex-col items-center gap-4 p-8 rounded-2xl bg-card shadow-2xl border animate-in zoom-in-95",children:[o.jsxs("div",{className:"relative",children:[o.jsx(xn,{className:"h-12 w-12 animate-spin text-primary"}),o.jsx("div",{className:"absolute inset-0 blur-xl bg-primary/20 animate-pulse rounded-full"})]}),o.jsx("p",{className:"text-lg font-bold tracking-tight text-foreground animate-pulse",children:"SYNCING DATA..."})]})})]})},Js=()=>{const t=p.useContext(IA);if(t===void 0)throw new Error("useLoading must be used within a LoadingProvider");return t};var gy="focusScope.autoFocusOnMount",yy="focusScope.autoFocusOnUnmount",RT={bubbles:!1,cancelable:!0},M7="FocusScope",H0=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=p.useState(null),u=Kr(s),h=Kr(i),f=p.useRef(null),m=_t(e,x=>c(x)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let x=function(v){if(g.paused||!l)return;const S=v.target;l.contains(S)?f.current=S:Xi(f.current,{select:!0})},b=function(v){if(g.paused||!l)return;const S=v.relatedTarget;S!==null&&(l.contains(S)||Xi(f.current,{select:!0}))},w=function(v){if(document.activeElement===document.body)for(const P of v)P.removedNodes.length>0&&Xi(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const y=new MutationObserver(w);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),y.disconnect()}}},[r,l,g.paused]),p.useEffect(()=>{if(l){OT.add(g);const x=document.activeElement;if(!l.contains(x)){const w=new CustomEvent(gy,RT);l.addEventListener(gy,u),l.dispatchEvent(w),w.defaultPrevented||(L7(B7(kA(l)),{select:!0}),document.activeElement===x&&Xi(l))}return()=>{l.removeEventListener(gy,u),setTimeout(()=>{const w=new CustomEvent(yy,RT);l.addEventListener(yy,h),l.dispatchEvent(w),w.defaultPrevented||Xi(x??document.body,{select:!0}),l.removeEventListener(yy,h),OT.remove(g)},0)}}},[l,u,h,g]);const E=p.useCallback(x=>{if(!n&&!r||g.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(b&&w){const y=x.currentTarget,[v,S]=V7(y);v&&S?!x.shiftKey&&w===S?(x.preventDefault(),n&&Xi(v,{select:!0})):x.shiftKey&&w===v&&(x.preventDefault(),n&&Xi(S,{select:!0})):w===y&&x.preventDefault()}},[n,r,g.paused]);return o.jsx(Me.div,{tabIndex:-1,...a,ref:m,onKeyDown:E})});H0.displayName=M7;function L7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Xi(r,{select:e}),document.activeElement!==n)return}function V7(t){const e=kA(t),n=DT(e,t),r=DT(e.reverse(),t);return[n,r]}function kA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function DT(t,e){for(const n of t)if(!F7(n,{upTo:e}))return n}function F7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function U7(t){return t instanceof HTMLInputElement&&"select"in t}function Xi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&U7(t)&&e&&t.select()}}var OT=$7();function $7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=MT(t,e),t.unshift(e)},remove(e){var n;t=MT(t,e),(n=t[0])==null||n.resume()}}}function MT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function B7(t){return t.filter(e=>e.tagName!=="A")}var vy=0;function jA(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??LT()),document.body.insertAdjacentElement("beforeend",t[1]??LT()),vy++,()=>{vy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),vy--}},[])}function LT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Nf="right-scroll-bar-position",Cf="width-before-scroll-bar",z7="with-scroll-bars-hidden",W7="--removed-body-scroll-bar-size";function xy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function H7(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var q7=typeof window<"u"?p.useLayoutEffect:p.useEffect,VT=new WeakMap;function G7(t,e){var n=H7(null,function(r){return t.forEach(function(s){return xy(s,r)})});return q7(function(){var r=VT.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||xy(l,null)}),i.forEach(function(l){s.has(l)||xy(l,a)})}VT.set(n,t)},[t]),n}function K7(t){return t}function Q7(t,e){e===void 0&&(e=K7);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var h=a;a=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),n}}}};return s}function Y7(t){t===void 0&&(t={});var e=Q7(null);return e.options=js({async:!0,ssr:!1},t),e}var PA=function(t){var e=t.sideCar,n=Hd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,js({},n))};PA.isSideCarExport=!0;function X7(t,e){return t.useMedium(e),PA}var AA=Y7(),wy=function(){},qp=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:wy,onWheelCapture:wy,onTouchMoveCapture:wy}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,g=t.noRelative,E=t.noIsolation,x=t.inert,b=t.allowPinchZoom,w=t.as,y=w===void 0?"div":w,v=t.gapMode,S=Hd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,O=G7([n,e]),T=js(js({},S),s);return p.createElement(p.Fragment,null,h&&p.createElement(P,{sideCar:AA,removeScrollBar:u,shards:f,noRelative:g,noIsolation:E,inert:x,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:v}),a?p.cloneElement(p.Children.only(l),js(js({},T),{ref:O})):p.createElement(y,js({},T,{className:c,ref:O}),l))});qp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qp.classNames={fullWidth:Cf,zeroRight:Nf};var Z7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function J7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Z7();return e&&t.setAttribute("nonce",e),t}function eW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var nW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=J7())&&(eW(e,n),tW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},rW=function(){var t=nW();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},RA=function(){var t=rW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},sW={left:0,top:0,right:0,gap:0},_y=function(t){return parseInt(t||"",10)||0},iW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[_y(n),_y(r),_y(s)]},aW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sW;var e=iW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},oW=RA(),Hl="data-scroll-locked",lW=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(z7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Hl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Cf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Nf," .").concat(Nf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hl,`] {
    `).concat(W7,": ").concat(l,`px;
  }
`)},FT=function(){var t=parseInt(document.body.getAttribute(Hl)||"0",10);return isFinite(t)?t:0},cW=function(){p.useEffect(function(){return document.body.setAttribute(Hl,(FT()+1).toString()),function(){var t=FT()-1;t<=0?document.body.removeAttribute(Hl):document.body.setAttribute(Hl,t.toString())}},[])},uW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;cW();var i=p.useMemo(function(){return aW(s)},[s]);return p.createElement(oW,{styles:lW(i,!e,s,n?"":"!important")})},cx=!1;if(typeof window<"u")try{var Yh=Object.defineProperty({},"passive",{get:function(){return cx=!0,!0}});window.addEventListener("test",Yh,Yh),window.removeEventListener("test",Yh,Yh)}catch{cx=!1}var ul=cx?{passive:!1}:!1,dW=function(t){return t.tagName==="TEXTAREA"},DA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!dW(t)&&n[e]==="visible")},hW=function(t){return DA(t,"overflowY")},fW=function(t){return DA(t,"overflowX")},UT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=OA(t,r);if(s){var i=MA(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},pW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},OA=function(t,e){return t==="v"?hW(e):fW(e)},MA=function(t,e){return t==="v"?mW(e):pW(e)},gW=function(t,e){return t==="h"&&e==="rtl"?-1:1},yW=function(t,e,n,r,s){var i=gW(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),u=!1,h=a>0,f=0,m=0;do{if(!l)break;var g=MA(t,l),E=g[0],x=g[1],b=g[2],w=x-b-i*E;(E||w)&&OA(t,l)&&(f+=w,m+=E);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(u=!0),u},Xh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},$T=function(t){return[t.deltaX,t.deltaY]},BT=function(t){return t&&"current"in t?t.current:t},vW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},xW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wW=0,dl=[];function _W(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(wW++)[0],i=p.useState(RA)[0],a=p.useRef(t);p.useEffect(function(){a.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=WU([t.lockRef.current],(t.shards||[]).map(BT),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var w=Xh(x),y=n.current,v="deltaX"in x?x.deltaX:y[0]-w[0],S="deltaY"in x?x.deltaY:y[1]-w[1],P,O=x.target,T=Math.abs(v)>Math.abs(S)?"h":"v";if("touches"in x&&T==="h"&&O.type==="range")return!1;var C=UT(T,O);if(!C)return!0;if(C?P=T:(P=T==="v"?"h":"v",C=UT(T,O)),!C)return!1;if(!r.current&&"changedTouches"in x&&(v||S)&&(r.current=P),!P)return!0;var j=r.current||P;return yW(j,b,x,j==="h"?v:S,!0)},[]),c=p.useCallback(function(x){var b=x;if(!(!dl.length||dl[dl.length-1]!==i)){var w="deltaY"in b?$T(b):Xh(b),y=e.current.filter(function(P){return P.name===b.type&&(P.target===b.target||b.target===P.shadowParent)&&vW(P.delta,w)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var v=(a.current.shards||[]).map(BT).filter(Boolean).filter(function(P){return P.contains(b.target)}),S=v.length>0?l(b,v[0]):!a.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(x,b,w,y){var v={name:x,delta:b,target:w,should:y,shadowParent:bW(w)};e.current.push(v),setTimeout(function(){e.current=e.current.filter(function(S){return S!==v})},1)},[]),h=p.useCallback(function(x){n.current=Xh(x),r.current=void 0},[]),f=p.useCallback(function(x){u(x.type,$T(x),x.target,l(x,t.lockRef.current))},[]),m=p.useCallback(function(x){u(x.type,Xh(x),x.target,l(x,t.lockRef.current))},[]);p.useEffect(function(){return dl.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ul),document.addEventListener("touchmove",c,ul),document.addEventListener("touchstart",h,ul),function(){dl=dl.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,ul),document.removeEventListener("touchmove",c,ul),document.removeEventListener("touchstart",h,ul)}},[]);var g=t.removeScrollBar,E=t.inert;return p.createElement(p.Fragment,null,E?p.createElement(i,{styles:xW(s)}):null,g?p.createElement(uW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function bW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const EW=X7(AA,_W);var q0=p.forwardRef(function(t,e){return p.createElement(qp,js({},t,{ref:e,sideCar:EW}))});q0.classNames=qp.classNames;var TW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hl=new WeakMap,Zh=new WeakMap,Jh={},by=0,LA=function(t){return t&&(t.host||LA(t.parentNode))},SW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=LA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},NW=function(t,e,n,r){var s=SW(e,Array.isArray(t)?t:[t]);Jh[n]||(Jh[n]=new WeakMap);var i=Jh[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var g=m.getAttribute(r),E=g!==null&&g!=="false",x=(hl.get(m)||0)+1,b=(i.get(m)||0)+1;hl.set(m,x),i.set(m,b),a.push(m),x===1&&E&&Zh.set(m,!0),b===1&&m.setAttribute(n,"true"),E||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return h(e),l.clear(),by++,function(){a.forEach(function(f){var m=hl.get(f)-1,g=i.get(f)-1;hl.set(f,m),i.set(f,g),m||(Zh.has(f)||f.removeAttribute(r),Zh.delete(f)),g||f.removeAttribute(n)}),by--,by||(hl=new WeakMap,hl=new WeakMap,Zh=new WeakMap,Jh={})}},VA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=TW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),NW(r,s,n,"aria-hidden")):function(){return null}},Gp="Dialog",[FA,WQ]=Qs(Gp),[CW,ws]=FA(Gp),UA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=p.useRef(null),c=p.useRef(null),[u,h]=Ti({prop:r,defaultProp:s??!1,onChange:i,caller:Gp});return o.jsx(CW,{scope:e,triggerRef:l,contentRef:c,contentId:gi(),titleId:gi(),descriptionId:gi(),open:u,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:a,children:n})};UA.displayName=Gp;var $A="DialogTrigger",BA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ws($A,n),i=_t(e,s.triggerRef);return o.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Q0(s.open),...r,ref:i,onClick:Ne(t.onClick,s.onOpenToggle)})});BA.displayName=$A;var G0="DialogPortal",[IW,zA]=FA(G0,{forceMount:void 0}),WA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ws(G0,e);return o.jsx(IW,{scope:e,forceMount:n,children:p.Children.map(r,a=>o.jsx(Xa,{present:n||i.open,children:o.jsx(ip,{asChild:!0,container:s,children:a})}))})};WA.displayName=G0;var Cm="DialogOverlay",HA=p.forwardRef((t,e)=>{const n=zA(Cm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ws(Cm,t.__scopeDialog);return i.modal?o.jsx(Xa,{present:r||i.open,children:o.jsx(jW,{...s,ref:e})}):null});HA.displayName=Cm;var kW=lc("DialogOverlay.RemoveScroll"),jW=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ws(Cm,n);return o.jsx(q0,{as:kW,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Me.div,{"data-state":Q0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Wo="DialogContent",qA=p.forwardRef((t,e)=>{const n=zA(Wo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ws(Wo,t.__scopeDialog);return o.jsx(Xa,{present:r||i.open,children:i.modal?o.jsx(PW,{...s,ref:e}):o.jsx(AW,{...s,ref:e})})});qA.displayName=Wo;var PW=p.forwardRef((t,e)=>{const n=ws(Wo,t.__scopeDialog),r=p.useRef(null),s=_t(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return VA(i)},[]),o.jsx(GA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ne(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:Ne(t.onFocusOutside,i=>i.preventDefault())})}),AW=p.forwardRef((t,e)=>{const n=ws(Wo,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return o.jsx(GA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),GA=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=ws(Wo,n),c=p.useRef(null),u=_t(e,c);return jA(),o.jsxs(o.Fragment,{children:[o.jsx(H0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Ud,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Q0(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(RW,{titleId:l.titleId}),o.jsx(OW,{contentRef:c,descriptionId:l.descriptionId})]})]})}),K0="DialogTitle",KA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ws(K0,n);return o.jsx(Me.h2,{id:s.titleId,...r,ref:e})});KA.displayName=K0;var QA="DialogDescription",YA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ws(QA,n);return o.jsx(Me.p,{id:s.descriptionId,...r,ref:e})});YA.displayName=QA;var XA="DialogClose",ZA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ws(XA,n);return o.jsx(Me.button,{type:"button",...r,ref:e,onClick:Ne(t.onClick,()=>s.onOpenChange(!1))})});ZA.displayName=XA;function Q0(t){return t?"open":"closed"}var JA="DialogTitleWarning",[HQ,eR]=b4(JA,{contentName:Wo,titleName:K0,docsSlug:"dialog"}),RW=({titleId:t})=>{const e=eR(JA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},DW="DialogDescriptionWarning",OW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eR(DW).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},tR=UA,MW=BA,nR=WA,Kp=HA,Qp=qA,Yp=KA,Xp=YA,rR=ZA;const xi=tR,Y0=MW,LW=nR,sR=p.forwardRef(({className:t,...e},n)=>o.jsx(Kp,{ref:n,className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));sR.displayName=Kp.displayName;const $s=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(LW,{children:[o.jsx(sR,{}),o.jsxs(Qp,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(rR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(cp,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$s.displayName=Qp.displayName;const Bs=({className:t,...e})=>o.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Bs.displayName="DialogHeader";const zs=p.forwardRef(({className:t,...e},n)=>o.jsx(Yp,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",t),...e}));zs.displayName=Yp.displayName;const ux=p.forwardRef(({className:t,...e},n)=>o.jsx(Xp,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));ux.displayName=Xp.displayName;const yt=p.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));yt.displayName="Input";var VW=Object.defineProperty,FW=Object.defineProperties,UW=Object.getOwnPropertyDescriptors,Im=Object.getOwnPropertySymbols,iR=Object.prototype.hasOwnProperty,aR=Object.prototype.propertyIsEnumerable,zT=(t,e,n)=>e in t?VW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$W=(t,e)=>{for(var n in e||(e={}))iR.call(e,n)&&zT(t,n,e[n]);if(Im)for(var n of Im(e))aR.call(e,n)&&zT(t,n,e[n]);return t},BW=(t,e)=>FW(t,UW(e)),zW=(t,e)=>{var n={};for(var r in t)iR.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Im)for(var r of Im(t))e.indexOf(r)<0&&aR.call(t,r)&&(n[r]=t[r]);return n};function WW(t){let e=setTimeout(t,0),n=setTimeout(t,10),r=setTimeout(t,50);return[e,n,r]}function HW(t){let e=p.useRef();return p.useEffect(()=>{e.current=t}),e.current}var qW=18,oR=40,GW=`${oR}px`,KW=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function QW({containerRef:t,inputRef:e,pushPasswordManagerStrategy:n,isFocused:r}){let[s,i]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(!1),h=p.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&s&&a,[s,a,n]),f=p.useCallback(()=>{let m=t.current,g=e.current;if(!m||!g||c||n==="none")return;let E=m,x=E.getBoundingClientRect().left+E.offsetWidth,b=E.getBoundingClientRect().top+E.offsetHeight/2,w=x-qW,y=b;document.querySelectorAll(KW).length===0&&document.elementFromPoint(w,y)===m||(i(!0),u(!0))},[t,e,c,n]);return p.useEffect(()=>{let m=t.current;if(!m||n==="none")return;function g(){let x=window.innerWidth-m.getBoundingClientRect().right;l(x>=oR)}g();let E=setInterval(g,1e3);return()=>{clearInterval(E)}},[t,n]),p.useEffect(()=>{let m=r||document.activeElement===e.current;if(n==="none"||!m)return;let g=setTimeout(f,0),E=setTimeout(f,2e3),x=setTimeout(f,5e3),b=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(E),clearTimeout(x),clearTimeout(b)}},[e,r,n,f]),{hasPWMBadge:s,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:GW}}var lR=p.createContext({}),cR=p.forwardRef((t,e)=>{var n=t,{value:r,onChange:s,maxLength:i,textAlign:a="left",pattern:l,placeholder:c,inputMode:u="numeric",onComplete:h,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:m,containerClassName:g,noScriptCSSFallback:E=YW,render:x,children:b}=n,w=zW(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),y,v,S,P,O;let[T,C]=p.useState(typeof w.defaultValue=="string"?w.defaultValue:""),j=r??T,A=HW(j),D=p.useCallback(ge=>{s==null||s(ge),C(ge)},[s]),I=p.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),k=p.useRef(null),V=p.useRef(null),G=p.useRef({value:j,onChange:D,isIOS:typeof window<"u"&&((v=(y=window==null?void 0:window.CSS)==null?void 0:y.supports)==null?void 0:v.call(y,"-webkit-touch-callout","none"))}),H=p.useRef({prev:[(S=k.current)==null?void 0:S.selectionStart,(P=k.current)==null?void 0:P.selectionEnd,(O=k.current)==null?void 0:O.selectionDirection]});p.useImperativeHandle(e,()=>k.current,[]),p.useEffect(()=>{let ge=k.current,we=V.current;if(!ge||!we)return;G.current.value!==ge.value&&G.current.onChange(ge.value),H.current.prev=[ge.selectionStart,ge.selectionEnd,ge.selectionDirection];function et(){if(document.activeElement!==ge){le(null),xe(null);return}let Be=ge.selectionStart,L=ge.selectionEnd,z=ge.selectionDirection,M=ge.maxLength,Q=ge.value,Z=H.current.prev,re=-1,F=-1,Y;if(Q.length!==0&&Be!==null&&L!==null){let Lt=Be===L,_n=Be===Q.length&&Q.length<M;if(Lt&&!_n){let It=Be;if(It===0)re=0,F=1,Y="forward";else if(It===M)re=It-1,F=It,Y="backward";else if(M>1&&Q.length>1){let qt=0;if(Z[0]!==null&&Z[1]!==null){Y=It<Z[1]?"backward":"forward";let Ct=Z[0]===Z[1]&&Z[0]<M;Y==="backward"&&!Ct&&(qt=-1)}re=qt+It,F=qt+It+1}}re!==-1&&F!==-1&&re!==F&&k.current.setSelectionRange(re,F,Y)}let ce=re!==-1?re:Be,ze=F!==-1?F:L,tt=Y??z;le(ce),xe(ze),H.current.prev=[ce,ze,tt]}if(document.addEventListener("selectionchange",et,{capture:!0}),et(),document.activeElement===ge&&$(!0),!document.getElementById("input-otp-style")){let Be=document.createElement("style");if(Be.id="input-otp-style",document.head.appendChild(Be),Be.sheet){let L="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";uu(Be.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),uu(Be.sheet,`[data-input-otp]:autofill { ${L} }`),uu(Be.sheet,`[data-input-otp]:-webkit-autofill { ${L} }`),uu(Be.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),uu(Be.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let ut=()=>{we&&we.style.setProperty("--root-height",`${ge.clientHeight}px`)};ut();let At=new ResizeObserver(ut);return At.observe(ge),()=>{document.removeEventListener("selectionchange",et,{capture:!0}),At.disconnect()}},[]);let[q,U]=p.useState(!1),[B,$]=p.useState(!1),[X,le]=p.useState(null),[de,xe]=p.useState(null);p.useEffect(()=>{WW(()=>{var ge,we,et,ut;(ge=k.current)==null||ge.dispatchEvent(new Event("input"));let At=(we=k.current)==null?void 0:we.selectionStart,Be=(et=k.current)==null?void 0:et.selectionEnd,L=(ut=k.current)==null?void 0:ut.selectionDirection;At!==null&&Be!==null&&(le(At),xe(Be),H.current.prev=[At,Be,L])})},[j,B]),p.useEffect(()=>{A!==void 0&&j!==A&&A.length<i&&j.length===i&&(h==null||h(j))},[i,h,A,j]);let Ce=QW({containerRef:V,inputRef:k,pushPasswordManagerStrategy:f,isFocused:B}),st=p.useCallback(ge=>{let we=ge.currentTarget.value.slice(0,i);if(we.length>0&&I&&!I.test(we)){ge.preventDefault();return}typeof A=="string"&&we.length<A.length&&document.dispatchEvent(new Event("selectionchange")),D(we)},[i,D,A,I]),ie=p.useCallback(()=>{var ge;if(k.current){let we=Math.min(k.current.value.length,i-1),et=k.current.value.length;(ge=k.current)==null||ge.setSelectionRange(we,et),le(we),xe(et)}$(!0)},[i]),He=p.useCallback(ge=>{var we,et;let ut=k.current;if(!m&&(!G.current.isIOS||!ge.clipboardData||!ut))return;let At=ge.clipboardData.getData("text/plain"),Be=m?m(At):At;ge.preventDefault();let L=(we=k.current)==null?void 0:we.selectionStart,z=(et=k.current)==null?void 0:et.selectionEnd,M=(L!==z?j.slice(0,L)+Be+j.slice(z):j.slice(0,L)+Be+j.slice(L)).slice(0,i);if(M.length>0&&I&&!I.test(M))return;ut.value=M,D(M);let Q=Math.min(M.length,i-1),Z=M.length;ut.setSelectionRange(Q,Z),le(Q),xe(Z)},[i,D,I,j]),it=p.useMemo(()=>({position:"relative",cursor:w.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[w.disabled]),Re=p.useMemo(()=>({position:"absolute",inset:0,width:Ce.willPushPWMBadge?`calc(100% + ${Ce.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:Ce.willPushPWMBadge?`inset(0 ${Ce.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:a,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[Ce.PWM_BADGE_SPACE_WIDTH,Ce.willPushPWMBadge,a]),Pe=p.useMemo(()=>p.createElement("input",BW($W({autoComplete:w.autoComplete||"one-time-code"},w),{"data-input-otp":!0,"data-input-otp-placeholder-shown":j.length===0||void 0,"data-input-otp-mss":X,"data-input-otp-mse":de,inputMode:u,pattern:I==null?void 0:I.source,"aria-placeholder":c,style:Re,maxLength:i,value:j,ref:k,onPaste:ge=>{var we;He(ge),(we=w.onPaste)==null||we.call(w,ge)},onChange:st,onMouseOver:ge=>{var we;U(!0),(we=w.onMouseOver)==null||we.call(w,ge)},onMouseLeave:ge=>{var we;U(!1),(we=w.onMouseLeave)==null||we.call(w,ge)},onFocus:ge=>{var we;ie(),(we=w.onFocus)==null||we.call(w,ge)},onBlur:ge=>{var we;$(!1),(we=w.onBlur)==null||we.call(w,ge)}})),[st,ie,He,u,Re,i,de,X,w,I==null?void 0:I.source,j]),Ae=p.useMemo(()=>({slots:Array.from({length:i}).map((ge,we)=>{var et;let ut=B&&X!==null&&de!==null&&(X===de&&we===X||we>=X&&we<de),At=j[we]!==void 0?j[we]:null,Be=j[0]!==void 0?null:(et=c==null?void 0:c[we])!=null?et:null;return{char:At,placeholderChar:Be,isActive:ut,hasFakeCaret:ut&&At===null}}),isFocused:B,isHovering:!w.disabled&&q}),[B,q,i,de,X,w.disabled,j]),Nt=p.useMemo(()=>x?x(Ae):p.createElement(lR.Provider,{value:Ae},b),[b,Ae,x]);return p.createElement(p.Fragment,null,E!==null&&p.createElement("noscript",null,p.createElement("style",null,E)),p.createElement("div",{ref:V,"data-input-otp-container":!0,style:it,className:g},Nt,p.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Pe)))});cR.displayName="Input";function uu(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var YW=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const uR=p.forwardRef(({className:t,containerClassName:e,...n},r)=>o.jsx(cR,{ref:r,containerClassName:ae("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:ae("disabled:cursor-not-allowed",t),...n}));uR.displayName="InputOTP";const dR=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ae("flex items-center",t),...e}));dR.displayName="InputOTPGroup";const po=p.forwardRef(({index:t,className:e,...n},r)=>{const s=p.useContext(lR),{char:i,hasFakeCaret:a,isActive:l}=s.slots[t];return o.jsxs("div",{ref:r,className:ae("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",e),...n,children:[i,a&&o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});po.displayName="InputOTPSlot";const XW=p.forwardRef(({...t},e)=>o.jsx("div",{ref:e,role:"separator",...t,children:o.jsx(_L,{})}));XW.displayName="InputOTPSeparator";var ZW="Label",hR=p.forwardRef((t,e)=>o.jsx(Me.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));hR.displayName=ZW;var fR=hR;const JW=Zo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ve=p.forwardRef(({className:t,...e},n)=>o.jsx(fR,{ref:n,className:ae(JW(),t),...e}));Ve.displayName=fR.displayName;const eH=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(!1),[h,f]=p.useState(""),[m,g]=p.useState(""),[E,x]=p.useState(!1),[b,w]=p.useState(!1),{signIn:y,signInWithGoogle:v,user:S}=Xn(),{setIsLoading:P}=Js(),{toast:O}=Yn(),T=Dc();p.useEffect(()=>{S&&T("/")},[S,T]);const C=async I=>{I.preventDefault(),i(!0),P(!0);try{const{error:k}=await y(t,n);k&&O({title:"Login failed",description:k.message,variant:"destructive"})}catch(k){O({title:"Error",description:k.message,variant:"destructive"})}finally{i(!1),P(!1)}},j=async()=>{i(!0),P(!0);try{const{error:I,isNewUser:k}=await v();I?O({title:"Google sign-in failed",description:I.message,variant:"destructive"}):k&&T("/register",{state:{isNewUser:!0}})}catch(I){O({title:"Error",description:I.message,variant:"destructive"})}finally{i(!1)}},A=async()=>{if(!h){O({title:"Email required",description:"Please enter your email address",variant:"destructive"});return}x(!0);try{await K9(Ts,h),O({title:"Password reset email sent",description:"Check your email for password reset instructions"}),l(!1)}catch(I){O({title:"Error",description:I.message,variant:"destructive"})}finally{x(!1)}},D=async()=>{if(m.length!==6){O({title:"Invalid OTP",description:"Please enter a valid 6-digit OTP",variant:"destructive"});return}w(!0);try{O({title:"OTP verified",description:"Password reset functionality implemented"}),u(!1),g("")}catch(I){O({title:"Error",description:I.message,variant:"destructive"})}finally{w(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Rt,{to:"/",className:"inline-flex items-center space-x-2 mb-4",children:[o.jsx(Mt,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold text-foreground",children:"SportsBracket"})]})}),o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:"Welcome Back"}),o.jsx(vr,{children:"Login to manage your tournament participation"})]}),o.jsx(Te,{children:o.jsxs("form",{className:"space-y-4",onSubmit:C,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"email",children:"Email"}),o.jsx(yt,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:I=>e(I.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"password",children:"Password"}),o.jsx(yt,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:I=>r(I.target.value),required:!0})]}),o.jsx(be,{className:"w-full",type:"submit",disabled:s,children:s?"Logging in...":"Login"}),o.jsx(be,{className:"w-full",variant:"outline",onClick:j,disabled:s,children:"Continue with Google"}),o.jsxs("div",{className:"text-center text-sm space-y-2",children:[o.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-primary hover:underline",children:"Forgot password?"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),o.jsx(Rt,{to:"/register",className:"text-primary hover:underline",children:"Register here"})]})]})]})})]}),o.jsx(xi,{open:a,onOpenChange:l,children:o.jsxs($s,{children:[o.jsxs(Bs,{children:[o.jsx(zs,{children:"Reset Password"}),o.jsx(ux,{children:"Enter your email address and we'll send you a password reset link."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"forgot-email",children:"Email"}),o.jsx(yt,{id:"forgot-email",type:"email",placeholder:"Enter your email",value:h,onChange:I=>f(I.target.value)})]}),o.jsx(be,{className:"w-full",onClick:A,disabled:E,children:E?"Sending...":"Send Reset Email"})]})]})}),o.jsx(xi,{open:c,onOpenChange:u,children:o.jsxs($s,{children:[o.jsxs(Bs,{children:[o.jsx(zs,{children:"Enter OTP"}),o.jsx(ux,{children:"Enter the 6-digit code sent to your email."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(uR,{value:m,onChange:g,maxLength:6,children:o.jsxs(dR,{children:[o.jsx(po,{index:0}),o.jsx(po,{index:1}),o.jsx(po,{index:2}),o.jsx(po,{index:3}),o.jsx(po,{index:4}),o.jsx(po,{index:5})]})})}),o.jsx(be,{className:"w-full",onClick:D,disabled:b,children:b?"Verifying...":"Verify OTP"})]})]})})]})})};function WT(t,[e,n]){return Math.min(n,Math.max(e,t))}var tH=p.createContext(void 0);function X0(t){const e=p.useContext(tH);return t||e||"ltr"}function Z0(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var nH=[" ","Enter","ArrowUp","ArrowDown"],rH=[" ","Enter"],Ho="Select",[Zp,Jp,sH]=ww(Ho),[Bc,qQ]=Qs(Ho,[sH,fp]),eg=fp(),[iH,so]=Bc(Ho),[aH,oH]=Bc(Ho),mR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:g,form:E}=t,x=eg(e),[b,w]=p.useState(null),[y,v]=p.useState(null),[S,P]=p.useState(!1),O=X0(u),[T,C]=Ti({prop:r,defaultProp:s??!1,onChange:i,caller:Ho}),[j,A]=Ti({prop:a,defaultProp:l,onChange:c,caller:Ho}),D=p.useRef(null),I=b?E||!!b.closest("form"):!0,[k,V]=p.useState(new Set),G=Array.from(k).map(H=>H.props.value).join(";");return o.jsx(fk,{...x,children:o.jsxs(iH,{required:g,scope:e,trigger:b,onTriggerChange:w,valueNode:y,onValueNodeChange:v,valueNodeHasChildren:S,onValueNodeHasChildrenChange:P,contentId:gi(),value:j,onValueChange:A,open:T,onOpenChange:C,dir:O,triggerPointerDownPosRef:D,disabled:m,children:[o.jsx(Zp.Provider,{scope:e,children:o.jsx(aH,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(H=>{V(q=>new Set(q).add(H))},[]),onNativeOptionRemove:p.useCallback(H=>{V(q=>{const U=new Set(q);return U.delete(H),U})},[]),children:n})}),I?o.jsxs(VR,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:f,value:j,onChange:H=>A(H.target.value),disabled:m,form:E,children:[j===void 0?o.jsx("option",{value:""}):null,Array.from(k)]},G):null]})})};mR.displayName=Ho;var pR="SelectTrigger",gR=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=eg(n),a=so(pR,n),l=a.disabled||r,c=_t(e,a.onTriggerChange),u=Jp(n),h=p.useRef("touch"),[f,m,g]=UR(x=>{const b=u().filter(v=>!v.disabled),w=b.find(v=>v.value===a.value),y=$R(b,x,w);y!==void 0&&a.onValueChange(y.value)}),E=x=>{l||(a.onOpenChange(!0),g()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(mk,{asChild:!0,...i,children:o.jsx(Me.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":FR(a.value)?"":void 0,...s,ref:c,onClick:Ne(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&E(x)}),onPointerDown:Ne(s.onPointerDown,x=>{h.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(E(x),x.preventDefault())}),onKeyDown:Ne(s.onKeyDown,x=>{const b=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(b&&x.key===" ")&&nH.includes(x.key)&&(E(),x.preventDefault())})})})});gR.displayName=pR;var yR="SelectValue",vR=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=so(yR,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=_t(e,c.onValueNodeChange);return Dn(()=>{u(h)},[u,h]),o.jsx(Me.span,{...l,ref:f,style:{pointerEvents:"none"},children:FR(c.value)?o.jsx(o.Fragment,{children:a}):i})});vR.displayName=yR;var lH="SelectIcon",xR=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(Me.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});xR.displayName=lH;var cH="SelectPortal",wR=t=>o.jsx(ip,{asChild:!0,...t});wR.displayName=cH;var qo="SelectContent",_R=p.forwardRef((t,e)=>{const n=so(qo,t.__scopeSelect),[r,s]=p.useState();if(Dn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Xo.createPortal(o.jsx(bR,{scope:t.__scopeSelect,children:o.jsx(Zp.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(ER,{...t,ref:e})});_R.displayName=qo;var ns=10,[bR,io]=Bc(qo),uH="SelectContentImpl",dH=lc("SelectContent.RemoveScroll"),ER=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:E,hideWhenDetached:x,avoidCollisions:b,...w}=t,y=so(qo,n),[v,S]=p.useState(null),[P,O]=p.useState(null),T=_t(e,ie=>S(ie)),[C,j]=p.useState(null),[A,D]=p.useState(null),I=Jp(n),[k,V]=p.useState(!1),G=p.useRef(!1);p.useEffect(()=>{if(v)return VA(v)},[v]),jA();const H=p.useCallback(ie=>{const[He,...it]=I().map(Ae=>Ae.ref.current),[Re]=it.slice(-1),Pe=document.activeElement;for(const Ae of ie)if(Ae===Pe||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===He&&P&&(P.scrollTop=0),Ae===Re&&P&&(P.scrollTop=P.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Pe))return},[I,P]),q=p.useCallback(()=>H([C,v]),[H,C,v]);p.useEffect(()=>{k&&q()},[k,q]);const{onOpenChange:U,triggerPointerDownPosRef:B}=y;p.useEffect(()=>{if(v){let ie={x:0,y:0};const He=Re=>{var Pe,Ae;ie={x:Math.abs(Math.round(Re.pageX)-(((Pe=B.current)==null?void 0:Pe.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((Ae=B.current)==null?void 0:Ae.y)??0))}},it=Re=>{ie.x<=10&&ie.y<=10?Re.preventDefault():v.contains(Re.target)||U(!1),document.removeEventListener("pointermove",He),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",He),document.addEventListener("pointerup",it,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",He),document.removeEventListener("pointerup",it,{capture:!0})}}},[v,U,B]),p.useEffect(()=>{const ie=()=>U(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[U]);const[$,X]=UR(ie=>{const He=I().filter(Pe=>!Pe.disabled),it=He.find(Pe=>Pe.ref.current===document.activeElement),Re=$R(He,ie,it);Re&&setTimeout(()=>Re.ref.current.focus())}),le=p.useCallback((ie,He,it)=>{const Re=!G.current&&!it;(y.value!==void 0&&y.value===He||Re)&&(j(ie),Re&&(G.current=!0))},[y.value]),de=p.useCallback(()=>v==null?void 0:v.focus(),[v]),xe=p.useCallback((ie,He,it)=>{const Re=!G.current&&!it;(y.value!==void 0&&y.value===He||Re)&&D(ie)},[y.value]),Ce=r==="popper"?dx:TR,st=Ce===dx?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:E,hideWhenDetached:x,avoidCollisions:b}:{};return o.jsx(bR,{scope:n,content:v,viewport:P,onViewportChange:O,itemRefCallback:le,selectedItem:C,onItemLeave:de,itemTextRefCallback:xe,focusSelectedItem:q,selectedItemText:A,position:r,isPositioned:k,searchRef:$,children:o.jsx(q0,{as:dH,allowPinchZoom:!0,children:o.jsx(H0,{asChild:!0,trapped:y.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Ne(s,ie=>{var He;(He=y.trigger)==null||He.focus({preventScroll:!0}),ie.preventDefault()}),children:o.jsx(Ud,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:o.jsx(Ce,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ie=>ie.preventDefault(),...w,...st,onPlaced:()=>V(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Ne(w.onKeyDown,ie=>{const He=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!He&&ie.key.length===1&&X(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Re=I().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Pe=ie.target,Ae=Re.indexOf(Pe);Re=Re.slice(Ae+1)}setTimeout(()=>H(Re)),ie.preventDefault()}})})})})})})});ER.displayName=uH;var hH="SelectItemAlignedPosition",TR=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=so(qo,n),a=io(qo,n),[l,c]=p.useState(null),[u,h]=p.useState(null),f=_t(e,T=>h(T)),m=Jp(n),g=p.useRef(!1),E=p.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:w,focusSelectedItem:y}=a,v=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&x&&b&&w){const T=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),j=i.valueNode.getBoundingClientRect(),A=w.getBoundingClientRect();if(i.dir!=="rtl"){const Pe=A.left-C.left,Ae=j.left-Pe,Nt=T.left-Ae,ge=T.width+Nt,we=Math.max(ge,C.width),et=window.innerWidth-ns,ut=WT(Ae,[ns,Math.max(ns,et-we)]);l.style.minWidth=ge+"px",l.style.left=ut+"px"}else{const Pe=C.right-A.right,Ae=window.innerWidth-j.right-Pe,Nt=window.innerWidth-T.right-Ae,ge=T.width+Nt,we=Math.max(ge,C.width),et=window.innerWidth-ns,ut=WT(Ae,[ns,Math.max(ns,et-we)]);l.style.minWidth=ge+"px",l.style.right=ut+"px"}const D=m(),I=window.innerHeight-ns*2,k=x.scrollHeight,V=window.getComputedStyle(u),G=parseInt(V.borderTopWidth,10),H=parseInt(V.paddingTop,10),q=parseInt(V.borderBottomWidth,10),U=parseInt(V.paddingBottom,10),B=G+H+k+U+q,$=Math.min(b.offsetHeight*5,B),X=window.getComputedStyle(x),le=parseInt(X.paddingTop,10),de=parseInt(X.paddingBottom,10),xe=T.top+T.height/2-ns,Ce=I-xe,st=b.offsetHeight/2,ie=b.offsetTop+st,He=G+H+ie,it=B-He;if(He<=xe){const Pe=D.length>0&&b===D[D.length-1].ref.current;l.style.bottom="0px";const Ae=u.clientHeight-x.offsetTop-x.offsetHeight,Nt=Math.max(Ce,st+(Pe?de:0)+Ae+q),ge=He+Nt;l.style.height=ge+"px"}else{const Pe=D.length>0&&b===D[0].ref.current;l.style.top="0px";const Nt=Math.max(xe,G+x.offsetTop+(Pe?le:0)+st)+it;l.style.height=Nt+"px",x.scrollTop=He-xe+x.offsetTop}l.style.margin=`${ns}px 0`,l.style.minHeight=$+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,l,u,x,b,w,i.dir,r]);Dn(()=>v(),[v]);const[S,P]=p.useState();Dn(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const O=p.useCallback(T=>{T&&E.current===!0&&(v(),y==null||y(),E.current=!1)},[v,y]);return o.jsx(mH,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:o.jsx(Me.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});TR.displayName=hH;var fH="SelectPopperPosition",dx=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ns,...i}=t,a=eg(n);return o.jsx(pk,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dx.displayName=fH;var[mH,J0]=Bc(qo,{}),hx="SelectViewport",SR=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=io(hx,n),a=J0(hx,n),l=_t(e,i.onViewportChange),c=p.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Zp.Slot,{scope:n,children:o.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ne(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const g=Math.abs(c.current-h.scrollTop);if(g>0){const E=window.innerHeight-ns*2,x=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),w=Math.max(x,b);if(w<E){const y=w+g,v=Math.min(E,y),S=y-v;f.style.height=v+"px",f.style.bottom==="0px"&&(h.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});SR.displayName=hx;var NR="SelectGroup",[pH,gH]=Bc(NR),yH=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=gi();return o.jsx(pH,{scope:n,id:s,children:o.jsx(Me.div,{role:"group","aria-labelledby":s,...r,ref:e})})});yH.displayName=NR;var CR="SelectLabel",IR=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=gH(CR,n);return o.jsx(Me.div,{id:s.id,...r,ref:e})});IR.displayName=CR;var km="SelectItem",[vH,kR]=Bc(km),jR=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=so(km,n),c=io(km,n),u=l.value===r,[h,f]=p.useState(i??""),[m,g]=p.useState(!1),E=_t(e,y=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,y,r,s)}),x=gi(),b=p.useRef("touch"),w=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(vH,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:p.useCallback(y=>{f(v=>v||((y==null?void 0:y.textContent)??"").trim())},[]),children:o.jsx(Zp.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(Me.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:E,onFocus:Ne(a.onFocus,()=>g(!0)),onBlur:Ne(a.onBlur,()=>g(!1)),onClick:Ne(a.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:Ne(a.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:Ne(a.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:Ne(a.onPointerMove,y=>{var v;b.current=y.pointerType,s?(v=c.onItemLeave)==null||v.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(a.onPointerLeave,y=>{var v;y.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:Ne(a.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(rH.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});jR.displayName=km;var Su="SelectItemText",PR=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=so(Su,n),l=io(Su,n),c=kR(Su,n),u=oH(Su,n),[h,f]=p.useState(null),m=_t(e,w=>f(w),c.onItemTextChange,w=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,w,c.value,c.disabled)}),g=h==null?void 0:h.textContent,E=p.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return Dn(()=>(x(E),()=>b(E)),[x,b,E]),o.jsxs(o.Fragment,{children:[o.jsx(Me.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Xo.createPortal(i.children,a.valueNode):null]})});PR.displayName=Su;var AR="SelectItemIndicator",RR=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return kR(AR,n).isSelected?o.jsx(Me.span,{"aria-hidden":!0,...r,ref:e}):null});RR.displayName=AR;var fx="SelectScrollUpButton",DR=p.forwardRef((t,e)=>{const n=io(fx,t.__scopeSelect),r=J0(fx,t.__scopeSelect),[s,i]=p.useState(!1),a=_t(e,r.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(MR,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});DR.displayName=fx;var mx="SelectScrollDownButton",OR=p.forwardRef((t,e)=>{const n=io(mx,t.__scopeSelect),r=J0(mx,t.__scopeSelect),[s,i]=p.useState(!1),a=_t(e,r.onScrollButtonChange);return Dn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(MR,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});OR.displayName=mx;var MR=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=io("SelectScrollButton",n),a=p.useRef(null),l=Jp(n),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Dn(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(Me.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ne(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ne(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ne(s.onPointerLeave,()=>{c()})})}),xH="SelectSeparator",LR=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Me.div,{"aria-hidden":!0,...r,ref:e})});LR.displayName=xH;var px="SelectArrow",wH=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=eg(n),i=so(px,n),a=io(px,n);return i.open&&a.position==="popper"?o.jsx(gk,{...s,...r,ref:e}):null});wH.displayName=px;var _H="SelectBubbleInput",VR=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=p.useRef(null),i=_t(r,s),a=Z0(e);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[a,e]),o.jsx(Me.select,{...n,style:{...iI,...n.style},ref:i,defaultValue:e})});VR.displayName=_H;function FR(t){return t===""||t===void 0}function UR(t){const e=Kr(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function $R(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=bH(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function bH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var EH=mR,BR=gR,TH=vR,SH=xR,NH=wR,zR=_R,CH=SR,WR=IR,HR=jR,IH=PR,kH=RR,qR=DR,GR=OR,KR=LR;const vt=EH,xt=TH,mt=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(BR,{ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(SH,{asChild:!0,children:o.jsx(kI,{className:"h-4 w-4 opacity-50"})})]}));mt.displayName=BR.displayName;const QR=p.forwardRef(({className:t,...e},n)=>o.jsx(qR,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(vL,{className:"h-4 w-4"})}));QR.displayName=qR.displayName;const YR=p.forwardRef(({className:t,...e},n)=>o.jsx(GR,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(kI,{className:"h-4 w-4"})}));YR.displayName=GR.displayName;const pt=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(NH,{children:o.jsxs(zR,{ref:s,className:ae("relative z-[100] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(QR,{}),o.jsx(CH,{className:ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(YR,{})]})}));pt.displayName=zR.displayName;const jH=p.forwardRef(({className:t,...e},n)=>o.jsx(WR,{ref:n,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));jH.displayName=WR.displayName;const ke=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(HR,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(kH,{children:o.jsx(II,{className:"h-4 w-4"})})}),o.jsx(IH,{children:e})]}));ke.displayName=HR.displayName;const PH=p.forwardRef(({className:t,...e},n)=>o.jsx(KR,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",t),...e}));PH.displayName=KR.displayName;const AH=()=>{var v;const t=Xs(),[e,n]=p.useState({name:"",email:"",phone:"",department:"",gender:"",password:""}),[r,s]=p.useState(!1),[i,a]=p.useState((v=t.state)!=null&&v.isNewUser?2:1),[l,c]=p.useState(null),{signUp:u,signInWithGoogle:h,signUpWithGoogle:f,user:m}=Xn(),{setIsLoading:g}=Js(),{toast:E}=Yn(),x=Dc();p.useEffect(()=>{var S;(S=t.state)!=null&&S.isNewUser&&m&&(c(m),E({title:"Profile Update Required",description:"Please update your profile details to complete registration."}),window.history.replaceState({},document.title))},[t.state,m]),p.useEffect(()=>{m&&i===1&&x("/")},[m,x,i]);const b=async S=>{S.preventDefault(),s(!0),g(!0);try{const{error:P}=await u(e.email,e.password,{name:e.name,department:e.department,gender:e.gender,phone:e.phone});P?E({title:"Registration failed",description:P.message,variant:"destructive"}):(E({title:"Registration successful!",description:"A verification email has been sent to your email address. Please verify it before logging in."}),x("/login"))}catch(P){E({title:"Error",description:P.message,variant:"destructive"})}finally{s(!1),g(!1)}},w=async()=>{s(!0),g(!0);try{const{error:S,user:P,isNewUser:O}=await h();S?E({title:"Google sign-in failed",description:S.message,variant:"destructive"}):P&&O?(c(P),E({title:"Profile Update Required",description:"Please update your profile details to complete registration."}),a(2)):P&&!O&&x("/")}catch(S){E({title:"Error",description:S.message,variant:"destructive"})}finally{s(!1),g(!1)}},y=async S=>{S.preventDefault(),s(!0),g(!0);try{const{error:P}=await f({department:e.department,gender:e.gender});P?E({title:"Registration failed",description:P.message,variant:"destructive"}):(E({title:"Registration successful!",description:"Welcome to SportsBracket!"}),x("/"))}catch(P){E({title:"Error",description:P.message,variant:"destructive"})}finally{s(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4 py-12",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsxs(Rt,{to:"/",className:"inline-flex items-center space-x-2 mb-4",children:[o.jsx(Mt,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold text-foreground",children:"SportsBracket"})]})}),o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:i===1?"Create Account":"Complete Profile"}),o.jsx(vr,{children:i===1?"Register manually or with Google to participate":"Please provide additional details to complete your registration"})]}),o.jsx(Te,{children:i===1?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"name",children:"Full Name"}),o.jsx(yt,{id:"name",placeholder:"John Doe",value:e.name,onChange:S=>n({...e,name:S.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"email",children:"Email"}),o.jsx(yt,{id:"email",type:"email",placeholder:"john@example.com",value:e.email,onChange:S=>n({...e,email:S.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"department",children:"Department / Class"}),o.jsx(yt,{id:"department",placeholder:"Ex: CSE-A",value:e.department,onChange:S=>n({...e,department:S.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"gender",children:"Gender"}),o.jsxs(vt,{value:e.gender,onValueChange:S=>n({...e,gender:S}),children:[o.jsx(mt,{id:"gender",children:o.jsx(xt,{placeholder:"Select gender"})}),o.jsxs(pt,{children:[o.jsx(ke,{value:"male",children:"Male"}),o.jsx(ke,{value:"female",children:"Female"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"password",children:"Password"}),o.jsx(yt,{id:"password",type:"password",placeholder:"******",value:e.password,onChange:S=>n({...e,password:S.target.value}),required:!0})]}),o.jsx(be,{className:"w-full",type:"submit",disabled:r,children:r?"Registering...":"Register"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),o.jsxs(be,{className:"w-full",onClick:w,disabled:r,variant:"outline",type:"button",children:[o.jsx("svg",{className:"mr-2 h-4 w-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:o.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Google"]}),o.jsxs("div",{className:"text-center text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),o.jsx(Rt,{to:"/login",className:"text-primary hover:underline",children:"Login here"})]})]}):o.jsxs("form",{className:"space-y-4",onSubmit:y,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{children:"Full Name"}),o.jsx(yt,{value:(l==null?void 0:l.displayName)||"",disabled:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{children:"Email"}),o.jsx(yt,{value:(l==null?void 0:l.email)||"",disabled:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"department-google",children:"Department / Class"}),o.jsx(yt,{id:"department-google",placeholder:"Enter your department or class",value:e.department,onChange:S=>n({...e,department:S.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"gender-google",children:"Gender"}),o.jsxs(vt,{value:e.gender,onValueChange:S=>n({...e,gender:S}),children:[o.jsx(mt,{id:"gender-google",children:o.jsx(xt,{placeholder:"Select gender"})}),o.jsxs(pt,{children:[o.jsx(ke,{value:"male",children:"Male"}),o.jsx(ke,{value:"female",children:"Female"}),o.jsx(ke,{value:"other",children:"Other"})]})]})]}),o.jsx(be,{className:"w-full",type:"submit",disabled:r,children:r?"Completing registration...":"Complete Registration"}),o.jsx("div",{className:"text-center",children:o.jsx(be,{variant:"ghost",onClick:()=>a(1),className:"text-sm",type:"button",children:"Back"})})]})})]})]})})},RH=yr(qe,"tournaments"),xr=async()=>{const t=Kn(RH,no("created_at","desc"));return(await Qn(t)).docs.map(n=>({id:n.id,...n.data()}))},XR=yr(qe,"leaderboard"),gx=async(t,e)=>{const n=[nn("tournament_id","==",t)];e&&e!=="ALL"?n.push(nn("game_id","==",e)):n.push(nn("game_id","==",null));const r=Kn(XR,...n,no("points","desc"));return(await Qn(r)).docs.map(i=>({id:i.id,...i.data()}))},ZR=async t=>{const{tournamentId:e,gameId:n,winnerId:r,loserId:s,winnerName:i,loserName:a,winnerType:l,loserType:c,pointsForWin:u}=t,h=async(f,m,g,E,x)=>{const b=f?`${e}_${f}_${g}`:`${e}_${g}`;await ea(Tt(qe,"leaderboard",b),{tournament_id:e,game_id:f,entity_id:g,name:E,entity_type:x,points:py(m?u:0),wins:py(m?1:0),losses:py(m?0:1),updated_at:Ye()},{merge:!0})};await h(n,!0,r,i,l),s&&a&&c&&await h(n,!1,s,a,c),await h(null,!0,r,i,l),s&&a&&c&&await h(null,!1,s,a,c)},DH=async t=>{const e=Kn(XR,nn("tournament_id","==",t)),n=await Qn(e);if(n.empty)return;const r=SA(qe);n.docs.forEach(s=>{r.delete(s.ref)}),await r.commit()},jm=yr(qe,"matches"),JR=yr(qe,"match_results"),Pa=async t=>{const e=[nn("tournament_id","==",t.tournamentId)];t.gameId&&e.push(nn("game_id","==",t.gameId));const n=Kn(jm,...e);return(await Qn(n)).docs.map(i=>({id:i.id,...i.data()})).sort((i,a)=>i.round_index!==a.round_index?i.round_index-a.round_index:i.match_order-a.match_order)},e_=async t=>{if(t.length===0)return[];const e=[];for(let s=0;s<t.length;s+=10)e.push(t.slice(s,s+10));const n=[];for(const s of e){const i=Kn(jm,nn("participant_a_id","in",s)),a=await Qn(i),l=Kn(jm,nn("participant_b_id","in",s)),c=await Qn(l),u=new Map;a.docs.forEach(h=>u.set(h.id,{id:h.id,...h.data()})),c.docs.forEach(h=>u.set(h.id,{id:h.id,...h.data()})),u.forEach(h=>n.push(h))}return Array.from(new Map(n.map(s=>[s.id,s])).values())},OH=async t=>(await ro(jm,{...t,created_at:Ye(),updated_at:Ye()})).id,If=async(t,e)=>{await Fi(Tt(qe,"matches",t),{...e,updated_at:Ye()})},MH=async(t,e)=>{const n=await ro(JR,{...e,match_id:t,created_at:Ye(),updated_at:Ye()});return await If(t,{status:"COMPLETED",winner_participant_id:e.winner_participant_id}),n.id},e2=async t=>{if(t.length===0)return[];const e=[];for(let r=0;r<t.length;r+=10)e.push(t.slice(r,r+10));const n=[];for(const r of e){const s=Kn(JR,nn("match_id","in",r));(await Qn(s)).docs.forEach(a=>n.push({id:a.id,...a.data()}))}return n},LH=yr(qe,"games"),An=async t=>{const e=[no("created_at","desc")];t&&e.unshift(nn("tournament_id","==",t));const n=Kn(LH,...e);return(await Qn(n)).docs.map(s=>({id:s.id,...s.data()}))},tg=yr(qe,"participants"),zc=async t=>{const e=[];t.tournamentId&&e.push(nn("tournament_id","==",t.tournamentId)),t.gameId&&e.push(nn("game_id","==",t.gameId)),e.push(no("created_at","asc"));const n=Kn(tg,...e);return(await Qn(n)).docs.map(s=>({id:s.id,...s.data()}))},t_=async t=>{const e=Kn(tg,nn("user_id","==",t));return(await Qn(e)).docs.map(r=>({id:r.id,...r.data()}))},n_=async t=>{if(t.length===0)return[];const e=[];for(let r=0;r<t.length;r+=10)e.push(t.slice(r,r+10));const n=[];for(const r of e){const s=Kn(tg,nn("team_id","in",r));(await Qn(s)).docs.forEach(a=>n.push({id:a.id,...a.data()}))}return n},t2=async t=>(await ro(tg,{...t,created_at:Ye(),updated_at:Ye()})).id,VH=yr(qe,"profiles"),n2=yr(qe,"user_roles"),Xr=async()=>{const t=Kn(VH,no("created_at","desc"));return(await Qn(t)).docs.map(n=>({id:n.id,...n.data()}))},FH=async t=>{try{const e=await zo(Tt(n2,t));return e.exists()?e.data().roles||[]:[]}catch(e){return console.error("Error fetching user role:",e),[]}},UH=async()=>{try{const t=await Xr();return await Promise.all(t.map(async n=>{const r=await FH(n.id);return{...n,roles:r}}))}catch(t){return console.error("Error fetching users with roles:",t),[]}},$H=async(t,e)=>{try{await ea(Tt(n2,t),{roles:e,updated_at:Ye()},{merge:!0})}catch(n){throw console.error("Error updating user role:",n),n}},r2=yr(qe,"teams"),Ui=async t=>{const e=[];t.tournamentId&&e.push(nn("tournament_id","==",t.tournamentId)),t.gameId&&e.push(nn("game_id","==",t.gameId)),t.userId&&e.push(nn("player_ids","array-contains",t.userId));const n=Kn(r2,...e);return(await Qn(n)).docs.map(i=>({id:i.id,...i.data()})).sort((i,a)=>{const l=new Date(i.created_at||0).getTime();return new Date(a.created_at||0).getTime()-l})},HT=async t=>(await ro(r2,{...t,created_at:Ye(),updated_at:Ye()})).id,BH=async(t,e)=>{await Fi(Tt(qe,"teams",t),{...e,updated_at:Ye()})},zH=async(t,e)=>{await Fi(Tt(qe,"teams",t),{player_ids:w7(e),updated_at:Ye()})},WH=async t=>{await z0(Tt(qe,"teams",t))};var Ey="rovingFocusGroup.onEntryFocus",HH={bubbles:!1,cancelable:!0},sh="RovingFocusGroup",[yx,s2,qH]=ww(sh),[GH,i2]=Qs(sh,[qH]),[KH,QH]=GH(sh),a2=p.forwardRef((t,e)=>o.jsx(yx.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(yx.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(YH,{...t,ref:e})})}));a2.displayName=sh;var YH=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=t,m=p.useRef(null),g=_t(e,m),E=X0(i),[x,b]=Ti({prop:a,defaultProp:l??null,onChange:c,caller:sh}),[w,y]=p.useState(!1),v=Kr(u),S=s2(n),P=p.useRef(!1),[O,T]=p.useState(0);return p.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(Ey,v),()=>C.removeEventListener(Ey,v)},[v]),o.jsx(KH,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:x,onItemFocus:p.useCallback(C=>b(C),[b]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>T(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>T(C=>C-1),[]),children:o.jsx(Me.div,{tabIndex:w||O===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:Ne(t.onMouseDown,()=>{P.current=!0}),onFocus:Ne(t.onFocus,C=>{const j=!P.current;if(C.target===C.currentTarget&&j&&!w){const A=new CustomEvent(Ey,HH);if(C.currentTarget.dispatchEvent(A),!A.defaultPrevented){const D=S().filter(H=>H.focusable),I=D.find(H=>H.active),k=D.find(H=>H.id===x),G=[I,k,...D].filter(Boolean).map(H=>H.ref.current);c2(G,h)}}P.current=!1}),onBlur:Ne(t.onBlur,()=>y(!1))})})}),o2="RovingFocusGroupItem",l2=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=t,c=gi(),u=i||c,h=QH(o2,n),f=h.currentTabStopId===u,m=s2(n),{onFocusableItemAdd:g,onFocusableItemRemove:E,currentTabStopId:x}=h;return p.useEffect(()=>{if(r)return g(),()=>E()},[r,g,E]),o.jsx(yx.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(Me.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Ne(t.onMouseDown,b=>{r?h.onItemFocus(u):b.preventDefault()}),onFocus:Ne(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:Ne(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=JH(b,h.orientation,h.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let v=m().filter(S=>S.focusable).map(S=>S.ref.current);if(w==="last")v.reverse();else if(w==="prev"||w==="next"){w==="prev"&&v.reverse();const S=v.indexOf(b.currentTarget);v=h.loop?eq(v,S+1):v.slice(S+1)}setTimeout(()=>c2(v))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:x!=null}):a})})});l2.displayName=o2;var XH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function JH(t,e,n){const r=ZH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return XH[r]}function c2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function eq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var tq=a2,nq=l2,ng="Tabs",[rq,GQ]=Qs(ng,[i2]),u2=i2(),[sq,r_]=rq(ng),d2=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=X0(l),[f,m]=Ti({prop:r,onChange:s,defaultProp:i??"",caller:ng});return o.jsx(sq,{scope:n,baseId:gi(),value:f,onValueChange:m,orientation:a,dir:h,activationMode:c,children:o.jsx(Me.div,{dir:h,"data-orientation":a,...u,ref:e})})});d2.displayName=ng;var h2="TabsList",f2=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=r_(h2,n),a=u2(n);return o.jsx(tq,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});f2.displayName=h2;var m2="TabsTrigger",p2=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=r_(m2,n),l=u2(n),c=v2(a.baseId,r),u=x2(a.baseId,r),h=r===a.value;return o.jsx(nq,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(Me.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:Ne(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:Ne(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:Ne(t.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(r)})})})});p2.displayName=m2;var g2="TabsContent",y2=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=r_(g2,n),c=v2(l.baseId,r),u=x2(l.baseId,r),h=r===l.value,f=p.useRef(h);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(Xa,{present:s||h,children:({present:m})=>o.jsx(Me.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});y2.displayName=g2;function v2(t,e){return`${t}-trigger-${e}`}function x2(t,e){return`${t}-content-${e}`}var iq=d2,w2=f2,_2=p2,b2=y2;const s_=iq,rg=p.forwardRef(({className:t,...e},n)=>o.jsx(w2,{ref:n,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));rg.displayName=w2.displayName;const Br=p.forwardRef(({className:t,...e},n)=>o.jsx(_2,{ref:n,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Br.displayName=_2.displayName;const zr=p.forwardRef(({className:t,...e},n)=>o.jsx(b2,{ref:n,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));zr.displayName=b2.displayName;const aq=({matches:t,resultsMap:e,participantsMap:n,usersMap:r,teamsMap:s,gameId:i})=>{const a=p.useMemo(()=>t.filter(u=>u.game_id===i),[t,i]),l=p.useMemo(()=>{const u=a.reduce((f,m)=>{const g=m.round_index;return f[g]||(f[g]=[]),f[g].push(m),f},{});return Object.keys(u).map(Number).sort((f,m)=>f-m).map(f=>{var m;return{index:f,name:((m=u[f][0])==null?void 0:m.round_name)||`Round ${f+1}`,matches:u[f].sort((g,E)=>g.match_order-E.match_order)}})},[a]),c=u=>{var f,m;if(!u)return"TBD";const h=n[u];return h?h.type==="USER"&&h.user_id?((f=r[h.user_id])==null?void 0:f.name)||"Unknown User":h.type==="TEAM"&&h.team_id?((m=s[h.team_id])==null?void 0:m.name)||`Team ${h.team_id.slice(-4)}`:"Unknown":"TBD"};return a.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground border-2 border-dashed rounded-xl bg-muted/20",children:[o.jsx(Mt,{className:"h-12 w-12 mb-4 opacity-20"}),o.jsx("p",{className:"text-lg font-medium",children:"No bracket generated for this game yet"}),o.jsx("p",{className:"text-sm",children:"Admin needs to generate the bracket in Matches Management."})]}):o.jsx("div",{className:"overflow-x-auto pb-12 pt-8",children:o.jsx("div",{className:"inline-flex min-w-full gap-16 px-8 md:px-12",children:l.map((u,h)=>o.jsxs("div",{className:"flex flex-col gap-8 min-w-[280px]",children:[o.jsx("div",{className:"mb-6 text-center",children:o.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-primary/70 px-4 py-1.5 bg-primary/5 rounded-full inline-block border border-primary/10 shadow-sm",children:u.name})}),o.jsx("div",{className:"flex flex-col flex-1 justify-around gap-4",children:u.matches.map(f=>{const m=f.status.toUpperCase()==="COMPLETED",g=m&&f.winner_participant_id===f.participant_a_id,E=m&&f.winner_participant_id===f.participant_b_id,x=e[f.id];return o.jsxs("div",{className:"relative py-4 group",children:[o.jsx($w,{children:o.jsxs(Sk,{children:[o.jsx(Nk,{asChild:!0,children:o.jsx(Ee,{className:ae("w-64 shadow-lg border-muted/50 overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1 hover:border-primary/40",m?"bg-muted/5":"bg-background","relative z-10"),children:o.jsxs(Te,{className:"p-0",children:[o.jsxs("div",{className:ae("flex items-center justify-between px-4 py-3 border-b transition-colors",g?"bg-green-500/10":"hover:bg-muted/50"),children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[o.jsx("span",{className:ae("text-sm font-black truncate",g?"text-green-600":"text-foreground/80",f.participant_a_id?"":"italic opacity-40 font-medium"),children:c(f.participant_a_id)}),g&&o.jsx(Mt,{className:"h-3.5 w-3.5 text-green-600 shrink-0 animate-bounce"})]}),m&&x&&o.jsx("span",{className:"text-xs font-black text-muted-foreground ml-2"})]}),o.jsx("div",{className:ae("flex items-center justify-between px-4 py-3 transition-colors",E?"bg-green-500/10":"hover:bg-muted/50"),children:o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[o.jsx("span",{className:ae("text-sm font-black truncate",E?"text-green-600":"text-foreground/80",f.participant_b_id?"":"italic opacity-40 font-medium"),children:c(f.participant_b_id)}),E&&o.jsx(Mt,{className:"h-3.5 w-3.5 text-green-600 shrink-0 animate-bounce"})]})})]})})}),m&&(x==null?void 0:x.score_details)&&o.jsxs(Bw,{side:"top",className:"bg-primary text-primary-foreground font-black text-[10px] uppercase p-2 px-3",children:["SCORE: ",x.score_details]})]})}),h<l.length-1&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute top-1/2 -right-16 w-16 h-[2px] bg-gradient-to-r from-primary/20 to-primary/5 transition-all group-hover:from-primary/40 group-hover:to-primary/10"}),o.jsx("div",{className:"absolute top-1/2 -right-16 translate-x-1/2 w-2 h-2 rounded-full bg-primary/20 border border-primary/10"})]})]},f.id)})})]},u.index))})})},oq=()=>{var q,U,B;const[t,e]=p.useState([]),[n,r]=p.useState(""),[s,i]=p.useState(""),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState([]),[E,x]=p.useState([]),[b,w]=p.useState([]),[y,v]=p.useState([]),[S,P]=p.useState(!1),{setIsLoading:O}=Js(),[T,C]=p.useState("standings");p.useEffect(()=>{Xr().then(v)},[]),p.useEffect(()=>{xr().then($=>{e($),$.length>0&&r($[0].id)})},[]),p.useEffect(()=>{if(!n){l([]),u([]),x([]),w([]),i("");return}(async()=>{try{O(!0);const[X,le,de,xe]=await Promise.all([Pa({tournamentId:n}),An(n),zc({tournamentId:n}),Ui({tournamentId:n})]);if(u(X),x(le),g(de),w(xe),X.length>0){const Ce=X.map(ie=>ie.id),st=await e2(Ce);f(st)}le.length>0&&!s&&i("ALL")}catch(X){console.error("Error loading tournament data:",X)}finally{O(!1)}})()},[n,O]),p.useEffect(()=>{if(!n)return;(async()=>{P(!0);try{const X=await gx(n,T==="standings"&&s&&s!=="ALL"?s:void 0);l(X)}catch(X){console.error("Error loading leaderboard data:",X)}finally{P(!1)}})()},[n,s,T]),p.useEffect(()=>{T==="bracket"&&s==="ALL"&&E.length>0&&i(E[0].id)},[T,s,E]);const j=p.useMemo(()=>m.reduce(($,X)=>($[X.id]=X,$),{}),[m]),A=p.useMemo(()=>y.reduce(($,X)=>($[X.id]=X,$),{}),[y]),D=p.useMemo(()=>b.reduce(($,X)=>($[X.id]=X,$),{}),[b]),I=p.useMemo(()=>E.reduce(($,X)=>($[X.id]=X,$),{}),[E]),k=p.useMemo(()=>h.reduce(($,X)=>($[X.match_id]=X,$),{}),[h]),V=$=>{var le,de;if(!$)return"TBD";const X=j[$];return X?X.type==="USER"&&X.user_id?((le=A[X.user_id])==null?void 0:le.name)||"Unknown":X.type==="TEAM"&&X.team_id?((de=D[X.team_id])==null?void 0:de.name)||`Team ${X.team_id.slice(-4)}`:"Unknown":"TBD"},G=a.slice(0,3),H=a.slice(3);return o.jsxs("div",{className:"min-h-screen bg-muted/30 pt-20 md:pt-24 pb-12",children:[o.jsx(W0,{}),o.jsxs("div",{className:"container space-y-8",children:[o.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-end md:justify-between border-b pb-8",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h1",{className:"text-4xl font-black tracking-tight flex items-center gap-3",children:[o.jsx(Mt,{className:"h-10 w-10 text-yellow-500"}),"TOURNAMENT HUB"]}),o.jsx("p",{className:"text-muted-foreground text-lg font-medium max-w-2xl",children:"Real-time standings and visual brackets for the current competition."})]}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsxs("div",{className:"w-full md:w-64",children:[o.jsx("p",{className:"text-[10px] uppercase text-muted-foreground font-black tracking-widest mb-1.5 opacity-70",children:"ACTIVE TOURNAMENT"}),o.jsxs(vt,{value:n,onValueChange:r,children:[o.jsx(mt,{className:"bg-background border-muted-foreground/20 h-11",children:o.jsx(xt,{placeholder:"Select tournament"})}),o.jsx(pt,{children:t.map($=>o.jsx(ke,{value:$.id,children:$.name},$.id))})]})]}),o.jsxs("div",{className:"w-full md:w-64",children:[o.jsx("p",{className:"text-[10px] uppercase text-muted-foreground font-black tracking-widest mb-1.5 opacity-70",children:T==="standings"?"FILTER STANDINGS":"SELECT GAME"}),o.jsxs(vt,{value:s,onValueChange:i,disabled:!n,children:[o.jsx(mt,{className:"bg-background border-muted-foreground/20 h-11",children:o.jsx(xt,{placeholder:"Select choice"})}),o.jsxs(pt,{children:[T==="standings"&&o.jsx(ke,{value:"ALL",children:"Total Standings"}),E.map($=>o.jsx(ke,{value:$.id,children:$.name},$.id))]})]})]})]})]}),o.jsxs(s_,{defaultValue:"standings",value:T,onValueChange:C,className:"space-y-8",children:[o.jsx("div",{className:"flex justify-center",children:o.jsxs(rg,{className:"grid w-full max-w-[400px] grid-cols-2 bg-muted/50 p-1 h-12",children:[o.jsxs(Br,{value:"standings",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground h-10 transition-all font-bold",children:[o.jsx(k1,{className:"h-4 w-4 mr-2"}),"Standings"]}),o.jsxs(Br,{value:"bracket",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground h-10 transition-all font-bold",children:[o.jsx(Yg,{className:"h-4 w-4 mr-2"}),"Visual Bracket"]})]})}),o.jsxs(zr,{value:"standings",className:"space-y-8 animate-in fade-in duration-500 min-h-[500px]",children:[o.jsxs("div",{className:"grid gap-6",children:[o.jsxs(Ee,{className:"border-none shadow-xl bg-gradient-to-b from-card to-card/50",children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between border-b bg-muted/10 p-6 px-8",children:[o.jsxs(Qe,{className:"text-xl font-bold flex items-center gap-2",children:[o.jsx(Mt,{className:"h-5 w-5 text-yellow-500"}),"Top Performers"]}),S&&o.jsx(xn,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),o.jsx(Te,{className:"p-8",children:G.length===0?o.jsx("div",{className:"py-20 text-center",children:o.jsx("p",{className:"text-muted-foreground font-medium",children:"No standings data available for this tournament yet."})}):o.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:G.map(($,X)=>o.jsxs("div",{className:ae("relative overflow-hidden group rounded-2xl border p-6 flex flex-col transition-all hover:shadow-2xl hover:-translate-y-1",X===0?"bg-gradient-to-br from-yellow-500/10 via-yellow-500/5 to-transparent border-yellow-500/20 ring-1 ring-yellow-500/10":X===1?"bg-gradient-to-br from-slate-300/10 via-slate-300/5 to-transparent border-slate-300/20":"bg-gradient-to-br from-orange-400/10 via-orange-400/5 to-transparent border-orange-400/20"),children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full -mr-16 -mt-16 blur-3xl"}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("span",{className:"text-[10px] font-black uppercase text-muted-foreground tracking-widest bg-muted/50 px-2 py-1 rounded",children:["RANK ",X+1]}),o.jsx(k1,{className:ae("h-8 w-8",X===0?"text-yellow-500 drop-shadow-[0_0_8px_rgba(234,179,8,0.5)]":X===1?"text-slate-400":"text-orange-400")})]}),o.jsx("h3",{className:"text-2xl font-black truncate group-hover:text-primary transition-colors",children:$.name}),o.jsx("p",{className:"text-xs text-muted-foreground font-bold mt-1 uppercase tracking-tighter opacity-70",children:$.entity_type}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-muted-foreground/10 flex items-center justify-between",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-[10px] font-black text-muted-foreground uppercase",children:"Points"}),o.jsx("span",{className:"text-xl font-black text-primary",children:$.points})]}),o.jsxs("div",{className:"flex flex-col text-right",children:[o.jsx("span",{className:"text-[10px] font-black text-muted-foreground uppercase",children:"W/L Record"}),o.jsxs("span",{className:"text-lg font-bold",children:[$.wins,o.jsx("span",{className:"text-muted-foreground mx-1",children:"-"}),$.losses]})]})]})]},$.id))})})]}),H.length>0&&o.jsxs(Ee,{className:"border-muted/20 shadow-lg overflow-hidden",children:[o.jsx(Ke,{className:"bg-muted/5 border-b",children:o.jsx(Qe,{className:"text-lg font-bold",children:"Full Leaderboard"})}),o.jsx(Te,{className:"p-0",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left bg-muted/10 border-b",children:[o.jsx("th",{className:"py-4 px-6 text-[10px] font-black text-muted-foreground uppercase tracking-wider pl-8 w-20",children:"RK"}),o.jsx("th",{className:"py-4 px-6 text-[10px] font-black text-muted-foreground uppercase tracking-wider",children:"Entity Name"}),o.jsx("th",{className:"py-4 px-6 text-[10px] font-black text-muted-foreground uppercase tracking-wider",children:"Type"}),o.jsx("th",{className:"py-4 px-6 text-[10px] font-black text-muted-foreground uppercase tracking-wider text-right",children:"Wins"}),o.jsx("th",{className:"py-4 px-6 text-[10px] font-black text-muted-foreground uppercase tracking-wider text-right",children:"Losses"}),o.jsx("th",{className:"py-4 px-6 text-[10px] font-black text-muted-foreground uppercase tracking-wider text-right pr-8",children:"Points"})]})}),o.jsx("tbody",{children:H.map(($,X)=>o.jsxs("tr",{className:"border-b last:border-0 hover:bg-primary/5 transition-colors group",children:[o.jsxs("td",{className:"py-4 px-6 pl-8 font-black text-muted-foreground/60 group-hover:text-primary transition-colors",children:["#",$.rank??X+4]}),o.jsx("td",{className:"py-4 px-6 font-black text-foreground",children:$.name}),o.jsx("td",{className:"py-4 px-6",children:o.jsx(gt,{variant:"outline",className:"text-[10px] font-bold uppercase py-0 px-2 border-muted-foreground/20",children:$.entity_type})}),o.jsx("td",{className:"py-4 px-6 text-right font-medium text-green-600",children:$.wins}),o.jsx("td",{className:"py-4 px-6 text-right font-medium text-red-500",children:$.losses}),o.jsx("td",{className:"py-4 px-6 text-right font-black text-primary pr-8",children:$.points})]},$.id))})]})})})]})]}),o.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[o.jsxs(Ee,{className:"border-primary/20 bg-primary/5 shadow-inner",children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between pb-4 border-b border-primary/10",children:[o.jsxs(Qe,{className:"text-lg font-black flex items-center gap-2",children:[o.jsx(AI,{className:"h-5 w-5 text-primary"}),"MATCH TICKER"]}),o.jsx(gt,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20 font-black px-2 py-0.5 animate-pulse",children:"LIVE NOW"})]}),o.jsx(Te,{className:"p-6 space-y-4",children:c.filter($=>$.status.toUpperCase()!=="COMPLETED"&&$.status.toUpperCase()!=="CANCELLED").length===0?o.jsx("div",{className:"py-12 text-center",children:o.jsx("p",{className:"text-sm text-muted-foreground font-medium italic",children:"No active matches at the moment."})}):c.filter($=>$.status.toUpperCase()!=="COMPLETED"&&$.status.toUpperCase()!=="CANCELLED").slice(0,5).map($=>{var X;return o.jsxs("div",{className:"p-5 bg-background rounded-2xl border border-primary/10 shadow-sm transition-all hover:shadow-lg group relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-5",children:o.jsx(Yg,{className:"h-12 w-12 text-primary"})}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:"text-[10px] font-black text-primary uppercase tracking-widest px-2.5 py-1 bg-primary/10 rounded-full border border-primary/5",children:((X=I[$.game_id])==null?void 0:X.name)||"SPORT"}),o.jsx("span",{className:"text-[9px] font-black text-muted-foreground uppercase opacity-50",children:$.round_name})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:"font-black text-base truncate leading-tight group-hover:text-primary transition-colors",children:V($.participant_a_id)})}),o.jsxs("div",{className:"flex flex-col items-center gap-1 shrink-0 px-2",children:[o.jsx("div",{className:"text-[10px] font-black text-muted-foreground/30 italic",children:"VS"}),o.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground font-black bg-muted/50 px-2 py-0.5 rounded-full",children:[o.jsx(Jo,{className:"h-3 w-3"}),$.match_time?new Date($.match_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"TBD"]})]}),o.jsx("div",{className:"flex-1 min-w-0 text-right",children:o.jsx("p",{className:"font-black text-base truncate leading-tight group-hover:text-primary transition-colors",children:V($.participant_b_id)})})]})]},$.id)})})]}),o.jsxs(Ee,{className:"shadow-lg border-muted/20",children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between pb-4 border-b",children:[o.jsxs(Qe,{className:"text-lg font-black flex items-center gap-2",children:[o.jsx(Mt,{className:"h-5 w-5 text-yellow-500"}),"RECENT RESULTS"]}),o.jsx(gt,{variant:"secondary",className:"font-black text-[10px]",children:"ALL OVER"})]}),o.jsx(Te,{className:"p-6 space-y-4",children:c.filter($=>$.status.toUpperCase()==="COMPLETED").length===0?o.jsx("div",{className:"py-12 text-center italic text-muted-foreground font-medium",children:"No match results recorded yet."}):c.filter($=>$.status.toUpperCase()==="COMPLETED").slice(0,5).map($=>{var X;return o.jsxs("div",{className:"p-5 bg-muted/20 rounded-2xl border border-transparent shadow-sm transition-all hover:bg-muted/40 hover:border-muted-foreground/10 group",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest px-2.5 py-1 bg-background rounded-full border border-border",children:((X=I[$.game_id])==null?void 0:X.name)||"SPORT"}),o.jsx("span",{className:"text-[9px] font-bold text-muted-foreground/50",children:$.round_name})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:ae("flex-1 p-3 rounded-xl transition-all flex flex-col items-center justify-center",$.winner_participant_id===$.participant_a_id?"bg-green-500/10 border border-green-500/20":"opacity-50 grayscale"),children:[o.jsx("p",{className:ae("text-xs font-black text-center mb-1",$.winner_participant_id===$.participant_a_id?"text-green-600":"text-muted-foreground"),children:V($.participant_a_id)}),$.winner_participant_id===$.participant_a_id&&o.jsx(gt,{className:"bg-green-600 hover:bg-green-600 text-[8px] font-black h-4 px-1 leading-none border-none",children:"WINNER"})]}),o.jsx("div",{className:"text-[10px] font-black text-muted-foreground/30 italic",children:"FT"}),o.jsxs("div",{className:ae("flex-1 p-3 rounded-xl transition-all flex flex-col items-center justify-center",$.winner_participant_id===$.participant_b_id?"bg-green-500/10 border border-green-500/20":"opacity-50 grayscale"),children:[o.jsx("p",{className:ae("text-xs font-black text-center mb-1",$.winner_participant_id===$.participant_b_id?"text-green-600":"text-muted-foreground"),children:V($.participant_b_id)}),$.winner_participant_id===$.participant_b_id&&o.jsx(gt,{className:"bg-green-600 hover:bg-green-600 text-[8px] font-black h-4 px-1 leading-none border-none",children:"WINNER"})]})]})]},$.id)})})]})]})]}),o.jsx(zr,{value:"bracket",className:"space-y-8 animate-in zoom-in-95 duration-500",children:o.jsxs(Ee,{className:"border-none shadow-2xl bg-card/80 backdrop-blur-sm overflow-hidden min-h-[500px]",children:[o.jsx(Ke,{className:"bg-primary/5 border-b p-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qe,{className:"text-2xl font-black",children:"TOURNAMENT BRACKET"}),o.jsx("p",{className:"text-muted-foreground text-sm font-medium",children:s?`Visual representation of ${(q=I[s])==null?void 0:q.name} single-elimination progress.`:"Select a game to view bracket."})]}),s&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(gt,{variant:"outline",className:"bg-background font-bold border-primary/20",children:[(U=I[s])==null?void 0:U.game_type," MATCHES"]}),o.jsxs(gt,{variant:"outline",className:"bg-background font-bold border-primary/20",children:[(B=I[s])==null?void 0:B.players_per_team," PLAYERS PER SIDE"]})]})]})}),o.jsx(Te,{className:"p-0 flex flex-col overflow-hidden",children:s?o.jsx(aq,{matches:c,resultsMap:k,participantsMap:j,usersMap:A,teamsMap:D,gameId:s}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-40 text-muted-foreground",children:[o.jsx(Yg,{className:"h-16 w-16 mb-4 opacity-10"}),o.jsx("p",{className:"text-xl font-bold",children:"Please select a game to view the tournament bracket."})]})})]})})]})]})]})},lq=t=>t?new Date(t).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"}):"TBD",cq=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState(!1),{setIsLoading:E}=Js();p.useEffect(()=>{xr().then(w=>{i(w),w.length>0&&e(w[0].id)})},[]),p.useEffect(()=>{if(!t){l([]),u([]);return}const w=async()=>{g(!0);const[y,v,S]=await Promise.all([An(t),Pa({tournamentId:t,gameId:n||void 0}),zc({tournamentId:t,gameId:n||void 0})]);l(y),u(v),f(S),g(!1),E(!1)};t&&(E(!0),w())},[t,n,E]);const x=p.useMemo(()=>h.reduce((w,y)=>(w[y.id]=y,w),{}),[h]),b=c.filter(w=>w.status!=="COMPLETED");return o.jsxs("div",{className:"min-h-screen bg-muted/30 pt-20 md:pt-24 pb-12",children:[o.jsx(W0,{}),o.jsxs("div",{className:"container space-y-8",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm uppercase text-muted-foreground tracking-wide",children:"Live Schedule"}),o.jsx("h1",{className:"text-3xl font-bold",children:"Matches & Fixtures"}),o.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl",children:"Stay on top of every match happening this week. Filter by tournament or sport to find exact fixtures, venues, and kickoff times."})]}),o.jsxs("div",{className:"w-full md:w-[28rem] flex flex-col gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Tournament"}),o.jsxs(vt,{value:t,onValueChange:e,children:[o.jsx(mt,{children:o.jsx(xt,{placeholder:"Select tournament"})}),o.jsx(pt,{children:s.map(w=>w.id&&o.jsx(ke,{value:w.id,children:w.name},w.id))})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Game"}),o.jsxs(vt,{value:n,onValueChange:r,disabled:!t,children:[o.jsx(mt,{children:o.jsx(xt,{placeholder:"All games"})}),o.jsxs(pt,{children:[o.jsx(ke,{value:"",children:"All games"}),a.map(w=>w.id&&o.jsx(ke,{value:w.id,children:w.name},w.id))]})]})]})]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex items-center justify-between",children:[o.jsx(Qe,{children:"Upcoming & Live Matches"}),m&&o.jsx(xn,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),o.jsx(Te,{children:t?b.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:"No scheduled matches yet. Check back later once brackets are published."}):o.jsx("div",{className:"grid gap-4",children:b.map(w=>{var P;const y=w.participant_a_id?x[w.participant_a_id]:void 0,v=w.participant_b_id?x[w.participant_b_id]:void 0,S=((P=a.find(O=>O.id===w.game_id))==null?void 0:P.name)??"Tournament Game";return o.jsxs("div",{className:"rounded-xl border bg-background p-5",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:S}),o.jsx("h3",{className:"text-lg font-semibold",children:w.round_name})]}),o.jsx(gt,{variant:w.status==="SCHEDULED"?"secondary":"default",children:w.status==="SCHEDULED"?"Scheduled":w.status.toLowerCase()})]}),o.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Participant A"}),o.jsx("p",{className:"text-lg font-medium",children:(y==null?void 0:y.user_id)||(y==null?void 0:y.team_id)||"TBD"})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Participant B"}),o.jsx("p",{className:"text-lg font-medium",children:(v==null?void 0:v.user_id)||(v==null?void 0:v.team_id)||"TBD"})]})]}),o.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-muted-foreground",children:[o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(Jo,{className:"h-4 w-4"}),lq(w.match_time)]}),o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(lp,{className:"h-4 w-4"}),w.venue||"Venue TBD"]})]})]},w.id)})}):o.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a tournament to view fixtures."})})]})]})]})},Ty=768;function uq(){const[t,e]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Ty-1}px)`),r=()=>{e(window.innerWidth<Ty)};return n.addEventListener("change",r),e(window.innerWidth<Ty),()=>n.removeEventListener("change",r)},[]),!!t}var dq="Separator",qT="horizontal",hq=["horizontal","vertical"],E2=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=qT,...s}=t,i=fq(r)?r:qT,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(Me.div,{"data-orientation":i,...l,...s,ref:e})});E2.displayName=dq;function fq(t){return hq.includes(t)}var T2=E2;const S2=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>o.jsx(T2,{ref:s,decorative:n,orientation:e,className:ae("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));S2.displayName=T2.displayName;const mq=tR,pq=nR,N2=p.forwardRef(({className:t,...e},n)=>o.jsx(Kp,{className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));N2.displayName=Kp.displayName;const gq=Zo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),C2=p.forwardRef(({side:t="right",className:e,children:n,...r},s)=>o.jsxs(pq,{children:[o.jsx(N2,{}),o.jsxs(Qp,{ref:s,className:ae(gq({side:t}),e),...r,children:[n,o.jsxs(rR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(cp,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));C2.displayName=Qp.displayName;const I2=p.forwardRef(({className:t,...e},n)=>o.jsx(Yp,{ref:n,className:ae("text-lg font-semibold text-foreground",t),...e}));I2.displayName=Yp.displayName;const yq=p.forwardRef(({className:t,...e},n)=>o.jsx(Xp,{ref:n,className:ae("text-sm text-muted-foreground",t),...e}));yq.displayName=Xp.displayName;function GT({className:t,...e}){return o.jsx("div",{className:ae("animate-pulse rounded-md bg-muted",t),...e})}const vq="sidebar:state",xq=60*60*24*7,wq="16rem",_q="18rem",bq="3rem",Eq="b",k2=p.createContext(null);function sg(){const t=p.useContext(k2);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const i_=p.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:s,children:i,...a},l)=>{const c=uq(),[u,h]=p.useState(!1),[f,m]=p.useState(t),g=e??f,E=p.useCallback(y=>{const v=typeof y=="function"?y(g):y;n?n(v):m(v),document.cookie=`${vq}=${v}; path=/; max-age=${xq}`},[n,g]),x=p.useCallback(()=>c?h(y=>!y):E(y=>!y),[c,E,h]);p.useEffect(()=>{const y=v=>{v.key===Eq&&(v.metaKey||v.ctrlKey)&&(v.preventDefault(),x())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[x]);const b=g?"expanded":"collapsed",w=p.useMemo(()=>({state:b,open:g,setOpen:E,isMobile:c,openMobile:u,setOpenMobile:h,toggleSidebar:x}),[b,g,E,c,u,h,x]);return o.jsx(k2.Provider,{value:w,children:o.jsx($w,{delayDuration:0,children:o.jsx("div",{style:{"--sidebar-width":wq,"--sidebar-width-icon":bq,...s},className:ae("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...a,children:i})})})});i_.displayName="SidebarProvider";const a_=p.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:s,...i},a)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:h}=sg();return n==="none"?o.jsx("div",{className:ae("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:a,...i,children:s}):l?o.jsx(mq,{open:u,onOpenChange:h,...i,children:o.jsxs(C2,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":_q},side:t,children:[o.jsx(I2,{className:"sr-only",children:"Navigation"}),o.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):o.jsxs("div",{ref:a,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":e,"data-side":t,children:[o.jsx("div",{className:ae("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),o.jsx("div",{className:ae("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:o.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});a_.displayName="Sidebar";const o_=p.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:s}=sg();return o.jsxs(be,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ae("h-7 w-7",t),onClick:i=>{e==null||e(i),s()},...n,children:[o.jsx(IL,{}),o.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});o_.displayName="SidebarTrigger";const Tq=p.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=sg();return o.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:ae("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});Tq.displayName="SidebarRail";const Sq=p.forwardRef(({className:t,...e},n)=>o.jsx("main",{ref:n,className:ae("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));Sq.displayName="SidebarInset";const Nq=p.forwardRef(({className:t,...e},n)=>o.jsx(yt,{ref:n,"data-sidebar":"input",className:ae("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));Nq.displayName="SidebarInput";const Cq=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"header",className:ae("flex flex-col gap-2 p-2",t),...e}));Cq.displayName="SidebarHeader";const Iq=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"footer",className:ae("flex flex-col gap-2 p-2",t),...e}));Iq.displayName="SidebarFooter";const kq=p.forwardRef(({className:t,...e},n)=>o.jsx(S2,{ref:n,"data-sidebar":"separator",className:ae("mx-2 w-auto bg-sidebar-border",t),...e}));kq.displayName="SidebarSeparator";const l_=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"content",className:ae("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));l_.displayName="SidebarContent";const c_=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"group",className:ae("relative flex w-full min-w-0 flex-col p-2",t),...e}));c_.displayName="SidebarGroup";const u_=p.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?Ic:"div";return o.jsx(s,{ref:r,"data-sidebar":"group-label",className:ae("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});u_.displayName="SidebarGroupLabel";const jq=p.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?Ic:"button";return o.jsx(s,{ref:r,"data-sidebar":"group-action",className:ae("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});jq.displayName="SidebarGroupAction";const d_=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"group-content",className:ae("w-full text-sm",t),...e}));d_.displayName="SidebarGroupContent";const h_=p.forwardRef(({className:t,...e},n)=>o.jsx("ul",{ref:n,"data-sidebar":"menu",className:ae("flex w-full min-w-0 flex-col gap-1",t),...e}));h_.displayName="SidebarMenu";const f_=p.forwardRef(({className:t,...e},n)=>o.jsx("li",{ref:n,"data-sidebar":"menu-item",className:ae("group/menu-item relative",t),...e}));f_.displayName="SidebarMenuItem";const Pq=Zo("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),m_=p.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:s,className:i,...a},l)=>{const c=t?Ic:"button",{isMobile:u,state:h}=sg(),f=o.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:ae(Pq({variant:n,size:r}),i),...a});return s?(typeof s=="string"&&(s={children:s}),o.jsxs(Sk,{children:[o.jsx(Nk,{asChild:!0,children:f}),o.jsx(Bw,{side:"right",align:"center",hidden:h!=="collapsed"||u,...s})]})):f});m_.displayName="SidebarMenuButton";const Aq=p.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},s)=>{const i=e?Ic:"button";return o.jsx(i,{ref:s,"data-sidebar":"menu-action",className:ae("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});Aq.displayName="SidebarMenuAction";const Rq=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:ae("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));Rq.displayName="SidebarMenuBadge";const Dq=p.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const s=p.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return o.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:ae("flex h-8 items-center gap-2 rounded-md px-2",t),...n,children:[e&&o.jsx(GT,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),o.jsx(GT,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});Dq.displayName="SidebarMenuSkeleton";const Oq=p.forwardRef(({className:t,...e},n)=>o.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:ae("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));Oq.displayName="SidebarMenuSub";const Mq=p.forwardRef(({...t},e)=>o.jsx("li",{ref:e,...t}));Mq.displayName="SidebarMenuSubItem";const Lq=p.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...s},i)=>{const a=t?Ic:"a";return o.jsx(a,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:ae("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});Lq.displayName="SidebarMenuSubButton";const j2=p.forwardRef(({className:t,activeClassName:e,pendingClassName:n,to:r,...s},i)=>o.jsx(r3,{ref:i,to:r,className:({isActive:a,isPending:l})=>ae(t,a&&e,l&&n),...s}));j2.displayName="NavLink";const Vq=[{title:"Overview",url:"/admin",icon:TL},{title:"Registrations",url:"/admin/registrations",icon:wL},{title:"Participants",url:"/admin/participants",icon:Si},{title:"Tournaments",url:"/admin/tournaments",icon:Mt},{title:"Games",url:"/admin/games",icon:Sw},{title:"Teams",url:"/admin/teams",icon:AL},{title:"Schedule",url:"/admin/schedule",icon:gL},{title:"Matches",url:"/admin/matches",icon:gs},{title:"Leaderboard",url:"/admin/leaderboard",icon:yL},{title:"Users",url:"/admin/users",icon:RL}];function Fq(){const t=Xs();return o.jsx(a_,{collapsible:"icon",children:o.jsx(l_,{children:o.jsxs(c_,{children:[o.jsx(u_,{children:"Admin Panel"}),o.jsx(d_,{children:o.jsx(h_,{children:Vq.map(e=>o.jsx(f_,{children:o.jsx(m_,{asChild:!0,isActive:t.pathname===e.url,tooltip:e.title,children:o.jsxs(j2,{to:e.url,className:"hover:bg-muted/50",activeClassName:"bg-muted text-primary font-medium",children:[o.jsx(e.icon,{className:"h-4 w-4"}),o.jsx("span",{children:e.title})]})})},e.title))})})]})})})}function Uq(){const{signOut:t,user:e}=Xn();return o.jsxs("header",{className:"sticky top-0 z-50 h-16 border-b bg-card flex items-center justify-between px-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(o_,{}),o.jsxs(Rt,{to:"/admin",className:"flex items-center gap-2",children:[o.jsx(Mt,{className:"h-6 w-6 text-primary"}),o.jsx("span",{className:"text-lg font-bold",children:"Admin Dashboard"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.displayName}),o.jsxs(be,{variant:"outline",size:"sm",onClick:t,children:[o.jsx(em,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}const $q=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState(""),[a,l]=p.useState(!0),[c,u]=p.useState(!1),[h,f]=p.useState(null),[m,g]=p.useState({name:"",game_type:"SINGLE",players_per_team:1,is_active:!0,tournament_id:""}),{toast:E}=Yn(),{setIsLoading:x}=Js();p.useEffect(()=>{x(!0),b()},[x]),p.useEffect(()=>{s?w():e([])},[s]);const b=async()=>{try{const T=await xr();r(T),T.length>0&&!s&&i(T[0].id)}catch(T){E({title:"Error",description:T.message,variant:"destructive"})}finally{x(!1)}},w=async()=>{if(s)try{l(!0);const T=await An(s);e(T)}catch(T){E({title:"Error",description:T.message,variant:"destructive"})}finally{l(!1),x(!1)}},y=async T=>{if(T.preventDefault(),!m.tournament_id){E({title:"Error",description:"Please select a tournament",variant:"destructive"});return}try{x(!0),h?(await Fi(Tt(qe,"games",h),{...m,updated_at:Ye()}),E({title:"Game updated successfully"})):(await ro(yr(qe,"games"),{...m,created_at:Ye(),updated_at:Ye()}),E({title:"Game created successfully"})),u(!1),P();const C=await An(s);e(C)}catch(C){E({title:"Error",description:C.message,variant:"destructive"})}finally{x(!1)}},v=T=>{f(T.id),g({name:T.name,game_type:T.game_type,players_per_team:T.players_per_team,is_active:T.is_active,tournament_id:T.tournament_id||s}),u(!0)},S=async T=>{if(confirm("Are you sure you want to delete this game?"))try{x(!0),await z0(Tt(qe,"games",T)),E({title:"Game deleted successfully"});const C=await An(s);e(C)}catch(C){E({title:"Error",description:C.message,variant:"destructive"})}finally{x(!1)}},P=()=>{g({name:"",game_type:"SINGLE",players_per_team:1,is_active:!0,tournament_id:s}),f(null)},O=T=>{const C=n.find(j=>j.id===T);return(C==null?void 0:C.name)||"Unknown Tournament"};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Games"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Configure sports and game settings"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"w-full md:w-64",children:[o.jsx(Ve,{htmlFor:"tournament-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Tournament"}),o.jsxs(vt,{value:s,onValueChange:i,children:[o.jsx(mt,{id:"tournament-select",children:o.jsx(xt,{placeholder:"Select tournament"})}),o.jsx(pt,{children:n.map(T=>o.jsx(ke,{value:T.id,children:T.name},T.id))})]})]}),o.jsxs(xi,{open:c,onOpenChange:T=>{u(T),T&&!h&&g(C=>({...C,tournament_id:s})),T||P()},children:[o.jsx(Y0,{asChild:!0,children:o.jsxs(be,{disabled:!s,children:[o.jsx(ud,{className:"h-4 w-4 mr-2"}),"Add Game"]})}),o.jsxs($s,{children:[o.jsx(Bs,{children:o.jsxs(zs,{children:[h?"Edit":"Create"," Game"]})}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"tournament_id",children:"Tournament"}),o.jsxs(vt,{value:m.tournament_id,onValueChange:T=>g({...m,tournament_id:T}),disabled:!!h,children:[o.jsx(mt,{id:"tournament_id",children:o.jsx(xt,{placeholder:"Select tournament"})}),o.jsx(pt,{children:n.map(T=>o.jsx(ke,{value:T.id,children:T.name},T.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"name",children:"Game Name"}),o.jsx(yt,{id:"name",value:m.name,onChange:T=>g({...m,name:T.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"game_type",children:"Game Type"}),o.jsxs(vt,{value:m.game_type,onValueChange:T=>g({...m,game_type:T}),children:[o.jsx(mt,{children:o.jsx(xt,{})}),o.jsxs(pt,{children:[o.jsx(ke,{value:"SINGLE",children:"Single (1v1)"}),o.jsx(ke,{value:"PAIR",children:"Pair (2v2)"}),o.jsx(ke,{value:"TEAM",children:"Team"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"players_per_team",children:"Players Per Team"}),o.jsx(yt,{id:"players_per_team",type:"number",min:"1",value:m.players_per_team,onChange:T=>g({...m,players_per_team:parseInt(T.target.value)}),required:!0})]}),o.jsxs(be,{type:"submit",className:"w-full",children:[h?"Update":"Create"," Game"]})]})]})]})]})]}),s?a?o.jsx(Ee,{children:o.jsx(Te,{className:"py-8 text-center text-muted-foreground",children:"Loading games..."})}):t.length===0?o.jsx(Ee,{children:o.jsx(Te,{className:"py-8 text-center text-muted-foreground",children:'No games found for this tournament. Click "Add Game" to create one.'})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(T=>o.jsxs(Ee,{children:[o.jsx(Ke,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Qe,{children:T.name}),T.tournament_id&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:O(T.tournament_id)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(be,{variant:"outline",size:"sm",onClick:()=>v(T),children:o.jsx(Nw,{className:"h-4 w-4"})}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>S(T.id),children:o.jsx(Iw,{className:"h-4 w-4"})})]})]})}),o.jsxs(Te,{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Type:"}),o.jsx("span",{className:"font-medium",children:T.game_type})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Players:"}),o.jsx("span",{className:"font-medium",children:T.players_per_team})]}),o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${T.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:T.is_active?"Active":"Inactive"})]})]},T.id))}):o.jsx(Ee,{children:o.jsx(Te,{className:"py-8 text-center text-muted-foreground",children:"Please select a tournament to view or create games."})})]})};var ig="Checkbox",[Bq,KQ]=Qs(ig),[zq,p_]=Bq(ig);function Wq(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:a,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:f}=t,[m,g]=Ti({prop:n,defaultProp:s??!1,onChange:c,caller:ig}),[E,x]=p.useState(null),[b,w]=p.useState(null),y=p.useRef(!1),v=E?!!a||!!E.closest("form"):!0,S={checked:m,disabled:i,setChecked:g,control:E,setControl:x,name:l,form:a,value:h,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Aa(s)?!1:s,isFormControl:v,bubbleInput:b,setBubbleInput:w};return o.jsx(zq,{scope:e,...S,children:Hq(f)?f(S):r})}var P2="CheckboxTrigger",A2=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:a,disabled:l,checked:c,required:u,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:E}=p_(P2,t),x=_t(s,h),b=p.useRef(c);return p.useEffect(()=>{const w=i==null?void 0:i.form;if(w){const y=()=>f(b.current);return w.addEventListener("reset",y),()=>w.removeEventListener("reset",y)}},[i,f]),o.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":Aa(c)?"mixed":c,"aria-required":u,"data-state":L2(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:x,onKeyDown:Ne(e,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Ne(n,w=>{f(y=>Aa(y)?!0:!y),E&&g&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})})});A2.displayName=P2;var g_=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c,onCheckedChange:u,form:h,...f}=t;return o.jsx(Wq,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:a,onCheckedChange:u,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:m})=>o.jsxs(o.Fragment,{children:[o.jsx(A2,{...f,ref:e,__scopeCheckbox:n}),m&&o.jsx(M2,{__scopeCheckbox:n})]})})});g_.displayName=ig;var R2="CheckboxIndicator",D2=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=p_(R2,n);return o.jsx(Xa,{present:r||Aa(i.checked)||i.checked===!0,children:o.jsx(Me.span,{"data-state":L2(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});D2.displayName=R2;var O2="CheckboxBubbleInput",M2=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:l,disabled:c,name:u,value:h,form:f,bubbleInput:m,setBubbleInput:g}=p_(O2,t),E=_t(n,g),x=Z0(i),b=Lw(r);p.useEffect(()=>{const y=m;if(!y)return;const v=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(v,"checked").set,O=!s.current;if(x!==i&&P){const T=new Event("click",{bubbles:O});y.indeterminate=Aa(i),P.call(y,Aa(i)?!1:i),y.dispatchEvent(T)}},[m,x,i,s]);const w=p.useRef(Aa(i)?!1:i);return o.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??w.current,required:l,disabled:c,name:u,value:h,form:f,...e,tabIndex:-1,ref:E,style:{...e.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});M2.displayName=O2;function Hq(t){return typeof t=="function"}function Aa(t){return t==="indeterminate"}function L2(t){return Aa(t)?"indeterminate":t?"checked":"unchecked"}const vx=p.forwardRef(({className:t,...e},n)=>o.jsx(g_,{ref:n,className:ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(D2,{className:ae("flex items-center justify-center text-current"),children:o.jsx(II,{className:"h-4 w-4"})})}));vx.displayName=g_.displayName;const V2=yr(qe,"registrations"),Ws=async t=>{const e=[];t.tournamentId&&e.push(nn("tournament_id","==",t.tournamentId)),t.gameId&&e.push(nn("game_id","==",t.gameId)),t.status&&e.push(nn("status","==",t.status)),t.userId&&e.push(nn("user_id","==",t.userId));const n=Kn(V2,...e,no("created_at","desc"));return(await Qn(n)).docs.map(s=>({id:s.id,...s.data()}))},qq=async t=>{await ro(V2,{...t,status:"pending",created_at:Ye(),updated_at:Ye()})},Gq=async(t,e)=>{await Fi(Tt(qe,"registrations",t),{status:e,updated_at:Ye()})},F2=yr(qe,"notifications"),U2=async t=>{const e=Kn(F2,nn("user_id","==",t),no("created_at","desc"));return(await Qn(e)).docs.map(r=>({id:r.id,...r.data()}))},Id=async t=>{await ro(F2,{...t,is_read:!1,created_at:Ye(),updated_at:Ye()})},KT=async t=>{await Fi(Tt(qe,"notifications",t),{is_read:!0,updated_at:Ye()})},Kq=()=>{var L,z;const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState(""),[m,g]=p.useState(""),[E,x]=p.useState(!0),[b,w]=p.useState(!1),[y,v]=p.useState(!1),[S,P]=p.useState(!1),[O,T]=p.useState(null),[C,j]=p.useState(null),[A,D]=p.useState({name:"",is_pair:!1,status:"pending",tournament_id:"",game_id:""}),[I,k]=p.useState([]),[V,G]=p.useState([]),[H,q]=p.useState(""),{toast:U}=Yn(),B=s.find(M=>M.id===m),$=(B==null?void 0:B.game_type)==="TEAM",X=(B==null?void 0:B.game_type)==="PAIR",le=(B==null?void 0:B.game_type)==="SINGLE";p.useEffect(()=>{de(),st()},[]),p.useEffect(()=>{h?xe():(i([]),g(""))},[h]),p.useEffect(()=>{h&&m?(Ce(),ie()):(e([]),u([]))},[h,m]);const de=async()=>{try{const M=await xr();r(M),M.length>0&&!h&&f(M[0].id)}catch(M){U({title:"Error",description:M.message,variant:"destructive"})}},xe=async()=>{if(h)try{const M=await An(h);i(M),M.length>0&&!m&&g(M[0].id)}catch(M){U({title:"Error",description:M.message,variant:"destructive"})}},Ce=async()=>{if(!(!h||!m))try{x(!0);const M=await Ui({tournamentId:h,gameId:m});e(M)}catch(M){U({title:"Error",description:M.message,variant:"destructive"})}finally{x(!1)}},st=async()=>{try{const M=await Xr();l(M)}catch(M){U({title:"Error",description:M.message,variant:"destructive"})}},ie=async()=>{if(!(!h||!m))try{const M=await Ws({tournamentId:h,gameId:m});u(M)}catch(M){U({title:"Error fetching registrations",description:M.message,variant:"destructive"})}},He=async M=>{if(M.preventDefault(),!A.tournament_id||!A.game_id){U({title:"Error",description:"Please select a tournament and game",variant:"destructive"});return}if(!X&&!A.name.trim()){U({title:"Error",description:"Team name is required",variant:"destructive"});return}try{O?(await BH(O,{name:A.name,is_pair:A.is_pair,status:A.status}),U({title:`${X?"Pair":"Team"} updated successfully`})):(await HT({...A,name:X?`Pair ${Date.now()}`:A.name,player_ids:[]}),U({title:`${X?"Pair":"Team"} created successfully`})),w(!1),ge(),Ce()}catch(Q){U({title:"Error",description:Q.message,variant:"destructive"})}},it=M=>{T(M.id),D({name:M.name,is_pair:M.is_pair,status:M.status,tournament_id:M.tournament_id,game_id:M.game_id}),w(!0)},Re=async M=>{if(confirm("Are you sure you want to delete this team?"))try{await WH(M),U({title:"Team deleted successfully"}),Ce()}catch(Q){U({title:"Error",description:Q.message,variant:"destructive"})}},Pe=M=>{j(M),k(M.player_ids),v(!0)},Ae=async()=>{if(V.length===2)try{const M=a.find(F=>F.id===V[0]),Q=a.find(F=>F.id===V[1]),Z=M&&Q?`${M.name} & ${Q.name}`:`Pair ${Date.now()}`,re=await HT({tournament_id:h,game_id:m,name:Z,is_pair:!0,player_ids:V,status:"confirmed"});await t2({tournament_id:h,game_id:m,type:"TEAM",team_id:re}),U({title:"Pair created successfully"});for(const F of V)await Id({user_id:F,title:"Team Assignment",message:`You have been added to a pair for ${et(m)} in ${we(h)}.`,type:"team_assignment"});P(!1),G([]),Ce()}catch(M){U({title:"Error",description:M.message,variant:"destructive"})}},Nt=async()=>{if(C)try{const M=C.player_ids.filter(Z=>!I.includes(Z));for(const Z of M)await Fi(Tt(qe,"teams",C.id),{player_ids:_7(Z),updated_at:Ye()});const Q=I.filter(Z=>!C.player_ids.includes(Z));for(const Z of Q)await zH(C.id,Z);U({title:"Team players updated successfully"});for(const Z of Q)await Id({user_id:Z,title:"Team Assignment",message:`You have been added to team ${C.name} for ${et(m)} in ${we(h)}.`,type:"team_assignment"});v(!1),j(null),Ce()}catch(M){U({title:"Error",description:M.message,variant:"destructive"})}},ge=()=>{D({name:"",is_pair:!1,status:"pending",tournament_id:h,game_id:m}),T(null)},we=M=>{const Q=n.find(Z=>Z.id===M);return(Q==null?void 0:Q.name)||"Unknown Tournament"},et=M=>{const Q=s.find(Z=>Z.id===M);return(Q==null?void 0:Q.name)||"Unknown Game"},ut=M=>{const Q=a.find(Z=>Z.id===M);return(Q==null?void 0:Q.name)||"Unknown User"},At=M=>c.some(Q=>Q.user_id===M),Be=M=>t.find(Z=>Z.player_ids.includes(M)&&(C?Z.id!==C.id:!0));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Teams"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Create and manage teams for tournaments"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"w-full md:w-64",children:[o.jsx(Ve,{htmlFor:"tournament-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Tournament"}),o.jsxs(vt,{value:h,onValueChange:f,children:[o.jsx(mt,{id:"tournament-select",children:o.jsx(xt,{placeholder:"Select tournament"})}),o.jsx(pt,{children:n.map(M=>o.jsx(ke,{value:M.id,children:M.name},M.id))})]})]}),o.jsxs("div",{className:"w-full md:w-64",children:[o.jsx(Ve,{htmlFor:"game-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Game"}),o.jsxs(vt,{value:m,onValueChange:g,disabled:!h,children:[o.jsx(mt,{id:"game-select",children:o.jsx(xt,{placeholder:"Select game"})}),o.jsx(pt,{children:s.map(M=>o.jsx(ke,{value:M.id,children:M.name},M.id))})]})]}),o.jsxs(xi,{open:b,onOpenChange:M=>{w(M),M&&!O&&D(Q=>({...Q,tournament_id:h,game_id:m,is_pair:!1})),M||ge()},children:[$&&o.jsx(Y0,{asChild:!0,children:o.jsxs(be,{disabled:!h||!m,children:[o.jsx(ud,{className:"h-4 w-4 mr-2"}),"Add Team"]})}),o.jsxs($s,{children:[o.jsx(Bs,{children:o.jsxs(zs,{children:[O?"Edit":"Create"," Team"]})}),o.jsxs("form",{onSubmit:He,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"tournament_id",children:"Tournament"}),o.jsxs(vt,{value:A.tournament_id,onValueChange:M=>D({...A,tournament_id:M}),disabled:!!O,children:[o.jsx(mt,{id:"tournament_id",children:o.jsx(xt,{placeholder:"Select tournament"})}),o.jsx(pt,{children:n.map(M=>o.jsx(ke,{value:M.id,children:M.name},M.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"game_id",children:"Game"}),o.jsxs(vt,{value:A.game_id,onValueChange:M=>D({...A,game_id:M}),disabled:!!O,children:[o.jsx(mt,{id:"game_id",children:o.jsx(xt,{placeholder:"Select game"})}),o.jsx(pt,{children:s.map(M=>o.jsx(ke,{value:M.id,children:M.name},M.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"name",children:"Team Name"}),o.jsx(yt,{id:"name",value:A.name,onChange:M=>D({...A,name:M.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"status",children:"Status"}),o.jsxs(vt,{value:A.status,onValueChange:M=>D({...A,status:M}),children:[o.jsx(mt,{children:o.jsx(xt,{})}),o.jsxs(pt,{children:[o.jsx(ke,{value:"pending",children:"Pending"}),o.jsxs(ke,{value:"confirmed",disabled:O?(((L=t.find(M=>M.id===O))==null?void 0:L.player_ids.length)||0)<((B==null?void 0:B.players_per_team)||1):!0,children:["Confirmed ",O&&(((z=t.find(M=>M.id===O))==null?void 0:z.player_ids.length)||0)<((B==null?void 0:B.players_per_team)||1)?"(Add players first)":""]})]})]})]}),o.jsxs(be,{type:"submit",className:"w-full",children:[O?"Update":"Create"," Team"]})]})]})]}),X&&o.jsxs(be,{disabled:!h||!m,onClick:()=>P(!0),children:[o.jsx(ud,{className:"h-4 w-4 mr-2"}),"Add Pair"]})]})]}),!h||!m?o.jsx(Ee,{children:o.jsx(Te,{className:"py-8 text-center text-muted-foreground",children:"Please select a tournament and game to view or create teams."})}):le?o.jsx(Ee,{children:o.jsx(Te,{className:"py-8 text-center text-muted-foreground",children:"Single player games don't require team management. Players are managed through registrations."})}):E?o.jsx(Ee,{children:o.jsxs(Te,{className:"py-8 text-center text-muted-foreground",children:["Loading ",X?"pairs":"teams","..."]})}):t.length===0?o.jsx(Ee,{children:o.jsxs(Te,{className:"py-8 text-center text-muted-foreground",children:["No ",X?"pairs":"teams",' found for this tournament and game. Click "Add ',X?"Pair":"Team",'" to create one.']})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(M=>o.jsxs(Ee,{children:[o.jsx(Ke,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Qe,{children:M.is_pair?M.player_ids.length===2?`${ut(M.player_ids[0])} & ${ut(M.player_ids[1])}`:`Pair ${M.id.slice(-4)}`:M.name}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[we(M.tournament_id)," - ",et(M.game_id)]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(be,{variant:"outline",size:"sm",onClick:()=>Pe(M),children:o.jsx(Si,{className:"h-4 w-4"})}),!M.is_pair&&o.jsx(be,{variant:"outline",size:"sm",onClick:()=>it(M),children:o.jsx(Nw,{className:"h-4 w-4"})}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>Re(M.id),children:o.jsx(Iw,{className:"h-4 w-4"})})]})]})}),o.jsxs(Te,{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Type:"}),o.jsx("span",{className:"font-medium",children:M.is_pair?"Pair":"Team"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Players:"}),o.jsx("span",{className:"font-medium",children:M.player_ids.length})]}),o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${M.status==="confirmed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:M.status})]})]},M.id))}),o.jsx(xi,{open:S,onOpenChange:M=>{P(M),M||(G([]),q(""))},children:o.jsxs($s,{className:"max-w-2xl",children:[o.jsx(Bs,{children:o.jsx(zs,{children:"Create Pair"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Select exactly 2 players for this pair",V.length>0&&o.jsxs("span",{className:"font-medium",children:[" (",V.length," selected)"]})]}),o.jsx("div",{className:"space-y-2",children:o.jsx(yt,{placeholder:"Search users by name or email...",value:H,onChange:M=>q(M.target.value),className:"w-full"})}),o.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.filter(M=>(M.name.toLowerCase().includes(H.toLowerCase())||M.email.toLowerCase().includes(H.toLowerCase()))&&At(M.id)).map(M=>{const Q=Be(M.id),Z=!!Q&&!V.includes(M.id)||!V.includes(M.id)&&V.length>=2;return o.jsxs("div",{className:"flex items-center space-x-2 p-2 border-b",children:[o.jsx(vx,{id:`pair-user-${M.id}`,checked:V.includes(M.id),disabled:Z,onCheckedChange:re=>{G(re?F=>[...F,M.id]:F=>F.filter(Y=>Y!==M.id))}}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(Ve,{htmlFor:`pair-user-${M.id}`,className:Z&&Q?"text-muted-foreground":"",children:[M.name," (",M.email,")"]}),Q&&o.jsxs("p",{className:"text-xs text-red-500",children:["Already in ",Q.is_pair?"a pair":Q.name]})]})]},M.id)})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(be,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),o.jsx(be,{onClick:Ae,disabled:V.length!==2,children:"Create Pair"})]})]})]})}),o.jsx(xi,{open:y,onOpenChange:M=>{v(M),M||q("")},children:o.jsxs($s,{className:"max-w-2xl",children:[o.jsx(Bs,{children:o.jsxs(zs,{children:["Manage Players - ",C!=null&&C.is_pair?C.player_ids.length===2?`${ut(C.player_ids[0])} & ${ut(C.player_ids[1])}`:`Pair ${C.id.slice(-4)}`:C==null?void 0:C.name]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[C!=null&&C.is_pair?"Select exactly 2 players for this pair":`Select up to ${(B==null?void 0:B.players_per_team)||1} players for this team`,I.length>0&&o.jsxs("span",{className:"font-medium",children:[" (",I.length," selected)"]})]}),o.jsx("div",{className:"space-y-2",children:o.jsx(yt,{placeholder:"Search users by name or email...",value:H,onChange:M=>q(M.target.value),className:"w-full"})}),o.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.filter(M=>(M.name.toLowerCase().includes(H.toLowerCase())||M.email.toLowerCase().includes(H.toLowerCase()))&&At(M.id)).map(M=>{const Q=Be(M.id),Z=C!=null&&C.is_pair?2:(B==null?void 0:B.players_per_team)||1,re=!!Q&&!I.includes(M.id)||!I.includes(M.id)&&I.length>=Z;return o.jsxs("div",{className:"flex items-center space-x-2 p-2 border-b",children:[o.jsx(vx,{id:`user-${M.id}`,checked:I.includes(M.id),disabled:re,onCheckedChange:F=>{k(F?Y=>[...Y,M.id]:Y=>Y.filter(ce=>ce!==M.id))}}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(Ve,{htmlFor:`user-${M.id}`,className:re&&Q?"text-muted-foreground":"",children:[M.name," (",M.email,")"]}),Q&&o.jsxs("p",{className:"text-xs text-red-500",children:["Already in ",Q.is_pair?"a pair":Q.name]})]})]},M.id)})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(be,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),o.jsx(be,{onClick:Nt,children:"Update Players"})]})]})]})})]})},Qq=(t,e)=>{const n=e-t;return n===0?"Final":n===1?"Semi Final":n===2?"Quarter Final":`Round ${t+1}`},Yq=t=>Math.pow(2,Math.ceil(Math.log2(Math.max(1,t)))),Xq=(t,e=[])=>{var h,f,m;const n=[...t].sort((g,E)=>{if(g.seed&&E.seed)return g.seed-E.seed;if(g.seed)return-1;if(E.seed)return 1;const x=y=>y?typeof y=="string"?new Date(y).getTime():y.toDate?y.toDate().getTime():y instanceof Date?y.getTime():0:0,b=x(g.created_at),w=x(E.created_at);return b-w}),r=n.length,s=Yq(r),i=Math.log2(s),a=[],l=new Array(s).fill(null);n.forEach((g,E)=>{l[E]=g});let c=s/2,u=[];for(let g=0;g<i;g++){const E=[];for(let x=0;x<c;x++){const b=((h=e.shift())==null?void 0:h.id)||crypto.randomUUID(),w=x*2,y={id:b,round_index:g,round_name:Qq(g,i-1),match_order:x,participant_a_id:g===0?(f=l[w])==null?void 0:f.id:void 0,participant_b_id:g===0?(m=l[w+1])==null?void 0:m.id:void 0};if(u.length){const v=u[x*2],S=u[x*2+1],P=a.find(T=>T.id===v);P&&(P.next_match_id=b,P.winner_slot_in_next="A");const O=a.find(T=>T.id===S);O&&(O.next_match_id=b,O.winner_slot_in_next="B")}a.push(y),E.push(b)}u=E,c=c/2}return a},Zq=async(t,e,n)=>{const r=SA(qe);n.forEach(s=>{const i=Tt(qe,"matches",s.id);r.set(i,{tournament_id:t,game_id:e,...s,participant_a_id:s.participant_a_id??null,participant_b_id:s.participant_b_id??null,next_match_id:s.next_match_id??null,winner_slot_in_next:s.winner_slot_in_next??null,status:"SCHEDULED",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{merge:!0})}),await r.commit()},Jq=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState(""),[E,x]=p.useState(""),[b,w]=p.useState(!1),{toast:y}=Yn();p.useEffect(()=>{xr().then(e),Xr().then(u)},[]),p.useEffect(()=>{x("")},[m]),p.useEffect(()=>{(async()=>{if(!m){r([]),i([]),l([]),f([]);return}w(!0);try{const[k,V,G,H]=await Promise.all([An(m),zc({tournamentId:m,gameId:E||void 0}),Pa({tournamentId:m,gameId:E||void 0}),Ui({tournamentId:m,gameId:E||void 0})]);r(k),i(V),l(G),f(H)}catch(k){y({title:"Error loading data",description:k.message,variant:"destructive"}),r([]),i([]),l([]),f([])}finally{w(!1)}})()},[m,E]);const v=p.useMemo(()=>s.reduce((I,k)=>(I[k.id]=k,I),{}),[s]),S=p.useMemo(()=>c.reduce((I,k)=>(I[k.id]=k,I),{}),[c]),P=p.useMemo(()=>h.reduce((I,k)=>(I[k.id]=k,I),{}),[h]),O=I=>{var k,V;return I?I.type==="USER"&&I.user_id?((k=S[I.user_id])==null?void 0:k.name)||"Unknown User":I.type==="TEAM"&&I.team_id?((V=P[I.team_id])==null?void 0:V.name)||"Unknown Team":"Unknown Participant":"TBD"},T=p.useMemo(()=>{const I=new Set;return a.filter(k=>k.status.toUpperCase()==="COMPLETED").forEach(k=>{const V=k.participant_a_id===k.winner_participant_id?k.participant_b_id:k.participant_a_id;if(V){const G=s.find(H=>H.id===V);if(G){if(G.type==="USER"&&G.user_id)I.add(G.user_id);else if(G.type==="TEAM"&&G.team_id){const H=h.find(q=>q.id===G.team_id);H!=null&&H.player_ids&&H.player_ids.forEach(q=>I.add(q))}}}}),I},[a,s,h]),C=p.useMemo(()=>s.filter(I=>{var k;if(I.type==="USER"&&I.user_id&&T.has(I.user_id))return!1;if(I.type==="TEAM"&&I.team_id){const V=h.find(G=>G.id===I.team_id);if((k=V==null?void 0:V.player_ids)!=null&&k.some(G=>T.has(G)))return!1}return!0}),[s,h,T]),j=p.useMemo(()=>a.reduce((I,k)=>(I[k.round_index]||(I[k.round_index]=[]),I[k.round_index].push(k),I),{}),[a]),A=async()=>{if(!m||!E){y({title:"Select tournament and game",description:"Both tournament and game are required to generate bracket.",variant:"destructive"});return}if(s.length<2){y({title:"Not enough participants",description:"At least two participants are required to create a bracket.",variant:"destructive"});return}try{w(!0);const I=Xq(C);await Zq(m,E,I);const k=await Pa({tournamentId:m,gameId:E});l(k),y({title:"Bracket generated",description:"Matches created successfully."})}catch(I){y({title:"Generation failed",description:I.message,variant:"destructive"})}finally{w(!1)}},D=async(I,k)=>{try{await MH(I.id,{tournament_id:I.tournament_id,game_id:I.game_id,winner_participant_id:k,score_details:"",points_awarded:{[k]:3},submitted_by:"admin"}),I.next_match_id&&I.winner_slot_in_next&&await If(I.next_match_id,I.winner_slot_in_next==="A"?{participant_a_id:k}:{participant_b_id:k});const V=v[k],G=I.participant_a_id===k?I.participant_b_id:I.participant_a_id,H=G?v[G]:void 0;V&&await ZR({tournamentId:I.tournament_id,gameId:I.game_id,winnerId:k,loserId:G,winnerName:O(V),loserName:H?O(H):void 0,winnerType:V.type,loserType:H==null?void 0:H.type,pointsForWin:3});const q=await Pa({tournamentId:m,gameId:E||void 0});l(q),y({title:"Result recorded"})}catch(V){y({title:"Failed to record result",description:V.message,variant:"destructive"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),o.jsxs(vt,{value:m,onValueChange:g,children:[o.jsx(mt,{children:o.jsx(xt,{placeholder:"Select tournament"})}),o.jsx(pt,{children:t.map(I=>o.jsx(ke,{value:I.id,children:I.name},I.id))})]})]}),o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-sm font-medium",children:"Game"}),o.jsxs(vt,{value:E,onValueChange:x,disabled:!m,children:[o.jsx(mt,{children:o.jsx(xt,{placeholder:"Select game"})}),o.jsx(pt,{children:n.map(I=>o.jsx(ke,{value:I.id,children:I.name},I.id))})]})]}),o.jsxs(be,{onClick:A,disabled:!E||b,children:[o.jsx(AI,{className:"h-4 w-4 mr-2"}),"Generate Bracket"]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Qe,{children:"Match Schedule"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-generated bracket with manual override support."})]}),b&&o.jsx(xn,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),o.jsx(Te,{children:m?a.length===0?o.jsx("p",{className:"text-muted-foreground text-sm",children:"No matches yet. Generate a bracket or create matches manually."}):Object.entries(j).map(([I,k])=>o.jsxs("div",{className:"mb-6",children:[o.jsxs("p",{className:"text-sm font-semibold mb-3 uppercase text-muted-foreground",children:["Round ",Number(I)+1]}),o.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:k.map(V=>{const G=V.participant_a_id?v[V.participant_a_id]:void 0,H=V.participant_b_id?v[V.participant_b_id]:void 0;return o.jsx(Ee,{children:o.jsxs(Te,{className:"space-y-3 pt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Match"}),o.jsx("p",{className:"font-semibold",children:V.round_name})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md ${V.status.toUpperCase()==="COMPLETED"?V.winner_participant_id===(G==null?void 0:G.id)?"bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800":"bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 opacity-70":""}`,children:[o.jsx("span",{className:"truncate max-w-[150px] font-medium",title:O(G),children:O(G)}),o.jsx(be,{variant:V.winner_participant_id===(G==null?void 0:G.id)?"default":"outline",size:"sm",disabled:!G||V.status.toUpperCase()==="COMPLETED",onClick:()=>G&&D(V,G.id),className:V.winner_participant_id===(G==null?void 0:G.id)?"bg-green-600 hover:bg-green-700 h-7":"h-7",children:V.winner_participant_id===(G==null?void 0:G.id)?"Winner":"Win"})]}),o.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md ${V.status.toUpperCase()==="COMPLETED"?V.winner_participant_id===(H==null?void 0:H.id)?"bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800":"bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 opacity-70":""}`,children:[o.jsx("span",{className:"truncate max-w-[150px] font-medium",title:O(H),children:O(H)}),o.jsx(be,{variant:V.winner_participant_id===(H==null?void 0:H.id)?"default":"outline",size:"sm",disabled:!H||V.status.toUpperCase()==="COMPLETED",onClick:()=>H&&D(V,H.id),className:V.winner_participant_id===(H==null?void 0:H.id)?"bg-green-600 hover:bg-green-700 h-7":"h-7",children:V.winner_participant_id===(H==null?void 0:H.id)?"Winner":"Win"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(yt,{type:"datetime-local",disabled:V.status.toUpperCase()==="COMPLETED",value:(()=>{var U;if(!V.match_time)return"";let q;return(U=V.match_time)!=null&&U.toDate?q=V.match_time.toDate():V.match_time instanceof Date?q=V.match_time:q=new Date(V.match_time),isNaN(q.getTime())?"":new Date(q.getTime()-q.getTimezoneOffset()*6e4).toISOString().slice(0,16)})(),onChange:q=>If(V.id,{match_time:new Date(q.target.value).toISOString()})}),o.jsx(yt,{placeholder:"Venue",disabled:V.status.toUpperCase()==="COMPLETED",value:V.venue||"",onChange:q=>If(V.id,{venue:q.target.value})})]})]})},V.id)})})]},I)):o.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament and game to view matches."})})]})]})};var ag="Switch",[eG,QQ]=Qs(ag),[tG,nG]=eG(ag),$2=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:h,...f}=t,[m,g]=p.useState(null),E=_t(e,v=>g(v)),x=p.useRef(!1),b=m?h||!!m.closest("form"):!0,[w,y]=Ti({prop:s,defaultProp:i??!1,onChange:u,caller:ag});return o.jsxs(tG,{scope:n,checked:w,disabled:l,children:[o.jsx(Me.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":H2(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:E,onClick:Ne(t.onClick,v=>{y(S=>!S),b&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),b&&o.jsx(W2,{control:m,bubbles:!x.current,name:r,value:c,checked:w,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});$2.displayName=ag;var B2="SwitchThumb",z2=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=nG(B2,n);return o.jsx(Me.span,{"data-state":H2(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});z2.displayName=B2;var rG="SwitchBubbleInput",W2=p.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=p.useRef(null),l=_t(a,i),c=Z0(n),u=Lw(e);return p.useEffect(()=>{const h=a.current;if(!h)return;const f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&g){const E=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(E)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});W2.displayName=rG;function H2(t){return t?"checked":"unchecked"}var q2=$2,sG=z2;const G2=p.forwardRef(({className:t,...e},n)=>o.jsx(q2,{className:ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:o.jsx(sG,{className:ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));G2.displayName=q2.displayName;const iG=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState(!1),[a,l]=p.useState(null),[c,u]=p.useState({name:"",start_date:"",end_date:"",is_active:!0,status:"draft"}),{toast:h}=Yn(),{setIsLoading:f}=Js(),m=y=>{if(!y)return"N/A";let v;if(typeof y=="object"&&y.toDate?v=y.toDate():typeof y=="object"&&y.seconds?v=new Date(y.seconds*1e3):v=new Date(y),isNaN(v.getTime()))return"N/A";const S=String(v.getDate()).padStart(2,"0"),P=String(v.getMonth()+1).padStart(2,"0"),O=v.getFullYear();return`${S}/${P}/${O}`};p.useEffect(()=>{f(!0),g()},[f]);const g=async()=>{try{const y=Kn(yr(qe,"tournaments"),no("created_at","desc")),S=(await Qn(y)).docs.map(P=>{const O=P.data();return{id:P.id,name:O.name??"",start_date:O.start_date||"",end_date:O.end_date||"",is_active:O.is_active??!0,status:O.status||(O.is_active?"active":"draft")}});e(S)}catch(y){h({title:"Error",description:y.message,variant:"destructive"})}finally{r(!1),f(!1)}},E=async y=>{y.preventDefault(),f(!0);try{a?(await Fi(Tt(qe,"tournaments",a),{...c,updated_at:Ye()}),h({title:"Tournament updated successfully"})):(await ro(yr(qe,"tournaments"),{...c,created_at:Ye(),updated_at:Ye()}),h({title:"Tournament created successfully"})),i(!1),w(),g()}catch(v){h({title:"Error",description:v.message,variant:"destructive"})}finally{f(!1)}},x=y=>{l(y.id),u({name:y.name,start_date:y.start_date||"",end_date:y.end_date||"",is_active:y.is_active,status:y.status||"draft"}),i(!0)},b=async y=>{if(confirm("Are you sure you want to delete this tournament?")){f(!0);try{await z0(Tt(qe,"tournaments",y)),h({title:"Tournament deleted successfully"}),g()}catch(v){h({title:"Error",description:v.message,variant:"destructive"})}finally{f(!1)}}},w=()=>{u({name:"",start_date:"",end_date:"",is_active:!0,status:"draft"}),l(null)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Tournaments"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage tournament configurations"})]}),o.jsxs(xi,{open:s,onOpenChange:y=>{i(y),y||w()},children:[o.jsx(Y0,{asChild:!0,children:o.jsxs(be,{children:[o.jsx(ud,{className:"h-4 w-4 mr-2"}),"Add Tournament"]})}),o.jsxs($s,{children:[o.jsx(Bs,{children:o.jsxs(zs,{children:[a?"Edit":"Create"," Tournament"]})}),o.jsxs("form",{onSubmit:E,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"name",children:"Tournament Name"}),o.jsx(yt,{id:"name",value:c.name,onChange:y=>u({...c,name:y.target.value}),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"start_date",children:"Start Date"}),o.jsx(yt,{id:"start_date",type:"date",value:c.start_date,onChange:y=>u({...c,start_date:y.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"end_date",children:"End Date"}),o.jsx(yt,{id:"end_date",type:"date",value:c.end_date,onChange:y=>u({...c,end_date:y.target.value})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"status",children:"Status"}),o.jsxs(vt,{value:c.status,onValueChange:y=>u({...c,status:y}),children:[o.jsx(mt,{id:"status",children:o.jsx(xt,{})}),o.jsxs(pt,{children:[o.jsx(ke,{value:"draft",children:"Draft"}),o.jsx(ke,{value:"active",children:"Active"}),o.jsx(ke,{value:"completed",children:"Completed"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between space-y-2 pt-8",children:[o.jsx(Ve,{htmlFor:"is_active",children:"Is Publicly Active"}),o.jsx(G2,{id:"is_active",checked:c.is_active,onCheckedChange:y=>u({...c,is_active:y})})]})]}),o.jsxs(be,{type:"submit",className:"w-full",children:[a?"Update":"Create"," Tournament"]})]})]})]})]}),n?o.jsx("p",{children:"Loading..."}):o.jsx("div",{className:"grid gap-4",children:t.map(y=>o.jsxs(Ee,{children:[o.jsx(Ke,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Qe,{children:y.name}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:y.start_date&&y.end_date&&`${m(y.start_date)} - ${m(y.end_date)}`})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(be,{variant:"outline",size:"sm",onClick:()=>x(y),children:o.jsx(Nw,{className:"h-4 w-4"})}),o.jsx(be,{variant:"outline",size:"sm",onClick:()=>b(y.id),children:o.jsx(Iw,{className:"h-4 w-4"})})]})]})}),o.jsxs(Te,{className:"flex gap-4",children:[o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-bold uppercase ${y.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:y.is_active?"Public":"Hidden"}),o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-bold uppercase ${y.status==="active"?"bg-blue-100 text-blue-800":y.status==="completed"?"bg-purple-100 text-purple-800":"bg-yellow-100 text-yellow-800"}`,children:y.status})]})]},y.id))})]})},aG=()=>{const[t,e]=p.useState({activeTournamentsCount:0,activeTournamentName:"Loading...",totalGames:0,registeredPlayers:0,scheduledMatches:0}),[n,r]=p.useState(!0),{setIsLoading:s}=Js();return p.useEffect(()=>{const i=async()=>{try{const[a,l,c]=await Promise.all([xr(),Xr(),An()]),u=a.filter(m=>m.is_active),h=u[0]||a[0];let f=0;h&&(f=(await Pa({tournamentId:h.id})).length),e({activeTournamentsCount:u.length,activeTournamentName:h?h.name:"No Tournaments",totalGames:c.length,registeredPlayers:l.length,scheduledMatches:f})}catch(a){console.error("Error fetching dashboard data:",a),e(l=>({...l,activeTournamentName:"Error loading data"}))}finally{r(!1),s(!1)}};s(!0),i()},[s]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Overview"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Welcome to the Sports Week Admin Dashboard"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Active Tournaments"}),o.jsx(Mt,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.activeTournamentsCount}),o.jsx("p",{className:"text-xs text-muted-foreground",children:t.activeTournamentName})]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Total Games"}),o.jsx(Sw,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.totalGames}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all tournaments"})]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Registered Players"}),o.jsx(Si,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.registeredPlayers}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total registered users"})]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Scheduled Matches"}),o.jsx(gs,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.scheduledMatches}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"For current tournament"})]})]})]}),o.jsxs(Ee,{children:[o.jsx(Ke,{children:o.jsx(Qe,{children:"Quick Start Guide"})}),o.jsxs(Te,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"1"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Create a Tournament"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Set up Sports Week 2025 with start and end dates"})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"2"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Add Games"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure games like Chess, Cricket, Volleyball, etc."})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"3"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Create Teams"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Build teams and pairs for various games"})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"4"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Schedule Matches"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Create match fixtures with dates, times, and venues"})]})]})]})]})]})},oG=async(t,e)=>{await Id({user_id:t,title:"Game Registration Approved! ",message:`Your registration for "${e.gameName}" in ${e.tournamentName} has been approved. Good luck!`,type:"registration"})},lG=async(t,e)=>{await Id({user_id:t,title:"Game Registration Update",message:`Your registration for "${e.gameName}" in ${e.tournamentName} was not approved. Please contact the admin for more information.`,type:"registration"})},cG={pending:"secondary",approved:"default",rejected:"destructive"},uG=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState(!1),{toast:E}=Yn();p.useEffect(()=>{(async()=>{const[S,P]=await Promise.all([xr(),Xr()]);i(S),f(P)})()},[]),p.useEffect(()=>{if(!t){l([]),u([]);return}(async()=>{g(!0);const[S,P]=await Promise.all([An(t),Ws({tournamentId:t,gameId:n||void 0})]);l(S),u(P),g(!1)})()},[t,n]);const x=p.useMemo(()=>s.find(v=>v.id===t),[s,t]),b=async(v,S)=>{await Gq(v.id,S);const P=a.find(T=>T.id===v.game_id),O=(P==null?void 0:P.name)||"Unknown Game";S==="approved"?(await t2({tournament_id:v.tournament_id,game_id:v.game_id,type:"USER",user_id:v.user_id}),await oG(v.user_id,{tournamentName:(x==null?void 0:x.name)||"Tournament",gameName:O}),console.debug("Participant created/Approved notification sent")):S==="rejected"&&await lG(v.user_id,{tournamentName:(x==null?void 0:x.name)||"Tournament",gameName:O})},w=async(v,S)=>{try{await b(v,S),E({title:`Registration ${S}`,description:S==="approved"?"Player added to participants list.":"Player notified of rejection."});const P=await Ws({tournamentId:v.tournament_id,gameId:n||void 0});u(P)}catch(P){E({title:"Action failed",description:P.message,variant:"destructive"})}},y=async()=>{const v=c.filter(S=>S.status==="pending");if(v.length===0){E({title:"No pending registrations",description:"There are no pending requests to approve."});return}g(!0);try{await Promise.all(v.map(P=>b(P,"approved"))),E({title:"Batch Approval Successful",description:`Approved ${v.length} registrations.`});const S=await Ws({tournamentId:t,gameId:n||void 0});u(S)}catch(S){E({title:"Batch Action failed",description:S.message,variant:"destructive"})}finally{g(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),o.jsxs(vt,{value:t,onValueChange:e,children:[o.jsx(mt,{children:o.jsx(xt,{placeholder:"Select tournament"})}),o.jsx(pt,{children:s.map(v=>o.jsx(ke,{value:v.id,children:v.name},v.id))})]})]}),o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-sm font-medium",children:"Game"}),o.jsxs(vt,{value:n,onValueChange:r,disabled:!t,children:[o.jsx(mt,{children:o.jsx(xt,{placeholder:"All games"})}),o.jsxs(pt,{children:[o.jsx(ke,{value:"all",children:"All games"}),a.map(v=>o.jsx(ke,{value:v.id,children:v.name},v.id))]})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(be,{onClick:y,disabled:m||!t||c.filter(v=>v.status==="pending").length===0,children:[m?o.jsx(xn,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Approve All showing requests"]})}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Qe,{children:"Registrations"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Approve or reject player registrations for the selected tournament."})]}),m&&o.jsx(xn,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),o.jsx(Te,{children:t?c.length===0?o.jsx("p",{className:"text-muted-foreground text-sm",children:"No registrations found."}):o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsx("div",{className:"max-h-[600px] overflow-y-auto overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"sticky top-0 bg-background z-10",children:o.jsxs("tr",{className:"border-b bg-muted/50",children:[o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"User"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Email"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Game"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Status"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Actions"})]})}),o.jsx("tbody",{children:c.map(v=>{const S=h.find(O=>O.id===v.user_id),P=a.find(O=>O.id===v.game_id);return o.jsxs("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[o.jsx("td",{className:"py-3 px-4",children:o.jsx("p",{className:"font-medium",children:(S==null?void 0:S.name)??v.user_id})}),o.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:(S==null?void 0:S.email)??""}),o.jsx("td",{className:"py-3 px-4 text-sm",children:(P==null?void 0:P.name)??"Unknown"}),o.jsx("td",{className:"py-3 px-4",children:o.jsx(gt,{variant:cG[v.status],children:v.status})}),o.jsx("td",{className:"py-3 px-4",children:o.jsx("div",{className:"flex items-center gap-2",children:v.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx(be,{variant:"outline",size:"sm",onClick:()=>w(v,"approved"),children:"Approve"}),o.jsx(be,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>w(v,"rejected"),children:"Reject"})]})})})]},v.id)})})]})})}):o.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view registrations."})})]})]})},dG={pending:"secondary",approved:"default",rejected:"destructive"},hG=()=>{const[t,e]=p.useState(""),[n,r]=p.useState("all"),[s,i]=p.useState("all"),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState([]),[E,x]=p.useState(!1);Yn();const b=S=>{if(!S)return"N/A";let P;if(typeof S=="object"&&S.toDate?P=S.toDate():typeof S=="object"&&S.seconds?P=new Date(S.seconds*1e3):P=new Date(S),isNaN(P.getTime()))return"N/A";const O=String(P.getDate()).padStart(2,"0"),T=String(P.getMonth()+1).padStart(2,"0"),C=P.getFullYear();return`${O}/${T}/${C}`};p.useEffect(()=>{(async()=>{const[P,O]=await Promise.all([xr(),Xr()]);l(P),g(O)})()},[]),p.useEffect(()=>{if(!t){u([]),f([]);return}(async()=>{x(!0);const[P,O]=await Promise.all([An(t),Ws({tournamentId:t,gameId:n&&n!=="all"?n:void 0,status:s!=="all"?s:void 0})]);u(P),f(O),x(!1)})()},[t,n,s]);const w=p.useMemo(()=>h,[h]),y=S=>{const P=m.find(O=>O.id===S);return{name:(P==null?void 0:P.name)??S,email:(P==null?void 0:P.email)??""}},v=S=>{var P;return((P=c.find(O=>O.id===S))==null?void 0:P.name)??"Unknown Game"};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),o.jsxs(vt,{value:t,onValueChange:e,children:[o.jsx(mt,{children:o.jsx(xt,{placeholder:"Select tournament"})}),o.jsx(pt,{children:a.map(S=>o.jsx(ke,{value:S.id,children:S.name},S.id))})]})]}),o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-sm font-medium",children:"Game"}),o.jsxs(vt,{value:n,onValueChange:r,disabled:!t,children:[o.jsx(mt,{children:o.jsx(xt,{placeholder:"All games"})}),o.jsxs(pt,{children:[o.jsx(ke,{value:"all",children:"All games"}),c.map(S=>o.jsx(ke,{value:S.id,children:S.name},S.id))]})]})]}),o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-sm font-medium",children:"Registration Status"}),o.jsxs(vt,{value:s,onValueChange:i,disabled:!t,children:[o.jsx(mt,{children:o.jsx(xt,{placeholder:"All statuses"})}),o.jsxs(pt,{children:[o.jsx(ke,{value:"all",children:"All statuses"}),o.jsx(ke,{value:"approved",children:"Approved only"}),o.jsx(ke,{value:"pending",children:"Pending only"}),o.jsx(ke,{value:"rejected",children:"Rejected only"})]})]})]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Qe,{children:"Participants List"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"View all user registrations with approval status and game details."})]}),E&&o.jsx(xn,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),o.jsx(Te,{children:t?w.length===0?o.jsx("p",{className:"text-muted-foreground text-sm",children:"No registrations found."}):o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"sticky top-0 bg-background z-10",children:o.jsxs("tr",{className:"border-b bg-muted/50",children:[o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"User"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Email"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Game"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Status"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Registered At"})]})}),o.jsx("tbody",{children:w.map(S=>{const P=y(S.user_id);return o.jsxs("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[o.jsx("td",{className:"py-3 px-4",children:o.jsx("p",{className:"font-medium",children:P.name})}),o.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:P.email}),o.jsx("td",{className:"py-3 px-4 text-sm",children:v(S.game_id)}),o.jsx("td",{className:"py-3 px-4",children:o.jsx(gt,{variant:dG[S.status],children:S.status})}),o.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:b(S.created_at)})]},S.id)})})]})})}):o.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view participants."})})]}),t&&w.length>0&&o.jsxs(Ee,{children:[o.jsx(Ke,{children:o.jsx(Qe,{children:"Summary"})}),o.jsx(Te,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Registrations"}),o.jsx("p",{className:"text-2xl font-bold",children:h.length})]}),o.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved"}),o.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:h.filter(S=>S.status==="approved").length})]}),o.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950/20 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),o.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:h.filter(S=>S.status==="pending").length})]}),o.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected"}),o.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:h.filter(S=>S.status==="rejected").length})]})]})})]})]})},fG=()=>{var D;const[t,e]=p.useState([]),[n,r]=p.useState(""),[s,i]=p.useState(""),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState(!1),{setIsLoading:m}=Js(),[g,E]=p.useState(!1),[x,b]=p.useState([]),[w,y]=p.useState([]),[v,S]=p.useState([]),{toast:P}=Yn();p.useEffect(()=>{xr().then(e),Xr().then(b)},[]);const O=p.useMemo(()=>x.reduce((I,k)=>(I[k.id]=k,I),{}),[x]),T=p.useMemo(()=>w.reduce((I,k)=>(I[k.id]=k,I),{}),[w]),C=p.useMemo(()=>v.reduce((I,k)=>(I[k.id]=k,I),{}),[v]),j=I=>{var k,V;return I?I.type==="USER"&&I.user_id?((k=O[I.user_id])==null?void 0:k.name)||"Unknown User":I.type==="TEAM"&&I.team_id?((V=T[I.team_id])==null?void 0:V.name)||`Team ${I.team_id.slice(-4)}`:"Unknown":"Unknown"};p.useEffect(()=>{if(!n){l([]),u([]),i("");return}const I=async()=>{f(!0);try{const[k,V,G]=await Promise.all([An(n),Ui({tournamentId:n}),zc({tournamentId:n})]);u(k),y(V),S(G);const H=await gx(n,s==="ALL"?void 0:s||void 0);l(H)}catch(k){console.error("Error loading data:",k)}finally{f(!1),m(!1)}};n&&m(!0),I()},[n,s,m]);const A=async()=>{if(n){E(!0);try{P({title:"Recalculating Leaderboard",description:"Processing all completed matches..."}),await DH(n);const k=(await Pa({tournamentId:n})).filter(G=>G.status.toUpperCase()==="COMPLETED");for(const G of k){if(!G.winner_participant_id)continue;const H=G.winner_participant_id,q=G.participant_a_id===H?G.participant_b_id:G.participant_a_id,U=C[H],B=q?C[q]:void 0;U&&await ZR({tournamentId:G.tournament_id,gameId:G.game_id,winnerId:H,loserId:q,winnerName:j(U),loserName:B?j(B):void 0,winnerType:U.type,loserType:B==null?void 0:B.type,pointsForWin:3})}const V=await gx(n,s==="ALL"?void 0:s||void 0);l(V),P({title:"Success",description:"Leaderboard has been synchronized with match results."})}catch(I){P({title:"Sync Failed",description:I.message,variant:"destructive"})}finally{E(!1),m(!1)}}};return o.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center justify-between bg-card p-6 rounded-2xl border shadow-sm",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-end flex-1",children:[o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-muted-foreground opacity-70",children:"Tournament"}),o.jsxs(vt,{value:n,onValueChange:r,children:[o.jsx(mt,{className:"bg-muted/30 border-none h-11 font-bold",children:o.jsx(xt,{placeholder:"Select tournament"})}),o.jsx(pt,{children:t.map(I=>o.jsx(ke,{value:I.id,className:"font-medium",children:I.name},I.id))})]})]}),o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-muted-foreground opacity-70",children:"Game Filter"}),o.jsxs(vt,{value:s,onValueChange:i,disabled:!n,children:[o.jsx(mt,{className:"bg-muted/30 border-none h-11 font-bold",children:o.jsx(xt,{placeholder:"Tournament Wide"})}),o.jsxs(pt,{children:[o.jsx(ke,{value:"ALL",className:"font-bold",children:"Total Standings"}),c.map(I=>o.jsx(ke,{value:I.id,children:I.name},I.id))]})]})]})]}),o.jsxs(be,{onClick:A,disabled:!n||g,variant:"outline",className:"h-11 px-6 font-black border-primary/20 hover:bg-primary/5 transition-all gap-2",children:[g?o.jsx(xn,{className:"h-4 w-4 animate-spin"}):o.jsx(kL,{className:"h-4 w-4"}),"SYNC STANDINGS"]})]}),o.jsxs(Ee,{className:"border-none shadow-2xl overflow-hidden bg-gradient-to-b from-card to-card/50",children:[o.jsx(Ke,{className:"border-b bg-muted/10 p-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Qe,{className:"text-2xl font-black flex items-center gap-3",children:[o.jsx(Mt,{className:"h-7 w-7 text-yellow-500"}),"STANDINGS MANAGEMENT"]}),o.jsx(vr,{className:"font-medium",children:s&&s!=="ALL"?`Leaderboard for ${((D=c.find(I=>I.id===s))==null?void 0:D.name)||"Sport"}`:"Overall tournament-wide leaderboard rankings."})]}),h&&o.jsx(xn,{className:"h-6 w-6 animate-spin text-primary"})]})}),o.jsx(Te,{className:"p-0",children:n?a.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-muted-foreground",children:[o.jsx(xL,{className:"h-16 w-16 mb-4 opacity-10"}),o.jsx("p",{className:"text-lg font-bold",children:"No leaderboard data found."}),o.jsx("p",{className:"text-sm",children:"Click 'Sync Standings' to generate from match history."})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left bg-muted/10 border-b",children:[o.jsx("th",{className:"py-5 px-8 text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] w-24",children:"RANK"}),o.jsx("th",{className:"py-5 px-8 text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em]",children:"ENTITY NAME"}),o.jsx("th",{className:"py-5 px-8 text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em]",children:"TYPE"}),o.jsx("th",{className:"py-5 px-8 text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] text-center",children:"WINS"}),o.jsx("th",{className:"py-5 px-8 text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] text-center",children:"LOSSES"}),o.jsx("th",{className:"py-5 px-8 text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] text-right",children:"POINTS"})]})}),o.jsx("tbody",{children:a.map((I,k)=>o.jsxs("tr",{className:"border-b last:border-0 hover:bg-primary/5 transition-all group",children:[o.jsx("td",{className:"py-6 px-8",children:o.jsx("div",{className:ae("w-10 h-10 rounded-full flex items-center justify-center font-black text-sm transition-all",k===0?"bg-yellow-500 text-white shadow-lg shadow-yellow-500/30 scale-110":k===1?"bg-slate-300 text-slate-700":k===2?"bg-orange-300 text-orange-800":"bg-muted text-muted-foreground"),children:I.rank??k+1})}),o.jsxs("td",{className:"py-6 px-8",children:[o.jsx("p",{className:"font-black text-lg group-hover:text-primary transition-colors",children:I.name}),o.jsxs("p",{className:"text-[10px] text-muted-foreground font-bold uppercase tracking-tighter opacity-50",children:["ID: ",I.entity_id]})]}),o.jsx("td",{className:"py-6 px-8",children:o.jsx(gt,{variant:"secondary",className:"font-black text-[10px] px-3 py-1 bg-muted",children:I.entity_type})}),o.jsx("td",{className:"py-6 px-8 text-center",children:o.jsx("span",{className:"text-lg font-bold text-green-600 bg-green-500/10 px-3 py-1 rounded-lg border border-green-500/20",children:I.wins})}),o.jsx("td",{className:"py-6 px-8 text-center",children:o.jsx("span",{className:"text-lg font-bold text-red-500 bg-red-500/10 px-3 py-1 rounded-lg border border-red-500/20",children:I.losses})}),o.jsx("td",{className:"py-6 px-8 text-right",children:o.jsx("span",{className:"text-2xl font-black text-primary",children:I.points})})]},I.id))})]})}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-muted-foreground",children:[o.jsx(jL,{className:"h-16 w-16 mb-4 opacity-10"}),o.jsx("p",{className:"text-lg font-bold",children:"Please select a tournament to view statistics."})]})})]})]})};function mn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ks(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function y_(t,e){const n=mn(t);if(isNaN(e))return Ks(t,NaN);if(!e)return n;const r=n.getDate(),s=Ks(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const K2=6048e5,mG=864e5;let pG={};function ih(){return pG}function Go(t,e){var l,c,u,h;const n=ih(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=mn(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Pm(t){return Go(t,{weekStartsOn:1})}function Q2(t){const e=mn(t),n=e.getFullYear(),r=Ks(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Pm(r),i=Ks(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Pm(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Am(t){const e=mn(t);return e.setHours(0,0,0,0),e}function QT(t){const e=mn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function gG(t,e){const n=Am(t),r=Am(e),s=+n-QT(n),i=+r-QT(r);return Math.round((s-i)/mG)}function yG(t){const e=Q2(t),n=Ks(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Pm(n)}function vG(t){return Ks(t,Date.now())}function kd(t,e){const n=Am(t),r=Am(e);return+n==+r}function xG(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Wu(t){if(!xG(t)&&typeof t!="number")return!1;const e=mn(t);return!isNaN(Number(e))}function Y2(t){const e=mn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function X2(t,e){const n=mn(t.start),r=mn(t.end);let s=+n>+r;const i=s?+n:+r,a=s?r:n;a.setHours(0,0,0,0);let l=1;const c=[];for(;+a<=i;)c.push(mn(a)),a.setDate(a.getDate()+l),a.setHours(0,0,0,0);return s?c.reverse():c}function Z2(t){const e=mn(t);return e.setDate(1),e.setHours(0,0,0,0),e}function wG(t){const e=mn(t),n=Ks(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function J2(t,e){var l,c;const n=ih(),r=n.weekStartsOn??((c=(l=n.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,s=mn(t),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}const _G={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bG=(t,e,n)=>{let r;const s=_G[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Sy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const EG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},TG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},SG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},NG={date:Sy({formats:EG,defaultWidth:"full"}),time:Sy({formats:TG,defaultWidth:"full"}),dateTime:Sy({formats:SG,defaultWidth:"full"})},CG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IG=(t,e,n,r)=>CG[t];function du(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const kG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},PG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},RG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},OG=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},MG={ordinalNumber:OG,era:du({values:kG,defaultWidth:"wide"}),quarter:du({values:jG,defaultWidth:"wide",argumentCallback:t=>t-1}),month:du({values:PG,defaultWidth:"wide"}),day:du({values:AG,defaultWidth:"wide"}),dayPeriod:du({values:RG,defaultWidth:"wide",formattingValues:DG,defaultFormattingWidth:"wide"})};function hu(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?VG(l,f=>f.test(a)):LG(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(a.length);return{value:u,rest:h}}}function LG(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function VG(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function FG(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const UG=/^(\d+)(th|st|nd|rd)?/i,$G=/\d+/i,BG={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zG={any:[/^b/i,/^(a|c)/i]},WG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HG={any:[/1/i,/2/i,/3/i,/4/i]},qG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},GG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},QG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},YG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},XG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ZG={ordinalNumber:FG({matchPattern:UG,parsePattern:$G,valueCallback:t=>parseInt(t,10)}),era:hu({matchPatterns:BG,defaultMatchWidth:"wide",parsePatterns:zG,defaultParseWidth:"any"}),quarter:hu({matchPatterns:WG,defaultMatchWidth:"wide",parsePatterns:HG,defaultParseWidth:"any",valueCallback:t=>t+1}),month:hu({matchPatterns:qG,defaultMatchWidth:"wide",parsePatterns:GG,defaultParseWidth:"any"}),day:hu({matchPatterns:KG,defaultMatchWidth:"wide",parsePatterns:QG,defaultParseWidth:"any"}),dayPeriod:hu({matchPatterns:YG,defaultMatchWidth:"any",parsePatterns:XG,defaultParseWidth:"any"})},JG={code:"en-US",formatDistance:bG,formatLong:NG,formatRelative:IG,localize:MG,match:ZG,options:{weekStartsOn:0,firstWeekContainsDate:1}};function eK(t){const e=mn(t);return gG(e,wG(e))+1}function tK(t){const e=mn(t),n=+Pm(e)-+yG(e);return Math.round(n/K2)+1}function eD(t,e){var h,f,m,g;const n=mn(t),r=n.getFullYear(),s=ih(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,a=Ks(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=Go(a,e),c=Ks(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Go(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function nK(t,e){var l,c,u,h;const n=ih(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=eD(t,e),i=Ks(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Go(i,e)}function rK(t,e){const n=mn(t),r=+Go(n,e)-+nK(n,e);return Math.round(r/K2)+1}function Et(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Qi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Et(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Et(n+1,2)},d(t,e){return Et(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Et(t.getHours()%12||12,e.length)},H(t,e){return Et(t.getHours(),e.length)},m(t,e){return Et(t.getMinutes(),e.length)},s(t,e){return Et(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Et(s,e.length)}},fl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YT={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Qi.y(t,e)},Y:function(t,e,n,r){const s=eD(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return Et(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Et(i,e.length)},R:function(t,e){const n=Q2(t);return Et(n,e.length)},u:function(t,e){const n=t.getFullYear();return Et(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Et(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Et(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Qi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Et(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=rK(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Et(s,e.length)},I:function(t,e,n){const r=tK(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Et(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Qi.d(t,e)},D:function(t,e,n){const r=eK(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Et(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Et(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Et(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Et(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=fl.noon:r===0?s=fl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=fl.evening:r>=12?s=fl.afternoon:r>=4?s=fl.morning:s=fl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Qi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Qi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Qi.s(t,e)},S:function(t,e){return Qi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return ZT(r);case"XXXX":case"XX":return go(r);case"XXXXX":case"XXX":default:return go(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return ZT(r);case"xxxx":case"xx":return go(r);case"xxxxx":case"xxx":default:return go(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+XT(r,":");case"OOOO":default:return"GMT"+go(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+XT(r,":");case"zzzz":default:return"GMT"+go(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Et(r,e.length)},T:function(t,e,n){const r=t.getTime();return Et(r,e.length)}};function XT(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Et(i,2)}function ZT(t,e){return t%60===0?(t>0?"-":"+")+Et(Math.abs(t)/60,2):go(t,e)}function go(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Et(Math.trunc(r/60),2),i=Et(r%60,2);return n+s+e+i}const JT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},tD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},sK=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return JT(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",JT(r,e)).replace("{{time}}",tD(s,e))},iK={p:tD,P:sK},aK=/^D+$/,oK=/^Y+$/,lK=["D","DD","YY","YYYY"];function cK(t){return aK.test(t)}function uK(t){return oK.test(t)}function dK(t,e,n){const r=hK(t,e,n);if(console.warn(r),lK.includes(t))throw new RangeError(r)}function hK(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pK=/^'([^]*?)'?$/,gK=/''/g,yK=/[a-zA-Z]/;function Vr(t,e,n){var h,f,m,g;const r=ih(),s=r.locale??JG,i=r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,l=mn(t);if(!Wu(l))throw new RangeError("Invalid time value");let c=e.match(mK).map(E=>{const x=E[0];if(x==="p"||x==="P"){const b=iK[x];return b(E,s.formatLong)}return E}).join("").match(fK).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const x=E[0];if(x==="'")return{isToken:!1,value:vK(E)};if(YT[x])return{isToken:!0,value:E};if(x.match(yK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:E}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(E=>{if(!E.isToken)return E.value;const x=E.value;(uK(x)||cK(x))&&dK(x,e,String(t));const b=YT[x[0]];return b(l,x,s.localize,u)}).join("")}function vK(t){const e=t.match(pK);return e?e[1].replace(gK,"'"):t}function nD(t,e){const n=mn(t),r=mn(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Rm(t){return kd(t,vG(t))}function rD(t,e){return y_(t,-e)}const xK=()=>{const[t,e]=p.useState(new Date),[n,r]=p.useState(null),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState([]),[E,x]=p.useState([]),[b,w]=p.useState([]),[y,v]=p.useState(!0),[S,P]=p.useState(!1),{toast:O}=Yn(),[T,C]=p.useState(""),[j,A]=p.useState(""),[D,I]=p.useState(""),[k,V]=p.useState(""),[G,H]=p.useState(""),[q,U]=p.useState(""),[B,$]=p.useState(!1);p.useEffect(()=>{X(),xe()},[]),p.useEffect(()=>{T?le(T):(u([]),A(""))},[T]),p.useEffect(()=>{T&&j?de(T,j):(g([]),w([]),I(""),V(""))},[T,j]);const X=async()=>{try{const[F,Y,ce]=await Promise.all([xr(),An(),Xr()]);l(F),f(Y),x(ce)}catch(F){console.error("Error loading initial data:",F)}},le=async F=>{try{const Y=await An(F);u(Y)}catch(Y){console.error("Error loading games:",Y)}},de=async(F,Y)=>{try{const[ce,ze]=await Promise.all([Ui({tournamentId:F,gameId:Y}),zc({tournamentId:F,gameId:Y})]);g(ce),w(ze)}catch(ce){console.error("Error loading participants/teams:",ce)}},xe=async()=>{v(!0);try{const F=await xr();if(F.length===0)i([]);else{const Y=await Promise.all(F.map(ce=>Pa({tournamentId:ce.id})));i(Y.flat())}}catch(F){console.error("Error loading matches:",F)}finally{v(!1)}},Ce=async()=>{if(!n||!T||!j||!D||!k||!G){O({title:"Please fill all fields",variant:"destructive"});return}if(D===k){O({title:"Participants must be different",variant:"destructive"});return}$(!0);try{const[F,Y]=G.split(":").map(Number),ce=new Date(n);ce.setHours(F,Y);const ze={tournament_id:T,game_id:j,participant_a_id:D,participant_b_id:k,match_time:ce.toISOString(),status:"SCHEDULED",venue:q,round_index:0,round_name:"Scheduled Match",match_order:0};await OH(ze),O({title:"Match scheduled successfully"}),P(!1),xe(),st();const tt=b.find(Ct=>Ct.id===D),Lt=b.find(Ct=>Ct.id===k),_n=c.find(Ct=>Ct.id===j),It=async Ct=>{await Id({user_id:Ct,title:"New Match Scheduled",message:`A new match for ${(_n==null?void 0:_n.name)||"your game"} has been scheduled at ${Vr(ce,"PPp")}.`,type:"MATCH_SCHEDULED",payload:{match_id:"new",game_id:j}})},qt=async Ct=>{if(Ct){if(Ct.type==="USER"&&Ct.user_id)await It(Ct.user_id);else if(Ct.type==="TEAM"&&Ct.team_id){const pn=m.find(Rr=>Rr.id===Ct.team_id);if(pn!=null&&pn.player_ids)for(const Rr of pn.player_ids)await It(Rr)}}};await Promise.all([qt(tt),qt(Lt)])}catch(F){O({title:"Error scheduling match",description:F.message,variant:"destructive"})}finally{$(!1)}},st=()=>{I(""),V(""),H(""),U("")},ie=F=>s.filter(Y=>{var ze;if(!Y.match_time)return!1;const ce=(ze=Y.match_time)!=null&&ze.toDate?Y.match_time.toDate():new Date(Y.match_time);return Wu(ce)?kd(ce,F):!1}),He=p.useMemo(()=>h.reduce((F,Y)=>(F[Y.id]=Y,F),{}),[h]),it=p.useMemo(()=>E.reduce((F,Y)=>(F[Y.id]=Y,F),{}),[E]),Re=p.useMemo(()=>m.reduce((F,Y)=>(F[Y.id]=Y,F),{}),[m]),Pe=F=>{var Y,ce;return F.type==="USER"&&F.user_id?((Y=it[F.user_id])==null?void 0:Y.name)||"Unknown User":F.type==="TEAM"&&F.team_id?((ce=Re[F.team_id])==null?void 0:ce.name)||"Unknown Team":"Unknown"},Ae=Z2(t),Nt=Y2(Ae),ge=Go(Ae),we=J2(Nt),et=X2({start:ge,end:we}),ut=[];for(let F=0;F<et.length;F+=7)ut.push(et.slice(F,F+7));const At=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Be=c.find(F=>F.id===j),L=(Be==null?void 0:Be.game_type)==="SINGLE",z=L?"Player":"Team",M=p.useMemo(()=>b.filter(F=>L?F.type==="USER":F.type==="TEAM"),[b,L]),Q=p.useMemo(()=>{if(!j)return new Set;const F=new Set;return s.filter(Y=>{var ce;return Y.game_id===j&&((ce=Y.status)==null?void 0:ce.toUpperCase())==="COMPLETED"}).forEach(Y=>{const ce=Y.participant_a_id===Y.winner_participant_id?Y.participant_b_id:Y.participant_a_id;if(ce){const ze=b.find(tt=>tt.id===ce);if(ze){if(ze.type==="USER"&&ze.user_id)F.add(ze.user_id);else if(ze.type==="TEAM"&&ze.team_id){const tt=m.find(Lt=>Lt.id===ze.team_id);tt!=null&&tt.player_ids&&tt.player_ids.forEach(Lt=>F.add(Lt))}}}}),F},[s,j,b,m]),Z=p.useMemo(()=>{if(!j)return new Set;const F=new Set;return b.forEach(Y=>{var ce;if(Y.type==="USER"&&Y.user_id&&Q.has(Y.user_id))F.add(Y.id);else if(Y.type==="TEAM"&&Y.team_id){const ze=m.find(tt=>tt.id===Y.team_id);(ce=ze==null?void 0:ze.player_ids)!=null&&ce.some(tt=>Q.has(tt))&&F.add(Y.id)}}),F},[b,m,Q]),re=p.useMemo(()=>{if(!j)return new Set;const F=new Set;return s.filter(Y=>{var ce;return Y.game_id===j&&((ce=Y.status)==null?void 0:ce.toUpperCase())==="SCHEDULED"}).forEach(Y=>{Y.participant_a_id&&F.add(Y.participant_a_id),Y.participant_b_id&&F.add(Y.participant_b_id)}),F},[s,j]);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Matches Schedule"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage and view match schedules"})]})}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-semibold",children:Vr(t,"MMMM yyyy")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(be,{variant:"outline",size:"icon",onClick:()=>e(rD(t,1)),children:o.jsx(jI,{className:"h-4 w-4"})}),o.jsx(be,{variant:"outline",size:"icon",onClick:()=>e(y_(t,1)),children:o.jsx(PI,{className:"h-4 w-4"})})]})]}),o.jsx(Ee,{children:o.jsxs(Te,{className:"p-0",children:[o.jsx("div",{className:"grid grid-cols-7 border-b",children:At.map(F=>o.jsx("div",{className:"p-4 text-center font-medium text-sm text-muted-foreground border-r last:border-r-0",children:F},F))}),ut.map((F,Y)=>o.jsx("div",{className:"grid grid-cols-7 border-b last:border-b-0",children:F.map((ce,ze)=>{const tt=ie(ce),Lt=n&&kd(ce,n),_n=nD(ce,t);return o.jsxs("div",{className:`min-h-[120px] p-2 border-r last:border-r-0 transition-colors cursor-pointer hover:bg-muted/50
                                            ${_n?"":"bg-muted/10 text-muted-foreground"}
                                            ${Lt?"bg-primary/5 ring-1 ring-inset ring-primary":""}
                                            ${Rm(ce)?"bg-accent/50":""}
                                        `,onClick:()=>{r(ce),P(!0)},children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("span",{className:`text-sm font-medium h-7 w-7 flex items-center justify-center rounded-full
                                                ${Rm(ce)?"bg-primary text-primary-foreground":""}
                                            `,children:Vr(ce,"d")}),tt.length>0&&o.jsx("span",{className:"text-xs font-bold text-primary bg-primary/10 px-1.5 py-0.5 rounded-full",children:tt.length})]}),o.jsxs("div",{className:"space-y-1",children:[tt.slice(0,3).map(It=>{var pn,Rr;const qt=(pn=It.match_time)!=null&&pn.toDate?It.match_time.toDate():new Date(It.match_time),Ct=((Rr=He[It.game_id])==null?void 0:Rr.name)||"Unknown Game";return Wu(qt)?o.jsxs("div",{className:"text-xs p-1 rounded bg-secondary truncate",children:[Vr(qt,"HH:mm")," - ",Ct]},It.id):null}),tt.length>3&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["+ ",tt.length-3," more"]})]})]},ze)})},Y))]})}),o.jsx(xi,{open:S,onOpenChange:P,children:o.jsxs($s,{className:"max-w-2xl",children:[o.jsx(Bs,{children:o.jsxs(zs,{children:["Schedule for ",n?Vr(n,"MMMM d, yyyy"):""]})}),o.jsxs("div",{className:"grid gap-6 py-4",children:[n&&ie(n).length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase",children:"Scheduled Matches"}),ie(n).map(F=>{var tt,Lt;const Y=(tt=F.match_time)!=null&&tt.toDate?F.match_time.toDate():new Date(F.match_time),ce=Wu(Y)?Vr(Y,"HH:mm"):"TBD",ze=((Lt=He[F.game_id])==null?void 0:Lt.name)||"Unknown Game";return o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Jo,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:ce}),o.jsx("span",{className:"font-medium",children:ze})]}),F.venue&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx(lp,{className:"h-3 w-3"}),F.venue]})]},F.id)})]}),o.jsxs("div",{className:"space-y-4 border-t pt-4",children:[o.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[o.jsx(ud,{className:"h-4 w-4"})," Schedule New Match"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{children:"Tournament"}),o.jsxs(vt,{value:T,onValueChange:C,children:[o.jsx(mt,{children:o.jsx(xt,{placeholder:"Select tournament"})}),o.jsx(pt,{children:a.map(F=>o.jsx(ke,{value:F.id,children:F.name},F.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{children:"Game"}),o.jsxs(vt,{value:j,onValueChange:A,disabled:!T,children:[o.jsx(mt,{children:o.jsx(xt,{placeholder:"Select game"})}),o.jsx(pt,{children:c.map(F=>o.jsx(ke,{value:F.id,children:F.name},F.id))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ve,{children:[z," A"]}),o.jsxs(vt,{value:D,onValueChange:I,disabled:!j,children:[o.jsx(mt,{children:o.jsx(xt,{placeholder:`Select ${z.toLowerCase()}`})}),o.jsx(pt,{children:M.map(F=>{const Y=re.has(F.id),ce=Z.has(F.id);return o.jsxs(ke,{value:F.id,disabled:Y||ce,children:[Pe(F),Y&&" (Already Scheduled)",ce&&" (Eliminated)"]},F.id)})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ve,{children:[z," B"]}),o.jsxs(vt,{value:k,onValueChange:V,disabled:!j,children:[o.jsx(mt,{children:o.jsx(xt,{placeholder:`Select ${z.toLowerCase()}`})}),o.jsx(pt,{children:M.filter(F=>F.id!==D).map(F=>{const Y=re.has(F.id),ce=Z.has(F.id);return o.jsxs(ke,{value:F.id,disabled:Y||ce,children:[Pe(F),Y&&" (Already Scheduled)",ce&&" (Eliminated)"]},F.id)})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{children:"Time"}),o.jsx(yt,{type:"time",value:G,onChange:F=>H(F.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{children:"Location"}),o.jsx(yt,{placeholder:"Court 1, Field A, etc.",value:q,onChange:F=>U(F.target.value)})]})]}),o.jsxs(be,{onClick:Ce,disabled:B||!G||!D||!k,className:"w-full",children:[B?o.jsx(xn,{className:"h-4 w-4 animate-spin mr-2"}):null,"Schedule Match"]})]})]})]})})]})},wK=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState(null),[a,l]=p.useState(""),[c,u]=p.useState(null),{isAdmin:h}=Xn();p.useEffect(()=>{f()},[]);const f=async()=>{try{r(!0),i(null);const b=await UH();e(b)}catch(b){console.error("Error loading users:",b),i("Failed to load users. Please try again.")}finally{r(!1)}},m=async(b,w)=>{try{u(b),i(null),await $H(b,[w]),e(y=>y.map(v=>v.id===b?{...v,roles:[w]}:v))}catch(y){console.error("Error updating user role:",y),i("Failed to update user role. Please try again.")}finally{u(null)}},g=t.filter(b=>{var w,y,v;return((w=b.name)==null?void 0:w.toLowerCase().includes(a.toLowerCase()))||((y=b.email)==null?void 0:y.toLowerCase().includes(a.toLowerCase()))||((v=b.department)==null?void 0:v.toLowerCase().includes(a.toLowerCase()))}),E=b=>b.includes("admin")?"role-badge admin":"role-badge player",x=b=>b.includes("admin")?"Admin":"Player";return h?o.jsxs("div",{className:"users-management",children:[o.jsxs("div",{className:"users-header",children:[o.jsxs("div",{className:"header-content",children:[o.jsx("h1",{children:"Users Management"}),o.jsx("p",{className:"subtitle",children:"Manage user roles and permissions"})]}),o.jsxs("div",{className:"header-stats",children:[o.jsxs("div",{className:"stat-card",children:[o.jsx("span",{className:"stat-value",children:t.length}),o.jsx("span",{className:"stat-label",children:"Total Users"})]}),o.jsxs("div",{className:"stat-card",children:[o.jsx("span",{className:"stat-value",children:t.filter(b=>b.roles.includes("admin")).length}),o.jsx("span",{className:"stat-label",children:"Admins"})]}),o.jsxs("div",{className:"stat-card",children:[o.jsx("span",{className:"stat-value",children:t.filter(b=>b.roles.includes("player")).length}),o.jsx("span",{className:"stat-label",children:"Players"})]})]})]}),o.jsxs("div",{className:"users-controls",children:[o.jsxs("div",{className:"search-box",children:[o.jsxs("svg",{className:"search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("circle",{cx:"11",cy:"11",r:"8"}),o.jsx("path",{d:"m21 21-4.35-4.35"})]}),o.jsx("input",{type:"text",placeholder:"Search by name, email, or department...",value:a,onChange:b=>l(b.target.value),className:"search-input"})]}),o.jsxs("button",{onClick:f,className:"refresh-btn",disabled:n,children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"})}),"Refresh"]})]}),s&&o.jsxs("div",{className:"error-banner",children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),s]}),n?o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Loading users..."})]}):o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"users-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Name"}),o.jsx("th",{children:"Email"}),o.jsx("th",{children:"Phone"}),o.jsx("th",{children:"Department"}),o.jsx("th",{children:"Gender"}),o.jsx("th",{children:"Current Role"}),o.jsx("th",{children:"Change Role"})]})}),o.jsx("tbody",{children:g.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"no-data",children:a?"No users found matching your search.":"No users available."})}):g.map(b=>{var w;return o.jsxs("tr",{children:[o.jsx("td",{className:"user-name",children:o.jsxs("div",{className:"name-cell",children:[o.jsx("div",{className:"avatar",children:((w=b.name)==null?void 0:w.charAt(0).toUpperCase())||"U"}),o.jsx("span",{children:b.name||"N/A"})]})}),o.jsx("td",{children:b.email||"N/A"}),o.jsx("td",{children:b.phone||"N/A"}),o.jsx("td",{children:b.department||"N/A"}),o.jsx("td",{className:"gender-cell",children:b.gender?o.jsx("span",{className:"gender-badge",children:b.gender}):"N/A"}),o.jsx("td",{children:o.jsx("span",{className:E(b.roles),children:x(b.roles)})}),o.jsx("td",{children:o.jsxs("div",{className:"role-selector",children:[o.jsxs("select",{value:b.roles.includes("admin")?"admin":"player",onChange:y=>m(b.id,y.target.value),disabled:c===b.id,className:"role-select",children:[o.jsx("option",{value:"player",children:"Player"}),o.jsx("option",{value:"admin",children:"Admin"})]}),c===b.id&&o.jsx("div",{className:"updating-indicator",children:o.jsx("div",{className:"mini-spinner"})})]})})]},b.id)})})]})})]}):o.jsx("div",{className:"users-management",children:o.jsxs("div",{className:"error-message",children:[o.jsx("h2",{children:"Access Denied"}),o.jsx("p",{children:"You don't have permission to access this page."})]})})},_K=()=>{const{loading:t,isAdmin:e}=Xn();return p.useEffect(()=>{const n=document.body,r=n.style.paddingTop;return n.style.paddingTop="0",()=>{n.style.paddingTop=r}},[]),t?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading..."})}):e?o.jsx(i_,{children:o.jsxs("div",{className:"min-h-screen flex w-full bg-muted/30",children:[o.jsx(Fq,{}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx(Uq,{}),o.jsx("main",{className:"flex-1 p-6",children:o.jsxs(Gw,{children:[o.jsx(Pt,{path:"/",element:o.jsx(aG,{})}),o.jsx(Pt,{path:"/registrations",element:o.jsx(uG,{})}),o.jsx(Pt,{path:"/participants",element:o.jsx(hG,{})}),o.jsx(Pt,{path:"/tournaments",element:o.jsx(iG,{})}),o.jsx(Pt,{path:"/games",element:o.jsx($q,{})}),o.jsx(Pt,{path:"/teams",element:o.jsx(Kq,{})}),o.jsx(Pt,{path:"/matches",element:o.jsx(Jq,{})}),o.jsx(Pt,{path:"/leaderboard",element:o.jsx(fG,{})}),o.jsx(Pt,{path:"/users",element:o.jsx(wK,{})}),o.jsx(Pt,{path:"/schedule",element:o.jsx(xK,{})})]})})]})]})}):o.jsx(Dv,{to:"/",replace:!0})},bK=[{title:"Dashboard",url:"/dashboard",icon:EL},{title:"Register for Games",url:"/dashboard/register",icon:Sw},{title:"My Games",url:"/dashboard/my-games",icon:SL},{title:"Notifications",url:"/dashboard/notifications",icon:Lu},{title:"My Tournaments",url:"/dashboard/tournaments",icon:Mt},{title:"My Matches",url:"/dashboard/matches",icon:Cw},{title:"Schedule",url:"/dashboard/schedule",icon:gs},{title:"Profile",url:"/dashboard/profile",icon:DI}];function EK(){const t=Xs();return o.jsx(a_,{collapsible:"icon",children:o.jsx(l_,{children:o.jsxs(c_,{children:[o.jsx(u_,{children:"Player Panel"}),o.jsx(d_,{children:o.jsx(h_,{children:bK.map(e=>o.jsx(f_,{children:o.jsx(m_,{asChild:!0,isActive:t.pathname===e.url,tooltip:e.title,children:o.jsxs(Rt,{to:e.url,children:[o.jsx(e.icon,{className:"h-4 w-4"}),o.jsx("span",{children:e.title})]})})},e.title))})})]})})})}function TK(){const{signOut:t,user:e}=Xn(),[n,r]=p.useState(""),[s,i]=p.useState(0);return p.useEffect(()=>{(async()=>{if(e!=null&&e.uid)try{const l=await zo(Tt(qe,"profiles",e.uid));if(l.exists()){const c=l.data();r(c.name||e.displayName||e.email||"")}else r(e.displayName||e.email||"")}catch(l){console.error("Error fetching profile:",l),r(e.displayName||e.email||"")}})()},[e]),p.useEffect(()=>{const a=async()=>{if(e!=null&&e.uid)try{const u=(await U2(e.uid)).filter(h=>!h.is_read).length;i(u)}catch(c){console.error("Error loading notifications:",c)}};a();const l=setInterval(a,3e4);return()=>clearInterval(l)},[e]),o.jsxs("header",{className:"sticky top-0 z-50 h-16 border-b bg-card flex items-center justify-between px-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(o_,{}),o.jsxs(Rt,{to:"/dashboard",className:"flex items-center gap-2",children:[o.jsx(DI,{className:"h-6 w-6 text-primary"}),o.jsx("span",{className:"text-lg font-bold",children:"Player Dashboard"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Rt,{to:"/dashboard/notifications",children:o.jsxs(be,{variant:"ghost",size:"icon",className:"relative",children:[o.jsx(Lu,{className:"h-5 w-5"}),s>0&&o.jsx(gt,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:s>9?"9+":s})]})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:n}),o.jsxs(be,{variant:"outline",size:"sm",onClick:t,children:[o.jsx(em,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}var ah=t=>t.type==="checkbox",bo=t=>t instanceof Date,er=t=>t==null;const sD=t=>typeof t=="object";var ln=t=>!er(t)&&!Array.isArray(t)&&sD(t)&&!bo(t),iD=t=>ln(t)&&t.target?ah(t.target)?t.target.checked:t.target.value:t,SK=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,aD=(t,e)=>t.has(SK(e)),NK=t=>{const e=t.constructor&&t.constructor.prototype;return ln(e)&&e.hasOwnProperty("isPrototypeOf")},v_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(v_&&(t instanceof Blob||r))&&(n||ln(t)))if(e=n?[]:{},!n&&!NK(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=gn(t[s]));else return t;return e}var og=t=>/^\w*$/.test(t),sn=t=>t===void 0,x_=t=>Array.isArray(t)?t.filter(Boolean):[],w_=t=>x_(t.replace(/["|']|\]/g,"").split(/\.|\[/)),he=(t,e,n)=>{if(!e||!ln(t))return n;const r=(og(e)?[e]:w_(e)).reduce((s,i)=>er(s)?s:s[i],t);return sn(r)||r===t?sn(t[e])?n:t[e]:r},br=t=>typeof t=="boolean",bt=(t,e,n)=>{let r=-1;const s=og(e)?[e]:w_(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==a){const u=t[l];c=ln(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Dm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},si={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},oD=J.createContext(null);oD.displayName="HookFormContext";const __=()=>J.useContext(oD);var lD=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==cs.all&&(e._proxyFormState[a]=!r||cs.all),n&&(n[a]=!0),t[a]}});return s};const b_=typeof window<"u"?J.useLayoutEffect:J.useEffect;function CK(t){const e=__(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,l]=J.useState(n._formState),c=J.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return b_(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),J.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),J.useMemo(()=>lD(a,n,c.current,!1),[a,n])}var As=t=>typeof t=="string",cD=(t,e,n,r,s)=>As(t)?(r&&e.watch.add(t),he(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),he(n,i))):(r&&(e.watchAll=!0),n),xx=t=>er(t)||!sD(t);function ui(t,e,n=new WeakSet){if(xx(t)||xx(e))return t===e;if(bo(t)&&bo(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(bo(a)&&bo(l)||ln(a)&&ln(l)||Array.isArray(a)&&Array.isArray(l)?!ui(a,l,n):a!==l)return!1}}return!0}function IK(t){const e=__(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a,compute:l}=t||{},c=J.useRef(s),u=J.useRef(l),h=J.useRef(void 0);u.current=l;const f=J.useMemo(()=>n._getWatch(r,c.current),[n,r]),[m,g]=J.useState(u.current?u.current(f):f);return b_(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:E=>{if(!i){const x=cD(r,n._names,E.values||n._formValues,!1,c.current);if(u.current){const b=u.current(x);ui(b,h.current)||(g(b),h.current=b)}else g(x)}}}),[n,i,r,a]),J.useEffect(()=>n._removeUnmounted()),m}function kK(t){const e=__(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:a}=t,l=aD(s._names.array,n),c=J.useMemo(()=>he(s._formValues,n,he(s._defaultValues,n,a)),[s,n,a]),u=IK({control:s,name:n,defaultValue:c,exact:!0}),h=CK({control:s,name:n,exact:!0}),f=J.useRef(t),m=J.useRef(s.register(n,{...t.rules,value:u,...br(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const g=J.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!he(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!he(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!he(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!he(h.validatingFields,n)},error:{enumerable:!0,get:()=>he(h.errors,n)}}),[h,n]),E=J.useCallback(y=>m.current.onChange({target:{value:iD(y),name:n},type:Dm.CHANGE}),[n]),x=J.useCallback(()=>m.current.onBlur({target:{value:he(s._formValues,n),name:n},type:Dm.BLUR}),[n,s._formValues]),b=J.useCallback(y=>{const v=he(s._fields,n);v&&y&&(v._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:S=>y.setCustomValidity(S),reportValidity:()=>y.reportValidity()})},[s._fields,n]),w=J.useMemo(()=>({name:n,value:u,...br(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:E,onBlur:x,ref:b}),[n,r,h.disabled,E,x,b,u]);return J.useEffect(()=>{const y=s._options.shouldUnregister||i;s.register(n,{...f.current.rules,...br(f.current.disabled)?{disabled:f.current.disabled}:{}});const v=(S,P)=>{const O=he(s._fields,S);O&&O._f&&(O._f.mount=P)};if(v(n,!0),y){const S=gn(he(s._options.defaultValues,n));bt(s._defaultValues,n,S),sn(he(s._formValues,n))&&bt(s._formValues,n,S)}return!l&&s.register(n),()=>{(l?y&&!s._state.action:y)?s.unregister(n):v(n,!1)}},[n,s,l,i]),J.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),J.useMemo(()=>({field:w,formState:h,fieldState:g}),[w,h,g])}const jK=t=>t.render(kK(t));var uD=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Hu=t=>Array.isArray(t)?t:[t],eS=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},lr=t=>ln(t)&&!Object.keys(t).length,E_=t=>t.type==="file",us=t=>typeof t=="function",Om=t=>{if(!v_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},dD=t=>t.type==="select-multiple",T_=t=>t.type==="radio",PK=t=>T_(t)||ah(t),Ny=t=>Om(t)&&t.isConnected;function AK(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=sn(t)?r++:t[e[r++]];return t}function RK(t){for(const e in t)if(t.hasOwnProperty(e)&&!sn(t[e]))return!1;return!0}function cn(t,e){const n=Array.isArray(e)?e:og(e)?[e]:w_(e),r=n.length===1?t:AK(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(ln(r)&&lr(r)||Array.isArray(r)&&RK(r))&&cn(t,n.slice(0,-1)),t}var hD=t=>{for(const e in t)if(us(t[e]))return!0;return!1};function Mm(t,e={}){const n=Array.isArray(t);if(ln(t)||n)for(const r in t)Array.isArray(t[r])||ln(t[r])&&!hD(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Mm(t[r],e[r])):er(t[r])||(e[r]=!0);return e}function fD(t,e,n){const r=Array.isArray(t);if(ln(t)||r)for(const s in t)Array.isArray(t[s])||ln(t[s])&&!hD(t[s])?sn(e)||xx(n[s])?n[s]=Array.isArray(t[s])?Mm(t[s],[]):{...Mm(t[s])}:fD(t[s],er(e)?{}:e[s],n[s]):n[s]=!ui(t[s],e[s]);return n}var fu=(t,e)=>fD(t,e,Mm(e));const tS={value:!1,isValid:!1},nS={value:!0,isValid:!0};var mD=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!sn(t[0].attributes.value)?sn(t[0].value)||t[0].value===""?nS:{value:t[0].value,isValid:!0}:nS:tS}return tS},pD=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>sn(t)?t:e?t===""?NaN:t&&+t:n&&As(t)?new Date(t):r?r(t):t;const rS={isValid:!1,value:null};var gD=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,rS):rS;function sS(t){const e=t.ref;return E_(e)?e.files:T_(e)?gD(t.refs).value:dD(e)?[...e.selectedOptions].map(({value:n})=>n):ah(e)?mD(t.refs).value:pD(sn(e.value)?t.ref.value:e.value,t)}var DK=(t,e,n,r)=>{const s={};for(const i of t){const a=he(e,i);a&&bt(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Lm=t=>t instanceof RegExp,mu=t=>sn(t)?t:Lm(t)?t.source:ln(t)?Lm(t.value)?t.value.source:t.value:t,iS=t=>({isOnSubmit:!t||t===cs.onSubmit,isOnBlur:t===cs.onBlur,isOnChange:t===cs.onChange,isOnAll:t===cs.all,isOnTouch:t===cs.onTouched});const aS="AsyncFunction";var OK=t=>!!t&&!!t.validate&&!!(us(t.validate)&&t.validate.constructor.name===aS||ln(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===aS)),MK=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),oS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const qu=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=he(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(qu(l,e))break}else if(ln(l)&&qu(l,e))break}}};function lS(t,e,n){const r=he(t,n);if(r||og(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=he(e,i),l=he(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var LK=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return lr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||cs.all))},VK=(t,e,n)=>!t||!e||t===e||Hu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),FK=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,UK=(t,e)=>!x_(he(t,e)).length&&cn(t,e),$K=(t,e,n)=>{const r=Hu(he(t,n));return bt(r,"root",e[n]),bt(t,n,r),t},kf=t=>As(t);function cS(t,e,n="validate"){if(kf(t)||Array.isArray(t)&&t.every(kf)||br(t)&&!t)return{type:n,message:kf(t)?t:"",ref:e}}var ml=t=>ln(t)&&!Lm(t)?t:{value:t,message:""},uS=async(t,e,n,r,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:h,min:f,max:m,pattern:g,validate:E,name:x,valueAsNumber:b,mount:w}=t._f,y=he(n,x);if(!w||e.has(x))return{};const v=l?l[0]:a,S=I=>{s&&v.reportValidity&&(v.setCustomValidity(br(I)?"":I||""),v.reportValidity())},P={},O=T_(a),T=ah(a),C=O||T,j=(b||E_(a))&&sn(a.value)&&sn(y)||Om(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,A=uD.bind(null,x,r,P),D=(I,k,V,G=si.maxLength,H=si.minLength)=>{const q=I?k:V;P[x]={type:I?G:H,message:q,ref:a,...A(I?G:H,q)}};if(i?!Array.isArray(y)||!y.length:c&&(!C&&(j||er(y))||br(y)&&!y||T&&!mD(l).isValid||O&&!gD(l).isValid)){const{value:I,message:k}=kf(c)?{value:!!c,message:c}:ml(c);if(I&&(P[x]={type:si.required,message:k,ref:v,...A(si.required,k)},!r))return S(k),P}if(!j&&(!er(f)||!er(m))){let I,k;const V=ml(m),G=ml(f);if(!er(y)&&!isNaN(y)){const H=a.valueAsNumber||y&&+y;er(V.value)||(I=H>V.value),er(G.value)||(k=H<G.value)}else{const H=a.valueAsDate||new Date(y),q=$=>new Date(new Date().toDateString()+" "+$),U=a.type=="time",B=a.type=="week";As(V.value)&&y&&(I=U?q(y)>q(V.value):B?y>V.value:H>new Date(V.value)),As(G.value)&&y&&(k=U?q(y)<q(G.value):B?y<G.value:H<new Date(G.value))}if((I||k)&&(D(!!I,V.message,G.message,si.max,si.min),!r))return S(P[x].message),P}if((u||h)&&!j&&(As(y)||i&&Array.isArray(y))){const I=ml(u),k=ml(h),V=!er(I.value)&&y.length>+I.value,G=!er(k.value)&&y.length<+k.value;if((V||G)&&(D(V,I.message,k.message),!r))return S(P[x].message),P}if(g&&!j&&As(y)){const{value:I,message:k}=ml(g);if(Lm(I)&&!y.match(I)&&(P[x]={type:si.pattern,message:k,ref:a,...A(si.pattern,k)},!r))return S(k),P}if(E){if(us(E)){const I=await E(y,n),k=cS(I,v);if(k&&(P[x]={...k,...A(si.validate,k.message)},!r))return S(k.message),P}else if(ln(E)){let I={};for(const k in E){if(!lr(I)&&!r)break;const V=cS(await E[k](y,n),v,k);V&&(I={...V,...A(k,V.message)},S(V.message),r&&(P[x]=I))}if(!lr(I)&&(P[x]={ref:v,...I},!r))return P}}return S(!0),P};const BK={mode:cs.onSubmit,reValidateMode:cs.onChange,shouldFocusError:!0};function zK(t={}){let e={...BK,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:us(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=ln(e.defaultValues)||ln(e.values)?gn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:gn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const m={array:eS(),state:eS()},g=e.criteriaMode===cs.all,E=L=>z=>{clearTimeout(u),u=setTimeout(L,z)},x=async L=>{if(!e.disabled&&(h.isValid||f.isValid||L)){const z=e.resolver?lr((await T()).errors):await j(r,!0);z!==n.isValid&&m.state.next({isValid:z})}},b=(L,z)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((L||Array.from(l.mount)).forEach(M=>{M&&(z?bt(n.validatingFields,M,z):cn(n.validatingFields,M))}),m.state.next({validatingFields:n.validatingFields,isValidating:!lr(n.validatingFields)}))},w=(L,z=[],M,Q,Z=!0,re=!0)=>{if(Q&&M&&!e.disabled){if(a.action=!0,re&&Array.isArray(he(r,L))){const F=M(he(r,L),Q.argA,Q.argB);Z&&bt(r,L,F)}if(re&&Array.isArray(he(n.errors,L))){const F=M(he(n.errors,L),Q.argA,Q.argB);Z&&bt(n.errors,L,F),UK(n.errors,L)}if((h.touchedFields||f.touchedFields)&&re&&Array.isArray(he(n.touchedFields,L))){const F=M(he(n.touchedFields,L),Q.argA,Q.argB);Z&&bt(n.touchedFields,L,F)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=fu(s,i)),m.state.next({name:L,isDirty:D(L,z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else bt(i,L,z)},y=(L,z)=>{bt(n.errors,L,z),m.state.next({errors:n.errors})},v=L=>{n.errors=L,m.state.next({errors:n.errors,isValid:!1})},S=(L,z,M,Q)=>{const Z=he(r,L);if(Z){const re=he(i,L,sn(M)?he(s,L):M);sn(re)||Q&&Q.defaultChecked||z?bt(i,L,z?re:sS(Z._f)):V(L,re),a.mount&&x()}},P=(L,z,M,Q,Z)=>{let re=!1,F=!1;const Y={name:L};if(!e.disabled){if(!M||Q){(h.isDirty||f.isDirty)&&(F=n.isDirty,n.isDirty=Y.isDirty=D(),re=F!==Y.isDirty);const ce=ui(he(s,L),z);F=!!he(n.dirtyFields,L),ce?cn(n.dirtyFields,L):bt(n.dirtyFields,L,!0),Y.dirtyFields=n.dirtyFields,re=re||(h.dirtyFields||f.dirtyFields)&&F!==!ce}if(M){const ce=he(n.touchedFields,L);ce||(bt(n.touchedFields,L,M),Y.touchedFields=n.touchedFields,re=re||(h.touchedFields||f.touchedFields)&&ce!==M)}re&&Z&&m.state.next(Y)}return re?Y:{}},O=(L,z,M,Q)=>{const Z=he(n.errors,L),re=(h.isValid||f.isValid)&&br(z)&&n.isValid!==z;if(e.delayError&&M?(c=E(()=>y(L,M)),c(e.delayError)):(clearTimeout(u),c=null,M?bt(n.errors,L,M):cn(n.errors,L)),(M?!ui(Z,M):Z)||!lr(Q)||re){const F={...Q,...re&&br(z)?{isValid:z}:{},errors:n.errors,name:L};n={...n,...F},m.state.next(F)}},T=async L=>{b(L,!0);const z=await e.resolver(i,e.context,DK(L||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(L),z},C=async L=>{const{errors:z}=await T(L);if(L)for(const M of L){const Q=he(z,M);Q?bt(n.errors,M,Q):cn(n.errors,M)}else n.errors=z;return z},j=async(L,z,M={valid:!0})=>{for(const Q in L){const Z=L[Q];if(Z){const{_f:re,...F}=Z;if(re){const Y=l.array.has(re.name),ce=Z._f&&OK(Z._f);ce&&h.validatingFields&&b([Q],!0);const ze=await uS(Z,l.disabled,i,g,e.shouldUseNativeValidation&&!z,Y);if(ce&&h.validatingFields&&b([Q]),ze[re.name]&&(M.valid=!1,z))break;!z&&(he(ze,re.name)?Y?$K(n.errors,ze,re.name):bt(n.errors,re.name,ze[re.name]):cn(n.errors,re.name))}!lr(F)&&await j(F,z,M)}}return M.valid},A=()=>{for(const L of l.unMount){const z=he(r,L);z&&(z._f.refs?z._f.refs.every(M=>!Ny(M)):!Ny(z._f.ref))&&ie(L)}l.unMount=new Set},D=(L,z)=>!e.disabled&&(L&&z&&bt(i,L,z),!ui($(),s)),I=(L,z,M)=>cD(L,l,{...a.mount?i:sn(z)?s:As(L)?{[L]:z}:z},M,z),k=L=>x_(he(a.mount?i:s,L,e.shouldUnregister?he(s,L,[]):[])),V=(L,z,M={})=>{const Q=he(r,L);let Z=z;if(Q){const re=Q._f;re&&(!re.disabled&&bt(i,L,pD(z,re)),Z=Om(re.ref)&&er(z)?"":z,dD(re.ref)?[...re.ref.options].forEach(F=>F.selected=Z.includes(F.value)):re.refs?ah(re.ref)?re.refs.forEach(F=>{(!F.defaultChecked||!F.disabled)&&(Array.isArray(Z)?F.checked=!!Z.find(Y=>Y===F.value):F.checked=Z===F.value||!!Z)}):re.refs.forEach(F=>F.checked=F.value===Z):E_(re.ref)?re.ref.value="":(re.ref.value=Z,re.ref.type||m.state.next({name:L,values:gn(i)})))}(M.shouldDirty||M.shouldTouch)&&P(L,Z,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&B(L)},G=(L,z,M)=>{for(const Q in z){if(!z.hasOwnProperty(Q))return;const Z=z[Q],re=L+"."+Q,F=he(r,re);(l.array.has(L)||ln(Z)||F&&!F._f)&&!bo(Z)?G(re,Z,M):V(re,Z,M)}},H=(L,z,M={})=>{const Q=he(r,L),Z=l.array.has(L),re=gn(z);bt(i,L,re),Z?(m.array.next({name:L,values:gn(i)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&M.shouldDirty&&m.state.next({name:L,dirtyFields:fu(s,i),isDirty:D(L,re)})):Q&&!Q._f&&!er(re)?G(L,re,M):V(L,re,M),oS(L,l)&&m.state.next({...n,name:L}),m.state.next({name:a.mount?L:void 0,values:gn(i)})},q=async L=>{a.mount=!0;const z=L.target;let M=z.name,Q=!0;const Z=he(r,M),re=ce=>{Q=Number.isNaN(ce)||bo(ce)&&isNaN(ce.getTime())||ui(ce,he(i,M,ce))},F=iS(e.mode),Y=iS(e.reValidateMode);if(Z){let ce,ze;const tt=z.type?sS(Z._f):iD(L),Lt=L.type===Dm.BLUR||L.type===Dm.FOCUS_OUT,_n=!MK(Z._f)&&!e.resolver&&!he(n.errors,M)&&!Z._f.deps||FK(Lt,he(n.touchedFields,M),n.isSubmitted,Y,F),It=oS(M,l,Lt);bt(i,M,tt),Lt?(Z._f.onBlur&&Z._f.onBlur(L),c&&c(0)):Z._f.onChange&&Z._f.onChange(L);const qt=P(M,tt,Lt),Ct=!lr(qt)||It;if(!Lt&&m.state.next({name:M,type:L.type,values:gn(i)}),_n)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?Lt&&x():Lt||x()),Ct&&m.state.next({name:M,...It?{}:qt});if(!Lt&&It&&m.state.next({...n}),e.resolver){const{errors:pn}=await T([M]);if(re(tt),Q){const Rr=lS(n.errors,r,M),$i=lS(pn,r,Rr.name||M);ce=$i.error,M=$i.name,ze=lr(pn)}}else b([M],!0),ce=(await uS(Z,l.disabled,i,g,e.shouldUseNativeValidation))[M],b([M]),re(tt),Q&&(ce?ze=!1:(h.isValid||f.isValid)&&(ze=await j(r,!0)));Q&&(Z._f.deps&&B(Z._f.deps),O(M,ze,ce,qt))}},U=(L,z)=>{if(he(n.errors,z)&&L.focus)return L.focus(),1},B=async(L,z={})=>{let M,Q;const Z=Hu(L);if(e.resolver){const re=await C(sn(L)?L:Z);M=lr(re),Q=L?!Z.some(F=>he(re,F)):M}else L?(Q=(await Promise.all(Z.map(async re=>{const F=he(r,re);return await j(F&&F._f?{[re]:F}:F)}))).every(Boolean),!(!Q&&!n.isValid)&&x()):Q=M=await j(r);return m.state.next({...!As(L)||(h.isValid||f.isValid)&&M!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:M}:{},errors:n.errors}),z.shouldFocus&&!Q&&qu(r,U,L?Z:l.mount),Q},$=L=>{const z={...a.mount?i:s};return sn(L)?z:As(L)?he(z,L):L.map(M=>he(z,M))},X=(L,z)=>({invalid:!!he((z||n).errors,L),isDirty:!!he((z||n).dirtyFields,L),error:he((z||n).errors,L),isValidating:!!he(n.validatingFields,L),isTouched:!!he((z||n).touchedFields,L)}),le=L=>{L&&Hu(L).forEach(z=>cn(n.errors,z)),m.state.next({errors:L?n.errors:{}})},de=(L,z,M)=>{const Q=(he(r,L,{_f:{}})._f||{}).ref,Z=he(n.errors,L)||{},{ref:re,message:F,type:Y,...ce}=Z;bt(n.errors,L,{...ce,...z,ref:Q}),m.state.next({name:L,errors:n.errors,isValid:!1}),M&&M.shouldFocus&&Q&&Q.focus&&Q.focus()},xe=(L,z)=>us(L)?m.state.subscribe({next:M=>"values"in M&&L(I(void 0,z),M)}):I(L,z,!0),Ce=L=>m.state.subscribe({next:z=>{VK(L.name,z.name,L.exact)&&LK(z,L.formState||h,ut,L.reRenderRoot)&&L.callback({values:{...i},...n,...z,defaultValues:s})}}).unsubscribe,st=L=>(a.mount=!0,f={...f,...L.formState},Ce({...L,formState:f})),ie=(L,z={})=>{for(const M of L?Hu(L):l.mount)l.mount.delete(M),l.array.delete(M),z.keepValue||(cn(r,M),cn(i,M)),!z.keepError&&cn(n.errors,M),!z.keepDirty&&cn(n.dirtyFields,M),!z.keepTouched&&cn(n.touchedFields,M),!z.keepIsValidating&&cn(n.validatingFields,M),!e.shouldUnregister&&!z.keepDefaultValue&&cn(s,M);m.state.next({values:gn(i)}),m.state.next({...n,...z.keepDirty?{isDirty:D()}:{}}),!z.keepIsValid&&x()},He=({disabled:L,name:z})=>{(br(L)&&a.mount||L||l.disabled.has(z))&&(L?l.disabled.add(z):l.disabled.delete(z))},it=(L,z={})=>{let M=he(r,L);const Q=br(z.disabled)||br(e.disabled);return bt(r,L,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:L}},name:L,mount:!0,...z}}),l.mount.add(L),M?He({disabled:br(z.disabled)?z.disabled:e.disabled,name:L}):S(L,!0,z.value),{...Q?{disabled:z.disabled||e.disabled}:{},...e.progressive?{required:!!z.required,min:mu(z.min),max:mu(z.max),minLength:mu(z.minLength),maxLength:mu(z.maxLength),pattern:mu(z.pattern)}:{},name:L,onChange:q,onBlur:q,ref:Z=>{if(Z){it(L,z),M=he(r,L);const re=sn(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,F=PK(re),Y=M._f.refs||[];if(F?Y.find(ce=>ce===re):re===M._f.ref)return;bt(r,L,{_f:{...M._f,...F?{refs:[...Y.filter(Ny),re,...Array.isArray(he(s,L))?[{}]:[]],ref:{type:re.type,name:L}}:{ref:re}}}),S(L,!1,void 0,re)}else M=he(r,L,{}),M._f&&(M._f.mount=!1),(e.shouldUnregister||z.shouldUnregister)&&!(aD(l.array,L)&&a.action)&&l.unMount.add(L)}}},Re=()=>e.shouldFocusError&&qu(r,U,l.mount),Pe=L=>{br(L)&&(m.state.next({disabled:L}),qu(r,(z,M)=>{const Q=he(r,M);Q&&(z.disabled=Q._f.disabled||L,Array.isArray(Q._f.refs)&&Q._f.refs.forEach(Z=>{Z.disabled=Q._f.disabled||L}))},0,!1))},Ae=(L,z)=>async M=>{let Q;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let Z=gn(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:re,values:F}=await T();n.errors=re,Z=gn(F)}else await j(r);if(l.disabled.size)for(const re of l.disabled)cn(Z,re);if(cn(n.errors,"root"),lr(n.errors)){m.state.next({errors:{}});try{await L(Z,M)}catch(re){Q=re}}else z&&await z({...n.errors},M),Re(),setTimeout(Re);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:lr(n.errors)&&!Q,submitCount:n.submitCount+1,errors:n.errors}),Q)throw Q},Nt=(L,z={})=>{he(r,L)&&(sn(z.defaultValue)?H(L,gn(he(s,L))):(H(L,z.defaultValue),bt(s,L,gn(z.defaultValue))),z.keepTouched||cn(n.touchedFields,L),z.keepDirty||(cn(n.dirtyFields,L),n.isDirty=z.defaultValue?D(L,gn(he(s,L))):D()),z.keepError||(cn(n.errors,L),h.isValid&&x()),m.state.next({...n}))},ge=(L,z={})=>{const M=L?gn(L):s,Q=gn(M),Z=lr(L),re=Z?s:Q;if(z.keepDefaultValues||(s=M),!z.keepValues){if(z.keepDirtyValues){const F=new Set([...l.mount,...Object.keys(fu(s,i))]);for(const Y of Array.from(F))he(n.dirtyFields,Y)?bt(re,Y,he(i,Y)):H(Y,he(re,Y))}else{if(v_&&sn(L))for(const F of l.mount){const Y=he(r,F);if(Y&&Y._f){const ce=Array.isArray(Y._f.refs)?Y._f.refs[0]:Y._f.ref;if(Om(ce)){const ze=ce.closest("form");if(ze){ze.reset();break}}}}if(z.keepFieldsRef)for(const F of l.mount)H(F,he(re,F));else r={}}i=e.shouldUnregister?z.keepDefaultValues?gn(s):{}:gn(re),m.array.next({values:{...re}}),m.state.next({values:{...re}})}l={mount:z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!z.keepIsValid||!!z.keepDirtyValues,a.watch=!!e.shouldUnregister,m.state.next({submitCount:z.keepSubmitCount?n.submitCount:0,isDirty:Z?!1:z.keepDirty?n.isDirty:!!(z.keepDefaultValues&&!ui(L,s)),isSubmitted:z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Z?{}:z.keepDirtyValues?z.keepDefaultValues&&i?fu(s,i):n.dirtyFields:z.keepDefaultValues&&L?fu(s,L):z.keepDirty?n.dirtyFields:{},touchedFields:z.keepTouched?n.touchedFields:{},errors:z.keepErrors?n.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},we=(L,z)=>ge(us(L)?L(i):L,z),et=(L,z={})=>{const M=he(r,L),Q=M&&M._f;if(Q){const Z=Q.refs?Q.refs[0]:Q.ref;Z.focus&&(Z.focus(),z.shouldSelect&&us(Z.select)&&Z.select())}},ut=L=>{n={...n,...L}},Be={control:{register:it,unregister:ie,getFieldState:X,handleSubmit:Ae,setError:de,_subscribe:Ce,_runSchema:T,_focusError:Re,_getWatch:I,_getDirty:D,_setValid:x,_setFieldArray:w,_setDisabledField:He,_setErrors:v,_getFieldArray:k,_reset:ge,_resetDefaultValues:()=>us(e.defaultValues)&&e.defaultValues().then(L=>{we(L,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:Pe,_subjects:m,_proxyFormState:h,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(L){a=L},get _defaultValues(){return s},get _names(){return l},set _names(L){l=L},get _formState(){return n},get _options(){return e},set _options(L){e={...e,...L}}},subscribe:st,trigger:B,register:it,handleSubmit:Ae,watch:xe,setValue:H,getValues:$,reset:we,resetField:Nt,clearErrors:le,unregister:ie,setError:de,setFocus:et,getFieldState:X};return{...Be,formControl:Be}}function dS(t={}){const e=J.useRef(void 0),n=J.useRef(void 0),[r,s]=J.useState({isDirty:!1,isValidating:!1,isLoading:us(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:us(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!us(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=zK(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,b_(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),J.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),J.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),J.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),J.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),J.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),J.useEffect(()=>{t.values&&!ui(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),J.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=lD(r,i),e.current}const hS=(t,e,n)=>{if(t&&"reportValidity"in t){const r=he(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},yD=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?hS(r.ref,n,t):r.refs&&r.refs.forEach(s=>hS(s,n,t))}},WK=(t,e)=>{e.shouldUseNativeValidation&&yD(t,e);const n={};for(const r in t){const s=he(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(HK(e.names||Object.keys(t),r)){const a=Object.assign({},he(n,r));bt(a,"root",i),bt(n,r,a)}else bt(n,r,i)}return n},HK=(t,e)=>t.some(n=>n.startsWith(e+"."));var qK=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var c=n[a].types,u=c&&c[r.code];n[a]=uD(a,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},fS=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&yD({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:WK(qK(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},ft;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ft||(ft={}));var mS;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(mS||(mS={}));const ve=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ta=t=>{switch(typeof t){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return Number.isNaN(t)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(t)?ve.array:t===null?ve.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ve.promise:typeof Map<"u"&&t instanceof Map?ve.map:typeof Set<"u"&&t instanceof Set?ve.set:typeof Date<"u"&&t instanceof Date?ve.date:ve.object;default:return ve.unknown}},oe=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ri extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(e){if(!(e instanceof Ri))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ri.create=t=>new Ri(t);const wx=(t,e)=>{let n;switch(t.code){case oe.invalid_type:t.received===ve.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case oe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ft.jsonStringifyReplacer)}`;break;case oe.unrecognized_keys:n=`Unrecognized key(s) in object: ${ft.joinValues(t.keys,", ")}`;break;case oe.invalid_union:n="Invalid input";break;case oe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ft.joinValues(t.options)}`;break;case oe.invalid_enum_value:n=`Invalid enum value. Expected ${ft.joinValues(t.options)}, received '${t.received}'`;break;case oe.invalid_arguments:n="Invalid function arguments";break;case oe.invalid_return_type:n="Invalid function return type";break;case oe.invalid_date:n="Invalid date";break;case oe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ft.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case oe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case oe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case oe.custom:n="Invalid input";break;case oe.invalid_intersection_types:n="Intersection results could not be merged";break;case oe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case oe.not_finite:n="Number must be finite";break;default:n=e.defaultError,ft.assertNever(t)}return{message:n}};let GK=wx;function KK(){return GK}const QK=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function me(t,e){const n=KK(),r=QK({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===wx?void 0:wx].filter(s=>!!s)});t.common.issues.push(r)}class jr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Fe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return jr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Fe;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const Fe=Object.freeze({status:"aborted"}),Nu=t=>({status:"dirty",value:t}),Zr=t=>({status:"valid",value:t}),pS=t=>t.status==="aborted",gS=t=>t.status==="dirty",_c=t=>t.status==="valid",Vm=t=>typeof Promise<"u"&&t instanceof Promise;var _e;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_e||(_e={}));class qa{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yS=(t,e)=>{if(_c(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ri(t.common.issues);return this._error=n,this._error}}};function Ze(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class ct{get description(){return this._def.description}_getType(e){return ta(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ta(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new jr,ctx:{common:e.parent.common,data:e.data,parsedType:ta(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Vm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ta(e)},s=this._parseSync({data:e,path:r.path,parent:r});return yS(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ta(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return _c(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>_c(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ta(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Vm(s)?s:Promise.resolve(s));return yS(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),l=()=>i.addIssue({code:oe.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Ec({schema:this,typeName:Ue.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ra.create(this,this._def)}nullable(){return Tc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hs.create(this)}promise(){return Bm.create(this,this._def)}or(e){return Um.create([this,e],this._def)}and(e){return $m.create(this,e,this._def)}transform(e){return new Ec({...Ze(this._def),schema:this,typeName:Ue.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new bx({...Ze(this._def),innerType:this,defaultValue:n,typeName:Ue.ZodDefault})}brand(){return new vQ({typeName:Ue.ZodBranded,type:this,...Ze(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ex({...Ze(this._def),innerType:this,catchValue:n,typeName:Ue.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return S_.create(this,e)}readonly(){return Tx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const YK=/^c[^\s-]{8,}$/i,XK=/^[0-9a-z]+$/,ZK=/^[0-9A-HJKMNP-TV-Z]{26}$/i,JK=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eQ=/^[a-z0-9_-]{21}$/i,tQ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nQ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rQ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sQ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Cy;const iQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cQ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uQ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,vD="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dQ=new RegExp(`^${vD}$`);function xD(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function hQ(t){return new RegExp(`^${xD(t)}$`)}function fQ(t){let e=`${vD}T${xD(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function mQ(t,e){return!!((e==="v4"||!e)&&iQ.test(t)||(e==="v6"||!e)&&oQ.test(t))}function pQ(t,e){if(!tQ.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function gQ(t,e){return!!((e==="v4"||!e)&&aQ.test(t)||(e==="v6"||!e)&&lQ.test(t))}class ga extends ct{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ve.string){const i=this._getOrReturnCtx(e);return me(i,{code:oe.invalid_type,expected:ve.string,received:i.parsedType}),Fe}const r=new jr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:oe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:oe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,l=e.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?me(s,{code:oe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&me(s,{code:oe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")rQ.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"email",code:oe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Cy||(Cy=new RegExp(sQ,"u")),Cy.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"emoji",code:oe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")JK.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"uuid",code:oe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")eQ.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"nanoid",code:oe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")YK.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cuid",code:oe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")XK.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cuid2",code:oe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")ZK.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"ulid",code:oe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),me(s,{validation:"url",code:oe.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"regex",code:oe.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),me(s,{code:oe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),me(s,{code:oe.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),me(s,{code:oe.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?fQ(i).test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:oe.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?dQ.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:oe.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?hQ(i).test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:oe.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?nQ.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"duration",code:oe.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?mQ(e.data,i.version)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"ip",code:oe.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?pQ(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"jwt",code:oe.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?gQ(e.data,i.version)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cidr",code:oe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?cQ.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"base64",code:oe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?uQ.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"base64url",code:oe.invalid_string,message:i.message}),r.dirty()):ft.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:oe.invalid_string,..._e.errToObj(r)})}_addCheck(e){return new ga({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._e.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._e.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._e.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._e.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._e.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._e.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._e.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._e.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._e.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._e.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._e.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._e.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._e.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,..._e.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,..._e.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",..._e.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,..._e.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,..._e.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,..._e.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,..._e.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,..._e.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,..._e.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,..._e.errToObj(n)})}nonempty(e){return this.min(1,_e.errToObj(e))}trim(){return new ga({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ga({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ga({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ga.create=t=>new ga({checks:[],typeName:Ue.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ze(t)});function yQ(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class jd extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ve.number){const i=this._getOrReturnCtx(e);return me(i,{code:oe.invalid_type,expected:ve.number,received:i.parsedType}),Fe}let r;const s=new jr;for(const i of this._def.checks)i.kind==="int"?ft.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),me(r,{code:oe.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:oe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:oe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?yQ(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),me(r,{code:oe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),me(r,{code:oe.not_finite,message:i.message}),s.dirty()):ft.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,_e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_e.toString(n))}setLimit(e,n,r,s){return new jd({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_e.toString(s)}]})}_addCheck(e){return new jd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_e.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:_e.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_e.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_e.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ft.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}jd.create=t=>new jd({checks:[],typeName:Ue.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ze(t)});class Pd extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ve.bigint)return this._getInvalidInput(e);let r;const s=new jr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:oe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),me(r,{code:oe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),me(r,{code:oe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ft.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return me(n,{code:oe.invalid_type,expected:ve.bigint,received:n.parsedType}),Fe}gte(e,n){return this.setLimit("min",e,!0,_e.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_e.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_e.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_e.toString(n))}setLimit(e,n,r,s){return new Pd({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_e.toString(s)}]})}_addCheck(e){return new Pd({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_e.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_e.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Pd.create=t=>new Pd({checks:[],typeName:Ue.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ze(t)});class vS extends ct{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ve.boolean){const r=this._getOrReturnCtx(e);return me(r,{code:oe.invalid_type,expected:ve.boolean,received:r.parsedType}),Fe}return Zr(e.data)}}vS.create=t=>new vS({typeName:Ue.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ze(t)});class Fm extends ct{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ve.date){const i=this._getOrReturnCtx(e);return me(i,{code:oe.invalid_type,expected:ve.date,received:i.parsedType}),Fe}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return me(i,{code:oe.invalid_date}),Fe}const r=new jr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:oe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:oe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ft.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Fm({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:_e.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:_e.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Fm.create=t=>new Fm({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ue.ZodDate,...Ze(t)});class xS extends ct{_parse(e){if(this._getType(e)!==ve.symbol){const r=this._getOrReturnCtx(e);return me(r,{code:oe.invalid_type,expected:ve.symbol,received:r.parsedType}),Fe}return Zr(e.data)}}xS.create=t=>new xS({typeName:Ue.ZodSymbol,...Ze(t)});class wS extends ct{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return me(r,{code:oe.invalid_type,expected:ve.undefined,received:r.parsedType}),Fe}return Zr(e.data)}}wS.create=t=>new wS({typeName:Ue.ZodUndefined,...Ze(t)});class _S extends ct{_parse(e){if(this._getType(e)!==ve.null){const r=this._getOrReturnCtx(e);return me(r,{code:oe.invalid_type,expected:ve.null,received:r.parsedType}),Fe}return Zr(e.data)}}_S.create=t=>new _S({typeName:Ue.ZodNull,...Ze(t)});class bS extends ct{constructor(){super(...arguments),this._any=!0}_parse(e){return Zr(e.data)}}bS.create=t=>new bS({typeName:Ue.ZodAny,...Ze(t)});class ES extends ct{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Zr(e.data)}}ES.create=t=>new ES({typeName:Ue.ZodUnknown,...Ze(t)});class Ga extends ct{_parse(e){const n=this._getOrReturnCtx(e);return me(n,{code:oe.invalid_type,expected:ve.never,received:n.parsedType}),Fe}}Ga.create=t=>new Ga({typeName:Ue.ZodNever,...Ze(t)});class TS extends ct{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return me(r,{code:oe.invalid_type,expected:ve.void,received:r.parsedType}),Fe}return Zr(e.data)}}TS.create=t=>new TS({typeName:Ue.ZodVoid,...Ze(t)});class Hs extends ct{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ve.array)return me(n,{code:oe.invalid_type,expected:ve.array,received:n.parsedType}),Fe;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(a||l)&&(me(n,{code:a?oe.too_big:oe.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(me(n,{code:oe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(me(n,{code:oe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>s.type._parseAsync(new qa(n,a,n.path,l)))).then(a=>jr.mergeArray(r,a));const i=[...n.data].map((a,l)=>s.type._parseSync(new qa(n,a,n.path,l)));return jr.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Hs({...this._def,minLength:{value:e,message:_e.toString(n)}})}max(e,n){return new Hs({...this._def,maxLength:{value:e,message:_e.toString(n)}})}length(e,n){return new Hs({...this._def,exactLength:{value:e,message:_e.toString(n)}})}nonempty(e){return this.min(1,e)}}Hs.create=(t,e)=>new Hs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ue.ZodArray,...Ze(e)});function xl(t){if(t instanceof en){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ra.create(xl(r))}return new en({...t._def,shape:()=>e})}else return t instanceof Hs?new Hs({...t._def,type:xl(t.element)}):t instanceof Ra?Ra.create(xl(t.unwrap())):t instanceof Tc?Tc.create(xl(t.unwrap())):t instanceof Ko?Ko.create(t.items.map(e=>xl(e))):t}class en extends ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ft.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ve.object){const u=this._getOrReturnCtx(e);return me(u,{code:oe.invalid_type,expected:ve.object,received:u.parsedType}),Fe}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ga&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const h=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new qa(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ga){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(u==="strict")l.length>0&&(me(s,{code:oe.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const f=s.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new qa(s,f,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const f=await h.key,m=await h.value;u.push({key:f,value:m,alwaysSet:h.alwaysSet})}return u}).then(u=>jr.mergeObjectSync(r,u)):jr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return _e.errToObj,new en({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:_e.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new en({...this._def,unknownKeys:"strip"})}passthrough(){return new en({...this._def,unknownKeys:"passthrough"})}extend(e){return new en({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new en({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ue.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new en({...this._def,catchall:e})}pick(e){const n={};for(const r of ft.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new en({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ft.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new en({...this._def,shape:()=>n})}deepPartial(){return xl(this)}partial(e){const n={};for(const r of ft.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new en({...this._def,shape:()=>n})}required(e){const n={};for(const r of ft.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ra;)i=i._def.innerType;n[r]=i}return new en({...this._def,shape:()=>n})}keyof(){return wD(ft.objectKeys(this.shape))}}en.create=(t,e)=>new en({shape:()=>t,unknownKeys:"strip",catchall:Ga.create(),typeName:Ue.ZodObject,...Ze(e)});en.strictCreate=(t,e)=>new en({shape:()=>t,unknownKeys:"strict",catchall:Ga.create(),typeName:Ue.ZodObject,...Ze(e)});en.lazycreate=(t,e)=>new en({shape:t,unknownKeys:"strip",catchall:Ga.create(),typeName:Ue.ZodObject,...Ze(e)});class Um extends ct{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new Ri(l.ctx.common.issues));return me(n,{code:oe.invalid_union,unionErrors:a}),Fe}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new Ri(c));return me(n,{code:oe.invalid_union,unionErrors:l}),Fe}}get options(){return this._def.options}}Um.create=(t,e)=>new Um({options:t,typeName:Ue.ZodUnion,...Ze(e)});function _x(t,e){const n=ta(t),r=ta(e);if(t===e)return{valid:!0,data:t};if(n===ve.object&&r===ve.object){const s=ft.objectKeys(e),i=ft.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of i){const c=_x(t[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(n===ve.array&&r===ve.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],c=_x(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===ve.date&&r===ve.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class $m extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(pS(i)||pS(a))return Fe;const l=_x(i.value,a.value);return l.valid?((gS(i)||gS(a))&&n.dirty(),{status:n.value,value:l.data}):(me(r,{code:oe.invalid_intersection_types}),Fe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}$m.create=(t,e,n)=>new $m({left:t,right:e,typeName:Ue.ZodIntersection,...Ze(n)});class Ko extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.array)return me(r,{code:oe.invalid_type,expected:ve.array,received:r.parsedType}),Fe;if(r.data.length<this._def.items.length)return me(r,{code:oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Fe;!this._def.rest&&r.data.length>this._def.items.length&&(me(r,{code:oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new qa(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>jr.mergeArray(n,a)):jr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Ko({...this._def,rest:e})}}Ko.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ko({items:t,typeName:Ue.ZodTuple,rest:null,...Ze(e)})};class SS extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.map)return me(r,{code:oe.invalid_type,expected:ve.map,received:r.parsedType}),Fe;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new qa(r,l,r.path,[u,"key"])),value:i._parse(new qa(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return Fe;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return Fe;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}}}}SS.create=(t,e,n)=>new SS({valueType:e,keyType:t,typeName:Ue.ZodMap,...Ze(n)});class Ad extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.set)return me(r,{code:oe.invalid_type,expected:ve.set,received:r.parsedType}),Fe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(me(r,{code:oe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(me(r,{code:oe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const h of c){if(h.status==="aborted")return Fe;h.status==="dirty"&&n.dirty(),u.add(h.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new qa(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,n){return new Ad({...this._def,minSize:{value:e,message:_e.toString(n)}})}max(e,n){return new Ad({...this._def,maxSize:{value:e,message:_e.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ad.create=(t,e)=>new Ad({valueType:t,minSize:null,maxSize:null,typeName:Ue.ZodSet,...Ze(e)});class NS extends ct{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}NS.create=(t,e)=>new NS({getter:t,typeName:Ue.ZodLazy,...Ze(e)});class CS extends ct{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return me(n,{received:n.data,code:oe.invalid_literal,expected:this._def.value}),Fe}return{status:"valid",value:e.data}}get value(){return this._def.value}}CS.create=(t,e)=>new CS({value:t,typeName:Ue.ZodLiteral,...Ze(e)});function wD(t,e){return new bc({values:t,typeName:Ue.ZodEnum,...Ze(e)})}class bc extends ct{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return me(n,{expected:ft.joinValues(r),received:n.parsedType,code:oe.invalid_type}),Fe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return me(n,{received:n.data,code:oe.invalid_enum_value,options:r}),Fe}return Zr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return bc.create(e,{...this._def,...n})}exclude(e,n=this._def){return bc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}bc.create=wD;class IS extends ct{_parse(e){const n=ft.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ve.string&&r.parsedType!==ve.number){const s=ft.objectValues(n);return me(r,{expected:ft.joinValues(s),received:r.parsedType,code:oe.invalid_type}),Fe}if(this._cache||(this._cache=new Set(ft.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ft.objectValues(n);return me(r,{received:r.data,code:oe.invalid_enum_value,options:s}),Fe}return Zr(e.data)}get enum(){return this._def.values}}IS.create=(t,e)=>new IS({values:t,typeName:Ue.ZodNativeEnum,...Ze(e)});class Bm extends ct{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.promise&&n.common.async===!1)return me(n,{code:oe.invalid_type,expected:ve.promise,received:n.parsedType}),Fe;const r=n.parsedType===ve.promise?n.data:Promise.resolve(n.data);return Zr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Bm.create=(t,e)=>new Bm({type:t,typeName:Ue.ZodPromise,...Ze(e)});class Ec extends ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{me(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return Fe;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Fe:c.status==="dirty"||n.value==="dirty"?Nu(c.value):c});{if(n.value==="aborted")return Fe;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?Fe:l.status==="dirty"||n.value==="dirty"?Nu(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Fe:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Fe:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!_c(a))return Fe;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>_c(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:n.value,value:l})):Fe);ft.assertNever(s)}}Ec.create=(t,e,n)=>new Ec({schema:t,typeName:Ue.ZodEffects,effect:e,...Ze(n)});Ec.createWithPreprocess=(t,e,n)=>new Ec({schema:e,effect:{type:"preprocess",transform:t},typeName:Ue.ZodEffects,...Ze(n)});class Ra extends ct{_parse(e){return this._getType(e)===ve.undefined?Zr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ra.create=(t,e)=>new Ra({innerType:t,typeName:Ue.ZodOptional,...Ze(e)});class Tc extends ct{_parse(e){return this._getType(e)===ve.null?Zr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Tc.create=(t,e)=>new Tc({innerType:t,typeName:Ue.ZodNullable,...Ze(e)});class bx extends ct{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ve.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}bx.create=(t,e)=>new bx({innerType:t,typeName:Ue.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ze(e)});class Ex extends ct{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Vm(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ri(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ri(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ex.create=(t,e)=>new Ex({innerType:t,typeName:Ue.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ze(e)});class kS extends ct{_parse(e){if(this._getType(e)!==ve.nan){const r=this._getOrReturnCtx(e);return me(r,{code:oe.invalid_type,expected:ve.nan,received:r.parsedType}),Fe}return{status:"valid",value:e.data}}}kS.create=t=>new kS({typeName:Ue.ZodNaN,...Ze(t)});class vQ extends ct{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class S_ extends ct{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Fe:i.status==="dirty"?(n.dirty(),Nu(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Fe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new S_({in:e,out:n,typeName:Ue.ZodPipeline})}}class Tx extends ct{_parse(e){const n=this._def.innerType._parse(e),r=s=>(_c(s)&&(s.value=Object.freeze(s.value)),s);return Vm(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Tx.create=(t,e)=>new Tx({innerType:t,typeName:Ue.ZodReadonly,...Ze(e)});en.lazycreate;var Ue;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ue||(Ue={}));const ql=ga.create;Ga.create;Hs.create;const _D=en.create;en.strictCreate;Um.create;$m.create;Ko.create;const xQ=bc.create;Bm.create;Ra.create;Tc.create;const wQ=_D({name:ql().min(1,"Name is required"),phone:ql().min(10,"Phone number must be at least 10 digits"),gender:xQ(["male","female","other"],{required_error:"Please select a gender"}),department:ql().min(1,"Department is required")}),_Q=_D({currentPassword:ql().optional(),newPassword:ql().min(6,"New password must be at least 6 characters"),confirmPassword:ql().min(6,"Please confirm your new password")}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),bQ=()=>{const{user:t}=Xn(),{toast:e}=Yn(),[n,r]=p.useState(!0),[s,i]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(!1),{setIsLoading:h}=Js(),f=dS({resolver:fS(wQ)}),m=dS({resolver:fS(_Q)});p.useEffect(()=>{if(t){h(!0),g();const b=t.providerData.some(w=>w.providerId==="password");u(b)}},[t,h]);const g=async()=>{try{const b=await zo(Tt(qe,"profiles",t.uid));if(b.exists()){const w=b.data();f.reset({name:w.name||"",phone:w.phone||"",gender:w.gender||"",department:w.department||""})}}catch(b){console.error("Error fetching profile:",b),e({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{r(!1),h(!1)}},E=async b=>{if(t){i(!0),h(!0);try{await Fi(Tt(qe,"profiles",t.uid),{...b,updated_at:Ye()}),e({title:"Success",description:"Profile updated successfully"})}catch(w){console.error("Error updating profile:",w),e({title:"Error",description:"Failed to update profile",variant:"destructive"})}finally{i(!1),h(!1)}}},x=async b=>{if(!(!t||!t.email)){l(!0),h(!0);try{if(c){if(!b.currentPassword){m.setError("currentPassword",{message:"Current password is required"}),l(!1);return}const w=Va.credential(t.email,b.currentPassword);await G9(t,w),await Z9(t,b.newPassword)}else{const w=Va.credential(t.email,b.newPassword);await q9(t,w),u(!0)}e({title:"Success",description:c?"Password changed successfully":"Password set successfully"}),m.reset()}catch(w){console.error("Error changing password:",w);let y="Failed to change password";w.code==="auth/wrong-password"?y="Current password is incorrect":w.code==="auth/weak-password"?y="New password is too weak":w.code==="auth/requires-recent-login"&&(y="Please login again to change password"),e({title:"Error",description:y,variant:"destructive"})}finally{l(!1),h(!1)}}};return n?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx(xn,{className:"h-8 w-8 animate-spin"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Profile Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:"Profile Information"}),o.jsx(vr,{children:"Update your personal details"})]}),o.jsx(Te,{children:o.jsxs("form",{onSubmit:f.handleSubmit(E),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"name",children:"Full Name"}),o.jsx(yt,{id:"name",...f.register("name"),placeholder:"Enter your full name"}),f.formState.errors.name&&o.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.name.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"phone",children:"Mobile Number"}),o.jsx(yt,{id:"phone",...f.register("phone"),placeholder:"Enter your mobile number"}),f.formState.errors.phone&&o.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.phone.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"gender",children:"Gender"}),o.jsx(jK,{name:"gender",control:f.control,render:({field:b})=>o.jsxs(vt,{value:b.value,onValueChange:b.onChange,children:[o.jsx(mt,{children:o.jsx(xt,{placeholder:"Select gender"})}),o.jsxs(pt,{children:[o.jsx(ke,{value:"male",children:"Male"}),o.jsx(ke,{value:"female",children:"Female"}),o.jsx(ke,{value:"other",children:"Other"})]})]})}),f.formState.errors.gender&&o.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.gender.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"department",children:"Department"}),o.jsx(yt,{id:"department",...f.register("department"),placeholder:"Enter your department"}),f.formState.errors.department&&o.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.department.message})]}),o.jsxs(be,{type:"submit",disabled:s,children:[s&&o.jsx(xn,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Profile"]})]})})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:c?"Change Password":"Set Password"}),o.jsx(vr,{children:c?"Update your account password":"Create a password for your account to login with email"})]}),o.jsx(Te,{children:o.jsxs("form",{onSubmit:m.handleSubmit(x),className:"space-y-4",children:[c&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"currentPassword",children:"Current Password"}),o.jsx(yt,{id:"currentPassword",type:"password",...m.register("currentPassword"),placeholder:"Enter current password"}),m.formState.errors.currentPassword&&o.jsx("p",{className:"text-sm text-red-500",children:m.formState.errors.currentPassword.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"newPassword",children:"New Password"}),o.jsx(yt,{id:"newPassword",type:"password",...m.register("newPassword"),placeholder:"Enter new password"}),m.formState.errors.newPassword&&o.jsx("p",{className:"text-sm text-red-500",children:m.formState.errors.newPassword.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"confirmPassword",children:"Confirm New Password"}),o.jsx(yt,{id:"confirmPassword",type:"password",...m.register("confirmPassword"),placeholder:"Confirm new password"}),m.formState.errors.confirmPassword&&o.jsx("p",{className:"text-sm text-red-500",children:m.formState.errors.confirmPassword.message})]}),o.jsxs(be,{type:"submit",disabled:a,children:[a&&o.jsx(xn,{className:"mr-2 h-4 w-4 animate-spin"}),c?"Change Password":"Set Password"]})]})})]})]})]})},EQ=Zo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Fr=p.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:ae(EQ({variant:e}),t),...n}));Fr.displayName="Alert";const TQ=p.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:ae("mb-1 font-medium leading-none tracking-tight",t),...e}));TQ.displayName="AlertTitle";const Ur=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ae("text-sm [&_p]:leading-relaxed",t),...e}));Ur.displayName="AlertDescription";const SQ=()=>{const{user:t}=Xn(),{toast:e}=Yn(),[n,r]=p.useState([]),[s,i]=p.useState(""),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState(!1),[m,g]=p.useState(!1),E=v=>{if(!v)return"N/A";let S;if(typeof v=="object"&&v.toDate?S=v.toDate():typeof v=="object"&&v.seconds?S=new Date(v.seconds*1e3):S=new Date(v),isNaN(S.getTime()))return"N/A";const P=String(S.getDate()).padStart(2,"0"),O=String(S.getMonth()+1).padStart(2,"0"),T=S.getFullYear();return`${P}/${O}/${T}`};p.useEffect(()=>{(async()=>{f(!0);try{const S=await xr();console.log("Fetched tournaments:",S);const P=S.filter(O=>O.is_active);console.log("Available tournaments:",P),r(P),P.length===0&&e({title:"No Tournaments",description:"No active tournaments found. Please ensure tournaments are created in admin panel."})}catch(S){console.error("Error loading tournaments:",S),e({title:"Error",description:"Failed to load tournaments",variant:"destructive"})}finally{f(!1)}})()},[e]),p.useEffect(()=>{if(!s||!t){l([]),u([]);return}(async()=>{g(!0);try{const[S,P]=await Promise.all([An(s),Ws({tournamentId:s})]);console.log("Fetched games for tournament:",s,S),l(S),console.log("User registrations:",P);const O=P.filter(T=>T.user_id===t.uid);console.log("User's registrations:",O),u(O),S.length===0&&e({title:"No Games",description:"No games found in this tournament. Please ensure games are created in admin panel."})}catch(S){console.error("Error loading games:",S),e({title:"Error",description:"Failed to load games",variant:"destructive"})}finally{g(!1)}})()},[s,t,e]);const x=v=>c.find(S=>S.game_id===v),b=async v=>{if(!(!t||!s))try{await qq({tournament_id:s,game_id:v,user_id:t.uid}),e({title:"Registration Submitted",description:"Your registration has been submitted for admin approval."});const P=(await Ws({tournamentId:s})).filter(O=>O.user_id===t.uid);u(P)}catch(S){console.error("Error registering:",S),e({title:"Registration Failed",description:S.message||"Failed to submit registration",variant:"destructive"})}},w=v=>{switch(v){case"SINGLE":return"Single Player";case"PAIR":return"Pair (2 Players)";case"TEAM":return"Team";default:return v}},y=n.find(v=>v.id===s);return h?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx(xn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Register for Games"}),o.jsx("p",{className:"text-muted-foreground",children:"Browse available tournaments and register for games"})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:"Select Tournament"}),o.jsx(vr,{children:"Choose a tournament to view available games"})]}),o.jsx(Te,{children:n.length===0?o.jsx(Fr,{children:o.jsx(Ur,{children:"No active tournaments available at the moment. Please check back later."})}):o.jsxs(vt,{value:s,onValueChange:i,children:[o.jsx(mt,{className:"w-full",children:o.jsx(xt,{placeholder:"Select a tournament"})}),o.jsx(pt,{children:n.map(v=>o.jsx(ke,{value:v.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mt,{className:"h-4 w-4"}),o.jsx("span",{children:v.name}),o.jsx(gt,{variant:"outline",className:"ml-2",children:v.status})]})},v.id))})]})})]}),y&&o.jsxs(Ee,{className:"border-primary/20 bg-primary/5",children:[o.jsx(Ke,{children:o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(Mt,{className:"h-5 w-5"}),y.name]})}),o.jsxs(Te,{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(gs,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:"Start Date:"}),o.jsx("span",{className:"font-medium",children:E(y.start_date)})]}),y.end_date&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(gs,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:"End Date:"}),o.jsx("span",{className:"font-medium",children:E(y.end_date)})]})]})]}),s&&o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:"Available Games"}),o.jsxs(vr,{children:[a.length," game",a.length!==1?"s":""," available for registration"]})]}),o.jsx(Te,{children:m?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(xn,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):a.length===0?o.jsx(Fr,{children:o.jsx(Ur,{children:"No active games available in this tournament yet."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(v=>{const S=x(v.id),P=!!S,O=(S==null?void 0:S.status)==="pending",T=(S==null?void 0:S.status)==="approved",C=(S==null?void 0:S.status)==="rejected";return o.jsxs(Ee,{className:"relative overflow-hidden",children:[o.jsx(Ke,{children:o.jsxs(Qe,{className:"text-lg flex items-start justify-between",children:[o.jsx("span",{children:v.name}),T&&o.jsx(Tw,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),O&&o.jsx(Jo,{className:"h-5 w-5 text-yellow-500 flex-shrink-0"}),C&&o.jsx(RI,{className:"h-5 w-5 text-red-500 flex-shrink-0"})]})}),o.jsxs(Te,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Si,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:"Type:"}),o.jsx(gt,{variant:"secondary",children:w(v.game_type)})]}),v.game_type!=="SINGLE"&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Si,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:"Players per team:"}),o.jsx("span",{className:"font-medium",children:v.players_per_team})]})]}),P&&o.jsx("div",{className:"pt-2",children:o.jsxs(gt,{variant:T?"default":O?"secondary":"destructive",className:"w-full justify-center py-2",children:[T&&" Approved",O&&" Pending Approval",C&&" Rejected"]})}),!P&&o.jsx(be,{className:"w-full",onClick:()=>b(v.id),children:"Register Now"}),C&&o.jsx(be,{className:"w-full",variant:"outline",onClick:()=>b(v.id),children:"Register Again"})]})]},v.id)})})})]}),!s&&n.length>0&&o.jsx(Fr,{children:o.jsx(Ur,{children:"Please select a tournament above to view available games."})})]})},NQ=()=>{const{user:t}=Xn(),{toast:e}=Yn(),[n,r]=p.useState([]),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState(!0),E=T=>{if(!T)return"N/A";let C;if(typeof T=="object"&&T.toDate?C=T.toDate():typeof T=="object"&&T.seconds?C=new Date(T.seconds*1e3):C=new Date(T),isNaN(C.getTime()))return"N/A";const j=String(C.getDate()).padStart(2,"0"),A=String(C.getMonth()+1).padStart(2,"0"),D=C.getFullYear();return`${j}/${A}/${D}`};p.useEffect(()=>{(async()=>{if(t){g(!0);try{const[C,j,A,D,I]=await Promise.all([Ws({}),An(),xr(),Ui({userId:t.uid}),Xr()]),k=C.filter(V=>V.user_id===t.uid);r(k),l(j),u(A),i(D),f(I)}catch(C){console.error("Error loading data:",C),e({title:"Error",description:"Failed to load your games",variant:"destructive"})}finally{g(!1)}}})()},[t,e]);const x=T=>a.find(C=>C.id===T),b=T=>c.find(C=>C.id===T),w=T=>{var C;return((C=h.find(j=>j.id===T))==null?void 0:C.name)||"Unknown User"},y=T=>{switch(T){case"SINGLE":return"Single Player";case"PAIR":return"Pair (2 Players)";case"TEAM":return"Team";default:return T}},v=n.filter(T=>T.status==="pending"),S=n.filter(T=>T.status==="approved"),P=n.filter(T=>T.status==="rejected"),O=({registration:T})=>{const C=x(T.game_id),j=b(T.tournament_id);return!C||!j?null:o.jsxs(Ee,{children:[o.jsx(Ke,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qe,{className:"text-lg",children:C.name}),o.jsxs(vr,{className:"flex items-center gap-2",children:[o.jsx(Mt,{className:"h-4 w-4"}),j.name]})]}),o.jsx("div",{className:"flex flex-col items-end gap-2",children:o.jsxs(gt,{variant:T.status==="approved"?"default":T.status==="pending"?"secondary":"destructive",children:[T.status==="approved"&&o.jsx(Tw,{className:"h-3 w-3 mr-1"}),T.status==="pending"&&o.jsx(Jo,{className:"h-3 w-3 mr-1"}),T.status==="rejected"&&o.jsx(RI,{className:"h-3 w-3 mr-1"}),T.status]})})]})}),o.jsxs(Te,{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Si,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:"Type:"})]}),o.jsx(gt,{variant:"outline",children:y(C.game_type)}),j.start_date&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gs,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:"Start:"})]}),o.jsx("span",{className:"font-medium",children:E(j.start_date)})]})]}),T.notes&&o.jsx("div",{className:"pt-3 border-t",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium",children:"Note:"})," ",T.notes]})}),o.jsxs("div",{className:"pt-2 text-xs text-muted-foreground",children:["Registered on ",E(T.created_at)]})]})]})};return m?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx(xn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Games"}),o.jsx("p",{className:"text-muted-foreground",children:"View and manage your game registrations"})]}),n.length===0&&s.length===0?o.jsx(Ee,{children:o.jsx(Te,{className:"pt-6",children:o.jsx(Fr,{children:o.jsxs(Ur,{className:"text-center",children:["You haven't registered for any games or joined any teams yet. Visit the ",o.jsx("strong",{children:"Register for Games"})," page to get started!"]})})})}):o.jsxs(s_,{defaultValue:"all",className:"space-y-4",children:[o.jsxs(rg,{className:"grid w-full grid-cols-5 max-w-3xl",children:[o.jsxs(Br,{value:"all",children:["All (",n.length,")"]}),o.jsxs(Br,{value:"teams",children:["Teams (",s.length,")"]}),o.jsxs(Br,{value:"pending",children:["Pending (",v.length,")"]}),o.jsxs(Br,{value:"approved",children:["Approved (",S.length,")"]}),o.jsxs(Br,{value:"rejected",children:["Rejected (",P.length,")"]})]}),o.jsx(zr,{value:"all",className:"space-y-4",children:n.length===0?o.jsx(Fr,{children:o.jsx(Ur,{children:"No registrations found."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(T=>o.jsx(O,{registration:T},T.id))})}),o.jsx(zr,{value:"teams",className:"space-y-4",children:s.length===0?o.jsx(Fr,{children:o.jsx(Ur,{children:"You are not part of any teams yet."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map(T=>{const C=b(T.tournament_id),j=x(T.game_id),A=T.player_ids.filter(D=>D!==(t==null?void 0:t.uid)).map(D=>w(D));return o.jsxs(Ee,{children:[o.jsx(Ke,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qe,{className:"text-lg",children:T.name}),o.jsxs(vr,{className:"flex items-center gap-2",children:[o.jsx(Mt,{className:"h-4 w-4"}),C==null?void 0:C.name," - ",j==null?void 0:j.name]})]}),o.jsx(gt,{variant:T.status==="confirmed"?"default":"secondary",children:T.status})]})}),o.jsxs(Te,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground min-w-[60px]",children:[o.jsx(Si,{className:"h-4 w-4"}),o.jsx("span",{children:"Type:"})]}),o.jsx("span",{className:"font-medium",children:T.is_pair?"Pair":"Team"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(DL,{className:"h-4 w-4"}),o.jsx("span",{children:"Teammates:"})]}),A.length>0?o.jsx("div",{className:"flex flex-wrap gap-2 pl-6",children:A.map((D,I)=>o.jsx(gt,{variant:"outline",className:"bg-muted/50",children:D},I))}):o.jsx("span",{className:"text-sm text-muted-foreground pl-6 italic",children:"No other members yet"})]})]})]},T.id)})})}),o.jsx(zr,{value:"pending",className:"space-y-4",children:v.length===0?o.jsx(Fr,{children:o.jsx(Ur,{children:"No pending registrations. All your registrations have been processed."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:v.map(T=>o.jsx(O,{registration:T},T.id))})}),o.jsx(zr,{value:"approved",className:"space-y-4",children:S.length===0?o.jsx(Fr,{children:o.jsx(Ur,{children:"No approved registrations yet. Check back later!"})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:S.map(T=>o.jsx(O,{registration:T},T.id))})}),o.jsx(zr,{value:"rejected",className:"space-y-4",children:P.length===0?o.jsx(Fr,{children:o.jsx(Ur,{children:"No rejected registrations. Great!"})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:P.map(T=>o.jsx(O,{registration:T},T.id))})})]})]})},CQ=()=>{const{user:t}=Xn(),[e,n]=p.useState([]),[r,s]=p.useState([]),[i,a]=p.useState([]),[l,c]=p.useState([]),[u,h]=p.useState([]),[f,m]=p.useState(!0);p.useEffect(()=>{(async()=>{if(t){m(!0);try{const[S,P,O,T]=await Promise.all([Ui({userId:t.uid}),t_(t.uid),An(),Xr()]),C=S.map(V=>V.id),j=await n_(C),D=[...P,...j].map(V=>V.id),[I,k]=await Promise.all([e_(D),zc({})]);n(I),s(k),a(S),c(O),h(T)}catch(S){console.error("Error loading matches:",S)}finally{m(!1)}}})()},[t]);const g=p.useMemo(()=>u.reduce((v,S)=>(v[S.id]=S,v),{}),[u]);p.useMemo(()=>[],[]);const E=v=>{var P,O;if(!v)return"TBD";const S=r.find(T=>T.id===v);return S?S.type==="USER"&&S.user_id?((P=g[S.user_id])==null?void 0:P.name)||"User":"Team "+(((O=S.team_id)==null?void 0:O.slice(-4))||""):"Participant"},x=v=>{var S;return((S=l.find(P=>P.id===v))==null?void 0:S.name)||"Unknown Game"},b=v=>{if(!v)return"TBD";const S=v!=null&&v.toDate?v.toDate():new Date(v);return Wu(S)?Vr(S,"PPp"):"TBD"},w=e.filter(v=>v.status.toUpperCase()!=="COMPLETED"&&v.status.toUpperCase()!=="CANCELLED"),y=e.filter(v=>v.status.toUpperCase()==="COMPLETED");return f?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(xn,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"My Matches"}),o.jsx("p",{className:"text-muted-foreground",children:"Detailed view of your scheduled and past matches"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("section",{children:[o.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2 mb-4",children:[o.jsx(gs,{className:"h-5 w-5 text-primary"}),"Upcoming Matches"]}),w.length>0?o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:w.map(v=>o.jsxs(Ee,{className:"hover:shadow-md transition-shadow",children:[o.jsx(Ke,{className:"pb-2",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(gt,{variant:"outline",className:"mb-2",children:x(v.game_id)}),o.jsx(Qe,{className:"text-lg",children:v.round_name})]}),o.jsx(gt,{children:v.status})]})}),o.jsxs(Te,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-y",children:[o.jsx("div",{className:"text-center flex-1 font-semibold",children:E(v.participant_a_id)}),o.jsx("div",{className:"px-3 text-muted-foreground font-bold italic",children:"VS"}),o.jsx("div",{className:"text-center flex-1 font-semibold",children:E(v.participant_b_id)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-muted-foreground pt-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Jo,{className:"h-4 w-4"}),o.jsx("span",{children:b(v.match_time)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(lp,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:v.venue||"Venue TBD"})]})]})]})]},v.id))}):o.jsx(Ee,{className:"bg-muted/50 border-dashed",children:o.jsx(Te,{className:"py-8 text-center text-muted-foreground",children:"No upcoming matches scheduled yet."})})]}),o.jsxs("section",{children:[o.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2 mb-4",children:[o.jsx(Mt,{className:"h-5 w-5 text-yellow-500"}),"Match History"]}),y.length>0?o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:y.map(v=>o.jsxs(Ee,{className:"bg-muted/20",children:[o.jsx(Ke,{className:"pb-2",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(gt,{variant:"secondary",className:"mb-2",children:x(v.game_id)}),o.jsx(Qe,{className:"text-lg opacity-80",children:v.round_name})]}),o.jsx(gt,{variant:"outline",className:"bg-green-100 text-green-700 border-green-200",children:"Completed"})]})}),o.jsxs(Te,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-y",children:[o.jsxs("div",{className:`text-center flex-1 ${v.winner_participant_id===v.participant_a_id?"font-bold text-green-600":"opacity-60"}`,children:[E(v.participant_a_id),v.winner_participant_id===v.participant_a_id&&" "]}),o.jsx("div",{className:"px-3 text-muted-foreground font-bold italic",children:"VS"}),o.jsxs("div",{className:`text-center flex-1 ${v.winner_participant_id===v.participant_b_id?"font-bold text-green-600":"opacity-60"}`,children:[E(v.participant_b_id),v.winner_participant_id===v.participant_b_id&&" "]})]}),o.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:["Match played on ",b(v.match_time)]})]})]},v.id))}):o.jsx(Ee,{className:"bg-muted/50 border-dashed",children:o.jsx(Te,{className:"py-8 text-center text-muted-foreground",children:"No past match history available."})})]})]})]})},IQ=()=>{const{user:t}=Xn(),{toast:e}=Yn(),[n,r]=p.useState([]),[s,i]=p.useState(!0),a=f=>{if(!f)return"N/A";let m;if(typeof f=="object"&&f.toDate?m=f.toDate():typeof f=="object"&&f.seconds?m=new Date(f.seconds*1e3):m=new Date(f),isNaN(m.getTime()))return"N/A";const g=String(m.getDate()).padStart(2,"0"),E=String(m.getMonth()+1).padStart(2,"0"),x=m.getFullYear();return`${g}/${E}/${x}`};p.useEffect(()=>{(async()=>{if(t){i(!0);try{const[m,g]=await Promise.all([Ws({userId:t.uid}),xr()]),E=Array.from(new Set(m.map(b=>b.tournament_id))),x=g.filter(b=>E.includes(b.id)).map(b=>{const w=m.find(y=>y.tournament_id===b.id);return{...b,userStatus:w==null?void 0:w.status}});r(x)}catch(m){console.error("Error loading tournaments:",m),e({title:"Error",description:"Failed to load your tournaments",variant:"destructive"})}finally{i(!1)}}})()},[t,e]);const l=n.filter(f=>f.status==="active"||f.is_active),c=n.filter(f=>f.userStatus==="pending"),u=n.filter(f=>f.status==="completed"),h=({tournament:f})=>{var m,g;return o.jsxs(Ee,{className:"overflow-hidden hover:shadow-md transition-shadow",children:[o.jsx("div",{className:ae("h-2 w-full",f.status==="active"?"bg-green-500":f.status==="completed"?"bg-gray-500":"bg-blue-500")}),o.jsx(Ke,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qe,{className:"text-xl",children:f.name}),o.jsxs(vr,{className:"flex items-center gap-2",children:[o.jsx(Mt,{className:"h-4 w-4 text-primary"}),"Tournament"]})]}),o.jsx(gt,{variant:f.status==="active"?"default":"secondary",children:((m=f.status)==null?void 0:m.toUpperCase())||(f.is_active?"ACTIVE":"INACTIVE")})]})}),o.jsxs(Te,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gs,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Start Date"}),o.jsx("p",{className:"font-medium",children:a(f.start_date)})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gs,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"End Date"}),o.jsx("p",{className:"font-medium",children:a(f.end_date)})]})]})]}),o.jsx("div",{className:"pt-4 border-t flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Registration:"}),o.jsx(gt,{variant:f.userStatus==="approved"?"outline":"secondary",className:ae(f.userStatus==="approved"?"text-green-600 border-green-600":f.userStatus==="pending"?"text-amber-600 border-amber-600":"text-red-600 border-red-600"),children:((g=f.userStatus)==null?void 0:g.toUpperCase())||"N/A"})]})})]})]})};return s?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx(xn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Tournaments"}),o.jsx("p",{className:"text-muted-foreground",children:"Tournaments you have registered for or participated in"})]}),n.length===0?o.jsx(Ee,{children:o.jsx(Te,{className:"pt-6",children:o.jsx(Fr,{children:o.jsxs(Ur,{className:"text-center py-8",children:[o.jsx("p",{className:"mb-4",children:"You haven't joined any tournaments yet."}),o.jsx("a",{href:"/dashboard/register",className:"text-primary font-medium hover:underline",children:"Browse available tournaments to join!"})]})})})}):o.jsxs(s_,{defaultValue:"all",className:"space-y-4",children:[o.jsxs(rg,{children:[o.jsxs(Br,{value:"all",children:["All (",n.length,")"]}),o.jsxs(Br,{value:"active",children:["Active (",l.length,")"]}),o.jsxs(Br,{value:"pending",children:["Pending (",c.length,")"]}),o.jsxs(Br,{value:"past",children:["Past (",u.length,")"]})]}),o.jsx(zr,{value:"all",className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(f=>o.jsx(h,{tournament:f},f.id))}),o.jsx(zr,{value:"active",className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:l.length>0?l.map(f=>o.jsx(h,{tournament:f},f.id)):o.jsx("div",{className:"col-span-full py-12 text-center text-muted-foreground",children:"No active tournaments currently."})}),o.jsx(zr,{value:"pending",className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:c.length>0?c.map(f=>o.jsx(h,{tournament:f},f.id)):o.jsx("div",{className:"col-span-full py-12 text-center text-muted-foreground",children:"No pending registrations."})}),o.jsx(zr,{value:"past",className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:u.length>0?u.map(f=>o.jsx(h,{tournament:f},f.id)):o.jsx("div",{className:"col-span-full py-12 text-center text-muted-foreground",children:"No past tournaments found."})})]})]})},kQ=()=>{const{user:t}=Xn(),{toast:e}=Yn(),[n,r]=p.useState([]),[s,i]=p.useState(!0),a=async()=>{if(t){i(!0);try{const m=await U2(t.uid);r(m)}catch(m){console.error("Error loading notifications:",m),e({title:"Error",description:"Failed to load notifications",variant:"destructive"})}finally{i(!1)}}};p.useEffect(()=>{a()},[t]);const l=async m=>{try{await KT(m),r(n.map(g=>g.id===m?{...g,is_read:!0}:g)),e({title:"Marked as read",description:"Notification marked as read"})}catch(g){e({title:"Error",description:g.message||"Failed to mark notification as read",variant:"destructive"})}},c=async()=>{try{const m=n.filter(g=>!g.is_read);await Promise.all(m.map(g=>KT(g.id))),r(n.map(g=>({...g,is_read:!0}))),e({title:"All marked as read",description:"All notifications marked as read"})}catch(m){e({title:"Error",description:m.message||"Failed to mark all notifications as read",variant:"destructive"})}},u=m=>{if(!m)return"";let g;if(m!=null&&m.toDate?g=m.toDate():m!=null&&m.seconds?g=new Date(m.seconds*1e3):g=new Date(m),isNaN(g.getTime()))return"Invalid Date";const x=new Date().getTime()-g.getTime(),b=Math.floor(x/6e4),w=Math.floor(x/36e5),y=Math.floor(x/864e5);if(b<1)return"Just now";if(b<60)return`${b} minute${b!==1?"s":""} ago`;if(w<24)return`${w} hour${w!==1?"s":""} ago`;if(y<7)return`${y} day${y!==1?"s":""} ago`;const v=String(g.getDate()).padStart(2,"0"),S=String(g.getMonth()+1).padStart(2,"0"),P=g.getFullYear();return`${v}/${S}/${P}`},h=m=>{switch(m){case"registration":return o.jsx(Tw,{className:"h-5 w-5 text-green-500"});case"match":return o.jsx(Lu,{className:"h-5 w-5 text-blue-500"});default:return o.jsx(Lu,{className:"h-5 w-5 text-muted-foreground"})}},f=n.filter(m=>!m.is_read).length;return s?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx(xn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Notifications"}),o.jsx("p",{className:"text-muted-foreground",children:f>0?`You have ${f} unread notification${f!==1?"s":""}`:"You're all caught up!"})]}),f>0&&o.jsx(be,{variant:"outline",onClick:c,children:"Mark All as Read"})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(Lu,{className:"h-5 w-5"}),"All Notifications"]}),o.jsx(vr,{children:"Your recent notifications and updates"})]}),o.jsx(Te,{children:n.length===0?o.jsx(Fr,{children:o.jsx(Ur,{children:"No notifications yet. You'll receive notifications when your game registrations are approved or when matches are scheduled."})}):o.jsx("div",{className:"space-y-3",children:n.map(m=>o.jsx(Ee,{className:`${m.is_read?"opacity-60 hover:opacity-80":"border-primary/50 bg-primary/5"} transition-opacity`,children:o.jsx(Te,{className:"pt-6",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:m.is_read?o.jsx(NL,{className:"h-5 w-5 text-muted-foreground"}):h(m.type)}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"font-semibold",children:m.title}),!m.is_read&&o.jsx(gt,{variant:"default",className:"h-5 px-1.5 text-xs",children:"New"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:m.message})]}),!m.is_read&&o.jsx(be,{variant:"ghost",size:"sm",onClick:()=>l(m.id),children:"Mark as read"})]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[o.jsx("span",{children:u(m.created_at)}),m.type&&o.jsx(gt,{variant:"outline",className:"text-xs",children:m.type})]})]})]})})},m.id))})})]})]})},jQ=()=>{const{user:t}=Xn(),e=Dc(),[n,r]=p.useState(new Date),[s,i]=p.useState(null),[a,l]=p.useState([]),[c,u]=p.useState(!0),[h,f]=p.useState(!1),[m,g]=p.useState([]);p.useState([]);const[E,x]=p.useState([]),[b,w]=p.useState([]);p.useEffect(()=>{(async()=>{if(t){u(!0);try{const[k,V,G]=await Promise.all([An(),Xr(),Ui({userId:t.uid})]);g(k),x(V),w(G);const H=G.map(le=>le.id),[q,U]=await Promise.all([t_(t.uid),n_(H)]),$=[...q,...U].map(le=>le.id),X=await e_($);l(X)}catch(k){console.error("Error loading schedule:",k)}finally{u(!1)}}})()},[t]);const y=I=>a.filter(k=>{var G;if(!k.match_time)return!1;const V=(G=k.match_time)!=null&&G.toDate?k.match_time.toDate():new Date(k.match_time);return kd(V,I)}),v=I=>{var k;return((k=m.find(V=>V.id===I))==null?void 0:k.name)||"Unknown Game"},S=()=>{f(!1),e("/dashboard/matches")},P=Z2(n),O=Y2(P),T=Go(P),C=J2(O),j=X2({start:T,end:C}),A=[];for(let I=0;I<j.length;I+=7)A.push(j.slice(I,I+7));const D=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"My Schedule"}),o.jsx("p",{className:"text-muted-foreground",children:"View and track your upcoming matches"})]})}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-semibold",children:Vr(n,"MMMM yyyy")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(be,{variant:"outline",size:"icon",onClick:()=>r(rD(n,1)),children:o.jsx(jI,{className:"h-4 w-4"})}),o.jsx(be,{variant:"outline",size:"icon",onClick:()=>r(y_(n,1)),children:o.jsx(PI,{className:"h-4 w-4"})})]})]}),o.jsx(Ee,{children:o.jsxs(Te,{className:"p-0",children:[o.jsx("div",{className:"grid grid-cols-7 border-b",children:D.map(I=>o.jsx("div",{className:"p-4 text-center font-medium text-sm text-muted-foreground border-r last:border-r-0",children:I},I))}),A.map((I,k)=>o.jsx("div",{className:"grid grid-cols-7 border-b last:border-b-0",children:I.map((V,G)=>{const H=y(V),q=s&&kd(V,s),U=nD(V,n);return o.jsxs("div",{className:`min-h-[120px] p-2 border-r last:border-r-0 transition-colors cursor-pointer hover:bg-muted/50
                                            ${U?"":"bg-muted/10 text-muted-foreground"}
                                            ${q?"bg-primary/5 ring-1 ring-inset ring-primary":""}
                                            ${Rm(V)?"bg-accent/50":""}
                                        `,onClick:()=>{H.length>0&&(i(V),f(!0))},children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("span",{className:`text-sm font-medium h-7 w-7 flex items-center justify-center rounded-full
                                                ${Rm(V)?"bg-primary text-primary-foreground":""}
                                            `,children:Vr(V,"d")}),H.length>0&&o.jsx("span",{className:"text-xs font-bold text-primary bg-primary/10 px-1.5 py-0.5 rounded-full",children:H.length})]}),o.jsxs("div",{className:"space-y-1",children:[H.slice(0,3).map(B=>{var X;const $=(X=B.match_time)!=null&&X.toDate?B.match_time.toDate():new Date(B.match_time);return o.jsxs("div",{className:"text-xs p-1 rounded bg-secondary truncate",children:[Vr($,"HH:mm")," - ",v(B.game_id)]},B.id)}),H.length>3&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["+ ",H.length-3," more"]})]})]},G)})},k))]})}),o.jsx(xi,{open:h,onOpenChange:f,children:o.jsxs($s,{className:"max-w-md",children:[o.jsx(Bs,{children:o.jsxs(zs,{children:["Matches on ",s?Vr(s,"MMMM d, yyyy"):""]})}),o.jsx("div",{className:"space-y-4 py-4",children:s&&y(s).map(I=>{var V;const k=(V=I.match_time)!=null&&V.toDate?I.match_time.toDate():new Date(I.match_time);return o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:S,children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mt,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"font-semibold",children:v(I.game_id)})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Jo,{className:"h-3 w-3"}),o.jsx("span",{children:Vr(k,"HH:mm")})]}),I.venue&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(lp,{className:"h-3 w-3"}),o.jsx("span",{children:I.venue})]})]}),o.jsx(be,{variant:"ghost",size:"sm",children:"View Details"})]},I.id)})})]})})]})},PQ=()=>{const{user:t,loading:e,isAdmin:n}=Xn(),{setIsLoading:r}=Js(),[s,i]=p.useState(""),[a,l]=p.useState({activeTournaments:0,matchesPlayed:0,wins:0,upcomingMatches:0}),[c,u]=p.useState([]),[h,f]=p.useState([]),m=g=>{if(!g)return"N/A";let E;if(typeof g=="object"&&g.toDate?E=g.toDate():E=new Date(g),isNaN(E.getTime()))return"N/A";const x=String(E.getDate()).padStart(2,"0"),b=String(E.getMonth()+1).padStart(2,"0"),w=E.getFullYear();return`${x}/${b}/${w}`};return p.useEffect(()=>{const g=async()=>{if(t)try{const E=await zo(Tt(qe,"profiles",t.uid));if(E.exists()){const q=E.data();i(q.name||t.displayName||t.email||"User")}else i(t.displayName||t.email||"User");const x=await Ws({userId:t.uid}),b=Array.from(new Set(x.map(q=>q.tournament_id))),w=b.map(q=>zo(Tt(qe,"tournaments",q))),v=(await Promise.all(w)).map(q=>{if(!q.exists())return null;const U={id:q.id,...q.data()},B=x.find($=>$.tournament_id===q.id);return{...U,userRegistrationStatus:B==null?void 0:B.status}}).filter(q=>q!==null&&(q.is_active||q.status==="active"||q.status==="draft"));u(v);const S=await t_(t.uid),O=(await Ui({userId:t.uid})).map(q=>q.id),T=await n_(O),j=[...S,...T].map(q=>q.id);let A=await e_(j);A.sort((q,U)=>{const B=new Date(q.match_time||q.updated_at||q.created_at||0).getTime();return new Date(U.match_time||U.updated_at||U.created_at||0).getTime()-B});const D=A.slice(0,5).map(q=>({title:`Match: ${q.round_name}`,description:`Status: ${q.status}`,date:m(q.match_time||q.created_at)}));if(D.length===0&&x.length>0){const q=[...x].sort((U,B)=>{const $=new Date(U.created_at||0).getTime();return new Date(B.created_at||0).getTime()-$});D.push(...q.slice(0,5).map(U=>({title:"Joined Tournament",description:"Registration Approved",date:m(U.created_at)})))}f(D);const I=A.filter(q=>q.status==="COMPLETED").length,k=A.filter(q=>q.status==="SCHEDULED").length,V=A.filter(q=>q.status==="COMPLETED").map(q=>q.id),H=(await e2(V)).filter(q=>j.includes(q.winner_participant_id)).length;l({activeTournaments:b.length,matchesPlayed:I,wins:H,upcomingMatches:k})}catch(E){console.error("Error fetching dashboard data:",E),i(t.displayName||t.email||"User")}finally{r(!1)}};t&&(r(!0),g())},[t,r]),p.useEffect(()=>{const g=document.body,E=g.style.paddingTop;return g.style.paddingTop="0",()=>{g.style.paddingTop=E}},[]),e?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading..."})}):t?n?o.jsx(Dv,{to:"/admin",replace:!0}):o.jsx(i_,{children:o.jsxs("div",{className:"min-h-screen flex w-full bg-muted/30",children:[o.jsx(EK,{}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx(TK,{}),o.jsx("main",{className:"flex-1 p-6",children:o.jsxs(Gw,{children:[o.jsx(Pt,{index:!0,element:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Player Dashboard"}),o.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",s,"!"]})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Tournaments Joined"}),o.jsx(Mt,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:a.activeTournaments}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Active tournaments"})]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Matches Played"}),o.jsx(Cw,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:a.matchesPlayed}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total matches"})]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Wins"}),o.jsx(Mt,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:a.wins}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Victories achieved"})]})]}),o.jsx(Rt,{to:"/dashboard/schedule",children:o.jsxs(Ee,{className:"hover:bg-muted/50 cursor-pointer transition-colors",children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Upcoming Matches"}),o.jsx(gs,{className:"h-4 w-4 text-primary"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:a.upcomingMatches}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled matches"})]})]})})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:"Recent Activity"}),o.jsx(vr,{children:"Your latest tournament activities"})]}),o.jsx(Te,{children:h.length>0?o.jsx("div",{className:"space-y-4",children:h.map((g,E)=>o.jsxs("div",{className:"flex items-center justify-between border-b last:border-0 pb-2 last:pb-0",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:g.title}),o.jsx("p",{className:"text-xs text-muted-foreground",children:g.description})]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:g.date})]},E))}):o.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No recent activity yet. Join a tournament to get started!"})})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:"Current Tournaments"}),o.jsx(vr,{children:"Tournaments you're participating in"})]}),o.jsx(Te,{children:c.length>0?o.jsx("div",{className:"space-y-4",children:c.map(g=>o.jsxs("div",{className:"flex items-center justify-between border-b last:border-0 pb-2 last:pb-0",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:g.name}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsx(gt,{variant:g.status==="active"||g.is_active?"default":"secondary",className:"text-[10px] h-5",children:g.status||(g.is_active?"active":"inactive")}),g.userRegistrationStatus&&o.jsx(gt,{variant:g.userRegistrationStatus==="approved"?"outline":"secondary",className:ae("text-[10px] h-5",g.userRegistrationStatus==="approved"?"text-green-600 border-green-600":"text-amber-600 border-amber-600"),children:g.userRegistrationStatus.toUpperCase()})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-xs text-muted-foreground",children:m(g.start_date)})})]},g.id))}):o.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No active tournaments. Browse available tournaments to join!"})})]})]})]})}),o.jsx(Pt,{path:"register",element:o.jsx(SQ,{})}),o.jsx(Pt,{path:"my-games",element:o.jsx(NQ,{})}),o.jsx(Pt,{path:"matches",element:o.jsx(CQ,{})}),o.jsx(Pt,{path:"schedule",element:o.jsx(jQ,{})}),o.jsx(Pt,{path:"notifications",element:o.jsx(kQ,{})}),o.jsx(Pt,{path:"tournaments",element:o.jsx(IQ,{})}),o.jsx(Pt,{path:"profile",element:o.jsx(bQ,{})})]})})]})]})}):o.jsx(Dv,{to:"/login",replace:!0})},AQ=()=>{const t=Xs();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},RQ=new r6,DQ=()=>o.jsx(i6,{client:RQ,children:o.jsxs($w,{children:[o.jsx(yV,{}),o.jsx(QV,{}),o.jsx(e3,{basename:"/",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:o.jsx(O7,{children:o.jsx(S7,{children:o.jsxs(Gw,{children:[o.jsx(Pt,{path:"/",element:o.jsx(D7,{})}),o.jsx(Pt,{path:"/leaderboard",element:o.jsx(oq,{})}),o.jsx(Pt,{path:"/schedule",element:o.jsx(cq,{})}),o.jsx(Pt,{path:"/login",element:o.jsx(eH,{})}),o.jsx(Pt,{path:"/register",element:o.jsx(AH,{})}),o.jsx(Pt,{path:"/dashboard/*",element:o.jsx(PQ,{})}),o.jsx(Pt,{path:"/admin/*",element:o.jsx(_K,{})}),o.jsx(Pt,{path:"*",element:o.jsx(AQ,{})})]})})})})]})});ZC(document.getElementById("root")).render(o.jsx(DQ,{}));
