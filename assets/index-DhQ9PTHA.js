var L0=t=>{throw TypeError(t)};var Np=(t,e,n)=>e.has(t)||L0("Cannot "+n);var B=(t,e,n)=>(Np(t,e,"read from private field"),n?n.call(t):e.get(t)),Ue=(t,e,n)=>e.has(t)?L0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ve=(t,e,n,r)=>(Np(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),nn=(t,e,n)=>(Np(t,e,"access private method"),n);var Gu=(t,e,n,r)=>({set _(s){ve(t,e,s,n)},get _(){return B(t,e,r)}});function EA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function R1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N1={exports:{}},rf={},A1={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=Symbol.for("react.element"),TA=Symbol.for("react.portal"),bA=Symbol.for("react.fragment"),SA=Symbol.for("react.strict_mode"),IA=Symbol.for("react.profiler"),CA=Symbol.for("react.provider"),PA=Symbol.for("react.context"),RA=Symbol.for("react.forward_ref"),NA=Symbol.for("react.suspense"),AA=Symbol.for("react.memo"),kA=Symbol.for("react.lazy"),V0=Symbol.iterator;function jA(t){return t===null||typeof t!="object"?null:(t=V0&&t[V0]||t["@@iterator"],typeof t=="function"?t:null)}var k1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j1=Object.assign,D1={};function il(t,e,n){this.props=t,this.context=e,this.refs=D1,this.updater=n||k1}il.prototype.isReactComponent={};il.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};il.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function O1(){}O1.prototype=il.prototype;function _v(t,e,n){this.props=t,this.context=e,this.refs=D1,this.updater=n||k1}var xv=_v.prototype=new O1;xv.constructor=_v;j1(xv,il.prototype);xv.isPureReactComponent=!0;var F0=Array.isArray,M1=Object.prototype.hasOwnProperty,Ev={current:null},L1={key:!0,ref:!0,__self:!0,__source:!0};function V1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)M1.call(e,r)&&!L1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ou,type:t,key:i,ref:o,props:s,_owner:Ev.current}}function DA(t,e){return{$$typeof:ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tv(t){return typeof t=="object"&&t!==null&&t.$$typeof===ou}function OA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var U0=/\/+/g;function Ap(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OA(""+t.key):e.toString(36)}function Id(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ou:case TA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ap(o,0):r,F0(s)?(n="",t!=null&&(n=t.replace(U0,"$&/")+"/"),Id(s,e,n,"",function(d){return d})):s!=null&&(Tv(s)&&(s=DA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(U0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",F0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ap(i,a);o+=Id(i,e,n,l,s)}else if(l=jA(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ap(i,a++),o+=Id(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ku(t,e,n){if(t==null)return t;var r=[],s=0;return Id(t,r,"","",function(i){return e.call(n,i,s++)}),r}function MA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wn={current:null},Cd={transition:null},LA={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:Cd,ReactCurrentOwner:Ev};function F1(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Ku,forEach:function(t,e,n){Ku(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ku(t,function(){e++}),e},toArray:function(t){return Ku(t,function(e){return e})||[]},only:function(t){if(!Tv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=il;Ce.Fragment=bA;Ce.Profiler=IA;Ce.PureComponent=_v;Ce.StrictMode=SA;Ce.Suspense=NA;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LA;Ce.act=F1;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=j1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ev.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)M1.call(e,l)&&!L1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:ou,type:t.type,key:s,ref:i,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:PA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CA,_context:t},t.Consumer=t};Ce.createElement=V1;Ce.createFactory=function(t){var e=V1.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:RA,render:t}};Ce.isValidElement=Tv;Ce.lazy=function(t){return{$$typeof:kA,_payload:{_status:-1,_result:t},_init:MA}};Ce.memo=function(t,e){return{$$typeof:AA,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=Cd.transition;Cd.transition={};try{t()}finally{Cd.transition=e}};Ce.unstable_act=F1;Ce.useCallback=function(t,e){return wn.current.useCallback(t,e)};Ce.useContext=function(t){return wn.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return wn.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return wn.current.useEffect(t,e)};Ce.useId=function(){return wn.current.useId()};Ce.useImperativeHandle=function(t,e,n){return wn.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return wn.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return wn.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return wn.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return wn.current.useReducer(t,e,n)};Ce.useRef=function(t){return wn.current.useRef(t)};Ce.useState=function(t){return wn.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return wn.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return wn.current.useTransition()};Ce.version="18.3.1";A1.exports=Ce;var p=A1.exports;const q=R1(p),bv=EA({__proto__:null,default:q},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA=p,FA=Symbol.for("react.element"),UA=Symbol.for("react.fragment"),$A=Object.prototype.hasOwnProperty,BA=VA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zA={key:!0,ref:!0,__self:!0,__source:!0};function U1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$A.call(e,r)&&!zA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:FA,type:t,key:i,ref:o,props:s,_owner:BA.current}}rf.Fragment=UA;rf.jsx=U1;rf.jsxs=U1;N1.exports=rf;var c=N1.exports,$1={exports:{}},Hn={},B1={exports:{}},z1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,U){var Q=V.length;V.push(U);e:for(;0<Q;){var oe=Q-1>>>1,Z=V[oe];if(0<s(Z,U))V[oe]=U,V[Q]=Z,Q=oe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var U=V[0],Q=V.pop();if(Q!==U){V[0]=Q;e:for(var oe=0,Z=V.length,ee=Z>>>1;oe<ee;){var le=2*(oe+1)-1,Te=V[le],We=le+1,K=V[We];if(0>s(Te,Q))We<Z&&0>s(K,Te)?(V[oe]=K,V[We]=Q,oe=We):(V[oe]=Te,V[le]=Q,oe=le);else if(We<Z&&0>s(K,Q))V[oe]=K,V[We]=Q,oe=We;else break e}}return U}function s(V,U){var Q=V.sortIndex-U.sortIndex;return Q!==0?Q:V.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,f=null,g=3,v=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(V){for(var U=n(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=V)r(d),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(d)}}function C(V){if(x=!1,E(V),!b)if(n(l)!==null)b=!0,G(O);else{var U=n(d);U!==null&&X(C,U.startTime-V)}}function O(V,U){b=!1,x&&(x=!1,_(S),S=-1),v=!0;var Q=g;try{for(E(U),f=n(l);f!==null&&(!(f.expirationTime>U)||V&&!j());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,g=f.priorityLevel;var Z=oe(f.expirationTime<=U);U=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),E(U)}else r(l);f=n(l)}if(f!==null)var ee=!0;else{var le=n(d);le!==null&&X(C,le.startTime-U),ee=!1}return ee}finally{f=null,g=Q,v=!1}}var k=!1,I=null,S=-1,P=5,N=-1;function j(){return!(t.unstable_now()-N<P)}function D(){if(I!==null){var V=t.unstable_now();N=V;var U=!0;try{U=I(!0,V)}finally{U?A():(k=!1,I=null)}}else k=!1}var A;if(typeof y=="function")A=function(){y(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ie=W.port2;W.port1.onmessage=D,A=function(){ie.postMessage(null)}}else A=function(){w(D,0)};function G(V){I=V,k||(k=!0,A())}function X(V,U){S=w(function(){V(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){b||v||(b=!0,G(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var Q=g;g=U;try{return V()}finally{g=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=g;g=V;try{return U()}finally{g=Q}},t.unstable_scheduleCallback=function(V,U,Q){var oe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,V){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Q+Z,V={id:h++,callback:U,priorityLevel:V,startTime:Q,expirationTime:Z,sortIndex:-1},Q>oe?(V.sortIndex=Q,e(d,V),n(l)===null&&V===n(d)&&(x?(_(S),S=-1):x=!0,X(C,Q-oe))):(V.sortIndex=Z,e(l,V),b||v||(b=!0,G(O))),V},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(V){var U=g;return function(){var Q=g;g=U;try{return V.apply(this,arguments)}finally{g=Q}}}})(z1);B1.exports=z1;var WA=B1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA=p,zn=WA;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W1=new Set,bc={};function Oo(t,e){Fa(t,e),Fa(t+"Capture",e)}function Fa(t,e){for(bc[t]=e,t=0;t<e.length;t++)W1.add(e[t])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Am=Object.prototype.hasOwnProperty,qA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$0={},B0={};function GA(t){return Am.call(B0,t)?!0:Am.call($0,t)?!1:qA.test(t)?B0[t]=!0:($0[t]=!0,!1)}function KA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QA(t,e,n,r){if(e===null||typeof e>"u"||KA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _n(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yt[t]=new _n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yt[e]=new _n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yt[t]=new _n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yt[t]=new _n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yt[t]=new _n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yt[t]=new _n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yt[t]=new _n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yt[t]=new _n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yt[t]=new _n(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sv=/[\-:]([a-z])/g;function Iv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sv,Iv);Yt[e]=new _n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sv,Iv);Yt[e]=new _n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sv,Iv);Yt[e]=new _n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yt[t]=new _n(t,1,!1,t.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yt[t]=new _n(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cv(t,e,n,r){var s=Yt.hasOwnProperty(e)?Yt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QA(e,n,s,r)&&(n=null),r||s===null?GA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bs=HA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qu=Symbol.for("react.element"),ia=Symbol.for("react.portal"),oa=Symbol.for("react.fragment"),Pv=Symbol.for("react.strict_mode"),km=Symbol.for("react.profiler"),H1=Symbol.for("react.provider"),q1=Symbol.for("react.context"),Rv=Symbol.for("react.forward_ref"),jm=Symbol.for("react.suspense"),Dm=Symbol.for("react.suspense_list"),Nv=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),G1=Symbol.for("react.offscreen"),z0=Symbol.iterator;function Fl(t){return t===null||typeof t!="object"?null:(t=z0&&t[z0]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,kp;function Yl(t){if(kp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kp=e&&e[1]||""}return`
`+kp+t}var jp=!1;function Dp(t,e){if(!t||jp)return"";jp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{jp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yl(t):""}function YA(t){switch(t.tag){case 5:return Yl(t.type);case 16:return Yl("Lazy");case 13:return Yl("Suspense");case 19:return Yl("SuspenseList");case 0:case 2:case 15:return t=Dp(t.type,!1),t;case 11:return t=Dp(t.type.render,!1),t;case 1:return t=Dp(t.type,!0),t;default:return""}}function Om(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oa:return"Fragment";case ia:return"Portal";case km:return"Profiler";case Pv:return"StrictMode";case jm:return"Suspense";case Dm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case q1:return(t.displayName||"Context")+".Consumer";case H1:return(t._context.displayName||"Context")+".Provider";case Rv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nv:return e=t.displayName||null,e!==null?e:Om(t.type)||"Memo";case qs:e=t._payload,t=t._init;try{return Om(t(e))}catch{}}return null}function XA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Om(e);case 8:return e===Pv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function K1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JA(t){var e=K1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yu(t){t._valueTracker||(t._valueTracker=JA(t))}function Q1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=K1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function eh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mm(t,e){var n=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function W0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Y1(t,e){e=e.checked,e!=null&&Cv(t,"checked",e,!1)}function Lm(t,e){Y1(t,e);var n=Ci(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vm(t,e.type,Ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function H0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vm(t,e,n){(e!=="number"||eh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xl=Array.isArray;function va(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ci(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Fm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function q0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Xl(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ci(n)}}function X1(t,e){var n=Ci(e.value),r=Ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function G0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function J1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Um(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?J1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xu,Z1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xu=Xu||document.createElement("div"),Xu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZA=["Webkit","ms","Moz","O"];Object.keys(ac).forEach(function(t){ZA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ac[e]=ac[t]})});function eT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ac.hasOwnProperty(t)&&ac[t]?(""+e).trim():e+"px"}function tT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=eT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ek=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $m(t,e){if(e){if(ek[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Bm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=null;function Av(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wm=null,ya=null,wa=null;function K0(t){if(t=cu(t)){if(typeof Wm!="function")throw Error(H(280));var e=t.stateNode;e&&(e=cf(e),Wm(t.stateNode,t.type,e))}}function nT(t){ya?wa?wa.push(t):wa=[t]:ya=t}function rT(){if(ya){var t=ya,e=wa;if(wa=ya=null,K0(t),e)for(t=0;t<e.length;t++)K0(e[t])}}function sT(t,e){return t(e)}function iT(){}var Op=!1;function oT(t,e,n){if(Op)return t(e,n);Op=!0;try{return sT(t,e,n)}finally{Op=!1,(ya!==null||wa!==null)&&(iT(),rT())}}function Ic(t,e){var n=t.stateNode;if(n===null)return null;var r=cf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Hm=!1;if(fs)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Hm=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Hm=!1}function tk(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var lc=!1,th=null,nh=!1,qm=null,nk={onError:function(t){lc=!0,th=t}};function rk(t,e,n,r,s,i,o,a,l){lc=!1,th=null,tk.apply(nk,arguments)}function sk(t,e,n,r,s,i,o,a,l){if(rk.apply(this,arguments),lc){if(lc){var d=th;lc=!1,th=null}else throw Error(H(198));nh||(nh=!0,qm=d)}}function Mo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Q0(t){if(Mo(t)!==t)throw Error(H(188))}function ik(t){var e=t.alternate;if(!e){if(e=Mo(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Q0(s),t;if(i===r)return Q0(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function lT(t){return t=ik(t),t!==null?cT(t):null}function cT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cT(t);if(e!==null)return e;t=t.sibling}return null}var uT=zn.unstable_scheduleCallback,Y0=zn.unstable_cancelCallback,ok=zn.unstable_shouldYield,ak=zn.unstable_requestPaint,Et=zn.unstable_now,lk=zn.unstable_getCurrentPriorityLevel,kv=zn.unstable_ImmediatePriority,dT=zn.unstable_UserBlockingPriority,rh=zn.unstable_NormalPriority,ck=zn.unstable_LowPriority,hT=zn.unstable_IdlePriority,sf=null,Vr=null;function uk(t){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(sf,t,void 0,(t.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:fk,dk=Math.log,hk=Math.LN2;function fk(t){return t>>>=0,t===0?32:31-(dk(t)/hk|0)|0}var Ju=64,Zu=4194304;function Jl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Jl(a):(i&=o,i!==0&&(r=Jl(i)))}else o=n&~s,o!==0?r=Jl(o):i!==0&&(r=Jl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gr(e),s=1<<n,r|=t[n],e&=~s;return r}function pk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-gr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=pk(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Gm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fT(){var t=Ju;return Ju<<=1,!(Ju&4194240)&&(Ju=64),t}function Mp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gr(e),t[e]=n}function gk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-gr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function jv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var He=0;function pT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mT,Dv,gT,vT,yT,Km=!1,ed=[],ci=null,ui=null,di=null,Cc=new Map,Pc=new Map,Qs=[],vk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X0(t,e){switch(t){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Cc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function $l(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=cu(e),e!==null&&Dv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function yk(t,e,n,r,s){switch(e){case"focusin":return ci=$l(ci,t,e,n,r,s),!0;case"dragenter":return ui=$l(ui,t,e,n,r,s),!0;case"mouseover":return di=$l(di,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Cc.set(i,$l(Cc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Pc.set(i,$l(Pc.get(i)||null,t,e,n,r,s)),!0}return!1}function wT(t){var e=so(t.target);if(e!==null){var n=Mo(e);if(n!==null){if(e=n.tag,e===13){if(e=aT(n),e!==null){t.blockedOn=e,yT(t.priority,function(){gT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zm=r,n.target.dispatchEvent(r),zm=null}else return e=cu(n),e!==null&&Dv(e),t.blockedOn=n,!1;e.shift()}return!0}function J0(t,e,n){Pd(t)&&n.delete(e)}function wk(){Km=!1,ci!==null&&Pd(ci)&&(ci=null),ui!==null&&Pd(ui)&&(ui=null),di!==null&&Pd(di)&&(di=null),Cc.forEach(J0),Pc.forEach(J0)}function Bl(t,e){t.blockedOn===e&&(t.blockedOn=null,Km||(Km=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,wk)))}function Rc(t){function e(s){return Bl(s,t)}if(0<ed.length){Bl(ed[0],t);for(var n=1;n<ed.length;n++){var r=ed[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ci!==null&&Bl(ci,t),ui!==null&&Bl(ui,t),di!==null&&Bl(di,t),Cc.forEach(e),Pc.forEach(e),n=0;n<Qs.length;n++)r=Qs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qs.length&&(n=Qs[0],n.blockedOn===null);)wT(n),n.blockedOn===null&&Qs.shift()}var _a=bs.ReactCurrentBatchConfig,ih=!0;function _k(t,e,n,r){var s=He,i=_a.transition;_a.transition=null;try{He=1,Ov(t,e,n,r)}finally{He=s,_a.transition=i}}function xk(t,e,n,r){var s=He,i=_a.transition;_a.transition=null;try{He=4,Ov(t,e,n,r)}finally{He=s,_a.transition=i}}function Ov(t,e,n,r){if(ih){var s=Qm(t,e,n,r);if(s===null)qp(t,e,r,oh,n),X0(t,r);else if(yk(s,t,e,n,r))r.stopPropagation();else if(X0(t,r),e&4&&-1<vk.indexOf(t)){for(;s!==null;){var i=cu(s);if(i!==null&&mT(i),i=Qm(t,e,n,r),i===null&&qp(t,e,r,oh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else qp(t,e,r,null,n)}}var oh=null;function Qm(t,e,n,r){if(oh=null,t=Av(r),t=so(t),t!==null)if(e=Mo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=aT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return oh=t,null}function _T(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lk()){case kv:return 1;case dT:return 4;case rh:case ck:return 16;case hT:return 536870912;default:return 16}default:return 16}}var ii=null,Mv=null,Rd=null;function xT(){if(Rd)return Rd;var t,e=Mv,n=e.length,r,s="value"in ii?ii.value:ii.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Rd=s.slice(t,1<r?1-r:void 0)}function Nd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function td(){return!0}function Z0(){return!1}function qn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?td:Z0,this.isPropagationStopped=Z0,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=td)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=td)},persist:function(){},isPersistent:td}),e}var ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lv=qn(ol),lu=mt({},ol,{view:0,detail:0}),Ek=qn(lu),Lp,Vp,zl,of=mt({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zl&&(zl&&t.type==="mousemove"?(Lp=t.screenX-zl.screenX,Vp=t.screenY-zl.screenY):Vp=Lp=0,zl=t),Lp)},movementY:function(t){return"movementY"in t?t.movementY:Vp}}),e_=qn(of),Tk=mt({},of,{dataTransfer:0}),bk=qn(Tk),Sk=mt({},lu,{relatedTarget:0}),Fp=qn(Sk),Ik=mt({},ol,{animationName:0,elapsedTime:0,pseudoElement:0}),Ck=qn(Ik),Pk=mt({},ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rk=qn(Pk),Nk=mt({},ol,{data:0}),t_=qn(Nk),Ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jk[t])?!!e[t]:!1}function Vv(){return Dk}var Ok=mt({},lu,{key:function(t){if(t.key){var e=Ak[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vv,charCode:function(t){return t.type==="keypress"?Nd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mk=qn(Ok),Lk=mt({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n_=qn(Lk),Vk=mt({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vv}),Fk=qn(Vk),Uk=mt({},ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),$k=qn(Uk),Bk=mt({},of,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zk=qn(Bk),Wk=[9,13,27,32],Fv=fs&&"CompositionEvent"in window,cc=null;fs&&"documentMode"in document&&(cc=document.documentMode);var Hk=fs&&"TextEvent"in window&&!cc,ET=fs&&(!Fv||cc&&8<cc&&11>=cc),r_=" ",s_=!1;function TT(t,e){switch(t){case"keyup":return Wk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var aa=!1;function qk(t,e){switch(t){case"compositionend":return bT(e);case"keypress":return e.which!==32?null:(s_=!0,r_);case"textInput":return t=e.data,t===r_&&s_?null:t;default:return null}}function Gk(t,e){if(aa)return t==="compositionend"||!Fv&&TT(t,e)?(t=xT(),Rd=Mv=ii=null,aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ET&&e.locale!=="ko"?null:e.data;default:return null}}var Kk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kk[t.type]:e==="textarea"}function ST(t,e,n,r){nT(r),e=ah(e,"onChange"),0<e.length&&(n=new Lv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uc=null,Nc=null;function Qk(t){MT(t,0)}function af(t){var e=ua(t);if(Q1(e))return t}function Yk(t,e){if(t==="change")return e}var IT=!1;if(fs){var Up;if(fs){var $p="oninput"in document;if(!$p){var o_=document.createElement("div");o_.setAttribute("oninput","return;"),$p=typeof o_.oninput=="function"}Up=$p}else Up=!1;IT=Up&&(!document.documentMode||9<document.documentMode)}function a_(){uc&&(uc.detachEvent("onpropertychange",CT),Nc=uc=null)}function CT(t){if(t.propertyName==="value"&&af(Nc)){var e=[];ST(e,Nc,t,Av(t)),oT(Qk,e)}}function Xk(t,e,n){t==="focusin"?(a_(),uc=e,Nc=n,uc.attachEvent("onpropertychange",CT)):t==="focusout"&&a_()}function Jk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return af(Nc)}function Zk(t,e){if(t==="click")return af(e)}function e2(t,e){if(t==="input"||t==="change")return af(e)}function t2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _r=typeof Object.is=="function"?Object.is:t2;function Ac(t,e){if(_r(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Am.call(e,s)||!_r(t[s],e[s]))return!1}return!0}function l_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function c_(t,e){var n=l_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=l_(n)}}function PT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function RT(){for(var t=window,e=eh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=eh(t.document)}return e}function Uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function n2(t){var e=RT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PT(n.ownerDocument.documentElement,n)){if(r!==null&&Uv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=c_(n,i);var o=c_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var r2=fs&&"documentMode"in document&&11>=document.documentMode,la=null,Ym=null,dc=null,Xm=!1;function u_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xm||la==null||la!==eh(r)||(r=la,"selectionStart"in r&&Uv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dc&&Ac(dc,r)||(dc=r,r=ah(Ym,"onSelect"),0<r.length&&(e=new Lv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=la)))}function nd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ca={animationend:nd("Animation","AnimationEnd"),animationiteration:nd("Animation","AnimationIteration"),animationstart:nd("Animation","AnimationStart"),transitionend:nd("Transition","TransitionEnd")},Bp={},NT={};fs&&(NT=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function lf(t){if(Bp[t])return Bp[t];if(!ca[t])return t;var e=ca[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NT)return Bp[t]=e[n];return t}var AT=lf("animationend"),kT=lf("animationiteration"),jT=lf("animationstart"),DT=lf("transitionend"),OT=new Map,d_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(t,e){OT.set(t,e),Oo(e,[t])}for(var zp=0;zp<d_.length;zp++){var Wp=d_[zp],s2=Wp.toLowerCase(),i2=Wp[0].toUpperCase()+Wp.slice(1);Vi(s2,"on"+i2)}Vi(AT,"onAnimationEnd");Vi(kT,"onAnimationIteration");Vi(jT,"onAnimationStart");Vi("dblclick","onDoubleClick");Vi("focusin","onFocus");Vi("focusout","onBlur");Vi(DT,"onTransitionEnd");Fa("onMouseEnter",["mouseout","mouseover"]);Fa("onMouseLeave",["mouseout","mouseover"]);Fa("onPointerEnter",["pointerout","pointerover"]);Fa("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zl));function h_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sk(r,e,void 0,t),t.currentTarget=null}function MT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;h_(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;h_(s,a,d),i=l}}}if(nh)throw t=qm,nh=!1,qm=null,t}function nt(t,e){var n=e[ng];n===void 0&&(n=e[ng]=new Set);var r=t+"__bubble";n.has(r)||(LT(e,t,2,!1),n.add(r))}function Hp(t,e,n){var r=0;e&&(r|=4),LT(n,t,r,e)}var rd="_reactListening"+Math.random().toString(36).slice(2);function kc(t){if(!t[rd]){t[rd]=!0,W1.forEach(function(n){n!=="selectionchange"&&(o2.has(n)||Hp(n,!1,t),Hp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rd]||(e[rd]=!0,Hp("selectionchange",!1,e))}}function LT(t,e,n,r){switch(_T(e)){case 1:var s=_k;break;case 4:s=xk;break;default:s=Ov}n=s.bind(null,e,n,t),s=void 0,!Hm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function qp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=so(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}oT(function(){var d=i,h=Av(n),f=[];e:{var g=OT.get(t);if(g!==void 0){var v=Lv,b=t;switch(t){case"keypress":if(Nd(n)===0)break e;case"keydown":case"keyup":v=Mk;break;case"focusin":b="focus",v=Fp;break;case"focusout":b="blur",v=Fp;break;case"beforeblur":case"afterblur":v=Fp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=e_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=bk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Fk;break;case AT:case kT:case jT:v=Ck;break;case DT:v=$k;break;case"scroll":v=Ek;break;case"wheel":v=zk;break;case"copy":case"cut":case"paste":v=Rk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=n_}var x=(e&4)!==0,w=!x&&t==="scroll",_=x?g!==null?g+"Capture":null:g;x=[];for(var y=d,E;y!==null;){E=y;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,_!==null&&(C=Ic(y,_),C!=null&&x.push(jc(y,C,E)))),w)break;y=y.return}0<x.length&&(g=new v(g,b,null,n,h),f.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==zm&&(b=n.relatedTarget||n.fromElement)&&(so(b)||b[ps]))break e;if((v||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,v?(b=n.relatedTarget||n.toElement,v=d,b=b?so(b):null,b!==null&&(w=Mo(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=d),v!==b)){if(x=e_,C="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=n_,C="onPointerLeave",_="onPointerEnter",y="pointer"),w=v==null?g:ua(v),E=b==null?g:ua(b),g=new x(C,y+"leave",v,n,h),g.target=w,g.relatedTarget=E,C=null,so(h)===d&&(x=new x(_,y+"enter",b,n,h),x.target=E,x.relatedTarget=w,C=x),w=C,v&&b)t:{for(x=v,_=b,y=0,E=x;E;E=Yo(E))y++;for(E=0,C=_;C;C=Yo(C))E++;for(;0<y-E;)x=Yo(x),y--;for(;0<E-y;)_=Yo(_),E--;for(;y--;){if(x===_||_!==null&&x===_.alternate)break t;x=Yo(x),_=Yo(_)}x=null}else x=null;v!==null&&f_(f,g,v,x,!1),b!==null&&w!==null&&f_(f,w,b,x,!0)}}e:{if(g=d?ua(d):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var O=Yk;else if(i_(g))if(IT)O=e2;else{O=Jk;var k=Xk}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(O=Zk);if(O&&(O=O(t,d))){ST(f,O,n,h);break e}k&&k(t,g,d),t==="focusout"&&(k=g._wrapperState)&&k.controlled&&g.type==="number"&&Vm(g,"number",g.value)}switch(k=d?ua(d):window,t){case"focusin":(i_(k)||k.contentEditable==="true")&&(la=k,Ym=d,dc=null);break;case"focusout":dc=Ym=la=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,u_(f,n,h);break;case"selectionchange":if(r2)break;case"keydown":case"keyup":u_(f,n,h)}var I;if(Fv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else aa?TT(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(ET&&n.locale!=="ko"&&(aa||S!=="onCompositionStart"?S==="onCompositionEnd"&&aa&&(I=xT()):(ii=h,Mv="value"in ii?ii.value:ii.textContent,aa=!0)),k=ah(d,S),0<k.length&&(S=new t_(S,t,null,n,h),f.push({event:S,listeners:k}),I?S.data=I:(I=bT(n),I!==null&&(S.data=I)))),(I=Hk?qk(t,n):Gk(t,n))&&(d=ah(d,"onBeforeInput"),0<d.length&&(h=new t_("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=I))}MT(f,e)})}function jc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ah(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ic(t,n),i!=null&&r.unshift(jc(t,i,s)),i=Ic(t,e),i!=null&&r.push(jc(t,i,s))),t=t.return}return r}function Yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function f_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=Ic(n,i),l!=null&&o.unshift(jc(n,l,a))):s||(l=Ic(n,i),l!=null&&o.push(jc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var a2=/\r\n?/g,l2=/\u0000|\uFFFD/g;function p_(t){return(typeof t=="string"?t:""+t).replace(a2,`
`).replace(l2,"")}function sd(t,e,n){if(e=p_(e),p_(t)!==e&&n)throw Error(H(425))}function lh(){}var Jm=null,Zm=null;function eg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tg=typeof setTimeout=="function"?setTimeout:void 0,c2=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,u2=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(t){return m_.resolve(null).then(t).catch(d2)}:tg;function d2(t){setTimeout(function(){throw t})}function Gp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Rc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Rc(e)}function hi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function g_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var al=Math.random().toString(36).slice(2),Or="__reactFiber$"+al,Dc="__reactProps$"+al,ps="__reactContainer$"+al,ng="__reactEvents$"+al,h2="__reactListeners$"+al,f2="__reactHandles$"+al;function so(t){var e=t[Or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ps]||n[Or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=g_(t);t!==null;){if(n=t[Or])return n;t=g_(t)}return e}t=n,n=t.parentNode}return null}function cu(t){return t=t[Or]||t[ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function cf(t){return t[Dc]||null}var rg=[],da=-1;function Fi(t){return{current:t}}function at(t){0>da||(t.current=rg[da],rg[da]=null,da--)}function Ze(t,e){da++,rg[da]=t.current,t.current=e}var Pi={},dn=Fi(Pi),Rn=Fi(!1),xo=Pi;function Ua(t,e){var n=t.type.contextTypes;if(!n)return Pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Nn(t){return t=t.childContextTypes,t!=null}function ch(){at(Rn),at(dn)}function v_(t,e,n){if(dn.current!==Pi)throw Error(H(168));Ze(dn,e),Ze(Rn,n)}function VT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,XA(t)||"Unknown",s));return mt({},n,r)}function uh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pi,xo=dn.current,Ze(dn,t),Ze(Rn,Rn.current),!0}function y_(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=VT(t,e,xo),r.__reactInternalMemoizedMergedChildContext=t,at(Rn),at(dn),Ze(dn,t)):at(Rn),Ze(Rn,n)}var rs=null,uf=!1,Kp=!1;function FT(t){rs===null?rs=[t]:rs.push(t)}function p2(t){uf=!0,FT(t)}function Ui(){if(!Kp&&rs!==null){Kp=!0;var t=0,e=He;try{var n=rs;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}rs=null,uf=!1}catch(s){throw rs!==null&&(rs=rs.slice(t+1)),uT(kv,Ui),s}finally{He=e,Kp=!1}}return null}var ha=[],fa=0,dh=null,hh=0,Qn=[],Yn=0,Eo=null,os=1,as="";function eo(t,e){ha[fa++]=hh,ha[fa++]=dh,dh=t,hh=e}function UT(t,e,n){Qn[Yn++]=os,Qn[Yn++]=as,Qn[Yn++]=Eo,Eo=t;var r=os;t=as;var s=32-gr(r)-1;r&=~(1<<s),n+=1;var i=32-gr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,os=1<<32-gr(e)+s|n<<s|r,as=i+t}else os=1<<i|n<<s|r,as=t}function $v(t){t.return!==null&&(eo(t,1),UT(t,1,0))}function Bv(t){for(;t===dh;)dh=ha[--fa],ha[fa]=null,hh=ha[--fa],ha[fa]=null;for(;t===Eo;)Eo=Qn[--Yn],Qn[Yn]=null,as=Qn[--Yn],Qn[Yn]=null,os=Qn[--Yn],Qn[Yn]=null}var $n=null,Fn=null,dt=!1,pr=null;function $T(t,e){var n=Jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function w_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$n=t,Fn=hi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$n=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Eo!==null?{id:os,overflow:as}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$n=t,Fn=null,!0):!1;default:return!1}}function sg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ig(t){if(dt){var e=Fn;if(e){var n=e;if(!w_(t,e)){if(sg(t))throw Error(H(418));e=hi(n.nextSibling);var r=$n;e&&w_(t,e)?$T(r,n):(t.flags=t.flags&-4097|2,dt=!1,$n=t)}}else{if(sg(t))throw Error(H(418));t.flags=t.flags&-4097|2,dt=!1,$n=t}}}function __(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$n=t}function id(t){if(t!==$n)return!1;if(!dt)return __(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!eg(t.type,t.memoizedProps)),e&&(e=Fn)){if(sg(t))throw BT(),Error(H(418));for(;e;)$T(t,e),e=hi(e.nextSibling)}if(__(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fn=hi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=$n?hi(t.stateNode.nextSibling):null;return!0}function BT(){for(var t=Fn;t;)t=hi(t.nextSibling)}function $a(){Fn=$n=null,dt=!1}function zv(t){pr===null?pr=[t]:pr.push(t)}var m2=bs.ReactCurrentBatchConfig;function Wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function od(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function x_(t){var e=t._init;return e(t._payload)}function zT(t){function e(_,y){if(t){var E=_.deletions;E===null?(_.deletions=[y],_.flags|=16):E.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function s(_,y){return _=gi(_,y),_.index=0,_.sibling=null,_}function i(_,y,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<y?(_.flags|=2,y):E):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,E,C){return y===null||y.tag!==6?(y=tm(E,_.mode,C),y.return=_,y):(y=s(y,E),y.return=_,y)}function l(_,y,E,C){var O=E.type;return O===oa?h(_,y,E.props.children,C,E.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===qs&&x_(O)===y.type)?(C=s(y,E.props),C.ref=Wl(_,y,E),C.return=_,C):(C=Ld(E.type,E.key,E.props,null,_.mode,C),C.ref=Wl(_,y,E),C.return=_,C)}function d(_,y,E,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=nm(E,_.mode,C),y.return=_,y):(y=s(y,E.children||[]),y.return=_,y)}function h(_,y,E,C,O){return y===null||y.tag!==7?(y=vo(E,_.mode,C,O),y.return=_,y):(y=s(y,E),y.return=_,y)}function f(_,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=tm(""+y,_.mode,E),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Qu:return E=Ld(y.type,y.key,y.props,null,_.mode,E),E.ref=Wl(_,null,y),E.return=_,E;case ia:return y=nm(y,_.mode,E),y.return=_,y;case qs:var C=y._init;return f(_,C(y._payload),E)}if(Xl(y)||Fl(y))return y=vo(y,_.mode,E,null),y.return=_,y;od(_,y)}return null}function g(_,y,E,C){var O=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return O!==null?null:a(_,y,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qu:return E.key===O?l(_,y,E,C):null;case ia:return E.key===O?d(_,y,E,C):null;case qs:return O=E._init,g(_,y,O(E._payload),C)}if(Xl(E)||Fl(E))return O!==null?null:h(_,y,E,C,null);od(_,E)}return null}function v(_,y,E,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return _=_.get(E)||null,a(y,_,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Qu:return _=_.get(C.key===null?E:C.key)||null,l(y,_,C,O);case ia:return _=_.get(C.key===null?E:C.key)||null,d(y,_,C,O);case qs:var k=C._init;return v(_,y,E,k(C._payload),O)}if(Xl(C)||Fl(C))return _=_.get(E)||null,h(y,_,C,O,null);od(y,C)}return null}function b(_,y,E,C){for(var O=null,k=null,I=y,S=y=0,P=null;I!==null&&S<E.length;S++){I.index>S?(P=I,I=null):P=I.sibling;var N=g(_,I,E[S],C);if(N===null){I===null&&(I=P);break}t&&I&&N.alternate===null&&e(_,I),y=i(N,y,S),k===null?O=N:k.sibling=N,k=N,I=P}if(S===E.length)return n(_,I),dt&&eo(_,S),O;if(I===null){for(;S<E.length;S++)I=f(_,E[S],C),I!==null&&(y=i(I,y,S),k===null?O=I:k.sibling=I,k=I);return dt&&eo(_,S),O}for(I=r(_,I);S<E.length;S++)P=v(I,_,S,E[S],C),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?S:P.key),y=i(P,y,S),k===null?O=P:k.sibling=P,k=P);return t&&I.forEach(function(j){return e(_,j)}),dt&&eo(_,S),O}function x(_,y,E,C){var O=Fl(E);if(typeof O!="function")throw Error(H(150));if(E=O.call(E),E==null)throw Error(H(151));for(var k=O=null,I=y,S=y=0,P=null,N=E.next();I!==null&&!N.done;S++,N=E.next()){I.index>S?(P=I,I=null):P=I.sibling;var j=g(_,I,N.value,C);if(j===null){I===null&&(I=P);break}t&&I&&j.alternate===null&&e(_,I),y=i(j,y,S),k===null?O=j:k.sibling=j,k=j,I=P}if(N.done)return n(_,I),dt&&eo(_,S),O;if(I===null){for(;!N.done;S++,N=E.next())N=f(_,N.value,C),N!==null&&(y=i(N,y,S),k===null?O=N:k.sibling=N,k=N);return dt&&eo(_,S),O}for(I=r(_,I);!N.done;S++,N=E.next())N=v(I,_,S,N.value,C),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?S:N.key),y=i(N,y,S),k===null?O=N:k.sibling=N,k=N);return t&&I.forEach(function(D){return e(_,D)}),dt&&eo(_,S),O}function w(_,y,E,C){if(typeof E=="object"&&E!==null&&E.type===oa&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Qu:e:{for(var O=E.key,k=y;k!==null;){if(k.key===O){if(O=E.type,O===oa){if(k.tag===7){n(_,k.sibling),y=s(k,E.props.children),y.return=_,_=y;break e}}else if(k.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===qs&&x_(O)===k.type){n(_,k.sibling),y=s(k,E.props),y.ref=Wl(_,k,E),y.return=_,_=y;break e}n(_,k);break}else e(_,k);k=k.sibling}E.type===oa?(y=vo(E.props.children,_.mode,C,E.key),y.return=_,_=y):(C=Ld(E.type,E.key,E.props,null,_.mode,C),C.ref=Wl(_,y,E),C.return=_,_=C)}return o(_);case ia:e:{for(k=E.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(_,y.sibling),y=s(y,E.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=nm(E,_.mode,C),y.return=_,_=y}return o(_);case qs:return k=E._init,w(_,y,k(E._payload),C)}if(Xl(E))return b(_,y,E,C);if(Fl(E))return x(_,y,E,C);od(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(_,y.sibling),y=s(y,E),y.return=_,_=y):(n(_,y),y=tm(E,_.mode,C),y.return=_,_=y),o(_)):n(_,y)}return w}var Ba=zT(!0),WT=zT(!1),fh=Fi(null),ph=null,pa=null,Wv=null;function Hv(){Wv=pa=ph=null}function qv(t){var e=fh.current;at(fh),t._currentValue=e}function og(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function xa(t,e){ph=t,Wv=pa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function er(t){var e=t._currentValue;if(Wv!==t)if(t={context:t,memoizedValue:e,next:null},pa===null){if(ph===null)throw Error(H(308));pa=t,ph.dependencies={lanes:0,firstContext:t}}else pa=pa.next=t;return e}var io=null;function Gv(t){io===null?io=[t]:io.push(t)}function HT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Gv(e)):(n.next=s.next,s.next=n),e.interleaved=n,ms(t,r)}function ms(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gs=!1;function Kv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function us(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ms(t,n)}return s=r.interleaved,s===null?(e.next=e,Gv(r)):(e.next=s.next,s.next=e),r.interleaved=e,ms(t,n)}function Ad(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jv(t,n)}}function E_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mh(t,e,n,r){var s=t.updateQueue;Gs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=d=l=null,a=i;do{var g=a.lane,v=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,x=a;switch(g=e,v=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){f=b.call(v,f,g);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,g=typeof b=="function"?b.call(v,f,g):b,g==null)break e;f=mt({},f,g);break e;case 2:Gs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else v={eventTime:v,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=v,l=f):h=h.next=v,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);bo|=o,t.lanes=o,t.memoizedState=f}}function T_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var uu={},Fr=Fi(uu),Oc=Fi(uu),Mc=Fi(uu);function oo(t){if(t===uu)throw Error(H(174));return t}function Qv(t,e){switch(Ze(Mc,e),Ze(Oc,t),Ze(Fr,uu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Um(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Um(e,t)}at(Fr),Ze(Fr,e)}function za(){at(Fr),at(Oc),at(Mc)}function GT(t){oo(Mc.current);var e=oo(Fr.current),n=Um(e,t.type);e!==n&&(Ze(Oc,t),Ze(Fr,n))}function Yv(t){Oc.current===t&&(at(Fr),at(Oc))}var ht=Fi(0);function gh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qp=[];function Xv(){for(var t=0;t<Qp.length;t++)Qp[t]._workInProgressVersionPrimary=null;Qp.length=0}var kd=bs.ReactCurrentDispatcher,Yp=bs.ReactCurrentBatchConfig,To=0,ft=null,Dt=null,Ut=null,vh=!1,hc=!1,Lc=0,g2=0;function rn(){throw Error(H(321))}function Jv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_r(t[n],e[n]))return!1;return!0}function Zv(t,e,n,r,s,i){if(To=i,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kd.current=t===null||t.memoizedState===null?_2:x2,t=n(r,s),hc){i=0;do{if(hc=!1,Lc=0,25<=i)throw Error(H(301));i+=1,Ut=Dt=null,e.updateQueue=null,kd.current=E2,t=n(r,s)}while(hc)}if(kd.current=yh,e=Dt!==null&&Dt.next!==null,To=0,Ut=Dt=ft=null,vh=!1,e)throw Error(H(300));return t}function ey(){var t=Lc!==0;return Lc=0,t}function Nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ft.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function tr(){if(Dt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=Ut===null?ft.memoizedState:Ut.next;if(e!==null)Ut=e,Dt=t;else{if(t===null)throw Error(H(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ut===null?ft.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Vc(t,e){return typeof e=="function"?e(t):e}function Xp(t){var e=tr(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=Dt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var h=d.lane;if((To&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ft.lanes|=h,bo|=h}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,_r(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ft.lanes|=i,bo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jp(t){var e=tr(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);_r(i,e.memoizedState)||(Pn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function KT(){}function QT(t,e){var n=ft,r=tr(),s=e(),i=!_r(r.memoizedState,s);if(i&&(r.memoizedState=s,Pn=!0),r=r.queue,ty(JT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,Fc(9,XT.bind(null,n,r,s,e),void 0,null),$t===null)throw Error(H(349));To&30||YT(n,e,s)}return s}function YT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function XT(t,e,n,r){e.value=n,e.getSnapshot=r,ZT(e)&&eb(t)}function JT(t,e,n){return n(function(){ZT(e)&&eb(t)})}function ZT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_r(t,n)}catch{return!0}}function eb(t){var e=ms(t,1);e!==null&&vr(e,t,1,-1)}function b_(t){var e=Nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vc,lastRenderedState:t},e.queue=t,t=t.dispatch=w2.bind(null,ft,t),[e.memoizedState,t]}function Fc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tb(){return tr().memoizedState}function jd(t,e,n,r){var s=Nr();ft.flags|=t,s.memoizedState=Fc(1|e,n,void 0,r===void 0?null:r)}function df(t,e,n,r){var s=tr();r=r===void 0?null:r;var i=void 0;if(Dt!==null){var o=Dt.memoizedState;if(i=o.destroy,r!==null&&Jv(r,o.deps)){s.memoizedState=Fc(e,n,i,r);return}}ft.flags|=t,s.memoizedState=Fc(1|e,n,i,r)}function S_(t,e){return jd(8390656,8,t,e)}function ty(t,e){return df(2048,8,t,e)}function nb(t,e){return df(4,2,t,e)}function rb(t,e){return df(4,4,t,e)}function sb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ib(t,e,n){return n=n!=null?n.concat([t]):null,df(4,4,sb.bind(null,e,t),n)}function ny(){}function ob(t,e){var n=tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ab(t,e){var n=tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lb(t,e,n){return To&21?(_r(n,e)||(n=fT(),ft.lanes|=n,bo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=n)}function v2(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=Yp.transition;Yp.transition={};try{t(!1),e()}finally{He=n,Yp.transition=r}}function cb(){return tr().memoizedState}function y2(t,e,n){var r=mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ub(t))db(e,n);else if(n=HT(t,e,n,r),n!==null){var s=vn();vr(n,t,r,s),hb(n,e,r)}}function w2(t,e,n){var r=mi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ub(t))db(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,_r(a,o)){var l=e.interleaved;l===null?(s.next=s,Gv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=HT(t,e,s,r),n!==null&&(s=vn(),vr(n,t,r,s),hb(n,e,r))}}function ub(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function db(t,e){hc=vh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jv(t,n)}}var yh={readContext:er,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},_2={readContext:er,useCallback:function(t,e){return Nr().memoizedState=[t,e===void 0?null:e],t},useContext:er,useEffect:S_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jd(4194308,4,sb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jd(4194308,4,t,e)},useInsertionEffect:function(t,e){return jd(4,2,t,e)},useMemo:function(t,e){var n=Nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=y2.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=Nr();return t={current:t},e.memoizedState=t},useState:b_,useDebugValue:ny,useDeferredValue:function(t){return Nr().memoizedState=t},useTransition:function(){var t=b_(!1),e=t[0];return t=v2.bind(null,t[1]),Nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,s=Nr();if(dt){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),$t===null)throw Error(H(349));To&30||YT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,S_(JT.bind(null,r,i,t),[t]),r.flags|=2048,Fc(9,XT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Nr(),e=$t.identifierPrefix;if(dt){var n=as,r=os;n=(r&~(1<<32-gr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=g2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},x2={readContext:er,useCallback:ob,useContext:er,useEffect:ty,useImperativeHandle:ib,useInsertionEffect:nb,useLayoutEffect:rb,useMemo:ab,useReducer:Xp,useRef:tb,useState:function(){return Xp(Vc)},useDebugValue:ny,useDeferredValue:function(t){var e=tr();return lb(e,Dt.memoizedState,t)},useTransition:function(){var t=Xp(Vc)[0],e=tr().memoizedState;return[t,e]},useMutableSource:KT,useSyncExternalStore:QT,useId:cb,unstable_isNewReconciler:!1},E2={readContext:er,useCallback:ob,useContext:er,useEffect:ty,useImperativeHandle:ib,useInsertionEffect:nb,useLayoutEffect:rb,useMemo:ab,useReducer:Jp,useRef:tb,useState:function(){return Jp(Vc)},useDebugValue:ny,useDeferredValue:function(t){var e=tr();return Dt===null?e.memoizedState=t:lb(e,Dt.memoizedState,t)},useTransition:function(){var t=Jp(Vc)[0],e=tr().memoizedState;return[t,e]},useMutableSource:KT,useSyncExternalStore:QT,useId:cb,unstable_isNewReconciler:!1};function cr(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ag(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hf={isMounted:function(t){return(t=t._reactInternals)?Mo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vn(),s=mi(t),i=us(r,s);i.payload=e,n!=null&&(i.callback=n),e=fi(t,i,s),e!==null&&(vr(e,t,s,r),Ad(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vn(),s=mi(t),i=us(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=fi(t,i,s),e!==null&&(vr(e,t,s,r),Ad(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vn(),r=mi(t),s=us(n,r);s.tag=2,e!=null&&(s.callback=e),e=fi(t,s,r),e!==null&&(vr(e,t,r,n),Ad(e,t,r))}};function I_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ac(n,r)||!Ac(s,i):!0}function fb(t,e,n){var r=!1,s=Pi,i=e.contextType;return typeof i=="object"&&i!==null?i=er(i):(s=Nn(e)?xo:dn.current,r=e.contextTypes,i=(r=r!=null)?Ua(t,s):Pi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function C_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hf.enqueueReplaceState(e,e.state,null)}function lg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Kv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=er(i):(i=Nn(e)?xo:dn.current,s.context=Ua(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ag(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&hf.enqueueReplaceState(s,s.state,null),mh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Wa(t,e){try{var n="",r=e;do n+=YA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Zp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var T2=typeof WeakMap=="function"?WeakMap:Map;function pb(t,e,n){n=us(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_h||(_h=!0,wg=r),cg(t,e)},n}function mb(t,e,n){n=us(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){cg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){cg(t,e),typeof r!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function P_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new T2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=L2.bind(null,t,e,n),e.then(t,t))}function R_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function N_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=us(-1,1),e.tag=2,fi(n,e,1))),n.lanes|=1),t)}var b2=bs.ReactCurrentOwner,Pn=!1;function mn(t,e,n,r){e.child=t===null?WT(e,null,n,r):Ba(e,t.child,n,r)}function A_(t,e,n,r,s){n=n.render;var i=e.ref;return xa(e,s),r=Zv(t,e,n,r,i,s),n=ey(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gs(t,e,s)):(dt&&n&&$v(e),e.flags|=1,mn(t,e,r,s),e.child)}function k_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!uy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,gb(t,e,i,r,s)):(t=Ld(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ac,n(o,r)&&t.ref===e.ref)return gs(t,e,s)}return e.flags|=1,t=gi(i,r),t.ref=e.ref,t.return=e,e.child=t}function gb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ac(i,r)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,gs(t,e,s)}return ug(t,e,n,r,s)}function vb(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ga,Mn),Mn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(ga,Mn),Mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ze(ga,Mn),Mn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ze(ga,Mn),Mn|=r;return mn(t,e,s,n),e.child}function yb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ug(t,e,n,r,s){var i=Nn(n)?xo:dn.current;return i=Ua(e,i),xa(e,s),n=Zv(t,e,n,r,i,s),r=ey(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gs(t,e,s)):(dt&&r&&$v(e),e.flags|=1,mn(t,e,n,s),e.child)}function j_(t,e,n,r,s){if(Nn(n)){var i=!0;uh(e)}else i=!1;if(xa(e,s),e.stateNode===null)Dd(t,e),fb(e,n,r),lg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=er(d):(d=Nn(n)?xo:dn.current,d=Ua(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&C_(e,o,r,d),Gs=!1;var g=e.memoizedState;o.state=g,mh(e,r,o,s),l=e.memoizedState,a!==r||g!==l||Rn.current||Gs?(typeof h=="function"&&(ag(e,n,h,r),l=e.memoizedState),(a=Gs||I_(e,n,a,r,g,l,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,qT(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:cr(e.type,a),o.props=d,f=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=er(l):(l=Nn(n)?xo:dn.current,l=Ua(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==l)&&C_(e,o,r,l),Gs=!1,g=e.memoizedState,o.state=g,mh(e,r,o,s);var b=e.memoizedState;a!==f||g!==b||Rn.current||Gs?(typeof v=="function"&&(ag(e,n,v,r),b=e.memoizedState),(d=Gs||I_(e,n,d,r,g,b,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return dg(t,e,n,r,i,s)}function dg(t,e,n,r,s,i){yb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&y_(e,n,!1),gs(t,e,i);r=e.stateNode,b2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ba(e,t.child,null,i),e.child=Ba(e,null,a,i)):mn(t,e,a,i),e.memoizedState=r.state,s&&y_(e,n,!0),e.child}function wb(t){var e=t.stateNode;e.pendingContext?v_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&v_(t,e.context,!1),Qv(t,e.containerInfo)}function D_(t,e,n,r,s){return $a(),zv(s),e.flags|=256,mn(t,e,n,r),e.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function fg(t){return{baseLanes:t,cachePool:null,transitions:null}}function _b(t,e,n){var r=e.pendingProps,s=ht.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ze(ht,s&1),t===null)return ig(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=mf(o,r,0,null),t=vo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=fg(n),e.memoizedState=hg,t):ry(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return S2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=gi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=gi(a,i):(i=vo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?fg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=hg,r}return i=t.child,t=i.sibling,r=gi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ry(t,e){return e=mf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ad(t,e,n,r){return r!==null&&zv(r),Ba(e,t.child,null,n),t=ry(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Zp(Error(H(422))),ad(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=mf({mode:"visible",children:r.children},s,0,null),i=vo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ba(e,t.child,null,o),e.child.memoizedState=fg(o),e.memoizedState=hg,i);if(!(e.mode&1))return ad(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=Zp(i,r,void 0),ad(t,e,o,r)}if(a=(o&t.childLanes)!==0,Pn||a){if(r=$t,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ms(t,s),vr(r,t,s,-1))}return cy(),r=Zp(Error(H(421))),ad(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=V2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Fn=hi(s.nextSibling),$n=e,dt=!0,pr=null,t!==null&&(Qn[Yn++]=os,Qn[Yn++]=as,Qn[Yn++]=Eo,os=t.id,as=t.overflow,Eo=e),e=ry(e,r.children),e.flags|=4096,e)}function O_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),og(t.return,e,n)}function em(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function xb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(mn(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O_(t,n,e);else if(t.tag===19)O_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ht,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&gh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),em(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&gh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}em(e,!0,n,null,i);break;case"together":em(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=gi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I2(t,e,n){switch(e.tag){case 3:wb(e),$a();break;case 5:GT(e);break;case 1:Nn(e.type)&&uh(e);break;case 4:Qv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ze(fh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?_b(t,e,n):(Ze(ht,ht.current&1),t=gs(t,e,n),t!==null?t.sibling:null);Ze(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ze(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,vb(t,e,n)}return gs(t,e,n)}var Eb,pg,Tb,bb;Eb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pg=function(){};Tb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,oo(Fr.current);var i=null;switch(n){case"input":s=Mm(t,s),r=Mm(t,r),i=[];break;case"select":s=mt({},s,{value:void 0}),r=mt({},r,{value:void 0}),i=[];break;case"textarea":s=Fm(t,s),r=Fm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=lh)}$m(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(bc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(bc.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&nt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};bb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hl(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function C2(t,e,n){var r=e.pendingProps;switch(Bv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return Nn(e.type)&&ch(),sn(e),null;case 3:return r=e.stateNode,za(),at(Rn),at(dn),Xv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(id(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pr!==null&&(Eg(pr),pr=null))),pg(t,e),sn(e),null;case 5:Yv(e);var s=oo(Mc.current);if(n=e.type,t!==null&&e.stateNode!=null)Tb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return sn(e),null}if(t=oo(Fr.current),id(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Or]=e,r[Dc]=i,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(s=0;s<Zl.length;s++)nt(Zl[s],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":W0(r,i),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},nt("invalid",r);break;case"textarea":q0(r,i),nt("invalid",r)}$m(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&sd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&sd(r.textContent,a,t),s=["children",""+a]):bc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nt("scroll",r)}switch(n){case"input":Yu(r),H0(r,i,!0);break;case"textarea":Yu(r),G0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=lh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=J1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Or]=e,t[Dc]=r,Eb(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bm(n,r),n){case"dialog":nt("cancel",t),nt("close",t),s=r;break;case"iframe":case"object":case"embed":nt("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zl.length;s++)nt(Zl[s],t);s=r;break;case"source":nt("error",t),s=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),s=r;break;case"details":nt("toggle",t),s=r;break;case"input":W0(t,r),s=Mm(t,r),nt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=mt({},r,{value:void 0}),nt("invalid",t);break;case"textarea":q0(t,r),s=Fm(t,r),nt("invalid",t);break;default:s=r}$m(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?tT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Z1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Sc(t,l):typeof l=="number"&&Sc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&nt("scroll",t):l!=null&&Cv(t,i,l,o))}switch(n){case"input":Yu(t),H0(t,r,!1);break;case"textarea":Yu(t),G0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ci(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?va(t,!!r.multiple,i,!1):r.defaultValue!=null&&va(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=lh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(t&&e.stateNode!=null)bb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=oo(Mc.current),oo(Fr.current),id(e)){if(r=e.stateNode,n=e.memoizedProps,r[Or]=e,(i=r.nodeValue!==n)&&(t=$n,t!==null))switch(t.tag){case 3:sd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Or]=e,e.stateNode=r}return sn(e),null;case 13:if(at(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Fn!==null&&e.mode&1&&!(e.flags&128))BT(),$a(),e.flags|=98560,i=!1;else if(i=id(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Or]=e}else $a(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),i=!1}else pr!==null&&(Eg(pr),pr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?Lt===0&&(Lt=3):cy())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return za(),pg(t,e),t===null&&kc(e.stateNode.containerInfo),sn(e),null;case 10:return qv(e.type._context),sn(e),null;case 17:return Nn(e.type)&&ch(),sn(e),null;case 19:if(at(ht),i=e.memoizedState,i===null)return sn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Hl(i,!1);else{if(Lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gh(t),o!==null){for(e.flags|=128,Hl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ht,ht.current&1|2),e.child}t=t.sibling}i.tail!==null&&Et()>Ha&&(e.flags|=128,r=!0,Hl(i,!1),e.lanes=4194304)}else{if(!r)if(t=gh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!dt)return sn(e),null}else 2*Et()-i.renderingStartTime>Ha&&n!==1073741824&&(e.flags|=128,r=!0,Hl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Et(),e.sibling=null,n=ht.current,Ze(ht,r?n&1|2:n&1),e):(sn(e),null);case 22:case 23:return ly(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mn&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function P2(t,e){switch(Bv(e),e.tag){case 1:return Nn(e.type)&&ch(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return za(),at(Rn),at(dn),Xv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yv(e),null;case 13:if(at(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));$a()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ht),null;case 4:return za(),null;case 10:return qv(e.type._context),null;case 22:case 23:return ly(),null;case 24:return null;default:return null}}var ld=!1,cn=!1,R2=typeof WeakSet=="function"?WeakSet:Set,re=null;function ma(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function mg(t,e,n){try{n()}catch(r){wt(t,e,r)}}var M_=!1;function N2(t,e){if(Jm=ih,t=RT(),Uv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,h=0,f=t,g=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)g=f,f=v;for(;;){if(f===t)break t;if(g===n&&++d===s&&(a=o),g===i&&++h===r&&(l=o),(v=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zm={focusedElem:t,selectionRange:n},ih=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,w=b.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:cr(e.type,x),w);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(C){wt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return b=M_,M_=!1,b}function fc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&mg(e,n,i)}s=s.next}while(s!==r)}}function ff(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sb(t){var e=t.alternate;e!==null&&(t.alternate=null,Sb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Or],delete e[Dc],delete e[ng],delete e[h2],delete e[f2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ib(t){return t.tag===5||t.tag===3||t.tag===4}function L_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ib(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lh));else if(r!==4&&(t=t.child,t!==null))for(vg(t,e,n),t=t.sibling;t!==null;)vg(t,e,n),t=t.sibling}function yg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yg(t,e,n),t=t.sibling;t!==null;)yg(t,e,n),t=t.sibling}var Ht=null,fr=!1;function Us(t,e,n){for(n=n.child;n!==null;)Cb(t,e,n),n=n.sibling}function Cb(t,e,n){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(sf,n)}catch{}switch(n.tag){case 5:cn||ma(n,e);case 6:var r=Ht,s=fr;Ht=null,Us(t,e,n),Ht=r,fr=s,Ht!==null&&(fr?(t=Ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(fr?(t=Ht,n=n.stateNode,t.nodeType===8?Gp(t.parentNode,n):t.nodeType===1&&Gp(t,n),Rc(t)):Gp(Ht,n.stateNode));break;case 4:r=Ht,s=fr,Ht=n.stateNode.containerInfo,fr=!0,Us(t,e,n),Ht=r,fr=s;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&mg(n,e,o),s=s.next}while(s!==r)}Us(t,e,n);break;case 1:if(!cn&&(ma(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wt(n,e,a)}Us(t,e,n);break;case 21:Us(t,e,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,Us(t,e,n),cn=r):Us(t,e,n);break;default:Us(t,e,n)}}function V_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new R2),e.forEach(function(r){var s=F2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ht=a.stateNode,fr=!1;break e;case 3:Ht=a.stateNode.containerInfo,fr=!0;break e;case 4:Ht=a.stateNode.containerInfo,fr=!0;break e}a=a.return}if(Ht===null)throw Error(H(160));Cb(i,o,s),Ht=null,fr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){wt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pb(e,t),e=e.sibling}function Pb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),Rr(t),r&4){try{fc(3,t,t.return),ff(3,t)}catch(x){wt(t,t.return,x)}try{fc(5,t,t.return)}catch(x){wt(t,t.return,x)}}break;case 1:or(e,t),Rr(t),r&512&&n!==null&&ma(n,n.return);break;case 5:if(or(e,t),Rr(t),r&512&&n!==null&&ma(n,n.return),t.flags&32){var s=t.stateNode;try{Sc(s,"")}catch(x){wt(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Y1(s,i),Bm(a,o);var d=Bm(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?tT(s,f):h==="dangerouslySetInnerHTML"?Z1(s,f):h==="children"?Sc(s,f):Cv(s,h,f,d)}switch(a){case"input":Lm(s,i);break;case"textarea":X1(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?va(s,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?va(s,!!i.multiple,i.defaultValue,!0):va(s,!!i.multiple,i.multiple?[]:"",!1))}s[Dc]=i}catch(x){wt(t,t.return,x)}}break;case 6:if(or(e,t),Rr(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){wt(t,t.return,x)}}break;case 3:if(or(e,t),Rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rc(e.containerInfo)}catch(x){wt(t,t.return,x)}break;case 4:or(e,t),Rr(t);break;case 13:or(e,t),Rr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(oy=Et())),r&4&&V_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(cn=(d=cn)||h,or(e,t),cn=d):or(e,t),Rr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(re=t,h=t.child;h!==null;){for(f=re=h;re!==null;){switch(g=re,v=g.child,g.tag){case 0:case 11:case 14:case 15:fc(4,g,g.return);break;case 1:ma(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(x){wt(r,n,x)}}break;case 5:ma(g,g.return);break;case 22:if(g.memoizedState!==null){U_(f);continue}}v!==null?(v.return=g,re=v):U_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=eT("display",o))}catch(x){wt(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){wt(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:or(e,t),Rr(t),r&4&&V_(t);break;case 21:break;default:or(e,t),Rr(t)}}function Rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ib(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Sc(s,""),r.flags&=-33);var i=L_(t);yg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=L_(t);vg(t,a,o);break;default:throw Error(H(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function A2(t,e,n){re=t,Rb(t)}function Rb(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ld;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||cn;a=ld;var d=cn;if(ld=o,(cn=l)&&!d)for(re=s;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?$_(s):l!==null?(l.return=o,re=l):$_(s);for(;i!==null;)re=i,Rb(i),i=i.sibling;re=s,ld=a,cn=d}F_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):F_(t)}}function F_(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cn||ff(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:cr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&T_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}T_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Rc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}cn||e.flags&512&&gg(e)}catch(g){wt(e,e.return,g)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function U_(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function $_(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ff(4,e)}catch(l){wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){wt(e,s,l)}}var i=e.return;try{gg(e)}catch(l){wt(e,i,l)}break;case 5:var o=e.return;try{gg(e)}catch(l){wt(e,o,l)}}}catch(l){wt(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var k2=Math.ceil,wh=bs.ReactCurrentDispatcher,sy=bs.ReactCurrentOwner,Zn=bs.ReactCurrentBatchConfig,Le=0,$t=null,Ct=null,Qt=0,Mn=0,ga=Fi(0),Lt=0,Uc=null,bo=0,pf=0,iy=0,pc=null,In=null,oy=0,Ha=1/0,ns=null,_h=!1,wg=null,pi=null,cd=!1,oi=null,xh=0,mc=0,_g=null,Od=-1,Md=0;function vn(){return Le&6?Et():Od!==-1?Od:Od=Et()}function mi(t){return t.mode&1?Le&2&&Qt!==0?Qt&-Qt:m2.transition!==null?(Md===0&&(Md=fT()),Md):(t=He,t!==0||(t=window.event,t=t===void 0?16:_T(t.type)),t):1}function vr(t,e,n,r){if(50<mc)throw mc=0,_g=null,Error(H(185));au(t,n,r),(!(Le&2)||t!==$t)&&(t===$t&&(!(Le&2)&&(pf|=n),Lt===4&&Ys(t,Qt)),An(t,r),n===1&&Le===0&&!(e.mode&1)&&(Ha=Et()+500,uf&&Ui()))}function An(t,e){var n=t.callbackNode;mk(t,e);var r=sh(t,t===$t?Qt:0);if(r===0)n!==null&&Y0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Y0(n),e===1)t.tag===0?p2(B_.bind(null,t)):FT(B_.bind(null,t)),u2(function(){!(Le&6)&&Ui()}),n=null;else{switch(pT(r)){case 1:n=kv;break;case 4:n=dT;break;case 16:n=rh;break;case 536870912:n=hT;break;default:n=rh}n=Lb(n,Nb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Nb(t,e){if(Od=-1,Md=0,Le&6)throw Error(H(327));var n=t.callbackNode;if(Ea()&&t.callbackNode!==n)return null;var r=sh(t,t===$t?Qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Eh(t,r);else{e=r;var s=Le;Le|=2;var i=kb();($t!==t||Qt!==e)&&(ns=null,Ha=Et()+500,go(t,e));do try{O2();break}catch(a){Ab(t,a)}while(!0);Hv(),wh.current=i,Le=s,Ct!==null?e=0:($t=null,Qt=0,e=Lt)}if(e!==0){if(e===2&&(s=Gm(t),s!==0&&(r=s,e=xg(t,s))),e===1)throw n=Uc,go(t,0),Ys(t,r),An(t,Et()),n;if(e===6)Ys(t,r);else{if(s=t.current.alternate,!(r&30)&&!j2(s)&&(e=Eh(t,r),e===2&&(i=Gm(t),i!==0&&(r=i,e=xg(t,i))),e===1))throw n=Uc,go(t,0),Ys(t,r),An(t,Et()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:to(t,In,ns);break;case 3:if(Ys(t,r),(r&130023424)===r&&(e=oy+500-Et(),10<e)){if(sh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){vn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=tg(to.bind(null,t,In,ns),e);break}to(t,In,ns);break;case 4:if(Ys(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-gr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k2(r/1960))-r,10<r){t.timeoutHandle=tg(to.bind(null,t,In,ns),r);break}to(t,In,ns);break;case 5:to(t,In,ns);break;default:throw Error(H(329))}}}return An(t,Et()),t.callbackNode===n?Nb.bind(null,t):null}function xg(t,e){var n=pc;return t.current.memoizedState.isDehydrated&&(go(t,e).flags|=256),t=Eh(t,e),t!==2&&(e=In,In=n,e!==null&&Eg(e)),t}function Eg(t){In===null?In=t:In.push.apply(In,t)}function j2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_r(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ys(t,e){for(e&=~iy,e&=~pf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gr(e),r=1<<n;t[n]=-1,e&=~r}}function B_(t){if(Le&6)throw Error(H(327));Ea();var e=sh(t,0);if(!(e&1))return An(t,Et()),null;var n=Eh(t,e);if(t.tag!==0&&n===2){var r=Gm(t);r!==0&&(e=r,n=xg(t,r))}if(n===1)throw n=Uc,go(t,0),Ys(t,e),An(t,Et()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,to(t,In,ns),An(t,Et()),null}function ay(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Ha=Et()+500,uf&&Ui())}}function So(t){oi!==null&&oi.tag===0&&!(Le&6)&&Ea();var e=Le;Le|=1;var n=Zn.transition,r=He;try{if(Zn.transition=null,He=1,t)return t()}finally{He=r,Zn.transition=n,Le=e,!(Le&6)&&Ui()}}function ly(){Mn=ga.current,at(ga)}function go(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,c2(n)),Ct!==null)for(n=Ct.return;n!==null;){var r=n;switch(Bv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ch();break;case 3:za(),at(Rn),at(dn),Xv();break;case 5:Yv(r);break;case 4:za();break;case 13:at(ht);break;case 19:at(ht);break;case 10:qv(r.type._context);break;case 22:case 23:ly()}n=n.return}if($t=t,Ct=t=gi(t.current,null),Qt=Mn=e,Lt=0,Uc=null,iy=pf=bo=0,In=pc=null,io!==null){for(e=0;e<io.length;e++)if(n=io[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}io=null}return t}function Ab(t,e){do{var n=Ct;try{if(Hv(),kd.current=yh,vh){for(var r=ft.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vh=!1}if(To=0,Ut=Dt=ft=null,hc=!1,Lc=0,sy.current=null,n===null||n.return===null){Lt=1,Uc=e,Ct=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=R_(o);if(v!==null){v.flags&=-257,N_(v,o,a,i,e),v.mode&1&&P_(i,d,e),e=v,l=d;var b=e.updateQueue;if(b===null){var x=new Set;x.add(l),e.updateQueue=x}else b.add(l);break e}else{if(!(e&1)){P_(i,d,e),cy();break e}l=Error(H(426))}}else if(dt&&a.mode&1){var w=R_(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),N_(w,o,a,i,e),zv(Wa(l,a));break e}}i=l=Wa(l,a),Lt!==4&&(Lt=2),pc===null?pc=[i]:pc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=pb(i,l,e);E_(i,_);break e;case 1:a=l;var y=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(pi===null||!pi.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=mb(i,a,e);E_(i,C);break e}}i=i.return}while(i!==null)}Db(n)}catch(O){e=O,Ct===n&&n!==null&&(Ct=n=n.return);continue}break}while(!0)}function kb(){var t=wh.current;return wh.current=yh,t===null?yh:t}function cy(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),$t===null||!(bo&268435455)&&!(pf&268435455)||Ys($t,Qt)}function Eh(t,e){var n=Le;Le|=2;var r=kb();($t!==t||Qt!==e)&&(ns=null,go(t,e));do try{D2();break}catch(s){Ab(t,s)}while(!0);if(Hv(),Le=n,wh.current=r,Ct!==null)throw Error(H(261));return $t=null,Qt=0,Lt}function D2(){for(;Ct!==null;)jb(Ct)}function O2(){for(;Ct!==null&&!ok();)jb(Ct)}function jb(t){var e=Mb(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,e===null?Db(t):Ct=e,sy.current=null}function Db(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=P2(n,e),n!==null){n.flags&=32767,Ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Lt=6,Ct=null;return}}else if(n=C2(n,e,Mn),n!==null){Ct=n;return}if(e=e.sibling,e!==null){Ct=e;return}Ct=e=t}while(e!==null);Lt===0&&(Lt=5)}function to(t,e,n){var r=He,s=Zn.transition;try{Zn.transition=null,He=1,M2(t,e,n,r)}finally{Zn.transition=s,He=r}return null}function M2(t,e,n,r){do Ea();while(oi!==null);if(Le&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(gk(t,i),t===$t&&(Ct=$t=null,Qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cd||(cd=!0,Lb(rh,function(){return Ea(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Zn.transition,Zn.transition=null;var o=He;He=1;var a=Le;Le|=4,sy.current=null,N2(t,n),Pb(n,t),n2(Zm),ih=!!Jm,Zm=Jm=null,t.current=n,A2(n),ak(),Le=a,He=o,Zn.transition=i}else t.current=n;if(cd&&(cd=!1,oi=t,xh=s),i=t.pendingLanes,i===0&&(pi=null),uk(n.stateNode),An(t,Et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(_h)throw _h=!1,t=wg,wg=null,t;return xh&1&&t.tag!==0&&Ea(),i=t.pendingLanes,i&1?t===_g?mc++:(mc=0,_g=t):mc=0,Ui(),null}function Ea(){if(oi!==null){var t=pT(xh),e=Zn.transition,n=He;try{if(Zn.transition=null,He=16>t?16:t,oi===null)var r=!1;else{if(t=oi,oi=null,xh=0,Le&6)throw Error(H(331));var s=Le;for(Le|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(re=d;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:fc(8,h,i)}var f=h.child;if(f!==null)f.return=h,re=f;else for(;re!==null;){h=re;var g=h.sibling,v=h.return;if(Sb(h),h===d){re=null;break}if(g!==null){g.return=v,re=g;break}re=v}}}var b=i.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fc(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,re=_;break e}re=i.return}}var y=t.current;for(re=y;re!==null;){o=re;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,re=E;else e:for(o=y;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ff(9,a)}}catch(O){wt(a,a.return,O)}if(a===o){re=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,re=C;break e}re=a.return}}if(Le=s,Ui(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(sf,t)}catch{}r=!0}return r}finally{He=n,Zn.transition=e}}return!1}function z_(t,e,n){e=Wa(n,e),e=pb(t,e,1),t=fi(t,e,1),e=vn(),t!==null&&(au(t,1,e),An(t,e))}function wt(t,e,n){if(t.tag===3)z_(t,t,n);else for(;e!==null;){if(e.tag===3){z_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pi===null||!pi.has(r))){t=Wa(n,t),t=mb(e,t,1),e=fi(e,t,1),t=vn(),e!==null&&(au(e,1,t),An(e,t));break}}e=e.return}}function L2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(Qt&n)===n&&(Lt===4||Lt===3&&(Qt&130023424)===Qt&&500>Et()-oy?go(t,0):iy|=n),An(t,e)}function Ob(t,e){e===0&&(t.mode&1?(e=Zu,Zu<<=1,!(Zu&130023424)&&(Zu=4194304)):e=1);var n=vn();t=ms(t,e),t!==null&&(au(t,e,n),An(t,n))}function V2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ob(t,n)}function F2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),Ob(t,n)}var Mb;Mb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rn.current)Pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pn=!1,I2(t,e,n);Pn=!!(t.flags&131072)}else Pn=!1,dt&&e.flags&1048576&&UT(e,hh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dd(t,e),t=e.pendingProps;var s=Ua(e,dn.current);xa(e,n),s=Zv(null,e,r,t,s,n);var i=ey();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nn(r)?(i=!0,uh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Kv(e),s.updater=hf,e.stateNode=s,s._reactInternals=e,lg(e,r,t,n),e=dg(null,e,r,!0,i,n)):(e.tag=0,dt&&i&&$v(e),mn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=$2(r),t=cr(r,t),s){case 0:e=ug(null,e,r,t,n);break e;case 1:e=j_(null,e,r,t,n);break e;case 11:e=A_(null,e,r,t,n);break e;case 14:e=k_(null,e,r,cr(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),ug(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),j_(t,e,r,s,n);case 3:e:{if(wb(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,qT(t,e),mh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Wa(Error(H(423)),e),e=D_(t,e,r,n,s);break e}else if(r!==s){s=Wa(Error(H(424)),e),e=D_(t,e,r,n,s);break e}else for(Fn=hi(e.stateNode.containerInfo.firstChild),$n=e,dt=!0,pr=null,n=WT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($a(),r===s){e=gs(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return GT(e),t===null&&ig(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,eg(r,s)?o=null:i!==null&&eg(r,i)&&(e.flags|=32),yb(t,e),mn(t,e,o,n),e.child;case 6:return t===null&&ig(e),null;case 13:return _b(t,e,n);case 4:return Qv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ba(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),A_(t,e,r,s,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ze(fh,r._currentValue),r._currentValue=o,i!==null)if(_r(i.value,o)){if(i.children===s.children&&!Rn.current){e=gs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=us(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),og(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),og(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}mn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,xa(e,n),s=er(s),r=r(s),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,s=cr(r,e.pendingProps),s=cr(r.type,s),k_(t,e,r,s,n);case 15:return gb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:cr(r,s),Dd(t,e),e.tag=1,Nn(r)?(t=!0,uh(e)):t=!1,xa(e,n),fb(e,r,s),lg(e,r,s,n),dg(null,e,r,!0,t,n);case 19:return xb(t,e,n);case 22:return vb(t,e,n)}throw Error(H(156,e.tag))};function Lb(t,e){return uT(t,e)}function U2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,e,n,r){return new U2(t,e,n,r)}function uy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $2(t){if(typeof t=="function")return uy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rv)return 11;if(t===Nv)return 14}return 2}function gi(t,e){var n=t.alternate;return n===null?(n=Jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ld(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")uy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case oa:return vo(n.children,s,i,e);case Pv:o=8,s|=8;break;case km:return t=Jn(12,n,e,s|2),t.elementType=km,t.lanes=i,t;case jm:return t=Jn(13,n,e,s),t.elementType=jm,t.lanes=i,t;case Dm:return t=Jn(19,n,e,s),t.elementType=Dm,t.lanes=i,t;case G1:return mf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H1:o=10;break e;case q1:o=9;break e;case Rv:o=11;break e;case Nv:o=14;break e;case qs:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Jn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function vo(t,e,n,r){return t=Jn(7,t,r,e),t.lanes=n,t}function mf(t,e,n,r){return t=Jn(22,t,r,e),t.elementType=G1,t.lanes=n,t.stateNode={isHidden:!1},t}function tm(t,e,n){return t=Jn(6,t,null,e),t.lanes=n,t}function nm(t,e,n){return e=Jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function B2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mp(0),this.expirationTimes=Mp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dy(t,e,n,r,s,i,o,a,l){return t=new B2(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Jn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kv(i),t}function z2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Vb(t){if(!t)return Pi;t=t._reactInternals;e:{if(Mo(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Nn(n))return VT(t,n,e)}return e}function Fb(t,e,n,r,s,i,o,a,l){return t=dy(n,r,!0,t,s,i,o,a,l),t.context=Vb(null),n=t.current,r=vn(),s=mi(n),i=us(r,s),i.callback=e??null,fi(n,i,s),t.current.lanes=s,au(t,s,r),An(t,r),t}function gf(t,e,n,r){var s=e.current,i=vn(),o=mi(s);return n=Vb(n),e.context===null?e.context=n:e.pendingContext=n,e=us(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fi(s,e,o),t!==null&&(vr(t,s,o,i),Ad(t,s,o)),o}function Th(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function W_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hy(t,e){W_(t,e),(t=t.alternate)&&W_(t,e)}function W2(){return null}var Ub=typeof reportError=="function"?reportError:function(t){console.error(t)};function fy(t){this._internalRoot=t}vf.prototype.render=fy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));gf(t,e,null,null)};vf.prototype.unmount=fy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;So(function(){gf(null,t,null,null)}),e[ps]=null}};function vf(t){this._internalRoot=t}vf.prototype.unstable_scheduleHydration=function(t){if(t){var e=vT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qs.length&&e!==0&&e<Qs[n].priority;n++);Qs.splice(n,0,t),n===0&&wT(t)}};function py(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function H_(){}function H2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Th(o);i.call(d)}}var o=Fb(e,r,t,0,null,!1,!1,"",H_);return t._reactRootContainer=o,t[ps]=o.current,kc(t.nodeType===8?t.parentNode:t),So(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Th(l);a.call(d)}}var l=dy(t,0,!1,null,null,!1,!1,"",H_);return t._reactRootContainer=l,t[ps]=l.current,kc(t.nodeType===8?t.parentNode:t),So(function(){gf(e,l,n,r)}),l}function wf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Th(o);a.call(l)}}gf(e,o,t,s)}else o=H2(n,e,t,s,r);return Th(o)}mT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jl(e.pendingLanes);n!==0&&(jv(e,n|1),An(e,Et()),!(Le&6)&&(Ha=Et()+500,Ui()))}break;case 13:So(function(){var r=ms(t,1);if(r!==null){var s=vn();vr(r,t,1,s)}}),hy(t,1)}};Dv=function(t){if(t.tag===13){var e=ms(t,134217728);if(e!==null){var n=vn();vr(e,t,134217728,n)}hy(t,134217728)}};gT=function(t){if(t.tag===13){var e=mi(t),n=ms(t,e);if(n!==null){var r=vn();vr(n,t,e,r)}hy(t,e)}};vT=function(){return He};yT=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};Wm=function(t,e,n){switch(e){case"input":if(Lm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=cf(r);if(!s)throw Error(H(90));Q1(r),Lm(r,s)}}}break;case"textarea":X1(t,n);break;case"select":e=n.value,e!=null&&va(t,!!n.multiple,e,!1)}};sT=ay;iT=So;var q2={usingClientEntryPoint:!1,Events:[cu,ua,cf,nT,rT,ay]},ql={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G2={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lT(t),t===null?null:t.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||W2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{sf=ud.inject(G2),Vr=ud}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q2;Hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!py(e))throw Error(H(200));return z2(t,e,null,n)};Hn.createRoot=function(t,e){if(!py(t))throw Error(H(299));var n=!1,r="",s=Ub;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=dy(t,1,!1,null,null,n,!1,r,s),t[ps]=e.current,kc(t.nodeType===8?t.parentNode:t),new fy(e)};Hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=lT(e),t=t===null?null:t.stateNode,t};Hn.flushSync=function(t){return So(t)};Hn.hydrate=function(t,e,n){if(!yf(e))throw Error(H(200));return wf(null,t,e,!0,n)};Hn.hydrateRoot=function(t,e,n){if(!py(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ub;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Fb(e,null,t,1,n??null,s,!1,i,o),t[ps]=e.current,kc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new vf(e)};Hn.render=function(t,e,n){if(!yf(e))throw Error(H(200));return wf(null,t,e,!1,n)};Hn.unmountComponentAtNode=function(t){if(!yf(t))throw Error(H(40));return t._reactRootContainer?(So(function(){wf(null,null,t,!1,function(){t._reactRootContainer=null,t[ps]=null})}),!0):!1};Hn.unstable_batchedUpdates=ay;Hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yf(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return wf(t,e,n,!1,r)};Hn.version="18.3.1-next-f1338f8080-20240426";function $b(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($b)}catch(t){console.error(t)}}$b(),$1.exports=Hn;var Lo=$1.exports;const Bb=R1(Lo);var zb,q_=Lo;zb=q_.createRoot,q_.hydrateRoot;const K2=1,Q2=1e6;let rm=0;function Y2(){return rm=(rm+1)%Number.MAX_SAFE_INTEGER,rm.toString()}const sm=new Map,G_=t=>{if(sm.has(t))return;const e=setTimeout(()=>{sm.delete(t),gc({type:"REMOVE_TOAST",toastId:t})},Q2);sm.set(t,e)},X2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,K2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?G_(n):t.toasts.forEach(r=>{G_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Vd=[];let Fd={toasts:[]};function gc(t){Fd=X2(Fd,t),Vd.forEach(e=>{e(Fd)})}function J2({...t}){const e=Y2(),n=s=>gc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>gc({type:"DISMISS_TOAST",toastId:e});return gc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Ss(){const[t,e]=p.useState(Fd);return p.useEffect(()=>(Vd.push(e),()=>{const n=Vd.indexOf(e);n>-1&&Vd.splice(n,1)}),[t]),{...t,toast:J2,dismiss:n=>gc({type:"DISMISS_TOAST",toastId:n})}}function we(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function K_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Wb(...t){return e=>{let n=!1;const r=t.map(s=>{const i=K_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():K_(t[s],null)}}}}function Xe(...t){return p.useCallback(Wb(...t),t)}function Z2(t,e){const n=p.createContext(e),r=i=>{const{children:o,...a}=i,l=p.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Vo(t,e=[]){let n=[];function r(i,o){const a=p.createContext(o),l=n.length;n=[...n,o];const d=f=>{var _;const{scope:g,children:v,...b}=f,x=((_=g==null?void 0:g[t])==null?void 0:_[l])||a,w=p.useMemo(()=>b,Object.values(b));return c.jsx(x.Provider,{value:w,children:v})};d.displayName=i+"Provider";function h(f,g){var x;const v=((x=g==null?void 0:g[t])==null?void 0:x[l])||a,b=p.useContext(v);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,ej(s,...e)]}function ej(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function qa(t){const e=tj(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,a=p.Children.toArray(i),l=a.find(rj);if(l){const d=l.props.children,h=a.map(f=>f===l?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:f);return c.jsx(e,{...o,ref:s,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return c.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var ll=qa("Slot");function tj(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=ij(s),a=sj(i,s.props);return s.type!==p.Fragment&&(a.ref=r?Wb(r,o):o),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Hb=Symbol("radix.slottable");function nj(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Hb,e}function rj(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Hb}function sj(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function ij(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function qb(t){const e=t+"CollectionProvider",[n,r]=Vo(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:w,children:_}=x,y=q.useRef(null),E=q.useRef(new Map).current;return c.jsx(s,{scope:w,itemMap:E,collectionRef:y,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=qa(a),d=q.forwardRef((x,w)=>{const{scope:_,children:y}=x,E=i(a,_),C=Xe(w,E.collectionRef);return c.jsx(l,{ref:C,children:y})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",g=qa(h),v=q.forwardRef((x,w)=>{const{scope:_,children:y,...E}=x,C=q.useRef(null),O=Xe(w,C),k=i(h,_);return q.useEffect(()=>(k.itemMap.set(C,{ref:C,...E}),()=>void k.itemMap.delete(C))),c.jsx(g,{[f]:"",ref:O,children:y})});v.displayName=h;function b(x){const w=i(t+"CollectionConsumer",x);return q.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const E=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((k,I)=>E.indexOf(k.ref.current)-E.indexOf(I.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},b,r]}var oj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ie=oj.reduce((t,e)=>{const n=qa(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Gb(t,e){t&&Lo.flushSync(()=>t.dispatchEvent(e))}function xr(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function aj(t,e=globalThis==null?void 0:globalThis.document){const n=xr(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var lj="DismissableLayer",Tg="dismissableLayer.update",cj="dismissableLayer.pointerDownOutside",uj="dismissableLayer.focusOutside",Q_,Kb=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),du=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,d=p.useContext(Kb),[h,f]=p.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=p.useState({}),b=Xe(e,I=>f(I)),x=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(w),y=h?x.indexOf(h):-1,E=d.layersWithOutsidePointerEventsDisabled.size>0,C=y>=_,O=hj(I=>{const S=I.target,P=[...d.branches].some(N=>N.contains(S));!C||P||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},g),k=fj(I=>{const S=I.target;[...d.branches].some(N=>N.contains(S))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},g);return aj(I=>{y===d.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},g),p.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Q_=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Y_(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Q_)}},[h,g,n,d]),p.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Y_())},[h,d]),p.useEffect(()=>{const I=()=>v({});return document.addEventListener(Tg,I),()=>document.removeEventListener(Tg,I)},[]),c.jsx(Ie.div,{...l,ref:b,style:{pointerEvents:E?C?"auto":"none":void 0,...t.style},onFocusCapture:we(t.onFocusCapture,k.onFocusCapture),onBlurCapture:we(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:we(t.onPointerDownCapture,O.onPointerDownCapture)})});du.displayName=lj;var dj="DismissableLayerBranch",Qb=p.forwardRef((t,e)=>{const n=p.useContext(Kb),r=p.useRef(null),s=Xe(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(Ie.div,{...t,ref:s})});Qb.displayName=dj;function hj(t,e=globalThis==null?void 0:globalThis.document){const n=xr(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Yb(cj,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function fj(t,e=globalThis==null?void 0:globalThis.document){const n=xr(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&Yb(uj,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Y_(){const t=new CustomEvent(Tg);document.dispatchEvent(t)}function Yb(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Gb(s,i):s.dispatchEvent(i)}var pj=du,mj=Qb,Xt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},gj="Portal",_f=p.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=p.useState(!1);Xt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Bb.createPortal(c.jsx(Ie.div,{...r,ref:e}),o):null});_f.displayName=gj;function vj(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Fo=t=>{const{present:e,children:n}=t,r=yj(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=Xe(r.ref,wj(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};Fo.displayName="Presence";function yj(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[a,l]=vj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=dd(r.current);i.current=a==="mounted"?d:"none"},[a]),Xt(()=>{const d=r.current,h=s.current;if(h!==t){const g=i.current,v=dd(d);t?l("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Xt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=v=>{const x=dd(r.current).includes(v.animationName);if(v.target===e&&x&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},g=v=>{v.target===e&&(i.current=dd(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function dd(t){return(t==null?void 0:t.animationName)||"none"}function wj(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var _j=bv[" useInsertionEffect ".trim().toString()]||Xt;function Ga({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=xj({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=p.useRef(t!==void 0);p.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=p.useCallback(h=>{var f;if(a){const g=Ej(h)?h(t):h;g!==t&&((f=o.current)==null||f.call(o,g))}else i(h)},[a,t,i,o]);return[l,d]}function xj({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return _j(()=>{i.current=e},[e]),p.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function Ej(t){return typeof t=="function"}var Xb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Tj="VisuallyHidden",xf=p.forwardRef((t,e)=>c.jsx(Ie.span,{...t,ref:e,style:{...Xb,...t.style}}));xf.displayName=Tj;var bj=xf,my="ToastProvider",[gy,Sj,Ij]=qb("Toast"),[Jb,j8]=Vo("Toast",[Ij]),[Cj,Ef]=Jb(my),Zb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=p.useState(null),[d,h]=p.useState(0),f=p.useRef(!1),g=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${my}\`. Expected non-empty \`string\`.`),c.jsx(gy.Provider,{scope:e,children:c.jsx(Cj,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>h(v=>v+1),[]),onToastRemove:p.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:o})})};Zb.displayName=my;var eS="ToastViewport",Pj=["F8"],bg="toast.viewportPause",Sg="toast.viewportResume",tS=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Pj,label:s="Notifications ({hotkey})",...i}=t,o=Ef(eS,n),a=Sj(n),l=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=p.useRef(null),g=Xe(e,f,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;p.useEffect(()=>{const w=_=>{var E;r.length!==0&&r.every(C=>_[C]||_.code===C)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),p.useEffect(()=>{const w=l.current,_=f.current;if(b&&w&&_){const y=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(bg);_.dispatchEvent(k),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(Sg);_.dispatchEvent(k),o.isClosePausedRef.current=!1}},C=k=>{!w.contains(k.relatedTarget)&&E()},O=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",y),w.addEventListener("focusout",C),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",O),window.addEventListener("blur",y),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",C),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",O),window.removeEventListener("blur",y),window.removeEventListener("focus",E)}}},[b,o.isClosePausedRef]);const x=p.useCallback(({tabbingDirection:w})=>{const y=a().map(E=>{const C=E.ref.current,O=[C,...$j(C)];return w==="forwards"?O:O.reverse()});return(w==="forwards"?y.reverse():y).flat()},[a]);return p.useEffect(()=>{const w=f.current;if(w){const _=y=>{var O,k,I;const E=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!E){const S=document.activeElement,P=y.shiftKey;if(y.target===w&&P){(O=d.current)==null||O.focus();return}const D=x({tabbingDirection:P?"backwards":"forwards"}),A=D.findIndex(W=>W===S);im(D.slice(A+1))?y.preventDefault():P?(k=d.current)==null||k.focus():(I=h.current)==null||I.focus()}};return w.addEventListener("keydown",_),()=>w.removeEventListener("keydown",_)}},[a,x]),c.jsxs(mj,{ref:l,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&c.jsx(Ig,{ref:d,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});im(w)}}),c.jsx(gy.Slot,{scope:n,children:c.jsx(Ie.ol,{tabIndex:-1,...i,ref:g})}),b&&c.jsx(Ig,{ref:h,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});im(w)}})]})});tS.displayName=eS;var nS="ToastFocusProxy",Ig=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Ef(nS,n);return c.jsx(xf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});Ig.displayName=nS;var hu="Toast",Rj="toast.swipeStart",Nj="toast.swipeMove",Aj="toast.swipeCancel",kj="toast.swipeEnd",rS=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Ga({prop:r,defaultProp:s??!0,onChange:i,caller:hu});return c.jsx(Fo,{present:n||a,children:c.jsx(Oj,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:xr(t.onPause),onResume:xr(t.onResume),onSwipeStart:we(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:we(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});rS.displayName=hu;var[jj,Dj]=Jb(hu,{onClose(){}}),Oj=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:v,...b}=t,x=Ef(hu,n),[w,_]=p.useState(null),y=Xe(e,W=>_(W)),E=p.useRef(null),C=p.useRef(null),O=s||x.duration,k=p.useRef(0),I=p.useRef(O),S=p.useRef(0),{onToastAdd:P,onToastRemove:N}=x,j=xr(()=>{var ie;(w==null?void 0:w.contains(document.activeElement))&&((ie=x.viewport)==null||ie.focus()),o()}),D=p.useCallback(W=>{!W||W===1/0||(window.clearTimeout(S.current),k.current=new Date().getTime(),S.current=window.setTimeout(j,W))},[j]);p.useEffect(()=>{const W=x.viewport;if(W){const ie=()=>{D(I.current),d==null||d()},G=()=>{const X=new Date().getTime()-k.current;I.current=I.current-X,window.clearTimeout(S.current),l==null||l()};return W.addEventListener(bg,G),W.addEventListener(Sg,ie),()=>{W.removeEventListener(bg,G),W.removeEventListener(Sg,ie)}}},[x.viewport,O,l,d,D]),p.useEffect(()=>{i&&!x.isClosePausedRef.current&&D(O)},[i,O,x.isClosePausedRef,D]),p.useEffect(()=>(P(),()=>N()),[P,N]);const A=p.useMemo(()=>w?uS(w):null,[w]);return x.viewport?c.jsxs(c.Fragment,{children:[A&&c.jsx(Mj,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),c.jsx(jj,{scope:n,onClose:j,children:Lo.createPortal(c.jsx(gy.ItemSlot,{scope:n,children:c.jsx(pj,{asChild:!0,onEscapeKeyDown:we(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||j(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:we(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:we(t.onPointerDown,W=>{W.button===0&&(E.current={x:W.clientX,y:W.clientY})}),onPointerMove:we(t.onPointerMove,W=>{if(!E.current)return;const ie=W.clientX-E.current.x,G=W.clientY-E.current.y,X=!!C.current,V=["left","right"].includes(x.swipeDirection),U=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Q=V?U(0,ie):0,oe=V?0:U(0,G),Z=W.pointerType==="touch"?10:2,ee={x:Q,y:oe},le={originalEvent:W,delta:ee};X?(C.current=ee,hd(Nj,f,le,{discrete:!1})):X_(ee,x.swipeDirection,Z)?(C.current=ee,hd(Rj,h,le,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ie)>Z||Math.abs(G)>Z)&&(E.current=null)}),onPointerUp:we(t.onPointerUp,W=>{const ie=C.current,G=W.target;if(G.hasPointerCapture(W.pointerId)&&G.releasePointerCapture(W.pointerId),C.current=null,E.current=null,ie){const X=W.currentTarget,V={originalEvent:W,delta:ie};X_(ie,x.swipeDirection,x.swipeThreshold)?hd(kj,v,V,{discrete:!0}):hd(Aj,g,V,{discrete:!0}),X.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),Mj=t=>{const{__scopeToast:e,children:n,...r}=t,s=Ef(hu,e),[i,o]=p.useState(!1),[a,l]=p.useState(!1);return Fj(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:c.jsx(_f,{asChild:!0,children:c.jsx(xf,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},Lj="ToastTitle",sS=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Ie.div,{...r,ref:e})});sS.displayName=Lj;var Vj="ToastDescription",iS=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Ie.div,{...r,ref:e})});iS.displayName=Vj;var oS="ToastAction",aS=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(cS,{altText:n,asChild:!0,children:c.jsx(vy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${oS}\`. Expected non-empty \`string\`.`),null)});aS.displayName=oS;var lS="ToastClose",vy=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Dj(lS,n);return c.jsx(cS,{asChild:!0,children:c.jsx(Ie.button,{type:"button",...r,ref:e,onClick:we(t.onClick,s.onClose)})})});vy.displayName=lS;var cS=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function uS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Uj(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...uS(r))}}),e}function hd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Gb(s,i):s.dispatchEvent(i)}var X_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Fj(t=()=>{}){const e=xr(t);Xt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Uj(t){return t.nodeType===t.ELEMENT_NODE}function $j(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function im(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Bj=Zb,dS=tS,hS=rS,fS=sS,pS=iS,mS=aS,gS=vy;function vS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=vS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function yS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=vS(t))&&(r&&(r+=" "),r+=e);return r}const J_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Z_=yS,cl=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Z_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const g=J_(h)||J_(f);return s[d][g]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,g]=h;return g===void 0||(d[f]=g),d},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:g,...v}=h;return Object.entries(v).every(b=>{let[x,w]=b;return Array.isArray(w)?w.includes({...i,...a}[x]):{...i,...a}[x]===w})?[...d,f,g]:d},[]);return Z_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>p.createElement("svg",{ref:l,...Wj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:wS("lucide",s),...a},[...o.map(([d,h])=>p.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(Hj,{ref:i,iconNode:e,className:wS(`lucide-${zj(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=Ve("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=Ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=Ve("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=Ve("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=Ve("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=Ve("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=Ve("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=Ve("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=Ve("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=Ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=Ve("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=Ve("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=Ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=Ve("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=Ve("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=Ve("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=Ve("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Ve("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Ve("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=Ve("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=Ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),_y="-",uD=t=>{const e=hD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(_y);return a[0]===""&&a.length!==1&&a.shift(),bS(a,e)||dD(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},bS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?bS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(_y);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},tx=/^\[(.+)\]$/,dD=t=>{if(tx.test(t)){const e=tx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},hD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return pD(Object.entries(t.classGroups),n).forEach(([i,o])=>{Cg(o,r,i,e)}),r},Cg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:nx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(fD(s)){Cg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Cg(o,nx(e,i),n,r)})})},nx=(t,e)=>{let n=t;return e.split(_y).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},fD=t=>t.isThemeGetter,pD=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,mD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},SS="!",gD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let d=0,h=0,f;for(let w=0;w<a.length;w++){let _=a[w];if(d===0){if(_===s&&(r||a.slice(w,w+i)===e)){l.push(a.slice(h,w)),h=w+i;continue}if(_==="/"){f=w;continue}}_==="["?d++:_==="]"&&d--}const g=l.length===0?a:a.substring(h),v=g.startsWith(SS),b=v?g.substring(1):g,x=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},vD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},yD=t=>({cache:mD(t.cacheSize),parseClassName:gD(t),...uD(t)}),wD=/\s+/,_D=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(wD);let a="";for(let l=o.length-1;l>=0;l-=1){const d=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:v}=n(d);let b=!!v,x=r(b?g.substring(0,v):g);if(!x){if(!b){a=d+(a.length>0?" "+a:a);continue}if(x=r(g),!x){a=d+(a.length>0?" "+a:a);continue}b=!1}const w=vD(h).join(":"),_=f?w+SS:w,y=_+x;if(i.includes(y))continue;i.push(y);const E=s(x,b);for(let C=0;C<E.length;++C){const O=E[C];i.push(_+O)}a=d+(a.length>0?" "+a:a)}return a};function xD(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=IS(e))&&(r&&(r+=" "),r+=n);return r}const IS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=IS(t[r]))&&(n&&(n+=" "),n+=e);return n};function ED(t,...e){let n,r,s,i=o;function o(l){const d=e.reduce((h,f)=>f(h),t());return n=yD(d),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const d=r(l);if(d)return d;const h=_D(l,n);return s(l,h),h}return function(){return i(xD.apply(null,arguments))}}const tt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},CS=/^\[(?:([a-z-]+):)?(.+)\]$/i,TD=/^\d+\/\d+$/,bD=new Set(["px","full","screen"]),SD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ID=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,es=t=>Ta(t)||bD.has(t)||TD.test(t),$s=t=>dl(t,"length",LD),Ta=t=>!!t&&!Number.isNaN(Number(t)),om=t=>dl(t,"number",Ta),Gl=t=>!!t&&Number.isInteger(Number(t)),ND=t=>t.endsWith("%")&&Ta(t.slice(0,-1)),Ee=t=>CS.test(t),Bs=t=>SD.test(t),AD=new Set(["length","size","percentage"]),kD=t=>dl(t,AD,PS),jD=t=>dl(t,"position",PS),DD=new Set(["image","url"]),OD=t=>dl(t,DD,FD),MD=t=>dl(t,"",VD),Kl=()=>!0,dl=(t,e,n)=>{const r=CS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},LD=t=>ID.test(t)&&!CD.test(t),PS=()=>!1,VD=t=>PD.test(t),FD=t=>RD.test(t),UD=()=>{const t=tt("colors"),e=tt("spacing"),n=tt("blur"),r=tt("brightness"),s=tt("borderColor"),i=tt("borderRadius"),o=tt("borderSpacing"),a=tt("borderWidth"),l=tt("contrast"),d=tt("grayscale"),h=tt("hueRotate"),f=tt("invert"),g=tt("gap"),v=tt("gradientColorStops"),b=tt("gradientColorStopPositions"),x=tt("inset"),w=tt("margin"),_=tt("opacity"),y=tt("padding"),E=tt("saturate"),C=tt("scale"),O=tt("sepia"),k=tt("skew"),I=tt("space"),S=tt("translate"),P=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",Ee,e],D=()=>[Ee,e],A=()=>["",es,$s],W=()=>["auto",Ta,Ee],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Ee],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[Ta,Ee];return{cacheSize:500,separator:":",theme:{colors:[Kl],spacing:[es,$s],blur:["none","",Bs,Ee],brightness:oe(),borderColor:[t],borderRadius:["none","","full",Bs,Ee],borderSpacing:D(),borderWidth:A(),contrast:oe(),grayscale:U(),hueRotate:oe(),invert:U(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[ND,$s],inset:j(),margin:j(),opacity:oe(),padding:D(),saturate:oe(),scale:oe(),sepia:U(),skew:oe(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[Bs]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),Ee]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gl,Ee]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Gl,Ee]}],"grid-cols":[{"grid-cols":[Kl]}],"col-start-end":[{col:["auto",{span:["full",Gl,Ee]},Ee]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Kl]}],"row-start-end":[{row:["auto",{span:[Gl,Ee]},Ee]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,e]}],"min-w":[{"min-w":[Ee,e,"min","max","fit"]}],"max-w":[{"max-w":[Ee,e,"none","full","min","max","fit","prose",{screen:[Bs]},Bs]}],h:[{h:[Ee,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Bs,$s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",om]}],"font-family":[{font:[Kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",Ta,om]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",es,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",es,$s]}],"underline-offset":[{"underline-offset":["auto",es,Ee]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),jD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[es,Ee]}],"outline-w":[{outline:[es,$s]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[es,$s]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Bs,MD]}],"shadow-color":[{shadow:[Kl]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Bs,Ee]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Gl,Ee]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[es,$s,om]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$D=ED(UD);function ne(...t){return $D(yS(t))}const BD=Bj,RS=p.forwardRef(({className:t,...e},n)=>c.jsx(dS,{ref:n,className:ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));RS.displayName=dS.displayName;const zD=cl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),NS=p.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(hS,{ref:r,className:ne(zD({variant:e}),t),...n}));NS.displayName=hS.displayName;const WD=p.forwardRef(({className:t,...e},n)=>c.jsx(mS,{ref:n,className:ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));WD.displayName=mS.displayName;const AS=p.forwardRef(({className:t,...e},n)=>c.jsx(gS,{ref:n,className:ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(bf,{className:"h-4 w-4"})}));AS.displayName=gS.displayName;const kS=p.forwardRef(({className:t,...e},n)=>c.jsx(fS,{ref:n,className:ne("text-sm font-semibold",t),...e}));kS.displayName=fS.displayName;const jS=p.forwardRef(({className:t,...e},n)=>c.jsx(pS,{ref:n,className:ne("text-sm opacity-90",t),...e}));jS.displayName=pS.displayName;function HD(){const{toasts:t}=Ss();return c.jsxs(BD,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(NS,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(kS,{children:n}),r&&c.jsx(jS,{children:r})]}),s,c.jsx(AS,{})]},e)}),c.jsx(RS,{})]})}var rx=["light","dark"],qD="(prefers-color-scheme: dark)",GD=p.createContext(void 0),KD={setTheme:t=>{},themes:[]},QD=()=>{var t;return(t=p.useContext(GD))!=null?t:KD};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let d=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?rx.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(b,x=!1,w=!0)=>{let _=o?o[b]:b,y=x?b+"|| ''":`'${_}'`,E="";return s&&w&&!x&&rx.includes(b)&&(E+=`d.style.colorScheme = '${b}';`),n==="class"?x||_?E+=`c.add(${y})`:E+="null":_&&(E+=`d[s](n,${y})`),E},v=t?`!function(){${h}${g(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${qD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}${d?"":"else{"+g(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}else{${g(i,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:v}})});var YD=t=>{switch(t){case"success":return ZD;case"info":return tO;case"warning":return eO;case"error":return nO;default:return null}},XD=Array(12).fill(0),JD=({visible:t,className:e})=>q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},q.createElement("div",{className:"sonner-spinner"},XD.map((n,r)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ZD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eO=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tO=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nO=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rO=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),sO=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Pg=1,iO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Pg++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async d=>{if(o=["resolve",d],q.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(aO(d)&&!d.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(d):n.success,f=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var d;i&&(this.dismiss(r),r=void 0),(d=n.finally)==null||d.call(n)}),l=()=>new Promise((d,h)=>a.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Pg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},bn=new iO,oO=(t,e)=>{let n=(e==null?void 0:e.id)||Pg++;return bn.addToast({title:t,...e,id:n}),n},aO=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",lO=oO,cO=()=>bn.toasts,uO=()=>bn.getActiveToasts();Object.assign(lO,{success:bn.success,info:bn.info,warning:bn.warning,error:bn.error,custom:bn.custom,message:bn.message,promise:bn.promise,dismiss:bn.dismiss,loading:bn.loading},{getHistory:cO,getToasts:uO});function dO(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}dO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function fd(t){return t.label!==void 0}var hO=3,fO="32px",pO="16px",sx=4e3,mO=356,gO=14,vO=20,yO=200;function ar(...t){return t.filter(Boolean).join(" ")}function wO(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var _O=t=>{var e,n,r,s,i,o,a,l,d,h,f;let{invert:g,toast:v,unstyled:b,interacting:x,setHeights:w,visibleToasts:_,heights:y,index:E,toasts:C,expanded:O,removeToast:k,defaultRichColors:I,closeButton:S,style:P,cancelButtonStyle:N,actionButtonStyle:j,className:D="",descriptionClassName:A="",duration:W,position:ie,gap:G,loadingIcon:X,expandByDefault:V,classNames:U,icons:Q,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:Z}=t,[ee,le]=q.useState(null),[Te,We]=q.useState(null),[K,Pe]=q.useState(!1),[qe,xe]=q.useState(!1),[pe,_e]=q.useState(!1),[lt,se]=q.useState(!1),[M,ce]=q.useState(!1),[me,ct]=q.useState(0),[Oe,St]=q.useState(0),kn=q.useRef(v.duration||W||sx),Zt=q.useRef(null),jt=q.useRef(null),fn=E===0,jn=E+1<=_,Se=v.type,Be=v.dismissible!==!1,Qr=v.className||"",Ki=v.descriptionClassName||"",Yr=q.useMemo(()=>y.findIndex(he=>he.toastId===v.id)||0,[y,v.id]),Cl=q.useMemo(()=>{var he;return(he=v.closeButton)!=null?he:S},[v.closeButton,S]),Cr=q.useMemo(()=>v.duration||W||sx,[v.duration,W]),xn=q.useRef(0),Dn=q.useRef(0),Os=q.useRef(0),Ms=q.useRef(null),[vp,Pl]=ie.split("-"),Rl=q.useMemo(()=>y.reduce((he,Me,Ke)=>Ke>=Yr?he:he+Me.height,0),[y,Yr]),Nl=sO(),Qi=v.invert||g,Yi=Se==="loading";Dn.current=q.useMemo(()=>Yr*G+Rl,[Yr,Rl]),q.useEffect(()=>{kn.current=Cr},[Cr]),q.useEffect(()=>{Pe(!0)},[]),q.useEffect(()=>{let he=jt.current;if(he){let Me=he.getBoundingClientRect().height;return St(Me),w(Ke=>[{toastId:v.id,height:Me,position:v.position},...Ke]),()=>w(Ke=>Ke.filter(Bt=>Bt.toastId!==v.id))}},[w,v.id]),q.useLayoutEffect(()=>{if(!K)return;let he=jt.current,Me=he.style.height;he.style.height="auto";let Ke=he.getBoundingClientRect().height;he.style.height=Me,St(Ke),w(Bt=>Bt.find(En=>En.toastId===v.id)?Bt.map(En=>En.toastId===v.id?{...En,height:Ke}:En):[{toastId:v.id,height:Ke,position:v.position},...Bt])},[K,v.title,v.description,w,v.id]);let Gn=q.useCallback(()=>{xe(!0),ct(Dn.current),w(he=>he.filter(Me=>Me.toastId!==v.id)),setTimeout(()=>{k(v)},yO)},[v,k,w,Dn]);q.useEffect(()=>{if(v.promise&&Se==="loading"||v.duration===1/0||v.type==="loading")return;let he;return O||x||Z&&Nl?(()=>{if(Os.current<xn.current){let Me=new Date().getTime()-xn.current;kn.current=kn.current-Me}Os.current=new Date().getTime()})():kn.current!==1/0&&(xn.current=new Date().getTime(),he=setTimeout(()=>{var Me;(Me=v.onAutoClose)==null||Me.call(v,v),Gn()},kn.current)),()=>clearTimeout(he)},[O,x,v,Se,Z,Nl,Gn]),q.useEffect(()=>{v.delete&&Gn()},[Gn,v.delete]);function Xr(){var he,Me,Ke;return Q!=null&&Q.loading?q.createElement("div",{className:ar(U==null?void 0:U.loader,(he=v==null?void 0:v.classNames)==null?void 0:he.loader,"sonner-loader"),"data-visible":Se==="loading"},Q.loading):X?q.createElement("div",{className:ar(U==null?void 0:U.loader,(Me=v==null?void 0:v.classNames)==null?void 0:Me.loader,"sonner-loader"),"data-visible":Se==="loading"},X):q.createElement(JD,{className:ar(U==null?void 0:U.loader,(Ke=v==null?void 0:v.classNames)==null?void 0:Ke.loader),visible:Se==="loading"})}return q.createElement("li",{tabIndex:0,ref:jt,className:ar(D,Qr,U==null?void 0:U.toast,(e=v==null?void 0:v.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[Se],(n=v==null?void 0:v.classNames)==null?void 0:n[Se]),"data-sonner-toast":"","data-rich-colors":(r=v.richColors)!=null?r:I,"data-styled":!(v.jsx||v.unstyled||b),"data-mounted":K,"data-promise":!!v.promise,"data-swiped":M,"data-removed":qe,"data-visible":jn,"data-y-position":vp,"data-x-position":Pl,"data-index":E,"data-front":fn,"data-swiping":pe,"data-dismissible":Be,"data-type":Se,"data-invert":Qi,"data-swipe-out":lt,"data-swipe-direction":Te,"data-expanded":!!(O||V&&K),style:{"--index":E,"--toasts-before":E,"--z-index":C.length-E,"--offset":`${qe?me:Dn.current}px`,"--initial-height":V?"auto":`${Oe}px`,...P,...v.style},onDragEnd:()=>{_e(!1),le(null),Ms.current=null},onPointerDown:he=>{Yi||!Be||(Zt.current=new Date,ct(Dn.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(_e(!0),Ms.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,Me,Ke,Bt;if(lt||!Be)return;Ms.current=null;let En=Number(((he=jt.current)==null?void 0:he.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ut=Number(((Me=jt.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Pr=new Date().getTime()-((Ke=Zt.current)==null?void 0:Ke.getTime()),zt=ee==="x"?En:ut,Tn=Math.abs(zt)/Pr;if(Math.abs(zt)>=vO||Tn>.11){ct(Dn.current),(Bt=v.onDismiss)==null||Bt.call(v,v),We(ee==="x"?En>0?"right":"left":ut>0?"down":"up"),Gn(),se(!0),ce(!1);return}_e(!1),le(null)},onPointerMove:he=>{var Me,Ke,Bt,En;if(!Ms.current||!Be||((Me=window.getSelection())==null?void 0:Me.toString().length)>0)return;let ut=he.clientY-Ms.current.y,Pr=he.clientX-Ms.current.x,zt=(Ke=t.swipeDirections)!=null?Ke:wO(ie);!ee&&(Math.abs(Pr)>1||Math.abs(ut)>1)&&le(Math.abs(Pr)>Math.abs(ut)?"x":"y");let Tn={x:0,y:0};ee==="y"?(zt.includes("top")||zt.includes("bottom"))&&(zt.includes("top")&&ut<0||zt.includes("bottom")&&ut>0)&&(Tn.y=ut):ee==="x"&&(zt.includes("left")||zt.includes("right"))&&(zt.includes("left")&&Pr<0||zt.includes("right")&&Pr>0)&&(Tn.x=Pr),(Math.abs(Tn.x)>0||Math.abs(Tn.y)>0)&&ce(!0),(Bt=jt.current)==null||Bt.style.setProperty("--swipe-amount-x",`${Tn.x}px`),(En=jt.current)==null||En.style.setProperty("--swipe-amount-y",`${Tn.y}px`)}},Cl&&!v.jsx?q.createElement("button",{"aria-label":oe,"data-disabled":Yi,"data-close-button":!0,onClick:Yi||!Be?()=>{}:()=>{var he;Gn(),(he=v.onDismiss)==null||he.call(v,v)},className:ar(U==null?void 0:U.closeButton,(s=v==null?void 0:v.classNames)==null?void 0:s.closeButton)},(i=Q==null?void 0:Q.close)!=null?i:rO):null,v.jsx||p.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:q.createElement(q.Fragment,null,Se||v.icon||v.promise?q.createElement("div",{"data-icon":"",className:ar(U==null?void 0:U.icon,(o=v==null?void 0:v.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Xr():null,v.type!=="loading"?v.icon||(Q==null?void 0:Q[Se])||YD(Se):null):null,q.createElement("div",{"data-content":"",className:ar(U==null?void 0:U.content,(a=v==null?void 0:v.classNames)==null?void 0:a.content)},q.createElement("div",{"data-title":"",className:ar(U==null?void 0:U.title,(l=v==null?void 0:v.classNames)==null?void 0:l.title)},typeof v.title=="function"?v.title():v.title),v.description?q.createElement("div",{"data-description":"",className:ar(A,Ki,U==null?void 0:U.description,(d=v==null?void 0:v.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),p.isValidElement(v.cancel)?v.cancel:v.cancel&&fd(v.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||N,onClick:he=>{var Me,Ke;fd(v.cancel)&&Be&&((Ke=(Me=v.cancel).onClick)==null||Ke.call(Me,he),Gn())},className:ar(U==null?void 0:U.cancelButton,(h=v==null?void 0:v.classNames)==null?void 0:h.cancelButton)},v.cancel.label):null,p.isValidElement(v.action)?v.action:v.action&&fd(v.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||j,onClick:he=>{var Me,Ke;fd(v.action)&&((Ke=(Me=v.action).onClick)==null||Ke.call(Me,he),!he.defaultPrevented&&Gn())},className:ar(U==null?void 0:U.actionButton,(f=v==null?void 0:v.classNames)==null?void 0:f.actionButton)},v.action.label):null))};function ix(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function xO(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?pO:fO;function l(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=a:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):l(a)}),n}var EO=p.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:d,theme:h="light",richColors:f,duration:g,style:v,visibleToasts:b=hO,toastOptions:x,dir:w=ix(),gap:_=gO,loadingIcon:y,icons:E,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:O}=t,[k,I]=q.useState([]),S=q.useMemo(()=>Array.from(new Set([r].concat(k.filter(Z=>Z.position).map(Z=>Z.position)))),[k,r]),[P,N]=q.useState([]),[j,D]=q.useState(!1),[A,W]=q.useState(!1),[ie,G]=q.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=q.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=q.useRef(null),Q=q.useRef(!1),oe=q.useCallback(Z=>{I(ee=>{var le;return(le=ee.find(Te=>Te.id===Z.id))!=null&&le.delete||bn.dismiss(Z.id),ee.filter(({id:Te})=>Te!==Z.id)})},[]);return q.useEffect(()=>bn.subscribe(Z=>{if(Z.dismiss){I(ee=>ee.map(le=>le.id===Z.id?{...le,delete:!0}:le));return}setTimeout(()=>{Bb.flushSync(()=>{I(ee=>{let le=ee.findIndex(Te=>Te.id===Z.id);return le!==-1?[...ee.slice(0,le),{...ee[le],...Z},...ee.slice(le+1)]:[Z,...ee]})})})}),[]),q.useEffect(()=>{if(h!=="system"){G(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:ee})=>{G(ee?"dark":"light")})}catch{Z.addListener(({matches:le})=>{try{G(le?"dark":"light")}catch(Te){console.error(Te)}})}},[h]),q.useEffect(()=>{k.length<=1&&D(!1)},[k]),q.useEffect(()=>{let Z=ee=>{var le,Te;s.every(We=>ee[We]||ee.code===We)&&(D(!0),(le=X.current)==null||le.focus()),ee.code==="Escape"&&(document.activeElement===X.current||(Te=X.current)!=null&&Te.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[s]),q.useEffect(()=>{if(X.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,Q.current=!1)}},[X.current]),q.createElement("section",{ref:e,"aria-label":`${C} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((Z,ee)=>{var le;let[Te,We]=Z.split("-");return k.length?q.createElement("ol",{key:Z,dir:w==="auto"?ix():w,tabIndex:-1,ref:X,className:a,"data-sonner-toaster":!0,"data-theme":ie,"data-y-position":Te,"data-lifted":j&&k.length>1&&!i,"data-x-position":We,style:{"--front-toast-height":`${((le=P[0])==null?void 0:le.height)||0}px`,"--width":`${mO}px`,"--gap":`${_}px`,...v,...xO(l,d)},onBlur:K=>{Q.current&&!K.currentTarget.contains(K.relatedTarget)&&(Q.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,U.current=K.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{A||D(!1)},onDragEnd:()=>D(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},k.filter(K=>!K.position&&ee===0||K.position===Z).map((K,Pe)=>{var qe,xe;return q.createElement(_O,{key:K.id,icons:E,index:Pe,toast:K,defaultRichColors:f,duration:(qe=x==null?void 0:x.duration)!=null?qe:g,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:b,closeButton:(xe=x==null?void 0:x.closeButton)!=null?xe:o,interacting:A,position:Z,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:oe,toasts:k.filter(pe=>pe.position==K.position),heights:P.filter(pe=>pe.position==K.position),setHeights:N,expandByDefault:i,gap:_,loadingIcon:y,expanded:j,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const TO=({...t})=>{const{theme:e="system"}=QD();return c.jsx(EO,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var bO=bv[" useId ".trim().toString()]||(()=>{}),SO=0;function yo(t){const[e,n]=p.useState(bO());return Xt(()=>{n(r=>r??String(SO++))},[t]),e?`radix-${e}`:""}const IO=["top","right","bottom","left"],Ri=Math.min,Ln=Math.max,Ih=Math.round,pd=Math.floor,Ur=t=>({x:t,y:t}),CO={left:"right",right:"left",bottom:"top",top:"bottom"},PO={start:"end",end:"start"};function Rg(t,e,n){return Ln(t,Ri(e,n))}function vs(t,e){return typeof t=="function"?t(e):t}function ys(t){return t.split("-")[0]}function hl(t){return t.split("-")[1]}function xy(t){return t==="x"?"y":"x"}function Ey(t){return t==="y"?"height":"width"}const RO=new Set(["top","bottom"]);function Lr(t){return RO.has(ys(t))?"y":"x"}function Ty(t){return xy(Lr(t))}function NO(t,e,n){n===void 0&&(n=!1);const r=hl(t),s=Ty(t),i=Ey(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ch(o)),[o,Ch(o)]}function AO(t){const e=Ch(t);return[Ng(t),e,Ng(e)]}function Ng(t){return t.replace(/start|end/g,e=>PO[e])}const ox=["left","right"],ax=["right","left"],kO=["top","bottom"],jO=["bottom","top"];function DO(t,e,n){switch(t){case"top":case"bottom":return n?e?ax:ox:e?ox:ax;case"left":case"right":return e?kO:jO;default:return[]}}function OO(t,e,n,r){const s=hl(t);let i=DO(ys(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ng)))),i}function Ch(t){return t.replace(/left|right|bottom|top/g,e=>CO[e])}function MO(t){return{top:0,right:0,bottom:0,left:0,...t}}function DS(t){return typeof t!="number"?MO(t):{top:t,right:t,bottom:t,left:t}}function Ph(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function lx(t,e,n){let{reference:r,floating:s}=t;const i=Lr(e),o=Ty(e),a=Ey(o),l=ys(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,g=r[a]/2-s[a]/2;let v;switch(l){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(hl(e)){case"start":v[o]-=g*(n&&d?-1:1);break;case"end":v[o]+=g*(n&&d?-1:1);break}return v}const LO=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=lx(d,r,l),g=r,v={},b=0;for(let x=0;x<a.length;x++){const{name:w,fn:_}=a[x],{x:y,y:E,data:C,reset:O}=await _({x:h,y:f,initialPlacement:r,placement:g,strategy:s,middlewareData:v,rects:d,platform:o,elements:{reference:t,floating:e}});h=y??h,f=E??f,v={...v,[w]:{...v[w],...C}},O&&b<=50&&(b++,typeof O=="object"&&(O.placement&&(g=O.placement),O.rects&&(d=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:h,y:f}=lx(d,g,l)),x=-1)}return{x:h,y:f,placement:g,strategy:s,middlewareData:v}};async function $c(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:g=!1,padding:v=0}=vs(e,t),b=DS(v),w=a[g?f==="floating"?"reference":"floating":f],_=Ph(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:l})),y=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},O=Ph(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:E,strategy:l}):y);return{top:(_.top-O.top+b.top)/C.y,bottom:(O.bottom-_.bottom+b.bottom)/C.y,left:(_.left-O.left+b.left)/C.x,right:(O.right-_.right+b.right)/C.x}}const VO=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:d,padding:h=0}=vs(t,e)||{};if(d==null)return{};const f=DS(h),g={x:n,y:r},v=Ty(s),b=Ey(v),x=await o.getDimensions(d),w=v==="y",_=w?"top":"left",y=w?"bottom":"right",E=w?"clientHeight":"clientWidth",C=i.reference[b]+i.reference[v]-g[v]-i.floating[b],O=g[v]-i.reference[v],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let I=k?k[E]:0;(!I||!await(o.isElement==null?void 0:o.isElement(k)))&&(I=a.floating[E]||i.floating[b]);const S=C/2-O/2,P=I/2-x[b]/2-1,N=Ri(f[_],P),j=Ri(f[y],P),D=N,A=I-x[b]-j,W=I/2-x[b]/2+S,ie=Rg(D,W,A),G=!l.arrow&&hl(s)!=null&&W!==ie&&i.reference[b]/2-(W<D?N:j)-x[b]/2<0,X=G?W<D?W-D:W-A:0;return{[v]:g[v]+X,data:{[v]:ie,centerOffset:W-ie-X,...G&&{alignmentOffset:X}},reset:G}}}),FO=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...w}=vs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=ys(s),y=Lr(a),E=ys(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(d.floating)),O=g||(E||!x?[Ch(a)]:AO(a)),k=b!=="none";!g&&k&&O.push(...OO(a,x,b,C));const I=[a,...O],S=await $c(e,w),P=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&P.push(S[_]),f){const W=NO(s,o,C);P.push(S[W[0]],S[W[1]])}if(N=[...N,{placement:s,overflows:P}],!P.every(W=>W<=0)){var j,D;const W=(((j=i.flip)==null?void 0:j.index)||0)+1,ie=I[W];if(ie&&(!(f==="alignment"?y!==Lr(ie):!1)||N.every(V=>V.overflows[0]>0&&Lr(V.placement)===y)))return{data:{index:W,overflows:N},reset:{placement:ie}};let G=(D=N.filter(X=>X.overflows[0]<=0).sort((X,V)=>X.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!G)switch(v){case"bestFit":{var A;const X=(A=N.filter(V=>{if(k){const U=Lr(V.placement);return U===y||U==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(U=>U>0).reduce((U,Q)=>U+Q,0)]).sort((V,U)=>V[1]-U[1])[0])==null?void 0:A[0];X&&(G=X);break}case"initialPlacement":G=a;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function cx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ux(t){return IO.some(e=>t[e]>=0)}const UO=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=vs(t,e);switch(r){case"referenceHidden":{const i=await $c(e,{...s,elementContext:"reference"}),o=cx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ux(o)}}}case"escaped":{const i=await $c(e,{...s,altBoundary:!0}),o=cx(i,n.floating);return{data:{escapedOffsets:o,escaped:ux(o)}}}default:return{}}}}},OS=new Set(["left","top"]);async function $O(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ys(n),a=hl(n),l=Lr(n)==="y",d=OS.has(o)?-1:1,h=i&&l?-1:1,f=vs(e,t);let{mainAxis:g,crossAxis:v,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(v=a==="end"?b*-1:b),l?{x:v*h,y:g*d}:{x:g*d,y:v*h}}const BO=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await $O(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},zO=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:_,y}=w;return{x:_,y}}},...l}=vs(t,e),d={x:n,y:r},h=await $c(e,l),f=Lr(ys(s)),g=xy(f);let v=d[g],b=d[f];if(i){const w=g==="y"?"top":"left",_=g==="y"?"bottom":"right",y=v+h[w],E=v-h[_];v=Rg(y,v,E)}if(o){const w=f==="y"?"top":"left",_=f==="y"?"bottom":"right",y=b+h[w],E=b-h[_];b=Rg(y,b,E)}const x=a.fn({...e,[g]:v,[f]:b});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[g]:i,[f]:o}}}}}},WO=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:d=!0}=vs(t,e),h={x:n,y:r},f=Lr(s),g=xy(f);let v=h[g],b=h[f];const x=vs(a,e),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const E=g==="y"?"height":"width",C=i.reference[g]-i.floating[E]+w.mainAxis,O=i.reference[g]+i.reference[E]-w.mainAxis;v<C?v=C:v>O&&(v=O)}if(d){var _,y;const E=g==="y"?"width":"height",C=OS.has(ys(s)),O=i.reference[f]-i.floating[E]+(C&&((_=o.offset)==null?void 0:_[f])||0)+(C?0:w.crossAxis),k=i.reference[f]+i.reference[E]+(C?0:((y=o.offset)==null?void 0:y[f])||0)-(C?w.crossAxis:0);b<O?b=O:b>k&&(b=k)}return{[g]:v,[f]:b}}}},HO=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...d}=vs(t,e),h=await $c(e,d),f=ys(s),g=hl(s),v=Lr(s)==="y",{width:b,height:x}=i.floating;let w,_;f==="top"||f==="bottom"?(w=f,_=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,w=g==="end"?"top":"bottom");const y=x-h.top-h.bottom,E=b-h.left-h.right,C=Ri(x-h[w],y),O=Ri(b-h[_],E),k=!e.middlewareData.shift;let I=C,S=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=y),k&&!g){const N=Ln(h.left,0),j=Ln(h.right,0),D=Ln(h.top,0),A=Ln(h.bottom,0);v?S=b-2*(N!==0||j!==0?N+j:Ln(h.left,h.right)):I=x-2*(D!==0||A!==0?D+A:Ln(h.top,h.bottom))}await l({...e,availableWidth:S,availableHeight:I});const P=await o.getDimensions(a.floating);return b!==P.width||x!==P.height?{reset:{rects:!0}}:{}}}};function Sf(){return typeof window<"u"}function fl(t){return MS(t)?(t.nodeName||"").toLowerCase():"#document"}function Bn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Kr(t){var e;return(e=(MS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function MS(t){return Sf()?t instanceof Node||t instanceof Bn(t).Node:!1}function Er(t){return Sf()?t instanceof Element||t instanceof Bn(t).Element:!1}function qr(t){return Sf()?t instanceof HTMLElement||t instanceof Bn(t).HTMLElement:!1}function dx(t){return!Sf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Bn(t).ShadowRoot}const qO=new Set(["inline","contents"]);function mu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Tr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!qO.has(s)}const GO=new Set(["table","td","th"]);function KO(t){return GO.has(fl(t))}const QO=[":popover-open",":modal"];function If(t){return QO.some(e=>{try{return t.matches(e)}catch{return!1}})}const YO=["transform","translate","scale","rotate","perspective"],XO=["transform","translate","scale","rotate","perspective","filter"],JO=["paint","layout","strict","content"];function by(t){const e=Sy(),n=Er(t)?Tr(t):t;return YO.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||XO.some(r=>(n.willChange||"").includes(r))||JO.some(r=>(n.contain||"").includes(r))}function ZO(t){let e=Ni(t);for(;qr(e)&&!Ka(e);){if(by(e))return e;if(If(e))return null;e=Ni(e)}return null}function Sy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const eM=new Set(["html","body","#document"]);function Ka(t){return eM.has(fl(t))}function Tr(t){return Bn(t).getComputedStyle(t)}function Cf(t){return Er(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ni(t){if(fl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||dx(t)&&t.host||Kr(t);return dx(e)?e.host:e}function LS(t){const e=Ni(t);return Ka(e)?t.ownerDocument?t.ownerDocument.body:t.body:qr(e)&&mu(e)?e:LS(e)}function Bc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=LS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Bn(s);if(i){const a=Ag(o);return e.concat(o,o.visualViewport||[],mu(s)?s:[],a&&n?Bc(a):[])}return e.concat(s,Bc(s,[],n))}function Ag(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function VS(t){const e=Tr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=qr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ih(n)!==i||Ih(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Iy(t){return Er(t)?t:t.contextElement}function ba(t){const e=Iy(t);if(!qr(e))return Ur(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=VS(e);let o=(i?Ih(n.width):n.width)/r,a=(i?Ih(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const tM=Ur(0);function FS(t){const e=Bn(t);return!Sy()||!e.visualViewport?tM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Bn(t)?!1:e}function Io(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Iy(t);let o=Ur(1);e&&(r?Er(r)&&(o=ba(r)):o=ba(t));const a=nM(i,n,r)?FS(i):Ur(0);let l=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const g=Bn(i),v=r&&Er(r)?Bn(r):r;let b=g,x=Ag(b);for(;x&&r&&v!==b;){const w=ba(x),_=x.getBoundingClientRect(),y=Tr(x),E=_.left+(x.clientLeft+parseFloat(y.paddingLeft))*w.x,C=_.top+(x.clientTop+parseFloat(y.paddingTop))*w.y;l*=w.x,d*=w.y,h*=w.x,f*=w.y,l+=E,d+=C,b=Bn(x),x=Ag(b)}}return Ph({width:h,height:f,x:l,y:d})}function Cy(t,e){const n=Cf(t).scrollLeft;return e?e.left+n:Io(Kr(t)).left+n}function US(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Cy(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function rM(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Kr(r),a=e?If(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},d=Ur(1);const h=Ur(0),f=qr(r);if((f||!f&&!i)&&((fl(r)!=="body"||mu(o))&&(l=Cf(r)),qr(r))){const v=Io(r);d=ba(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const g=o&&!f&&!i?US(o,l,!0):Ur(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+h.x+g.x,y:n.y*d.y-l.scrollTop*d.y+h.y+g.y}}function sM(t){return Array.from(t.getClientRects())}function iM(t){const e=Kr(t),n=Cf(t),r=t.ownerDocument.body,s=Ln(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Ln(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Cy(t);const a=-n.scrollTop;return Tr(r).direction==="rtl"&&(o+=Ln(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function oM(t,e){const n=Bn(t),r=Kr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=Sy();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const aM=new Set(["absolute","fixed"]);function lM(t,e){const n=Io(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=qr(t)?ba(t):Ur(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,d=r*i.y;return{width:o,height:a,x:l,y:d}}function hx(t,e,n){let r;if(e==="viewport")r=oM(t,n);else if(e==="document")r=iM(Kr(t));else if(Er(e))r=lM(e,n);else{const s=FS(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ph(r)}function $S(t,e){const n=Ni(t);return n===e||!Er(n)||Ka(n)?!1:Tr(n).position==="fixed"||$S(n,e)}function cM(t,e){const n=e.get(t);if(n)return n;let r=Bc(t,[],!1).filter(a=>Er(a)&&fl(a)!=="body"),s=null;const i=Tr(t).position==="fixed";let o=i?Ni(t):t;for(;Er(o)&&!Ka(o);){const a=Tr(o),l=by(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&aM.has(s.position)||mu(o)&&!l&&$S(t,o))?r=r.filter(h=>h!==o):s=a,o=Ni(o)}return e.set(t,r),r}function uM(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?If(e)?[]:cM(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((d,h)=>{const f=hx(e,h,s);return d.top=Ln(f.top,d.top),d.right=Ri(f.right,d.right),d.bottom=Ri(f.bottom,d.bottom),d.left=Ln(f.left,d.left),d},hx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function dM(t){const{width:e,height:n}=VS(t);return{width:e,height:n}}function hM(t,e,n){const r=qr(e),s=Kr(e),i=n==="fixed",o=Io(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Ur(0);function d(){l.x=Cy(s)}if(r||!r&&!i)if((fl(e)!=="body"||mu(s))&&(a=Cf(e)),r){const v=Io(e,!0,i,e);l.x=v.x+e.clientLeft,l.y=v.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?US(s,a):Ur(0),f=o.left+a.scrollLeft-l.x-h.x,g=o.top+a.scrollTop-l.y-h.y;return{x:f,y:g,width:o.width,height:o.height}}function am(t){return Tr(t).position==="static"}function fx(t,e){if(!qr(t)||Tr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Kr(t)===n&&(n=n.ownerDocument.body),n}function BS(t,e){const n=Bn(t);if(If(t))return n;if(!qr(t)){let s=Ni(t);for(;s&&!Ka(s);){if(Er(s)&&!am(s))return s;s=Ni(s)}return n}let r=fx(t,e);for(;r&&KO(r)&&am(r);)r=fx(r,e);return r&&Ka(r)&&am(r)&&!by(r)?n:r||ZO(t)||n}const fM=async function(t){const e=this.getOffsetParent||BS,n=this.getDimensions,r=await n(t.floating);return{reference:hM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pM(t){return Tr(t).direction==="rtl"}const mM={convertOffsetParentRelativeRectToViewportRelativeRect:rM,getDocumentElement:Kr,getClippingRect:uM,getOffsetParent:BS,getElementRects:fM,getClientRects:sM,getDimensions:dM,getScale:ba,isElement:Er,isRTL:pM};function zS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function gM(t,e){let n=null,r;const s=Kr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:g,height:v}=d;if(a||e(),!g||!v)return;const b=pd(f),x=pd(s.clientWidth-(h+g)),w=pd(s.clientHeight-(f+v)),_=pd(h),E={rootMargin:-b+"px "+-x+"px "+-w+"px "+-_+"px",threshold:Ln(0,Ri(1,l))||1};let C=!0;function O(k){const I=k[0].intersectionRatio;if(I!==l){if(!C)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!zS(d,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(O,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,E)}n.observe(t)}return o(!0),i}function vM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=Iy(t),h=s||i?[...d?Bc(d):[],...Bc(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=d&&a?gM(d,n):null;let g=-1,v=null;o&&(v=new ResizeObserver(_=>{let[y]=_;y&&y.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var E;(E=v)==null||E.observe(e)})),n()}),d&&!l&&v.observe(d),v.observe(e));let b,x=l?Io(t):null;l&&w();function w(){const _=Io(t);x&&!zS(x,_)&&n(),x=_,b=requestAnimationFrame(w)}return n(),()=>{var _;h.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(_=v)==null||_.disconnect(),v=null,l&&cancelAnimationFrame(b)}}const yM=BO,wM=zO,_M=FO,xM=HO,EM=UO,px=VO,TM=WO,bM=(t,e,n)=>{const r=new Map,s={platform:mM,...n},i={...s.platform,_c:r};return LO(t,e,{...s,platform:i})};var SM=typeof document<"u",IM=function(){},Ud=SM?p.useLayoutEffect:IM;function Rh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Rh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Rh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function WS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function mx(t,e){const n=WS(t);return Math.round(e*n)/n}function lm(t){const e=p.useRef(t);return Ud(()=>{e.current=t}),e}function CM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:d}=t,[h,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,v]=p.useState(r);Rh(g,r)||v(r);const[b,x]=p.useState(null),[w,_]=p.useState(null),y=p.useCallback(V=>{V!==k.current&&(k.current=V,x(V))},[]),E=p.useCallback(V=>{V!==I.current&&(I.current=V,_(V))},[]),C=i||b,O=o||w,k=p.useRef(null),I=p.useRef(null),S=p.useRef(h),P=l!=null,N=lm(l),j=lm(s),D=lm(d),A=p.useCallback(()=>{if(!k.current||!I.current)return;const V={placement:e,strategy:n,middleware:g};j.current&&(V.platform=j.current),bM(k.current,I.current,V).then(U=>{const Q={...U,isPositioned:D.current!==!1};W.current&&!Rh(S.current,Q)&&(S.current=Q,Lo.flushSync(()=>{f(Q)}))})},[g,e,n,j,D]);Ud(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[d]);const W=p.useRef(!1);Ud(()=>(W.current=!0,()=>{W.current=!1}),[]),Ud(()=>{if(C&&(k.current=C),O&&(I.current=O),C&&O){if(N.current)return N.current(C,O,A);A()}},[C,O,A,N,P]);const ie=p.useMemo(()=>({reference:k,floating:I,setReference:y,setFloating:E}),[y,E]),G=p.useMemo(()=>({reference:C,floating:O}),[C,O]),X=p.useMemo(()=>{const V={position:n,left:0,top:0};if(!G.floating)return V;const U=mx(G.floating,h.x),Q=mx(G.floating,h.y);return a?{...V,transform:"translate("+U+"px, "+Q+"px)",...WS(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:Q}},[n,a,G.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:A,refs:ie,elements:G,floatingStyles:X}),[h,A,ie,G,X])}const PM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?px({element:r.current,padding:s}).fn(n):{}:r?px({element:r,padding:s}).fn(n):{}}}},RM=(t,e)=>({...yM(t),options:[t,e]}),NM=(t,e)=>({...wM(t),options:[t,e]}),AM=(t,e)=>({...TM(t),options:[t,e]}),kM=(t,e)=>({..._M(t),options:[t,e]}),jM=(t,e)=>({...xM(t),options:[t,e]}),DM=(t,e)=>({...EM(t),options:[t,e]}),OM=(t,e)=>({...PM(t),options:[t,e]});var MM="Arrow",HS=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(Ie.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});HS.displayName=MM;var LM=HS;function qS(t){const[e,n]=p.useState(void 0);return Xt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Py="Popper",[GS,Pf]=Vo(Py),[VM,KS]=GS(Py),QS=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return c.jsx(VM,{scope:e,anchor:r,onAnchorChange:s,children:n})};QS.displayName=Py;var YS="PopperAnchor",XS=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=KS(YS,n),o=p.useRef(null),a=Xe(e,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(Ie.div,{...s,ref:a})});XS.displayName=YS;var Ry="PopperContent",[FM,UM]=GS(Ry),JS=p.forwardRef((t,e)=>{var K,Pe,qe,xe,pe,_e;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:b,...x}=t,w=KS(Ry,n),[_,y]=p.useState(null),E=Xe(e,lt=>y(lt)),[C,O]=p.useState(null),k=qS(C),I=(k==null?void 0:k.width)??0,S=(k==null?void 0:k.height)??0,P=r+(i!=="center"?"-"+i:""),N=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},j=Array.isArray(d)?d:[d],D=j.length>0,A={padding:N,boundary:j.filter(BM),altBoundary:D},{refs:W,floatingStyles:ie,placement:G,isPositioned:X,middlewareData:V}=CM({strategy:"fixed",placement:P,whileElementsMounted:(...lt)=>vM(...lt,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[RM({mainAxis:s+S,alignmentAxis:o}),l&&NM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?AM():void 0,...A}),l&&kM({...A}),jM({...A,apply:({elements:lt,rects:se,availableWidth:M,availableHeight:ce})=>{const{width:me,height:ct}=se.reference,Oe=lt.floating.style;Oe.setProperty("--radix-popper-available-width",`${M}px`),Oe.setProperty("--radix-popper-available-height",`${ce}px`),Oe.setProperty("--radix-popper-anchor-width",`${me}px`),Oe.setProperty("--radix-popper-anchor-height",`${ct}px`)}}),C&&OM({element:C,padding:a}),zM({arrowWidth:I,arrowHeight:S}),g&&DM({strategy:"referenceHidden",...A})]}),[U,Q]=tI(G),oe=xr(b);Xt(()=>{X&&(oe==null||oe())},[X,oe]);const Z=(K=V.arrow)==null?void 0:K.x,ee=(Pe=V.arrow)==null?void 0:Pe.y,le=((qe=V.arrow)==null?void 0:qe.centerOffset)!==0,[Te,We]=p.useState();return Xt(()=>{_&&We(window.getComputedStyle(_).zIndex)},[_]),c.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:X?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[(xe=V.transformOrigin)==null?void 0:xe.x,(pe=V.transformOrigin)==null?void 0:pe.y].join(" "),...((_e=V.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(FM,{scope:n,placedSide:U,onArrowChange:O,arrowX:Z,arrowY:ee,shouldHideArrow:le,children:c.jsx(Ie.div,{"data-side":U,"data-align":Q,...x,ref:E,style:{...x.style,animation:X?void 0:"none"}})})})});JS.displayName=Ry;var ZS="PopperArrow",$M={top:"bottom",right:"left",bottom:"top",left:"right"},eI=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=UM(ZS,r),o=$M[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(LM,{...s,ref:n,style:{...s.style,display:"block"}})})});eI.displayName=ZS;function BM(t){return t!==null}var zM=t=>({name:"transformOrigin",options:t,fn(e){var w,_,y;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[d,h]=tI(n),f={start:"0%",center:"50%",end:"100%"}[h],g=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,v=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let b="",x="";return d==="bottom"?(b=o?f:`${g}px`,x=`${-l}px`):d==="top"?(b=o?f:`${g}px`,x=`${r.floating.height+l}px`):d==="right"?(b=`${-l}px`,x=o?f:`${v}px`):d==="left"&&(b=`${r.floating.width+l}px`,x=o?f:`${v}px`),{data:{x:b,y:x}}}});function tI(t){const[e,n="center"]=t.split("-");return[e,n]}var nI=QS,rI=XS,sI=JS,iI=eI,[Rf,O8]=Vo("Tooltip",[Pf]),Nf=Pf(),oI="TooltipProvider",WM=700,kg="tooltip.open",[HM,Ny]=Rf(oI),aI=t=>{const{__scopeTooltip:e,delayDuration:n=WM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=p.useRef(!0),a=p.useRef(!1),l=p.useRef(0);return p.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),c.jsx(HM,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:p.useCallback(d=>{a.current=d},[]),disableHoverableContent:s,children:i})};aI.displayName=oI;var zc="Tooltip",[qM,Af]=Rf(zc),lI=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=Ny(zc,t.__scopeTooltip),d=Nf(e),[h,f]=p.useState(null),g=yo(),v=p.useRef(0),b=o??l.disableHoverableContent,x=a??l.delayDuration,w=p.useRef(!1),[_,y]=Ga({prop:r,defaultProp:s??!1,onChange:I=>{I?(l.onOpen(),document.dispatchEvent(new CustomEvent(kg))):l.onClose(),i==null||i(I)},caller:zc}),E=p.useMemo(()=>_?w.current?"delayed-open":"instant-open":"closed",[_]),C=p.useCallback(()=>{window.clearTimeout(v.current),v.current=0,w.current=!1,y(!0)},[y]),O=p.useCallback(()=>{window.clearTimeout(v.current),v.current=0,y(!1)},[y]),k=p.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{w.current=!0,y(!0),v.current=0},x)},[x,y]);return p.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),c.jsx(nI,{...d,children:c.jsx(qM,{scope:e,contentId:g,open:_,stateAttribute:E,trigger:h,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{l.isOpenDelayedRef.current?k():C()},[l.isOpenDelayedRef,k,C]),onTriggerLeave:p.useCallback(()=>{b?O():(window.clearTimeout(v.current),v.current=0)},[O,b]),onOpen:C,onClose:O,disableHoverableContent:b,children:n})})};lI.displayName=zc;var jg="TooltipTrigger",cI=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Af(jg,n),i=Ny(jg,n),o=Nf(n),a=p.useRef(null),l=Xe(e,a,s.onTriggerChange),d=p.useRef(!1),h=p.useRef(!1),f=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(rI,{asChild:!0,...o,children:c.jsx(Ie.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:we(t.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:we(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:we(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:we(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:we(t.onBlur,s.onClose),onClick:we(t.onClick,s.onClose)})})});cI.displayName=jg;var GM="TooltipPortal",[M8,KM]=Rf(GM,{forceMount:void 0}),Qa="TooltipContent",uI=p.forwardRef((t,e)=>{const n=KM(Qa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Af(Qa,t.__scopeTooltip);return c.jsx(Fo,{present:r||o.open,children:o.disableHoverableContent?c.jsx(dI,{side:s,...i,ref:e}):c.jsx(QM,{side:s,...i,ref:e})})}),QM=p.forwardRef((t,e)=>{const n=Af(Qa,t.__scopeTooltip),r=Ny(Qa,t.__scopeTooltip),s=p.useRef(null),i=Xe(e,s),[o,a]=p.useState(null),{trigger:l,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,g=p.useCallback(()=>{a(null),f(!1)},[f]),v=p.useCallback((b,x)=>{const w=b.currentTarget,_={x:b.clientX,y:b.clientY},y=eL(_,w.getBoundingClientRect()),E=tL(_,y),C=nL(x.getBoundingClientRect()),O=sL([...E,...C]);a(O),f(!0)},[f]);return p.useEffect(()=>()=>g(),[g]),p.useEffect(()=>{if(l&&h){const b=w=>v(w,h),x=w=>v(w,l);return l.addEventListener("pointerleave",b),h.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",x)}}},[l,h,v,g]),p.useEffect(()=>{if(o){const b=x=>{const w=x.target,_={x:x.clientX,y:x.clientY},y=(l==null?void 0:l.contains(w))||(h==null?void 0:h.contains(w)),E=!rL(_,o);y?g():E&&(g(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,h,o,d,g]),c.jsx(dI,{...t,ref:i})}),[YM,XM]=Rf(zc,{isInside:!1}),JM=nj("TooltipContent"),dI=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Af(Qa,n),d=Nf(n),{onClose:h}=l;return p.useEffect(()=>(document.addEventListener(kg,h),()=>document.removeEventListener(kg,h)),[h]),p.useEffect(()=>{if(l.trigger){const f=g=>{const v=g.target;v!=null&&v.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),c.jsx(du,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:c.jsxs(sI,{"data-state":l.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(JM,{children:r}),c.jsx(YM,{scope:n,isInside:!0,children:c.jsx(bj,{id:l.contentId,role:"tooltip",children:s||r})})]})})});uI.displayName=Qa;var hI="TooltipArrow",ZM=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Nf(n);return XM(hI,n).isInside?null:c.jsx(iI,{...s,...r,ref:e})});ZM.displayName=hI;function eL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function tL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function nL(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function rL(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],d=a.x,h=a.y,f=l.x,g=l.y;h>r!=g>r&&n<(f-d)*(r-h)/(g-h)+d&&(s=!s)}return s}function sL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),iL(e)}function iL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var oL=aI,aL=lI,lL=cI,fI=uI;const pI=oL,cL=aL,uL=lL,mI=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(fI,{ref:r,sideOffset:e,className:ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));mI.displayName=fI.displayName;var kf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jf=typeof window>"u"||"Deno"in globalThis;function ur(){}function dL(t,e){return typeof t=="function"?t(e):t}function hL(t){return typeof t=="number"&&t>=0&&t!==1/0}function fL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Dg(t,e){return typeof t=="function"?t(e):t}function pL(t,e){return typeof t=="function"?t(e):t}function gx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Ay(o,e.options))return!1}else if(!Hc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function vx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Wc(e.options.mutationKey)!==Wc(i))return!1}else if(!Hc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ay(t,e){return((e==null?void 0:e.queryKeyHashFn)||Wc)(t)}function Wc(t){return JSON.stringify(t,(e,n)=>Og(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Hc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Hc(t[n],e[n])):!1}function gI(t,e){if(t===e)return t;const n=yx(t)&&yx(e);if(n||Og(t)&&Og(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let d=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,d++):(a[f]=gI(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&d++)}return s===o&&d===s?t:a}return e}function yx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Og(t){if(!wx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!wx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function wx(t){return Object.prototype.toString.call(t)==="[object Object]"}function mL(t){return new Promise(e=>{setTimeout(e,t)})}function gL(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?gI(t,e):e}function vL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function yL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ky=Symbol();function vI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ky?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var co,ei,Aa,x1,wL=(x1=class extends kf{constructor(){super();Ue(this,co);Ue(this,ei);Ue(this,Aa);ve(this,Aa,e=>{if(!jf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,ei)||this.setEventListener(B(this,Aa))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,ei))==null||e.call(this),ve(this,ei,void 0))}setEventListener(e){var n;ve(this,Aa,e),(n=B(this,ei))==null||n.call(this),ve(this,ei,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,co)!==e&&(ve(this,co,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,co)=="boolean"?B(this,co):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},co=new WeakMap,ei=new WeakMap,Aa=new WeakMap,x1),yI=new wL,ka,ti,ja,E1,_L=(E1=class extends kf{constructor(){super();Ue(this,ka,!0);Ue(this,ti);Ue(this,ja);ve(this,ja,e=>{if(!jf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,ti)||this.setEventListener(B(this,ja))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,ti))==null||e.call(this),ve(this,ti,void 0))}setEventListener(e){var n;ve(this,ja,e),(n=B(this,ti))==null||n.call(this),ve(this,ti,e(this.setOnline.bind(this)))}setOnline(e){B(this,ka)!==e&&(ve(this,ka,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,ka)}},ka=new WeakMap,ti=new WeakMap,ja=new WeakMap,E1),Nh=new _L;function xL(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function EL(t){return Math.min(1e3*2**t,3e4)}function wI(t){return(t??"online")==="online"?Nh.isOnline():!0}var _I=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function cm(t){return t instanceof _I}function xI(t){let e=!1,n=0,r=!1,s;const i=xL(),o=x=>{var w;r||(g(new _I(x)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},d=()=>yI.isFocused()&&(t.networkMode==="always"||Nh.isOnline())&&t.canRun(),h=()=>wI(t.networkMode)&&t.canRun(),f=x=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,x),s==null||s(),i.resolve(x))},g=x=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,x),s==null||s(),i.reject(x))},v=()=>new Promise(x=>{var w;s=_=>{(r||d())&&x(_)},(w=t.onPause)==null||w.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),b=()=>{if(r)return;let x;const w=n===0?t.initialPromise:void 0;try{x=w??t.fn()}catch(_){x=Promise.reject(_)}Promise.resolve(x).then(f).catch(_=>{var k;if(r)return;const y=t.retry??(jf?0:3),E=t.retryDelay??EL,C=typeof E=="function"?E(n,_):E,O=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,_);if(e||!O){g(_);return}n++,(k=t.onFail)==null||k.call(t,n,_),mL(C).then(()=>d()?void 0:v()).then(()=>{e?g(_):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?b():v().then(b),i)}}var TL=t=>setTimeout(t,0);function bL(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=TL;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var gn=bL(),uo,T1,EI=(T1=class{constructor(){Ue(this,uo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hL(this.gcTime)&&ve(this,uo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(jf?1/0:5*60*1e3))}clearGcTimeout(){B(this,uo)&&(clearTimeout(B(this,uo)),ve(this,uo,void 0))}},uo=new WeakMap,T1),Da,ho,Kn,fo,an,su,po,dr,ts,b1,SL=(b1=class extends EI{constructor(n){super();Ue(this,dr);Ue(this,Da);Ue(this,ho);Ue(this,Kn);Ue(this,fo);Ue(this,an);Ue(this,su);Ue(this,po);ve(this,po,!1),ve(this,su,n.defaultOptions),this.setOptions(n.options),this.observers=[],ve(this,fo,n.client),ve(this,Kn,B(this,fo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ve(this,Da,CL(this.options)),this.state=n.state??B(this,Da),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=B(this,an))==null?void 0:n.promise}setOptions(n){this.options={...B(this,su),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Kn).remove(this)}setData(n,r){const s=gL(this.state.data,n,this.options);return nn(this,dr,ts).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){nn(this,dr,ts).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=B(this,an))==null?void 0:s.promise;return(i=B(this,an))==null||i.cancel(n),r?r.then(ur).catch(ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Da))}isActive(){return this.observers.some(n=>pL(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ky||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Dg(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!fL(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,an))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,an))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),B(this,Kn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(B(this,an)&&(B(this,po)?B(this,an).cancel({revert:!0}):B(this,an).cancelRetry()),this.scheduleGc()),B(this,Kn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||nn(this,dr,ts).call(this,{type:"invalidate"})}fetch(n,r){var h,f,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,an))return B(this,an).continueRetry(),B(this,an).promise}if(n&&this.setOptions(n),!this.options.queryFn){const v=this.observers.find(b=>b.options.queryFn);v&&this.setOptions(v.options)}const s=new AbortController,i=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(ve(this,po,!0),s.signal)})},o=()=>{const v=vI(this.options,r),x=(()=>{const w={client:B(this,fo),queryKey:this.queryKey,meta:this.meta};return i(w),w})();return ve(this,po,!1),this.options.persister?this.options.persister(v,x,this):v(x)},l=(()=>{const v={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,fo),state:this.state,fetchFn:o};return i(v),v})();(h=this.options.behavior)==null||h.onFetch(l,this),ve(this,ho,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&nn(this,dr,ts).call(this,{type:"fetch",meta:(g=l.fetchOptions)==null?void 0:g.meta});const d=v=>{var b,x,w,_;cm(v)&&v.silent||nn(this,dr,ts).call(this,{type:"error",error:v}),cm(v)||((x=(b=B(this,Kn).config).onError)==null||x.call(b,v,this),(_=(w=B(this,Kn).config).onSettled)==null||_.call(w,this.state.data,v,this)),this.scheduleGc()};return ve(this,an,xI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:v=>{var b,x,w,_;if(v===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(y){d(y);return}(x=(b=B(this,Kn).config).onSuccess)==null||x.call(b,v,this),(_=(w=B(this,Kn).config).onSettled)==null||_.call(w,v,this.state.error,this),this.scheduleGc()},onError:d,onFail:(v,b)=>{nn(this,dr,ts).call(this,{type:"failed",failureCount:v,error:b})},onPause:()=>{nn(this,dr,ts).call(this,{type:"pause"})},onContinue:()=>{nn(this,dr,ts).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),B(this,an).start()}},Da=new WeakMap,ho=new WeakMap,Kn=new WeakMap,fo=new WeakMap,an=new WeakMap,su=new WeakMap,po=new WeakMap,dr=new WeakSet,ts=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...IL(s.data,this.options),fetchMeta:n.meta??null};case"success":return ve(this,ho,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return cm(i)&&i.revert&&B(this,ho)?{...B(this,ho),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),gn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),B(this,Kn).notify({query:this,type:"updated",action:n})})},b1);function IL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function CL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var kr,S1,PL=(S1=class extends kf{constructor(e={}){super();Ue(this,kr);this.config=e,ve(this,kr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ay(s,n);let o=this.get(i);return o||(o=new SL({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){B(this,kr).has(e.queryHash)||(B(this,kr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,kr).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,kr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,kr).get(e)}getAll(){return[...B(this,kr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>gx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>gx(e,r)):n}notify(e){gn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){gn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},kr=new WeakMap,S1),jr,pn,mo,Dr,Ws,I1,RL=(I1=class extends EI{constructor(n){super();Ue(this,Dr);Ue(this,jr);Ue(this,pn);Ue(this,mo);this.mutationId=n.mutationId,ve(this,pn,n.mutationCache),ve(this,jr,[]),this.state=n.state||NL(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){B(this,jr).includes(n)||(B(this,jr).push(n),this.clearGcTimeout(),B(this,pn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ve(this,jr,B(this,jr).filter(r=>r!==n)),this.scheduleGc(),B(this,pn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){B(this,jr).length||(this.state.status==="pending"?this.scheduleGc():B(this,pn).remove(this))}continue(){var n;return((n=B(this,mo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,d,h,f,g,v,b,x,w,_,y,E,C,O,k,I,S,P;const r=()=>{nn(this,Dr,Ws).call(this,{type:"continue"})};ve(this,mo,xI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(N,j)=>{nn(this,Dr,Ws).call(this,{type:"failed",failureCount:N,error:j})},onPause:()=>{nn(this,Dr,Ws).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,pn).canRun(this)}));const s=this.state.status==="pending",i=!B(this,mo).canStart();try{if(s)r();else{nn(this,Dr,Ws).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=B(this,pn).config).onMutate)==null?void 0:a.call(o,n,this));const j=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,n));j!==this.state.context&&nn(this,Dr,Ws).call(this,{type:"pending",context:j,variables:n,isPaused:i})}const N=await B(this,mo).start();return await((f=(h=B(this,pn).config).onSuccess)==null?void 0:f.call(h,N,n,this.state.context,this)),await((v=(g=this.options).onSuccess)==null?void 0:v.call(g,N,n,this.state.context)),await((x=(b=B(this,pn).config).onSettled)==null?void 0:x.call(b,N,null,this.state.variables,this.state.context,this)),await((_=(w=this.options).onSettled)==null?void 0:_.call(w,N,null,n,this.state.context)),nn(this,Dr,Ws).call(this,{type:"success",data:N}),N}catch(N){try{throw await((E=(y=B(this,pn).config).onError)==null?void 0:E.call(y,N,n,this.state.context,this)),await((O=(C=this.options).onError)==null?void 0:O.call(C,N,n,this.state.context)),await((I=(k=B(this,pn).config).onSettled)==null?void 0:I.call(k,void 0,N,this.state.variables,this.state.context,this)),await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,N,n,this.state.context)),N}finally{nn(this,Dr,Ws).call(this,{type:"error",error:N})}}finally{B(this,pn).runNext(this)}}},jr=new WeakMap,pn=new WeakMap,mo=new WeakMap,Dr=new WeakSet,Ws=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),gn.batch(()=>{B(this,jr).forEach(s=>{s.onMutationUpdate(n)}),B(this,pn).notify({mutation:this,type:"updated",action:n})})},I1);function NL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ss,hr,iu,C1,AL=(C1=class extends kf{constructor(e={}){super();Ue(this,ss);Ue(this,hr);Ue(this,iu);this.config=e,ve(this,ss,new Set),ve(this,hr,new Map),ve(this,iu,0)}build(e,n,r){const s=new RL({mutationCache:this,mutationId:++Gu(this,iu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){B(this,ss).add(e);const n=md(e);if(typeof n=="string"){const r=B(this,hr).get(n);r?r.push(e):B(this,hr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(B(this,ss).delete(e)){const n=md(e);if(typeof n=="string"){const r=B(this,hr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&B(this,hr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=md(e);if(typeof n=="string"){const r=B(this,hr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=md(e);if(typeof n=="string"){const s=(r=B(this,hr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){gn.batch(()=>{B(this,ss).forEach(e=>{this.notify({type:"removed",mutation:e})}),B(this,ss).clear(),B(this,hr).clear()})}getAll(){return Array.from(B(this,ss))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vx(n,r))}findAll(e={}){return this.getAll().filter(n=>vx(e,n))}notify(e){gn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return gn.batch(()=>Promise.all(e.map(n=>n.continue().catch(ur))))}},ss=new WeakMap,hr=new WeakMap,iu=new WeakMap,C1);function md(t){var e;return(e=t.options.scope)==null?void 0:e.id}function _x(t){return{onFetch:(e,n)=>{var h,f,g,v,b;const r=e.options,s=(g=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const d=async()=>{let x=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},_=vI(e.options,e.fetchOptions),y=async(E,C,O)=>{if(x)return Promise.reject();if(C==null&&E.pages.length)return Promise.resolve(E);const I=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:C,direction:O?"backward":"forward",meta:e.options.meta};return w(j),j})(),S=await _(I),{maxPages:P}=e.options,N=O?yL:vL;return{pages:N(E.pages,S,P),pageParams:N(E.pageParams,C,P)}};if(s&&i.length){const E=s==="backward",C=E?kL:xx,O={pages:i,pageParams:o},k=C(r,O);a=await y(O,k,E)}else{const E=t??i.length;do{const C=l===0?o[0]??r.initialPageParam:xx(r,a);if(l>0&&C==null)break;a=await y(a,C),l++}while(l<E)}return a};e.options.persister?e.fetchFn=()=>{var x,w;return(w=(x=e.options).persister)==null?void 0:w.call(x,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function xx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function kL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var yt,ni,ri,Oa,Ma,si,La,Va,P1,jL=(P1=class{constructor(t={}){Ue(this,yt);Ue(this,ni);Ue(this,ri);Ue(this,Oa);Ue(this,Ma);Ue(this,si);Ue(this,La);Ue(this,Va);ve(this,yt,t.queryCache||new PL),ve(this,ni,t.mutationCache||new AL),ve(this,ri,t.defaultOptions||{}),ve(this,Oa,new Map),ve(this,Ma,new Map),ve(this,si,0)}mount(){Gu(this,si)._++,B(this,si)===1&&(ve(this,La,yI.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,yt).onFocus())})),ve(this,Va,Nh.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,yt).onOnline())})))}unmount(){var t,e;Gu(this,si)._--,B(this,si)===0&&((t=B(this,La))==null||t.call(this),ve(this,La,void 0),(e=B(this,Va))==null||e.call(this),ve(this,Va,void 0))}isFetching(t){return B(this,yt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,ni).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,yt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=B(this,yt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Dg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return B(this,yt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=B(this,yt).get(r.queryHash),i=s==null?void 0:s.state.data,o=dL(e,i);if(o!==void 0)return B(this,yt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return gn.batch(()=>B(this,yt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,yt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,yt);gn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,yt);return gn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=gn.batch(()=>B(this,yt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ur).catch(ur)}invalidateQueries(t,e={}){return gn.batch(()=>(B(this,yt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=gn.batch(()=>B(this,yt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ur)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ur)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,yt).build(this,e);return n.isStaleByTime(Dg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ur).catch(ur)}fetchInfiniteQuery(t){return t.behavior=_x(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ur).catch(ur)}ensureInfiniteQueryData(t){return t.behavior=_x(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Nh.isOnline()?B(this,ni).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,yt)}getMutationCache(){return B(this,ni)}getDefaultOptions(){return B(this,ri)}setDefaultOptions(t){ve(this,ri,t)}setQueryDefaults(t,e){B(this,Oa).set(Wc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,Oa).values()],n={};return e.forEach(r=>{Hc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){B(this,Ma).set(Wc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,Ma).values()],n={};return e.forEach(r=>{Hc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,ri).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ay(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ky&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,ri).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,yt).clear(),B(this,ni).clear()}},yt=new WeakMap,ni=new WeakMap,ri=new WeakMap,Oa=new WeakMap,Ma=new WeakMap,si=new WeakMap,La=new WeakMap,Va=new WeakMap,P1),DL=p.createContext(void 0),OL=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(DL.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}var ai;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ai||(ai={}));const Ex="popstate";function ML(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Mg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ah(s)}return VL(e,n,null,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function TI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LL(){return Math.random().toString(36).substr(2,8)}function Tx(t,e){return{usr:t.state,key:t.key,idx:e}}function Mg(t,e,n,r){return n===void 0&&(n=null),qc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pl(e):e,{state:n,key:e&&e.key||r||LL()})}function Ah(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function VL(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ai.Pop,l=null,d=h();d==null&&(d=0,o.replaceState(qc({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=ai.Pop;let w=h(),_=w==null?null:w-d;d=w,l&&l({action:a,location:x.location,delta:_})}function g(w,_){a=ai.Push;let y=Mg(x.location,w,_);d=h()+1;let E=Tx(y,d),C=x.createHref(y);try{o.pushState(E,"",C)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(C)}i&&l&&l({action:a,location:x.location,delta:1})}function v(w,_){a=ai.Replace;let y=Mg(x.location,w,_);d=h();let E=Tx(y,d),C=x.createHref(y);o.replaceState(E,"",C),i&&l&&l({action:a,location:x.location,delta:0})}function b(w){let _=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof w=="string"?w:Ah(w);return y=y.replace(/ $/,"%20"),pt(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let x={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ex,f),l=w,()=>{s.removeEventListener(Ex,f),l=null}},createHref(w){return e(s,w)},createURL:b,encodeLocation(w){let _=b(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:v,go(w){return o.go(w)}};return x}var bx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bx||(bx={}));function FL(t,e,n){return n===void 0&&(n="/"),UL(t,e,n,!1)}function UL(t,e,n,r){let s=typeof e=="string"?pl(e):e,i=Ya(s.pathname||"/",n);if(i==null)return null;let o=bI(t);$L(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=JL(i);a=YL(o[l],d,r)}return a}function bI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(pt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=vi([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(pt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),bI(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:KL(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of SI(i.path))s(i,o,l)}),e}function SI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=SI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function $L(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const BL=/^:[\w-]+$/,zL=3,WL=2,HL=1,qL=10,GL=-2,Sx=t=>t==="*";function KL(t,e){let n=t.split("/"),r=n.length;return n.some(Sx)&&(r+=GL),e&&(r+=WL),n.filter(s=>!Sx(s)).reduce((s,i)=>s+(BL.test(i)?zL:i===""?HL:qL),r)}function QL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function YL(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=kh({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),g=l.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=kh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:vi([i,f.pathname]),pathnameBase:n4(vi([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=vi([i,f.pathnameBase]))}return o}function kh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:g,isOptional:v}=h;if(g==="*"){let x=a[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const b=a[f];return v&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function XL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),TI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function JL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return TI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ya(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?pl(t):t;return{pathname:n?n.startsWith("/")?n:e4(n,e):e,search:r4(r),hash:s4(s)}}function e4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function um(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function t4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jy(t,e){let n=t4(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Dy(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=pl(t):(s=qc({},t),pt(!s.pathname||!s.pathname.includes("?"),um("?","pathname","search",s)),pt(!s.pathname||!s.pathname.includes("#"),um("#","pathname","hash",s)),pt(!s.search||!s.search.includes("#"),um("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}a=f>=0?e[f]:"/"}let l=ZL(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}const vi=t=>t.join("/").replace(/\/\/+/g,"/"),n4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,s4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function i4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const II=["post","put","patch","delete"];new Set(II);const o4=["get",...II];new Set(o4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gc.apply(this,arguments)}const Df=p.createContext(null),CI=p.createContext(null),Is=p.createContext(null),Of=p.createContext(null),$i=p.createContext({outlet:null,matches:[],isDataRoute:!1}),PI=p.createContext(null);function a4(t,e){let{relative:n}=e===void 0?{}:e;ml()||pt(!1);let{basename:r,navigator:s}=p.useContext(Is),{hash:i,pathname:o,search:a}=Mf(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:vi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ml(){return p.useContext(Of)!=null}function Cs(){return ml()||pt(!1),p.useContext(Of).location}function RI(t){p.useContext(Is).static||p.useLayoutEffect(t)}function gu(){let{isDataRoute:t}=p.useContext($i);return t?_4():l4()}function l4(){ml()||pt(!1);let t=p.useContext(Df),{basename:e,future:n,navigator:r}=p.useContext(Is),{matches:s}=p.useContext($i),{pathname:i}=Cs(),o=JSON.stringify(jy(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return RI(()=>{a.current=!0}),p.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let f=Dy(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:vi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function Mf(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(Is),{matches:s}=p.useContext($i),{pathname:i}=Cs(),o=JSON.stringify(jy(s,r.v7_relativeSplatPath));return p.useMemo(()=>Dy(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function c4(t,e){return u4(t,e)}function u4(t,e,n,r){ml()||pt(!1);let{navigator:s}=p.useContext(Is),{matches:i}=p.useContext($i),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=Cs(),h;if(e){var f;let w=typeof e=="string"?pl(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||pt(!1),h=w}else h=d;let g=h.pathname||"/",v=g;if(l!=="/"){let w=l.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=FL(t,{pathname:v}),x=m4(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:vi([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:vi([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&x?p.createElement(Of.Provider,{value:{location:Gc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ai.Pop}},x):x}function d4(){let t=w4(),e=i4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const h4=p.createElement(d4,null);class f4 extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement($i.Provider,{value:this.props.routeContext},p.createElement(PI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function p4(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(Df);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement($i.Provider,{value:e},r)}function m4(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||pt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:g,errors:v}=n,b=f.route.loader&&g[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||b){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,g)=>{let v,b=!1,x=null,w=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||h4,l&&(d<0&&g===0?(b=!0,w=null):d===g&&(b=!0,w=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,g+1)),y=()=>{let E;return v?E=x:b?E=w:f.route.Component?E=p.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,p.createElement(p4,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?p.createElement(f4,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var NI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(NI||{}),jh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jh||{});function g4(t){let e=p.useContext(Df);return e||pt(!1),e}function v4(t){let e=p.useContext(CI);return e||pt(!1),e}function y4(t){let e=p.useContext($i);return e||pt(!1),e}function AI(t){let e=y4(),n=e.matches[e.matches.length-1];return n.route.id||pt(!1),n.route.id}function w4(){var t;let e=p.useContext(PI),n=v4(jh.UseRouteError),r=AI(jh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _4(){let{router:t}=g4(NI.UseNavigateStable),e=AI(jh.UseNavigateStable),n=p.useRef(!1);return RI(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Gc({fromRouteId:e},i)))},[t,e])}function x4(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Lg(t){let{to:e,replace:n,state:r,relative:s}=t;ml()||pt(!1);let{future:i,static:o}=p.useContext(Is),{matches:a}=p.useContext($i),{pathname:l}=Cs(),d=gu(),h=Dy(e,jy(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(h);return p.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function qt(t){pt(!1)}function E4(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ai.Pop,navigator:i,static:o=!1,future:a}=t;ml()&&pt(!1);let l=e.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:l,navigator:i,static:o,future:Gc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=pl(r));let{pathname:h="/",search:f="",hash:g="",state:v=null,key:b="default"}=r,x=p.useMemo(()=>{let w=Ya(h,l);return w==null?null:{location:{pathname:w,search:f,hash:g,state:v,key:b},navigationType:s}},[l,h,f,g,v,b,s]);return x==null?null:p.createElement(Is.Provider,{value:d},p.createElement(Of.Provider,{children:n,value:x}))}function kI(t){let{children:e,location:n}=t;return c4(Vg(e),n)}new Promise(()=>{});function Vg(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,Vg(r.props.children,i));return}r.type!==qt&&pt(!1),!r.props.index||!r.props.children||pt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dh(){return Dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dh.apply(this,arguments)}function jI(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function T4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function b4(t,e){return t.button===0&&(!e||e==="_self")&&!T4(t)}const S4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],I4=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],C4="6";try{window.__reactRouterVersion=C4}catch{}const P4=p.createContext({isTransitioning:!1}),R4="startTransition",Ix=bv[R4];function N4(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=ML({window:s,v5Compat:!0}));let o=i.current,[a,l]=p.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=p.useCallback(f=>{d&&Ix?Ix(()=>l(f)):l(f)},[l,d]);return p.useLayoutEffect(()=>o.listen(h),[o,h]),p.useEffect(()=>x4(r),[r]),p.createElement(E4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const A4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:d,preventScrollReset:h,viewTransition:f}=e,g=jI(e,S4),{basename:v}=p.useContext(Is),b,x=!1;if(typeof d=="string"&&k4.test(d)&&(b=d,A4))try{let E=new URL(window.location.href),C=d.startsWith("//")?new URL(E.protocol+d):new URL(d),O=Ya(C.pathname,v);C.origin===E.origin&&O!=null?d=O+C.search+C.hash:x=!0}catch{}let w=a4(d,{relative:s}),_=O4(d,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function y(E){r&&r(E),E.defaultPrevented||_(E)}return p.createElement("a",Dh({},g,{href:b||w,onClick:x||i?r:y,ref:n,target:l}))}),j4=p.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:d,children:h}=e,f=jI(e,I4),g=Mf(l,{relative:f.relative}),v=Cs(),b=p.useContext(CI),{navigator:x,basename:w}=p.useContext(Is),_=b!=null&&M4(g)&&d===!0,y=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,E=v.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(E=E.toLowerCase(),C=C?C.toLowerCase():null,y=y.toLowerCase()),C&&w&&(C=Ya(C,w)||C);const O=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let k=E===y||!o&&E.startsWith(y)&&E.charAt(O)==="/",I=C!=null&&(C===y||!o&&C.startsWith(y)&&C.charAt(y.length)==="/"),S={isActive:k,isPending:I,isTransitioning:_},P=k?r:void 0,N;typeof i=="function"?N=i(S):N=[i,k?"active":null,I?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(S):a;return p.createElement(Ye,Dh({},f,{"aria-current":P,className:N,ref:n,style:j,to:l,viewTransition:d}),typeof h=="function"?h(S):h)});var Fg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Fg||(Fg={}));var Cx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cx||(Cx={}));function D4(t){let e=p.useContext(Df);return e||pt(!1),e}function O4(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=gu(),d=Cs(),h=Mf(t,{relative:o});return p.useCallback(f=>{if(b4(f,n)){f.preventDefault();let g=r!==void 0?r:Ah(d)===Ah(h);l(t,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,l,h,r,s,n,t,i,o,a])}function M4(t,e){e===void 0&&(e={});let n=p.useContext(P4);n==null&&pt(!1);let{basename:r}=D4(Fg.useViewTransitionState),s=Mf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Ya(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ya(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kh(s.pathname,o)!=null||kh(s.pathname,i)!=null}const L4=()=>{};var Px={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},V4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},OI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let g=(a&15)<<2|d>>6,v=d&63;l||(v=64,o||(g=64)),r.push(n[h],n[f],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):V4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new F4;const g=i<<2|a>>4;if(r.push(g),d!==64){const v=a<<4&240|d>>2;if(r.push(v),f!==64){const b=d<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class F4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U4=function(t){const e=DI(t);return OI.encodeByteArray(e,!0)},Oh=function(t){return U4(t).replace(/\./g,"")},MI=function(t){try{return OI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=()=>$4().__FIREBASE_DEFAULTS__,z4=()=>{if(typeof process>"u"||typeof Px>"u")return;const t=Px.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MI(t[1]);return e&&JSON.parse(e)},Lf=()=>{try{return L4()||B4()||z4()||W4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LI=t=>{var e,n;return(n=(e=Lf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},H4=t=>{const e=LI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VI=()=>{var t;return(t=Lf())===null||t===void 0?void 0:t.config},FI=t=>{var e;return(e=Lf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Oh(JSON.stringify(n)),Oh(JSON.stringify(o)),""].join(".")}const vc={};function K4(){const t={prod:[],emulator:[]};for(const e of Object.keys(vc))vc[e]?t.emulator.push(e):t.prod.push(e);return t}function Q4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Rx=!1;function $I(t,e){if(typeof window>"u"||typeof document>"u"||!gl(window.location.host)||vc[t]===e||vc[t]||Rx)return;vc[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=K4().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Rx=!0,o()},g}function h(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=Q4(r),v=n("text"),b=document.getElementById(v)||document.createElement("span"),x=n("learnmore"),w=document.getElementById(x)||document.createElement("a"),_=n("preprendIcon"),y=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const E=g.element;a(E),h(w,x);const C=d();l(y,_),E.append(y,b,w,C),document.body.appendChild(E)}i?(b.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function X4(){var t;const e=(t=Lf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tV(){const t=hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nV(){return!X4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rV(){try{return typeof indexedDB=="object"}catch{return!1}}function sV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV="FirebaseError";class Ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iV,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?oV(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ps(s,a,r)}}function oV(t,e){return t.replace(aV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const aV=/\{\$([^}]+)}/g;function lV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ws(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Nx(i)&&Nx(o)){if(!ws(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Nx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ec(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function tc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cV(t,e){const n=new uV(t,e);return n.subscribe.bind(n)}class uV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=dm),s.error===void 0&&(s.error=dm),s.complete===void 0&&(s.complete=dm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){return t&&t._delegate?t._delegate:t}class Co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new q4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pV(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fV(t){return t===no?void 0:t}function pV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const gV={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},vV=Re.INFO,yV={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},wV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=yV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oy{constructor(e){this.name=e,this._logLevel=vV,this._logHandler=wV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const _V=(t,e)=>e.some(n=>t instanceof n);let Ax,kx;function xV(){return Ax||(Ax=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EV(){return kx||(kx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BI=new WeakMap,Ug=new WeakMap,zI=new WeakMap,hm=new WeakMap,My=new WeakMap;function TV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(yi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&BI.set(n,t)}).catch(()=>{}),My.set(e,t),e}function bV(t){if(Ug.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ug.set(t,e)}let $g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ug.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SV(t){$g=t($g)}function IV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fm(this),e,...n);return zI.set(r,e.sort?e.sort():[e]),yi(r)}:EV().includes(t)?function(...e){return t.apply(fm(this),e),yi(BI.get(this))}:function(...e){return yi(t.apply(fm(this),e))}}function CV(t){return typeof t=="function"?IV(t):(t instanceof IDBTransaction&&bV(t),_V(t,xV())?new Proxy(t,$g):t)}function yi(t){if(t instanceof IDBRequest)return TV(t);if(hm.has(t))return hm.get(t);const e=CV(t);return e!==t&&(hm.set(t,e),My.set(e,t)),e}const fm=t=>My.get(t);function PV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=yi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(yi(o.result),l.oldVersion,l.newVersion,yi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const RV=["get","getKey","getAll","getAllKeys","count"],NV=["put","add","delete","clear"],pm=new Map;function jx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=NV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||RV.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&l.done]))[0]};return pm.set(e,i),i}SV(t=>({...t,get:(e,n,r)=>jx(e,n)||t.get(e,n,r),has:(e,n)=>!!jx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bg="@firebase/app",Dx="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Oy("@firebase/app"),jV="@firebase/app-compat",DV="@firebase/analytics-compat",OV="@firebase/analytics",MV="@firebase/app-check-compat",LV="@firebase/app-check",VV="@firebase/auth",FV="@firebase/auth-compat",UV="@firebase/database",$V="@firebase/data-connect",BV="@firebase/database-compat",zV="@firebase/functions",WV="@firebase/functions-compat",HV="@firebase/installations",qV="@firebase/installations-compat",GV="@firebase/messaging",KV="@firebase/messaging-compat",QV="@firebase/performance",YV="@firebase/performance-compat",XV="@firebase/remote-config",JV="@firebase/remote-config-compat",ZV="@firebase/storage",eF="@firebase/storage-compat",tF="@firebase/firestore",nF="@firebase/ai",rF="@firebase/firestore-compat",sF="firebase",iF="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="[DEFAULT]",oF={[Bg]:"fire-core",[jV]:"fire-core-compat",[OV]:"fire-analytics",[DV]:"fire-analytics-compat",[LV]:"fire-app-check",[MV]:"fire-app-check-compat",[VV]:"fire-auth",[FV]:"fire-auth-compat",[UV]:"fire-rtdb",[$V]:"fire-data-connect",[BV]:"fire-rtdb-compat",[zV]:"fire-fn",[WV]:"fire-fn-compat",[HV]:"fire-iid",[qV]:"fire-iid-compat",[GV]:"fire-fcm",[KV]:"fire-fcm-compat",[QV]:"fire-perf",[YV]:"fire-perf-compat",[XV]:"fire-rc",[JV]:"fire-rc-compat",[ZV]:"fire-gcs",[eF]:"fire-gcs-compat",[tF]:"fire-fst",[rF]:"fire-fst-compat",[nF]:"fire-vertex","fire-js":"fire-js",[sF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,aF=new Map,Wg=new Map;function Ox(t,e){try{t.container.addComponent(e)}catch(n){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xa(t){const e=t.name;if(Wg.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;Wg.set(e,t);for(const n of Mh.values())Ox(n,t);for(const n of aF.values())Ox(n,t);return!0}function Ly(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new vu("app","Firebase",lF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=iF;function WI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zg,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw wi.create("bad-app-name",{appName:String(s)});if(n||(n=VI()),!n)throw wi.create("no-options");const i=Mh.get(s);if(i){if(ws(n,i.options)&&ws(r,i.config))return i;throw wi.create("duplicate-app",{appName:s})}const o=new mV(s);for(const l of Wg.values())o.addComponent(l);const a=new cF(n,r,o);return Mh.set(s,a),a}function HI(t=zg){const e=Mh.get(t);if(!e&&t===zg&&VI())return WI();if(!e)throw wi.create("no-app",{appName:t});return e}function _i(t,e,n){var r;let s=(r=oF[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(a.join(" "));return}Xa(new Co(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="firebase-heartbeat-database",dF=1,Kc="firebase-heartbeat-store";let mm=null;function qI(){return mm||(mm=PV(uF,dF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw wi.create("idb-open",{originalErrorMessage:t.message})})),mm}async function hF(t){try{const n=(await qI()).transaction(Kc),r=await n.objectStore(Kc).get(GI(t));return await n.done,r}catch(e){if(e instanceof Ps)_s.warn(e.message);else{const n=wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_s.warn(n.message)}}}async function Mx(t,e){try{const r=(await qI()).transaction(Kc,"readwrite");await r.objectStore(Kc).put(e,GI(t)),await r.done}catch(n){if(n instanceof Ps)_s.warn(n.message);else{const r=wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_s.warn(r.message)}}}function GI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=1024,pF=30;class mF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Lx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>pF){const o=yF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_s.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lx(),{heartbeatsToSend:r,unsentEntries:s}=gF(this._heartbeatsCache.heartbeats),i=Oh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return _s.warn(n),""}}}function Lx(){return new Date().toISOString().substring(0,10)}function gF(t,e=fF){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Vx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Vx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rV()?sV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Mx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Mx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Vx(t){return Oh(JSON.stringify({version:2,heartbeats:t})).length}function yF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t){Xa(new Co("platform-logger",e=>new AV(e),"PRIVATE")),Xa(new Co("heartbeat",e=>new mF(e),"PRIVATE")),_i(Bg,Dx,t),_i(Bg,Dx,"esm2017"),_i("fire-js","")}wF("");var Mr=function(){return Mr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mr.apply(this,arguments)};function wu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function _F(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function KI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xF=KI,QI=new vu("auth","Firebase",KI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Oy("@firebase/auth");function EF(t,...e){Lh.logLevel<=Re.WARN&&Lh.warn(`Auth (${vl}): ${t}`,...e)}function $d(t,...e){Lh.logLevel<=Re.ERROR&&Lh.error(`Auth (${vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t,...e){throw Fy(t,...e)}function yr(t,...e){return Fy(t,...e)}function Vy(t,e,n){const r=Object.assign(Object.assign({},xF()),{[e]:n});return new vu("auth","Firebase",r).create(e,{appName:t.name})}function ds(t){return Vy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&rr(t,"argument-error"),Vy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QI.create(t,...e)}function ue(t,e,...n){if(!t)throw Fy(e,...n)}function ls(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $d(e),new Error(e)}function xs(t,e){t||ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bF(){return Fx()==="http:"||Fx()==="https:"}function Fx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bF()||Z4()||"connection"in navigator)?navigator.onLine:!0}function IF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,xs(n>e,"Short delay should be less than long delay!"),this.isMobile=Y4()||eV()}get(){return SF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t,e){xs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RF=new _u(3e4,6e4);function Rs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ns(t,e,n,r,s={}){return XI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=yu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:l},i);return J4()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&gl(t.emulatorConfig.host)&&(d.credentials="include"),YI.fetch()(await JI(t,t.config.apiHost,n,a),d)})}async function XI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},CF),e);try{const s=new AF(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw gd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw gd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw gd(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Vy(t,h,d);rr(t,h)}}catch(s){if(s instanceof Ps)throw s;rr(t,"network-request-failed",{message:String(s)})}}async function xu(t,e,n,r,s={}){const i=await Ns(t,e,n,r,s);return"mfaPendingCredential"in i&&rr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function JI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Uy(t.config,s):`${t.config.apiScheme}://${s}`;return PF.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function NF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),RF.get())})}}function gd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=yr(t,e,r);return s.customData._tokenResponse=n,s}function Ux(t){return t!==void 0&&t.enterprise!==void 0}class kF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jF(t,e){return Ns(t,"GET","/v2/recaptchaConfig",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF(t,e){return Ns(t,"POST","/v1/accounts:delete",e)}async function Vh(t,e){return Ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OF(t,e=!1){const n=bt(t),r=await n.getIdToken(e),s=$y(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:yc(gm(s.auth_time)),issuedAtTime:yc(gm(s.iat)),expirationTime:yc(gm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function gm(t){return Number(t)*1e3}function $y(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $d("JWT malformed, contained fewer than 3 sections"),null;try{const s=MI(n);return s?JSON.parse(s):($d("Failed to decode base64 JWT payload"),null)}catch(s){return $d("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function $x(t){const e=$y(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ps&&MF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function MF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Qc(t,Vh(n,{idToken:r}));ue(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?ZI(i.providerUserInfo):[],a=FF(t.providerData,o),l=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new qg(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function VF(t){const e=bt(t);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FF(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function ZI(t){return t.map(e=>{var{providerId:n}=e,r=wu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UF(t,e){const n=await XI(t,{},async()=>{const r=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await JI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&gl(t.emulatorConfig.host)&&(l.credentials="include"),YI.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $F(t,e){return Ns(t,"POST","/v2/accounts:revokeToken",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$x(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=$x(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await UF(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Sa;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sa,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=wu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Qc(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OF(this,e)}reload(){return VF(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await Qc(this,DF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,d,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:C,isAnonymous:O,providerData:k,stsTokenManager:I}=n;ue(E&&I,e,"internal-error");const S=Sa.fromJSON(this.name,I);ue(typeof E=="string",e,"internal-error"),zs(f,e.name),zs(g,e.name),ue(typeof C=="boolean",e,"internal-error"),ue(typeof O=="boolean",e,"internal-error"),zs(v,e.name),zs(b,e.name),zs(x,e.name),zs(w,e.name),zs(_,e.name),zs(y,e.name);const P=new mr({uid:E,auth:e,email:g,emailVerified:C,displayName:f,isAnonymous:O,photoURL:b,phoneNumber:v,tenantId:x,stsTokenManager:S,createdAt:_,lastLoginAt:y});return k&&Array.isArray(k)&&(P.providerData=k.map(N=>Object.assign({},N))),w&&(P._redirectEventId=w),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new Sa;s.updateFromServerResponse(n);const i=new mr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Fh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?ZI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Sa;a.updateFromIdToken(r);const l=new mr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new qg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Map;function cs(t){xs(t instanceof Function,"Expected a class definition");let e=Bx.get(t);return e?(xs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eC.type="NONE";const zx=eC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ia{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Bd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Bd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vh(this.auth,{idToken:e}).catch(()=>{});return n?mr._fromGetAccountInfoResponse(this.auth,n,e):null}return mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ia(cs(zx),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||cs(zx);const o=Bd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const g=await Vh(e,{idToken:h}).catch(()=>{});if(!g)break;f=await mr._fromGetAccountInfoResponse(e,g,h)}else f=mr._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ia(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ia(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oC(e))return"Blackberry";if(aC(e))return"Webos";if(nC(e))return"Safari";if((e.includes("chrome/")||rC(e))&&!e.includes("edge/"))return"Chrome";if(iC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tC(t=hn()){return/firefox\//i.test(t)}function nC(t=hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rC(t=hn()){return/crios\//i.test(t)}function sC(t=hn()){return/iemobile/i.test(t)}function iC(t=hn()){return/android/i.test(t)}function oC(t=hn()){return/blackberry/i.test(t)}function aC(t=hn()){return/webos/i.test(t)}function By(t=hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BF(t=hn()){var e;return By(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zF(){return tV()&&document.documentMode===10}function lC(t=hn()){return By(t)||iC(t)||aC(t)||oC(t)||/windows phone/i.test(t)||sC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e=[]){let n;switch(t){case"Browser":n=Wx(hn());break;case"Worker":n=`${Wx(hn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HF(t,e={}){return Ns(t,"GET","/v2/passwordPolicy",Rs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=6;class GF{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:qF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hx(this),this.idTokenSubscription=new Hx(this),this.beforeStateQueue=new WF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cs(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ia.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vh(this,{idToken:e}),r=await mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(ds(this));const n=e?bt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HF(this),n=new GF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $F(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cs(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Ia.create(this,[cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&EF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function As(t){return bt(t)}class Hx{constructor(e){this.auth=e,this.observer=null,this.addObserver=cV(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QF(t){Vf=t}function uC(t){return Vf.loadJS(t)}function YF(){return Vf.recaptchaEnterpriseScript}function XF(){return Vf.gapiScript}function JF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ZF{constructor(){this.enterprise=new e6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class e6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const t6="recaptcha-enterprise",dC="NO_RECAPTCHA";class n6{constructor(e){this.type=t6,this.auth=As(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{jF(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new kF(l);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Ux(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(dC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZF().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Ux(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=YF();l.length!==0&&(l+=a),uC(l).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function qx(t,e,n,r=!1,s=!1){const i=new n6(t);let o;if(s)o=dC;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Uh(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await qx(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await qx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t,e){const n=Ly(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ws(i,e??{}))return s;rr(s,"already-initialized")}return n.initialize({options:e})}function s6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function i6(t,e,n){const r=As(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=hC(e),{host:o,port:a}=o6(e),l=a===null?"":`:${a}`,d={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(ws(d,r.config.emulator)&&ws(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,gl(o)?(UI(`${i}//${o}${l}`),$I("Auth",!0)):a6()}function hC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o6(t){const e=hC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Gx(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Gx(o)}}}function Gx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function a6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,n){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}async function l6(t,e){return Ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(t,e){return xu(t,"POST","/v1/accounts:signInWithPassword",Rs(t,e))}async function u6(t,e){return Ns(t,"POST","/v1/accounts:sendOobCode",Rs(t,e))}async function d6(t,e){return u6(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(t,e){return xu(t,"POST","/v1/accounts:signInWithEmailLink",Rs(t,e))}async function f6(t,e){return xu(t,"POST","/v1/accounts:signInWithEmailLink",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends zy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Yc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uh(e,n,"signInWithPassword",c6);case"emailLink":return h6(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uh(e,r,"signUpPassword",l6);case"emailLink":return f6(e,{idToken:n,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(t,e){return xu(t,"POST","/v1/accounts:signInWithIdp",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6="http://localhost";class Po extends zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=wu(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Po(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ca(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ca(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ca(e,n)}buildRequest(){const e={requestUri:p6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g6(t){const e=ec(tc(t)).link,n=e?ec(tc(e)).deep_link_id:null,r=ec(tc(t)).deep_link_id;return(r?ec(tc(r)).link:null)||r||n||e||t}class Wy{constructor(e){var n,r,s,i,o,a;const l=ec(tc(e)),d=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=m6((s=l.mode)!==null&&s!==void 0?s:null);ue(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=g6(e);try{return new Wy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.providerId=yl.PROVIDER_ID}static credential(e,n){return Yc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Wy.parseLink(n);return ue(r,"argument-error"),Yc._fromEmailAndCode(e,r.code,r.tenantId)}}yl.PROVIDER_ID="password";yl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Hy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Eu{constructor(){super("facebook.com")}static credential(e){return Po._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Po._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return is.credential(n,r)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Eu{constructor(){super("github.com")}static credential(e){return Po._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Eu{constructor(){super("twitter.com")}static credential(e,n){return Po._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(t,e){return xu(t,"POST","/v1/accounts:signUp",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await mr._fromIdTokenResponse(e,r,s),o=Kx(r);return new Ro({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Kx(r);return new Ro({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Kx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends Ps{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new $h(e,n,r,s)}}function fC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(t,i,e,r):i})}async function y6(t,e,n=!1){const r=await Qc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(t,e,n=!1){const{auth:r}=t;if(Vn(r.app))return Promise.reject(ds(r));const s="reauthenticate";try{const i=await Qc(t,fC(r,s,e,t),n);ue(i.idToken,r,"internal-error");const o=$y(i.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),Ro._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&rr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(t,e,n=!1){if(Vn(t.app))return Promise.reject(ds(t));const r="signIn",s=await fC(t,r,e),i=await Ro._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function _6(t,e){return pC(As(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(t){const e=As(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function x6(t,e,n){const r=As(t);await Uh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",d6)}async function E6(t,e,n){if(Vn(t.app))return Promise.reject(ds(t));const r=As(t),o=await Uh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",v6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&mC(t),l}),a=await Ro._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function T6(t,e,n){return Vn(t.app)?Promise.reject(ds(t)):_6(bt(t),yl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t,e){return bt(t).setPersistence(e)}function S6(t,e,n,r){return bt(t).onIdTokenChanged(e,n,r)}function I6(t,e,n){return bt(t).beforeAuthStateChanged(e,n)}function C6(t,e,n,r){return bt(t).onAuthStateChanged(e,n,r)}function P6(t){return bt(t).signOut()}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=1e3,N6=10;class vC extends gC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);zF()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,N6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},R6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vC.type="LOCAL";const yC=vC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC extends gC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wC.type="SESSION";const _C=wC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),l=await A6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=qy("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const g=f;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function j6(t){$r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function D6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function M6(){return xC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="firebaseLocalStorageDb",L6=1,zh="firebaseLocalStorage",TC="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uf(t,e){return t.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function V6(){const t=indexedDB.deleteDatabase(EC);return new Tu(t).toPromise()}function Gg(){const t=indexedDB.open(EC,L6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zh,{keyPath:TC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zh)?e(r):(r.close(),await V6(),e(await Gg()))})})}async function Qx(t,e,n){const r=Uf(t,!0).put({[TC]:e,value:n});return new Tu(r).toPromise()}async function F6(t,e){const n=Uf(t,!1).get(e),r=await new Tu(n).toPromise();return r===void 0?null:r.value}function Yx(t,e){const n=Uf(t,!0).delete(e);return new Tu(n).toPromise()}const U6=800,$6=3;class bC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(M6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await D6(),!this.activeServiceWorker)return;this.sender=new k6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gg();return await Qx(e,Bh,"1"),await Yx(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>F6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Uf(s,!1).getAll();return new Tu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bC.type="LOCAL";const B6=bC;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t,e){return e?cs(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy extends zy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function z6(t){return pC(t.auth,new Gy(t),t.bypassAuthState)}function W6(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),w6(n,new Gy(t),t.bypassAuthState)}async function H6(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),y6(n,new Gy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z6;case"linkViaPopup":case"linkViaRedirect":return H6;case"reauthViaPopup":case"reauthViaRedirect":return W6;default:rr(this.auth,"internal-error")}}resolve(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=new _u(2e3,1e4);async function G6(t,e,n){if(Vn(t.app))return Promise.reject(yr(t,"operation-not-supported-in-this-environment"));const r=As(t);TF(t,e,Hy);const s=SC(r,n);return new ao(r,"signInViaPopup",e,s).executeNotNull()}class ao extends IC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const e=qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q6.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6="pendingRedirect",zd=new Map;class Q6 extends IC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zd.get(this.auth._key());if(!e){try{const r=await Y6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zd.set(this.auth._key(),e)}return this.bypassAuthState||zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y6(t,e){const n=Z6(e),r=J6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function X6(t,e){zd.set(t._key(),e)}function J6(t){return cs(t._redirectPersistence)}function Z6(t){return Bd(K6,t.config.apiKey,t.name)}async function e3(t,e,n=!1){if(Vn(t.app))return Promise.reject(ds(t));const r=As(t),s=SC(r,e),o=await new Q6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=10*60*1e3;class n3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!CC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xx(e))}saveEventToCache(e){this.cachedEventUids.add(Xx(e)),this.lastProcessedEventTime=Date.now()}}function Xx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(t,e={}){return Ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o3=/^https?/;async function a3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s3(t);for(const n of e)try{if(l3(n))return}catch{}rr(t,"unauthorized-domain")}function l3(t){const e=Hg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!o3.test(n))return!1;if(i3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=new _u(3e4,6e4);function Jx(){const t=$r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u3(t){return new Promise((e,n)=>{var r,s,i;function o(){Jx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jx(),n(yr(t,"network-request-failed"))},timeout:c3.get()})}if(!((s=(r=$r().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=$r().gapi)===null||i===void 0)&&i.load)o();else{const a=JF("iframefcb");return $r()[a]=()=>{gapi.load?o():n(yr(t,"network-request-failed"))},uC(`${XF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Wd=null,e})}let Wd=null;function d3(t){return Wd=Wd||u3(t),Wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new _u(5e3,15e3),f3="__/auth/iframe",p3="emulator/auth/iframe",m3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v3(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Uy(e,p3):`https://${t.config.authDomain}/${f3}`,r={apiKey:e.apiKey,appName:t.name,v:vl},s=g3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${yu(r).slice(1)}`}async function y3(t){const e=await d3(t),n=$r().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:v3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=yr(t,"network-request-failed"),a=$r().setTimeout(()=>{i(o)},h3.get());function l(){$r().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_3=500,x3=600,E3="_blank",T3="http://localhost";class Zx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b3(t,e,n,r=_3,s=x3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},w3),{width:r.toString(),height:s.toString(),top:i,left:o}),d=hn().toLowerCase();n&&(a=rC(d)?E3:n),tC(d)&&(e=e||T3,l.scrollbars="yes");const h=Object.entries(l).reduce((g,[v,b])=>`${g}${v}=${b},`,"");if(BF(d)&&a!=="_self")return S3(e||"",a),new Zx(null);const f=window.open(e||"",a,h);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new Zx(f)}function S3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="__/auth/handler",C3="emulator/auth/handler",P3=encodeURIComponent("fac");async function eE(t,e,n,r,s,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vl,eventId:s};if(e instanceof Hy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Eu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${P3}=${encodeURIComponent(l)}`:"";return`${R3(t)}?${yu(a).slice(1)}${d}`}function R3({config:t}){return t.emulator?Uy(t,C3):`https://${t.authDomain}/${I3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="webStorageSupport";class N3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_C,this._completeRedirectFn=e3,this._overrideRedirectResult=X6}async _openPopup(e,n,r,s){var i;xs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await eE(e,n,r,Hg(),s);return b3(e,o,qy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await eE(e,n,r,Hg(),s);return j6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(xs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await y3(e),r=new n3(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vm,{type:vm},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[vm];o!==void 0&&n(!!o),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lC()||nC()||By()}}const A3=N3;var tE="@firebase/auth",nE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D3(t){Xa(new Co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cC(t)},d=new KF(r,s,i,l);return s6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xa(new Co("auth-internal",e=>{const n=As(e.getProvider("auth").getImmediate());return(r=>new k3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(tE,nE,j3(t)),_i(tE,nE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=5*60,M3=FI("authIdTokenMaxAge")||O3;let rE=null;const L3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>M3)return;const s=n==null?void 0:n.token;rE!==s&&(rE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function V3(t=HI()){const e=Ly(t,"auth");if(e.isInitialized())return e.getImmediate();const n=r6(t,{popupRedirectResolver:A3,persistence:[B6,yC,_C]}),r=FI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=L3(i.toString());I6(n,o,()=>o(n.currentUser)),S6(n,a=>o(a))}}const s=LI("auth");return s&&i6(n,`http://${s}`),n}function F3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}QF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=yr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",F3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D3("Browser");var sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xi,PC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function P(){}P.prototype=S.prototype,I.D=S.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(N,j,D){for(var A=Array(arguments.length-2),W=2;W<arguments.length;W++)A[W-2]=arguments[W];return S.prototype[j].apply(N,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,S,P){P||(P=0);var N=Array(16);if(typeof S=="string")for(var j=0;16>j;++j)N[j]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(j=0;16>j;++j)N[j]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=I.g[0],P=I.g[1],j=I.g[2];var D=I.g[3],A=S+(D^P&(j^D))+N[0]+3614090360&4294967295;S=P+(A<<7&4294967295|A>>>25),A=D+(j^S&(P^j))+N[1]+3905402710&4294967295,D=S+(A<<12&4294967295|A>>>20),A=j+(P^D&(S^P))+N[2]+606105819&4294967295,j=D+(A<<17&4294967295|A>>>15),A=P+(S^j&(D^S))+N[3]+3250441966&4294967295,P=j+(A<<22&4294967295|A>>>10),A=S+(D^P&(j^D))+N[4]+4118548399&4294967295,S=P+(A<<7&4294967295|A>>>25),A=D+(j^S&(P^j))+N[5]+1200080426&4294967295,D=S+(A<<12&4294967295|A>>>20),A=j+(P^D&(S^P))+N[6]+2821735955&4294967295,j=D+(A<<17&4294967295|A>>>15),A=P+(S^j&(D^S))+N[7]+4249261313&4294967295,P=j+(A<<22&4294967295|A>>>10),A=S+(D^P&(j^D))+N[8]+1770035416&4294967295,S=P+(A<<7&4294967295|A>>>25),A=D+(j^S&(P^j))+N[9]+2336552879&4294967295,D=S+(A<<12&4294967295|A>>>20),A=j+(P^D&(S^P))+N[10]+4294925233&4294967295,j=D+(A<<17&4294967295|A>>>15),A=P+(S^j&(D^S))+N[11]+2304563134&4294967295,P=j+(A<<22&4294967295|A>>>10),A=S+(D^P&(j^D))+N[12]+1804603682&4294967295,S=P+(A<<7&4294967295|A>>>25),A=D+(j^S&(P^j))+N[13]+4254626195&4294967295,D=S+(A<<12&4294967295|A>>>20),A=j+(P^D&(S^P))+N[14]+2792965006&4294967295,j=D+(A<<17&4294967295|A>>>15),A=P+(S^j&(D^S))+N[15]+1236535329&4294967295,P=j+(A<<22&4294967295|A>>>10),A=S+(j^D&(P^j))+N[1]+4129170786&4294967295,S=P+(A<<5&4294967295|A>>>27),A=D+(P^j&(S^P))+N[6]+3225465664&4294967295,D=S+(A<<9&4294967295|A>>>23),A=j+(S^P&(D^S))+N[11]+643717713&4294967295,j=D+(A<<14&4294967295|A>>>18),A=P+(D^S&(j^D))+N[0]+3921069994&4294967295,P=j+(A<<20&4294967295|A>>>12),A=S+(j^D&(P^j))+N[5]+3593408605&4294967295,S=P+(A<<5&4294967295|A>>>27),A=D+(P^j&(S^P))+N[10]+38016083&4294967295,D=S+(A<<9&4294967295|A>>>23),A=j+(S^P&(D^S))+N[15]+3634488961&4294967295,j=D+(A<<14&4294967295|A>>>18),A=P+(D^S&(j^D))+N[4]+3889429448&4294967295,P=j+(A<<20&4294967295|A>>>12),A=S+(j^D&(P^j))+N[9]+568446438&4294967295,S=P+(A<<5&4294967295|A>>>27),A=D+(P^j&(S^P))+N[14]+3275163606&4294967295,D=S+(A<<9&4294967295|A>>>23),A=j+(S^P&(D^S))+N[3]+4107603335&4294967295,j=D+(A<<14&4294967295|A>>>18),A=P+(D^S&(j^D))+N[8]+1163531501&4294967295,P=j+(A<<20&4294967295|A>>>12),A=S+(j^D&(P^j))+N[13]+2850285829&4294967295,S=P+(A<<5&4294967295|A>>>27),A=D+(P^j&(S^P))+N[2]+4243563512&4294967295,D=S+(A<<9&4294967295|A>>>23),A=j+(S^P&(D^S))+N[7]+1735328473&4294967295,j=D+(A<<14&4294967295|A>>>18),A=P+(D^S&(j^D))+N[12]+2368359562&4294967295,P=j+(A<<20&4294967295|A>>>12),A=S+(P^j^D)+N[5]+4294588738&4294967295,S=P+(A<<4&4294967295|A>>>28),A=D+(S^P^j)+N[8]+2272392833&4294967295,D=S+(A<<11&4294967295|A>>>21),A=j+(D^S^P)+N[11]+1839030562&4294967295,j=D+(A<<16&4294967295|A>>>16),A=P+(j^D^S)+N[14]+4259657740&4294967295,P=j+(A<<23&4294967295|A>>>9),A=S+(P^j^D)+N[1]+2763975236&4294967295,S=P+(A<<4&4294967295|A>>>28),A=D+(S^P^j)+N[4]+1272893353&4294967295,D=S+(A<<11&4294967295|A>>>21),A=j+(D^S^P)+N[7]+4139469664&4294967295,j=D+(A<<16&4294967295|A>>>16),A=P+(j^D^S)+N[10]+3200236656&4294967295,P=j+(A<<23&4294967295|A>>>9),A=S+(P^j^D)+N[13]+681279174&4294967295,S=P+(A<<4&4294967295|A>>>28),A=D+(S^P^j)+N[0]+3936430074&4294967295,D=S+(A<<11&4294967295|A>>>21),A=j+(D^S^P)+N[3]+3572445317&4294967295,j=D+(A<<16&4294967295|A>>>16),A=P+(j^D^S)+N[6]+76029189&4294967295,P=j+(A<<23&4294967295|A>>>9),A=S+(P^j^D)+N[9]+3654602809&4294967295,S=P+(A<<4&4294967295|A>>>28),A=D+(S^P^j)+N[12]+3873151461&4294967295,D=S+(A<<11&4294967295|A>>>21),A=j+(D^S^P)+N[15]+530742520&4294967295,j=D+(A<<16&4294967295|A>>>16),A=P+(j^D^S)+N[2]+3299628645&4294967295,P=j+(A<<23&4294967295|A>>>9),A=S+(j^(P|~D))+N[0]+4096336452&4294967295,S=P+(A<<6&4294967295|A>>>26),A=D+(P^(S|~j))+N[7]+1126891415&4294967295,D=S+(A<<10&4294967295|A>>>22),A=j+(S^(D|~P))+N[14]+2878612391&4294967295,j=D+(A<<15&4294967295|A>>>17),A=P+(D^(j|~S))+N[5]+4237533241&4294967295,P=j+(A<<21&4294967295|A>>>11),A=S+(j^(P|~D))+N[12]+1700485571&4294967295,S=P+(A<<6&4294967295|A>>>26),A=D+(P^(S|~j))+N[3]+2399980690&4294967295,D=S+(A<<10&4294967295|A>>>22),A=j+(S^(D|~P))+N[10]+4293915773&4294967295,j=D+(A<<15&4294967295|A>>>17),A=P+(D^(j|~S))+N[1]+2240044497&4294967295,P=j+(A<<21&4294967295|A>>>11),A=S+(j^(P|~D))+N[8]+1873313359&4294967295,S=P+(A<<6&4294967295|A>>>26),A=D+(P^(S|~j))+N[15]+4264355552&4294967295,D=S+(A<<10&4294967295|A>>>22),A=j+(S^(D|~P))+N[6]+2734768916&4294967295,j=D+(A<<15&4294967295|A>>>17),A=P+(D^(j|~S))+N[13]+1309151649&4294967295,P=j+(A<<21&4294967295|A>>>11),A=S+(j^(P|~D))+N[4]+4149444226&4294967295,S=P+(A<<6&4294967295|A>>>26),A=D+(P^(S|~j))+N[11]+3174756917&4294967295,D=S+(A<<10&4294967295|A>>>22),A=j+(S^(D|~P))+N[2]+718787259&4294967295,j=D+(A<<15&4294967295|A>>>17),A=P+(D^(j|~S))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(j+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var P=S-this.blockSize,N=this.B,j=this.h,D=0;D<S;){if(j==0)for(;D<=P;)s(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<S;)if(N[j++]=I.charCodeAt(D++),j==this.blockSize){s(this,N),j=0;break}}else for(;D<S;)if(N[j++]=I[D++],j==this.blockSize){s(this,N),j=0;break}}this.h=j,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var P=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=P&255,P/=256;for(this.u(I),I=Array(16),S=P=0;4>S;++S)for(var N=0;32>N;N+=8)I[P++]=this.g[S]>>>N&255;return I};function i(I,S){var P=a;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=S(I)}function o(I,S){this.h=S;for(var P=[],N=!0,j=I.length-1;0<=j;j--){var D=I[j]|0;N&&D==S||(P[j]=D,N=!1)}this.g=P}var a={};function l(I){return-128<=I&&128>I?i(I,function(S){return new o([S|0],0>S?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return w(d(-I));for(var S=[],P=1,N=0;I>=P;N++)S[N]=I/P|0,P*=4294967296;return new o(S,0)}function h(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return w(h(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(S,8)),N=f,j=0;j<I.length;j+=8){var D=Math.min(8,I.length-j),A=parseInt(I.substring(j,j+D),S);8>D?(D=d(Math.pow(S,D)),N=N.j(D).add(d(A))):(N=N.j(P),N=N.add(d(A)))}return N}var f=l(0),g=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-w(this).m();for(var I=0,S=1,P=0;P<this.g.length;P++){var N=this.i(P);I+=(0<=N?N:4294967296+N)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(x(this))return"-"+w(this).toString(I);for(var S=d(Math.pow(I,6)),P=this,N="";;){var j=C(P,S).g;P=_(P,j.j(S));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=j,b(P))return D+N;for(;6>D.length;)D="0"+D;N=D+N}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function x(I){return I.h==-1}t.l=function(I){return I=_(this,I),x(I)?-1:b(I)?0:1};function w(I){for(var S=I.g.length,P=[],N=0;N<S;N++)P[N]=~I.g[N];return new o(P,~I.h).add(g)}t.abs=function(){return x(this)?w(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],N=0,j=0;j<=S;j++){var D=N+(this.i(j)&65535)+(I.i(j)&65535),A=(D>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);N=A>>>16,D&=65535,A&=65535,P[j]=A<<16|D}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(I,S){return I.add(w(S))}t.j=function(I){if(b(this)||b(I))return f;if(x(this))return x(I)?w(this).j(w(I)):w(w(this).j(I));if(x(I))return w(this.j(w(I)));if(0>this.l(v)&&0>I.l(v))return d(this.m()*I.m());for(var S=this.g.length+I.g.length,P=[],N=0;N<2*S;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(var j=0;j<I.g.length;j++){var D=this.i(N)>>>16,A=this.i(N)&65535,W=I.i(j)>>>16,ie=I.i(j)&65535;P[2*N+2*j]+=A*ie,y(P,2*N+2*j),P[2*N+2*j+1]+=D*ie,y(P,2*N+2*j+1),P[2*N+2*j+1]+=A*W,y(P,2*N+2*j+1),P[2*N+2*j+2]+=D*W,y(P,2*N+2*j+2)}for(N=0;N<S;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=S;N<2*S;N++)P[N]=0;return new o(P,0)};function y(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function E(I,S){this.g=I,this.h=S}function C(I,S){if(b(S))throw Error("division by zero");if(b(I))return new E(f,f);if(x(I))return S=C(w(I),S),new E(w(S.g),w(S.h));if(x(S))return S=C(I,w(S)),new E(w(S.g),S.h);if(30<I.g.length){if(x(I)||x(S))throw Error("slowDivide_ only works with positive integers.");for(var P=g,N=S;0>=N.l(I);)P=O(P),N=O(N);var j=k(P,1),D=k(N,1);for(N=k(N,2),P=k(P,2);!b(N);){var A=D.add(N);0>=A.l(I)&&(j=j.add(P),D=A),N=k(N,1),P=k(P,1)}return S=_(I,j.j(S)),new E(j,S)}for(j=f;0<=I.l(S);){for(P=Math.max(1,Math.floor(I.m()/S.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),D=d(P),A=D.j(S);x(A)||0<A.l(I);)P-=N,D=d(P),A=D.j(S);b(D)&&(D=g),j=j.add(D),I=_(I,A)}return new E(j,I)}t.A=function(I){return C(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],N=0;N<S;N++)P[N]=this.i(N)&I.i(N);return new o(P,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],N=0;N<S;N++)P[N]=this.i(N)|I.i(N);return new o(P,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),P=[],N=0;N<S;N++)P[N]=this.i(N)^I.i(N);return new o(P,this.h^I.h)};function O(I){for(var S=I.g.length+1,P=[],N=0;N<S;N++)P[N]=I.i(N)<<1|I.i(N-1)>>>31;return new o(P,I.h)}function k(I,S){var P=S>>5;S%=32;for(var N=I.g.length-P,j=[],D=0;D<N;D++)j[D]=0<S?I.i(D+P)>>>S|I.i(D+P+1)<<32-S:I.i(D+P);return new o(j,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,PC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,xi=o}).apply(typeof sE<"u"?sE:typeof self<"u"?self:typeof window<"u"?window:{});var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RC,nc,NC,Hd,Kg,AC,kC,jC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,T){return u==Array.prototype||u==Object.prototype||(u[m]=T.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vd=="object"&&vd];for(var m=0;m<u.length;++m){var T=u[m];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var T=r;u=u.split(".");for(var R=0;R<u.length-1;R++){var L=u[R];if(!(L in T))break e;T=T[L]}u=u[u.length-1],R=T[u],m=m(R),m!=R&&m!=null&&e(T,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var T=0,R=!1,L={next:function(){if(!R&&T<u.length){var F=T++;return{value:m(F,u[F]),done:!1}}return R=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function d(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,T){return u.call.apply(u.bind,arguments)}function f(u,m,T){if(!u)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,R),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function g(u,m,T){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,g.apply(null,arguments)}function v(u,m){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function b(u,m){function T(){}T.prototype=m.prototype,u.aa=m.prototype,u.prototype=new T,u.prototype.constructor=u,u.Qb=function(R,L,F){for(var Y=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)Y[Qe-2]=arguments[Qe];return m.prototype[L].apply(R,Y)}}function x(u){const m=u.length;if(0<m){const T=Array(m);for(let R=0;R<m;R++)T[R]=u[R];return T}return[]}function w(u,m){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(l(R)){const L=u.length||0,F=R.length||0;u.length=L+F;for(let Y=0;Y<F;Y++)u[L+Y]=R[Y]}else u.push(R)}}class _{constructor(m,T){this.i=m,this.j=T,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function y(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function C(u){return C[" "](u),u}C[" "]=function(){};var O=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function k(u,m,T){for(const R in u)m.call(T,u[R],R,u)}function I(u,m){for(const T in u)m.call(void 0,u[T],T,u)}function S(u){const m={};for(const T in u)m[T]=u[T];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let T,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(T in R)u[T]=R[T];for(let F=0;F<P.length;F++)T=P[F],Object.prototype.hasOwnProperty.call(R,T)&&(u[T]=R[T])}}function j(u){var m=1;u=u.split(":");const T=[];for(;0<m&&u.length;)T.push(u.shift()),m--;return u.length&&T.push(u.join(":")),T}function D(u){a.setTimeout(()=>{throw u},0)}function A(){var u=U;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class W{constructor(){this.h=this.g=null}add(m,T){const R=ie.get();R.set(m,T),this.h?this.h.next=R:this.g=R,this.h=R}}var ie=new _(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,T){this.h=m,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let X,V=!1,U=new W,Q=()=>{const u=a.Promise.resolve(void 0);X=()=>{u.then(oe)}};var oe=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(T){D(T)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}V=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};a.addEventListener("test",T,m),a.removeEventListener("test",T,m)}catch{}return u}();function Te(u,m){if(ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var T=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(O){e:{try{C(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else T=="mouseover"?m=u.fromElement:T=="mouseout"&&(m=u.toElement);this.relatedTarget=m,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:We[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Te.aa.h.call(this)}}b(Te,ee);var We={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function qe(u,m,T,R,L){this.listener=u,this.proxy=null,this.src=m,this.type=T,this.capture=!!R,this.ha=L,this.key=++Pe,this.da=this.fa=!1}function xe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pe(u){this.src=u,this.g={},this.h=0}pe.prototype.add=function(u,m,T,R,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var Y=lt(u,m,R,L);return-1<Y?(m=u[Y],T||(m.fa=!1)):(m=new qe(m,this.src,F,!!R,L),m.fa=T,u.push(m)),m};function _e(u,m){var T=m.type;if(T in u.g){var R=u.g[T],L=Array.prototype.indexOf.call(R,m,void 0),F;(F=0<=L)&&Array.prototype.splice.call(R,L,1),F&&(xe(m),u.g[T].length==0&&(delete u.g[T],u.h--))}}function lt(u,m,T,R){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==m&&F.capture==!!T&&F.ha==R)return L}return-1}var se="closure_lm_"+(1e6*Math.random()|0),M={};function ce(u,m,T,R,L){if(Array.isArray(m)){for(var F=0;F<m.length;F++)ce(u,m[F],T,R,L);return null}return T=jn(T),u&&u[K]?u.K(m,T,d(R)?!!R.capture:!!R,L):me(u,m,T,!1,R,L)}function me(u,m,T,R,L,F){if(!m)throw Error("Invalid event type");var Y=d(L)?!!L.capture:!!L,Qe=jt(u);if(Qe||(u[se]=Qe=new pe(u)),T=Qe.add(m,T,R,Y,F),T.proxy)return T;if(R=ct(),T.proxy=R,R.src=u,R.listener=T,u.addEventListener)le||(L=Y),L===void 0&&(L=!1),u.addEventListener(m.toString(),R,L);else if(u.attachEvent)u.attachEvent(kn(m.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ct(){function u(T){return m.call(u.src,u.listener,T)}const m=Zt;return u}function Oe(u,m,T,R,L){if(Array.isArray(m))for(var F=0;F<m.length;F++)Oe(u,m[F],T,R,L);else R=d(R)?!!R.capture:!!R,T=jn(T),u&&u[K]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],T=lt(F,T,R,L),-1<T&&(xe(F[T]),Array.prototype.splice.call(F,T,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=jt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=lt(m,T,R,L)),(T=-1<u?m[u]:null)&&St(T))}function St(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[K])_e(m.i,u);else{var T=u.type,R=u.proxy;m.removeEventListener?m.removeEventListener(T,R,u.capture):m.detachEvent?m.detachEvent(kn(T),R):m.addListener&&m.removeListener&&m.removeListener(R),(T=jt(m))?(_e(T,u),T.h==0&&(T.src=null,m[se]=null)):xe(u)}}}function kn(u){return u in M?M[u]:M[u]="on"+u}function Zt(u,m){if(u.da)u=!0;else{m=new Te(m,this);var T=u.listener,R=u.ha||u.src;u.fa&&St(u),u=T.call(R,m)}return u}function jt(u){return u=u[se],u instanceof pe?u:null}var fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function jn(u){return typeof u=="function"?u:(u[fn]||(u[fn]=function(m){return u.handleEvent(m)}),u[fn])}function Se(){Z.call(this),this.i=new pe(this),this.M=this,this.F=null}b(Se,Z),Se.prototype[K]=!0,Se.prototype.removeEventListener=function(u,m,T,R){Oe(this,u,m,T,R)};function Be(u,m){var T,R=u.F;if(R)for(T=[];R;R=R.F)T.push(R);if(u=u.M,R=m.type||m,typeof m=="string")m=new ee(m,u);else if(m instanceof ee)m.target=m.target||u;else{var L=m;m=new ee(R,u),N(m,L)}if(L=!0,T)for(var F=T.length-1;0<=F;F--){var Y=m.g=T[F];L=Qr(Y,R,!0,m)&&L}if(Y=m.g=u,L=Qr(Y,R,!0,m)&&L,L=Qr(Y,R,!1,m)&&L,T)for(F=0;F<T.length;F++)Y=m.g=T[F],L=Qr(Y,R,!1,m)&&L}Se.prototype.N=function(){if(Se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var T=u.g[m],R=0;R<T.length;R++)xe(T[R]);delete u.g[m],u.h--}}this.F=null},Se.prototype.K=function(u,m,T,R){return this.i.add(String(u),m,!1,T,R)},Se.prototype.L=function(u,m,T,R){return this.i.add(String(u),m,!0,T,R)};function Qr(u,m,T,R){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,F=0;F<m.length;++F){var Y=m[F];if(Y&&!Y.da&&Y.capture==T){var Qe=Y.listener,Wt=Y.ha||Y.src;Y.fa&&_e(u.i,Y),L=Qe.call(Wt,R)!==!1&&L}}return L&&!R.defaultPrevented}function Ki(u,m,T){if(typeof u=="function")T&&(u=g(u,T));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Yr(u){u.g=Ki(()=>{u.g=null,u.i&&(u.i=!1,Yr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Cl extends Z{constructor(m,T){super(),this.m=m,this.l=T,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(u){Z.call(this),this.h=u,this.g={}}b(Cr,Z);var xn=[];function Dn(u){k(u.g,function(m,T){this.g.hasOwnProperty(T)&&St(m)},u),u.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),Dn(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Os=a.JSON.stringify,Ms=a.JSON.parse,vp=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Pl(){}Pl.prototype.h=null;function Rl(u){return u.h||(u.h=u.i())}function Nl(){}var Qi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yi(){ee.call(this,"d")}b(Yi,ee);function Gn(){ee.call(this,"c")}b(Gn,ee);var Xr={},he=null;function Me(){return he=he||new Se}Xr.La="serverreachability";function Ke(u){ee.call(this,Xr.La,u)}b(Ke,ee);function Bt(u){const m=Me();Be(m,new Ke(m))}Xr.STAT_EVENT="statevent";function En(u,m){ee.call(this,Xr.STAT_EVENT,u),this.stat=m}b(En,ee);function ut(u){const m=Me();Be(m,new En(m,u))}Xr.Ma="timingevent";function Pr(u,m){ee.call(this,Xr.Ma,u),this.size=m}b(Pr,ee);function zt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function ZN(u,m,T,R,L,F){u.info(function(){if(u.g)if(F)for(var Y="",Qe=F.split("&"),Wt=0;Wt<Qe.length;Wt++){var Fe=Qe[Wt].split("=");if(1<Fe.length){var en=Fe[0];Fe=Fe[1];var tn=en.split("_");Y=2<=tn.length&&tn[1]=="type"?Y+(en+"="+Fe+"&"):Y+(en+"=redacted&")}}else Y=null;else Y=F;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+m+`
`+T+`
`+Y})}function eA(u,m,T,R,L,F,Y){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+m+`
`+T+`
`+F+" "+Y})}function qo(u,m,T,R){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+nA(u,T)+(R?" "+R:"")})}function tA(u,m){u.info(function(){return"TIMEOUT: "+m})}Tn.prototype.info=function(){};function nA(u,m){if(!u.g)return m;if(!m)return null;try{var T=JSON.parse(m);if(T){for(u=0;u<T.length;u++)if(Array.isArray(T[u])){var R=T[u];if(!(2>R.length)){var L=R[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Y=1;Y<L.length;Y++)L[Y]=""}}}}return Os(T)}catch{return m}}var ju={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yp;function Du(){}b(Du,Pl),Du.prototype.g=function(){return new XMLHttpRequest},Du.prototype.i=function(){return{}},yp=new Du;function Ls(u,m,T,R){this.j=u,this.i=m,this.l=T,this.R=R||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zw}function Zw(){this.i=null,this.g="",this.h=!1}var e0={},wp={};function _p(u,m,T){u.L=1,u.v=Vu(Jr(m)),u.m=T,u.P=!0,t0(u,null)}function t0(u,m){u.F=Date.now(),Ou(u),u.A=Jr(u.v);var T=u.A,R=u.R;Array.isArray(R)||(R=[String(R)]),m0(T.i,"t",R),u.C=0,T=u.j.J,u.h=new Zw,u.g=j0(u.j,T?m:null,!u.m),0<u.O&&(u.M=new Cl(g(u.Y,u,u.g),u.O)),m=u.U,T=u.g,R=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(xn[0]=L.toString()),L=xn);for(var F=0;F<L.length;F++){var Y=ce(T,L[F],R||m.handleEvent,!1,m.h||m);if(!Y)break;m.g[Y.key]=Y}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Bt(),ZN(u.i,u.u,u.A,u.l,u.R,u.m)}Ls.prototype.ca=function(u){u=u.target;const m=this.M;m&&Zr(u)==3?m.j():this.Y(u)},Ls.prototype.Y=function(u){try{if(u==this.g)e:{const tn=Zr(this.g);var m=this.g.Ba();const Qo=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||E0(this.g)))){this.J||tn!=4||m==7||(m==8||0>=Qo?Bt(3):Bt(2)),xp(this);var T=this.g.Z();this.X=T;t:if(n0(this)){var R=E0(this.g);u="";var L=R.length,F=Zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xi(this),Al(this);var Y="";break t}this.h.i=new a.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(R[m],{stream:!(F&&m==L-1)});R.length=0,this.h.g+=u,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=T==200,eA(this.i,this.u,this.A,this.l,this.R,tn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Wt=this.g;if((Qe=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Qe)){var Fe=Qe;break t}}Fe=null}if(T=Fe)qo(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ep(this,T);else{this.o=!1,this.s=3,ut(12),Xi(this),Al(this);break e}}if(this.P){T=!0;let ir;for(;!this.J&&this.C<Y.length;)if(ir=rA(this,Y),ir==wp){tn==4&&(this.s=4,ut(14),T=!1),qo(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==e0){this.s=4,ut(15),qo(this.i,this.l,Y,"[Invalid Chunk]"),T=!1;break}else qo(this.i,this.l,ir,null),Ep(this,ir);if(n0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||Y.length!=0||this.h.h||(this.s=1,ut(16),T=!1),this.o=this.o&&T,!T)qo(this.i,this.l,Y,"[Invalid Chunked Response]"),Xi(this),Al(this);else if(0<Y.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Pp(en),en.M=!0,ut(11))}}else qo(this.i,this.l,Y,null),Ep(this,Y);tn==4&&Xi(this),this.o&&!this.J&&(tn==4?R0(this.j,this):(this.o=!1,Ou(this)))}else _A(this.g),T==400&&0<Y.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Xi(this),Al(this)}}}catch{}finally{}};function n0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function rA(u,m){var T=u.C,R=m.indexOf(`
`,T);return R==-1?wp:(T=Number(m.substring(T,R)),isNaN(T)?e0:(R+=1,R+T>m.length?wp:(m=m.slice(R,R+T),u.C=R+T,m)))}Ls.prototype.cancel=function(){this.J=!0,Xi(this)};function Ou(u){u.S=Date.now()+u.I,r0(u,u.I)}function r0(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=zt(g(u.ba,u),m)}function xp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ls.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(tA(this.i,this.A),this.L!=2&&(Bt(),ut(17)),Xi(this),this.s=2,Al(this)):r0(this,this.S-u)};function Al(u){u.j.G==0||u.J||R0(u.j,u)}function Xi(u){xp(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Dn(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ep(u,m){try{var T=u.j;if(T.G!=0&&(T.g==u||Tp(T.h,u))){if(!u.K&&Tp(T.h,u)&&T.G==3){try{var R=T.Da.g.parse(m)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<u.F)Wu(T),Bu(T);else break e;Cp(T),ut(18)}}else T.za=L[1],0<T.za-T.T&&37500>L[2]&&T.F&&T.v==0&&!T.C&&(T.C=zt(g(T.Za,T),6e3));if(1>=o0(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Zi(T,11)}else if((u.K||T.g==u)&&Wu(T),!y(m))for(L=T.Da.g.parse(m),m=0;m<L.length;m++){let Fe=L[m];if(T.T=Fe[0],Fe=Fe[1],T.G==2)if(Fe[0]=="c"){T.K=Fe[1],T.ia=Fe[2];const en=Fe[3];en!=null&&(T.la=en,T.j.info("VER="+T.la));const tn=Fe[4];tn!=null&&(T.Aa=tn,T.j.info("SVER="+T.Aa));const Qo=Fe[5];Qo!=null&&typeof Qo=="number"&&0<Qo&&(R=1.5*Qo,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const ir=u.g;if(ir){const qu=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qu){var F=R.h;F.g||qu.indexOf("spdy")==-1&&qu.indexOf("quic")==-1&&qu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(bp(F,F.h),F.h=null))}if(R.D){const Rp=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Rp&&(R.ya=Rp,et(R.I,R.D,Rp))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-u.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var Y=u;if(R.qa=k0(R,R.J?R.ia:null,R.W),Y.K){a0(R.h,Y);var Qe=Y,Wt=R.L;Wt&&(Qe.I=Wt),Qe.B&&(xp(Qe),Ou(Qe)),R.g=Y}else C0(R);0<T.i.length&&zu(T)}else Fe[0]!="stop"&&Fe[0]!="close"||Zi(T,7);else T.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Zi(T,7):Ip(T):Fe[0]!="noop"&&T.l&&T.l.ta(Fe),T.v=0)}}Bt(4)}catch{}}var sA=class{constructor(u,m){this.g=u,this.map=m}};function s0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function i0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function o0(u){return u.h?1:u.g?u.g.size:0}function Tp(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function bp(u,m){u.g?u.g.add(m):u.h=m}function a0(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}s0.prototype.cancel=function(){if(this.i=l0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function l0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const T of u.g.values())m=m.concat(T.D);return m}return x(u.i)}function iA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],T=u.length,R=0;R<T;R++)m.push(u[R]);return m}m=[],T=0;for(R in u)m[T++]=u[R];return m}function oA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var T=0;T<u;T++)m.push(T);return m}m=[],T=0;for(const R in u)m[T++]=R;return m}}}function c0(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var T=oA(u),R=iA(u),L=R.length,F=0;F<L;F++)m.call(void 0,R[F],T&&T[F],u)}var u0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aA(u,m){if(u){u=u.split("&");for(var T=0;T<u.length;T++){var R=u[T].indexOf("="),L=null;if(0<=R){var F=u[T].substring(0,R);L=u[T].substring(R+1)}else F=u[T];m(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ji(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ji){this.h=u.h,Mu(this,u.j),this.o=u.o,this.g=u.g,Lu(this,u.s),this.l=u.l;var m=u.i,T=new Dl;T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),d0(this,T),this.m=u.m}else u&&(m=String(u).match(u0))?(this.h=!1,Mu(this,m[1]||"",!0),this.o=kl(m[2]||""),this.g=kl(m[3]||"",!0),Lu(this,m[4]),this.l=kl(m[5]||"",!0),d0(this,m[6]||"",!0),this.m=kl(m[7]||"")):(this.h=!1,this.i=new Dl(null,this.h))}Ji.prototype.toString=function(){var u=[],m=this.j;m&&u.push(jl(m,h0,!0),":");var T=this.g;return(T||m=="file")&&(u.push("//"),(m=this.o)&&u.push(jl(m,h0,!0),"@"),u.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&u.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(jl(T,T.charAt(0)=="/"?uA:cA,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",jl(T,hA)),u.join("")};function Jr(u){return new Ji(u)}function Mu(u,m,T){u.j=T?kl(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Lu(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function d0(u,m,T){m instanceof Dl?(u.i=m,fA(u.i,u.h)):(T||(m=jl(m,dA)),u.i=new Dl(m,u.h))}function et(u,m,T){u.i.set(m,T)}function Vu(u){return et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function kl(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function jl(u,m,T){return typeof u=="string"?(u=encodeURI(u).replace(m,lA),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function lA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var h0=/[#\/\?@]/g,cA=/[#\?:]/g,uA=/[#\?]/g,dA=/[#\?@]/g,hA=/#/g;function Dl(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Vs(u){u.g||(u.g=new Map,u.h=0,u.i&&aA(u.i,function(m,T){u.add(decodeURIComponent(m.replace(/\+/g," ")),T)}))}t=Dl.prototype,t.add=function(u,m){Vs(this),this.i=null,u=Go(this,u);var T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(m),this.h+=1,this};function f0(u,m){Vs(u),m=Go(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function p0(u,m){return Vs(u),m=Go(u,m),u.g.has(m)}t.forEach=function(u,m){Vs(this),this.g.forEach(function(T,R){T.forEach(function(L){u.call(m,L,R,this)},this)},this)},t.na=function(){Vs(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),T=[];for(let R=0;R<m.length;R++){const L=u[R];for(let F=0;F<L.length;F++)T.push(m[R])}return T},t.V=function(u){Vs(this);let m=[];if(typeof u=="string")p0(this,u)&&(m=m.concat(this.g.get(Go(this,u))));else{u=Array.from(this.g.values());for(let T=0;T<u.length;T++)m=m.concat(u[T])}return m},t.set=function(u,m){return Vs(this),this.i=null,u=Go(this,u),p0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function m0(u,m,T){f0(u,m),0<T.length&&(u.i=null,u.g.set(Go(u,m),x(T)),u.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var T=0;T<m.length;T++){var R=m[T];const F=encodeURIComponent(String(R)),Y=this.V(R);for(R=0;R<Y.length;R++){var L=F;Y[R]!==""&&(L+="="+encodeURIComponent(String(Y[R]))),u.push(L)}}return this.i=u.join("&")};function Go(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function fA(u,m){m&&!u.j&&(Vs(u),u.i=null,u.g.forEach(function(T,R){var L=R.toLowerCase();R!=L&&(f0(this,R),m0(this,L,T))},u)),u.j=m}function pA(u,m){const T=new Tn;if(a.Image){const R=new Image;R.onload=v(Fs,T,"TestLoadImage: loaded",!0,m,R),R.onerror=v(Fs,T,"TestLoadImage: error",!1,m,R),R.onabort=v(Fs,T,"TestLoadImage: abort",!1,m,R),R.ontimeout=v(Fs,T,"TestLoadImage: timeout",!1,m,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else m(!1)}function mA(u,m){const T=new Tn,R=new AbortController,L=setTimeout(()=>{R.abort(),Fs(T,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:R.signal}).then(F=>{clearTimeout(L),F.ok?Fs(T,"TestPingServer: ok",!0,m):Fs(T,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Fs(T,"TestPingServer: error",!1,m)})}function Fs(u,m,T,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(T)}catch{}}function gA(){this.g=new vp}function vA(u,m,T){const R=T||"";try{c0(u,function(L,F){let Y=L;d(L)&&(Y=Os(L)),m.push(R+F+"="+encodeURIComponent(Y))})}catch(L){throw m.push(R+"type="+encodeURIComponent("_badmap")),L}}function Fu(u){this.l=u.Ub||null,this.j=u.eb||!1}b(Fu,Pl),Fu.prototype.g=function(){return new Uu(this.l,this.j)},Fu.prototype.i=function(u){return function(){return u}}({});function Uu(u,m){Se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Uu,Se),t=Uu.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Ml(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ol(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ml(this)),this.g&&(this.readyState=3,Ml(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;g0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function g0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ol(this):Ml(this),this.readyState==3&&g0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ol(this))},t.Qa=function(u){this.g&&(this.response=u,Ol(this))},t.ga=function(){this.g&&Ol(this)};function Ol(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ml(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var T=m.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=m.next();return u.join(`\r
`)};function Ml(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Uu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function v0(u){let m="";return k(u,function(T,R){m+=R,m+=":",m+=T,m+=`\r
`}),m}function Sp(u,m,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=v0(T),typeof u=="string"?T!=null&&encodeURIComponent(String(T)):et(u,m,T))}function vt(u){Se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(vt,Se);var yA=/^https?$/i,wA=["POST","PUT"];t=vt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yp.g(),this.v=this.o?Rl(this.o):Rl(yp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){y0(this,F);return}if(u=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)T.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const F of R.keys())T.set(F,R.get(F));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(wA,m,void 0))||R||L||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Y]of T)this.g.setRequestHeader(F,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{x0(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){y0(this,F)}};function y0(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,w0(u),$u(u)}function w0(u){u.A||(u.A=!0,Be(u,"complete"),Be(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Be(this,"complete"),Be(this,"abort"),$u(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$u(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_0(this):this.bb())},t.bb=function(){_0(this)};function _0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Zr(u)!=4||u.Z()!=2)){if(u.u&&Zr(u)==4)Ki(u.Ea,0,u);else if(Be(u,"readystatechange"),Zr(u)==4){u.h=!1;try{const Y=u.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var T;if(!(T=m)){var R;if(R=Y===0){var L=String(u.D).match(u0)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),R=!yA.test(L?L.toLowerCase():"")}T=R}if(T)Be(u,"complete"),Be(u,"success");else{u.m=6;try{var F=2<Zr(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",w0(u)}}finally{$u(u)}}}}function $u(u,m){if(u.g){x0(u);const T=u.g,R=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Be(u,"ready");try{T.onreadystatechange=R}catch{}}}function x0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Zr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ms(m)}};function E0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _A(u){const m={};u=(u.g&&2<=Zr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(y(u[R]))continue;var T=j(u[R]);const L=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const F=m[L]||[];m[L]=F,F.push(T)}I(m,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ll(u,m,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||m}function T0(u){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ll("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ll("baseRetryDelayMs",5e3,u),this.cb=Ll("retryDelaySeedMs",1e4,u),this.Wa=Ll("forwardChannelMaxRetries",2,u),this.wa=Ll("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new s0(u&&u.concurrentRequestLimit),this.Da=new gA,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=T0.prototype,t.la=8,t.G=1,t.connect=function(u,m,T,R){ut(0),this.W=u,this.H=m||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=k0(this,null,this.W),zu(this)};function Ip(u){if(b0(u),u.G==3){var m=u.U++,T=Jr(u.I);if(et(T,"SID",u.K),et(T,"RID",m),et(T,"TYPE","terminate"),Vl(u,T),m=new Ls(u,u.j,m),m.L=2,m.v=Vu(Jr(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=m.v,T=!0),T||(m.g=j0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ou(m)}A0(u)}function Bu(u){u.g&&(Pp(u),u.g.cancel(),u.g=null)}function b0(u){Bu(u),u.u&&(a.clearTimeout(u.u),u.u=null),Wu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function zu(u){if(!i0(u.h)&&!u.s){u.s=!0;var m=u.Ga;X||Q(),V||(X(),V=!0),U.add(m,u),u.B=0}}function xA(u,m){return o0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=zt(g(u.Ga,u,m),N0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ls(this,this.j,u);let F=this.o;if(this.S&&(F?(F=S(F),N(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var m=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(m+=R,4096<m){m=T;break e}if(m===4096||T===this.i.length-1){m=T+1;break e}}m=1e3}else m=1e3;m=I0(this,L,m),T=Jr(this.I),et(T,"RID",u),et(T,"CVER",22),this.D&&et(T,"X-HTTP-Session-Id",this.D),Vl(this,T),F&&(this.O?m="headers="+encodeURIComponent(String(v0(F)))+"&"+m:this.m&&Sp(T,this.m,F)),bp(this.h,L),this.Ua&&et(T,"TYPE","init"),this.P?(et(T,"$req",m),et(T,"SID","null"),L.T=!0,_p(L,T,null)):_p(L,T,m),this.G=2}}else this.G==3&&(u?S0(this,u):this.i.length==0||i0(this.h)||S0(this))};function S0(u,m){var T;m?T=m.l:T=u.U++;const R=Jr(u.I);et(R,"SID",u.K),et(R,"RID",T),et(R,"AID",u.T),Vl(u,R),u.m&&u.o&&Sp(R,u.m,u.o),T=new Ls(u,u.j,T,u.B+1),u.m===null&&(T.H=u.o),m&&(u.i=m.D.concat(u.i)),m=I0(u,T,1e3),T.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),bp(u.h,T),_p(T,R,m)}function Vl(u,m){u.H&&k(u.H,function(T,R){et(m,R,T)}),u.l&&c0({},function(T,R){et(m,R,T)})}function I0(u,m,T){T=Math.min(u.i.length,T);var R=u.l?g(u.l.Na,u.l,u):null;e:{var L=u.i;let F=-1;for(;;){const Y=["count="+T];F==-1?0<T?(F=L[0].g,Y.push("ofs="+F)):F=0:Y.push("ofs="+F);let Qe=!0;for(let Wt=0;Wt<T;Wt++){let Fe=L[Wt].g;const en=L[Wt].map;if(Fe-=F,0>Fe)F=Math.max(0,L[Wt].g-100),Qe=!1;else try{vA(en,Y,"req"+Fe+"_")}catch{R&&R(en)}}if(Qe){R=Y.join("&");break e}}}return u=u.i.splice(0,T),m.D=u,R}function C0(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;X||Q(),V||(X(),V=!0),U.add(m,u),u.v=0}}function Cp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=zt(g(u.Fa,u),N0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,P0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=zt(g(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Bu(this),P0(this))};function Pp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function P0(u){u.g=new Ls(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Jr(u.qa);et(m,"RID","rpc"),et(m,"SID",u.K),et(m,"AID",u.T),et(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&et(m,"TO",u.ja),et(m,"TYPE","xmlhttp"),Vl(u,m),u.m&&u.o&&Sp(m,u.m,u.o),u.L&&(u.g.I=u.L);var T=u.g;u=u.ia,T.L=1,T.v=Vu(Jr(m)),T.m=null,T.P=!0,t0(T,u)}t.Za=function(){this.C!=null&&(this.C=null,Bu(this),Cp(this),ut(19))};function Wu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function R0(u,m){var T=null;if(u.g==m){Wu(u),Pp(u),u.g=null;var R=2}else if(Tp(u.h,m))T=m.D,a0(u.h,m),R=1;else return;if(u.G!=0){if(m.o)if(R==1){T=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;R=Me(),Be(R,new Pr(R,T)),zu(u)}else C0(u);else if(L=m.s,L==3||L==0&&0<m.X||!(R==1&&xA(u,m)||R==2&&Cp(u)))switch(T&&0<T.length&&(m=u.h,m.i=m.i.concat(T)),L){case 1:Zi(u,5);break;case 4:Zi(u,10);break;case 3:Zi(u,6);break;default:Zi(u,2)}}}function N0(u,m){let T=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(T*=2),T*m}function Zi(u,m){if(u.j.info("Error code "+m),m==2){var T=g(u.fb,u),R=u.Xa;const L=!R;R=new Ji(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Mu(R,"https"),Vu(R),L?pA(R.toString(),T):mA(R.toString(),T)}else ut(2);u.G=0,u.l&&u.l.sa(m),A0(u),b0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function A0(u){if(u.G=0,u.ka=[],u.l){const m=l0(u.h);(m.length!=0||u.i.length!=0)&&(w(u.ka,m),w(u.ka,u.i),u.h.i.length=0,x(u.i),u.i.length=0),u.l.ra()}}function k0(u,m,T){var R=T instanceof Ji?Jr(T):new Ji(T);if(R.g!="")m&&(R.g=m+"."+R.g),Lu(R,R.s);else{var L=a.location;R=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var F=new Ji(null);R&&Mu(F,R),m&&(F.g=m),L&&Lu(F,L),T&&(F.l=T),R=F}return T=u.D,m=u.ya,T&&m&&et(R,T,m),et(R,"VER",u.la),Vl(u,R),R}function j0(u,m,T){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new vt(new Fu({eb:T})):new vt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function D0(){}t=D0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Hu(){}Hu.prototype.g=function(u,m){return new On(u,m)};function On(u,m){Se.call(this),this.g=new T0(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!y(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!y(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ko(this)}b(On,Se),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){Ip(this.g)},On.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.u&&(T={},T.__data__=Os(u),u=T);m.i.push(new sA(m.Ya++,u)),m.G==3&&zu(m)},On.prototype.N=function(){this.g.l=null,delete this.j,Ip(this.g),delete this.g,On.aa.N.call(this)};function O0(u){Yi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const T in m){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(O0,Yi);function M0(){Gn.call(this),this.status=1}b(M0,Gn);function Ko(u){this.g=u}b(Ko,D0),Ko.prototype.ua=function(){Be(this.g,"a")},Ko.prototype.ta=function(u){Be(this.g,new O0(u))},Ko.prototype.sa=function(u){Be(this.g,new M0)},Ko.prototype.ra=function(){Be(this.g,"b")},Hu.prototype.createWebChannel=Hu.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,jC=function(){return new Hu},kC=function(){return Me()},AC=Xr,Kg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ju.NO_ERROR=0,ju.TIMEOUT=8,ju.HTTP_ERROR=6,Hd=ju,Jw.COMPLETE="complete",NC=Jw,Nl.EventType=Qi,Qi.OPEN="a",Qi.CLOSE="b",Qi.ERROR="c",Qi.MESSAGE="d",Se.prototype.listen=Se.prototype.K,nc=Nl,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,RC=vt}).apply(typeof vd<"u"?vd:typeof self<"u"?self:typeof window<"u"?window:{});const iE="@firebase/firestore",oE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new Oy("@firebase/firestore");function ta(){return No.logLevel}function te(t,...e){if(No.logLevel<=Re.DEBUG){const n=e.map(Ky);No.debug(`Firestore (${wl}): ${t}`,...n)}}function Es(t,...e){if(No.logLevel<=Re.ERROR){const n=e.map(Ky);No.error(`Firestore (${wl}): ${t}`,...n)}}function Ai(t,...e){if(No.logLevel<=Re.WARN){const n=e.map(Ky);No.warn(`Firestore (${wl}): ${t}`,...n)}}function Ky(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,DC(t,r,n)}function DC(t,e,n){let r=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Es(r),new Error(r)}function ze(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||DC(e,s,r)}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class $3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class B3{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new hs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new hs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new OC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class z3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class W3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new z3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new aE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new aE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=q3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function Qg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return be(r,s);{const i=MC(),o=G3(i.encode(lE(t,n)),i.encode(lE(e,n)));return o!==0?o:be(r,s)}}n+=r>65535?2:1}return be(t.length,e.length)}function lE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function G3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return be(t[n],e[n]);return be(t.length,e.length)}function Ja(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__name__";class Ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ar.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return be(e.length,n.length)}static compareSegments(e,n){const r=Ar.isNumericId(e),s=Ar.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):Qg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xi.fromString(e.substring(4,e.length-2))}}class Je extends Ar{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const K3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ar{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return K3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new Kt([cE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new J($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Je.fromString(e))}static fromName(e){return new ae(Je.fromString(e).popFirst(5))}static empty(){return new ae(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t,e,n){if(!n)throw new J($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q3(t,e,n,r){if(e===!0&&r===!0)throw new J($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uE(t){if(!ae.isDocumentKey(t))throw new J($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dE(t){if(ae.isDocumentKey(t))throw new J($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function VC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $f(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function sr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$f(t);throw new J($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t,e){const n={typeString:t};return e&&(n.value=e),n}function bu(t,e){if(!VC(t))throw new J($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new J($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=-62135596800,fE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*fE);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hE)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fE}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:At("string",st._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new st(0,0))}static max(){return new fe(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=-1;function Y3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new ki(s,ae.empty(),e)}function X3(t){return new ki(t.readTime,t.key,Xc)}class ki{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ki(fe.min(),ae.empty(),Xc)}static max(){return new ki(fe.max(),ae.empty(),Xc)}}function J3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==Z3)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function t5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Bf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=-1;function zf(t){return t==null}function Wh(t){return t===0&&1/t==-1/0}function n5(t){return typeof t=="number"&&Number.isInteger(t)&&!Wh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="";function r5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pE(e)),e=s5(t.get(n),e);return pE(e)}function s5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case FC:n+="";break;default:n+=i}}return n}function pE(t){return t+FC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=s??Gt.EMPTY,this.right=i??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Gt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Gt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gE(this.data.getIterator())}getIteratorFrom(e){return new gE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class gE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Vt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new $C("Invalid base64 string: "+i):i}}(e);return new Jt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const i5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(t){if(ze(!!t,39018),typeof t=="string"){let e=0;const n=i5.exec(t);if(ze(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Di(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="server_timestamp",zC="__type__",WC="__previous_value__",HC="__local_write_time__";function Xy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[zC])===null||n===void 0?void 0:n.stringValue)===BC}function Wf(t){const e=t.mapValue.fields[WC];return Xy(e)?Wf(e):e}function Jc(t){const e=ji(t.mapValue.fields[HC].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n,r,s,i,o,a,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=h}}const Hh="(default)";class Zc{constructor(e,n){this.projectId=e,this.database=n||Hh}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database===Hh}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="__type__",GC="__max__",wd={mapValue:{fields:{__type__:{stringValue:GC}}}},KC="__vector__",qh="value";function Oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xy(t)?4:l5(t)?9007199254740991:a5(t)?10:11:de(28295,{value:t})}function Gr(t,e){if(t===e)return!0;const n=Oi(t);if(n!==Oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jc(t).isEqual(Jc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ji(s.timestampValue),a=ji(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Di(s.bytesValue).isEqual(Di(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return xt(s.geoPointValue.latitude)===xt(i.geoPointValue.latitude)&&xt(s.geoPointValue.longitude)===xt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return xt(s.integerValue)===xt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=xt(s.doubleValue),a=xt(i.doubleValue);return o===a?Wh(o)===Wh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ja(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(mE(o)!==mE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Gr(o[l],a[l])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function eu(t,e){return(t.values||[]).find(n=>Gr(n,e))!==void 0}function Za(t,e){if(t===e)return 0;const n=Oi(t),r=Oi(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=xt(i.integerValue||i.doubleValue),l=xt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return vE(t.timestampValue,e.timestampValue);case 4:return vE(Jc(t),Jc(e));case 5:return Qg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Di(i),l=Di(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=be(a[d],l[d]);if(h!==0)return h}return be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=be(xt(i.latitude),xt(o.latitude));return a!==0?a:be(xt(i.longitude),xt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,d,h;const f=i.fields||{},g=o.fields||{},v=(a=f[qh])===null||a===void 0?void 0:a.arrayValue,b=(l=g[qh])===null||l===void 0?void 0:l.arrayValue,x=be(((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:yE(v,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===wd.mapValue&&o===wd.mapValue)return 0;if(i===wd.mapValue)return 1;if(o===wd.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const g=Qg(l[f],h[f]);if(g!==0)return g;const v=Za(a[l[f]],d[h[f]]);if(v!==0)return v}return be(l.length,h.length)}(t.mapValue,e.mapValue);default:throw de(23264,{le:n})}}function vE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=ji(t),r=ji(e),s=be(n.seconds,r.seconds);return s!==0?s:be(n.nanos,r.nanos)}function yE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Za(n[s],r[s]);if(i)return i}return be(n.length,r.length)}function el(t){return Yg(t)}function Yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Di(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Yg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Yg(n.fields[o])}`;return s+"}"}(t.mapValue):de(61005,{value:t})}function qd(t){switch(Oi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wf(t);return e?16+qd(e):16;case 5:return 2*t.stringValue.length;case 6:return Di(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+qd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Bi(r.fields,(i,o)=>{s+=i.length+qd(o)}),s}(t.mapValue);default:throw de(13486,{value:t})}}function wE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xg(t){return!!t&&"integerValue"in t}function Jy(t){return!!t&&"arrayValue"in t}function _E(t){return!!t&&"nullValue"in t}function xE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gd(t){return!!t&&"mapValue"in t}function a5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[qC])===null||n===void 0?void 0:n.stringValue)===KC}function wc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function l5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===GC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(n)}setAll(e){let n=Kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=wc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Gd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Gd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Bi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Cn(wc(this.value))}}function QC(t){const e=[];return Bi(t.fields,(n,r)=>{const s=new Kt([n]);if(Gd(r)){const i=QC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new un(e,0,fe.min(),fe.min(),fe.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,s){return new un(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new un(e,2,n,fe.min(),fe.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,fe.min(),fe.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.position=e,this.inclusive=n}}function EE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=Za(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function TE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function c5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{}class Pt extends YC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new d5(e,n,r):n==="array-contains"?new p5(e,r):n==="in"?new m5(e,r):n==="not-in"?new g5(e,r):n==="array-contains-any"?new v5(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new h5(e,r):new f5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Za(n,this.value)):n!==null&&Oi(this.value)===Oi(n)&&this.matchesComparison(Za(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends YC{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new br(e,n)}matches(e){return XC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function XC(t){return t.op==="and"}function JC(t){return u5(t)&&XC(t)}function u5(t){for(const e of t.filters)if(e instanceof br)return!1;return!0}function Jg(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+el(t.value);if(JC(t))return t.filters.map(e=>Jg(e)).join(",");{const e=t.filters.map(n=>Jg(n)).join(",");return`${t.op}(${e})`}}function ZC(t,e){return t instanceof Pt?function(r,s){return s instanceof Pt&&r.op===s.op&&r.field.isEqual(s.field)&&Gr(r.value,s.value)}(t,e):t instanceof br?function(r,s){return s instanceof br&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&ZC(o,s.filters[a]),!0):!1}(t,e):void de(19439)}function eP(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${el(n.value)}`}(t):t instanceof br?function(n){return n.op.toString()+" {"+n.getFilters().map(eP).join(" ,")+"}"}(t):"Filter"}class d5 extends Pt{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class h5 extends Pt{constructor(e,n){super(e,"in",n),this.keys=tP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class f5 extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=tP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class p5 extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jy(n)&&eu(n.arrayValue,this.value)}}class m5 extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class g5 extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class v5 extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>eu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function bE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new y5(t,e,n,r,s,i,o)}function Zy(t){const e=ge(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),zf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>el(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>el(r)).join(",")),e.Pe=n}return e.Pe}function ew(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TE(t.startAt,e.startAt)&&TE(t.endAt,e.endAt)}function Zg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function w5(t,e,n,r,s,i,o,a){return new El(t,e,n,r,s,i,o,a)}function tw(t){return new El(t)}function SE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nP(t){return t.collectionGroup!==null}function _c(t){const e=ge(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Vt(Kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new tu(i,r))}),n.has(Kt.keyField().canonicalString())||e.Te.push(new tu(Kt.keyField(),r))}return e.Te}function Br(t){const e=ge(t);return e.Ie||(e.Ie=_5(e,_c(t))),e.Ie}function _5(t,e){if(t.limitType==="F")return bE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new tu(s.field,i)});const n=t.endAt?new Gh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gh(t.startAt.position,t.startAt.inclusive):null;return bE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ev(t,e){const n=t.filters.concat([e]);return new El(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tv(t,e,n){return new El(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hf(t,e){return ew(Br(t),Br(e))&&t.limitType===e.limitType}function rP(t){return`${Zy(Br(t))}|lt:${t.limitType}`}function na(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>eP(s)).join(", ")}]`),zf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>el(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>el(s)).join(",")),`Target(${r})`}(Br(t))}; limitType=${t.limitType})`}function qf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of _c(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const d=EE(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,_c(r),s)||r.endAt&&!function(o,a,l){const d=EE(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,_c(r),s))}(t,e)}function x5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sP(t){return(e,n)=>{let r=!1;for(const s of _c(t)){const i=E5(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function E5(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?Za(l,d):de(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Bi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return UC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=new gt(ae.comparator);function Ts(){return T5}const iP=new gt(ae.comparator);function rc(...t){let e=iP;for(const n of t)e=e.insert(n.key,n);return e}function oP(t){let e=iP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function lo(){return xc()}function aP(){return xc()}function xc(){return new Uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const b5=new gt(ae.comparator),S5=new Vt(ae.comparator);function Ne(...t){let e=S5;for(const n of t)e=e.add(n);return e}const I5=new Vt(be);function C5(){return I5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(e)?"-0":e}}function lP(t){return{integerValue:""+t}}function P5(t,e){return n5(e)?lP(e):nw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this._=void 0}}function R5(t,e,n){return t instanceof nu?function(s,i){const o={fields:{[zC]:{stringValue:BC},[HC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Xy(i)&&(i=Wf(i)),i&&(o.fields[WC]=i),{mapValue:o}}(n,e):t instanceof tl?uP(t,e):t instanceof nl?dP(t,e):function(s,i){const o=cP(s,i),a=IE(o)+IE(s.Ee);return Xg(o)&&Xg(s.Ee)?lP(a):nw(s.serializer,a)}(t,e)}function N5(t,e,n){return t instanceof tl?uP(t,e):t instanceof nl?dP(t,e):n}function cP(t,e){return t instanceof Kh?function(r){return Xg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class nu extends Gf{}class tl extends Gf{constructor(e){super(),this.elements=e}}function uP(t,e){const n=hP(e);for(const r of t.elements)n.some(s=>Gr(s,r))||n.push(r);return{arrayValue:{values:n}}}class nl extends Gf{constructor(e){super(),this.elements=e}}function dP(t,e){let n=hP(e);for(const r of t.elements)n=n.filter(s=>!Gr(s,r));return{arrayValue:{values:n}}}class Kh extends Gf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function IE(t){return xt(t.integerValue||t.doubleValue)}function hP(t){return Jy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n){this.field=e,this.transform=n}}function A5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof tl&&s instanceof tl||r instanceof nl&&s instanceof nl?Ja(r.elements,s.elements,Gr):r instanceof Kh&&s instanceof Kh?Gr(r.Ee,s.Ee):r instanceof nu&&s instanceof nu}(t.transform,e.transform)}class k5{constructor(e,n){this.version=e,this.transformResults=n}}class yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kf{}function fP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qf(t.key,yn.none()):new Su(t.key,t.data,yn.none());{const n=t.data,r=Cn.empty();let s=new Vt(Kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new zi(t.key,r,new Un(s.toArray()),yn.none())}}function j5(t,e,n){t instanceof Su?function(s,i,o){const a=s.value.clone(),l=PE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zi?function(s,i,o){if(!Kd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=PE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(pP(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ec(t,e,n,r){return t instanceof Su?function(i,o,a,l){if(!Kd(i.precondition,o))return a;const d=i.value.clone(),h=RE(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof zi?function(i,o,a,l){if(!Kd(i.precondition,o))return a;const d=RE(i.fieldTransforms,l,o),h=o.data;return h.setAll(pP(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Kd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function D5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=cP(r.transform,s||null);i!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,i))}return n||null}function CE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ja(r,s,(i,o)=>A5(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends Kf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zi extends Kf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function pP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function PE(t,e,n){const r=new Map;ze(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,N5(o,a,n[s]))}return r}function RE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,R5(i,o,e))}return r}class Qf extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O5 extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&j5(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aP();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=fP(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(n,r)=>CE(n,r))&&Ja(this.baseMutations,e.baseMutations,(n,r)=>CE(n,r))}}class sw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ze(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return b5}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new sw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L5=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,ke;function F5(t){switch(t){case $.OK:return de(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function mP(t){if(t===void 0)return Es("GRPC error has no .code"),$.UNKNOWN;switch(t){case It.OK:return $.OK;case It.CANCELLED:return $.CANCELLED;case It.UNKNOWN:return $.UNKNOWN;case It.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case It.INTERNAL:return $.INTERNAL;case It.UNAVAILABLE:return $.UNAVAILABLE;case It.UNAUTHENTICATED:return $.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case It.NOT_FOUND:return $.NOT_FOUND;case It.ALREADY_EXISTS:return $.ALREADY_EXISTS;case It.PERMISSION_DENIED:return $.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case It.ABORTED:return $.ABORTED;case It.OUT_OF_RANGE:return $.OUT_OF_RANGE;case It.UNIMPLEMENTED:return $.UNIMPLEMENTED;case It.DATA_LOSS:return $.DATA_LOSS;default:return de(39323,{code:t})}}(ke=It||(It={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=new xi([4294967295,4294967295],0);function NE(t){const e=MC().encode(t),n=new PC;return n.update(e),new Uint8Array(n.digest())}function AE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new xi([n,r],0),new xi([s,i],0)]}class iw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sc(`Invalid padding: ${n}`);if(r<0)throw new sc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sc(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=xi.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(xi.fromNumber(r)));return s.compare(U5)===1&&(s=new xi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=NE(e),[r,s]=AE(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new iw(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=NE(e),[r,s]=AE(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yf(fe.min(),s,new gt(be),Ts(),Ne())}}class Iu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Iu(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class gP{constructor(e,n){this.targetId=e,this.De=n}}class vP{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class kE{constructor(){this.ve=0,this.Ce=jE(),this.Fe=Jt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ne(),n=Ne(),r=Ne();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de(38017,{changeType:i})}}),new Iu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=jE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class $5{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ts(),this.je=_d(),this.Je=_d(),this.He=new gt(be)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(Zg(i))if(r===0){const o=new ae(i.path);this.Xe(n,o,un.newNoDocument(o,fe.min()))}else ze(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,d)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Di(r).toUint8Array()}catch(l){if(l instanceof $C)return Ai("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new iw(o,s,i)}catch(l){return Ai(l instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const a=this.st(o);if(a){if(i.current&&Zg(a.target)){const l=new ae(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,un.newNoDocument(l,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=Ne();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.st(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new Yf(e,n,this.He,this.ze,r);return this.ze=Ts(),this.je=_d(),this.Je=_d(),this.He=new gt(be),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new kE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Vt(be),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Vt(be),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new kE),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function _d(){return new gt(ae.comparator)}function jE(){return new gt(ae.comparator)}const B5={asc:"ASCENDING",desc:"DESCENDING"},z5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W5={and:"AND",or:"OR"};class H5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nv(t,e){return t.useProto3Json||zf(e)?e:{value:e}}function Qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q5(t,e){return Qh(t,e.toTimestamp())}function zr(t){return ze(!!t,49232),fe.fromTimestamp(function(n){const r=ji(n);return new st(r.seconds,r.nanos)}(t))}function ow(t,e){return rv(t,e).canonicalString()}function rv(t,e){const n=function(s){return new Je(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wP(t){const e=Je.fromString(t);return ze(bP(e),10190,{key:e.toString()}),e}function sv(t,e){return ow(t.databaseId,e.path)}function ym(t,e){const n=wP(e);if(n.get(1)!==t.databaseId.projectId)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(xP(n))}function _P(t,e){return ow(t.databaseId,e)}function G5(t){const e=wP(t);return e.length===4?Je.emptyPath():xP(e)}function iv(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xP(t){return ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function DE(t,e,n){return{name:sv(t,e),fields:n.value.mapValue.fields}}function K5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:de(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(ze(h===void 0||typeof h=="string",58123),Jt.fromBase64String(h||"")):(ze(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Jt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?$.UNKNOWN:mP(d.code);return new J(h,d.message||"")}(o);n=new vP(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ym(t,r.document.name),i=zr(r.document.updateTime),o=r.document.createTime?zr(r.document.createTime):fe.min(),a=new Cn({mapValue:{fields:r.document.fields}}),l=un.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Qd(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ym(t,r.document),i=r.readTime?zr(r.readTime):fe.min(),o=un.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Qd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ym(t,r.document),i=r.removedTargetIds||[];n=new Qd([],i,s,null)}else{if(!("filter"in e))return de(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new V5(s,i),a=r.targetId;n=new gP(a,o)}}return n}function Q5(t,e){let n;if(e instanceof Su)n={update:DE(t,e.key,e.value)};else if(e instanceof Qf)n={delete:sv(t,e.key)};else if(e instanceof zi)n={update:DE(t,e.key,e.data),updateMask:sU(e.fieldMask)};else{if(!(e instanceof O5))return de(16599,{Rt:e.type});n={verify:sv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof nu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kh)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw de(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:q5(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de(27497)}(t,e.precondition)),n}function Y5(t,e){return t&&t.length>0?(ze(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?zr(s.updateTime):zr(i);return o.isEqual(fe.min())&&(o=zr(i)),new k5(o,s.transformResults||[])}(n,e))):[]}function X5(t,e){return{documents:[_P(t,e.path)]}}function J5(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_P(t,s);const i=function(d){if(d.length!==0)return TP(br.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(g){return{field:ra(g.field),direction:tU(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=nv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{Vt:n,parent:s}}function Z5(t){let e=G5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ze(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const g=EP(f);return g instanceof br&&JC(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(b){return new tu(sa(b.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,zf(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(f){const g=!!f.before,v=f.values||[];return new Gh(v,g)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const g=!f.before,v=f.values||[];return new Gh(v,g)}(n.endAt)),w5(e,s,o,i,a,"F",l,d)}function eU(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sa(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=sa(n.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=sa(n.unaryFilter.field);return Pt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=sa(n.unaryFilter.field);return Pt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(sa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return br.create(n.compositeFilter.filters.map(r=>EP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(t):de(30097,{filter:t})}function tU(t){return B5[t]}function nU(t){return z5[t]}function rU(t){return W5[t]}function ra(t){return{fieldPath:t.canonicalString()}}function sa(t){return Kt.fromServerFormat(t.fieldPath)}function TP(t){return t instanceof Pt?function(n){if(n.op==="=="){if(xE(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NAN"}};if(_E(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xE(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NAN"}};if(_E(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(n.field),op:nU(n.op),value:n.value}}}(t):t instanceof br?function(n){const r=n.getFilters().map(s=>TP(s));return r.length===1?r[0]:{compositeFilter:{op:rU(n.op),filters:r}}}(t):de(54877,{filter:t})}function sU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,r,s,i=fe.min(),o=fe.min(),a=Jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.gt=e}}function oU(t){const e=Z5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(){this.Dn=new lU}addToCollectionParentIndex(e,n){return this.Dn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(ki.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class lU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Vt(Je.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Vt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SP=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(SP,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new rl(0)}static ur(){return new rl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="LruGarbageCollector",cU=1048576;function LE([t,e],[n,r]){const s=be(t,n);return s===0?be(e,r):s}class uU{constructor(e){this.Tr=e,this.buffer=new Vt(LE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();LE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){te(ME,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?te(ME,"Ignoring IndexedDB error during garbage collection: ",n):await _l(n)}await this.Rr(3e5)})}}class hU{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Bf.ue);const r=new uU(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(OE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OE):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,a,l,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),ta()<=Re.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function fU(t,e){return new hU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(){this.changes=new Uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ec(r.mutation,s,Un.empty(),st.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const s=lo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=rc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=lo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ts();const o=xc(),a=function(){return xc()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof zi)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Ec(h.mutation,d,h.mutation.getFieldMask(),st.now())):o.set(d.key,Un.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var f;return a.set(d,new mU(h,(f=o.get(d))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=xc();let s=new gt((o,a)=>o-a),i=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||Un.empty();h=a.applyToLocalView(d,h),r.set(l,h);const f=(s.get(a.batchId)||Ne()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,f=aP();h.forEach(g=>{if(!i.has(g)){const v=fP(n.get(g),r.get(g));v!==null&&f.set(g,v),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(lo());let a=Xc,l=i;return o.next(d=>z.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,Ne())).next(h=>({batchId:a,changes:oP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=rc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=rc();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,l=>{const d=function(f,g){return new El(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,un.newInvalidDocument(h)))});let a=rc();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&Ec(h.mutation,d,Un.empty(),st.now()),qf(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return z.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:zr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:oU(s.bundledQuery),readTime:zr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.overlays=new gt(ae.comparator),this.kr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=lo();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=lo(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new gt((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=lo(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=lo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return z.resolve(a)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new L5(n,r));let i=this.kr.get(n);i===void 0&&(i=Ne(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.qr=new Vt(Ft.Qr),this.$r=new Vt(Ft.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ft(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new ae(new Je([])),r=new Ft(n,e),s=new Ft(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ae(new Je([])),r=new Ft(n,e),s=new Ft(n,e+1);let i=Ne();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ft(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ae.comparator(e.key,n.key)||be(e.Hr,n.Hr)}static Ur(e,n){return be(e.Hr,n.Hr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Vt(Ft.Qr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new M5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new Ft(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Yy:this.er-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),s=new Ft(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(be);return n.forEach(s=>{const i=new Ft(s,0),o=new Ft(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),z.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new Ft(new ae(i),0);let a=new Vt(be);return this.Yr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.Hr)),!0)},o),z.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ze(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return z.forEach(n.mutations,s=>{const i=new Ft(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Ft(n,0),s=this.Yr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.ni=e,this.docs=function(){return new gt(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=Ts();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():un.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ts();const o=n.path,a=new ae(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||J3(X3(h),r)<=0||(s.has(h.key)||qf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de(9500)}ri(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new EU(this)}getSize(e){return z.resolve(this.size)}}class EU extends pU{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.persistence=e,this.ii=new Uo(n=>Zy(n),ew),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.si=0,this.oi=new aw,this.targetCount=0,this._i=rl.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),z.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new rl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.hr(n),z.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n){this.ai={},this.overlays={},this.ui=new Bf(0),this.ci=!1,this.ci=!0,this.li=new wU,this.referenceDelegate=e(this),this.hi=new TU(this),this.indexManager=new aU,this.remoteDocumentCache=function(s){return new xU(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new iU(n),this.Ti=new vU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new _U(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new bU(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return z.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class bU extends e5{constructor(e){super(),this.currentSequenceNumber=e}}class lw{constructor(e){this.persistence=e,this.Ai=new aw,this.Ri=null}static Vi(e){return new lw(e)}get mi(){if(this.Ri)return this.Ri;throw de(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.mi,r=>{const s=ae.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return z.or([()=>z.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Yh{constructor(e,n){this.persistence=e,this.gi=new Uo(r=>r5(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=fU(this,n)}static Vi(e,n){return new Yh(e,n)}Ii(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return z.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,fe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),z.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qd(e.data.value)),n}Sr(e,n,r){return z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=Ne(),s=Ne();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new cw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return nV()?8:t5(hn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new SU;return this.ws(e,n,o).next(a=>{if(i.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(ta()<=Re.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(ta()<=Re.DEBUG&&te("QueryEngine","Query:",na(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(ta()<=Re.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(n))):z.resolve())}ps(e,n){if(SE(n))return z.resolve(null);let r=Br(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=tv(n,null,"F"),r=Br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ne(...i);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.bs(n,a);return this.Ds(n,d,o,l.readTime)?this.ps(e,tv(n,null,"F")):this.vs(e,d,n,l)}))})))}ys(e,n,r,s){return SE(n)||s.isEqual(fe.min())?z.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?z.resolve(null):(ta()<=Re.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),na(n)),this.vs(e,o,n,Y3(s,Xc)).next(a=>a))})}bs(e,n){let r=new Vt(sP(e));return n.forEach((s,i)=>{qf(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return ta()<=Re.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",na(n)),this.gs.getDocumentsMatchingQuery(e,n,ki.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="LocalStore",CU=3e8;class PU{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new gt(be),this.Ms=new Uo(i=>Zy(i),ew),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gU(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function RU(t,e,n,r){return new PU(t,e,n,r)}async function CP(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ne();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({Bs:d,removedBatchIds:o,addedBatchIds:a}))})})}function NU(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){const f=d.batch,g=f.keys();let v=z.resolve();return g.forEach(b=>{v=v.next(()=>h.getEntry(l,b)).next(x=>{const w=d.docVersions.get(b);ze(w!==null,48541),x.version.compareTo(w)<0&&(f.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),h.addEntry(x)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ne();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function PP(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function AU(t,e){const n=ge(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((h,f)=>{const g=s.get(f);if(!g)return;a.push(n.hi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.hi.addMatchingKeys(i,h.addedDocuments,f)));let v=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Jt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(x,w,_){return x.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=CU?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(g,v,h)&&a.push(n.hi.updateTargetData(i,v))});let l=Ts(),d=Ne();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(kU(i,o,e.documentUpdates).next(h=>{l=h.Ls,d=h.ks})),!r.isEqual(fe.min())){const h=n.hi.getLastRemoteSnapshotVersion(i).next(f=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.Fs=s,i))}function kU(t,e,n){let r=Ne(),s=Ne();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ts();return n.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te(uw,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{Ls:o,ks:s}})}function jU(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Yy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function DU(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new li(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function ov(t,e,n){const r=ge(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!xl(o))throw o;te(uw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function VE(t,e,n){const r=ge(t);let s=fe.min(),i=Ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const f=ge(l),g=f.Ms.get(h);return g!==void 0?z.resolve(f.Fs.get(g)):f.hi.getTargetData(d,h)}(r,o,Br(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:fe.min(),n?i:Ne())).next(a=>(OU(r,x5(e),a),{documents:a,qs:i})))}function OU(t,e,n){let r=t.xs.get(e)||fe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class FE{constructor(){this.activeTargetIds=C5()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MU{constructor(){this.Fo=new FE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new FE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="ConnectivityMonitor";class $E{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){te(UE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){te(UE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd=null;function av(){return xd===null?xd=function(){return 268435456+Math.round(2147483648*Math.random())}():xd++,"0x"+xd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="RestConnection",VU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FU{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Hh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=av(),a=this.Go(e,n.toUriEncodedString());te(wm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,s,i);const{host:d}=new URL(a),h=gl(d);return this.jo(e,a,l,r,h).then(f=>(te(wm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ai(wm,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=VU[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class $U extends FU{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=av();return new Promise((a,l)=>{const d=new RC;d.setWithCredentials(!0),d.listenOnce(NC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Hd.NO_ERROR:const f=d.getResponseJson();te(on,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Hd.TIMEOUT:te(on,`RPC '${e}' ${o} timed out`),l(new J($.DEADLINE_EXCEEDED,"Request time out"));break;case Hd.HTTP_ERROR:const g=d.getStatus();if(te(on,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const x=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(y)>=0?y:$.UNKNOWN}(b.status);l(new J(x,b.message))}else l(new J($.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new J($.UNAVAILABLE,"Connection failed."));break;default:de(9055,{c_:e,streamId:o,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{te(on,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);te(on,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}P_(e,n,r){const s=av(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jC(),a=kC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");te(on,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);this.T_(f);let g=!1,v=!1;const b=new UU({Ho:w=>{v?te(on,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(g||(te(on,`Opening RPC '${e}' stream ${s} transport.`),f.open(),g=!0),te(on,`RPC '${e}' stream ${s} sending:`,w),f.send(w))},Yo:()=>f.close()}),x=(w,_,y)=>{w.listen(_,E=>{try{y(E)}catch(C){setTimeout(()=>{throw C},0)}})};return x(f,nc.EventType.OPEN,()=>{v||(te(on,`RPC '${e}' stream ${s} transport opened.`),b.s_())}),x(f,nc.EventType.CLOSE,()=>{v||(v=!0,te(on,`RPC '${e}' stream ${s} transport closed`),b.__(),this.I_(f))}),x(f,nc.EventType.ERROR,w=>{v||(v=!0,Ai(on,`RPC '${e}' stream ${s} transport errored. Name:`,w.name,"Message:",w.message),b.__(new J($.UNAVAILABLE,"The operation could not be completed")))}),x(f,nc.EventType.MESSAGE,w=>{var _;if(!v){const y=w.data[0];ze(!!y,16349);const E=y,C=(E==null?void 0:E.error)||((_=E[0])===null||_===void 0?void 0:_.error);if(C){te(on,`RPC '${e}' stream ${s} received error:`,C);const O=C.status;let k=function(P){const N=It[P];if(N!==void 0)return mP(N)}(O),I=C.message;k===void 0&&(k=$.INTERNAL,I="Unknown error status: "+O+" with message "+C.message),v=!0,b.__(new J(k,I)),f.close()}else te(on,`RPC '${e}' stream ${s} received:`,y),b.a_(y)}}),x(a,AC.STAT_EVENT,w=>{w.stat===Kg.PROXY?te(on,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===Kg.NOPROXY&&te(on,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function _m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){return new H5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="PersistentStream";class NP{constructor(e,n,r,s,i,o,a,l){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new RP(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Es(n.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new J($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return te(BE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(te(BE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BU extends NP{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=K5(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?zr(o.readTime):fe.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=iv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Zg(l)?{documents:X5(i,l)}:{query:J5(i,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=yP(i,o.resumeToken);const d=nv(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=Qh(i,o.snapshotVersion.toTimestamp());const d=nv(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=eU(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=iv(this.serializer),n.removeTarget=e,this.k_(n)}}class zU extends NP{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Y5(e.writeResults,e.commitTime),r=zr(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=iv(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Q5(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{}class HU extends WU{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,rv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J($.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,rv(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J($.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class qU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Es(n),this._a=!1):te("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="RemoteStore";class GU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{$o(this)&&(te(Ao,"Restarting streams for network reachability change."),await async function(l){const d=ge(l);d.Ia.add(4),await Cu(d),d.Aa.set("Unknown"),d.Ia.delete(4),await Jf(d)}(this))})}),this.Aa=new qU(r,s)}}async function Jf(t){if($o(t))for(const e of t.da)await e(!0)}async function Cu(t){for(const e of t.da)await e(!1)}function AP(t,e){const n=ge(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),pw(n)?fw(n):Tl(n).x_()&&hw(n,e))}function dw(t,e){const n=ge(t),r=Tl(n);n.Ta.delete(e),r.x_()&&kP(n,e),n.Ta.size===0&&(r.x_()?r.B_():$o(n)&&n.Aa.set("Unknown"))}function hw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tl(t).H_(e)}function kP(t,e){t.Ra.$e(e),Tl(t).Y_(e)}function fw(t){t.Ra=new $5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Tl(t).start(),t.Aa.aa()}function pw(t){return $o(t)&&!Tl(t).M_()&&t.Ta.size>0}function $o(t){return ge(t).Ia.size===0}function jP(t){t.Ra=void 0}async function KU(t){t.Aa.set("Online")}async function QU(t){t.Ta.forEach((e,n)=>{hw(t,e)})}async function YU(t,e){jP(t),pw(t)?(t.Aa.la(e),fw(t)):t.Aa.set("Unknown")}async function XU(t,e,n){if(t.Aa.set("Online"),e instanceof vP&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(r){te(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xh(t,r)}else if(e instanceof Qd?t.Ra.Ye(e):e instanceof gP?t.Ra.it(e):t.Ra.et(e),!n.isEqual(fe.min()))try{const r=await PP(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Ra.Pt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ta.get(d);h&&i.Ta.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.Ta.get(l);if(!h)return;i.Ta.set(l,h.withResumeToken(Jt.EMPTY_BYTE_STRING,h.snapshotVersion)),kP(i,l);const f=new li(h.target,l,d,h.sequenceNumber);hw(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te(Ao,"Failed to raise snapshot:",r),await Xh(t,r)}}async function Xh(t,e,n){if(!xl(e))throw e;t.Ia.add(1),await Cu(t),t.Aa.set("Offline"),n||(n=()=>PP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te(Ao,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Jf(t)})}function DP(t,e){return e().catch(n=>Xh(t,n,e))}async function Zf(t){const e=ge(t),n=Mi(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Yy;for(;JU(e);)try{const s=await jU(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,ZU(e,s)}catch(s){await Xh(e,s)}OP(e)&&MP(e)}function JU(t){return $o(t)&&t.Pa.length<10}function ZU(t,e){t.Pa.push(e);const n=Mi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function OP(t){return $o(t)&&!Mi(t).M_()&&t.Pa.length>0}function MP(t){Mi(t).start()}async function e9(t){Mi(t).na()}async function t9(t){const e=Mi(t);for(const n of t.Pa)e.X_(n.mutations)}async function n9(t,e,n){const r=t.Pa.shift(),s=sw.from(r,e,n);await DP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Zf(t)}async function r9(t,e){e&&Mi(t).Z_&&await async function(r,s){if(function(o){return F5(o)&&o!==$.ABORTED}(s.code)){const i=r.Pa.shift();Mi(r).N_(),await DP(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Zf(r)}}(t,e),OP(t)&&MP(t)}async function zE(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),te(Ao,"RemoteStore received new credentials");const r=$o(n);n.Ia.add(3),await Cu(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Jf(n)}async function s9(t,e){const n=ge(t);e?(n.Ia.delete(2),await Jf(n)):e||(n.Ia.add(2),await Cu(n),n.Aa.set("Unknown"))}function Tl(t){return t.Va||(t.Va=function(n,r,s){const i=ge(n);return i.ia(),new BU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:KU.bind(null,t),e_:QU.bind(null,t),n_:YU.bind(null,t),J_:XU.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),pw(t)?fw(t):t.Aa.set("Unknown")):(await t.Va.stop(),jP(t))})),t.Va}function Mi(t){return t.ma||(t.ma=function(n,r,s){const i=ge(n);return i.ia(),new zU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:e9.bind(null,t),n_:r9.bind(null,t),ea:t9.bind(null,t),ta:n9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Zf(t)):(await t.ma.stop(),t.Pa.length>0&&(te(Ao,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new mw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gw(t,e){if(Es("AsyncQueue",`${e}: ${t}`),xl(t))return new J($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{static emptySet(e){return new Pa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=rc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.fa=new gt(ae.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):de(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class sl{constructor(e,n,r,s,i,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new sl(e,n,Pa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class o9{constructor(){this.queries=HE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=ge(n),i=s.queries;s.queries=HE(),i.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new J($.ABORTED,"Firestore shutting down"))}}function HE(){return new Uo(t=>rP(t),Hf)}async function LP(t,e){const n=ge(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new i9,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=gw(o,`Initialization of query '${na(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&vw(n)}async function VP(t,e){const n=ge(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function a9(t,e){const n=ge(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.wa)a.Ca(s)&&(r=!0);o.ya=s}}r&&vw(n)}function l9(t,e,n){const r=ge(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function vw(t){t.Da.forEach(e=>{e.next()})}var lv,qE;(qE=lv||(lv={})).Fa="default",qE.Cache="cache";class FP{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==lv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.key=e}}class $P{constructor(e){this.key=e}}class c9{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ne(),this.mutatedKeys=Ne(),this.Xa=sP(e),this.eu=new Pa(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new WE,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const g=s.get(h),v=qf(this.query,f)?f:null,b=!!g&&this.mutatedKeys.has(g.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let w=!1;g&&v?g.data.isEqual(v.data)?b!==x&&(r.track({type:3,doc:v}),w=!0):this.iu(g,v)||(r.track({type:2,doc:v}),w=!0,(l&&this.Xa(v,l)>0||d&&this.Xa(v,d)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),w=!0):g&&!v&&(r.track({type:1,doc:g}),w=!0,(l||d)&&(a=!0)),w&&(v?(o=o.add(v),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{eu:o,ru:r,Ds:a,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,f)=>function(v,b){const x=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{At:w})}};return x(v)-x(b)}(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(r),s=s!=null&&s;const a=n&&!s?this.ou():[],l=this.Za.size===0&&this.current&&!s?1:0,d=l!==this.Ya;return this.Ya=l,o.length!==0||d?{snapshot:new sl(this.query,e.eu,i,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new WE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ne(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new $P(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new UP(r))}),n}uu(e){this.Ha=e.qs,this.Za=Ne();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return sl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const yw="SyncEngine";class u9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class d9{constructor(e){this.key=e,this.lu=!1}}class h9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Uo(a=>rP(a),Hf),this.Tu=new Map,this.Iu=new Set,this.du=new gt(ae.comparator),this.Eu=new Map,this.Au=new aw,this.Ru={},this.Vu=new Map,this.mu=rl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function f9(t,e,n=!0){const r=GP(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await BP(r,e,n,!0),s}async function p9(t,e){const n=GP(t);await BP(n,e,!0,!1)}async function BP(t,e,n,r){const s=await DU(t.localStore,Br(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await m9(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&AP(t.remoteStore,s),a}async function m9(t,e,n,r,s){t.gu=(f,g,v)=>async function(x,w,_,y){let E=w.view.nu(_);E.Ds&&(E=await VE(x.localStore,w.query,!1).then(({documents:I})=>w.view.nu(I,E)));const C=y&&y.targetChanges.get(w.targetId),O=y&&y.targetMismatches.get(w.targetId)!=null,k=w.view.applyChanges(E,x.isPrimaryClient,C,O);return KE(x,w.targetId,k._u),k.snapshot}(t,f,g,v);const i=await VE(t.localStore,e,!0),o=new c9(e,i.qs),a=o.nu(i.documents),l=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);KE(t,n,d._u);const h=new u9(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),d.snapshot}async function g9(t,e,n){const r=ge(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!Hf(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ov(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&dw(r.remoteStore,s.targetId),cv(r,s.targetId)}).catch(_l)):(cv(r,s.targetId),await ov(r.localStore,s.targetId,!0))}async function v9(t,e){const n=ge(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dw(n.remoteStore,r.targetId))}async function y9(t,e,n){const r=S9(t);try{const s=await function(o,a){const l=ge(o),d=st.now(),h=a.reduce((v,b)=>v.add(b.key),Ne());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Ts(),x=Ne();return l.Os.getEntries(v,h).next(w=>{b=w,b.forEach((_,y)=>{y.isValidDocument()||(x=x.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,b)).next(w=>{f=w;const _=[];for(const y of a){const E=D5(y,f.get(y.key).overlayedDocument);E!=null&&_.push(new zi(y.key,E,QC(E.value.mapValue),yn.exists(!0)))}return l.mutationQueue.addMutationBatch(v,d,_,a)}).next(w=>{g=w;const _=w.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(v,w.batchId,_)})}).then(()=>({batchId:g.batchId,changes:oP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let d=o.Ru[o.currentUser.toKey()];d||(d=new gt(be)),d=d.insert(a,l),o.Ru[o.currentUser.toKey()]=d}(r,s.batchId,n),await Pu(r,s.changes),await Zf(r.remoteStore)}catch(s){const i=gw(s,"Failed to persist write");n.reject(i)}}async function zP(t,e){const n=ge(t);try{const r=await AU(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?ze(o.lu,14607):s.removedDocuments.size>0&&(ze(o.lu,42227),o.lu=!1))}),await Pu(n,r,e)}catch(r){await _l(r)}}function GE(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ge(o);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(const g of f.wa)g.va(a)&&(d=!0)}),d&&vw(l)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function w9(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new gt(ae.comparator);o=o.insert(i,un.newNoDocument(i,fe.min()));const a=Ne().add(i),l=new Yf(fe.min(),new Map,new gt(be),o,a);await zP(r,l),r.du=r.du.remove(i),r.Eu.delete(e),ww(r)}else await ov(r.localStore,e,!1).then(()=>cv(r,e,n)).catch(_l)}async function _9(t,e){const n=ge(t),r=e.batch.batchId;try{const s=await NU(n.localStore,e);HP(n,r,null),WP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pu(n,s)}catch(s){await _l(s)}}async function x9(t,e,n){const r=ge(t);try{const s=await function(o,a){const l=ge(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(f=>(ze(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);HP(r,e,n),WP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pu(r,s)}catch(s){await _l(s)}}function WP(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function HP(t,e,n){const r=ge(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function cv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||qP(t,r)})}function qP(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(dw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),ww(t))}function KE(t,e,n){for(const r of n)r instanceof UP?(t.Au.addReference(r.key,e),E9(t,r)):r instanceof $P?(te(yw,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||qP(t,r.key)):de(19791,{yu:r})}function E9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(te(yw,"New document in limbo: "+n),t.Iu.add(r),ww(t))}function ww(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ae(Je.fromString(e)),r=t.mu.next();t.Eu.set(r,new d9(n)),t.du=t.du.insert(n,r),AP(t.remoteStore,new li(Br(tw(n.path)),r,"TargetPurposeLimboResolution",Bf.ue))}}async function Pu(t,e,n){const r=ge(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){s.push(d);const f=cw.Es(l.targetId,d);i.push(f)}}))}),await Promise.all(o),r.hu.J_(s),await async function(l,d){const h=ge(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(d,g=>z.forEach(g.Is,v=>h.persistence.referenceDelegate.addReference(f,g.targetId,v)).next(()=>z.forEach(g.ds,v=>h.persistence.referenceDelegate.removeReference(f,g.targetId,v)))))}catch(f){if(!xl(f))throw f;te(uw,"Failed to update sequence numbers: "+f)}for(const f of d){const g=f.targetId;if(!f.fromCache){const v=h.Fs.get(g),b=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(b);h.Fs=h.Fs.insert(g,x)}}}(r.localStore,i))}async function T9(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){te(yw,"User change. New user:",e.toKey());const r=await CP(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(a=>{a.forEach(l=>{l.reject(new J($.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pu(n,r.Bs)}}function b9(t,e){const n=ge(t),r=n.Eu.get(e);if(r&&r.lu)return Ne().add(r.key);{let s=Ne();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const a=n.Pu.get(o);s=s.unionWith(a.view.tu)}return s}}function GP(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w9.bind(null,e),e.hu.J_=a9.bind(null,e.eventManager),e.hu.pu=l9.bind(null,e.eventManager),e}function S9(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x9.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return RU(this.persistence,new IU,e.initialUser,this.serializer)}Du(e){return new IP(lw.Vi,this.serializer)}bu(e){return new MU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class I9 extends Jh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ze(this.persistence.referenceDelegate instanceof Yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new dU(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new IP(r=>Yh.Vi(r,n),this.serializer)}}class uv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=T9.bind(null,this.syncEngine),await s9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o9}()}createDatastore(e){const n=Xf(e.databaseInfo.databaseId),r=function(i){return new $U(i)}(e.databaseInfo);return function(i,o,a,l){return new HU(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new GU(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>GE(this.syncEngine,n,0),function(){return $E.C()?new $E:new LU}())}createSyncEngine(e,n){return function(s,i,o,a,l,d,h){const f=new h9(s,i,o,a,l,d);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ge(s);te(Ao,"RemoteStore shutting down."),i.Ia.add(5),await Cu(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}uv.provider={build:()=>new uv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="FirestoreClient";class C9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ln.UNAUTHENTICATED,this.clientId=Qy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{te(Li,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te(Li,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xm(t,e){t.asyncQueue.verifyOperationInProgress(),te(Li,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await CP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Ai("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{te("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Ai("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function QE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P9(t);te(Li,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>zE(e.remoteStore,s)),t._onlineComponents=e}async function P9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te(Li,"Using user provided OfflineComponentProvider");try{await xm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ai("Error using user provided cache. Falling back to memory cache: "+n),await xm(t,new Jh)}}else te(Li,"Using default OfflineComponentProvider"),await xm(t,new I9(void 0));return t._offlineComponents}async function QP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te(Li,"Using user provided OnlineComponentProvider"),await QE(t,t._uninitializedComponentsProvider._online)):(te(Li,"Using default OnlineComponentProvider"),await QE(t,new uv))),t._onlineComponents}function R9(t){return QP(t).then(e=>e.syncEngine)}async function YP(t){const e=await QP(t),n=e.eventManager;return n.onListen=f9.bind(null,e.syncEngine),n.onUnlisten=g9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=p9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v9.bind(null,e.syncEngine),n}function N9(t,e,n={}){const r=new hs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new KP({next:g=>{h.Ou(),o.enqueueAndForget(()=>VP(i,f));const v=g.docs.has(a);!v&&g.fromCache?d.reject(new J($.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&l&&l.source==="server"?d.reject(new J($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),f=new FP(tw(a.path),h,{includeMetadataChanges:!0,ka:!0});return LP(i,f)}(await YP(t),t.asyncQueue,e,n,r)),r.promise}function A9(t,e,n={}){const r=new hs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new KP({next:g=>{h.Ou(),o.enqueueAndForget(()=>VP(i,f)),g.fromCache&&l.source==="server"?d.reject(new J($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),f=new FP(a,h,{includeMetadataChanges:!0,ka:!0});return LP(i,f)}(await YP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="firestore.googleapis.com",XE=!0;class JE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JP,this.ssl=XE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:XE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cU)throw new J($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ep{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U3;switch(r.type){case"firstParty":return new W3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=YE.get(n);r&&(te("ComponentProvider","Removing Datastore"),YE.delete(n),r.terminate())}(this),Promise.resolve()}}function k9(t,e,n,r={}){var s;t=sr(t,ep);const i=gl(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(UI(`https://${l}`),$I("Firestore",!0)),o.host!==JP&&o.host!==l&&Ai("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!ws(d,a)&&(t._setSettings(d),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=ln.MOCK_USER;else{h=G4(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new J($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ln(g)}t._authCredentials=new $3(new OC(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bo(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bu(n,Tt._jsonSchema))return new Tt(e,r||null,new ae(Je.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:At("string",Tt._jsonSchemaVersion),referencePath:At("string")};class Ei extends Bo{constructor(e,n,r){super(e,n,tw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ae(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function Wn(t,e,...n){if(t=bt(t),LC("collection","path",e),t instanceof ep){const r=Je.fromString(e,...n);return dE(r),new Ei(t,null,r)}{if(!(t instanceof Tt||t instanceof Ei))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return dE(r),new Ei(t.firestore,null,r)}}function _t(t,e,...n){if(t=bt(t),arguments.length===1&&(e=Qy.newId()),LC("doc","path",e),t instanceof ep){const r=Je.fromString(e,...n);return uE(r),new Tt(t,null,new ae(r))}{if(!(t instanceof Tt||t instanceof Ei))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return uE(r),new Tt(t.firestore,t instanceof Ei?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="AsyncQueue";class e1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new RP(this,"async_queue_retry"),this.oc=()=>{const r=_m();r&&te(ZE,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=_m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=_m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new hs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!xl(e))throw e;te(ZE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Es("INTERNAL UNHANDLED ERROR: ",t1(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=mw.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&de(47125,{hc:t1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function t1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Wi extends ep{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new e1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e1(e),this._firestoreClient=void 0,await e}}}function j9(t,e){const n=typeof t=="object"?t:HI(),r=typeof t=="string"?t:Hh,s=Ly(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=H4("firestore");i&&k9(s,...i)}return s}function tp(t){if(t._terminated)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||D9(t),t._firestoreClient}function D9(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,d,h){return new o5(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,XP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new C9(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(Jt.fromBase64String(e))}catch(n){throw new J($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:At("string",Xn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wr._jsonSchemaVersion}}static fromJSON(e){if(bu(e,Wr._jsonSchema))return new Wr(e.latitude,e.longitude)}}Wr._jsonSchemaVersion="firestore/geoPoint/1.0",Wr._jsonSchema={type:At("string",Wr._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,Hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Hr(e.vectorValues);throw new J($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hr._jsonSchemaVersion="firestore/vectorValue/1.0",Hr._jsonSchema={type:At("string",Hr._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=/^__.*__$/;class M9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class ZP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ec:t})}}class np{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new np(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Zh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(eR(this.Ec)&&O9.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class L9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xf(e)}Dc(e,n,r,s=!1){return new np({Ec:e,methodName:n,bc:r,path:Kt.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nu(t){const e=t._freezeSettings(),n=Xf(t._databaseId);return new L9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _w(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);bw("Data must be an object, but it was:",o,r);const a=sR(r,o);let l,d;if(i.merge)l=new Un(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const g=dv(e,f,n);if(!o.contains(g))throw new J($.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);oR(h,g)||h.push(g)}l=new Un(h),d=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=o.fieldTransforms;return new M9(new Cn(a),l,d)}class rp extends bl{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rp}}function tR(t,e,n){return new np({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class xw extends bl{_toFieldTransform(e){return new rw(e.path,new nu)}isEqual(e){return e instanceof xw}}class Ew extends bl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=tR(this,e,!0),r=this.vc.map(i=>zo(i,n)),s=new tl(r);return new rw(e.path,s)}isEqual(e){return e instanceof Ew&&ws(this.vc,e.vc)}}class Tw extends bl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=tR(this,e,!0),r=this.vc.map(i=>zo(i,n)),s=new nl(r);return new rw(e.path,s)}isEqual(e){return e instanceof Tw&&ws(this.vc,e.vc)}}function nR(t,e,n,r){const s=t.Dc(1,e,n);bw("Data must be an object, but it was:",s,r);const i=[],o=Cn.empty();Bi(r,(l,d)=>{const h=Sw(e,l,n);d=bt(d);const f=s.gc(h);if(d instanceof rp)i.push(h);else{const g=zo(d,f);g!=null&&(i.push(h),o.set(h,g))}});const a=new Un(i);return new ZP(o,a,s.fieldTransforms)}function rR(t,e,n,r,s,i){const o=t.Dc(1,e,n),a=[dv(e,r,n)],l=[s];if(i.length%2!=0)throw new J($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)a.push(dv(e,i[g])),l.push(i[g+1]);const d=[],h=Cn.empty();for(let g=a.length-1;g>=0;--g)if(!oR(d,a[g])){const v=a[g];let b=l[g];b=bt(b);const x=o.gc(v);if(b instanceof rp)d.push(v);else{const w=zo(b,x);w!=null&&(d.push(v),h.set(v,w))}}const f=new Un(d);return new ZP(h,f,o.fieldTransforms)}function V9(t,e,n,r=!1){return zo(n,t.Dc(r?4:3,e))}function zo(t,e){if(iR(t=bt(t)))return bw("Unsupported field value:",e,t),sR(t,e);if(t instanceof bl)return function(r,s){if(!eR(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=zo(a,s.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=st.fromDate(r);return{timestampValue:Qh(s.serializer,i)}}if(r instanceof st){const i=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qh(s.serializer,i)}}if(r instanceof Wr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xn)return{bytesValue:yP(s.serializer,r._byteString)};if(r instanceof Tt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ow(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Hr)return function(o,a){return{mapValue:{fields:{[qC]:{stringValue:KC},[qh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.wc("VectorValues must only contain numeric values.");return nw(a.serializer,d)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${$f(r)}`)}(t,e)}function sR(t,e){const n={};return UC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bi(t,(r,s)=>{const i=zo(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function iR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Wr||t instanceof Xn||t instanceof Tt||t instanceof bl||t instanceof Hr)}function bw(t,e,n){if(!iR(n)||!VC(n)){const r=$f(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function dv(t,e,n){if((e=bt(e))instanceof Ru)return e._internalPath;if(typeof e=="string")return Sw(t,e);throw Zh("Field path arguments must be of type string or ",t,!1,void 0,n)}const F9=new RegExp("[~\\*/\\[\\]]");function Sw(t,e,n){if(e.search(F9)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ru(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new J($.INVALID_ARGUMENT,a+t+l)}function oR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U9 extends aR{data(){return super.data()}}function sp(t,e){return typeof e=="string"?Sw(t,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iw{}class lR extends Iw{}function ks(t,e,...n){let r=[];e instanceof Iw&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Cw).length,a=i.filter(l=>l instanceof ip).length;if(o>1||o>0&&a>0)throw new J($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class ip extends lR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ip(e,n,r)}_apply(e){const n=this._parse(e);return cR(e._query,n),new Bo(e.firestore,e.converter,ev(e._query,n))}_parse(e){const n=Nu(e.firestore);return function(i,o,a,l,d,h,f){let g;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){r1(f,h);const b=[];for(const x of f)b.push(n1(l,i,x));g={arrayValue:{values:b}}}else g=n1(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||r1(f,h),g=V9(a,o,f,h==="in"||h==="not-in");return Pt.create(d,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wr(t,e,n){const r=e,s=sp("where",t);return ip._create(s,r,n)}class Cw extends Iw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Cw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:br.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)cR(o,l),o=ev(o,l)}(e._query,n),new Bo(e.firestore,e.converter,ev(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pw extends lR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Pw(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new J($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new J($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(i,o)}(e._query,this._field,this._direction);return new Bo(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new El(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Sr(t,e="asc"){const n=e,r=sp("orderBy",t);return Pw._create(r,n)}function n1(t,e,n){if(typeof(n=bt(n))=="string"){if(n==="")throw new J($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nP(e)&&n.indexOf("/")!==-1)throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!ae.isDocumentKey(r))throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wE(t,new ae(r))}if(n instanceof Tt)return wE(t,n._key);throw new J($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$f(n)}.`)}function r1(t,e){if(!Array.isArray(t)||t.length===0)throw new J($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cR(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class B9{convertValue(e,n="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[qh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>xt(o.doubleValue));return new Hr(i)}convertGeoPoint(e){return new Wr(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=ji(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);ze(bP(r),9688,{name:e});const s=new Zc(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||Es(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ic{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wo extends aR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",wo._jsonSchema={type:At("string",wo._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class Yd extends wo{data(e={}){return super.data(e)}}class Ra{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ic(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yd(this._firestore,this._userDataWriter,r.key,r,new ic(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Yd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ic(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Yd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ic(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:z9(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function z9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t){t=sr(t,Tt);const e=sr(t.firestore,Wi);return N9(tp(e),t._key).then(n=>W9(e,t,n))}Ra._jsonSchemaVersion="firestore/querySnapshot/1.0",Ra._jsonSchema={type:At("string",Ra._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class uR extends B9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function js(t){t=sr(t,Bo);const e=sr(t.firestore,Wi),n=tp(e),r=new uR(e);return $9(t._query),A9(n,t._query).then(s=>new Ra(e,r,t,s))}function Xo(t,e,n){t=sr(t,Tt);const r=sr(t.firestore,Wi),s=Rw(t.converter,e,n);return Au(r,[_w(Nu(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,yn.none())])}function Hi(t,e,n,...r){t=sr(t,Tt);const s=sr(t.firestore,Wi),i=Nu(s);let o;return o=typeof(e=bt(e))=="string"||e instanceof Ru?rR(i,"updateDoc",t._key,e,n,r):nR(i,"updateDoc",t._key,e),Au(s,[o.toMutation(t._key,yn.exists(!0))])}function op(t){return Au(sr(t.firestore,Wi),[new Qf(t._key,yn.none())])}function Sl(t,e){const n=sr(t.firestore,Wi),r=_t(t),s=Rw(t.converter,e);return Au(n,[_w(Nu(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,yn.exists(!1))]).then(()=>r)}function Au(t,e){return function(r,s){const i=new hs;return r.asyncQueue.enqueueAndForget(async()=>y9(await R9(r),s,i)),i.promise}(tp(t),e)}function W9(t,e,n){const r=n.docs.get(e._key),s=new uR(t);return new wo(t,s,e._key,r,new ic(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Nu(e)}set(e,n,r){this._verifyNotCommitted();const s=Em(e,this._firestore),i=Rw(s.converter,n,r),o=_w(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,yn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Em(e,this._firestore);let o;return o=typeof(n=bt(n))=="string"||n instanceof Ru?rR(this._dataReader,"WriteBatch.update",i._key,n,r,s):nR(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Em(e,this._firestore);return this._mutations=this._mutations.concat(new Qf(n._key,yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new J($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Em(t,e){if((t=bt(t)).firestore!==e)throw new J($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function $e(){return new xw("serverTimestamp")}function q9(...t){return new Ew("arrayUnion",t)}function G9(...t){return new Tw("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t){return tp(t=sr(t,Wi)),new H9(t,e=>Au(t,e))}(function(e,n=!0){(function(s){wl=s})(vl),Xa(new Co("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Wi(new B3(r.getProvider("auth-internal")),new H3(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new J($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),_i(iE,oE,e),_i(iE,oE,"esm2017")})();var Q9="firebase",Y9="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(Q9,Y9,"app");const X9={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},dR=WI(X9),Ks=V3(dR),Ae=j9(dR);b6(Ks,yC).catch(t=>{console.error("Failed to set Firebase auth persistence:",t)});const hR=p.createContext(void 0),J9=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(!0),[i,o]=p.useState(!1),[a,l]=p.useState(!1),d=gu();p.useEffect(()=>{const w=C6(Ks,async _=>{n(_),_?await h(_.uid):(o(!1),l(!1)),s(!1)});return()=>w()},[]);const h=async w=>{try{const _=await s1(_t(Ae,"user_roles",w)),y=_.exists()?_.data():null,E=(y==null?void 0:y.roles)??[];o(E.includes("admin")),l(!E.includes("admin"))}catch(_){console.error("Error checking admin role:",_),o(!1),l(!1)}},f=async(w,_,y)=>{try{const C=(await E6(Ks,w,_)).user;return await Xo(_t(Ae,"profiles",C.uid),{name:(y==null?void 0:y.name)||"",email:w,phone:(y==null?void 0:y.phone)||"",department:(y==null?void 0:y.department)||"",gender:(y==null?void 0:y.gender)||"",created_at:$e(),updated_at:$e()},{merge:!0}),await Xo(_t(Ae,"user_roles",C.uid),{roles:["player"],updated_at:$e(),created_at:$e()},{merge:!0}),{error:null}}catch(E){return{error:E}}},g=async(w,_)=>{try{return await T6(Ks,w,_),d("/"),{error:null}}catch(y){return{error:y}}},v=async()=>{try{const w=new is,y=(await G6(Ks,w)).user;return(await s1(_t(Ae,"profiles",y.uid))).exists()?{error:null,user:y,isNewUser:!1}:(await Xo(_t(Ae,"profiles",y.uid),{name:y.displayName||"",email:y.email||"",created_at:$e(),updated_at:$e()},{merge:!0}),await Xo(_t(Ae,"user_roles",y.uid),{roles:["player"],updated_at:$e(),created_at:$e()},{merge:!0}),{error:null,user:y,isNewUser:!0})}catch(w){return{error:w}}},b=async w=>{try{const _=Ks.currentUser;if(!_)throw new Error("No authenticated user found");return await Xo(_t(Ae,"profiles",_.uid),{name:_.displayName||"",email:_.email||"",phone:(w==null?void 0:w.phone)||"",department:(w==null?void 0:w.department)||"",gender:(w==null?void 0:w.gender)||"",password:(w==null?void 0:w.password)||"",created_at:$e(),updated_at:$e()},{merge:!0}),await Xo(_t(Ae,"user_roles",_.uid),{roles:["player"],updated_at:$e(),created_at:$e()},{merge:!0}),{error:null}}catch(_){return{error:_}}},x=async()=>{await P6(Ks),o(!1),d("/")};return c.jsx(hR.Provider,{value:{user:e,loading:r,isAdmin:i,isPlayer:a,signUp:f,signIn:g,signInWithGoogle:v,signUpWithGoogle:b,signOut:x},children:t})},Wo=()=>{const t=p.useContext(hR);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Z9=cl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ye=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ll:"button";return c.jsx(o,{className:ne(Z9({variant:e,size:n,className:t})),ref:i,...s})});ye.displayName="Button";const e$=()=>{const{user:t,signOut:e,isAdmin:n,isPlayer:r}=Wo(),[s,i]=p.useState(!1);return c.jsxs("nav",{className:"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[c.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[c.jsxs(Ye,{to:"/",className:"flex items-center space-x-2",children:[c.jsx(nr,{className:"h-6 w-6 text-primary"}),c.jsx("span",{className:"text-xl font-bold text-foreground",children:"SportsBracket"})]}),c.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[c.jsx(Ye,{to:"/leaderboard",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Leaderboard"}),r&&c.jsx(Ye,{to:"/dashboard",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Player Dashboard"}),n&&c.jsx(Ye,{to:"/admin",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Admin"})]}),c.jsx("div",{className:"hidden md:flex items-center space-x-3",children:t?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:t.email}),c.jsxs(ye,{variant:"ghost",onClick:e,children:[c.jsx(bh,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ye,{to:"/login",children:c.jsx(ye,{variant:"ghost",children:"Login"})}),c.jsx(Ye,{to:"/register",children:c.jsx(ye,{children:"Register"})})]})}),c.jsx("button",{className:"md:hidden p-2",onClick:()=>i(!s),"aria-label":"Toggle menu",children:s?c.jsx(bf,{className:"h-6 w-6"}):c.jsx(rD,{className:"h-6 w-6"})})]}),s&&c.jsx("div",{className:"md:hidden border-t border-border bg-background",children:c.jsxs("div",{className:"container py-4 space-y-3",children:[c.jsx(Ye,{to:"/leaderboard",className:"block py-2 text-sm font-medium text-foreground hover:text-primary transition-colors",onClick:()=>i(!1),children:"Leaderboard"}),r&&c.jsx(Ye,{to:"/dashboard",className:"block py-2 text-sm font-medium text-foreground hover:text-primary transition-colors",onClick:()=>i(!1),children:"Player Dashboard"}),n&&c.jsx(Ye,{to:"/admin",className:"block py-2 text-sm font-medium text-foreground hover:text-primary transition-colors",onClick:()=>i(!1),children:"Admin"}),c.jsx("div",{className:"flex flex-col space-y-2 pt-2",children:t?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:t.email}),c.jsxs(ye,{variant:"ghost",onClick:e,className:"w-full",children:[c.jsx(bh,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ye,{to:"/login",onClick:()=>i(!1),children:c.jsx(ye,{variant:"ghost",className:"w-full",children:"Login"})}),c.jsx(Ye,{to:"/register",onClick:()=>i(!1),children:c.jsx(ye,{className:"w-full",children:"Register"})})]})})]})})]})},t$=()=>c.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-primary via-primary to-primary/80 py-20 md:py-32",children:[c.jsxs("div",{className:"container relative z-10",children:[c.jsxs("div",{className:"mx-auto max-w-4xl text-center",children:[c.jsxs("div",{className:"mb-6 inline-flex items-center rounded-full bg-white/10 px-4 py-2 backdrop-blur-sm",children:[c.jsx(nr,{className:"mr-2 h-5 w-5 text-accent"}),c.jsx("span",{className:"text-sm font-medium text-white",children:"Sports Week 2025"})]}),c.jsx("h1",{className:"mb-6 text-4xl font-bold tracking-tight text-white sm:text-6xl md:text-7xl",children:"Tournament Management Made Simple"}),c.jsx("p",{className:"mb-8 text-lg text-white/90 md:text-xl",children:"Organize, track, and manage your sports tournaments with ease. From registration to final results, we've got you covered."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(Ye,{to:"/register",children:c.jsx(ye,{size:"lg",className:"bg-accent hover:bg-accent/90 text-accent-foreground",children:"Register Now"})}),c.jsx(Ye,{to:"/games",children:c.jsx(ye,{size:"lg",variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20 backdrop-blur-sm",children:"View Games"})})]})]}),c.jsxs("div",{className:"mt-16 grid gap-6 md:grid-cols-3",children:[c.jsxs("div",{className:"rounded-xl bg-white/10 p-6 backdrop-blur-sm border border-white/20",children:[c.jsx(nr,{className:"mb-4 h-10 w-10 text-accent"}),c.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"7 Sports"}),c.jsx("p",{className:"text-sm text-white/80",children:"Cricket, Volleyball, Chess, Table Tennis, Carrom, Pool, Pickleball"})]}),c.jsxs("div",{className:"rounded-xl bg-white/10 p-6 backdrop-blur-sm border border-white/20",children:[c.jsx(pu,{className:"mb-4 h-10 w-10 text-accent"}),c.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"Team Management"}),c.jsx("p",{className:"text-sm text-white/80",children:"Create teams, pairs, and track individual players seamlessly"})]}),c.jsxs("div",{className:"rounded-xl bg-white/10 p-6 backdrop-blur-sm border border-white/20",children:[c.jsx(fu,{className:"mb-4 h-10 w-10 text-accent"}),c.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:"Live Brackets"}),c.jsx("p",{className:"text-sm text-white/80",children:"Real-time tournament brackets with instant result updates"})]})]})]}),c.jsx("div",{className:"absolute top-0 left-0 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-accent/20 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute bottom-0 right-0 translate-x-1/2 translate-y-1/2 w-96 h-96 bg-white/10 rounded-full blur-3xl"})]}),je=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));je.displayName="Card";const it=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ne("flex flex-col space-y-1.5 p-6",t),...e}));it.displayName="CardHeader";const ot=p.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:ne("text-2xl font-semibold leading-none tracking-tight",t),...e}));ot.displayName="CardTitle";const ru=p.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:ne("text-sm text-muted-foreground",t),...e}));ru.displayName="CardDescription";const De=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ne("p-6 pt-0",t),...e}));De.displayName="CardContent";const n$=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ne("flex items-center p-6 pt-0",t),...e}));n$.displayName="CardFooter";const r$=cl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Nw({className:t,variant:e,...n}){return c.jsx("div",{className:ne(r$({variant:e}),t),...n})}const s$=({name:t,type:e,playersPerTeam:n,icon:r})=>{const s=()=>{switch(e){case"SINGLE":return"1v1";case"PAIR":return"2v2";case"TEAM":return`${n}v${n}`}},i=()=>{switch(e){case"SINGLE":return"default";case"PAIR":return"secondary";case"TEAM":return"outline"}};return c.jsx(je,{className:"overflow-hidden transition-all hover:shadow-lg hover:-translate-y-1 cursor-pointer",children:c.jsxs(De,{className:"p-6",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsx("div",{className:"rounded-lg bg-primary/10 p-3 text-primary",children:r}),c.jsx(Nw,{variant:i(),className:"text-xs",children:s()})]}),c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:t}),c.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[c.jsx(pu,{className:"mr-1 h-4 w-4"}),c.jsxs("span",{children:[e==="SINGLE"?"Individual":e==="PAIR"?"Doubles":"Team"," Competition"]})]})]})})},i$=()=>{const t=[{name:"Cricket",type:"TEAM",playersPerTeam:11,icon:c.jsx(wy,{className:"h-6 w-6"})},{name:"Volleyball",type:"TEAM",playersPerTeam:6,icon:c.jsx(lD,{className:"h-6 w-6"})},{name:"Chess",type:"SINGLE",playersPerTeam:1,icon:c.jsx(Jj,{className:"h-6 w-6"})},{name:"Table Tennis",type:"PAIR",playersPerTeam:2,icon:c.jsx(ex,{className:"h-6 w-6"})},{name:"Carrom",type:"PAIR",playersPerTeam:2,icon:c.jsx(iD,{className:"h-6 w-6"})},{name:"8 Ball Pool",type:"PAIR",playersPerTeam:2,icon:c.jsx(ex,{className:"h-6 w-6"})},{name:"Pickleball",type:"PAIR",playersPerTeam:2,icon:c.jsx(cD,{className:"h-6 w-6"})}];return c.jsx("section",{className:"py-16 md:py-24 bg-muted/30",children:c.jsxs("div",{className:"container",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold tracking-tight text-foreground md:text-4xl mb-4",children:"Tournament Games"}),c.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Compete in 7 exciting sports across different formats - singles, doubles, and team events"})]}),c.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map(e=>c.jsx(s$,{...e},e.name))})]})})},o$=()=>c.jsx("section",{className:"py-16 md:py-24",children:c.jsxs("div",{className:"container",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold tracking-tight text-foreground md:text-4xl mb-4",children:"Interactive Tournament Brackets"}),c.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Visualize and track tournament progress with our clean bracket system"})]}),c.jsxs(je,{className:"overflow-hidden",children:[c.jsx(it,{className:"bg-gradient-to-r from-primary to-primary/80",children:c.jsx(ot,{className:"text-white",children:"Sample Bracket - 8 Teams"})}),c.jsx(De,{className:"p-8",children:c.jsxs("div",{className:"flex justify-center items-center gap-8",children:[c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Quarter Finals"}),[1,2,3,4].map(t=>c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-card hover:border-primary transition-colors cursor-pointer",children:c.jsxs("div",{className:"text-sm font-medium",children:["Team ",t*2-1]})}),c.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-card hover:border-primary transition-colors cursor-pointer",children:c.jsxs("div",{className:"text-sm font-medium",children:["Team ",t*2]})})]},t))]}),c.jsxs("div",{className:"space-y-16",children:[c.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Semi Finals"}),[1,2].map(t=>c.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-muted hover:border-primary transition-colors cursor-pointer min-w-[120px]",children:c.jsxs("div",{className:"text-sm font-medium text-muted-foreground",children:["Winner ",t]})},t))]}),c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Final"}),c.jsx("div",{className:"border-2 border-accent rounded-lg px-4 py-3 bg-accent/5 hover:border-accent transition-colors cursor-pointer min-w-[120px]",children:c.jsx("div",{className:"text-sm font-semibold text-accent",children:"Champion"})})]})]})})]}),c.jsx("div",{className:"mt-8 text-center",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Supports 8, 16, and 32 team brackets with automatic advancement"})})]})}),a$=()=>c.jsx("footer",{className:"border-t border-border bg-muted/30",children:c.jsxs("div",{className:"container py-12",children:[c.jsxs("div",{className:"grid gap-8 md:grid-cols-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx(nr,{className:"h-6 w-6 text-primary"}),c.jsx("span",{className:"text-xl font-bold text-foreground",children:"SportsBracket"})]}),c.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Complete tournament management system for organizing and tracking sports events. Built for Sports Week 2025."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsx("li",{children:c.jsx(Ye,{to:"/games",className:"text-muted-foreground hover:text-primary transition-colors",children:"Games"})}),c.jsx("li",{children:c.jsx(Ye,{to:"/schedule",className:"text-muted-foreground hover:text-primary transition-colors",children:"Schedule"})}),c.jsx("li",{children:c.jsx(Ye,{to:"/results",className:"text-muted-foreground hover:text-primary transition-colors",children:"Results"})}),c.jsx("li",{children:c.jsx(Ye,{to:"/leaderboard",className:"text-muted-foreground hover:text-primary transition-colors",children:"Leaderboard"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Account"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsx("li",{children:c.jsx(Ye,{to:"/login",className:"text-muted-foreground hover:text-primary transition-colors",children:"Login"})}),c.jsx("li",{children:c.jsx(Ye,{to:"/register",className:"text-muted-foreground hover:text-primary transition-colors",children:"Register"})})]})]})]}),c.jsx("div",{className:"mt-8 pt-8 border-t border-border text-center text-sm text-muted-foreground",children:" 2025 SportsBracket. Sports Week Tournament Management System."})]})}),l$=()=>c.jsxs("div",{className:"min-h-screen",children:[c.jsx(e$,{}),c.jsx(t$,{}),c.jsx(i$,{}),c.jsx(o$,{}),c.jsx(a$,{})]});var Tm="focusScope.autoFocusOnMount",bm="focusScope.autoFocusOnUnmount",i1={bubbles:!1,cancelable:!0},c$="FocusScope",Aw=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=p.useState(null),d=xr(s),h=xr(i),f=p.useRef(null),g=Xe(e,x=>l(x)),v=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let x=function(E){if(v.paused||!a)return;const C=E.target;a.contains(C)?f.current=C:Hs(f.current,{select:!0})},w=function(E){if(v.paused||!a)return;const C=E.relatedTarget;C!==null&&(a.contains(C)||Hs(f.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const O of E)O.removedNodes.length>0&&Hs(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const y=new MutationObserver(_);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),y.disconnect()}}},[r,a,v.paused]),p.useEffect(()=>{if(a){a1.add(v);const x=document.activeElement;if(!a.contains(x)){const _=new CustomEvent(Tm,i1);a.addEventListener(Tm,d),a.dispatchEvent(_),_.defaultPrevented||(u$(m$(fR(a)),{select:!0}),document.activeElement===x&&Hs(a))}return()=>{a.removeEventListener(Tm,d),setTimeout(()=>{const _=new CustomEvent(bm,i1);a.addEventListener(bm,h),a.dispatchEvent(_),_.defaultPrevented||Hs(x??document.body,{select:!0}),a.removeEventListener(bm,h),a1.remove(v)},0)}}},[a,d,h,v]);const b=p.useCallback(x=>{if(!n&&!r||v.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(w&&_){const y=x.currentTarget,[E,C]=d$(y);E&&C?!x.shiftKey&&_===C?(x.preventDefault(),n&&Hs(E,{select:!0})):x.shiftKey&&_===E&&(x.preventDefault(),n&&Hs(C,{select:!0})):_===y&&x.preventDefault()}},[n,r,v.paused]);return c.jsx(Ie.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});Aw.displayName=c$;function u$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Hs(r,{select:e}),document.activeElement!==n)return}function d$(t){const e=fR(t),n=o1(e,t),r=o1(e.reverse(),t);return[n,r]}function fR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function o1(t,e){for(const n of t)if(!h$(n,{upTo:e}))return n}function h$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function f$(t){return t instanceof HTMLInputElement&&"select"in t}function Hs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&f$(t)&&e&&t.select()}}var a1=p$();function p$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=l1(t,e),t.unshift(e)},remove(e){var n;t=l1(t,e),(n=t[0])==null||n.resume()}}}function l1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function m$(t){return t.filter(e=>e.tagName!=="A")}var Sm=0;function pR(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??c1()),document.body.insertAdjacentElement("beforeend",t[1]??c1()),Sm++,()=>{Sm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Sm--}},[])}function c1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xd="right-scroll-bar-position",Jd="width-before-scroll-bar",g$="with-scroll-bars-hidden",v$="--removed-body-scroll-bar-size";function Im(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function y$(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var w$=typeof window<"u"?p.useLayoutEffect:p.useEffect,u1=new WeakMap;function _$(t,e){var n=y$(null,function(r){return t.forEach(function(s){return Im(s,r)})});return w$(function(){var r=u1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Im(a,null)}),i.forEach(function(a){s.has(a)||Im(a,o)})}u1.set(n,t)},[t]),n}function x$(t){return t}function E$(t,e){e===void 0&&(e=x$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function T$(t){t===void 0&&(t={});var e=E$(null);return e.options=Mr({async:!0,ssr:!1},t),e}var mR=function(t){var e=t.sideCar,n=wu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Mr({},n))};mR.isSideCarExport=!0;function b$(t,e){return t.useMedium(e),mR}var gR=T$(),Cm=function(){},ap=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Cm,onWheelCapture:Cm,onTouchMoveCapture:Cm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,g=t.sideCar,v=t.noRelative,b=t.noIsolation,x=t.inert,w=t.allowPinchZoom,_=t.as,y=_===void 0?"div":_,E=t.gapMode,C=wu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=g,k=_$([n,e]),I=Mr(Mr({},C),s);return p.createElement(p.Fragment,null,h&&p.createElement(O,{sideCar:gR,removeScrollBar:d,shards:f,noRelative:v,noIsolation:b,inert:x,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:E}),o?p.cloneElement(p.Children.only(a),Mr(Mr({},I),{ref:k})):p.createElement(y,Mr({},I,{className:l,ref:k}),a))});ap.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ap.classNames={fullWidth:Jd,zeroRight:Xd};var S$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=S$();return e&&t.setAttribute("nonce",e),t}function C$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function P$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var R$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=I$())&&(C$(e,n),P$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},N$=function(){var t=R$();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},vR=function(){var t=N$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},A$={left:0,top:0,right:0,gap:0},Pm=function(t){return parseInt(t||"",10)||0},k$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Pm(n),Pm(r),Pm(s)]},j$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return A$;var e=k$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},D$=vR(),Na="data-scroll-locked",O$=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(g$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Na,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Jd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Xd," .").concat(Xd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Jd," .").concat(Jd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Na,`] {
    `).concat(v$,": ").concat(a,`px;
  }
`)},d1=function(){var t=parseInt(document.body.getAttribute(Na)||"0",10);return isFinite(t)?t:0},M$=function(){p.useEffect(function(){return document.body.setAttribute(Na,(d1()+1).toString()),function(){var t=d1()-1;t<=0?document.body.removeAttribute(Na):document.body.setAttribute(Na,t.toString())}},[])},L$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;M$();var i=p.useMemo(function(){return j$(s)},[s]);return p.createElement(D$,{styles:O$(i,!e,s,n?"":"!important")})},hv=!1;if(typeof window<"u")try{var Ed=Object.defineProperty({},"passive",{get:function(){return hv=!0,!0}});window.addEventListener("test",Ed,Ed),window.removeEventListener("test",Ed,Ed)}catch{hv=!1}var Jo=hv?{passive:!1}:!1,V$=function(t){return t.tagName==="TEXTAREA"},yR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!V$(t)&&n[e]==="visible")},F$=function(t){return yR(t,"overflowY")},U$=function(t){return yR(t,"overflowX")},h1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=wR(t,r);if(s){var i=_R(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},B$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},wR=function(t,e){return t==="v"?F$(e):U$(e)},_R=function(t,e){return t==="v"?$$(e):B$(e)},z$=function(t,e){return t==="h"&&e==="rtl"?-1:1},W$=function(t,e,n,r,s){var i=z$(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),d=!1,h=o>0,f=0,g=0;do{if(!a)break;var v=_R(t,a),b=v[0],x=v[1],w=v[2],_=x-w-i*b;(b||_)&&wR(t,a)&&(f+=_,g+=b);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(g)<1||!s))&&(d=!0),d},Td=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},f1=function(t){return[t.deltaX,t.deltaY]},p1=function(t){return t&&"current"in t?t.current:t},H$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},q$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},G$=0,Zo=[];function K$(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(G$++)[0],i=p.useState(vR)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=_F([t.lockRef.current],(t.shards||[]).map(p1),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var _=Td(x),y=n.current,E="deltaX"in x?x.deltaX:y[0]-_[0],C="deltaY"in x?x.deltaY:y[1]-_[1],O,k=x.target,I=Math.abs(E)>Math.abs(C)?"h":"v";if("touches"in x&&I==="h"&&k.type==="range")return!1;var S=h1(I,k);if(!S)return!0;if(S?O=I:(O=I==="v"?"h":"v",S=h1(I,k)),!S)return!1;if(!r.current&&"changedTouches"in x&&(E||C)&&(r.current=O),!O)return!0;var P=r.current||O;return W$(P,w,x,P==="h"?E:C,!0)},[]),l=p.useCallback(function(x){var w=x;if(!(!Zo.length||Zo[Zo.length-1]!==i)){var _="deltaY"in w?f1(w):Td(w),y=e.current.filter(function(O){return O.name===w.type&&(O.target===w.target||w.target===O.shadowParent)&&H$(O.delta,_)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var E=(o.current.shards||[]).map(p1).filter(Boolean).filter(function(O){return O.contains(w.target)}),C=E.length>0?a(w,E[0]):!o.current.noIsolation;C&&w.cancelable&&w.preventDefault()}}},[]),d=p.useCallback(function(x,w,_,y){var E={name:x,delta:w,target:_,should:y,shadowParent:Q$(_)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(C){return C!==E})},1)},[]),h=p.useCallback(function(x){n.current=Td(x),r.current=void 0},[]),f=p.useCallback(function(x){d(x.type,f1(x),x.target,a(x,t.lockRef.current))},[]),g=p.useCallback(function(x){d(x.type,Td(x),x.target,a(x,t.lockRef.current))},[]);p.useEffect(function(){return Zo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Jo),document.addEventListener("touchmove",l,Jo),document.addEventListener("touchstart",h,Jo),function(){Zo=Zo.filter(function(x){return x!==i}),document.removeEventListener("wheel",l,Jo),document.removeEventListener("touchmove",l,Jo),document.removeEventListener("touchstart",h,Jo)}},[]);var v=t.removeScrollBar,b=t.inert;return p.createElement(p.Fragment,null,b?p.createElement(i,{styles:q$(s)}):null,v?p.createElement(L$,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Q$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Y$=b$(gR,K$);var kw=p.forwardRef(function(t,e){return p.createElement(ap,Mr({},t,{ref:e,sideCar:Y$}))});kw.classNames=ap.classNames;var X$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ea=new WeakMap,bd=new WeakMap,Sd={},Rm=0,xR=function(t){return t&&(t.host||xR(t.parentNode))},J$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=xR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Z$=function(t,e,n,r){var s=J$(e,Array.isArray(t)?t:[t]);Sd[n]||(Sd[n]=new WeakMap);var i=Sd[n],o=[],a=new Set,l=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(g){if(a.has(g))h(g);else try{var v=g.getAttribute(r),b=v!==null&&v!=="false",x=(ea.get(g)||0)+1,w=(i.get(g)||0)+1;ea.set(g,x),i.set(g,w),o.push(g),x===1&&b&&bd.set(g,!0),w===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",g,_)}})};return h(e),a.clear(),Rm++,function(){o.forEach(function(f){var g=ea.get(f)-1,v=i.get(f)-1;ea.set(f,g),i.set(f,v),g||(bd.has(f)||f.removeAttribute(r),bd.delete(f)),v||f.removeAttribute(n)}),Rm--,Rm||(ea=new WeakMap,ea=new WeakMap,bd=new WeakMap,Sd={})}},ER=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=X$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Z$(r,s,n,"aria-hidden")):function(){return null}},lp="Dialog",[TR,$8]=Vo(lp),[eB,Ir]=TR(lp),bR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=p.useRef(null),l=p.useRef(null),[d,h]=Ga({prop:r,defaultProp:s??!1,onChange:i,caller:lp});return c.jsx(eB,{scope:e,triggerRef:a,contentRef:l,contentId:yo(),titleId:yo(),descriptionId:yo(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};bR.displayName=lp;var SR="DialogTrigger",IR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ir(SR,n),i=Xe(e,s.triggerRef);return c.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ow(s.open),...r,ref:i,onClick:we(t.onClick,s.onOpenToggle)})});IR.displayName=SR;var jw="DialogPortal",[tB,CR]=TR(jw,{forceMount:void 0}),PR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Ir(jw,e);return c.jsx(tB,{scope:e,forceMount:n,children:p.Children.map(r,o=>c.jsx(Fo,{present:n||i.open,children:c.jsx(_f,{asChild:!0,container:s,children:o})}))})};PR.displayName=jw;var ef="DialogOverlay",RR=p.forwardRef((t,e)=>{const n=CR(ef,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ir(ef,t.__scopeDialog);return i.modal?c.jsx(Fo,{present:r||i.open,children:c.jsx(rB,{...s,ref:e})}):null});RR.displayName=ef;var nB=qa("DialogOverlay.RemoveScroll"),rB=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ir(ef,n);return c.jsx(kw,{as:nB,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(Ie.div,{"data-state":Ow(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ko="DialogContent",NR=p.forwardRef((t,e)=>{const n=CR(ko,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ir(ko,t.__scopeDialog);return c.jsx(Fo,{present:r||i.open,children:i.modal?c.jsx(sB,{...s,ref:e}):c.jsx(iB,{...s,ref:e})})});NR.displayName=ko;var sB=p.forwardRef((t,e)=>{const n=Ir(ko,t.__scopeDialog),r=p.useRef(null),s=Xe(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return ER(i)},[]),c.jsx(AR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:we(t.onFocusOutside,i=>i.preventDefault())})}),iB=p.forwardRef((t,e)=>{const n=Ir(ko,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return c.jsx(AR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,d;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),AR=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Ir(ko,n),l=p.useRef(null),d=Xe(e,l);return pR(),c.jsxs(c.Fragment,{children:[c.jsx(Aw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(du,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Ow(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(oB,{titleId:a.titleId}),c.jsx(lB,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Dw="DialogTitle",kR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ir(Dw,n);return c.jsx(Ie.h2,{id:s.titleId,...r,ref:e})});kR.displayName=Dw;var jR="DialogDescription",DR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ir(jR,n);return c.jsx(Ie.p,{id:s.descriptionId,...r,ref:e})});DR.displayName=jR;var OR="DialogClose",MR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ir(OR,n);return c.jsx(Ie.button,{type:"button",...r,ref:e,onClick:we(t.onClick,()=>s.onOpenChange(!1))})});MR.displayName=OR;function Ow(t){return t?"open":"closed"}var LR="DialogTitleWarning",[B8,VR]=Z2(LR,{contentName:ko,titleName:Dw,docsSlug:"dialog"}),oB=({titleId:t})=>{const e=VR(LR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},aB="DialogDescriptionWarning",lB=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VR(aB).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},FR=bR,cB=IR,UR=PR,cp=RR,up=NR,dp=kR,hp=DR,$R=MR;const _o=FR,Mw=cB,uB=UR,BR=p.forwardRef(({className:t,...e},n)=>c.jsx(cp,{ref:n,className:ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));BR.displayName=cp.displayName;const Ti=p.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(uB,{children:[c.jsx(BR,{}),c.jsxs(up,{ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs($R,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(bf,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ti.displayName=up.displayName;const bi=({className:t,...e})=>c.jsx("div",{className:ne("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});bi.displayName="DialogHeader";const Si=p.forwardRef(({className:t,...e},n)=>c.jsx(dp,{ref:n,className:ne("text-lg font-semibold leading-none tracking-tight",t),...e}));Si.displayName=dp.displayName;const fv=p.forwardRef(({className:t,...e},n)=>c.jsx(hp,{ref:n,className:ne("text-sm text-muted-foreground",t),...e}));fv.displayName=hp.displayName;const kt=p.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));kt.displayName="Input";var dB=Object.defineProperty,hB=Object.defineProperties,fB=Object.getOwnPropertyDescriptors,tf=Object.getOwnPropertySymbols,zR=Object.prototype.hasOwnProperty,WR=Object.prototype.propertyIsEnumerable,m1=(t,e,n)=>e in t?dB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pB=(t,e)=>{for(var n in e||(e={}))zR.call(e,n)&&m1(t,n,e[n]);if(tf)for(var n of tf(e))WR.call(e,n)&&m1(t,n,e[n]);return t},mB=(t,e)=>hB(t,fB(e)),gB=(t,e)=>{var n={};for(var r in t)zR.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&tf)for(var r of tf(t))e.indexOf(r)<0&&WR.call(t,r)&&(n[r]=t[r]);return n};function vB(t){let e=setTimeout(t,0),n=setTimeout(t,10),r=setTimeout(t,50);return[e,n,r]}function yB(t){let e=p.useRef();return p.useEffect(()=>{e.current=t}),e.current}var wB=18,HR=40,_B=`${HR}px`,xB=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function EB({containerRef:t,inputRef:e,pushPasswordManagerStrategy:n,isFocused:r}){let[s,i]=p.useState(!1),[o,a]=p.useState(!1),[l,d]=p.useState(!1),h=p.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&s&&o,[s,o,n]),f=p.useCallback(()=>{let g=t.current,v=e.current;if(!g||!v||l||n==="none")return;let b=g,x=b.getBoundingClientRect().left+b.offsetWidth,w=b.getBoundingClientRect().top+b.offsetHeight/2,_=x-wB,y=w;document.querySelectorAll(xB).length===0&&document.elementFromPoint(_,y)===g||(i(!0),d(!0))},[t,e,l,n]);return p.useEffect(()=>{let g=t.current;if(!g||n==="none")return;function v(){let x=window.innerWidth-g.getBoundingClientRect().right;a(x>=HR)}v();let b=setInterval(v,1e3);return()=>{clearInterval(b)}},[t,n]),p.useEffect(()=>{let g=r||document.activeElement===e.current;if(n==="none"||!g)return;let v=setTimeout(f,0),b=setTimeout(f,2e3),x=setTimeout(f,5e3),w=setTimeout(()=>{d(!0)},6e3);return()=>{clearTimeout(v),clearTimeout(b),clearTimeout(x),clearTimeout(w)}},[e,r,n,f]),{hasPWMBadge:s,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:_B}}var qR=p.createContext({}),GR=p.forwardRef((t,e)=>{var n=t,{value:r,onChange:s,maxLength:i,textAlign:o="left",pattern:a,placeholder:l,inputMode:d="numeric",onComplete:h,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:g,containerClassName:v,noScriptCSSFallback:b=TB,render:x,children:w}=n,_=gB(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),y,E,C,O,k;let[I,S]=p.useState(typeof _.defaultValue=="string"?_.defaultValue:""),P=r??I,N=yB(P),j=p.useCallback(se=>{s==null||s(se),S(se)},[s]),D=p.useMemo(()=>a?typeof a=="string"?new RegExp(a):a:null,[a]),A=p.useRef(null),W=p.useRef(null),ie=p.useRef({value:P,onChange:j,isIOS:typeof window<"u"&&((E=(y=window==null?void 0:window.CSS)==null?void 0:y.supports)==null?void 0:E.call(y,"-webkit-touch-callout","none"))}),G=p.useRef({prev:[(C=A.current)==null?void 0:C.selectionStart,(O=A.current)==null?void 0:O.selectionEnd,(k=A.current)==null?void 0:k.selectionDirection]});p.useImperativeHandle(e,()=>A.current,[]),p.useEffect(()=>{let se=A.current,M=W.current;if(!se||!M)return;ie.current.value!==se.value&&ie.current.onChange(se.value),G.current.prev=[se.selectionStart,se.selectionEnd,se.selectionDirection];function ce(){if(document.activeElement!==se){Z(null),le(null);return}let Oe=se.selectionStart,St=se.selectionEnd,kn=se.selectionDirection,Zt=se.maxLength,jt=se.value,fn=G.current.prev,jn=-1,Se=-1,Be;if(jt.length!==0&&Oe!==null&&St!==null){let Cl=Oe===St,Cr=Oe===jt.length&&jt.length<Zt;if(Cl&&!Cr){let xn=Oe;if(xn===0)jn=0,Se=1,Be="forward";else if(xn===Zt)jn=xn-1,Se=xn,Be="backward";else if(Zt>1&&jt.length>1){let Dn=0;if(fn[0]!==null&&fn[1]!==null){Be=xn<fn[1]?"backward":"forward";let Os=fn[0]===fn[1]&&fn[0]<Zt;Be==="backward"&&!Os&&(Dn=-1)}jn=Dn+xn,Se=Dn+xn+1}}jn!==-1&&Se!==-1&&jn!==Se&&A.current.setSelectionRange(jn,Se,Be)}let Qr=jn!==-1?jn:Oe,Ki=Se!==-1?Se:St,Yr=Be??kn;Z(Qr),le(Ki),G.current.prev=[Qr,Ki,Yr]}if(document.addEventListener("selectionchange",ce,{capture:!0}),ce(),document.activeElement===se&&Q(!0),!document.getElementById("input-otp-style")){let Oe=document.createElement("style");if(Oe.id="input-otp-style",document.head.appendChild(Oe),Oe.sheet){let St="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Ql(Oe.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Ql(Oe.sheet,`[data-input-otp]:autofill { ${St} }`),Ql(Oe.sheet,`[data-input-otp]:-webkit-autofill { ${St} }`),Ql(Oe.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Ql(Oe.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let me=()=>{M&&M.style.setProperty("--root-height",`${se.clientHeight}px`)};me();let ct=new ResizeObserver(me);return ct.observe(se),()=>{document.removeEventListener("selectionchange",ce,{capture:!0}),ct.disconnect()}},[]);let[X,V]=p.useState(!1),[U,Q]=p.useState(!1),[oe,Z]=p.useState(null),[ee,le]=p.useState(null);p.useEffect(()=>{vB(()=>{var se,M,ce,me;(se=A.current)==null||se.dispatchEvent(new Event("input"));let ct=(M=A.current)==null?void 0:M.selectionStart,Oe=(ce=A.current)==null?void 0:ce.selectionEnd,St=(me=A.current)==null?void 0:me.selectionDirection;ct!==null&&Oe!==null&&(Z(ct),le(Oe),G.current.prev=[ct,Oe,St])})},[P,U]),p.useEffect(()=>{N!==void 0&&P!==N&&N.length<i&&P.length===i&&(h==null||h(P))},[i,h,N,P]);let Te=EB({containerRef:W,inputRef:A,pushPasswordManagerStrategy:f,isFocused:U}),We=p.useCallback(se=>{let M=se.currentTarget.value.slice(0,i);if(M.length>0&&D&&!D.test(M)){se.preventDefault();return}typeof N=="string"&&M.length<N.length&&document.dispatchEvent(new Event("selectionchange")),j(M)},[i,j,N,D]),K=p.useCallback(()=>{var se;if(A.current){let M=Math.min(A.current.value.length,i-1),ce=A.current.value.length;(se=A.current)==null||se.setSelectionRange(M,ce),Z(M),le(ce)}Q(!0)},[i]),Pe=p.useCallback(se=>{var M,ce;let me=A.current;if(!g&&(!ie.current.isIOS||!se.clipboardData||!me))return;let ct=se.clipboardData.getData("text/plain"),Oe=g?g(ct):ct;se.preventDefault();let St=(M=A.current)==null?void 0:M.selectionStart,kn=(ce=A.current)==null?void 0:ce.selectionEnd,Zt=(St!==kn?P.slice(0,St)+Oe+P.slice(kn):P.slice(0,St)+Oe+P.slice(St)).slice(0,i);if(Zt.length>0&&D&&!D.test(Zt))return;me.value=Zt,j(Zt);let jt=Math.min(Zt.length,i-1),fn=Zt.length;me.setSelectionRange(jt,fn),Z(jt),le(fn)},[i,j,D,P]),qe=p.useMemo(()=>({position:"relative",cursor:_.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[_.disabled]),xe=p.useMemo(()=>({position:"absolute",inset:0,width:Te.willPushPWMBadge?`calc(100% + ${Te.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:Te.willPushPWMBadge?`inset(0 ${Te.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[Te.PWM_BADGE_SPACE_WIDTH,Te.willPushPWMBadge,o]),pe=p.useMemo(()=>p.createElement("input",mB(pB({autoComplete:_.autoComplete||"one-time-code"},_),{"data-input-otp":!0,"data-input-otp-placeholder-shown":P.length===0||void 0,"data-input-otp-mss":oe,"data-input-otp-mse":ee,inputMode:d,pattern:D==null?void 0:D.source,"aria-placeholder":l,style:xe,maxLength:i,value:P,ref:A,onPaste:se=>{var M;Pe(se),(M=_.onPaste)==null||M.call(_,se)},onChange:We,onMouseOver:se=>{var M;V(!0),(M=_.onMouseOver)==null||M.call(_,se)},onMouseLeave:se=>{var M;V(!1),(M=_.onMouseLeave)==null||M.call(_,se)},onFocus:se=>{var M;K(),(M=_.onFocus)==null||M.call(_,se)},onBlur:se=>{var M;Q(!1),(M=_.onBlur)==null||M.call(_,se)}})),[We,K,Pe,d,xe,i,ee,oe,_,D==null?void 0:D.source,P]),_e=p.useMemo(()=>({slots:Array.from({length:i}).map((se,M)=>{var ce;let me=U&&oe!==null&&ee!==null&&(oe===ee&&M===oe||M>=oe&&M<ee),ct=P[M]!==void 0?P[M]:null,Oe=P[0]!==void 0?null:(ce=l==null?void 0:l[M])!=null?ce:null;return{char:ct,placeholderChar:Oe,isActive:me,hasFakeCaret:me&&ct===null}}),isFocused:U,isHovering:!_.disabled&&X}),[U,X,i,ee,oe,_.disabled,P]),lt=p.useMemo(()=>x?x(_e):p.createElement(qR.Provider,{value:_e},w),[w,_e,x]);return p.createElement(p.Fragment,null,b!==null&&p.createElement("noscript",null,p.createElement("style",null,b)),p.createElement("div",{ref:W,"data-input-otp-container":!0,style:qe,className:v},lt,p.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},pe)))});GR.displayName="Input";function Ql(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var TB=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const KR=p.forwardRef(({className:t,containerClassName:e,...n},r)=>c.jsx(GR,{ref:r,containerClassName:ne("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:ne("disabled:cursor-not-allowed",t),...n}));KR.displayName="InputOTP";const QR=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ne("flex items-center",t),...e}));QR.displayName="InputOTPGroup";const ro=p.forwardRef(({index:t,className:e,...n},r)=>{const s=p.useContext(qR),{char:i,hasFakeCaret:o,isActive:a}=s.slots[t];return c.jsxs("div",{ref:r,className:ne("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",a&&"z-10 ring-2 ring-ring ring-offset-background",e),...n,children:[i,o&&c.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});ro.displayName="InputOTPSlot";const bB=p.forwardRef(({...t},e)=>c.jsx("div",{ref:e,role:"separator",...t,children:c.jsx(Xj,{})}));bB.displayName="InputOTPSeparator";var SB="Label",YR=p.forwardRef((t,e)=>c.jsx(Ie.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));YR.displayName=SB;var XR=YR;const IB=cl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),rt=p.forwardRef(({className:t,...e},n)=>c.jsx(XR,{ref:n,className:ne(IB(),t),...e}));rt.displayName=XR.displayName;const CB=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(!1),[o,a]=p.useState(!1),[l,d]=p.useState(!1),[h,f]=p.useState(""),[g,v]=p.useState(""),[b,x]=p.useState(!1),[w,_]=p.useState(!1),{signIn:y,signInWithGoogle:E,user:C}=Wo(),{toast:O}=Ss(),k=gu();p.useEffect(()=>{C&&k("/")},[C,k]);const I=async j=>{j.preventDefault(),i(!0);try{const{error:D}=await y(t,n);D&&O({title:"Login failed",description:D.message,variant:"destructive"})}catch(D){O({title:"Error",description:D.message,variant:"destructive"})}finally{i(!1)}},S=async()=>{i(!0);try{const{error:j}=await E();j&&O({title:"Google sign-in failed",description:j.message,variant:"destructive"})}catch(j){O({title:"Error",description:j.message,variant:"destructive"})}finally{i(!1)}},P=async()=>{if(!h){O({title:"Email required",description:"Please enter your email address",variant:"destructive"});return}x(!0);try{await x6(Ks,h),O({title:"Password reset email sent",description:"Check your email for password reset instructions"}),a(!1)}catch(j){O({title:"Error",description:j.message,variant:"destructive"})}finally{x(!1)}},N=async()=>{if(g.length!==6){O({title:"Invalid OTP",description:"Please enter a valid 6-digit OTP",variant:"destructive"});return}_(!0);try{O({title:"OTP verified",description:"Password reset functionality implemented"}),d(!1),v("")}catch(j){O({title:"Error",description:j.message,variant:"destructive"})}finally{_(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsxs(Ye,{to:"/",className:"inline-flex items-center space-x-2 mb-4",children:[c.jsx(nr,{className:"h-8 w-8 text-primary"}),c.jsx("span",{className:"text-2xl font-bold text-foreground",children:"SportsBracket"})]})}),c.jsxs(je,{children:[c.jsxs(it,{children:[c.jsx(ot,{children:"Welcome Back"}),c.jsx(ru,{children:"Login to manage your tournament participation"})]}),c.jsx(De,{children:c.jsxs("form",{className:"space-y-4",onSubmit:I,children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"email",children:"Email"}),c.jsx(kt,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:j=>e(j.target.value),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"password",children:"Password"}),c.jsx(kt,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:j=>r(j.target.value),required:!0})]}),c.jsx(ye,{className:"w-full",type:"submit",disabled:s,children:s?"Logging in...":"Login"}),c.jsx(ye,{className:"w-full",variant:"outline",onClick:S,disabled:s,children:"Continue with Google"}),c.jsxs("div",{className:"text-center text-sm space-y-2",children:[c.jsx("button",{type:"button",onClick:()=>a(!0),className:"text-primary hover:underline",children:"Forgot password?"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),c.jsx(Ye,{to:"/register",className:"text-primary hover:underline",children:"Register here"})]})]})]})})]}),c.jsx(_o,{open:o,onOpenChange:a,children:c.jsxs(Ti,{children:[c.jsxs(bi,{children:[c.jsx(Si,{children:"Reset Password"}),c.jsx(fv,{children:"Enter your email address and we'll send you a password reset link."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"forgot-email",children:"Email"}),c.jsx(kt,{id:"forgot-email",type:"email",placeholder:"Enter your email",value:h,onChange:j=>f(j.target.value)})]}),c.jsx(ye,{className:"w-full",onClick:P,disabled:b,children:b?"Sending...":"Send Reset Email"})]})]})}),c.jsx(_o,{open:l,onOpenChange:d,children:c.jsxs(Ti,{children:[c.jsxs(bi,{children:[c.jsx(Si,{children:"Enter OTP"}),c.jsx(fv,{children:"Enter the 6-digit code sent to your email."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx(KR,{value:g,onChange:v,maxLength:6,children:c.jsxs(QR,{children:[c.jsx(ro,{index:0}),c.jsx(ro,{index:1}),c.jsx(ro,{index:2}),c.jsx(ro,{index:3}),c.jsx(ro,{index:4}),c.jsx(ro,{index:5})]})})}),c.jsx(ye,{className:"w-full",onClick:N,disabled:w,children:w?"Verifying...":"Verify OTP"})]})]})})]})})};function g1(t,[e,n]){return Math.min(n,Math.max(e,t))}var PB=p.createContext(void 0);function RB(t){const e=p.useContext(PB);return t||e||"ltr"}function JR(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var NB=[" ","Enter","ArrowUp","ArrowDown"],AB=[" ","Enter"],jo="Select",[fp,pp,kB]=qb(jo),[Il,z8]=Vo(jo,[kB,Pf]),mp=Pf(),[jB,qi]=Il(jo),[DB,OB]=Il(jo),ZR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:d,name:h,autoComplete:f,disabled:g,required:v,form:b}=t,x=mp(e),[w,_]=p.useState(null),[y,E]=p.useState(null),[C,O]=p.useState(!1),k=RB(d),[I,S]=Ga({prop:r,defaultProp:s??!1,onChange:i,caller:jo}),[P,N]=Ga({prop:o,defaultProp:a,onChange:l,caller:jo}),j=p.useRef(null),D=w?b||!!w.closest("form"):!0,[A,W]=p.useState(new Set),ie=Array.from(A).map(G=>G.props.value).join(";");return c.jsx(nI,{...x,children:c.jsxs(jB,{required:v,scope:e,trigger:w,onTriggerChange:_,valueNode:y,onValueNodeChange:E,valueNodeHasChildren:C,onValueNodeHasChildrenChange:O,contentId:yo(),value:P,onValueChange:N,open:I,onOpenChange:S,dir:k,triggerPointerDownPosRef:j,disabled:g,children:[c.jsx(fp.Provider,{scope:e,children:c.jsx(DB,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(G=>{W(X=>new Set(X).add(G))},[]),onNativeOptionRemove:p.useCallback(G=>{W(X=>{const V=new Set(X);return V.delete(G),V})},[]),children:n})}),D?c.jsxs(TN,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:P,onChange:G=>N(G.target.value),disabled:g,form:b,children:[P===void 0?c.jsx("option",{value:""}):null,Array.from(A)]},ie):null]})})};ZR.displayName=jo;var eN="SelectTrigger",tN=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=mp(n),o=qi(eN,n),a=o.disabled||r,l=Xe(e,o.onTriggerChange),d=pp(n),h=p.useRef("touch"),[f,g,v]=SN(x=>{const w=d().filter(E=>!E.disabled),_=w.find(E=>E.value===o.value),y=IN(w,x,_);y!==void 0&&o.onValueChange(y.value)}),b=x=>{a||(o.onOpenChange(!0),v()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return c.jsx(rI,{asChild:!0,...i,children:c.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":bN(o.value)?"":void 0,...s,ref:l,onClick:we(s.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&b(x)}),onPointerDown:we(s.onPointerDown,x=>{h.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:we(s.onKeyDown,x=>{const w=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&g(x.key),!(w&&x.key===" ")&&NB.includes(x.key)&&(b(),x.preventDefault())})})})});tN.displayName=eN;var nN="SelectValue",rN=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=qi(nN,n),{onValueNodeHasChildrenChange:d}=l,h=i!==void 0,f=Xe(e,l.onValueNodeChange);return Xt(()=>{d(h)},[d,h]),c.jsx(Ie.span,{...a,ref:f,style:{pointerEvents:"none"},children:bN(l.value)?c.jsx(c.Fragment,{children:o}):i})});rN.displayName=nN;var MB="SelectIcon",sN=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(Ie.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});sN.displayName=MB;var LB="SelectPortal",iN=t=>c.jsx(_f,{asChild:!0,...t});iN.displayName=LB;var Do="SelectContent",oN=p.forwardRef((t,e)=>{const n=qi(Do,t.__scopeSelect),[r,s]=p.useState();if(Xt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Lo.createPortal(c.jsx(aN,{scope:t.__scopeSelect,children:c.jsx(fp.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(lN,{...t,ref:e})});oN.displayName=Do;var lr=10,[aN,Gi]=Il(Do),VB="SelectContentImpl",FB=qa("SelectContent.RemoveScroll"),lN=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:v,sticky:b,hideWhenDetached:x,avoidCollisions:w,..._}=t,y=qi(Do,n),[E,C]=p.useState(null),[O,k]=p.useState(null),I=Xe(e,K=>C(K)),[S,P]=p.useState(null),[N,j]=p.useState(null),D=pp(n),[A,W]=p.useState(!1),ie=p.useRef(!1);p.useEffect(()=>{if(E)return ER(E)},[E]),pR();const G=p.useCallback(K=>{const[Pe,...qe]=D().map(_e=>_e.ref.current),[xe]=qe.slice(-1),pe=document.activeElement;for(const _e of K)if(_e===pe||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===Pe&&O&&(O.scrollTop=0),_e===xe&&O&&(O.scrollTop=O.scrollHeight),_e==null||_e.focus(),document.activeElement!==pe))return},[D,O]),X=p.useCallback(()=>G([S,E]),[G,S,E]);p.useEffect(()=>{A&&X()},[A,X]);const{onOpenChange:V,triggerPointerDownPosRef:U}=y;p.useEffect(()=>{if(E){let K={x:0,y:0};const Pe=xe=>{var pe,_e;K={x:Math.abs(Math.round(xe.pageX)-(((pe=U.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((_e=U.current)==null?void 0:_e.y)??0))}},qe=xe=>{K.x<=10&&K.y<=10?xe.preventDefault():E.contains(xe.target)||V(!1),document.removeEventListener("pointermove",Pe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",qe,{capture:!0})}}},[E,V,U]),p.useEffect(()=>{const K=()=>V(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[V]);const[Q,oe]=SN(K=>{const Pe=D().filter(pe=>!pe.disabled),qe=Pe.find(pe=>pe.ref.current===document.activeElement),xe=IN(Pe,K,qe);xe&&setTimeout(()=>xe.ref.current.focus())}),Z=p.useCallback((K,Pe,qe)=>{const xe=!ie.current&&!qe;(y.value!==void 0&&y.value===Pe||xe)&&(P(K),xe&&(ie.current=!0))},[y.value]),ee=p.useCallback(()=>E==null?void 0:E.focus(),[E]),le=p.useCallback((K,Pe,qe)=>{const xe=!ie.current&&!qe;(y.value!==void 0&&y.value===Pe||xe)&&j(K)},[y.value]),Te=r==="popper"?pv:cN,We=Te===pv?{side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:v,sticky:b,hideWhenDetached:x,avoidCollisions:w}:{};return c.jsx(aN,{scope:n,content:E,viewport:O,onViewportChange:k,itemRefCallback:Z,selectedItem:S,onItemLeave:ee,itemTextRefCallback:le,focusSelectedItem:X,selectedItemText:N,position:r,isPositioned:A,searchRef:Q,children:c.jsx(kw,{as:FB,allowPinchZoom:!0,children:c.jsx(Aw,{asChild:!0,trapped:y.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:we(s,K=>{var Pe;(Pe=y.trigger)==null||Pe.focus({preventScroll:!0}),K.preventDefault()}),children:c.jsx(du,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:c.jsx(Te,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:K=>K.preventDefault(),..._,...We,onPlaced:()=>W(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:we(_.onKeyDown,K=>{const Pe=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!Pe&&K.key.length===1&&oe(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let xe=D().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(K.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const pe=K.target,_e=xe.indexOf(pe);xe=xe.slice(_e+1)}setTimeout(()=>G(xe)),K.preventDefault()}})})})})})})});lN.displayName=VB;var UB="SelectItemAlignedPosition",cN=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=qi(Do,n),o=Gi(Do,n),[a,l]=p.useState(null),[d,h]=p.useState(null),f=Xe(e,I=>h(I)),g=pp(n),v=p.useRef(!1),b=p.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:_,focusSelectedItem:y}=o,E=p.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&x&&w&&_){const I=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),N=_.getBoundingClientRect();if(i.dir!=="rtl"){const pe=N.left-S.left,_e=P.left-pe,lt=I.left-_e,se=I.width+lt,M=Math.max(se,S.width),ce=window.innerWidth-lr,me=g1(_e,[lr,Math.max(lr,ce-M)]);a.style.minWidth=se+"px",a.style.left=me+"px"}else{const pe=S.right-N.right,_e=window.innerWidth-P.right-pe,lt=window.innerWidth-I.right-_e,se=I.width+lt,M=Math.max(se,S.width),ce=window.innerWidth-lr,me=g1(_e,[lr,Math.max(lr,ce-M)]);a.style.minWidth=se+"px",a.style.right=me+"px"}const j=g(),D=window.innerHeight-lr*2,A=x.scrollHeight,W=window.getComputedStyle(d),ie=parseInt(W.borderTopWidth,10),G=parseInt(W.paddingTop,10),X=parseInt(W.borderBottomWidth,10),V=parseInt(W.paddingBottom,10),U=ie+G+A+V+X,Q=Math.min(w.offsetHeight*5,U),oe=window.getComputedStyle(x),Z=parseInt(oe.paddingTop,10),ee=parseInt(oe.paddingBottom,10),le=I.top+I.height/2-lr,Te=D-le,We=w.offsetHeight/2,K=w.offsetTop+We,Pe=ie+G+K,qe=U-Pe;if(Pe<=le){const pe=j.length>0&&w===j[j.length-1].ref.current;a.style.bottom="0px";const _e=d.clientHeight-x.offsetTop-x.offsetHeight,lt=Math.max(Te,We+(pe?ee:0)+_e+X),se=Pe+lt;a.style.height=se+"px"}else{const pe=j.length>0&&w===j[0].ref.current;a.style.top="0px";const lt=Math.max(le,ie+x.offsetTop+(pe?Z:0)+We)+qe;a.style.height=lt+"px",x.scrollTop=Pe-le+x.offsetTop}a.style.margin=`${lr}px 0`,a.style.minHeight=Q+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[g,i.trigger,i.valueNode,a,d,x,w,_,i.dir,r]);Xt(()=>E(),[E]);const[C,O]=p.useState();Xt(()=>{d&&O(window.getComputedStyle(d).zIndex)},[d]);const k=p.useCallback(I=>{I&&b.current===!0&&(E(),y==null||y(),b.current=!1)},[E,y]);return c.jsx(BB,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:k,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:c.jsx(Ie.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});cN.displayName=UB;var $B="SelectPopperPosition",pv=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=lr,...i}=t,o=mp(n);return c.jsx(sI,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});pv.displayName=$B;var[BB,Lw]=Il(Do,{}),mv="SelectViewport",uN=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Gi(mv,n),o=Lw(mv,n),a=Xe(e,i.onViewportChange),l=p.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(fp.Slot,{scope:n,children:c.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:we(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const v=Math.abs(l.current-h.scrollTop);if(v>0){const b=window.innerHeight-lr*2,x=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),_=Math.max(x,w);if(_<b){const y=_+v,E=Math.min(b,y),C=y-E;f.style.height=E+"px",f.style.bottom==="0px"&&(h.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});uN.displayName=mv;var dN="SelectGroup",[zB,WB]=Il(dN),HB=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=yo();return c.jsx(zB,{scope:n,id:s,children:c.jsx(Ie.div,{role:"group","aria-labelledby":s,...r,ref:e})})});HB.displayName=dN;var hN="SelectLabel",fN=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=WB(hN,n);return c.jsx(Ie.div,{id:s.id,...r,ref:e})});fN.displayName=hN;var nf="SelectItem",[qB,pN]=Il(nf),mN=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=qi(nf,n),l=Gi(nf,n),d=a.value===r,[h,f]=p.useState(i??""),[g,v]=p.useState(!1),b=Xe(e,y=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,y,r,s)}),x=yo(),w=p.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(qB,{scope:n,value:r,disabled:s,textId:x,isSelected:d,onItemTextChange:p.useCallback(y=>{f(E=>E||((y==null?void 0:y.textContent)??"").trim())},[]),children:c.jsx(fp.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:c.jsx(Ie.div,{role:"option","aria-labelledby":x,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:we(o.onFocus,()=>v(!0)),onBlur:we(o.onBlur,()=>v(!1)),onClick:we(o.onClick,()=>{w.current!=="mouse"&&_()}),onPointerUp:we(o.onPointerUp,()=>{w.current==="mouse"&&_()}),onPointerDown:we(o.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:we(o.onPointerMove,y=>{var E;w.current=y.pointerType,s?(E=l.onItemLeave)==null||E.call(l):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(o.onPointerLeave,y=>{var E;y.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:we(o.onKeyDown,y=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&y.key===" "||(AB.includes(y.key)&&_(),y.key===" "&&y.preventDefault())})})})})});mN.displayName=nf;var oc="SelectItemText",gN=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=qi(oc,n),a=Gi(oc,n),l=pN(oc,n),d=OB(oc,n),[h,f]=p.useState(null),g=Xe(e,_=>f(_),l.onItemTextChange,_=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,_,l.value,l.disabled)}),v=h==null?void 0:h.textContent,b=p.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=d;return Xt(()=>(x(b),()=>w(b)),[x,w,b]),c.jsxs(c.Fragment,{children:[c.jsx(Ie.span,{id:l.textId,...i,ref:g}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Lo.createPortal(i.children,o.valueNode):null]})});gN.displayName=oc;var vN="SelectItemIndicator",yN=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return pN(vN,n).isSelected?c.jsx(Ie.span,{"aria-hidden":!0,...r,ref:e}):null});yN.displayName=vN;var gv="SelectScrollUpButton",wN=p.forwardRef((t,e)=>{const n=Gi(gv,t.__scopeSelect),r=Lw(gv,t.__scopeSelect),[s,i]=p.useState(!1),o=Xe(e,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollTop>0;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(xN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});wN.displayName=gv;var vv="SelectScrollDownButton",_N=p.forwardRef((t,e)=>{const n=Gi(vv,t.__scopeSelect),r=Lw(vv,t.__scopeSelect),[s,i]=p.useState(!1),o=Xe(e,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<d;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(xN,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});_N.displayName=vv;var xN=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Gi("SelectScrollButton",n),o=p.useRef(null),a=pp(n),l=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>l(),[l]),Xt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),c.jsx(Ie.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:we(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:we(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:we(s.onPointerLeave,()=>{l()})})}),GB="SelectSeparator",EN=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(Ie.div,{"aria-hidden":!0,...r,ref:e})});EN.displayName=GB;var yv="SelectArrow",KB=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=mp(n),i=qi(yv,n),o=Gi(yv,n);return i.open&&o.position==="popper"?c.jsx(iI,{...s,...r,ref:e}):null});KB.displayName=yv;var QB="SelectBubbleInput",TN=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=p.useRef(null),i=Xe(r,s),o=JR(e);return p.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),c.jsx(Ie.select,{...n,style:{...Xb,...n.style},ref:i,defaultValue:e})});TN.displayName=QB;function bN(t){return t===""||t===void 0}function SN(t){const e=xr(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const a=n.current+o;e(a),function l(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function IN(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=YB(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const l=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function YB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var XB=ZR,CN=tN,JB=rN,ZB=sN,ez=iN,PN=oN,tz=uN,RN=fN,NN=mN,nz=gN,rz=yN,AN=wN,kN=_N,jN=EN;const Ot=XB,Mt=JB,Rt=p.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(CN,{ref:r,className:ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(ZB,{asChild:!0,children:c.jsx(xS,{className:"h-4 w-4 opacity-50"})})]}));Rt.displayName=CN.displayName;const DN=p.forwardRef(({className:t,...e},n)=>c.jsx(AN,{ref:n,className:ne("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(Gj,{className:"h-4 w-4"})}));DN.displayName=AN.displayName;const ON=p.forwardRef(({className:t,...e},n)=>c.jsx(kN,{ref:n,className:ne("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(xS,{className:"h-4 w-4"})}));ON.displayName=kN.displayName;const Nt=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx(ez,{children:c.jsxs(PN,{ref:s,className:ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(DN,{}),c.jsx(tz,{className:ne("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(ON,{})]})}));Nt.displayName=PN.displayName;const sz=p.forwardRef(({className:t,...e},n)=>c.jsx(RN,{ref:n,className:ne("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));sz.displayName=RN.displayName;const Ge=p.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(NN,{ref:r,className:ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(rz,{children:c.jsx(_S,{className:"h-4 w-4"})})}),c.jsx(nz,{children:e})]}));Ge.displayName=NN.displayName;const iz=p.forwardRef(({className:t,...e},n)=>c.jsx(jN,{ref:n,className:ne("-mx-1 my-1 h-px bg-muted",t),...e}));iz.displayName=jN.displayName;const oz=()=>{const[t,e]=p.useState({name:"",email:"",phone:"",department:"",gender:"",password:""}),[n,r]=p.useState(!1),[s,i]=p.useState(1),[o,a]=p.useState(null),{signUp:l,signInWithGoogle:d,signUpWithGoogle:h,user:f}=Wo(),{toast:g}=Ss(),v=gu();p.useEffect(()=>{f&&s===1&&v("/")},[f,v,s]);const b=async()=>{r(!0);try{const{error:w,user:_,isNewUser:y}=await d();w?g({title:"Google sign-in failed",description:w.message,variant:"destructive"}):_&&y?(a(_),i(2)):_&&!y&&v("/")}catch(w){g({title:"Error",description:w.message,variant:"destructive"})}finally{r(!1)}},x=async w=>{w.preventDefault(),r(!0);try{const{error:_}=await h({password:t.password,department:t.department,gender:t.gender});_?g({title:"Registration failed",description:_.message,variant:"destructive"}):(g({title:"Registration successful!",description:"You can now login with your credentials"}),v("/"))}catch(_){g({title:"Error",description:_.message,variant:"destructive"})}finally{r(!1)}};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4 py-12",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("div",{className:"text-center mb-8",children:c.jsxs(Ye,{to:"/",className:"inline-flex items-center space-x-2 mb-4",children:[c.jsx(nr,{className:"h-8 w-8 text-primary"}),c.jsx("span",{className:"text-2xl font-bold text-foreground",children:"SportsBracket"})]})}),c.jsxs(je,{children:[c.jsxs(it,{children:[c.jsx(ot,{children:"Create Account"}),c.jsx(ru,{children:"Register to participate in Sports Week 2025"})]}),c.jsx(De,{children:s===1?c.jsxs("div",{className:"space-y-4",children:[c.jsx(ye,{className:"w-full",onClick:b,disabled:n,variant:"outline",children:n?"Signing in...":"Continue with Google"}),c.jsxs("div",{className:"text-center text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),c.jsx(Ye,{to:"/login",className:"text-primary hover:underline",children:"Login here"})]})]}):c.jsxs("form",{className:"space-y-4",onSubmit:x,children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{children:"Full Name"}),c.jsx(kt,{value:(o==null?void 0:o.displayName)||"",disabled:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{children:"Email"}),c.jsx(kt,{value:(o==null?void 0:o.email)||"",disabled:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"department",children:"Department / Class"}),c.jsx(kt,{id:"department",placeholder:"Enter your department or class",value:t.department,onChange:w=>e({...t,department:w.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"gender",children:"Gender"}),c.jsxs(Ot,{value:t.gender,onValueChange:w=>e({...t,gender:w}),children:[c.jsx(Rt,{id:"gender",children:c.jsx(Mt,{placeholder:"Select gender"})}),c.jsxs(Nt,{children:[c.jsx(Ge,{value:"male",children:"Male"}),c.jsx(Ge,{value:"female",children:"Female"}),c.jsx(Ge,{value:"other",children:"Other"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"password",children:"Password"}),c.jsx(kt,{id:"password",type:"password",placeholder:"Create a password",value:t.password,onChange:w=>e({...t,password:w.target.value}),required:!0})]}),c.jsx(ye,{className:"w-full",type:"submit",disabled:n,children:n?"Completing registration...":"Complete Registration"}),c.jsx("div",{className:"text-center",children:c.jsx(ye,{variant:"ghost",onClick:()=>i(1),className:"text-sm",children:"Back to Google sign-in"})})]})})]})]})})},az=Wn(Ae,"tournaments"),Ds=async()=>{const t=ks(az,Sr("created_at","desc"));return(await js(t)).docs.map(n=>({id:n.id,...n.data()}))},lz=Wn(Ae,"leaderboard"),MN=async t=>{const e=ks(lz,wr("tournament_id","==",t),Sr("points","desc"));return(await js(e)).docs.map(r=>({id:r.id,...r.data()}))},cz=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(""),[s,i]=p.useState([]),[o,a]=p.useState(!1);p.useEffect(()=>{Ds().then(h=>{e(h),h.length>0&&r(h[0].id)})},[]),p.useEffect(()=>{if(!n){i([]);return}a(!0),MN(n).then(i).finally(()=>a(!1))},[n]);const l=s.slice(0,3),d=s.slice(3);return c.jsx("div",{className:"min-h-screen bg-muted/30 py-12",children:c.jsxs("div",{className:"container space-y-8",children:[c.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm uppercase text-muted-foreground tracking-wide",children:"Standings"}),c.jsx("h1",{className:"text-3xl font-bold",children:"Leaderboard"}),c.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl",children:"Track the top performers across all sports and divisions. Standings update automatically after each verified match result."})]}),c.jsxs("div",{className:"w-full md:w-64",children:[c.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Tournament"}),c.jsxs(Ot,{value:n,onValueChange:r,children:[c.jsx(Rt,{children:c.jsx(Mt,{placeholder:"Select tournament"})}),c.jsx(Nt,{children:t.map(h=>c.jsx(Ge,{value:h.id,children:h.name},h.id))})]})]})]}),c.jsxs(je,{children:[c.jsxs(it,{className:"flex items-center justify-between",children:[c.jsx(ot,{children:"Top Performers"}),o&&c.jsx(ul,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),c.jsx(De,{children:l.length===0?c.jsx("p",{className:"text-sm text-muted-foreground",children:"No leaderboard data yet."}):c.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:l.map((h,f)=>c.jsxs("div",{className:"rounded-xl border bg-gradient-to-br from-background to-muted/50 p-5 flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-muted-foreground uppercase tracking-wide",children:h.entity_type.toLowerCase()}),c.jsx(nD,{className:`h-5 w-5 ${f===0?"text-yellow-500":"text-muted-foreground"}`})]}),c.jsx("h3",{className:"text-2xl font-bold mt-3",children:h.name}),c.jsxs("div",{className:"mt-auto pt-6 flex items-center justify-between text-sm font-medium",children:[c.jsxs("span",{children:[h.points," pts"]}),c.jsxs("span",{children:[h.wins,"-",h.losses]})]})]},h.id))})})]}),d.length>0&&c.jsxs(je,{children:[c.jsx(it,{children:c.jsx(ot,{children:"Full Standings"})}),c.jsx(De,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-left text-muted-foreground border-b",children:[c.jsx("th",{className:"py-2 pr-4",children:"Rank"}),c.jsx("th",{className:"py-2 pr-4",children:"Name"}),c.jsx("th",{className:"py-2 pr-4",children:"Type"}),c.jsx("th",{className:"py-2 pr-4",children:"Points"}),c.jsx("th",{className:"py-2 pr-4",children:"Wins"}),c.jsx("th",{className:"py-2 pr-4",children:"Losses"})]})}),c.jsx("tbody",{children:d.map((h,f)=>c.jsxs("tr",{className:"border-b last:border-0",children:[c.jsx("td",{className:"py-2 pr-4",children:h.rank??f+4}),c.jsx("td",{className:"py-2 pr-4 font-medium",children:h.name}),c.jsx("td",{className:"py-2 pr-4 capitalize",children:h.entity_type.toLowerCase()}),c.jsx("td",{className:"py-2 pr-4",children:h.points}),c.jsx("td",{className:"py-2 pr-4",children:h.wins}),c.jsx("td",{className:"py-2 pr-4",children:h.losses})]},h.id))})]})})})]})]})})},uz=Wn(Ae,"games"),Ho=async t=>{const e=[Sr("created_at","desc")];t&&e.unshift(wr("tournament_id","==",t));const n=ks(uz,...e);return(await js(n)).docs.map(s=>({id:s.id,...s.data()}))},dz=Wn(Ae,"matches"),hz=Wn(Ae,"match_results"),Tc=async t=>{const e=[wr("tournament_id","==",t.tournamentId),Sr("round_index","asc"),Sr("match_order","asc")];t.gameId&&e.splice(1,0,wr("game_id","==",t.gameId));const n=ks(dz,...e);return(await js(n)).docs.map(s=>({id:s.id,...s.data()}))},Zd=async(t,e)=>{await Hi(_t(Ae,"matches",t),{...e,updated_at:$e()})},fz=async(t,e)=>{const n=await Sl(hz,{...e,match_id:t,created_at:$e(),updated_at:$e()});return await Zd(t,{status:"COMPLETED"}),n.id},LN=Wn(Ae,"participants"),Vw=async t=>{const e=[wr("tournament_id","==",t.tournamentId),Sr("seed","asc"),Sr("created_at","asc")];t.gameId&&e.splice(1,0,wr("game_id","==",t.gameId));const n=ks(LN,...e);return(await js(n)).docs.map(s=>({id:s.id,...s.data()}))},pz=async t=>(await Sl(LN,{...t,created_at:$e(),updated_at:$e()})).id,mz=async(t,e)=>{await Hi(_t(Ae,"participants",t),{...e,updated_at:$e()})},gz=async t=>{await op(_t(Ae,"participants",t))},vz=t=>t?new Date(t).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"}):"TBD",yz=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState([]),[o,a]=p.useState([]),[l,d]=p.useState([]),[h,f]=p.useState([]),[g,v]=p.useState(!1);p.useEffect(()=>{Ds().then(w=>{i(w),w.length>0&&e(w[0].id)})},[]),p.useEffect(()=>{if(!t){a([]),d([]);return}(async()=>{v(!0);const[_,y,E]=await Promise.all([Ho(t),Tc({tournamentId:t,gameId:n||void 0}),Vw({tournamentId:t,gameId:n||void 0})]);a(_),d(y),f(E),v(!1)})()},[t,n]);const b=p.useMemo(()=>h.reduce((w,_)=>(w[_.id]=_,w),{}),[h]),x=l.filter(w=>w.status!=="COMPLETED");return c.jsx("div",{className:"min-h-screen bg-muted/30 py-12",children:c.jsxs("div",{className:"container space-y-8",children:[c.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm uppercase text-muted-foreground tracking-wide",children:"Live Schedule"}),c.jsx("h1",{className:"text-3xl font-bold",children:"Matches & Fixtures"}),c.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl",children:"Stay on top of every match happening this week. Filter by tournament or sport to find exact fixtures, venues, and kickoff times."})]}),c.jsxs("div",{className:"w-full md:w-[28rem] flex flex-col gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Tournament"}),c.jsxs(Ot,{value:t,onValueChange:e,children:[c.jsx(Rt,{children:c.jsx(Mt,{placeholder:"Select tournament"})}),c.jsx(Nt,{children:s.map(w=>c.jsx(Ge,{value:w.id,children:w.name},w.id))})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Game"}),c.jsxs(Ot,{value:n,onValueChange:r,disabled:!t,children:[c.jsx(Rt,{children:c.jsx(Mt,{placeholder:"All games"})}),c.jsxs(Nt,{children:[c.jsx(Ge,{value:"",children:"All games"}),o.map(w=>c.jsx(Ge,{value:w.id,children:w.name},w.id))]})]})]})]})]}),c.jsxs(je,{children:[c.jsxs(it,{className:"flex items-center justify-between",children:[c.jsx(ot,{children:"Upcoming & Live Matches"}),g&&c.jsx(ul,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),c.jsx(De,{children:t?x.length===0?c.jsx("p",{className:"text-sm text-muted-foreground",children:"No scheduled matches yet. Check back later once brackets are published."}):c.jsx("div",{className:"grid gap-4",children:x.map(w=>{var C;const _=w.participant_a_id?b[w.participant_a_id]:void 0,y=w.participant_b_id?b[w.participant_b_id]:void 0,E=((C=o.find(O=>O.id===w.game_id))==null?void 0:C.name)??"Tournament Game";return c.jsxs("div",{className:"rounded-xl border bg-background p-5",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:E}),c.jsx("h3",{className:"text-lg font-semibold",children:w.round_name})]}),c.jsx(Nw,{variant:w.status==="SCHEDULED"?"secondary":"default",children:w.status==="SCHEDULED"?"Scheduled":w.status.toLowerCase()})]}),c.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Participant A"}),c.jsx("p",{className:"text-lg font-medium",children:(_==null?void 0:_.user_id)||(_==null?void 0:_.team_id)||"TBD"})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Participant B"}),c.jsx("p",{className:"text-lg font-medium",children:(y==null?void 0:y.user_id)||(y==null?void 0:y.team_id)||"TBD"})]})]}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-muted-foreground",children:[c.jsxs("span",{className:"inline-flex items-center gap-2",children:[c.jsx(Yj,{className:"h-4 w-4"}),vz(w.match_time)]}),c.jsxs("span",{className:"inline-flex items-center gap-2",children:[c.jsx(tD,{className:"h-4 w-4"}),w.venue||"Venue TBD"]})]})]},w.id)})}):c.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a tournament to view fixtures."})})]})]})})},Nm=768;function wz(){const[t,e]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Nm-1}px)`),r=()=>{e(window.innerWidth<Nm)};return n.addEventListener("change",r),e(window.innerWidth<Nm),()=>n.removeEventListener("change",r)},[]),!!t}var _z="Separator",v1="horizontal",xz=["horizontal","vertical"],VN=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=v1,...s}=t,i=Ez(r)?r:v1,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c.jsx(Ie.div,{"data-orientation":i,...a,...s,ref:e})});VN.displayName=_z;function Ez(t){return xz.includes(t)}var FN=VN;const UN=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>c.jsx(FN,{ref:s,decorative:n,orientation:e,className:ne("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));UN.displayName=FN.displayName;const Tz=FR,bz=UR,$N=p.forwardRef(({className:t,...e},n)=>c.jsx(cp,{className:ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));$N.displayName=cp.displayName;const Sz=cl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),BN=p.forwardRef(({side:t="right",className:e,children:n,...r},s)=>c.jsxs(bz,{children:[c.jsx($N,{}),c.jsxs(up,{ref:s,className:ne(Sz({side:t}),e),...r,children:[n,c.jsxs($R,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(bf,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));BN.displayName=up.displayName;const Iz=p.forwardRef(({className:t,...e},n)=>c.jsx(dp,{ref:n,className:ne("text-lg font-semibold text-foreground",t),...e}));Iz.displayName=dp.displayName;const Cz=p.forwardRef(({className:t,...e},n)=>c.jsx(hp,{ref:n,className:ne("text-sm text-muted-foreground",t),...e}));Cz.displayName=hp.displayName;function y1({className:t,...e}){return c.jsx("div",{className:ne("animate-pulse rounded-md bg-muted",t),...e})}const Pz="sidebar:state",Rz=60*60*24*7,Nz="16rem",Az="18rem",kz="3rem",jz="b",zN=p.createContext(null);function ku(){const t=p.useContext(zN);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const Fw=p.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:s,children:i,...o},a)=>{const l=wz(),[d,h]=p.useState(!1),[f,g]=p.useState(t),v=e??f,b=p.useCallback(y=>{const E=typeof y=="function"?y(v):y;n?n(E):g(E),document.cookie=`${Pz}=${E}; path=/; max-age=${Rz}`},[n,v]),x=p.useCallback(()=>l?h(y=>!y):b(y=>!y),[l,b,h]);p.useEffect(()=>{const y=E=>{E.key===jz&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),x())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[x]);const w=v?"expanded":"collapsed",_=p.useMemo(()=>({state:w,open:v,setOpen:b,isMobile:l,openMobile:d,setOpenMobile:h,toggleSidebar:x}),[w,v,b,l,d,h,x]);return c.jsx(zN.Provider,{value:_,children:c.jsx(pI,{delayDuration:0,children:c.jsx("div",{style:{"--sidebar-width":Nz,"--sidebar-width-icon":kz,...s},className:ne("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:a,...o,children:i})})})});Fw.displayName="SidebarProvider";const Uw=p.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:s,...i},o)=>{const{isMobile:a,state:l,openMobile:d,setOpenMobile:h}=ku();return n==="none"?c.jsx("div",{className:ne("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:s}):a?c.jsx(Tz,{open:d,onOpenChange:h,...i,children:c.jsx(BN,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Az},side:t,children:c.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):c.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":e,"data-side":t,children:[c.jsx("div",{className:ne("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),c.jsx("div",{className:ne("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:c.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});Uw.displayName="Sidebar";const $w=p.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:s}=ku();return c.jsxs(ye,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ne("h-7 w-7",t),onClick:i=>{e==null||e(i),s()},...n,children:[c.jsx(sD,{}),c.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});$w.displayName="SidebarTrigger";const Dz=p.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=ku();return c.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:ne("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});Dz.displayName="SidebarRail";const Oz=p.forwardRef(({className:t,...e},n)=>c.jsx("main",{ref:n,className:ne("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));Oz.displayName="SidebarInset";const Mz=p.forwardRef(({className:t,...e},n)=>c.jsx(kt,{ref:n,"data-sidebar":"input",className:ne("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));Mz.displayName="SidebarInput";const Lz=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"header",className:ne("flex flex-col gap-2 p-2",t),...e}));Lz.displayName="SidebarHeader";const Vz=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"footer",className:ne("flex flex-col gap-2 p-2",t),...e}));Vz.displayName="SidebarFooter";const Fz=p.forwardRef(({className:t,...e},n)=>c.jsx(UN,{ref:n,"data-sidebar":"separator",className:ne("mx-2 w-auto bg-sidebar-border",t),...e}));Fz.displayName="SidebarSeparator";const Bw=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"content",className:ne("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));Bw.displayName="SidebarContent";const zw=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"group",className:ne("relative flex w-full min-w-0 flex-col p-2",t),...e}));zw.displayName="SidebarGroup";const Ww=p.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?ll:"div";return c.jsx(s,{ref:r,"data-sidebar":"group-label",className:ne("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});Ww.displayName="SidebarGroupLabel";const Uz=p.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?ll:"button";return c.jsx(s,{ref:r,"data-sidebar":"group-action",className:ne("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});Uz.displayName="SidebarGroupAction";const Hw=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"group-content",className:ne("w-full text-sm",t),...e}));Hw.displayName="SidebarGroupContent";const qw=p.forwardRef(({className:t,...e},n)=>c.jsx("ul",{ref:n,"data-sidebar":"menu",className:ne("flex w-full min-w-0 flex-col gap-1",t),...e}));qw.displayName="SidebarMenu";const Gw=p.forwardRef(({className:t,...e},n)=>c.jsx("li",{ref:n,"data-sidebar":"menu-item",className:ne("group/menu-item relative",t),...e}));Gw.displayName="SidebarMenuItem";const $z=cl("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Kw=p.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:s,className:i,...o},a)=>{const l=t?ll:"button",{isMobile:d,state:h}=ku(),f=c.jsx(l,{ref:a,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:ne($z({variant:n,size:r}),i),...o});return s?(typeof s=="string"&&(s={children:s}),c.jsxs(cL,{children:[c.jsx(uL,{asChild:!0,children:f}),c.jsx(mI,{side:"right",align:"center",hidden:h!=="collapsed"||d,...s})]})):f});Kw.displayName="SidebarMenuButton";const Bz=p.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},s)=>{const i=e?ll:"button";return c.jsx(i,{ref:s,"data-sidebar":"menu-action",className:ne("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});Bz.displayName="SidebarMenuAction";const zz=p.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:ne("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));zz.displayName="SidebarMenuBadge";const Wz=p.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const s=p.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return c.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:ne("flex h-8 items-center gap-2 rounded-md px-2",t),...n,children:[e&&c.jsx(y1,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),c.jsx(y1,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});Wz.displayName="SidebarMenuSkeleton";const Hz=p.forwardRef(({className:t,...e},n)=>c.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:ne("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));Hz.displayName="SidebarMenuSub";const qz=p.forwardRef(({...t},e)=>c.jsx("li",{ref:e,...t}));qz.displayName="SidebarMenuSubItem";const Gz=p.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...s},i)=>{const o=t?ll:"a";return c.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:ne("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});Gz.displayName="SidebarMenuSubButton";const WN=p.forwardRef(({className:t,activeClassName:e,pendingClassName:n,to:r,...s},i)=>c.jsx(j4,{ref:i,to:r,className:({isActive:o,isPending:a})=>ne(t,o&&e,a&&n),...s}));WN.displayName="NavLink";const Kz=[{title:"Overview",url:"/admin",icon:eD},{title:"Registrations",url:"/admin/registrations",icon:Qj},{title:"Participants",url:"/admin/participants",icon:pu},{title:"Tournaments",url:"/admin/tournaments",icon:nr},{title:"Games",url:"/admin/games",icon:ES},{title:"Teams",url:"/admin/teams",icon:oD},{title:"Matches",url:"/admin/matches",icon:fu},{title:"Leaderboard",url:"/admin/leaderboard",icon:qj},{title:"Users",url:"/admin/users",icon:aD}];function Qz(){const{open:t}=ku();return Cs(),c.jsx(Uw,{className:t?"w-60":"w-14",collapsible:"icon",children:c.jsx(Bw,{children:c.jsxs(zw,{children:[c.jsx(Ww,{children:"Admin Panel"}),c.jsx(Hw,{children:c.jsx(qw,{children:Kz.map(e=>c.jsx(Gw,{children:c.jsx(Kw,{asChild:!0,children:c.jsxs(WN,{to:e.url,className:"hover:bg-muted/50",activeClassName:"bg-muted text-primary font-medium",children:[c.jsx(e.icon,{className:"h-4 w-4"}),t&&c.jsx("span",{children:e.title})]})})},e.title))})})]})})})}function Yz(){const{signOut:t,user:e}=Wo();return c.jsxs("header",{className:"h-16 border-b bg-card flex items-center justify-between px-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx($w,{}),c.jsxs(Ye,{to:"/admin",className:"flex items-center gap-2",children:[c.jsx(nr,{className:"h-6 w-6 text-primary"}),c.jsx("span",{className:"text-lg font-bold",children:"Admin Dashboard"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.displayName}),c.jsxs(ye,{variant:"outline",size:"sm",onClick:t,children:[c.jsx(bh,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}const Xz=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState(""),[o,a]=p.useState(!0),[l,d]=p.useState(!1),[h,f]=p.useState(null),[g,v]=p.useState({name:"",game_type:"SINGLE",players_per_team:1,is_active:!0,tournament_id:""}),{toast:b}=Ss();p.useEffect(()=>{x()},[]),p.useEffect(()=>{s?w():e([])},[s]);const x=async()=>{try{const k=await Ds();r(k),k.length>0&&!s&&i(k[0].id)}catch(k){b({title:"Error",description:k.message,variant:"destructive"})}},w=async()=>{if(s)try{a(!0);const k=await Ho(s);e(k)}catch(k){b({title:"Error",description:k.message,variant:"destructive"})}finally{a(!1)}},_=async k=>{if(k.preventDefault(),!g.tournament_id){b({title:"Error",description:"Please select a tournament",variant:"destructive"});return}try{h?(await Hi(_t(Ae,"games",h),{...g,updated_at:$e()}),b({title:"Game updated successfully"})):(await Sl(Wn(Ae,"games"),{...g,created_at:$e(),updated_at:$e()}),b({title:"Game created successfully"})),d(!1),C(),w()}catch(I){b({title:"Error",description:I.message,variant:"destructive"})}},y=k=>{f(k.id),v({name:k.name,game_type:k.game_type,players_per_team:k.players_per_team,is_active:k.is_active,tournament_id:k.tournament_id||s}),d(!0)},E=async k=>{if(confirm("Are you sure you want to delete this game?"))try{await op(_t(Ae,"games",k)),b({title:"Game deleted successfully"}),w()}catch(I){b({title:"Error",description:I.message,variant:"destructive"})}},C=()=>{v({name:"",game_type:"SINGLE",players_per_team:1,is_active:!0,tournament_id:s}),f(null)},O=k=>{const I=n.find(S=>S.id===k);return(I==null?void 0:I.name)||"Unknown Tournament"};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Games"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Configure sports and game settings"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-full md:w-64",children:[c.jsx(rt,{htmlFor:"tournament-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Tournament"}),c.jsxs(Ot,{value:s,onValueChange:i,children:[c.jsx(Rt,{id:"tournament-select",children:c.jsx(Mt,{placeholder:"Select tournament"})}),c.jsx(Nt,{children:n.map(k=>c.jsx(Ge,{value:k.id,children:k.name},k.id))})]})]}),c.jsxs(_o,{open:l,onOpenChange:k=>{d(k),k&&!h&&v(I=>({...I,tournament_id:s})),k||C()},children:[c.jsx(Mw,{asChild:!0,children:c.jsxs(ye,{disabled:!s,children:[c.jsx(Sh,{className:"h-4 w-4 mr-2"}),"Add Game"]})}),c.jsxs(Ti,{children:[c.jsx(bi,{children:c.jsxs(Si,{children:[h?"Edit":"Create"," Game"]})}),c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"tournament_id",children:"Tournament"}),c.jsxs(Ot,{value:g.tournament_id,onValueChange:k=>v({...g,tournament_id:k}),disabled:!!h,children:[c.jsx(Rt,{id:"tournament_id",children:c.jsx(Mt,{placeholder:"Select tournament"})}),c.jsx(Nt,{children:n.map(k=>c.jsx(Ge,{value:k.id,children:k.name},k.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"name",children:"Game Name"}),c.jsx(kt,{id:"name",value:g.name,onChange:k=>v({...g,name:k.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"game_type",children:"Game Type"}),c.jsxs(Ot,{value:g.game_type,onValueChange:k=>v({...g,game_type:k}),children:[c.jsx(Rt,{children:c.jsx(Mt,{})}),c.jsxs(Nt,{children:[c.jsx(Ge,{value:"SINGLE",children:"Single (1v1)"}),c.jsx(Ge,{value:"PAIR",children:"Pair (2v2)"}),c.jsx(Ge,{value:"TEAM",children:"Team"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"players_per_team",children:"Players Per Team"}),c.jsx(kt,{id:"players_per_team",type:"number",min:"1",value:g.players_per_team,onChange:k=>v({...g,players_per_team:parseInt(k.target.value)}),required:!0})]}),c.jsxs(ye,{type:"submit",className:"w-full",children:[h?"Update":"Create"," Game"]})]})]})]})]})]}),s?o?c.jsx(je,{children:c.jsx(De,{className:"py-8 text-center text-muted-foreground",children:"Loading games..."})}):t.length===0?c.jsx(je,{children:c.jsx(De,{className:"py-8 text-center text-muted-foreground",children:'No games found for this tournament. Click "Add Game" to create one.'})}):c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(k=>c.jsxs(je,{children:[c.jsx(it,{children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(ot,{children:k.name}),k.tournament_id&&c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:O(k.tournament_id)})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ye,{variant:"outline",size:"sm",onClick:()=>y(k),children:c.jsx(yy,{className:"h-4 w-4"})}),c.jsx(ye,{variant:"outline",size:"sm",onClick:()=>E(k.id),children:c.jsx(Tf,{className:"h-4 w-4"})})]})]})}),c.jsxs(De,{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Type:"}),c.jsx("span",{className:"font-medium",children:k.game_type})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Players:"}),c.jsx("span",{className:"font-medium",children:k.players_per_team})]}),c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${k.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.is_active?"Active":"Inactive"})]})]},k.id))}):c.jsx(je,{children:c.jsx(De,{className:"py-8 text-center text-muted-foreground",children:"Please select a tournament to view or create games."})})]})};var gp="Checkbox",[Jz,W8]=Vo(gp),[Zz,Qw]=Jz(gp);function e8(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:l,required:d,value:h="on",internal_do_not_use_render:f}=t,[g,v]=Ga({prop:n,defaultProp:s??!1,onChange:l,caller:gp}),[b,x]=p.useState(null),[w,_]=p.useState(null),y=p.useRef(!1),E=b?!!o||!!b.closest("form"):!0,C={checked:g,disabled:i,setChecked:v,control:b,setControl:x,name:a,form:o,value:h,hasConsumerStoppedPropagationRef:y,required:d,defaultChecked:Ii(s)?!1:s,isFormControl:E,bubbleInput:w,setBubbleInput:_};return c.jsx(Zz,{scope:e,...C,children:t8(f)?f(C):r})}var HN="CheckboxTrigger",qN=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:l,required:d,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:v,bubbleInput:b}=Qw(HN,t),x=Xe(s,h),w=p.useRef(l);return p.useEffect(()=>{const _=i==null?void 0:i.form;if(_){const y=()=>f(w.current);return _.addEventListener("reset",y),()=>_.removeEventListener("reset",y)}},[i,f]),c.jsx(Ie.button,{type:"button",role:"checkbox","aria-checked":Ii(l)?"mixed":l,"aria-required":d,"data-state":XN(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:x,onKeyDown:we(e,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:we(n,_=>{f(y=>Ii(y)?!0:!y),b&&v&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})})});qN.displayName=HN;var Yw=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l,onCheckedChange:d,form:h,...f}=t;return c.jsx(e8,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:d,name:r,form:h,value:l,internal_do_not_use_render:({isFormControl:g})=>c.jsxs(c.Fragment,{children:[c.jsx(qN,{...f,ref:e,__scopeCheckbox:n}),g&&c.jsx(YN,{__scopeCheckbox:n})]})})});Yw.displayName=gp;var GN="CheckboxIndicator",KN=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=Qw(GN,n);return c.jsx(Fo,{present:r||Ii(i.checked)||i.checked===!0,children:c.jsx(Ie.span,{"data-state":XN(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});KN.displayName=GN;var QN="CheckboxBubbleInput",YN=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:l,name:d,value:h,form:f,bubbleInput:g,setBubbleInput:v}=Qw(QN,t),b=Xe(n,v),x=JR(i),w=qS(r);p.useEffect(()=>{const y=g;if(!y)return;const E=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(E,"checked").set,k=!s.current;if(x!==i&&O){const I=new Event("click",{bubbles:k});y.indeterminate=Ii(i),O.call(y,Ii(i)?!1:i),y.dispatchEvent(I)}},[g,x,i,s]);const _=p.useRef(Ii(i)?!1:i);return c.jsx(Ie.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??_.current,required:a,disabled:l,name:d,value:h,form:f,...e,tabIndex:-1,ref:b,style:{...e.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});YN.displayName=QN;function t8(t){return typeof t=="function"}function Ii(t){return t==="indeterminate"}function XN(t){return Ii(t)?"indeterminate":t?"checked":"unchecked"}const wv=p.forwardRef(({className:t,...e},n)=>c.jsx(Yw,{ref:n,className:ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:c.jsx(KN,{className:ne("flex items-center justify-center text-current"),children:c.jsx(_S,{className:"h-4 w-4"})})}));wv.displayName=Yw.displayName;const JN=Wn(Ae,"teams"),n8=async t=>{const e=[wr("tournament_id","==",t.tournamentId),Sr("created_at","desc")];t.gameId&&e.splice(1,0,wr("game_id","==",t.gameId));const n=ks(JN,...e);return(await js(n)).docs.map(s=>({id:s.id,...s.data()}))},w1=async t=>(await Sl(JN,{...t,created_at:$e(),updated_at:$e()})).id,r8=async(t,e)=>{await Hi(_t(Ae,"teams",t),{...e,updated_at:$e()})},s8=async(t,e)=>{await Hi(_t(Ae,"teams",t),{player_ids:q9(e),updated_at:$e()})},i8=async t=>{await op(_t(Ae,"teams",t))},o8=Wn(Ae,"profiles"),Xw=async()=>{const t=ks(o8,Sr("created_at","desc"));return(await js(t)).docs.map(n=>({id:n.id,...n.data()}))},a8=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[o,a]=p.useState([]),[l,d]=p.useState(""),[h,f]=p.useState(""),[g,v]=p.useState(!0),[b,x]=p.useState(!1),[w,_]=p.useState(!1),[y,E]=p.useState(!1),[C,O]=p.useState(null),[k,I]=p.useState(null),[S,P]=p.useState({name:"",is_pair:!1,status:"pending",tournament_id:"",game_id:""}),[N,j]=p.useState([]),[D,A]=p.useState([]),[W,ie]=p.useState(""),{toast:G}=Ss(),X=s.find(M=>M.id===h),V=(X==null?void 0:X.game_type)==="TEAM",U=(X==null?void 0:X.game_type)==="PAIR",Q=(X==null?void 0:X.game_type)==="SINGLE";p.useEffect(()=>{oe(),le()},[]),p.useEffect(()=>{l?Z():(i([]),f(""))},[l]),p.useEffect(()=>{l&&h?ee():e([])},[l,h]);const oe=async()=>{try{const M=await Ds();r(M),M.length>0&&!l&&d(M[0].id)}catch(M){G({title:"Error",description:M.message,variant:"destructive"})}},Z=async()=>{if(l)try{const M=await Ho(l);i(M),M.length>0&&!h&&f(M[0].id)}catch(M){G({title:"Error",description:M.message,variant:"destructive"})}},ee=async()=>{if(!(!l||!h))try{v(!0);const M=await n8({tournamentId:l,gameId:h});e(M)}catch(M){G({title:"Error",description:M.message,variant:"destructive"})}finally{v(!1)}},le=async()=>{try{const M=await Xw();a(M)}catch(M){G({title:"Error",description:M.message,variant:"destructive"})}},Te=async M=>{if(M.preventDefault(),!S.tournament_id||!S.game_id){G({title:"Error",description:"Please select a tournament and game",variant:"destructive"});return}if(!U&&!S.name.trim()){G({title:"Error",description:"Team name is required",variant:"destructive"});return}try{C?(await r8(C,{name:S.name,is_pair:S.is_pair,status:S.status}),G({title:`${U?"Pair":"Team"} updated successfully`})):(await w1({...S,name:U?`Pair ${Date.now()}`:S.name,player_ids:[]}),G({title:`${U?"Pair":"Team"} created successfully`})),x(!1),pe(),ee()}catch(ce){G({title:"Error",description:ce.message,variant:"destructive"})}},We=M=>{O(M.id),P({name:M.name,is_pair:M.is_pair,status:M.status,tournament_id:M.tournament_id,game_id:M.game_id}),x(!0)},K=async M=>{if(confirm("Are you sure you want to delete this team?"))try{await i8(M),G({title:"Team deleted successfully"}),ee()}catch(ce){G({title:"Error",description:ce.message,variant:"destructive"})}},Pe=M=>{I(M),j(M.player_ids),_(!0)},qe=async()=>{if(D.length===2)try{await w1({tournament_id:l,game_id:h,name:`Pair ${Date.now()}`,is_pair:!0,player_ids:D,status:"pending"}),G({title:"Pair created successfully"}),E(!1),A([]),ee()}catch(M){G({title:"Error",description:M.message,variant:"destructive"})}},xe=async()=>{if(k)try{const M=k.player_ids.filter(me=>!N.includes(me));for(const me of M)await Hi(_t(Ae,"teams",k.id),{player_ids:G9(me),updated_at:$e()});const ce=N.filter(me=>!k.player_ids.includes(me));for(const me of ce)await s8(k.id,me);G({title:"Team players updated successfully"}),_(!1),I(null),ee()}catch(M){G({title:"Error",description:M.message,variant:"destructive"})}},pe=()=>{P({name:"",is_pair:!1,status:"pending",tournament_id:l,game_id:h}),O(null)},_e=M=>{const ce=n.find(me=>me.id===M);return(ce==null?void 0:ce.name)||"Unknown Tournament"},lt=M=>{const ce=s.find(me=>me.id===M);return(ce==null?void 0:ce.name)||"Unknown Game"},se=M=>{const ce=o.find(me=>me.id===M);return(ce==null?void 0:ce.name)||"Unknown User"};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Teams"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Create and manage teams for tournaments"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-full md:w-64",children:[c.jsx(rt,{htmlFor:"tournament-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Tournament"}),c.jsxs(Ot,{value:l,onValueChange:d,children:[c.jsx(Rt,{id:"tournament-select",children:c.jsx(Mt,{placeholder:"Select tournament"})}),c.jsx(Nt,{children:n.map(M=>c.jsx(Ge,{value:M.id,children:M.name},M.id))})]})]}),c.jsxs("div",{className:"w-full md:w-64",children:[c.jsx(rt,{htmlFor:"game-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Game"}),c.jsxs(Ot,{value:h,onValueChange:f,disabled:!l,children:[c.jsx(Rt,{id:"game-select",children:c.jsx(Mt,{placeholder:"Select game"})}),c.jsx(Nt,{children:s.map(M=>c.jsx(Ge,{value:M.id,children:M.name},M.id))})]})]}),V&&c.jsxs(_o,{open:b,onOpenChange:M=>{x(M),M&&!C&&P(ce=>({...ce,tournament_id:l,game_id:h,is_pair:!1})),M||pe()},children:[c.jsx(Mw,{asChild:!0,children:c.jsxs(ye,{disabled:!l||!h,children:[c.jsx(Sh,{className:"h-4 w-4 mr-2"}),"Add Team"]})}),c.jsxs(Ti,{children:[c.jsx(bi,{children:c.jsxs(Si,{children:[C?"Edit":"Create"," Team"]})}),c.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"tournament_id",children:"Tournament"}),c.jsxs(Ot,{value:S.tournament_id,onValueChange:M=>P({...S,tournament_id:M}),disabled:!!C,children:[c.jsx(Rt,{id:"tournament_id",children:c.jsx(Mt,{placeholder:"Select tournament"})}),c.jsx(Nt,{children:n.map(M=>c.jsx(Ge,{value:M.id,children:M.name},M.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"game_id",children:"Game"}),c.jsxs(Ot,{value:S.game_id,onValueChange:M=>P({...S,game_id:M}),disabled:!!C,children:[c.jsx(Rt,{id:"game_id",children:c.jsx(Mt,{placeholder:"Select game"})}),c.jsx(Nt,{children:s.map(M=>c.jsx(Ge,{value:M.id,children:M.name},M.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"name",children:"Team Name"}),c.jsx(kt,{id:"name",value:S.name,onChange:M=>P({...S,name:M.target.value}),required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"status",children:"Status"}),c.jsxs(Ot,{value:S.status,onValueChange:M=>P({...S,status:M}),children:[c.jsx(Rt,{children:c.jsx(Mt,{})}),c.jsxs(Nt,{children:[c.jsx(Ge,{value:"pending",children:"Pending"}),c.jsx(Ge,{value:"confirmed",children:"Confirmed"})]})]})]}),c.jsxs(ye,{type:"submit",className:"w-full",children:[C?"Update":"Create"," Team"]})]})]})]}),U&&c.jsxs(ye,{disabled:!l||!h,onClick:()=>E(!0),children:[c.jsx(Sh,{className:"h-4 w-4 mr-2"}),"Add Pair"]})]})]}),!l||!h?c.jsx(je,{children:c.jsx(De,{className:"py-8 text-center text-muted-foreground",children:"Please select a tournament and game to view or create teams."})}):Q?c.jsx(je,{children:c.jsx(De,{className:"py-8 text-center text-muted-foreground",children:"Single player games don't require team management. Players are managed through registrations."})}):g?c.jsx(je,{children:c.jsxs(De,{className:"py-8 text-center text-muted-foreground",children:["Loading ",U?"pairs":"teams","..."]})}):t.length===0?c.jsx(je,{children:c.jsxs(De,{className:"py-8 text-center text-muted-foreground",children:["No ",U?"pairs":"teams",' found for this tournament and game. Click "Add ',U?"Pair":"Team",'" to create one.']})}):c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(M=>c.jsxs(je,{children:[c.jsx(it,{children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(ot,{children:M.is_pair?M.player_ids.length===2?`${se(M.player_ids[0])} & ${se(M.player_ids[1])}`:`Pair ${M.id.slice(-4)}`:M.name}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[_e(M.tournament_id)," - ",lt(M.game_id)]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ye,{variant:"outline",size:"sm",onClick:()=>Pe(M),children:c.jsx(pu,{className:"h-4 w-4"})}),!M.is_pair&&c.jsx(ye,{variant:"outline",size:"sm",onClick:()=>We(M),children:c.jsx(yy,{className:"h-4 w-4"})}),c.jsx(ye,{variant:"outline",size:"sm",onClick:()=>K(M.id),children:c.jsx(Tf,{className:"h-4 w-4"})})]})]})}),c.jsxs(De,{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Type:"}),c.jsx("span",{className:"font-medium",children:M.is_pair?"Pair":"Team"})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Players:"}),c.jsx("span",{className:"font-medium",children:M.player_ids.length})]}),c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${M.status==="confirmed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:M.status})]})]},M.id))}),c.jsx(_o,{open:y,onOpenChange:M=>{E(M),M||(A([]),ie(""))},children:c.jsxs(Ti,{className:"max-w-2xl",children:[c.jsx(bi,{children:c.jsx(Si,{children:"Create Pair"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Select exactly 2 players for this pair",D.length>0&&c.jsxs("span",{className:"font-medium",children:[" (",D.length," selected)"]})]}),c.jsx("div",{className:"space-y-2",children:c.jsx(kt,{placeholder:"Search users by name or email...",value:W,onChange:M=>ie(M.target.value),className:"w-full"})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.filter(M=>M.name.toLowerCase().includes(W.toLowerCase())||M.email.toLowerCase().includes(W.toLowerCase())).map(M=>c.jsxs("div",{className:"flex items-center space-x-2 p-2 border-b",children:[c.jsx(wv,{id:`pair-user-${M.id}`,checked:D.includes(M.id),disabled:!D.includes(M.id)&&D.length>=2,onCheckedChange:ce=>{A(ce?me=>[...me,M.id]:me=>me.filter(ct=>ct!==M.id))}}),c.jsxs(rt,{htmlFor:`pair-user-${M.id}`,className:"flex-1",children:[M.name," (",M.email,")"]})]},M.id))}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ye,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),c.jsx(ye,{onClick:qe,disabled:D.length!==2,children:"Create Pair"})]})]})]})}),c.jsx(_o,{open:w,onOpenChange:M=>{_(M),M||ie("")},children:c.jsxs(Ti,{className:"max-w-2xl",children:[c.jsx(bi,{children:c.jsxs(Si,{children:["Manage Players - ",k!=null&&k.is_pair?k.player_ids.length===2?`${se(k.player_ids[0])} & ${se(k.player_ids[1])}`:`Pair ${k.id.slice(-4)}`:k==null?void 0:k.name]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:[k!=null&&k.is_pair?"Select exactly 2 players for this pair":`Select up to ${(X==null?void 0:X.players_per_team)||1} players for this team`,N.length>0&&c.jsxs("span",{className:"font-medium",children:[" (",N.length," selected)"]})]}),c.jsx("div",{className:"space-y-2",children:c.jsx(kt,{placeholder:"Search users by name or email...",value:W,onChange:M=>ie(M.target.value),className:"w-full"})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.filter(M=>M.name.toLowerCase().includes(W.toLowerCase())||M.email.toLowerCase().includes(W.toLowerCase())).map(M=>c.jsxs("div",{className:"flex items-center space-x-2 p-2 border-b",children:[c.jsx(wv,{id:`user-${M.id}`,checked:N.includes(M.id),disabled:!N.includes(M.id)&&N.length>=(k!=null&&k.is_pair?2:(X==null?void 0:X.players_per_team)||1),onCheckedChange:ce=>{j(ce?me=>[...me,M.id]:me=>me.filter(ct=>ct!==M.id))}}),c.jsxs(rt,{htmlFor:`user-${M.id}`,className:"flex-1",children:[M.name," (",M.email,")"]})]},M.id))}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ye,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),c.jsx(ye,{onClick:xe,children:"Update Players"})]})]})]})})]})},l8=(t,e)=>{const n=e-t;return n===0?"Final":n===1?"Semi Final":n===2?"Quarter Final":`Round ${t+1}`},c8=t=>Math.pow(2,Math.ceil(Math.log2(Math.max(1,t)))),u8=(t,e=[])=>{var h,f,g;const n=[...t].sort((v,b)=>v.seed&&b.seed?v.seed-b.seed:v.seed?-1:b.seed?1:(v.created_at||"").localeCompare(b.created_at||"")),r=n.length,s=c8(r),i=Math.log2(s),o=[],a=Array(s).fill(null);n.forEach((v,b)=>{a[b]=v});let l=s/2,d=[];for(let v=0;v<i;v++){const b=[];for(let x=0;x<l;x++){const w=((h=e.shift())==null?void 0:h.id)||crypto.randomUUID(),_=x*2,y={id:w,round_index:v,round_name:l8(v,i-1),match_order:x,participant_a_id:(f=a[_])==null?void 0:f.id,participant_b_id:(g=a[_+1])==null?void 0:g.id};if(d.length){const E=Math.floor(x/2);y.next_match_id=d[E],y.winner_slot_in_next=x%2===0?"A":"B"}o.push(y),b.push(w)}d=b,l=l/2}return o},d8=async(t,e,n)=>{const r=K9(Ae);n.forEach(s=>{const i=_t(Ae,"matches",s.id);r.set(i,{tournament_id:t,game_id:e,...s,status:"SCHEDULED",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{merge:!0})}),await r.commit()},h8=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[o,a]=p.useState([]),[l,d]=p.useState(""),[h,f]=p.useState(""),[g,v]=p.useState(!1),{toast:b}=Ss();p.useEffect(()=>{Ds().then(e)},[]),p.useEffect(()=>{f("")},[l]),p.useEffect(()=>{(async()=>{if(!l){r([]),i([]),a([]);return}v(!0);try{const[C,O,k]=await Promise.all([Ho(l),Vw({tournamentId:l,gameId:h||void 0}),Tc({tournamentId:l,gameId:h||void 0})]);r(C),i(O),a(k)}catch(C){b({title:"Error loading data",description:C.message,variant:"destructive"}),r([]),i([]),a([])}finally{v(!1)}})()},[l,h]);const x=p.useMemo(()=>s.reduce((E,C)=>(E[C.id]=C,E),{}),[s]),w=p.useMemo(()=>o.reduce((E,C)=>(E[C.round_index]||(E[C.round_index]=[]),E[C.round_index].push(C),E),{}),[o]),_=async()=>{if(!l||!h){b({title:"Select tournament and game",description:"Both tournament and game are required to generate bracket.",variant:"destructive"});return}if(s.length<2){b({title:"Not enough participants",description:"At least two participants are required to create a bracket.",variant:"destructive"});return}try{v(!0);const E=u8(s);await d8(l,h,E);const C=await Tc({tournamentId:l,gameId:h});a(C),b({title:"Bracket generated",description:"Matches created successfully."})}catch(E){b({title:"Generation failed",description:E.message,variant:"destructive"})}finally{v(!1)}},y=async(E,C)=>{try{await fz(E.id,{tournament_id:E.tournament_id,game_id:E.game_id,winner_participant_id:C,score_details:"",points_awarded:{[C]:3},submitted_by:"admin"}),E.next_match_id&&E.winner_slot_in_next&&await Zd(E.next_match_id,E.winner_slot_in_next==="A"?{participant_a_id:C}:{participant_b_id:C});const O=await Tc({tournamentId:l,gameId:h||void 0});a(O),b({title:"Result recorded"})}catch(O){b({title:"Failed to record result",description:O.message,variant:"destructive"})}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[c.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),c.jsxs(Ot,{value:l,onValueChange:d,children:[c.jsx(Rt,{children:c.jsx(Mt,{placeholder:"Select tournament"})}),c.jsx(Nt,{children:t.map(E=>c.jsx(Ge,{value:E.id,children:E.name},E.id))})]})]}),c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[c.jsx("p",{className:"text-sm font-medium",children:"Game"}),c.jsxs(Ot,{value:h,onValueChange:f,disabled:!l,children:[c.jsx(Rt,{children:c.jsx(Mt,{placeholder:"Select game"})}),c.jsx(Nt,{children:n.map(E=>c.jsx(Ge,{value:E.id,children:E.name},E.id))})]})]}),c.jsxs(ye,{onClick:_,disabled:!h||g,children:[c.jsx(Kj,{className:"h-4 w-4 mr-2"}),"Generate Bracket"]})]}),c.jsxs(je,{children:[c.jsxs(it,{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(ot,{children:"Match Schedule"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-generated bracket with manual override support."})]}),g&&c.jsx(ul,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),c.jsx(De,{children:l?o.length===0?c.jsx("p",{className:"text-muted-foreground text-sm",children:"No matches yet. Generate a bracket or create matches manually."}):Object.entries(w).map(([E,C])=>c.jsxs("div",{className:"mb-6",children:[c.jsxs("p",{className:"text-sm font-semibold mb-3 uppercase text-muted-foreground",children:["Round ",Number(E)+1]}),c.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:C.map(O=>{const k=O.participant_a_id?x[O.participant_a_id]:void 0,I=O.participant_b_id?x[O.participant_b_id]:void 0;return c.jsx(je,{children:c.jsxs(De,{className:"space-y-3 pt-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Match"}),c.jsx("p",{className:"font-semibold",children:O.round_name})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{children:(k==null?void 0:k.user_id)||(k==null?void 0:k.team_id)||"TBD"}),c.jsx(ye,{variant:"outline",size:"sm",disabled:!k,onClick:()=>k&&y(O,k.id),children:"Win"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{children:(I==null?void 0:I.user_id)||(I==null?void 0:I.team_id)||"TBD"}),c.jsx(ye,{variant:"outline",size:"sm",disabled:!I,onClick:()=>I&&y(O,I.id),children:"Win"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx(kt,{type:"datetime-local",value:O.match_time||"",onChange:S=>Zd(O.id,{match_time:S.target.value})}),c.jsx(kt,{placeholder:"Venue",value:O.venue||"",onChange:S=>Zd(O.id,{venue:S.target.value})})]})]})},O.id)})})]},E)):c.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament and game to view matches."})})]})]})},f8=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState(!1),[o,a]=p.useState(null),[l,d]=p.useState({name:"",start_date:"",end_date:"",is_active:!0}),{toast:h}=Ss();p.useEffect(()=>{f()},[]);const f=async()=>{try{const w=ks(Wn(Ae,"tournaments"),Sr("created_at","desc")),y=(await js(w)).docs.map(E=>{const C=E.data();return{id:E.id,name:C.name??"",start_date:C.start_date||"",end_date:C.end_date||"",is_active:C.is_active??!0}});e(y)}catch(w){h({title:"Error",description:w.message,variant:"destructive"})}finally{r(!1)}},g=async w=>{w.preventDefault();try{o?(await Hi(_t(Ae,"tournaments",o),{...l,updated_at:$e()}),h({title:"Tournament updated successfully"})):(await Sl(Wn(Ae,"tournaments"),{...l,created_at:$e(),updated_at:$e()}),h({title:"Tournament created successfully"})),i(!1),x(),f()}catch(_){h({title:"Error",description:_.message,variant:"destructive"})}},v=w=>{a(w.id),d({name:w.name,start_date:w.start_date||"",end_date:w.end_date||"",is_active:w.is_active}),i(!0)},b=async w=>{if(confirm("Are you sure you want to delete this tournament?"))try{await op(_t(Ae,"tournaments",w)),h({title:"Tournament deleted successfully"}),f()}catch(_){h({title:"Error",description:_.message,variant:"destructive"})}},x=()=>{d({name:"",start_date:"",end_date:"",is_active:!0}),a(null)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Tournaments"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage tournament configurations"})]}),c.jsxs(_o,{open:s,onOpenChange:w=>{i(w),w||x()},children:[c.jsx(Mw,{asChild:!0,children:c.jsxs(ye,{children:[c.jsx(Sh,{className:"h-4 w-4 mr-2"}),"Add Tournament"]})}),c.jsxs(Ti,{children:[c.jsx(bi,{children:c.jsxs(Si,{children:[o?"Edit":"Create"," Tournament"]})}),c.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"name",children:"Tournament Name"}),c.jsx(kt,{id:"name",value:l.name,onChange:w=>d({...l,name:w.target.value}),required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"start_date",children:"Start Date"}),c.jsx(kt,{id:"start_date",type:"date",value:l.start_date,onChange:w=>d({...l,start_date:w.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(rt,{htmlFor:"end_date",children:"End Date"}),c.jsx(kt,{id:"end_date",type:"date",value:l.end_date,onChange:w=>d({...l,end_date:w.target.value})})]})]}),c.jsxs(ye,{type:"submit",className:"w-full",children:[o?"Update":"Create"," Tournament"]})]})]})]})]}),n?c.jsx("p",{children:"Loading..."}):c.jsx("div",{className:"grid gap-4",children:t.map(w=>c.jsxs(je,{children:[c.jsx(it,{children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(ot,{children:w.name}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:w.start_date&&w.end_date&&`${new Date(w.start_date).toLocaleDateString()} - ${new Date(w.end_date).toLocaleDateString()}`})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ye,{variant:"outline",size:"sm",onClick:()=>v(w),children:c.jsx(yy,{className:"h-4 w-4"})}),c.jsx(ye,{variant:"outline",size:"sm",onClick:()=>b(w.id),children:c.jsx(Tf,{className:"h-4 w-4"})})]})]})}),c.jsx(De,{children:c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${w.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:w.is_active?"Active":"Inactive"})})]},w.id))})]})},p8=()=>{const[t,e]=p.useState({activeTournamentsCount:0,activeTournamentName:"Loading...",totalGames:0,registeredPlayers:0,scheduledMatches:0}),[n,r]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const[i,o,a]=await Promise.all([Ds(),Xw(),Ho()]),l=i.filter(f=>f.is_active),d=l[0]||i[0];let h=0;d&&(h=(await Tc({tournamentId:d.id})).length),e({activeTournamentsCount:l.length,activeTournamentName:d?d.name:"No Tournaments",totalGames:a.length,registeredPlayers:o.length,scheduledMatches:h})}catch(i){console.error("Error fetching dashboard data:",i),e(o=>({...o,activeTournamentName:"Error loading data"}))}finally{r(!1)}})()},[]),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Overview"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Welcome to the Sports Week Admin Dashboard"})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[c.jsxs(je,{children:[c.jsxs(it,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ot,{className:"text-sm font-medium",children:"Active Tournaments"}),c.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(De,{children:[c.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.activeTournamentsCount}),c.jsx("p",{className:"text-xs text-muted-foreground",children:t.activeTournamentName})]})]}),c.jsxs(je,{children:[c.jsxs(it,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ot,{className:"text-sm font-medium",children:"Total Games"}),c.jsx(ES,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(De,{children:[c.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.totalGames}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all tournaments"})]})]}),c.jsxs(je,{children:[c.jsxs(it,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ot,{className:"text-sm font-medium",children:"Registered Players"}),c.jsx(pu,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(De,{children:[c.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.registeredPlayers}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total registered users"})]})]}),c.jsxs(je,{children:[c.jsxs(it,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ot,{className:"text-sm font-medium",children:"Scheduled Matches"}),c.jsx(fu,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(De,{children:[c.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.scheduledMatches}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"For current tournament"})]})]})]}),c.jsxs(je,{children:[c.jsx(it,{children:c.jsx(ot,{children:"Quick Start Guide"})}),c.jsxs(De,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"1"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:"Create a Tournament"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Set up Sports Week 2025 with start and end dates"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"2"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:"Add Games"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure games like Chess, Cricket, Volleyball, etc."})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"3"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:"Create Teams"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Build teams and pairs for various games"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"4"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:"Schedule Matches"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Create match fixtures with dates, times, and venues"})]})]})]})]})]})},m8=Wn(Ae,"registrations"),_1=async t=>{const e=[];t.tournamentId&&e.push(wr("tournament_id","==",t.tournamentId)),t.gameId&&e.push(wr("game_id","==",t.gameId)),t.status&&e.push(wr("status","==",t.status));const n=ks(m8,...e,Sr("created_at","desc"));return(await js(n)).docs.map(s=>({id:s.id,...s.data()}))},g8=async(t,e)=>{await Hi(_t(Ae,"registrations",t),{status:e,updated_at:$e()})},v8=Wn(Ae,"notifications"),y8=async t=>{await Sl(v8,{...t,is_read:!1,created_at:$e(),updated_at:$e()})},w8=async(t,e)=>{await y8({user_id:t,title:"Registration Approved",message:`You have been added to ${e.tournamentName}. Check your dashboard for match updates.`,type:"registration"})},_8={pending:"secondary",approved:"default",rejected:"destructive"},x8=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState([]),[o,a]=p.useState([]),[l,d]=p.useState([]),[h,f]=p.useState([]),[g,v]=p.useState(!1),{toast:b}=Ss();p.useEffect(()=>{(async()=>{const[y,E]=await Promise.all([Ds(),Xw()]);i(y),f(E)})()},[]),p.useEffect(()=>{if(!t){a([]),d([]);return}(async()=>{v(!0);const[y,E]=await Promise.all([Ho(t),_1({tournamentId:t,gameId:n||void 0})]);a(y),d(E),v(!1)})()},[t,n]);const x=p.useMemo(()=>s.find(_=>_.id===t),[s,t]),w=async(_,y)=>{try{if(await g8(_.id,y),y==="approved"){const C=await pz({tournament_id:_.tournament_id,game_id:_.game_id,type:"USER",user_id:_.user_id});await w8(_.user_id,{tournamentName:(x==null?void 0:x.name)||"Tournament"}),console.debug("Participant created:",C)}b({title:`Registration ${y}`,description:y==="approved"?"Player added to participants list.":void 0});const E=await _1({tournamentId:_.tournament_id,gameId:n||void 0});d(E)}catch(E){b({title:"Action failed",description:E.message,variant:"destructive"})}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[c.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),c.jsxs(Ot,{value:t,onValueChange:e,children:[c.jsx(Rt,{children:c.jsx(Mt,{placeholder:"Select tournament"})}),c.jsx(Nt,{children:s.map(_=>c.jsx(Ge,{value:_.id,children:_.name},_.id))})]})]}),c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[c.jsx("p",{className:"text-sm font-medium",children:"Game"}),c.jsxs(Ot,{value:n,onValueChange:r,disabled:!t,children:[c.jsx(Rt,{children:c.jsx(Mt,{placeholder:"All games"})}),c.jsxs(Nt,{children:[c.jsx(Ge,{value:"all",children:"All games"}),o.map(_=>c.jsx(Ge,{value:_.id,children:_.name},_.id))]})]})]})]}),c.jsxs(je,{children:[c.jsxs(it,{className:"flex flex-row items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(ot,{children:"Registrations"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Approve or reject player registrations for the selected tournament."})]}),g&&c.jsx(ul,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),c.jsx(De,{children:t?l.length===0?c.jsx("p",{className:"text-muted-foreground text-sm",children:"No registrations found."}):c.jsx("div",{className:"space-y-4",children:l.map(_=>{var y,E,C;return c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between border-b pb-4 last:border-0",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:((y=h.find(O=>O.id===_.user_id))==null?void 0:y.name)??_.user_id}),c.jsx("p",{className:"text-sm text-muted-foreground",children:((E=h.find(O=>O.id===_.user_id))==null?void 0:E.email)??""}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Game: ",((C=o.find(O=>O.id===_.game_id))==null?void 0:C.name)??"Unknown"]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Nw,{variant:_8[_.status],children:_.status}),_.status==="pending"&&c.jsxs(c.Fragment,{children:[c.jsx(ye,{variant:"outline",size:"sm",onClick:()=>w(_,"approved"),children:"Approve"}),c.jsx(ye,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>w(_,"rejected"),children:"Reject"})]})]})]},_.id)})}):c.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view registrations."})})]})]})},E8=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState([]),[o,a]=p.useState([]),[l,d]=p.useState([]),[h,f]=p.useState(!1),{toast:g}=Ss();p.useEffect(()=>{Ds().then(i)},[]),p.useEffect(()=>{if(!t){a([]),d([]);return}(async()=>{f(!0);const[_,y]=await Promise.all([Ho(t),Vw({tournamentId:t,gameId:n||void 0})]);a(_),d(y),f(!1)})()},[t,n]);const v=p.useMemo(()=>o.find(w=>w.id===n),[o,n]),b=async(w,_)=>{try{await mz(w.id,{seed:_}),g({title:"Seed updated"})}catch(y){g({title:"Update failed",description:y.message,variant:"destructive"})}},x=async w=>{try{await gz(w),d(_=>_.filter(y=>y.id!==w)),g({title:"Participant removed"})}catch(_){g({title:"Removal failed",description:_.message,variant:"destructive"})}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[c.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),c.jsxs(Ot,{value:t,onValueChange:e,children:[c.jsx(Rt,{children:c.jsx(Mt,{placeholder:"Select tournament"})}),c.jsx(Nt,{children:s.map(w=>c.jsx(Ge,{value:w.id,children:w.name},w.id))})]})]}),c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[c.jsx("p",{className:"text-sm font-medium",children:"Game"}),c.jsxs(Ot,{value:n,onValueChange:r,disabled:!t,children:[c.jsx(Rt,{children:c.jsx(Mt,{placeholder:"All games"})}),c.jsxs(Nt,{children:[c.jsx(Ge,{value:"",children:"All games"}),o.map(w=>c.jsx(Ge,{value:w.id,children:w.name},w.id))]})]})]})]}),c.jsxs(je,{children:[c.jsxs(it,{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(ot,{children:"Participants"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage seeds and eligibility for bracket generation."})]}),h&&c.jsx(ul,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),c.jsx(De,{children:t?l.length===0?c.jsx("p",{className:"text-muted-foreground text-sm",children:"No participants found."}):c.jsx("div",{className:"space-y-3",children:l.map(w=>c.jsxs("div",{className:"flex flex-col gap-3 border rounded-lg p-4 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:w.user_id||w.team_id}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[w.type==="USER"?"Player":"Team"," "," ",(v==null?void 0:v.name)??"Tournament Game"]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-muted-foreground uppercase",children:"Seed"}),c.jsx(kt,{type:"number",min:1,className:"w-24",defaultValue:w.seed??"",onBlur:_=>{const y=Number(_.target.value);!Number.isNaN(y)&&y>0&&b(w,y)}})]}),c.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>x(w.id),children:c.jsx(Tf,{className:"h-4 w-4 text-destructive"})})]})]},w.id))}):c.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view participants."})})]})]})},T8=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(""),[s,i]=p.useState([]),[o,a]=p.useState(!1);return p.useEffect(()=>{Ds().then(e)},[]),p.useEffect(()=>{if(!n){i([]);return}a(!0),MN(n).then(i).finally(()=>a(!1))},[n]),c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex flex-wrap gap-4 items-end",children:c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[c.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),c.jsxs(Ot,{value:n,onValueChange:r,children:[c.jsx(Rt,{children:c.jsx(Mt,{placeholder:"Select tournament"})}),c.jsx(Nt,{children:t.map(l=>c.jsx(Ge,{value:l.id,children:l.name},l.id))})]})]})}),c.jsxs(je,{children:[c.jsxs(it,{className:"flex items-center justify-between",children:[c.jsx(ot,{children:"Leaderboard"}),o&&c.jsx(ul,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),c.jsx(De,{children:n?s.length===0?c.jsx("p",{className:"text-muted-foreground text-sm",children:"No leaderboard data yet."}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-left text-muted-foreground border-b",children:[c.jsx("th",{className:"py-2 pr-4",children:"Rank"}),c.jsx("th",{className:"py-2 pr-4",children:"Name"}),c.jsx("th",{className:"py-2 pr-4",children:"Type"}),c.jsx("th",{className:"py-2 pr-4",children:"Points"}),c.jsx("th",{className:"py-2 pr-4",children:"Wins"}),c.jsx("th",{className:"py-2 pr-4",children:"Losses"})]})}),c.jsx("tbody",{children:s.map((l,d)=>c.jsxs("tr",{className:"border-b last:border-0",children:[c.jsx("td",{className:"py-2 pr-4",children:l.rank??d+1}),c.jsx("td",{className:"py-2 pr-4 font-medium",children:l.name}),c.jsx("td",{className:"py-2 pr-4 capitalize",children:l.entity_type.toLowerCase()}),c.jsx("td",{className:"py-2 pr-4",children:l.points}),c.jsx("td",{className:"py-2 pr-4",children:l.wins}),c.jsx("td",{className:"py-2 pr-4",children:l.losses})]},l.id))})]})}):c.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view standings."})})]})]})},b8=()=>{const{loading:t,isAdmin:e}=Wo();return t?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading..."})}):e?c.jsx(Fw,{children:c.jsxs("div",{className:"min-h-screen flex w-full bg-muted/30",children:[c.jsx(Qz,{}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsx(Yz,{}),c.jsx("main",{className:"flex-1 p-6",children:c.jsxs(kI,{children:[c.jsx(qt,{path:"/",element:c.jsx(p8,{})}),c.jsx(qt,{path:"/registrations",element:c.jsx(x8,{})}),c.jsx(qt,{path:"/participants",element:c.jsx(E8,{})}),c.jsx(qt,{path:"/tournaments",element:c.jsx(f8,{})}),c.jsx(qt,{path:"/games",element:c.jsx(Xz,{})}),c.jsx(qt,{path:"/teams",element:c.jsx(a8,{})}),c.jsx(qt,{path:"/matches",element:c.jsx(h8,{})}),c.jsx(qt,{path:"/leaderboard",element:c.jsx(T8,{})})]})})]})]})}):c.jsx(Lg,{to:"/",replace:!0})},S8=[{title:"Dashboard",url:"/dashboard",icon:Zj},{title:"My Tournaments",url:"/dashboard/tournaments",icon:nr},{title:"My Matches",url:"/dashboard/matches",icon:wy},{title:"Schedule",url:"/dashboard/schedule",icon:fu},{title:"Profile",url:"/dashboard/profile",icon:TS}];function I8(){const t=Cs();return c.jsx(Uw,{children:c.jsx(Bw,{children:c.jsxs(zw,{children:[c.jsx(Ww,{children:"Player Panel"}),c.jsx(Hw,{children:c.jsx(qw,{children:S8.map(e=>c.jsx(Gw,{children:c.jsx(Kw,{asChild:!0,isActive:t.pathname===e.url,children:c.jsxs(Ye,{to:e.url,children:[c.jsx(e.icon,{className:"h-4 w-4"}),c.jsx("span",{children:e.title})]})})},e.title))})})]})})})}function C8(){const{signOut:t,user:e}=Wo();return c.jsxs("header",{className:"h-16 border-b bg-card flex items-center justify-between px-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx($w,{}),c.jsxs(Ye,{to:"/dashboard",className:"flex items-center gap-2",children:[c.jsx(TS,{className:"h-6 w-6 text-primary"}),c.jsx("span",{className:"text-lg font-bold",children:"Player Dashboard"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)}),c.jsxs(ye,{variant:"outline",size:"sm",onClick:t,children:[c.jsx(bh,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}const P8=()=>{const{user:t,loading:e,isAdmin:n}=Wo();return e?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading..."})}):t?n?c.jsx(Lg,{to:"/admin",replace:!0}):c.jsx(Fw,{children:c.jsxs("div",{className:"min-h-screen flex w-full bg-muted/30",children:[c.jsx(I8,{}),c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsx(C8,{}),c.jsxs("main",{className:"flex-1 p-6",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Player Dashboard"}),c.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",t.displayName||t.email,"!"]})]}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[c.jsxs(je,{children:[c.jsxs(it,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ot,{className:"text-sm font-medium",children:"Tournaments Joined"}),c.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(De,{children:[c.jsx("div",{className:"text-2xl font-bold",children:"0"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Active tournaments"})]})]}),c.jsxs(je,{children:[c.jsxs(it,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ot,{className:"text-sm font-medium",children:"Matches Played"}),c.jsx(wy,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(De,{children:[c.jsx("div",{className:"text-2xl font-bold",children:"0"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total matches"})]})]}),c.jsxs(je,{children:[c.jsxs(it,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ot,{className:"text-sm font-medium",children:"Wins"}),c.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(De,{children:[c.jsx("div",{className:"text-2xl font-bold",children:"0"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Victories achieved"})]})]}),c.jsxs(je,{children:[c.jsxs(it,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(ot,{className:"text-sm font-medium",children:"Upcoming Matches"}),c.jsx(fu,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(De,{children:[c.jsx("div",{className:"text-2xl font-bold",children:"0"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled matches"})]})]})]}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[c.jsxs(je,{children:[c.jsxs(it,{children:[c.jsx(ot,{children:"Recent Activity"}),c.jsx(ru,{children:"Your latest tournament activities"})]}),c.jsx(De,{children:c.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No recent activity yet. Join a tournament to get started!"})})]}),c.jsxs(je,{children:[c.jsxs(it,{children:[c.jsx(ot,{children:"Current Tournaments"}),c.jsx(ru,{children:"Tournaments you're participating in"})]}),c.jsx(De,{children:c.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No active tournaments. Browse available tournaments to join!"})})]})]})]})]})]})}):c.jsx(Lg,{to:"/login",replace:!0})},R8=()=>{const t=Cs();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},N8=new jL,A8=()=>c.jsx(OL,{client:N8,children:c.jsxs(pI,{children:[c.jsx(HD,{}),c.jsx(TO,{}),c.jsx(N4,{children:c.jsx(J9,{children:c.jsxs(kI,{children:[c.jsx(qt,{path:"/",element:c.jsx(l$,{})}),c.jsx(qt,{path:"/leaderboard",element:c.jsx(cz,{})}),c.jsx(qt,{path:"/schedule",element:c.jsx(yz,{})}),c.jsx(qt,{path:"/login",element:c.jsx(CB,{})}),c.jsx(qt,{path:"/register",element:c.jsx(oz,{})}),c.jsx(qt,{path:"/dashboard",element:c.jsx(P8,{})}),c.jsx(qt,{path:"/admin/*",element:c.jsx(b8,{})}),c.jsx(qt,{path:"*",element:c.jsx(R8,{})})]})})})]})});zb(document.getElementById("root")).render(c.jsx(A8,{}));
