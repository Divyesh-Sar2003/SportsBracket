var Z0=t=>{throw TypeError(t)};var gg=(t,e,n)=>e.has(t)||Z0("Cannot "+n);var X=(t,e,n)=>(gg(t,e,"read from private field"),n?n.call(t):e.get(t)),dt=(t,e,n)=>e.has(t)?Z0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ue=(t,e,n,r)=>(gg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),On=(t,e,n)=>(gg(t,e,"access private method"),n);var vh=(t,e,n,r)=>({set _(s){Ue(t,e,s,n)},get _(){return X(t,e,r)}});function _D(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function TS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var SS={exports:{}},Bm={},NS={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=Symbol.for("react.element"),bD=Symbol.for("react.portal"),ED=Symbol.for("react.fragment"),TD=Symbol.for("react.strict_mode"),SD=Symbol.for("react.profiler"),ND=Symbol.for("react.provider"),CD=Symbol.for("react.context"),ID=Symbol.for("react.forward_ref"),kD=Symbol.for("react.suspense"),PD=Symbol.for("react.memo"),AD=Symbol.for("react.lazy"),J0=Symbol.iterator;function jD(t){return t===null||typeof t!="object"?null:(t=J0&&t[J0]||t["@@iterator"],typeof t=="function"?t:null)}var CS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IS=Object.assign,kS={};function bc(t,e,n){this.props=t,this.context=e,this.refs=kS,this.updater=n||CS}bc.prototype.isReactComponent={};bc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PS(){}PS.prototype=bc.prototype;function vx(t,e,n){this.props=t,this.context=e,this.refs=kS,this.updater=n||CS}var xx=vx.prototype=new PS;xx.constructor=vx;IS(xx,bc.prototype);xx.isPureReactComponent=!0;var eb=Array.isArray,AS=Object.prototype.hasOwnProperty,wx={current:null},jS={key:!0,ref:!0,__self:!0,__source:!0};function RS(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)AS.call(e,r)&&!jS.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ad,type:t,key:i,ref:a,props:s,_owner:wx.current}}function RD(t,e){return{$$typeof:Ad,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _x(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ad}function DD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tb=/\/+/g;function yg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DD(""+t.key):e.toString(36)}function Xh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ad:case bD:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+yg(a,0):r,eb(s)?(n="",t!=null&&(n=t.replace(tb,"$&/")+"/"),Xh(s,e,n,"",function(u){return u})):s!=null&&(_x(s)&&(s=RD(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(tb,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",eb(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+yg(i,l);a+=Xh(i,e,n,c,s)}else if(c=jD(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+yg(i,l++),a+=Xh(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function xh(t,e,n){if(t==null)return t;var r=[],s=0;return Xh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function OD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},Zh={transition:null},MD={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:Zh,ReactCurrentOwner:wx};function DS(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:xh,forEach:function(t,e,n){xh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xh(t,function(){e++}),e},toArray:function(t){return xh(t,function(e){return e})||[]},only:function(t){if(!_x(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ze.Component=bc;Ze.Fragment=ED;Ze.Profiler=SD;Ze.PureComponent=vx;Ze.StrictMode=TD;Ze.Suspense=kD;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MD;Ze.act=DS;Ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=IS({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=wx.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)AS.call(e,c)&&!jS.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ad,type:t.type,key:s,ref:i,props:r,_owner:a}};Ze.createContext=function(t){return t={$$typeof:CD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ND,_context:t},t.Consumer=t};Ze.createElement=RS;Ze.createFactory=function(t){var e=RS.bind(null,t);return e.type=t,e};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(t){return{$$typeof:ID,render:t}};Ze.isValidElement=_x;Ze.lazy=function(t){return{$$typeof:AD,_payload:{_status:-1,_result:t},_init:OD}};Ze.memo=function(t,e){return{$$typeof:PD,type:t,compare:e===void 0?null:e}};Ze.startTransition=function(t){var e=Zh.transition;Zh.transition={};try{t()}finally{Zh.transition=e}};Ze.unstable_act=DS;Ze.useCallback=function(t,e){return er.current.useCallback(t,e)};Ze.useContext=function(t){return er.current.useContext(t)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(t){return er.current.useDeferredValue(t)};Ze.useEffect=function(t,e){return er.current.useEffect(t,e)};Ze.useId=function(){return er.current.useId()};Ze.useImperativeHandle=function(t,e,n){return er.current.useImperativeHandle(t,e,n)};Ze.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};Ze.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};Ze.useMemo=function(t,e){return er.current.useMemo(t,e)};Ze.useReducer=function(t,e,n){return er.current.useReducer(t,e,n)};Ze.useRef=function(t){return er.current.useRef(t)};Ze.useState=function(t){return er.current.useState(t)};Ze.useSyncExternalStore=function(t,e,n){return er.current.useSyncExternalStore(t,e,n)};Ze.useTransition=function(){return er.current.useTransition()};Ze.version="18.3.1";NS.exports=Ze;var p=NS.exports;const Q=TS(p),bx=_D({__proto__:null,default:Q},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LD=p,VD=Symbol.for("react.element"),FD=Symbol.for("react.fragment"),UD=Object.prototype.hasOwnProperty,$D=LD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BD={key:!0,ref:!0,__self:!0,__source:!0};function OS(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)UD.call(e,r)&&!BD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:VD,type:t,key:i,ref:a,props:s,_owner:$D.current}}Bm.Fragment=FD;Bm.jsx=OS;Bm.jsxs=OS;SS.exports=Bm;var o=SS.exports,MS={exports:{}},kr={},LS={exports:{}},VS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,B){var ee=$.length;$.push(B);e:for(;0<ee;){var le=ee-1>>>1,ie=$[le];if(0<s(ie,B))$[le]=B,$[ee]=ie,ee=le;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var B=$[0],ee=$.pop();if(ee!==B){$[0]=ee;e:for(var le=0,ie=$.length,he=ie>>>1;le<he;){var we=2*(le+1)-1,Ne=$[we],it=we+1,re=$[it];if(0>s(Ne,ee))it<ie&&0>s(re,Ne)?($[le]=re,$[it]=ee,le=it):($[le]=Ne,$[we]=ee,le=we);else if(it<ie&&0>s(re,ee))$[le]=re,$[it]=ee,le=it;else break e}}return B}function s($,B){var ee=$.sortIndex-B.sortIndex;return ee!==0?ee:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,m=3,g=!1,E=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=$)r(u),B.sortIndex=B.expirationTime,e(c,B);else break;B=n(u)}}function T($){if(w=!1,v($),!E)if(n(c)!==null)E=!0,H(I);else{var B=n(u);B!==null&&te(T,B.startTime-$)}}function I($,B){E=!1,w&&(w=!1,b(C),C=-1),g=!0;var ee=m;try{for(v(B),f=n(c);f!==null&&(!(f.expirationTime>B)||$&&!D());){var le=f.callback;if(typeof le=="function"){f.callback=null,m=f.priorityLevel;var ie=le(f.expirationTime<=B);B=t.unstable_now(),typeof ie=="function"?f.callback=ie:f===n(c)&&r(c),v(B)}else r(c);f=n(c)}if(f!==null)var he=!0;else{var we=n(u);we!==null&&te(T,we.startTime-B),he=!1}return he}finally{f=null,m=ee,g=!1}}var R=!1,N=null,C=-1,P=5,k=-1;function D(){return!(t.unstable_now()-k<P)}function A(){if(N!==null){var $=t.unstable_now();k=$;var B=!0;try{B=N(!0,$)}finally{B?j():(R=!1,N=null)}}else R=!1}var j;if(typeof y=="function")j=function(){y(A)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,J=F.port2;F.port1.onmessage=A,j=function(){J.postMessage(null)}}else j=function(){x(A,0)};function H($){N=$,R||(R=!0,j())}function te($,B){C=x(function(){$(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){E||g||(E=!0,H(I))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var ee=m;m=B;try{return $()}finally{m=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=m;m=$;try{return B()}finally{m=ee}},t.unstable_scheduleCallback=function($,B,ee){var le=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?le+ee:le):ee=le,$){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ee+ie,$={id:h++,callback:B,priorityLevel:$,startTime:ee,expirationTime:ie,sortIndex:-1},ee>le?($.sortIndex=ee,e(u,$),n(c)===null&&$===n(u)&&(w?(b(C),C=-1):w=!0,te(T,ee-le))):($.sortIndex=ie,e(c,$),E||g||(E=!0,H(I))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var B=m;return function(){var ee=m;m=B;try{return $.apply(this,arguments)}finally{m=ee}}}})(VS);LS.exports=VS;var zD=LS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WD=p,Nr=zD;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FS=new Set,Hu={};function zo(t,e){Zl(t,e),Zl(t+"Capture",e)}function Zl(t,e){for(Hu[t]=e,t=0;t<e.length;t++)FS.add(e[t])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),by=Object.prototype.hasOwnProperty,HD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nb={},rb={};function qD(t){return by.call(rb,t)?!0:by.call(nb,t)?!1:HD.test(t)?rb[t]=!0:(nb[t]=!0,!1)}function GD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KD(t,e,n,r){if(e===null||typeof e>"u"||GD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pn[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pn[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pn[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pn[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pn[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pn[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pn[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pn[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pn[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ex=/[\-:]([a-z])/g;function Tx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ex,Tx);Pn[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ex,Tx);Pn[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ex,Tx);Pn[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pn[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});Pn.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pn[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sx(t,e,n,r){var s=Pn.hasOwnProperty(e)?Pn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KD(e,n,s,r)&&(n=null),r||s===null?qD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ii=WD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wh=Symbol.for("react.element"),yl=Symbol.for("react.portal"),vl=Symbol.for("react.fragment"),Nx=Symbol.for("react.strict_mode"),Ey=Symbol.for("react.profiler"),US=Symbol.for("react.provider"),$S=Symbol.for("react.context"),Cx=Symbol.for("react.forward_ref"),Ty=Symbol.for("react.suspense"),Sy=Symbol.for("react.suspense_list"),Ix=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),BS=Symbol.for("react.offscreen"),sb=Symbol.iterator;function Zc(t){return t===null||typeof t!="object"?null:(t=sb&&t[sb]||t["@@iterator"],typeof t=="function"?t:null)}var qt=Object.assign,vg;function fu(t){if(vg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vg=e&&e[1]||""}return`
`+vg+t}var xg=!1;function wg(t,e){if(!t||xg)return"";xg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{xg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fu(t):""}function QD(t){switch(t.tag){case 5:return fu(t.type);case 16:return fu("Lazy");case 13:return fu("Suspense");case 19:return fu("SuspenseList");case 0:case 2:case 15:return t=wg(t.type,!1),t;case 11:return t=wg(t.type.render,!1),t;case 1:return t=wg(t.type,!0),t;default:return""}}function Ny(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vl:return"Fragment";case yl:return"Portal";case Ey:return"Profiler";case Nx:return"StrictMode";case Ty:return"Suspense";case Sy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $S:return(t.displayName||"Context")+".Consumer";case US:return(t._context.displayName||"Context")+".Provider";case Cx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ix:return e=t.displayName||null,e!==null?e:Ny(t.type)||"Memo";case qi:e=t._payload,t=t._init;try{return Ny(t(e))}catch{}}return null}function YD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ny(e);case 8:return e===Nx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Na(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XD(t){var e=zS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _h(t){t._valueTracker||(t._valueTracker=XD(t))}function WS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cy(t,e){var n=e.checked;return qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ib(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Na(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function HS(t,e){e=e.checked,e!=null&&Sx(t,"checked",e,!1)}function Iy(t,e){HS(t,e);var n=Na(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ky(t,e.type,n):e.hasOwnProperty("defaultValue")&&ky(t,e.type,Na(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ab(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ky(t,e,n){(e!=="number"||Cf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mu=Array.isArray;function kl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Na(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Py(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ob(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(mu(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Na(n)}}function qS(t,e){var n=Na(e.value),r=Na(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function GS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ay(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?GS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bh,KS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bh=bh||document.createElement("div"),bh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZD=["Webkit","ms","Moz","O"];Object.keys(Su).forEach(function(t){ZD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Su[e]=Su[t]})});function QS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Su.hasOwnProperty(t)&&Su[t]?(""+e).trim():e+"px"}function YS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=QS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var JD=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jy(t,e){if(e){if(JD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function Ry(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dy=null;function kx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oy=null,Pl=null,Al=null;function cb(t){if(t=Dd(t)){if(typeof Oy!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=Gm(e),Oy(t.stateNode,t.type,e))}}function XS(t){Pl?Al?Al.push(t):Al=[t]:Pl=t}function ZS(){if(Pl){var t=Pl,e=Al;if(Al=Pl=null,cb(t),e)for(t=0;t<e.length;t++)cb(e[t])}}function JS(t,e){return t(e)}function eN(){}var _g=!1;function tN(t,e,n){if(_g)return t(e,n);_g=!0;try{return JS(t,e,n)}finally{_g=!1,(Pl!==null||Al!==null)&&(eN(),ZS())}}function Gu(t,e){var n=t.stateNode;if(n===null)return null;var r=Gm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var My=!1;if(mi)try{var Jc={};Object.defineProperty(Jc,"passive",{get:function(){My=!0}}),window.addEventListener("test",Jc,Jc),window.removeEventListener("test",Jc,Jc)}catch{My=!1}function eO(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Nu=!1,If=null,kf=!1,Ly=null,tO={onError:function(t){Nu=!0,If=t}};function nO(t,e,n,r,s,i,a,l,c){Nu=!1,If=null,eO.apply(tO,arguments)}function rO(t,e,n,r,s,i,a,l,c){if(nO.apply(this,arguments),Nu){if(Nu){var u=If;Nu=!1,If=null}else throw Error(ne(198));kf||(kf=!0,Ly=u)}}function Wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ub(t){if(Wo(t)!==t)throw Error(ne(188))}function sO(t){var e=t.alternate;if(!e){if(e=Wo(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ub(s),t;if(i===r)return ub(s),e;i=i.sibling}throw Error(ne(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function rN(t){return t=sO(t),t!==null?sN(t):null}function sN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sN(t);if(e!==null)return e;t=t.sibling}return null}var iN=Nr.unstable_scheduleCallback,db=Nr.unstable_cancelCallback,iO=Nr.unstable_shouldYield,aO=Nr.unstable_requestPaint,tn=Nr.unstable_now,oO=Nr.unstable_getCurrentPriorityLevel,Px=Nr.unstable_ImmediatePriority,aN=Nr.unstable_UserBlockingPriority,Pf=Nr.unstable_NormalPriority,lO=Nr.unstable_LowPriority,oN=Nr.unstable_IdlePriority,zm=null,ks=null;function cO(t){if(ks&&typeof ks.onCommitFiberRoot=="function")try{ks.onCommitFiberRoot(zm,t,void 0,(t.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:hO,uO=Math.log,dO=Math.LN2;function hO(t){return t>>>=0,t===0?32:31-(uO(t)/dO|0)|0}var Eh=64,Th=4194304;function pu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Af(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=pu(l):(i&=a,i!==0&&(r=pu(i)))}else a=n&~s,a!==0?r=pu(a):i!==0&&(r=pu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ls(e),s=1<<n,r|=t[n],e&=~s;return r}function fO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-ls(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=fO(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Vy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lN(){var t=Eh;return Eh<<=1,!(Eh&4194240)&&(Eh=64),t}function bg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ls(e),t[e]=n}function pO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ls(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ax(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ls(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var vt=0;function cN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uN,jx,dN,hN,fN,Fy=!1,Sh=[],ua=null,da=null,ha=null,Ku=new Map,Qu=new Map,Qi=[],gO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hb(t,e){switch(t){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":Ku.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qu.delete(e.pointerId)}}function eu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Dd(e),e!==null&&jx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function yO(t,e,n,r,s){switch(e){case"focusin":return ua=eu(ua,t,e,n,r,s),!0;case"dragenter":return da=eu(da,t,e,n,r,s),!0;case"mouseover":return ha=eu(ha,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ku.set(i,eu(Ku.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Qu.set(i,eu(Qu.get(i)||null,t,e,n,r,s)),!0}return!1}function mN(t){var e=co(t.target);if(e!==null){var n=Wo(e);if(n!==null){if(e=n.tag,e===13){if(e=nN(n),e!==null){t.blockedOn=e,fN(t.priority,function(){dN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dy=r,n.target.dispatchEvent(r),Dy=null}else return e=Dd(n),e!==null&&jx(e),t.blockedOn=n,!1;e.shift()}return!0}function fb(t,e,n){Jh(t)&&n.delete(e)}function vO(){Fy=!1,ua!==null&&Jh(ua)&&(ua=null),da!==null&&Jh(da)&&(da=null),ha!==null&&Jh(ha)&&(ha=null),Ku.forEach(fb),Qu.forEach(fb)}function tu(t,e){t.blockedOn===e&&(t.blockedOn=null,Fy||(Fy=!0,Nr.unstable_scheduleCallback(Nr.unstable_NormalPriority,vO)))}function Yu(t){function e(s){return tu(s,t)}if(0<Sh.length){tu(Sh[0],t);for(var n=1;n<Sh.length;n++){var r=Sh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ua!==null&&tu(ua,t),da!==null&&tu(da,t),ha!==null&&tu(ha,t),Ku.forEach(e),Qu.forEach(e),n=0;n<Qi.length;n++)r=Qi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qi.length&&(n=Qi[0],n.blockedOn===null);)mN(n),n.blockedOn===null&&Qi.shift()}var jl=Ii.ReactCurrentBatchConfig,jf=!0;function xO(t,e,n,r){var s=vt,i=jl.transition;jl.transition=null;try{vt=1,Rx(t,e,n,r)}finally{vt=s,jl.transition=i}}function wO(t,e,n,r){var s=vt,i=jl.transition;jl.transition=null;try{vt=4,Rx(t,e,n,r)}finally{vt=s,jl.transition=i}}function Rx(t,e,n,r){if(jf){var s=Uy(t,e,n,r);if(s===null)jg(t,e,r,Rf,n),hb(t,r);else if(yO(s,t,e,n,r))r.stopPropagation();else if(hb(t,r),e&4&&-1<gO.indexOf(t)){for(;s!==null;){var i=Dd(s);if(i!==null&&uN(i),i=Uy(t,e,n,r),i===null&&jg(t,e,r,Rf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else jg(t,e,r,null,n)}}var Rf=null;function Uy(t,e,n,r){if(Rf=null,t=kx(r),t=co(t),t!==null)if(e=Wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rf=t,null}function pN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oO()){case Px:return 1;case aN:return 4;case Pf:case lO:return 16;case oN:return 536870912;default:return 16}default:return 16}}var ia=null,Dx=null,ef=null;function gN(){if(ef)return ef;var t,e=Dx,n=e.length,r,s="value"in ia?ia.value:ia.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return ef=s.slice(t,1<r?1-r:void 0)}function tf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nh(){return!0}function mb(){return!1}function Pr(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nh:mb,this.isPropagationStopped=mb,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nh)},persist:function(){},isPersistent:Nh}),e}var Ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ox=Pr(Ec),Rd=qt({},Ec,{view:0,detail:0}),_O=Pr(Rd),Eg,Tg,nu,Wm=qt({},Rd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nu&&(nu&&t.type==="mousemove"?(Eg=t.screenX-nu.screenX,Tg=t.screenY-nu.screenY):Tg=Eg=0,nu=t),Eg)},movementY:function(t){return"movementY"in t?t.movementY:Tg}}),pb=Pr(Wm),bO=qt({},Wm,{dataTransfer:0}),EO=Pr(bO),TO=qt({},Rd,{relatedTarget:0}),Sg=Pr(TO),SO=qt({},Ec,{animationName:0,elapsedTime:0,pseudoElement:0}),NO=Pr(SO),CO=qt({},Ec,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IO=Pr(CO),kO=qt({},Ec,{data:0}),gb=Pr(kO),PO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jO[t])?!!e[t]:!1}function Mx(){return RO}var DO=qt({},Rd,{key:function(t){if(t.key){var e=PO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mx,charCode:function(t){return t.type==="keypress"?tf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OO=Pr(DO),MO=qt({},Wm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yb=Pr(MO),LO=qt({},Rd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mx}),VO=Pr(LO),FO=qt({},Ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),UO=Pr(FO),$O=qt({},Wm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BO=Pr($O),zO=[9,13,27,32],Lx=mi&&"CompositionEvent"in window,Cu=null;mi&&"documentMode"in document&&(Cu=document.documentMode);var WO=mi&&"TextEvent"in window&&!Cu,yN=mi&&(!Lx||Cu&&8<Cu&&11>=Cu),vb=" ",xb=!1;function vN(t,e){switch(t){case"keyup":return zO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xl=!1;function HO(t,e){switch(t){case"compositionend":return xN(e);case"keypress":return e.which!==32?null:(xb=!0,vb);case"textInput":return t=e.data,t===vb&&xb?null:t;default:return null}}function qO(t,e){if(xl)return t==="compositionend"||!Lx&&vN(t,e)?(t=gN(),ef=Dx=ia=null,xl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yN&&e.locale!=="ko"?null:e.data;default:return null}}var GO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GO[t.type]:e==="textarea"}function wN(t,e,n,r){XS(r),e=Df(e,"onChange"),0<e.length&&(n=new Ox("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Iu=null,Xu=null;function KO(t){AN(t,0)}function Hm(t){var e=bl(t);if(WS(e))return t}function QO(t,e){if(t==="change")return e}var _N=!1;if(mi){var Ng;if(mi){var Cg="oninput"in document;if(!Cg){var _b=document.createElement("div");_b.setAttribute("oninput","return;"),Cg=typeof _b.oninput=="function"}Ng=Cg}else Ng=!1;_N=Ng&&(!document.documentMode||9<document.documentMode)}function bb(){Iu&&(Iu.detachEvent("onpropertychange",bN),Xu=Iu=null)}function bN(t){if(t.propertyName==="value"&&Hm(Xu)){var e=[];wN(e,Xu,t,kx(t)),tN(KO,e)}}function YO(t,e,n){t==="focusin"?(bb(),Iu=e,Xu=n,Iu.attachEvent("onpropertychange",bN)):t==="focusout"&&bb()}function XO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hm(Xu)}function ZO(t,e){if(t==="click")return Hm(e)}function JO(t,e){if(t==="input"||t==="change")return Hm(e)}function eM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ds=typeof Object.is=="function"?Object.is:eM;function Zu(t,e){if(ds(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!by.call(e,s)||!ds(t[s],e[s]))return!1}return!0}function Eb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tb(t,e){var n=Eb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Eb(n)}}function EN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?EN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function TN(){for(var t=window,e=Cf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cf(t.document)}return e}function Vx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tM(t){var e=TN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&EN(n.ownerDocument.documentElement,n)){if(r!==null&&Vx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Tb(n,i);var a=Tb(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nM=mi&&"documentMode"in document&&11>=document.documentMode,wl=null,$y=null,ku=null,By=!1;function Sb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;By||wl==null||wl!==Cf(r)||(r=wl,"selectionStart"in r&&Vx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ku&&Zu(ku,r)||(ku=r,r=Df($y,"onSelect"),0<r.length&&(e=new Ox("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wl)))}function Ch(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _l={animationend:Ch("Animation","AnimationEnd"),animationiteration:Ch("Animation","AnimationIteration"),animationstart:Ch("Animation","AnimationStart"),transitionend:Ch("Transition","TransitionEnd")},Ig={},SN={};mi&&(SN=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function qm(t){if(Ig[t])return Ig[t];if(!_l[t])return t;var e=_l[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in SN)return Ig[t]=e[n];return t}var NN=qm("animationend"),CN=qm("animationiteration"),IN=qm("animationstart"),kN=qm("transitionend"),PN=new Map,Nb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ua(t,e){PN.set(t,e),zo(e,[t])}for(var kg=0;kg<Nb.length;kg++){var Pg=Nb[kg],rM=Pg.toLowerCase(),sM=Pg[0].toUpperCase()+Pg.slice(1);Ua(rM,"on"+sM)}Ua(NN,"onAnimationEnd");Ua(CN,"onAnimationIteration");Ua(IN,"onAnimationStart");Ua("dblclick","onDoubleClick");Ua("focusin","onFocus");Ua("focusout","onBlur");Ua(kN,"onTransitionEnd");Zl("onMouseEnter",["mouseout","mouseover"]);Zl("onMouseLeave",["mouseout","mouseover"]);Zl("onPointerEnter",["pointerout","pointerover"]);Zl("onPointerLeave",["pointerout","pointerover"]);zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iM=new Set("cancel close invalid load scroll toggle".split(" ").concat(gu));function Cb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rO(r,e,void 0,t),t.currentTarget=null}function AN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Cb(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Cb(s,l,u),i=c}}}if(kf)throw t=Ly,kf=!1,Ly=null,t}function Mt(t,e){var n=e[Gy];n===void 0&&(n=e[Gy]=new Set);var r=t+"__bubble";n.has(r)||(jN(e,t,2,!1),n.add(r))}function Ag(t,e,n){var r=0;e&&(r|=4),jN(n,t,r,e)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function Ju(t){if(!t[Ih]){t[Ih]=!0,FS.forEach(function(n){n!=="selectionchange"&&(iM.has(n)||Ag(n,!1,t),Ag(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ih]||(e[Ih]=!0,Ag("selectionchange",!1,e))}}function jN(t,e,n,r){switch(pN(e)){case 1:var s=xO;break;case 4:s=wO;break;default:s=Rx}n=s.bind(null,e,n,t),s=void 0,!My||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function jg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=co(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}tN(function(){var u=i,h=kx(n),f=[];e:{var m=PN.get(t);if(m!==void 0){var g=Ox,E=t;switch(t){case"keypress":if(tf(n)===0)break e;case"keydown":case"keyup":g=OO;break;case"focusin":E="focus",g=Sg;break;case"focusout":E="blur",g=Sg;break;case"beforeblur":case"afterblur":g=Sg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=pb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=EO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=VO;break;case NN:case CN:case IN:g=NO;break;case kN:g=UO;break;case"scroll":g=_O;break;case"wheel":g=BO;break;case"copy":case"cut":case"paste":g=IO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=yb}var w=(e&4)!==0,x=!w&&t==="scroll",b=w?m!==null?m+"Capture":null:m;w=[];for(var y=u,v;y!==null;){v=y;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,b!==null&&(T=Gu(y,b),T!=null&&w.push(ed(y,T,v)))),x)break;y=y.return}0<w.length&&(m=new g(m,E,null,n,h),f.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Dy&&(E=n.relatedTarget||n.fromElement)&&(co(E)||E[pi]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=u,E=E?co(E):null,E!==null&&(x=Wo(E),E!==x||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=u),g!==E)){if(w=pb,T="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=yb,T="onPointerLeave",b="onPointerEnter",y="pointer"),x=g==null?m:bl(g),v=E==null?m:bl(E),m=new w(T,y+"leave",g,n,h),m.target=x,m.relatedTarget=v,T=null,co(h)===u&&(w=new w(b,y+"enter",E,n,h),w.target=v,w.relatedTarget=x,T=w),x=T,g&&E)t:{for(w=g,b=E,y=0,v=w;v;v=sl(v))y++;for(v=0,T=b;T;T=sl(T))v++;for(;0<y-v;)w=sl(w),y--;for(;0<v-y;)b=sl(b),v--;for(;y--;){if(w===b||b!==null&&w===b.alternate)break t;w=sl(w),b=sl(b)}w=null}else w=null;g!==null&&Ib(f,m,g,w,!1),E!==null&&x!==null&&Ib(f,x,E,w,!0)}}e:{if(m=u?bl(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var I=QO;else if(wb(m))if(_N)I=JO;else{I=XO;var R=YO}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(I=ZO);if(I&&(I=I(t,u))){wN(f,I,n,h);break e}R&&R(t,m,u),t==="focusout"&&(R=m._wrapperState)&&R.controlled&&m.type==="number"&&ky(m,"number",m.value)}switch(R=u?bl(u):window,t){case"focusin":(wb(R)||R.contentEditable==="true")&&(wl=R,$y=u,ku=null);break;case"focusout":ku=$y=wl=null;break;case"mousedown":By=!0;break;case"contextmenu":case"mouseup":case"dragend":By=!1,Sb(f,n,h);break;case"selectionchange":if(nM)break;case"keydown":case"keyup":Sb(f,n,h)}var N;if(Lx)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else xl?vN(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(yN&&n.locale!=="ko"&&(xl||C!=="onCompositionStart"?C==="onCompositionEnd"&&xl&&(N=gN()):(ia=h,Dx="value"in ia?ia.value:ia.textContent,xl=!0)),R=Df(u,C),0<R.length&&(C=new gb(C,t,null,n,h),f.push({event:C,listeners:R}),N?C.data=N:(N=xN(n),N!==null&&(C.data=N)))),(N=WO?HO(t,n):qO(t,n))&&(u=Df(u,"onBeforeInput"),0<u.length&&(h=new gb("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=N))}AN(f,e)})}function ed(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Df(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gu(t,n),i!=null&&r.unshift(ed(t,i,s)),i=Gu(t,e),i!=null&&r.push(ed(t,i,s))),t=t.return}return r}function sl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ib(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Gu(n,i),c!=null&&a.unshift(ed(n,c,l))):s||(c=Gu(n,i),c!=null&&a.push(ed(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var aM=/\r\n?/g,oM=/\u0000|\uFFFD/g;function kb(t){return(typeof t=="string"?t:""+t).replace(aM,`
`).replace(oM,"")}function kh(t,e,n){if(e=kb(e),kb(t)!==e&&n)throw Error(ne(425))}function Of(){}var zy=null,Wy=null;function Hy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qy=typeof setTimeout=="function"?setTimeout:void 0,lM=typeof clearTimeout=="function"?clearTimeout:void 0,Pb=typeof Promise=="function"?Promise:void 0,cM=typeof queueMicrotask=="function"?queueMicrotask:typeof Pb<"u"?function(t){return Pb.resolve(null).then(t).catch(uM)}:qy;function uM(t){setTimeout(function(){throw t})}function Rg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Yu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Yu(e)}function fa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ab(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),Ss="__reactFiber$"+Tc,td="__reactProps$"+Tc,pi="__reactContainer$"+Tc,Gy="__reactEvents$"+Tc,dM="__reactListeners$"+Tc,hM="__reactHandles$"+Tc;function co(t){var e=t[Ss];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[Ss]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ab(t);t!==null;){if(n=t[Ss])return n;t=Ab(t)}return e}t=n,n=t.parentNode}return null}function Dd(t){return t=t[Ss]||t[pi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function Gm(t){return t[td]||null}var Ky=[],El=-1;function $a(t){return{current:t}}function Vt(t){0>El||(t.current=Ky[El],Ky[El]=null,El--)}function jt(t,e){El++,Ky[El]=t.current,t.current=e}var Ca={},Wn=$a(Ca),ur=$a(!1),No=Ca;function Jl(t,e){var n=t.type.contextTypes;if(!n)return Ca;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dr(t){return t=t.childContextTypes,t!=null}function Mf(){Vt(ur),Vt(Wn)}function jb(t,e,n){if(Wn.current!==Ca)throw Error(ne(168));jt(Wn,e),jt(ur,n)}function RN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ne(108,YD(t)||"Unknown",s));return qt({},n,r)}function Lf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ca,No=Wn.current,jt(Wn,t),jt(ur,ur.current),!0}function Rb(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=RN(t,e,No),r.__reactInternalMemoizedMergedChildContext=t,Vt(ur),Vt(Wn),jt(Wn,t)):Vt(ur),jt(ur,n)}var ei=null,Km=!1,Dg=!1;function DN(t){ei===null?ei=[t]:ei.push(t)}function fM(t){Km=!0,DN(t)}function Ba(){if(!Dg&&ei!==null){Dg=!0;var t=0,e=vt;try{var n=ei;for(vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ei=null,Km=!1}catch(s){throw ei!==null&&(ei=ei.slice(t+1)),iN(Px,Ba),s}finally{vt=e,Dg=!1}}return null}var Tl=[],Sl=0,Vf=null,Ff=0,Rr=[],Dr=0,Co=null,si=1,ii="";function ro(t,e){Tl[Sl++]=Ff,Tl[Sl++]=Vf,Vf=t,Ff=e}function ON(t,e,n){Rr[Dr++]=si,Rr[Dr++]=ii,Rr[Dr++]=Co,Co=t;var r=si;t=ii;var s=32-ls(r)-1;r&=~(1<<s),n+=1;var i=32-ls(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,si=1<<32-ls(e)+s|n<<s|r,ii=i+t}else si=1<<i|n<<s|r,ii=t}function Fx(t){t.return!==null&&(ro(t,1),ON(t,1,0))}function Ux(t){for(;t===Vf;)Vf=Tl[--Sl],Tl[Sl]=null,Ff=Tl[--Sl],Tl[Sl]=null;for(;t===Co;)Co=Rr[--Dr],Rr[Dr]=null,ii=Rr[--Dr],Rr[Dr]=null,si=Rr[--Dr],Rr[Dr]=null}var Tr=null,br=null,Ut=!1,ns=null;function MN(t,e){var n=Lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Db(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tr=t,br=fa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tr=t,br=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Co!==null?{id:si,overflow:ii}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tr=t,br=null,!0):!1;default:return!1}}function Qy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yy(t){if(Ut){var e=br;if(e){var n=e;if(!Db(t,e)){if(Qy(t))throw Error(ne(418));e=fa(n.nextSibling);var r=Tr;e&&Db(t,e)?MN(r,n):(t.flags=t.flags&-4097|2,Ut=!1,Tr=t)}}else{if(Qy(t))throw Error(ne(418));t.flags=t.flags&-4097|2,Ut=!1,Tr=t}}}function Ob(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tr=t}function Ph(t){if(t!==Tr)return!1;if(!Ut)return Ob(t),Ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hy(t.type,t.memoizedProps)),e&&(e=br)){if(Qy(t))throw LN(),Error(ne(418));for(;e;)MN(t,e),e=fa(e.nextSibling)}if(Ob(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){br=fa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}br=null}}else br=Tr?fa(t.stateNode.nextSibling):null;return!0}function LN(){for(var t=br;t;)t=fa(t.nextSibling)}function ec(){br=Tr=null,Ut=!1}function $x(t){ns===null?ns=[t]:ns.push(t)}var mM=Ii.ReactCurrentBatchConfig;function ru(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function Ah(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mb(t){var e=t._init;return e(t._payload)}function VN(t){function e(b,y){if(t){var v=b.deletions;v===null?(b.deletions=[y],b.flags|=16):v.push(y)}}function n(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function s(b,y){return b=ya(b,y),b.index=0,b.sibling=null,b}function i(b,y,v){return b.index=v,t?(v=b.alternate,v!==null?(v=v.index,v<y?(b.flags|=2,y):v):(b.flags|=2,y)):(b.flags|=1048576,y)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,y,v,T){return y===null||y.tag!==6?(y=$g(v,b.mode,T),y.return=b,y):(y=s(y,v),y.return=b,y)}function c(b,y,v,T){var I=v.type;return I===vl?h(b,y,v.props.children,T,v.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===qi&&Mb(I)===y.type)?(T=s(y,v.props),T.ref=ru(b,y,v),T.return=b,T):(T=cf(v.type,v.key,v.props,null,b.mode,T),T.ref=ru(b,y,v),T.return=b,T)}function u(b,y,v,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Bg(v,b.mode,T),y.return=b,y):(y=s(y,v.children||[]),y.return=b,y)}function h(b,y,v,T,I){return y===null||y.tag!==7?(y=Eo(v,b.mode,T,I),y.return=b,y):(y=s(y,v),y.return=b,y)}function f(b,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=$g(""+y,b.mode,v),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wh:return v=cf(y.type,y.key,y.props,null,b.mode,v),v.ref=ru(b,null,y),v.return=b,v;case yl:return y=Bg(y,b.mode,v),y.return=b,y;case qi:var T=y._init;return f(b,T(y._payload),v)}if(mu(y)||Zc(y))return y=Eo(y,b.mode,v,null),y.return=b,y;Ah(b,y)}return null}function m(b,y,v,T){var I=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return I!==null?null:l(b,y,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wh:return v.key===I?c(b,y,v,T):null;case yl:return v.key===I?u(b,y,v,T):null;case qi:return I=v._init,m(b,y,I(v._payload),T)}if(mu(v)||Zc(v))return I!==null?null:h(b,y,v,T,null);Ah(b,v)}return null}function g(b,y,v,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return b=b.get(v)||null,l(y,b,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case wh:return b=b.get(T.key===null?v:T.key)||null,c(y,b,T,I);case yl:return b=b.get(T.key===null?v:T.key)||null,u(y,b,T,I);case qi:var R=T._init;return g(b,y,v,R(T._payload),I)}if(mu(T)||Zc(T))return b=b.get(v)||null,h(y,b,T,I,null);Ah(y,T)}return null}function E(b,y,v,T){for(var I=null,R=null,N=y,C=y=0,P=null;N!==null&&C<v.length;C++){N.index>C?(P=N,N=null):P=N.sibling;var k=m(b,N,v[C],T);if(k===null){N===null&&(N=P);break}t&&N&&k.alternate===null&&e(b,N),y=i(k,y,C),R===null?I=k:R.sibling=k,R=k,N=P}if(C===v.length)return n(b,N),Ut&&ro(b,C),I;if(N===null){for(;C<v.length;C++)N=f(b,v[C],T),N!==null&&(y=i(N,y,C),R===null?I=N:R.sibling=N,R=N);return Ut&&ro(b,C),I}for(N=r(b,N);C<v.length;C++)P=g(N,b,C,v[C],T),P!==null&&(t&&P.alternate!==null&&N.delete(P.key===null?C:P.key),y=i(P,y,C),R===null?I=P:R.sibling=P,R=P);return t&&N.forEach(function(D){return e(b,D)}),Ut&&ro(b,C),I}function w(b,y,v,T){var I=Zc(v);if(typeof I!="function")throw Error(ne(150));if(v=I.call(v),v==null)throw Error(ne(151));for(var R=I=null,N=y,C=y=0,P=null,k=v.next();N!==null&&!k.done;C++,k=v.next()){N.index>C?(P=N,N=null):P=N.sibling;var D=m(b,N,k.value,T);if(D===null){N===null&&(N=P);break}t&&N&&D.alternate===null&&e(b,N),y=i(D,y,C),R===null?I=D:R.sibling=D,R=D,N=P}if(k.done)return n(b,N),Ut&&ro(b,C),I;if(N===null){for(;!k.done;C++,k=v.next())k=f(b,k.value,T),k!==null&&(y=i(k,y,C),R===null?I=k:R.sibling=k,R=k);return Ut&&ro(b,C),I}for(N=r(b,N);!k.done;C++,k=v.next())k=g(N,b,C,k.value,T),k!==null&&(t&&k.alternate!==null&&N.delete(k.key===null?C:k.key),y=i(k,y,C),R===null?I=k:R.sibling=k,R=k);return t&&N.forEach(function(A){return e(b,A)}),Ut&&ro(b,C),I}function x(b,y,v,T){if(typeof v=="object"&&v!==null&&v.type===vl&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case wh:e:{for(var I=v.key,R=y;R!==null;){if(R.key===I){if(I=v.type,I===vl){if(R.tag===7){n(b,R.sibling),y=s(R,v.props.children),y.return=b,b=y;break e}}else if(R.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===qi&&Mb(I)===R.type){n(b,R.sibling),y=s(R,v.props),y.ref=ru(b,R,v),y.return=b,b=y;break e}n(b,R);break}else e(b,R);R=R.sibling}v.type===vl?(y=Eo(v.props.children,b.mode,T,v.key),y.return=b,b=y):(T=cf(v.type,v.key,v.props,null,b.mode,T),T.ref=ru(b,y,v),T.return=b,b=T)}return a(b);case yl:e:{for(R=v.key;y!==null;){if(y.key===R)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(b,y.sibling),y=s(y,v.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else e(b,y);y=y.sibling}y=Bg(v,b.mode,T),y.return=b,b=y}return a(b);case qi:return R=v._init,x(b,y,R(v._payload),T)}if(mu(v))return E(b,y,v,T);if(Zc(v))return w(b,y,v,T);Ah(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(b,y.sibling),y=s(y,v),y.return=b,b=y):(n(b,y),y=$g(v,b.mode,T),y.return=b,b=y),a(b)):n(b,y)}return x}var tc=VN(!0),FN=VN(!1),Uf=$a(null),$f=null,Nl=null,Bx=null;function zx(){Bx=Nl=$f=null}function Wx(t){var e=Uf.current;Vt(Uf),t._currentValue=e}function Xy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rl(t,e){$f=t,Bx=Nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cr=!0),t.firstContext=null)}function Fr(t){var e=t._currentValue;if(Bx!==t)if(t={context:t,memoizedValue:e,next:null},Nl===null){if($f===null)throw Error(ne(308));Nl=t,$f.dependencies={lanes:0,firstContext:t}}else Nl=Nl.next=t;return e}var uo=null;function Hx(t){uo===null?uo=[t]:uo.push(t)}function UN(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Hx(e)):(n.next=s.next,s.next=n),e.interleaved=n,gi(t,r)}function gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gi=!1;function qx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $N(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ma(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ot&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,gi(t,n)}return s=r.interleaved,s===null?(e.next=e,Hx(r)):(e.next=s.next,s.next=e),r.interleaved=e,gi(t,n)}function nf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ax(t,n)}}function Lb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bf(t,e,n,r){var s=t.updateQueue;Gi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=u=c=null,l=i;do{var m=l.lane,g=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var E=t,w=l;switch(m=e,g=n,w.tag){case 1:if(E=w.payload,typeof E=="function"){f=E.call(g,f,m);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=w.payload,m=typeof E=="function"?E.call(g,f,m):E,m==null)break e;f=qt({},f,m);break e;case 2:Gi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=f):h=h.next=g,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ko|=a,t.lanes=a,t.memoizedState=f}}function Vb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ne(191,s));s.call(r)}}}var Od={},Ps=$a(Od),nd=$a(Od),rd=$a(Od);function ho(t){if(t===Od)throw Error(ne(174));return t}function Gx(t,e){switch(jt(rd,e),jt(nd,t),jt(Ps,Od),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ay(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ay(e,t)}Vt(Ps),jt(Ps,e)}function nc(){Vt(Ps),Vt(nd),Vt(rd)}function BN(t){ho(rd.current);var e=ho(Ps.current),n=Ay(e,t.type);e!==n&&(jt(nd,t),jt(Ps,n))}function Kx(t){nd.current===t&&(Vt(Ps),Vt(nd))}var zt=$a(0);function zf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Og=[];function Qx(){for(var t=0;t<Og.length;t++)Og[t]._workInProgressVersionPrimary=null;Og.length=0}var rf=Ii.ReactCurrentDispatcher,Mg=Ii.ReactCurrentBatchConfig,Io=0,Wt=null,mn=null,wn=null,Wf=!1,Pu=!1,sd=0,pM=0;function Mn(){throw Error(ne(321))}function Yx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ds(t[n],e[n]))return!1;return!0}function Xx(t,e,n,r,s,i){if(Io=i,Wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rf.current=t===null||t.memoizedState===null?xM:wM,t=n(r,s),Pu){i=0;do{if(Pu=!1,sd=0,25<=i)throw Error(ne(301));i+=1,wn=mn=null,e.updateQueue=null,rf.current=_M,t=n(r,s)}while(Pu)}if(rf.current=Hf,e=mn!==null&&mn.next!==null,Io=0,wn=mn=Wt=null,Wf=!1,e)throw Error(ne(300));return t}function Zx(){var t=sd!==0;return sd=0,t}function xs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Wt.memoizedState=wn=t:wn=wn.next=t,wn}function Ur(){if(mn===null){var t=Wt.alternate;t=t!==null?t.memoizedState:null}else t=mn.next;var e=wn===null?Wt.memoizedState:wn.next;if(e!==null)wn=e,mn=t;else{if(t===null)throw Error(ne(310));mn=t,t={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},wn===null?Wt.memoizedState=wn=t:wn=wn.next=t}return wn}function id(t,e){return typeof e=="function"?e(t):e}function Lg(t){var e=Ur(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=mn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((Io&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Wt.lanes|=h,ko|=h}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,ds(r,e.memoizedState)||(cr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Wt.lanes|=i,ko|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vg(t){var e=Ur(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ds(i,e.memoizedState)||(cr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function zN(){}function WN(t,e){var n=Wt,r=Ur(),s=e(),i=!ds(r.memoizedState,s);if(i&&(r.memoizedState=s,cr=!0),r=r.queue,Jx(GN.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||wn!==null&&wn.memoizedState.tag&1){if(n.flags|=2048,ad(9,qN.bind(null,n,r,s,e),void 0,null),_n===null)throw Error(ne(349));Io&30||HN(n,e,s)}return s}function HN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qN(t,e,n,r){e.value=n,e.getSnapshot=r,KN(e)&&QN(t)}function GN(t,e,n){return n(function(){KN(e)&&QN(t)})}function KN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ds(t,n)}catch{return!0}}function QN(t){var e=gi(t,1);e!==null&&cs(e,t,1,-1)}function Fb(t){var e=xs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:t},e.queue=t,t=t.dispatch=vM.bind(null,Wt,t),[e.memoizedState,t]}function ad(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Wt.updateQueue,e===null?(e={lastEffect:null,stores:null},Wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function YN(){return Ur().memoizedState}function sf(t,e,n,r){var s=xs();Wt.flags|=t,s.memoizedState=ad(1|e,n,void 0,r===void 0?null:r)}function Qm(t,e,n,r){var s=Ur();r=r===void 0?null:r;var i=void 0;if(mn!==null){var a=mn.memoizedState;if(i=a.destroy,r!==null&&Yx(r,a.deps)){s.memoizedState=ad(e,n,i,r);return}}Wt.flags|=t,s.memoizedState=ad(1|e,n,i,r)}function Ub(t,e){return sf(8390656,8,t,e)}function Jx(t,e){return Qm(2048,8,t,e)}function XN(t,e){return Qm(4,2,t,e)}function ZN(t,e){return Qm(4,4,t,e)}function JN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eC(t,e,n){return n=n!=null?n.concat([t]):null,Qm(4,4,JN.bind(null,e,t),n)}function ew(){}function tC(t,e){var n=Ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nC(t,e){var n=Ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rC(t,e,n){return Io&21?(ds(n,e)||(n=lN(),Wt.lanes|=n,ko|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cr=!0),t.memoizedState=n)}function gM(t,e){var n=vt;vt=n!==0&&4>n?n:4,t(!0);var r=Mg.transition;Mg.transition={};try{t(!1),e()}finally{vt=n,Mg.transition=r}}function sC(){return Ur().memoizedState}function yM(t,e,n){var r=ga(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iC(t))aC(e,n);else if(n=UN(t,e,n,r),n!==null){var s=Yn();cs(n,t,r,s),oC(n,e,r)}}function vM(t,e,n){var r=ga(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iC(t))aC(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,ds(l,a)){var c=e.interleaved;c===null?(s.next=s,Hx(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=UN(t,e,s,r),n!==null&&(s=Yn(),cs(n,t,r,s),oC(n,e,r))}}function iC(t){var e=t.alternate;return t===Wt||e!==null&&e===Wt}function aC(t,e){Pu=Wf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ax(t,n)}}var Hf={readContext:Fr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},xM={readContext:Fr,useCallback:function(t,e){return xs().memoizedState=[t,e===void 0?null:e],t},useContext:Fr,useEffect:Ub,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sf(4194308,4,JN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sf(4194308,4,t,e)},useInsertionEffect:function(t,e){return sf(4,2,t,e)},useMemo:function(t,e){var n=xs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yM.bind(null,Wt,t),[r.memoizedState,t]},useRef:function(t){var e=xs();return t={current:t},e.memoizedState=t},useState:Fb,useDebugValue:ew,useDeferredValue:function(t){return xs().memoizedState=t},useTransition:function(){var t=Fb(!1),e=t[0];return t=gM.bind(null,t[1]),xs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Wt,s=xs();if(Ut){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),_n===null)throw Error(ne(349));Io&30||HN(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ub(GN.bind(null,r,i,t),[t]),r.flags|=2048,ad(9,qN.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=xs(),e=_n.identifierPrefix;if(Ut){var n=ii,r=si;n=(r&~(1<<32-ls(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wM={readContext:Fr,useCallback:tC,useContext:Fr,useEffect:Jx,useImperativeHandle:eC,useInsertionEffect:XN,useLayoutEffect:ZN,useMemo:nC,useReducer:Lg,useRef:YN,useState:function(){return Lg(id)},useDebugValue:ew,useDeferredValue:function(t){var e=Ur();return rC(e,mn.memoizedState,t)},useTransition:function(){var t=Lg(id)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:zN,useSyncExternalStore:WN,useId:sC,unstable_isNewReconciler:!1},_M={readContext:Fr,useCallback:tC,useContext:Fr,useEffect:Jx,useImperativeHandle:eC,useInsertionEffect:XN,useLayoutEffect:ZN,useMemo:nC,useReducer:Vg,useRef:YN,useState:function(){return Vg(id)},useDebugValue:ew,useDeferredValue:function(t){var e=Ur();return mn===null?e.memoizedState=t:rC(e,mn.memoizedState,t)},useTransition:function(){var t=Vg(id)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:zN,useSyncExternalStore:WN,useId:sC,unstable_isNewReconciler:!1};function Xr(t,e){if(t&&t.defaultProps){e=qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ym={isMounted:function(t){return(t=t._reactInternals)?Wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yn(),s=ga(t),i=li(r,s);i.payload=e,n!=null&&(i.callback=n),e=ma(t,i,s),e!==null&&(cs(e,t,s,r),nf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yn(),s=ga(t),i=li(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ma(t,i,s),e!==null&&(cs(e,t,s,r),nf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yn(),r=ga(t),s=li(n,r);s.tag=2,e!=null&&(s.callback=e),e=ma(t,s,r),e!==null&&(cs(e,t,r,n),nf(e,t,r))}};function $b(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Zu(n,r)||!Zu(s,i):!0}function lC(t,e,n){var r=!1,s=Ca,i=e.contextType;return typeof i=="object"&&i!==null?i=Fr(i):(s=dr(e)?No:Wn.current,r=e.contextTypes,i=(r=r!=null)?Jl(t,s):Ca),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ym,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Bb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ym.enqueueReplaceState(e,e.state,null)}function Jy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},qx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Fr(i):(i=dr(e)?No:Wn.current,s.context=Jl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Zy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ym.enqueueReplaceState(s,s.state,null),Bf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function rc(t,e){try{var n="",r=e;do n+=QD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Fg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ev(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bM=typeof WeakMap=="function"?WeakMap:Map;function cC(t,e,n){n=li(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gf||(Gf=!0,uv=r),ev(t,e)},n}function uC(t,e,n){n=li(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ev(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ev(t,e),typeof r!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function zb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=MM.bind(null,t,e,n),e.then(t,t))}function Wb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=li(-1,1),e.tag=2,ma(n,e,1))),n.lanes|=1),t)}var EM=Ii.ReactCurrentOwner,cr=!1;function Gn(t,e,n,r){e.child=t===null?FN(e,null,n,r):tc(e,t.child,n,r)}function qb(t,e,n,r,s){n=n.render;var i=e.ref;return Rl(e,s),r=Xx(t,e,n,r,i,s),n=Zx(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yi(t,e,s)):(Ut&&n&&Fx(e),e.flags|=1,Gn(t,e,r,s),e.child)}function Gb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!lw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,dC(t,e,i,r,s)):(t=cf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zu,n(a,r)&&t.ref===e.ref)return yi(t,e,s)}return e.flags|=1,t=ya(i,r),t.ref=e.ref,t.return=e,e.child=t}function dC(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Zu(i,r)&&t.ref===e.ref)if(cr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(cr=!0);else return e.lanes=t.lanes,yi(t,e,s)}return tv(t,e,n,r,s)}function hC(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Il,vr),vr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jt(Il,vr),vr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,jt(Il,vr),vr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,jt(Il,vr),vr|=r;return Gn(t,e,s,n),e.child}function fC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tv(t,e,n,r,s){var i=dr(n)?No:Wn.current;return i=Jl(e,i),Rl(e,s),n=Xx(t,e,n,r,i,s),r=Zx(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,yi(t,e,s)):(Ut&&r&&Fx(e),e.flags|=1,Gn(t,e,n,s),e.child)}function Kb(t,e,n,r,s){if(dr(n)){var i=!0;Lf(e)}else i=!1;if(Rl(e,s),e.stateNode===null)af(t,e),lC(e,n,r),Jy(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fr(u):(u=dr(n)?No:Wn.current,u=Jl(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Bb(e,a,r,u),Gi=!1;var m=e.memoizedState;a.state=m,Bf(e,r,a,s),c=e.memoizedState,l!==r||m!==c||ur.current||Gi?(typeof h=="function"&&(Zy(e,n,h,r),c=e.memoizedState),(l=Gi||$b(e,n,l,r,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,$N(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Xr(e.type,l),a.props=u,f=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Fr(c):(c=dr(n)?No:Wn.current,c=Jl(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Bb(e,a,r,c),Gi=!1,m=e.memoizedState,a.state=m,Bf(e,r,a,s);var E=e.memoizedState;l!==f||m!==E||ur.current||Gi?(typeof g=="function"&&(Zy(e,n,g,r),E=e.memoizedState),(u=Gi||$b(e,n,u,r,m,E,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,E,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,E,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),a.props=r,a.state=E,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return nv(t,e,n,r,i,s)}function nv(t,e,n,r,s,i){fC(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Rb(e,n,!1),yi(t,e,i);r=e.stateNode,EM.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=tc(e,t.child,null,i),e.child=tc(e,null,l,i)):Gn(t,e,l,i),e.memoizedState=r.state,s&&Rb(e,n,!0),e.child}function mC(t){var e=t.stateNode;e.pendingContext?jb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jb(t,e.context,!1),Gx(t,e.containerInfo)}function Qb(t,e,n,r,s){return ec(),$x(s),e.flags|=256,Gn(t,e,n,r),e.child}var rv={dehydrated:null,treeContext:null,retryLane:0};function sv(t){return{baseLanes:t,cachePool:null,transitions:null}}function pC(t,e,n){var r=e.pendingProps,s=zt.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),jt(zt,s&1),t===null)return Yy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Jm(a,r,0,null),t=Eo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=sv(n),e.memoizedState=rv,t):tw(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return TM(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ya(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ya(l,i):(i=Eo(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?sv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=rv,r}return i=t.child,t=i.sibling,r=ya(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tw(t,e){return e=Jm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jh(t,e,n,r){return r!==null&&$x(r),tc(e,t.child,null,n),t=tw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TM(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Fg(Error(ne(422))),jh(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Jm({mode:"visible",children:r.children},s,0,null),i=Eo(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&tc(e,t.child,null,a),e.child.memoizedState=sv(a),e.memoizedState=rv,i);if(!(e.mode&1))return jh(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ne(419)),r=Fg(i,r,void 0),jh(t,e,a,r)}if(l=(a&t.childLanes)!==0,cr||l){if(r=_n,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gi(t,s),cs(r,t,s,-1))}return ow(),r=Fg(Error(ne(421))),jh(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=LM.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,br=fa(s.nextSibling),Tr=e,Ut=!0,ns=null,t!==null&&(Rr[Dr++]=si,Rr[Dr++]=ii,Rr[Dr++]=Co,si=t.id,ii=t.overflow,Co=e),e=tw(e,r.children),e.flags|=4096,e)}function Yb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xy(t.return,e,n)}function Ug(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function gC(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Gn(t,e,r.children,n),r=zt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yb(t,n,e);else if(t.tag===19)Yb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(jt(zt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&zf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ug(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&zf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ug(e,!0,n,null,i);break;case"together":Ug(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function af(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ko|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=ya(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ya(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SM(t,e,n){switch(e.tag){case 3:mC(e),ec();break;case 5:BN(e);break;case 1:dr(e.type)&&Lf(e);break;case 4:Gx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;jt(Uf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(jt(zt,zt.current&1),e.flags|=128,null):n&e.child.childLanes?pC(t,e,n):(jt(zt,zt.current&1),t=yi(t,e,n),t!==null?t.sibling:null);jt(zt,zt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gC(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),jt(zt,zt.current),r)break;return null;case 22:case 23:return e.lanes=0,hC(t,e,n)}return yi(t,e,n)}var yC,iv,vC,xC;yC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};iv=function(){};vC=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ho(Ps.current);var i=null;switch(n){case"input":s=Cy(t,s),r=Cy(t,r),i=[];break;case"select":s=qt({},s,{value:void 0}),r=qt({},r,{value:void 0}),i=[];break;case"textarea":s=Py(t,s),r=Py(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Of)}jy(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Hu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Hu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Mt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};xC=function(t,e,n,r){n!==r&&(e.flags|=4)};function su(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NM(t,e,n){var r=e.pendingProps;switch(Ux(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(e),null;case 1:return dr(e.type)&&Mf(),Ln(e),null;case 3:return r=e.stateNode,nc(),Vt(ur),Vt(Wn),Qx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ph(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ns!==null&&(fv(ns),ns=null))),iv(t,e),Ln(e),null;case 5:Kx(e);var s=ho(rd.current);if(n=e.type,t!==null&&e.stateNode!=null)vC(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return Ln(e),null}if(t=ho(Ps.current),Ph(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ss]=e,r[td]=i,t=(e.mode&1)!==0,n){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(s=0;s<gu.length;s++)Mt(gu[s],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":ib(r,i),Mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Mt("invalid",r);break;case"textarea":ob(r,i),Mt("invalid",r)}jy(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&kh(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&kh(r.textContent,l,t),s=["children",""+l]):Hu.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Mt("scroll",r)}switch(n){case"input":_h(r),ab(r,i,!0);break;case"textarea":_h(r),lb(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Of)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=GS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ss]=e,t[td]=r,yC(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ry(n,r),n){case"dialog":Mt("cancel",t),Mt("close",t),s=r;break;case"iframe":case"object":case"embed":Mt("load",t),s=r;break;case"video":case"audio":for(s=0;s<gu.length;s++)Mt(gu[s],t);s=r;break;case"source":Mt("error",t),s=r;break;case"img":case"image":case"link":Mt("error",t),Mt("load",t),s=r;break;case"details":Mt("toggle",t),s=r;break;case"input":ib(t,r),s=Cy(t,r),Mt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=qt({},r,{value:void 0}),Mt("invalid",t);break;case"textarea":ob(t,r),s=Py(t,r),Mt("invalid",t);break;default:s=r}jy(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?YS(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&KS(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&qu(t,c):typeof c=="number"&&qu(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Mt("scroll",t):c!=null&&Sx(t,i,c,a))}switch(n){case"input":_h(t),ab(t,r,!1);break;case"textarea":_h(t),lb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Na(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?kl(t,!!r.multiple,i,!1):r.defaultValue!=null&&kl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Of)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ln(e),null;case 6:if(t&&e.stateNode!=null)xC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=ho(rd.current),ho(Ps.current),Ph(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ss]=e,(i=r.nodeValue!==n)&&(t=Tr,t!==null))switch(t.tag){case 3:kh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ss]=e,e.stateNode=r}return Ln(e),null;case 13:if(Vt(zt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ut&&br!==null&&e.mode&1&&!(e.flags&128))LN(),ec(),e.flags|=98560,i=!1;else if(i=Ph(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ne(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ne(317));i[Ss]=e}else ec(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ln(e),i=!1}else ns!==null&&(fv(ns),ns=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||zt.current&1?pn===0&&(pn=3):ow())),e.updateQueue!==null&&(e.flags|=4),Ln(e),null);case 4:return nc(),iv(t,e),t===null&&Ju(e.stateNode.containerInfo),Ln(e),null;case 10:return Wx(e.type._context),Ln(e),null;case 17:return dr(e.type)&&Mf(),Ln(e),null;case 19:if(Vt(zt),i=e.memoizedState,i===null)return Ln(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)su(i,!1);else{if(pn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=zf(t),a!==null){for(e.flags|=128,su(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return jt(zt,zt.current&1|2),e.child}t=t.sibling}i.tail!==null&&tn()>sc&&(e.flags|=128,r=!0,su(i,!1),e.lanes=4194304)}else{if(!r)if(t=zf(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),su(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ut)return Ln(e),null}else 2*tn()-i.renderingStartTime>sc&&n!==1073741824&&(e.flags|=128,r=!0,su(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=tn(),e.sibling=null,n=zt.current,jt(zt,r?n&1|2:n&1),e):(Ln(e),null);case 22:case 23:return aw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vr&1073741824&&(Ln(e),e.subtreeFlags&6&&(e.flags|=8192)):Ln(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function CM(t,e){switch(Ux(e),e.tag){case 1:return dr(e.type)&&Mf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nc(),Vt(ur),Vt(Wn),Qx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kx(e),null;case 13:if(Vt(zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));ec()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vt(zt),null;case 4:return nc(),null;case 10:return Wx(e.type._context),null;case 22:case 23:return aw(),null;case 24:return null;default:return null}}var Rh=!1,$n=!1,IM=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Cl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xt(t,e,r)}else n.current=null}function av(t,e,n){try{n()}catch(r){Xt(t,e,r)}}var Xb=!1;function kM(t,e){if(zy=jf,t=TN(),Vx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++u===s&&(l=a),m===i&&++h===r&&(c=a),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wy={focusedElem:t,selectionRange:n},jf=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var w=E.memoizedProps,x=E.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?w:Xr(e.type,w),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(T){Xt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return E=Xb,Xb=!1,E}function Au(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&av(e,n,i)}s=s.next}while(s!==r)}}function Xm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ov(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wC(t){var e=t.alternate;e!==null&&(t.alternate=null,wC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ss],delete e[td],delete e[Gy],delete e[dM],delete e[hM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _C(t){return t.tag===5||t.tag===3||t.tag===4}function Zb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_C(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Of));else if(r!==4&&(t=t.child,t!==null))for(lv(t,e,n),t=t.sibling;t!==null;)lv(t,e,n),t=t.sibling}function cv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cv(t,e,n),t=t.sibling;t!==null;)cv(t,e,n),t=t.sibling}var Nn=null,ts=!1;function Fi(t,e,n){for(n=n.child;n!==null;)bC(t,e,n),n=n.sibling}function bC(t,e,n){if(ks&&typeof ks.onCommitFiberUnmount=="function")try{ks.onCommitFiberUnmount(zm,n)}catch{}switch(n.tag){case 5:$n||Cl(n,e);case 6:var r=Nn,s=ts;Nn=null,Fi(t,e,n),Nn=r,ts=s,Nn!==null&&(ts?(t=Nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nn.removeChild(n.stateNode));break;case 18:Nn!==null&&(ts?(t=Nn,n=n.stateNode,t.nodeType===8?Rg(t.parentNode,n):t.nodeType===1&&Rg(t,n),Yu(t)):Rg(Nn,n.stateNode));break;case 4:r=Nn,s=ts,Nn=n.stateNode.containerInfo,ts=!0,Fi(t,e,n),Nn=r,ts=s;break;case 0:case 11:case 14:case 15:if(!$n&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&av(n,e,a),s=s.next}while(s!==r)}Fi(t,e,n);break;case 1:if(!$n&&(Cl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Xt(n,e,l)}Fi(t,e,n);break;case 21:Fi(t,e,n);break;case 22:n.mode&1?($n=(r=$n)||n.memoizedState!==null,Fi(t,e,n),$n=r):Fi(t,e,n);break;default:Fi(t,e,n)}}function Jb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IM),e.forEach(function(r){var s=VM.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Kr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Nn=l.stateNode,ts=!1;break e;case 3:Nn=l.stateNode.containerInfo,ts=!0;break e;case 4:Nn=l.stateNode.containerInfo,ts=!0;break e}l=l.return}if(Nn===null)throw Error(ne(160));bC(i,a,s),Nn=null,ts=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Xt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)EC(e,t),e=e.sibling}function EC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kr(e,t),vs(t),r&4){try{Au(3,t,t.return),Xm(3,t)}catch(w){Xt(t,t.return,w)}try{Au(5,t,t.return)}catch(w){Xt(t,t.return,w)}}break;case 1:Kr(e,t),vs(t),r&512&&n!==null&&Cl(n,n.return);break;case 5:if(Kr(e,t),vs(t),r&512&&n!==null&&Cl(n,n.return),t.flags&32){var s=t.stateNode;try{qu(s,"")}catch(w){Xt(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&HS(s,i),Ry(l,a);var u=Ry(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?YS(s,f):h==="dangerouslySetInnerHTML"?KS(s,f):h==="children"?qu(s,f):Sx(s,h,f,u)}switch(l){case"input":Iy(s,i);break;case"textarea":qS(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?kl(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?kl(s,!!i.multiple,i.defaultValue,!0):kl(s,!!i.multiple,i.multiple?[]:"",!1))}s[td]=i}catch(w){Xt(t,t.return,w)}}break;case 6:if(Kr(e,t),vs(t),r&4){if(t.stateNode===null)throw Error(ne(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Xt(t,t.return,w)}}break;case 3:if(Kr(e,t),vs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yu(e.containerInfo)}catch(w){Xt(t,t.return,w)}break;case 4:Kr(e,t),vs(t);break;case 13:Kr(e,t),vs(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sw=tn())),r&4&&Jb(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?($n=(u=$n)||h,Kr(e,t),$n=u):Kr(e,t),vs(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ge=t,h=t.child;h!==null;){for(f=ge=h;ge!==null;){switch(m=ge,g=m.child,m.tag){case 0:case 11:case 14:case 15:Au(4,m,m.return);break;case 1:Cl(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(w){Xt(r,n,w)}}break;case 5:Cl(m,m.return);break;case 22:if(m.memoizedState!==null){t1(f);continue}}g!==null?(g.return=m,ge=g):t1(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=QS("display",a))}catch(w){Xt(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Xt(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Kr(e,t),vs(t),r&4&&Jb(t);break;case 21:break;default:Kr(e,t),vs(t)}}function vs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_C(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qu(s,""),r.flags&=-33);var i=Zb(t);cv(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Zb(t);lv(t,l,a);break;default:throw Error(ne(161))}}catch(c){Xt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PM(t,e,n){ge=t,TC(t)}function TC(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var s=ge,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Rh;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||$n;l=Rh;var u=$n;if(Rh=a,($n=c)&&!u)for(ge=s;ge!==null;)a=ge,c=a.child,a.tag===22&&a.memoizedState!==null?n1(s):c!==null?(c.return=a,ge=c):n1(s);for(;i!==null;)ge=i,TC(i),i=i.sibling;ge=s,Rh=l,$n=u}e1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ge=i):e1(t)}}function e1(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$n||Xm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$n)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Xr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Vb(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Vb(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Yu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}$n||e.flags&512&&ov(e)}catch(m){Xt(e,e.return,m)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function t1(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function n1(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xm(4,e)}catch(c){Xt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Xt(e,s,c)}}var i=e.return;try{ov(e)}catch(c){Xt(e,i,c)}break;case 5:var a=e.return;try{ov(e)}catch(c){Xt(e,a,c)}}}catch(c){Xt(e,e.return,c)}if(e===t){ge=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ge=l;break}ge=e.return}}var AM=Math.ceil,qf=Ii.ReactCurrentDispatcher,nw=Ii.ReactCurrentOwner,Vr=Ii.ReactCurrentBatchConfig,ot=0,_n=null,cn=null,kn=0,vr=0,Il=$a(0),pn=0,od=null,ko=0,Zm=0,rw=0,ju=null,or=null,sw=0,sc=1/0,Js=null,Gf=!1,uv=null,pa=null,Dh=!1,aa=null,Kf=0,Ru=0,dv=null,of=-1,lf=0;function Yn(){return ot&6?tn():of!==-1?of:of=tn()}function ga(t){return t.mode&1?ot&2&&kn!==0?kn&-kn:mM.transition!==null?(lf===0&&(lf=lN()),lf):(t=vt,t!==0||(t=window.event,t=t===void 0?16:pN(t.type)),t):1}function cs(t,e,n,r){if(50<Ru)throw Ru=0,dv=null,Error(ne(185));jd(t,n,r),(!(ot&2)||t!==_n)&&(t===_n&&(!(ot&2)&&(Zm|=n),pn===4&&Yi(t,kn)),hr(t,r),n===1&&ot===0&&!(e.mode&1)&&(sc=tn()+500,Km&&Ba()))}function hr(t,e){var n=t.callbackNode;mO(t,e);var r=Af(t,t===_n?kn:0);if(r===0)n!==null&&db(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&db(n),e===1)t.tag===0?fM(r1.bind(null,t)):DN(r1.bind(null,t)),cM(function(){!(ot&6)&&Ba()}),n=null;else{switch(cN(r)){case 1:n=Px;break;case 4:n=aN;break;case 16:n=Pf;break;case 536870912:n=oN;break;default:n=Pf}n=jC(n,SC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function SC(t,e){if(of=-1,lf=0,ot&6)throw Error(ne(327));var n=t.callbackNode;if(Dl()&&t.callbackNode!==n)return null;var r=Af(t,t===_n?kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qf(t,r);else{e=r;var s=ot;ot|=2;var i=CC();(_n!==t||kn!==e)&&(Js=null,sc=tn()+500,bo(t,e));do try{DM();break}catch(l){NC(t,l)}while(!0);zx(),qf.current=i,ot=s,cn!==null?e=0:(_n=null,kn=0,e=pn)}if(e!==0){if(e===2&&(s=Vy(t),s!==0&&(r=s,e=hv(t,s))),e===1)throw n=od,bo(t,0),Yi(t,r),hr(t,tn()),n;if(e===6)Yi(t,r);else{if(s=t.current.alternate,!(r&30)&&!jM(s)&&(e=Qf(t,r),e===2&&(i=Vy(t),i!==0&&(r=i,e=hv(t,i))),e===1))throw n=od,bo(t,0),Yi(t,r),hr(t,tn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:so(t,or,Js);break;case 3:if(Yi(t,r),(r&130023424)===r&&(e=sw+500-tn(),10<e)){if(Af(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Yn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=qy(so.bind(null,t,or,Js),e);break}so(t,or,Js);break;case 4:if(Yi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-ls(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=tn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AM(r/1960))-r,10<r){t.timeoutHandle=qy(so.bind(null,t,or,Js),r);break}so(t,or,Js);break;case 5:so(t,or,Js);break;default:throw Error(ne(329))}}}return hr(t,tn()),t.callbackNode===n?SC.bind(null,t):null}function hv(t,e){var n=ju;return t.current.memoizedState.isDehydrated&&(bo(t,e).flags|=256),t=Qf(t,e),t!==2&&(e=or,or=n,e!==null&&fv(e)),t}function fv(t){or===null?or=t:or.push.apply(or,t)}function jM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ds(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yi(t,e){for(e&=~rw,e&=~Zm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ls(e),r=1<<n;t[n]=-1,e&=~r}}function r1(t){if(ot&6)throw Error(ne(327));Dl();var e=Af(t,0);if(!(e&1))return hr(t,tn()),null;var n=Qf(t,e);if(t.tag!==0&&n===2){var r=Vy(t);r!==0&&(e=r,n=hv(t,r))}if(n===1)throw n=od,bo(t,0),Yi(t,e),hr(t,tn()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,so(t,or,Js),hr(t,tn()),null}function iw(t,e){var n=ot;ot|=1;try{return t(e)}finally{ot=n,ot===0&&(sc=tn()+500,Km&&Ba())}}function Po(t){aa!==null&&aa.tag===0&&!(ot&6)&&Dl();var e=ot;ot|=1;var n=Vr.transition,r=vt;try{if(Vr.transition=null,vt=1,t)return t()}finally{vt=r,Vr.transition=n,ot=e,!(ot&6)&&Ba()}}function aw(){vr=Il.current,Vt(Il)}function bo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lM(n)),cn!==null)for(n=cn.return;n!==null;){var r=n;switch(Ux(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mf();break;case 3:nc(),Vt(ur),Vt(Wn),Qx();break;case 5:Kx(r);break;case 4:nc();break;case 13:Vt(zt);break;case 19:Vt(zt);break;case 10:Wx(r.type._context);break;case 22:case 23:aw()}n=n.return}if(_n=t,cn=t=ya(t.current,null),kn=vr=e,pn=0,od=null,rw=Zm=ko=0,or=ju=null,uo!==null){for(e=0;e<uo.length;e++)if(n=uo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}uo=null}return t}function NC(t,e){do{var n=cn;try{if(zx(),rf.current=Hf,Wf){for(var r=Wt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wf=!1}if(Io=0,wn=mn=Wt=null,Pu=!1,sd=0,nw.current=null,n===null||n.return===null){pn=1,od=e,cn=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=kn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Wb(a);if(g!==null){g.flags&=-257,Hb(g,a,l,i,e),g.mode&1&&zb(i,u,e),e=g,c=u;var E=e.updateQueue;if(E===null){var w=new Set;w.add(c),e.updateQueue=w}else E.add(c);break e}else{if(!(e&1)){zb(i,u,e),ow();break e}c=Error(ne(426))}}else if(Ut&&l.mode&1){var x=Wb(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Hb(x,a,l,i,e),$x(rc(c,l));break e}}i=c=rc(c,l),pn!==4&&(pn=2),ju===null?ju=[i]:ju.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=cC(i,c,e);Lb(i,b);break e;case 1:l=c;var y=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(pa===null||!pa.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=uC(i,l,e);Lb(i,T);break e}}i=i.return}while(i!==null)}kC(n)}catch(I){e=I,cn===n&&n!==null&&(cn=n=n.return);continue}break}while(!0)}function CC(){var t=qf.current;return qf.current=Hf,t===null?Hf:t}function ow(){(pn===0||pn===3||pn===2)&&(pn=4),_n===null||!(ko&268435455)&&!(Zm&268435455)||Yi(_n,kn)}function Qf(t,e){var n=ot;ot|=2;var r=CC();(_n!==t||kn!==e)&&(Js=null,bo(t,e));do try{RM();break}catch(s){NC(t,s)}while(!0);if(zx(),ot=n,qf.current=r,cn!==null)throw Error(ne(261));return _n=null,kn=0,pn}function RM(){for(;cn!==null;)IC(cn)}function DM(){for(;cn!==null&&!iO();)IC(cn)}function IC(t){var e=AC(t.alternate,t,vr);t.memoizedProps=t.pendingProps,e===null?kC(t):cn=e,nw.current=null}function kC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=CM(n,e),n!==null){n.flags&=32767,cn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pn=6,cn=null;return}}else if(n=NM(n,e,vr),n!==null){cn=n;return}if(e=e.sibling,e!==null){cn=e;return}cn=e=t}while(e!==null);pn===0&&(pn=5)}function so(t,e,n){var r=vt,s=Vr.transition;try{Vr.transition=null,vt=1,OM(t,e,n,r)}finally{Vr.transition=s,vt=r}return null}function OM(t,e,n,r){do Dl();while(aa!==null);if(ot&6)throw Error(ne(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(pO(t,i),t===_n&&(cn=_n=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dh||(Dh=!0,jC(Pf,function(){return Dl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vr.transition,Vr.transition=null;var a=vt;vt=1;var l=ot;ot|=4,nw.current=null,kM(t,n),EC(n,t),tM(Wy),jf=!!zy,Wy=zy=null,t.current=n,PM(n),aO(),ot=l,vt=a,Vr.transition=i}else t.current=n;if(Dh&&(Dh=!1,aa=t,Kf=s),i=t.pendingLanes,i===0&&(pa=null),cO(n.stateNode),hr(t,tn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Gf)throw Gf=!1,t=uv,uv=null,t;return Kf&1&&t.tag!==0&&Dl(),i=t.pendingLanes,i&1?t===dv?Ru++:(Ru=0,dv=t):Ru=0,Ba(),null}function Dl(){if(aa!==null){var t=cN(Kf),e=Vr.transition,n=vt;try{if(Vr.transition=null,vt=16>t?16:t,aa===null)var r=!1;else{if(t=aa,aa=null,Kf=0,ot&6)throw Error(ne(331));var s=ot;for(ot|=4,ge=t.current;ge!==null;){var i=ge,a=i.child;if(ge.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ge=u;ge!==null;){var h=ge;switch(h.tag){case 0:case 11:case 15:Au(8,h,i)}var f=h.child;if(f!==null)f.return=h,ge=f;else for(;ge!==null;){h=ge;var m=h.sibling,g=h.return;if(wC(h),h===u){ge=null;break}if(m!==null){m.return=g,ge=m;break}ge=g}}}var E=i.alternate;if(E!==null){var w=E.child;if(w!==null){E.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}ge=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ge=a;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Au(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ge=b;break e}ge=i.return}}var y=t.current;for(ge=y;ge!==null;){a=ge;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,ge=v;else e:for(a=y;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xm(9,l)}}catch(I){Xt(l,l.return,I)}if(l===a){ge=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,ge=T;break e}ge=l.return}}if(ot=s,Ba(),ks&&typeof ks.onPostCommitFiberRoot=="function")try{ks.onPostCommitFiberRoot(zm,t)}catch{}r=!0}return r}finally{vt=n,Vr.transition=e}}return!1}function s1(t,e,n){e=rc(n,e),e=cC(t,e,1),t=ma(t,e,1),e=Yn(),t!==null&&(jd(t,1,e),hr(t,e))}function Xt(t,e,n){if(t.tag===3)s1(t,t,n);else for(;e!==null;){if(e.tag===3){s1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pa===null||!pa.has(r))){t=rc(n,t),t=uC(e,t,1),e=ma(e,t,1),t=Yn(),e!==null&&(jd(e,1,t),hr(e,t));break}}e=e.return}}function MM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yn(),t.pingedLanes|=t.suspendedLanes&n,_n===t&&(kn&n)===n&&(pn===4||pn===3&&(kn&130023424)===kn&&500>tn()-sw?bo(t,0):rw|=n),hr(t,e)}function PC(t,e){e===0&&(t.mode&1?(e=Th,Th<<=1,!(Th&130023424)&&(Th=4194304)):e=1);var n=Yn();t=gi(t,e),t!==null&&(jd(t,e,n),hr(t,n))}function LM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PC(t,n)}function VM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),PC(t,n)}var AC;AC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ur.current)cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cr=!1,SM(t,e,n);cr=!!(t.flags&131072)}else cr=!1,Ut&&e.flags&1048576&&ON(e,Ff,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;af(t,e),t=e.pendingProps;var s=Jl(e,Wn.current);Rl(e,n),s=Xx(null,e,r,t,s,n);var i=Zx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dr(r)?(i=!0,Lf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qx(e),s.updater=Ym,e.stateNode=s,s._reactInternals=e,Jy(e,r,t,n),e=nv(null,e,r,!0,i,n)):(e.tag=0,Ut&&i&&Fx(e),Gn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(af(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=UM(r),t=Xr(r,t),s){case 0:e=tv(null,e,r,t,n);break e;case 1:e=Kb(null,e,r,t,n);break e;case 11:e=qb(null,e,r,t,n);break e;case 14:e=Gb(null,e,r,Xr(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xr(r,s),tv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xr(r,s),Kb(t,e,r,s,n);case 3:e:{if(mC(e),t===null)throw Error(ne(387));r=e.pendingProps,i=e.memoizedState,s=i.element,$N(t,e),Bf(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=rc(Error(ne(423)),e),e=Qb(t,e,r,n,s);break e}else if(r!==s){s=rc(Error(ne(424)),e),e=Qb(t,e,r,n,s);break e}else for(br=fa(e.stateNode.containerInfo.firstChild),Tr=e,Ut=!0,ns=null,n=FN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ec(),r===s){e=yi(t,e,n);break e}Gn(t,e,r,n)}e=e.child}return e;case 5:return BN(e),t===null&&Yy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Hy(r,s)?a=null:i!==null&&Hy(r,i)&&(e.flags|=32),fC(t,e),Gn(t,e,a,n),e.child;case 6:return t===null&&Yy(e),null;case 13:return pC(t,e,n);case 4:return Gx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=tc(e,null,r,n):Gn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xr(r,s),qb(t,e,r,s,n);case 7:return Gn(t,e,e.pendingProps,n),e.child;case 8:return Gn(t,e,e.pendingProps.children,n),e.child;case 12:return Gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,jt(Uf,r._currentValue),r._currentValue=a,i!==null)if(ds(i.value,a)){if(i.children===s.children&&!ur.current){e=yi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=li(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Xy(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(ne(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Xy(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Gn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Rl(e,n),s=Fr(s),r=r(s),e.flags|=1,Gn(t,e,r,n),e.child;case 14:return r=e.type,s=Xr(r,e.pendingProps),s=Xr(r.type,s),Gb(t,e,r,s,n);case 15:return dC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xr(r,s),af(t,e),e.tag=1,dr(r)?(t=!0,Lf(e)):t=!1,Rl(e,n),lC(e,r,s),Jy(e,r,s,n),nv(null,e,r,!0,t,n);case 19:return gC(t,e,n);case 22:return hC(t,e,n)}throw Error(ne(156,e.tag))};function jC(t,e){return iN(t,e)}function FM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(t,e,n,r){return new FM(t,e,n,r)}function lw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UM(t){if(typeof t=="function")return lw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cx)return 11;if(t===Ix)return 14}return 2}function ya(t,e){var n=t.alternate;return n===null?(n=Lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cf(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")lw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case vl:return Eo(n.children,s,i,e);case Nx:a=8,s|=8;break;case Ey:return t=Lr(12,n,e,s|2),t.elementType=Ey,t.lanes=i,t;case Ty:return t=Lr(13,n,e,s),t.elementType=Ty,t.lanes=i,t;case Sy:return t=Lr(19,n,e,s),t.elementType=Sy,t.lanes=i,t;case BS:return Jm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case US:a=10;break e;case $S:a=9;break e;case Cx:a=11;break e;case Ix:a=14;break e;case qi:a=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=Lr(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Eo(t,e,n,r){return t=Lr(7,t,r,e),t.lanes=n,t}function Jm(t,e,n,r){return t=Lr(22,t,r,e),t.elementType=BS,t.lanes=n,t.stateNode={isHidden:!1},t}function $g(t,e,n){return t=Lr(6,t,null,e),t.lanes=n,t}function Bg(t,e,n){return e=Lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $M(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bg(0),this.expirationTimes=bg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function cw(t,e,n,r,s,i,a,l,c){return t=new $M(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Lr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qx(i),t}function BM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function RC(t){if(!t)return Ca;t=t._reactInternals;e:{if(Wo(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(dr(n))return RN(t,n,e)}return e}function DC(t,e,n,r,s,i,a,l,c){return t=cw(n,r,!0,t,s,i,a,l,c),t.context=RC(null),n=t.current,r=Yn(),s=ga(n),i=li(r,s),i.callback=e??null,ma(n,i,s),t.current.lanes=s,jd(t,s,r),hr(t,r),t}function ep(t,e,n,r){var s=e.current,i=Yn(),a=ga(s);return n=RC(n),e.context===null?e.context=n:e.pendingContext=n,e=li(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ma(s,e,a),t!==null&&(cs(t,s,a,i),nf(t,s,a)),a}function Yf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function i1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uw(t,e){i1(t,e),(t=t.alternate)&&i1(t,e)}function zM(){return null}var OC=typeof reportError=="function"?reportError:function(t){console.error(t)};function dw(t){this._internalRoot=t}tp.prototype.render=dw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));ep(t,e,null,null)};tp.prototype.unmount=dw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Po(function(){ep(null,t,null,null)}),e[pi]=null}};function tp(t){this._internalRoot=t}tp.prototype.unstable_scheduleHydration=function(t){if(t){var e=hN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qi.length&&e!==0&&e<Qi[n].priority;n++);Qi.splice(n,0,t),n===0&&mN(t)}};function hw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function np(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a1(){}function WM(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Yf(a);i.call(u)}}var a=DC(e,r,t,0,null,!1,!1,"",a1);return t._reactRootContainer=a,t[pi]=a.current,Ju(t.nodeType===8?t.parentNode:t),Po(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Yf(c);l.call(u)}}var c=cw(t,0,!1,null,null,!1,!1,"",a1);return t._reactRootContainer=c,t[pi]=c.current,Ju(t.nodeType===8?t.parentNode:t),Po(function(){ep(e,c,n,r)}),c}function rp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Yf(a);l.call(c)}}ep(e,a,t,s)}else a=WM(n,e,t,s,r);return Yf(a)}uN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pu(e.pendingLanes);n!==0&&(Ax(e,n|1),hr(e,tn()),!(ot&6)&&(sc=tn()+500,Ba()))}break;case 13:Po(function(){var r=gi(t,1);if(r!==null){var s=Yn();cs(r,t,1,s)}}),uw(t,1)}};jx=function(t){if(t.tag===13){var e=gi(t,134217728);if(e!==null){var n=Yn();cs(e,t,134217728,n)}uw(t,134217728)}};dN=function(t){if(t.tag===13){var e=ga(t),n=gi(t,e);if(n!==null){var r=Yn();cs(n,t,e,r)}uw(t,e)}};hN=function(){return vt};fN=function(t,e){var n=vt;try{return vt=t,e()}finally{vt=n}};Oy=function(t,e,n){switch(e){case"input":if(Iy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Gm(r);if(!s)throw Error(ne(90));WS(r),Iy(r,s)}}}break;case"textarea":qS(t,n);break;case"select":e=n.value,e!=null&&kl(t,!!n.multiple,e,!1)}};JS=iw;eN=Po;var HM={usingClientEntryPoint:!1,Events:[Dd,bl,Gm,XS,ZS,iw]},iu={findFiberByHostInstance:co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qM={bundleType:iu.bundleType,version:iu.version,rendererPackageName:iu.rendererPackageName,rendererConfig:iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rN(t),t===null?null:t.stateNode},findFiberByHostInstance:iu.findFiberByHostInstance||zM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{zm=Oh.inject(qM),ks=Oh}catch{}}kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HM;kr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hw(e))throw Error(ne(200));return BM(t,e,null,n)};kr.createRoot=function(t,e){if(!hw(t))throw Error(ne(299));var n=!1,r="",s=OC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=cw(t,1,!1,null,null,n,!1,r,s),t[pi]=e.current,Ju(t.nodeType===8?t.parentNode:t),new dw(e)};kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=rN(e),t=t===null?null:t.stateNode,t};kr.flushSync=function(t){return Po(t)};kr.hydrate=function(t,e,n){if(!np(e))throw Error(ne(200));return rp(null,t,e,!0,n)};kr.hydrateRoot=function(t,e,n){if(!hw(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=OC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=DC(e,null,t,1,n??null,s,!1,i,a),t[pi]=e.current,Ju(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new tp(e)};kr.render=function(t,e,n){if(!np(e))throw Error(ne(200));return rp(null,t,e,!1,n)};kr.unmountComponentAtNode=function(t){if(!np(t))throw Error(ne(40));return t._reactRootContainer?(Po(function(){rp(null,null,t,!1,function(){t._reactRootContainer=null,t[pi]=null})}),!0):!1};kr.unstable_batchedUpdates=iw;kr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!np(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return rp(t,e,n,!1,r)};kr.version="18.3.1-next-f1338f8080-20240426";function MC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MC)}catch(t){console.error(t)}}MC(),MS.exports=kr;var Ho=MS.exports;const LC=TS(Ho);var VC,o1=Ho;VC=o1.createRoot,o1.hydrateRoot;const GM=1,KM=1e6;let zg=0;function QM(){return zg=(zg+1)%Number.MAX_SAFE_INTEGER,zg.toString()}const Wg=new Map,l1=t=>{if(Wg.has(t))return;const e=setTimeout(()=>{Wg.delete(t),Du({type:"REMOVE_TOAST",toastId:t})},KM);Wg.set(t,e)},YM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,GM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?l1(n):t.toasts.forEach(r=>{l1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},uf=[];let df={toasts:[]};function Du(t){df=YM(df,t),uf.forEach(e=>{e(df)})}function XM({...t}){const e=QM(),n=s=>Du({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Du({type:"DISMISS_TOAST",toastId:e});return Du({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function pr(){const[t,e]=p.useState(df);return p.useEffect(()=>(uf.push(e),()=>{const n=uf.indexOf(e);n>-1&&uf.splice(n,1)}),[t]),{...t,toast:XM,dismiss:n=>Du({type:"DISMISS_TOAST",toastId:n})}}function Se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function c1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function FC(...t){return e=>{let n=!1;const r=t.map(s=>{const i=c1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():c1(t[s],null)}}}}function Et(...t){return p.useCallback(FC(...t),t)}function ZM(t,e){const n=p.createContext(e),r=i=>{const{children:a,...l}=i,c=p.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=p.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ki(t,e=[]){let n=[];function r(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];const u=f=>{var b;const{scope:m,children:g,...E}=f,w=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,x=p.useMemo(()=>E,Object.values(E));return o.jsx(w.Provider,{value:x,children:g})};u.displayName=i+"Provider";function h(f,m){var w;const g=((w=m==null?void 0:m[t])==null?void 0:w[c])||l,E=p.useContext(g);if(E)return E;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,JM(s,...e)]}function JM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function ic(t){const e=e4(t),n=p.forwardRef((r,s)=>{const{children:i,...a}=r,l=p.Children.toArray(i),c=l.find(n4);if(c){const u=c.props.children,h=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,h):null})}return o.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var Sc=ic("Slot");function e4(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const a=s4(s),l=r4(i,s.props);return s.type!==p.Fragment&&(l.ref=r?FC(r,a):a),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var UC=Symbol("radix.slottable");function t4(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=UC,e}function n4(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===UC}function r4(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function s4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function fw(t){const e=t+"CollectionProvider",[n,r]=ki(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=w=>{const{scope:x,children:b}=w,y=Q.useRef(null),v=Q.useRef(new Map).current;return o.jsx(s,{scope:x,itemMap:v,collectionRef:y,children:b})};a.displayName=e;const l=t+"CollectionSlot",c=ic(l),u=Q.forwardRef((w,x)=>{const{scope:b,children:y}=w,v=i(l,b),T=Et(x,v.collectionRef);return o.jsx(c,{ref:T,children:y})});u.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=ic(h),g=Q.forwardRef((w,x)=>{const{scope:b,children:y,...v}=w,T=Q.useRef(null),I=Et(x,T),R=i(h,b);return Q.useEffect(()=>(R.itemMap.set(T,{ref:T,...v}),()=>void R.itemMap.delete(T))),o.jsx(m,{[f]:"",ref:I,children:y})});g.displayName=h;function E(w){const x=i(t+"CollectionConsumer",w);return Q.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((R,N)=>v.indexOf(R.ref.current)-v.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},E,r]}var i4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=i4.reduce((t,e)=>{const n=ic(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:a,...l}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function $C(t,e){t&&Ho.flushSync(()=>t.dispatchEvent(e))}function $r(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function a4(t,e=globalThis==null?void 0:globalThis.document){const n=$r(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var o4="DismissableLayer",mv="dismissableLayer.update",l4="dismissableLayer.pointerDownOutside",c4="dismissableLayer.focusOutside",u1,BC=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Md=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=p.useContext(BC),[h,f]=p.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),E=Et(e,N=>f(N)),w=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(x),y=h?w.indexOf(h):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,T=y>=b,I=d4(N=>{const C=N.target,P=[...u.branches].some(k=>k.contains(C));!T||P||(s==null||s(N),a==null||a(N),N.defaultPrevented||l==null||l())},m),R=h4(N=>{const C=N.target;[...u.branches].some(k=>k.contains(C))||(i==null||i(N),a==null||a(N),N.defaultPrevented||l==null||l())},m);return a4(N=>{y===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},m),p.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(u1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),d1(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=u1)}},[h,m,n,u]),p.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),d1())},[h,u]),p.useEffect(()=>{const N=()=>g({});return document.addEventListener(mv,N),()=>document.removeEventListener(mv,N)},[]),o.jsx(Ve.div,{...c,ref:E,style:{pointerEvents:v?T?"auto":"none":void 0,...t.style},onFocusCapture:Se(t.onFocusCapture,R.onFocusCapture),onBlurCapture:Se(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Se(t.onPointerDownCapture,I.onPointerDownCapture)})});Md.displayName=o4;var u4="DismissableLayerBranch",zC=p.forwardRef((t,e)=>{const n=p.useContext(BC),r=p.useRef(null),s=Et(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Ve.div,{...t,ref:s})});zC.displayName=u4;function d4(t,e=globalThis==null?void 0:globalThis.document){const n=$r(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){WC(l4,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function h4(t,e=globalThis==null?void 0:globalThis.document){const n=$r(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&WC(c4,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function d1(){const t=new CustomEvent(mv);document.dispatchEvent(t)}function WC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?$C(s,i):s.dispatchEvent(i)}var f4=Md,m4=zC,An=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},p4="Portal",sp=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=p.useState(!1);An(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?LC.createPortal(o.jsx(Ve.div,{...r,ref:e}),a):null});sp.displayName=p4;function g4(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var za=t=>{const{present:e,children:n}=t,r=y4(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=Et(r.ref,v4(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};za.displayName="Presence";function y4(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),a=t?"mounted":"unmounted",[l,c]=g4(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Mh(r.current);i.current=l==="mounted"?u:"none"},[l]),An(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,g=Mh(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),An(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=g=>{const w=Mh(r.current).includes(g.animationName);if(g.target===e&&w&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=g=>{g.target===e&&(i.current=Mh(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Mh(t){return(t==null?void 0:t.animationName)||"none"}function v4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var x4=bx[" useInsertionEffect ".trim().toString()]||An;function Ia({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=w4({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const h=p.useRef(t!==void 0);p.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=p.useCallback(h=>{var f;if(l){const m=_4(h)?h(t):h;m!==t&&((f=a.current)==null||f.call(a,m))}else i(h)},[l,t,i,a]);return[c,u]}function w4({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return x4(()=>{i.current=e},[e]),p.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function _4(t){return typeof t=="function"}var HC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),b4="VisuallyHidden",ip=p.forwardRef((t,e)=>o.jsx(Ve.span,{...t,ref:e,style:{...HC,...t.style}}));ip.displayName=b4;var E4=ip,mw="ToastProvider",[pw,T4,S4]=fw("Toast"),[qC,oQ]=ki("Toast",[S4]),[N4,ap]=qC(mw),GC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[l,c]=p.useState(null),[u,h]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${mw}\`. Expected non-empty \`string\`.`),o.jsx(pw.Provider,{scope:e,children:o.jsx(N4,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>h(g=>g+1),[]),onToastRemove:p.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:a})})};GC.displayName=mw;var KC="ToastViewport",C4=["F8"],pv="toast.viewportPause",gv="toast.viewportResume",QC=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=C4,label:s="Notifications ({hotkey})",...i}=t,a=ap(KC,n),l=T4(n),c=p.useRef(null),u=p.useRef(null),h=p.useRef(null),f=p.useRef(null),m=Et(e,f,a.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=a.toastCount>0;p.useEffect(()=>{const x=b=>{var v;r.length!==0&&r.every(T=>b[T]||b.code===T)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),p.useEffect(()=>{const x=c.current,b=f.current;if(E&&x&&b){const y=()=>{if(!a.isClosePausedRef.current){const R=new CustomEvent(pv);b.dispatchEvent(R),a.isClosePausedRef.current=!0}},v=()=>{if(a.isClosePausedRef.current){const R=new CustomEvent(gv);b.dispatchEvent(R),a.isClosePausedRef.current=!1}},T=R=>{!x.contains(R.relatedTarget)&&v()},I=()=>{x.contains(document.activeElement)||v()};return x.addEventListener("focusin",y),x.addEventListener("focusout",T),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",I),window.addEventListener("blur",y),window.addEventListener("focus",v),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",T),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",I),window.removeEventListener("blur",y),window.removeEventListener("focus",v)}}},[E,a.isClosePausedRef]);const w=p.useCallback(({tabbingDirection:x})=>{const y=l().map(v=>{const T=v.ref.current,I=[T,...U4(T)];return x==="forwards"?I:I.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return p.useEffect(()=>{const x=f.current;if(x){const b=y=>{var I,R,N;const v=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!v){const C=document.activeElement,P=y.shiftKey;if(y.target===x&&P){(I=u.current)==null||I.focus();return}const A=w({tabbingDirection:P?"backwards":"forwards"}),j=A.findIndex(F=>F===C);Hg(A.slice(j+1))?y.preventDefault():P?(R=u.current)==null||R.focus():(N=h.current)==null||N.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[l,w]),o.jsxs(m4,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&o.jsx(yv,{ref:u,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"forwards"});Hg(x)}}),o.jsx(pw.Slot,{scope:n,children:o.jsx(Ve.ol,{tabIndex:-1,...i,ref:m})}),E&&o.jsx(yv,{ref:h,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"backwards"});Hg(x)}})]})});QC.displayName=KC;var YC="ToastFocusProxy",yv=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=ap(YC,n);return o.jsx(ip,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});yv.displayName=YC;var Ld="Toast",I4="toast.swipeStart",k4="toast.swipeMove",P4="toast.swipeCancel",A4="toast.swipeEnd",XC=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=t,[l,c]=Ia({prop:r,defaultProp:s??!0,onChange:i,caller:Ld});return o.jsx(za,{present:n||l,children:o.jsx(D4,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:$r(t.onPause),onResume:$r(t.onResume),onSwipeStart:Se(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Se(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Se(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Se(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});XC.displayName=Ld;var[j4,R4]=qC(Ld,{onClose(){}}),D4=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...E}=t,w=ap(Ld,n),[x,b]=p.useState(null),y=Et(e,F=>b(F)),v=p.useRef(null),T=p.useRef(null),I=s||w.duration,R=p.useRef(0),N=p.useRef(I),C=p.useRef(0),{onToastAdd:P,onToastRemove:k}=w,D=$r(()=>{var J;(x==null?void 0:x.contains(document.activeElement))&&((J=w.viewport)==null||J.focus()),a()}),A=p.useCallback(F=>{!F||F===1/0||(window.clearTimeout(C.current),R.current=new Date().getTime(),C.current=window.setTimeout(D,F))},[D]);p.useEffect(()=>{const F=w.viewport;if(F){const J=()=>{A(N.current),u==null||u()},H=()=>{const te=new Date().getTime()-R.current;N.current=N.current-te,window.clearTimeout(C.current),c==null||c()};return F.addEventListener(pv,H),F.addEventListener(gv,J),()=>{F.removeEventListener(pv,H),F.removeEventListener(gv,J)}}},[w.viewport,I,c,u,A]),p.useEffect(()=>{i&&!w.isClosePausedRef.current&&A(I)},[i,I,w.isClosePausedRef,A]),p.useEffect(()=>(P(),()=>k()),[P,k]);const j=p.useMemo(()=>x?sI(x):null,[x]);return w.viewport?o.jsxs(o.Fragment,{children:[j&&o.jsx(O4,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),o.jsx(j4,{scope:n,onClose:D,children:Ho.createPortal(o.jsx(pw.ItemSlot,{scope:n,children:o.jsx(f4,{asChild:!0,onEscapeKeyDown:Se(l,()=>{w.isFocusedToastEscapeKeyDownRef.current||D(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...E,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Se(t.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Se(t.onPointerDown,F=>{F.button===0&&(v.current={x:F.clientX,y:F.clientY})}),onPointerMove:Se(t.onPointerMove,F=>{if(!v.current)return;const J=F.clientX-v.current.x,H=F.clientY-v.current.y,te=!!T.current,$=["left","right"].includes(w.swipeDirection),B=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,ee=$?B(0,J):0,le=$?0:B(0,H),ie=F.pointerType==="touch"?10:2,he={x:ee,y:le},we={originalEvent:F,delta:he};te?(T.current=he,Lh(k4,f,we,{discrete:!1})):h1(he,w.swipeDirection,ie)?(T.current=he,Lh(I4,h,we,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(J)>ie||Math.abs(H)>ie)&&(v.current=null)}),onPointerUp:Se(t.onPointerUp,F=>{const J=T.current,H=F.target;if(H.hasPointerCapture(F.pointerId)&&H.releasePointerCapture(F.pointerId),T.current=null,v.current=null,J){const te=F.currentTarget,$={originalEvent:F,delta:J};h1(J,w.swipeDirection,w.swipeThreshold)?Lh(A4,g,$,{discrete:!0}):Lh(P4,m,$,{discrete:!0}),te.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),O4=t=>{const{__scopeToast:e,children:n,...r}=t,s=ap(Ld,e),[i,a]=p.useState(!1),[l,c]=p.useState(!1);return V4(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(sp,{asChild:!0,children:o.jsx(ip,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},M4="ToastTitle",ZC=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Ve.div,{...r,ref:e})});ZC.displayName=M4;var L4="ToastDescription",JC=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Ve.div,{...r,ref:e})});JC.displayName=L4;var eI="ToastAction",tI=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(rI,{altText:n,asChild:!0,children:o.jsx(gw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${eI}\`. Expected non-empty \`string\`.`),null)});tI.displayName=eI;var nI="ToastClose",gw=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=R4(nI,n);return o.jsx(rI,{asChild:!0,children:o.jsx(Ve.button,{type:"button",...r,ref:e,onClick:Se(t.onClick,s.onClose)})})});gw.displayName=nI;var rI=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return o.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function sI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),F4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...sI(r))}}),e}function Lh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?$C(s,i):s.dispatchEvent(i)}var h1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function V4(t=()=>{}){const e=$r(t);An(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function F4(t){return t.nodeType===t.ELEMENT_NODE}function U4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Hg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var $4=GC,iI=QC,aI=XC,oI=ZC,lI=JC,cI=tI,uI=gw;function dI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=dI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=dI(t))&&(r&&(r+=" "),r+=e);return r}const f1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,m1=hI,qo=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return m1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const m=f1(h)||f1(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...g}=h;return Object.entries(g).every(E=>{let[w,x]=E;return Array.isArray(x)?x.includes({...i,...l}[w]):{...i,...l}[w]===x})?[...u,f,m]:u},[]);return m1(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...z4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fI("lucide",s),...l},[...a.map(([u,h])=>p.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(W4,{ref:i,iconNode:e,className:fI(`lucide-${B4(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=$e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=$e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=$e("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=$e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=$e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=$e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=$e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=$e("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=$e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=$e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=$e("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=$e("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=$e("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=$e("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=$e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=$e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=$e("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=$e("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=$e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=$e("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=$e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=$e("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=$e("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=$e("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=$e("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=$e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=$e("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=$e("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=$e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=$e("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=$e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),bw="-",uL=t=>{const e=hL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(bw);return l[0]===""&&l.length!==1&&l.shift(),bI(l,e)||dL(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},bI=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?bI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(bw);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},g1=/^\[(.+)\]$/,dL=t=>{if(g1.test(t)){const e=g1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},hL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return mL(Object.entries(t.classGroups),n).forEach(([i,a])=>{vv(a,r,i,e)}),r},vv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:y1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(fL(s)){vv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{vv(a,y1(e,i),n,r)})})},y1=(t,e)=>{let n=t;return e.split(bw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},fL=t=>t.isThemeGetter,mL=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,pL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},EI="!",gL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,h=0,f;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===s&&(r||l.slice(x,x+i)===e)){c.push(l.slice(h,x)),h=x+i;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const m=c.length===0?l:l.substring(h),g=m.startsWith(EI),E=g?m.substring(1):m,w=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:E,maybePostfixModifierPosition:w}};return n?l=>n({className:l,parseClassName:a}):a},yL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},vL=t=>({cache:pL(t.cacheSize),parseClassName:gL(t),...uL(t)}),xL=/\s+/,wL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(xL);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let E=!!g,w=r(E?m.substring(0,g):m);if(!w){if(!E){l=u+(l.length>0?" "+l:l);continue}if(w=r(m),!w){l=u+(l.length>0?" "+l:l);continue}E=!1}const x=yL(h).join(":"),b=f?x+EI:x,y=b+w;if(i.includes(y))continue;i.push(y);const v=s(w,E);for(let T=0;T<v.length;++T){const I=v[T];i.push(b+I)}l=u+(l.length>0?" "+l:l)}return l};function _L(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=TI(e))&&(r&&(r+=" "),r+=n);return r}const TI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=TI(t[r]))&&(n&&(n+=" "),n+=e);return n};function bL(t,...e){let n,r,s,i=a;function a(c){const u=e.reduce((h,f)=>f(h),t());return n=vL(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=wL(c,n);return s(c,h),h}return function(){return i(_L.apply(null,arguments))}}const Ot=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},SI=/^\[(?:([a-z-]+):)?(.+)\]$/i,EL=/^\d+\/\d+$/,TL=new Set(["px","full","screen"]),SL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,IL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ys=t=>Ol(t)||TL.has(t)||EL.test(t),Ui=t=>Nc(t,"length",LL),Ol=t=>!!t&&!Number.isNaN(Number(t)),qg=t=>Nc(t,"number",Ol),au=t=>!!t&&Number.isInteger(Number(t)),PL=t=>t.endsWith("%")&&Ol(t.slice(0,-1)),He=t=>SI.test(t),$i=t=>SL.test(t),AL=new Set(["length","size","percentage"]),jL=t=>Nc(t,AL,NI),RL=t=>Nc(t,"position",NI),DL=new Set(["image","url"]),OL=t=>Nc(t,DL,FL),ML=t=>Nc(t,"",VL),ou=()=>!0,Nc=(t,e,n)=>{const r=SI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},LL=t=>NL.test(t)&&!CL.test(t),NI=()=>!1,VL=t=>IL.test(t),FL=t=>kL.test(t),UL=()=>{const t=Ot("colors"),e=Ot("spacing"),n=Ot("blur"),r=Ot("brightness"),s=Ot("borderColor"),i=Ot("borderRadius"),a=Ot("borderSpacing"),l=Ot("borderWidth"),c=Ot("contrast"),u=Ot("grayscale"),h=Ot("hueRotate"),f=Ot("invert"),m=Ot("gap"),g=Ot("gradientColorStops"),E=Ot("gradientColorStopPositions"),w=Ot("inset"),x=Ot("margin"),b=Ot("opacity"),y=Ot("padding"),v=Ot("saturate"),T=Ot("scale"),I=Ot("sepia"),R=Ot("skew"),N=Ot("space"),C=Ot("translate"),P=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",He,e],A=()=>[He,e],j=()=>["",Ys,Ui],F=()=>["auto",Ol,He],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",He],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>[Ol,He];return{cacheSize:500,separator:":",theme:{colors:[ou],spacing:[Ys,Ui],blur:["none","",$i,He],brightness:le(),borderColor:[t],borderRadius:["none","","full",$i,He],borderSpacing:A(),borderWidth:j(),contrast:le(),grayscale:B(),hueRotate:le(),invert:B(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[PL,Ui],inset:D(),margin:D(),opacity:le(),padding:A(),saturate:le(),scale:le(),sepia:B(),skew:le(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",He]}],container:["container"],columns:[{columns:[$i]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),He]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",au,He]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",He]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",au,He]}],"grid-cols":[{"grid-cols":[ou]}],"col-start-end":[{col:["auto",{span:["full",au,He]},He]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[ou]}],"row-start-end":[{row:["auto",{span:[au,He]},He]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",He]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",He]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",He,e]}],"min-w":[{"min-w":[He,e,"min","max","fit"]}],"max-w":[{"max-w":[He,e,"none","full","min","max","fit","prose",{screen:[$i]},$i]}],h:[{h:[He,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[He,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[He,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[He,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$i,Ui]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qg]}],"font-family":[{font:[ou]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",He]}],"line-clamp":[{"line-clamp":["none",Ol,qg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ys,He]}],"list-image":[{"list-image":["none",He]}],"list-style-type":[{list:["none","disc","decimal",He]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ys,Ui]}],"underline-offset":[{"underline-offset":["auto",Ys,He]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),RL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Ys,He]}],"outline-w":[{outline:[Ys,Ui]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ys,Ui]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$i,ML]}],"shadow-color":[{shadow:[ou]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$i,He]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",He]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",He]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",He]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[au,He]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ys,Ui,qg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$L=bL(UL);function de(...t){return $L(hI(t))}const BL=$4,CI=p.forwardRef(({className:t,...e},n)=>o.jsx(iI,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));CI.displayName=iI.displayName;const zL=qo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),II=p.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(aI,{ref:r,className:de(zL({variant:e}),t),...n}));II.displayName=aI.displayName;const WL=p.forwardRef(({className:t,...e},n)=>o.jsx(cI,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));WL.displayName=cI.displayName;const kI=p.forwardRef(({className:t,...e},n)=>o.jsx(uI,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(lp,{className:"h-4 w-4"})}));kI.displayName=uI.displayName;const PI=p.forwardRef(({className:t,...e},n)=>o.jsx(oI,{ref:n,className:de("text-sm font-semibold",t),...e}));PI.displayName=oI.displayName;const AI=p.forwardRef(({className:t,...e},n)=>o.jsx(lI,{ref:n,className:de("text-sm opacity-90",t),...e}));AI.displayName=lI.displayName;function HL(){const{toasts:t}=pr();return o.jsxs(BL,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return o.jsxs(II,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(PI,{children:n}),r&&o.jsx(AI,{children:r})]}),s,o.jsx(kI,{})]},e)}),o.jsx(CI,{})]})}var v1=["light","dark"],qL="(prefers-color-scheme: dark)",GL=p.createContext(void 0),KL={setTheme:t=>{},themes:[]},QL=()=>{var t;return(t=p.useContext(GL))!=null?t:KL};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?v1.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(E,w=!1,x=!0)=>{let b=a?a[E]:E,y=w?E+"|| ''":`'${b}'`,v="";return s&&x&&!w&&v1.includes(E)&&(v+=`d.style.colorScheme = '${E}';`),n==="class"?w||b?v+=`c.add(${y})`:v+="null":b&&(v+=`d[s](n,${y})`),v},g=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${qL}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var YL=t=>{switch(t){case"success":return JL;case"info":return tV;case"warning":return eV;case"error":return nV;default:return null}},XL=Array(12).fill(0),ZL=({visible:t,className:e})=>Q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Q.createElement("div",{className:"sonner-spinner"},XL.map((n,r)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),JL=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rV=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),sV=()=>{let[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},xv=1,iV=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:xv++,a=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,a,l=s.then(async u=>{if(a=["resolve",u],Q.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(oV(u)&&!u.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,h)=>l.then(()=>a[0]==="reject"?h(a[1]):u(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||xv++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ir=new iV,aV=(t,e)=>{let n=(e==null?void 0:e.id)||xv++;return ir.addToast({title:t,...e,id:n}),n},oV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",lV=aV,cV=()=>ir.toasts,uV=()=>ir.getActiveToasts();Object.assign(lV,{success:ir.success,info:ir.info,warning:ir.warning,error:ir.error,custom:ir.custom,message:ir.message,promise:ir.promise,dismiss:ir.dismiss,loading:ir.loading},{getHistory:cV,getToasts:uV});function dV(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}dV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vh(t){return t.label!==void 0}var hV=3,fV="32px",mV="16px",x1=4e3,pV=356,gV=14,yV=20,vV=200;function Qr(...t){return t.filter(Boolean).join(" ")}function xV(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var wV=t=>{var e,n,r,s,i,a,l,c,u,h,f;let{invert:m,toast:g,unstyled:E,interacting:w,setHeights:x,visibleToasts:b,heights:y,index:v,toasts:T,expanded:I,removeToast:R,defaultRichColors:N,closeButton:C,style:P,cancelButtonStyle:k,actionButtonStyle:D,className:A="",descriptionClassName:j="",duration:F,position:J,gap:H,loadingIcon:te,expandByDefault:$,classNames:B,icons:ee,closeButtonAriaLabel:le="Close toast",pauseWhenPageIsHidden:ie}=t,[he,we]=Q.useState(null),[Ne,it]=Q.useState(null),[re,Be]=Q.useState(!1),[rt,je]=Q.useState(!1),[Pe,Ae]=Q.useState(!1),[xt,pe]=Q.useState(!1),[ve,Je]=Q.useState(!1),[ct,kt]=Q.useState(0),[Fe,L]=Q.useState(0),U=Q.useRef(g.duration||F||x1),M=Q.useRef(null),K=Q.useRef(null),V=v===0,W=v+1<=b,q=g.type,oe=g.dismissible!==!1,Ce=g.className||"",Tt=g.descriptionClassName||"",an=Q.useMemo(()=>y.findIndex(Re=>Re.toastId===g.id)||0,[y,g.id]),Bt=Q.useMemo(()=>{var Re;return(Re=g.closeButton)!=null?Re:C},[g.closeButton,C]),vn=Q.useMemo(()=>g.duration||F||x1,[g.duration,F]),et=Q.useRef(0),Rt=Q.useRef(0),bn=Q.useRef(0),qr=Q.useRef(null),[$c,Oi]=J.split("-"),Bc=Q.useMemo(()=>y.reduce((Re,at,St)=>St>=an?Re:Re+at.height,0),[y,an]),zc=sV(),Za=g.invert||m,Ja=q==="loading";Rt.current=Q.useMemo(()=>an*H+Bc,[an,Bc]),Q.useEffect(()=>{U.current=vn},[vn]),Q.useEffect(()=>{Be(!0)},[]),Q.useEffect(()=>{let Re=K.current;if(Re){let at=Re.getBoundingClientRect().height;return L(at),x(St=>[{toastId:g.id,height:at,position:g.position},...St]),()=>x(St=>St.filter(En=>En.toastId!==g.id))}},[x,g.id]),Q.useLayoutEffect(()=>{if(!re)return;let Re=K.current,at=Re.style.height;Re.style.height="auto";let St=Re.getBoundingClientRect().height;Re.style.height=at,L(St),x(En=>En.find(nr=>nr.toastId===g.id)?En.map(nr=>nr.toastId===g.id?{...nr,height:St}:nr):[{toastId:g.id,height:St,position:g.position},...En])},[re,g.title,g.description,x,g.id]);let Ar=Q.useCallback(()=>{je(!0),kt(Rt.current),x(Re=>Re.filter(at=>at.toastId!==g.id)),setTimeout(()=>{R(g)},vV)},[g,R,x,Rt]);Q.useEffect(()=>{if(g.promise&&q==="loading"||g.duration===1/0||g.type==="loading")return;let Re;return I||w||ie&&zc?(()=>{if(bn.current<et.current){let at=new Date().getTime()-et.current;U.current=U.current-at}bn.current=new Date().getTime()})():U.current!==1/0&&(et.current=new Date().getTime(),Re=setTimeout(()=>{var at;(at=g.onAutoClose)==null||at.call(g,g),Ar()},U.current)),()=>clearTimeout(Re)},[I,w,g,q,ie,zc,Ar]),Q.useEffect(()=>{g.delete&&Ar()},[Ar,g.delete]);function Gs(){var Re,at,St;return ee!=null&&ee.loading?Q.createElement("div",{className:Qr(B==null?void 0:B.loader,(Re=g==null?void 0:g.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":q==="loading"},ee.loading):te?Q.createElement("div",{className:Qr(B==null?void 0:B.loader,(at=g==null?void 0:g.classNames)==null?void 0:at.loader,"sonner-loader"),"data-visible":q==="loading"},te):Q.createElement(ZL,{className:Qr(B==null?void 0:B.loader,(St=g==null?void 0:g.classNames)==null?void 0:St.loader),visible:q==="loading"})}return Q.createElement("li",{tabIndex:0,ref:K,className:Qr(A,Ce,B==null?void 0:B.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[q],(n=g==null?void 0:g.classNames)==null?void 0:n[q]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:N,"data-styled":!(g.jsx||g.unstyled||E),"data-mounted":re,"data-promise":!!g.promise,"data-swiped":ve,"data-removed":rt,"data-visible":W,"data-y-position":$c,"data-x-position":Oi,"data-index":v,"data-front":V,"data-swiping":Pe,"data-dismissible":oe,"data-type":q,"data-invert":Za,"data-swipe-out":xt,"data-swipe-direction":Ne,"data-expanded":!!(I||$&&re),style:{"--index":v,"--toasts-before":v,"--z-index":T.length-v,"--offset":`${rt?ct:Rt.current}px`,"--initial-height":$?"auto":`${Fe}px`,...P,...g.style},onDragEnd:()=>{Ae(!1),we(null),qr.current=null},onPointerDown:Re=>{Ja||!oe||(M.current=new Date,kt(Rt.current),Re.target.setPointerCapture(Re.pointerId),Re.target.tagName!=="BUTTON"&&(Ae(!0),qr.current={x:Re.clientX,y:Re.clientY}))},onPointerUp:()=>{var Re,at,St,En;if(xt||!oe)return;qr.current=null;let nr=Number(((Re=K.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ft=Number(((at=K.current)==null?void 0:at.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ys=new Date().getTime()-((St=M.current)==null?void 0:St.getTime()),Tn=he==="x"?nr:Ft,rr=Math.abs(Tn)/ys;if(Math.abs(Tn)>=yV||rr>.11){kt(Rt.current),(En=g.onDismiss)==null||En.call(g,g),it(he==="x"?nr>0?"right":"left":Ft>0?"down":"up"),Ar(),pe(!0),Je(!1);return}Ae(!1),we(null)},onPointerMove:Re=>{var at,St,En,nr;if(!qr.current||!oe||((at=window.getSelection())==null?void 0:at.toString().length)>0)return;let Ft=Re.clientY-qr.current.y,ys=Re.clientX-qr.current.x,Tn=(St=t.swipeDirections)!=null?St:xV(J);!he&&(Math.abs(ys)>1||Math.abs(Ft)>1)&&we(Math.abs(ys)>Math.abs(Ft)?"x":"y");let rr={x:0,y:0};he==="y"?(Tn.includes("top")||Tn.includes("bottom"))&&(Tn.includes("top")&&Ft<0||Tn.includes("bottom")&&Ft>0)&&(rr.y=Ft):he==="x"&&(Tn.includes("left")||Tn.includes("right"))&&(Tn.includes("left")&&ys<0||Tn.includes("right")&&ys>0)&&(rr.x=ys),(Math.abs(rr.x)>0||Math.abs(rr.y)>0)&&Je(!0),(En=K.current)==null||En.style.setProperty("--swipe-amount-x",`${rr.x}px`),(nr=K.current)==null||nr.style.setProperty("--swipe-amount-y",`${rr.y}px`)}},Bt&&!g.jsx?Q.createElement("button",{"aria-label":le,"data-disabled":Ja,"data-close-button":!0,onClick:Ja||!oe?()=>{}:()=>{var Re;Ar(),(Re=g.onDismiss)==null||Re.call(g,g)},className:Qr(B==null?void 0:B.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=ee==null?void 0:ee.close)!=null?i:rV):null,g.jsx||p.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:Q.createElement(Q.Fragment,null,q||g.icon||g.promise?Q.createElement("div",{"data-icon":"",className:Qr(B==null?void 0:B.icon,(a=g==null?void 0:g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Gs():null,g.type!=="loading"?g.icon||(ee==null?void 0:ee[q])||YL(q):null):null,Q.createElement("div",{"data-content":"",className:Qr(B==null?void 0:B.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},Q.createElement("div",{"data-title":"",className:Qr(B==null?void 0:B.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?Q.createElement("div",{"data-description":"",className:Qr(j,Tt,B==null?void 0:B.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),p.isValidElement(g.cancel)?g.cancel:g.cancel&&Vh(g.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||k,onClick:Re=>{var at,St;Vh(g.cancel)&&oe&&((St=(at=g.cancel).onClick)==null||St.call(at,Re),Ar())},className:Qr(B==null?void 0:B.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,p.isValidElement(g.action)?g.action:g.action&&Vh(g.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||D,onClick:Re=>{var at,St;Vh(g.action)&&((St=(at=g.action).onClick)==null||St.call(at,Re),!Re.defaultPrevented&&Ar())},className:Qr(B==null?void 0:B.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function w1(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function _V(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?mV:fV;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var bV=p.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:m,style:g,visibleToasts:E=hV,toastOptions:w,dir:x=w1(),gap:b=gV,loadingIcon:y,icons:v,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:I}=t,[R,N]=Q.useState([]),C=Q.useMemo(()=>Array.from(new Set([r].concat(R.filter(ie=>ie.position).map(ie=>ie.position)))),[R,r]),[P,k]=Q.useState([]),[D,A]=Q.useState(!1),[j,F]=Q.useState(!1),[J,H]=Q.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=Q.useRef(null),$=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=Q.useRef(null),ee=Q.useRef(!1),le=Q.useCallback(ie=>{N(he=>{var we;return(we=he.find(Ne=>Ne.id===ie.id))!=null&&we.delete||ir.dismiss(ie.id),he.filter(({id:Ne})=>Ne!==ie.id)})},[]);return Q.useEffect(()=>ir.subscribe(ie=>{if(ie.dismiss){N(he=>he.map(we=>we.id===ie.id?{...we,delete:!0}:we));return}setTimeout(()=>{LC.flushSync(()=>{N(he=>{let we=he.findIndex(Ne=>Ne.id===ie.id);return we!==-1?[...he.slice(0,we),{...he[we],...ie},...he.slice(we+1)]:[ie,...he]})})})}),[]),Q.useEffect(()=>{if(h!=="system"){H(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:he})=>{H(he?"dark":"light")})}catch{ie.addListener(({matches:we})=>{try{H(we?"dark":"light")}catch(Ne){console.error(Ne)}})}},[h]),Q.useEffect(()=>{R.length<=1&&A(!1)},[R]),Q.useEffect(()=>{let ie=he=>{var we,Ne;s.every(it=>he[it]||he.code===it)&&(A(!0),(we=te.current)==null||we.focus()),he.code==="Escape"&&(document.activeElement===te.current||(Ne=te.current)!=null&&Ne.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[s]),Q.useEffect(()=>{if(te.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,ee.current=!1)}},[te.current]),Q.createElement("section",{ref:e,"aria-label":`${T} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((ie,he)=>{var we;let[Ne,it]=ie.split("-");return R.length?Q.createElement("ol",{key:ie,dir:x==="auto"?w1():x,tabIndex:-1,ref:te,className:l,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":Ne,"data-lifted":D&&R.length>1&&!i,"data-x-position":it,style:{"--front-toast-height":`${((we=P[0])==null?void 0:we.height)||0}px`,"--width":`${pV}px`,"--gap":`${b}px`,...g,..._V(c,u)},onBlur:re=>{ee.current&&!re.currentTarget.contains(re.relatedTarget)&&(ee.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||ee.current||(ee.current=!0,B.current=re.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{j||A(!1)},onDragEnd:()=>A(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},R.filter(re=>!re.position&&he===0||re.position===ie).map((re,Be)=>{var rt,je;return Q.createElement(wV,{key:re.id,icons:v,index:Be,toast:re,defaultRichColors:f,duration:(rt=w==null?void 0:w.duration)!=null?rt:m,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:E,closeButton:(je=w==null?void 0:w.closeButton)!=null?je:a,interacting:j,position:ie,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:le,toasts:R.filter(Pe=>Pe.position==re.position),heights:P.filter(Pe=>Pe.position==re.position),setHeights:k,expandByDefault:i,gap:b,loadingIcon:y,expanded:D,pauseWhenPageIsHidden:I,swipeDirections:t.swipeDirections})})):null}))});const EV=({...t})=>{const{theme:e="system"}=QL();return o.jsx(bV,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var TV=bx[" useId ".trim().toString()]||(()=>{}),SV=0;function ci(t){const[e,n]=p.useState(TV());return An(()=>{n(r=>r??String(SV++))},[t]),e?`radix-${e}`:""}const NV=["top","right","bottom","left"],ka=Math.min,wr=Math.max,Zf=Math.round,Fh=Math.floor,As=t=>({x:t,y:t}),CV={left:"right",right:"left",bottom:"top",top:"bottom"},IV={start:"end",end:"start"};function wv(t,e,n){return wr(t,ka(e,n))}function wi(t,e){return typeof t=="function"?t(e):t}function _i(t){return t.split("-")[0]}function Cc(t){return t.split("-")[1]}function Ew(t){return t==="x"?"y":"x"}function Tw(t){return t==="y"?"height":"width"}const kV=new Set(["top","bottom"]);function Cs(t){return kV.has(_i(t))?"y":"x"}function Sw(t){return Ew(Cs(t))}function PV(t,e,n){n===void 0&&(n=!1);const r=Cc(t),s=Sw(t),i=Tw(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Jf(a)),[a,Jf(a)]}function AV(t){const e=Jf(t);return[_v(t),e,_v(e)]}function _v(t){return t.replace(/start|end/g,e=>IV[e])}const _1=["left","right"],b1=["right","left"],jV=["top","bottom"],RV=["bottom","top"];function DV(t,e,n){switch(t){case"top":case"bottom":return n?e?b1:_1:e?_1:b1;case"left":case"right":return e?jV:RV;default:return[]}}function OV(t,e,n,r){const s=Cc(t);let i=DV(_i(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(_v)))),i}function Jf(t){return t.replace(/left|right|bottom|top/g,e=>CV[e])}function MV(t){return{top:0,right:0,bottom:0,left:0,...t}}function jI(t){return typeof t!="number"?MV(t):{top:t,right:t,bottom:t,left:t}}function em(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function E1(t,e,n){let{reference:r,floating:s}=t;const i=Cs(e),a=Sw(e),l=Tw(a),c=_i(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Cc(e)){case"start":g[a]-=m*(n&&u?-1:1);break;case"end":g[a]+=m*(n&&u?-1:1);break}return g}const LV=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=E1(u,r,c),m=r,g={},E=0;for(let w=0;w<l.length;w++){const{name:x,fn:b}=l[w],{x:y,y:v,data:T,reset:I}=await b({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:t,floating:e}});h=y??h,f=v??f,g={...g,[x]:{...g[x],...T}},I&&E<=50&&(E++,typeof I=="object"&&(I.placement&&(m=I.placement),I.rects&&(u=I.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):I.rects),{x:h,y:f}=E1(u,m,c)),w=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:g}};async function cd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=wi(e,t),E=jI(g),x=l[m?f==="floating"?"reference":"floating":f],b=em(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),y=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),T=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},I=em(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:v,strategy:c}):y);return{top:(b.top-I.top+E.top)/T.y,bottom:(I.bottom-b.bottom+E.bottom)/T.y,left:(b.left-I.left+E.left)/T.x,right:(I.right-b.right+E.right)/T.x}}const VV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=wi(t,e)||{};if(u==null)return{};const f=jI(h),m={x:n,y:r},g=Sw(s),E=Tw(g),w=await a.getDimensions(u),x=g==="y",b=x?"top":"left",y=x?"bottom":"right",v=x?"clientHeight":"clientWidth",T=i.reference[E]+i.reference[g]-m[g]-i.floating[E],I=m[g]-i.reference[g],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let N=R?R[v]:0;(!N||!await(a.isElement==null?void 0:a.isElement(R)))&&(N=l.floating[v]||i.floating[E]);const C=T/2-I/2,P=N/2-w[E]/2-1,k=ka(f[b],P),D=ka(f[y],P),A=k,j=N-w[E]-D,F=N/2-w[E]/2+C,J=wv(A,F,j),H=!c.arrow&&Cc(s)!=null&&F!==J&&i.reference[E]/2-(F<A?k:D)-w[E]/2<0,te=H?F<A?F-A:F-j:0;return{[g]:m[g]+te,data:{[g]:J,centerOffset:F-J-te,...H&&{alignmentOffset:te}},reset:H}}}),FV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:w=!0,...x}=wi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=_i(s),y=Cs(l),v=_i(l)===l,T=await(c.isRTL==null?void 0:c.isRTL(u.floating)),I=m||(v||!w?[Jf(l)]:AV(l)),R=E!=="none";!m&&R&&I.push(...OV(l,w,E,T));const N=[l,...I],C=await cd(e,x),P=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&P.push(C[b]),f){const F=PV(s,a,T);P.push(C[F[0]],C[F[1]])}if(k=[...k,{placement:s,overflows:P}],!P.every(F=>F<=0)){var D,A;const F=(((D=i.flip)==null?void 0:D.index)||0)+1,J=N[F];if(J&&(!(f==="alignment"?y!==Cs(J):!1)||k.every($=>$.overflows[0]>0&&Cs($.placement)===y)))return{data:{index:F,overflows:k},reset:{placement:J}};let H=(A=k.filter(te=>te.overflows[0]<=0).sort((te,$)=>te.overflows[1]-$.overflows[1])[0])==null?void 0:A.placement;if(!H)switch(g){case"bestFit":{var j;const te=(j=k.filter($=>{if(R){const B=Cs($.placement);return B===y||B==="y"}return!0}).map($=>[$.placement,$.overflows.filter(B=>B>0).reduce((B,ee)=>B+ee,0)]).sort(($,B)=>$[1]-B[1])[0])==null?void 0:j[0];te&&(H=te);break}case"initialPlacement":H=l;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function T1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function S1(t){return NV.some(e=>t[e]>=0)}const UV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=wi(t,e);switch(r){case"referenceHidden":{const i=await cd(e,{...s,elementContext:"reference"}),a=T1(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:S1(a)}}}case"escaped":{const i=await cd(e,{...s,altBoundary:!0}),a=T1(i,n.floating);return{data:{escapedOffsets:a,escaped:S1(a)}}}default:return{}}}}},RI=new Set(["left","top"]);async function $V(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=_i(n),l=Cc(n),c=Cs(n)==="y",u=RI.has(a)?-1:1,h=i&&c?-1:1,f=wi(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:E}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof E=="number"&&(g=l==="end"?E*-1:E),c?{x:g*h,y:m*u}:{x:m*u,y:g*h}}const BV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await $V(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},zV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:b,y}=x;return{x:b,y}}},...c}=wi(t,e),u={x:n,y:r},h=await cd(e,c),f=Cs(_i(s)),m=Ew(f);let g=u[m],E=u[f];if(i){const x=m==="y"?"top":"left",b=m==="y"?"bottom":"right",y=g+h[x],v=g-h[b];g=wv(y,g,v)}if(a){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=E+h[x],v=E-h[b];E=wv(y,E,v)}const w=l.fn({...e,[m]:g,[f]:E});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[m]:i,[f]:a}}}}}},WV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=wi(t,e),h={x:n,y:r},f=Cs(s),m=Ew(f);let g=h[m],E=h[f];const w=wi(l,e),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const v=m==="y"?"height":"width",T=i.reference[m]-i.floating[v]+x.mainAxis,I=i.reference[m]+i.reference[v]-x.mainAxis;g<T?g=T:g>I&&(g=I)}if(u){var b,y;const v=m==="y"?"width":"height",T=RI.has(_i(s)),I=i.reference[f]-i.floating[v]+(T&&((b=a.offset)==null?void 0:b[f])||0)+(T?0:x.crossAxis),R=i.reference[f]+i.reference[v]+(T?0:((y=a.offset)==null?void 0:y[f])||0)-(T?x.crossAxis:0);E<I?E=I:E>R&&(E=R)}return{[m]:g,[f]:E}}}},HV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=wi(t,e),h=await cd(e,u),f=_i(s),m=Cc(s),g=Cs(s)==="y",{width:E,height:w}=i.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,x=m==="end"?"top":"bottom");const y=w-h.top-h.bottom,v=E-h.left-h.right,T=ka(w-h[x],y),I=ka(E-h[b],v),R=!e.middlewareData.shift;let N=T,C=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=v),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=y),R&&!m){const k=wr(h.left,0),D=wr(h.right,0),A=wr(h.top,0),j=wr(h.bottom,0);g?C=E-2*(k!==0||D!==0?k+D:wr(h.left,h.right)):N=w-2*(A!==0||j!==0?A+j:wr(h.top,h.bottom))}await c({...e,availableWidth:C,availableHeight:N});const P=await a.getDimensions(l.floating);return E!==P.width||w!==P.height?{reset:{rects:!0}}:{}}}};function cp(){return typeof window<"u"}function Ic(t){return DI(t)?(t.nodeName||"").toLowerCase():"#document"}function Sr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ws(t){var e;return(e=(DI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function DI(t){return cp()?t instanceof Node||t instanceof Sr(t).Node:!1}function hs(t){return cp()?t instanceof Element||t instanceof Sr(t).Element:!1}function $s(t){return cp()?t instanceof HTMLElement||t instanceof Sr(t).HTMLElement:!1}function N1(t){return!cp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sr(t).ShadowRoot}const qV=new Set(["inline","contents"]);function Vd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=fs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!qV.has(s)}const GV=new Set(["table","td","th"]);function KV(t){return GV.has(Ic(t))}const QV=[":popover-open",":modal"];function up(t){return QV.some(e=>{try{return t.matches(e)}catch{return!1}})}const YV=["transform","translate","scale","rotate","perspective"],XV=["transform","translate","scale","rotate","perspective","filter"],ZV=["paint","layout","strict","content"];function Nw(t){const e=Cw(),n=hs(t)?fs(t):t;return YV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||XV.some(r=>(n.willChange||"").includes(r))||ZV.some(r=>(n.contain||"").includes(r))}function JV(t){let e=Pa(t);for(;$s(e)&&!ac(e);){if(Nw(e))return e;if(up(e))return null;e=Pa(e)}return null}function Cw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const eF=new Set(["html","body","#document"]);function ac(t){return eF.has(Ic(t))}function fs(t){return Sr(t).getComputedStyle(t)}function dp(t){return hs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pa(t){if(Ic(t)==="html")return t;const e=t.assignedSlot||t.parentNode||N1(t)&&t.host||Ws(t);return N1(e)?e.host:e}function OI(t){const e=Pa(t);return ac(e)?t.ownerDocument?t.ownerDocument.body:t.body:$s(e)&&Vd(e)?e:OI(e)}function ud(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=OI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Sr(s);if(i){const l=bv(a);return e.concat(a,a.visualViewport||[],Vd(s)?s:[],l&&n?ud(l):[])}return e.concat(s,ud(s,[],n))}function bv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function MI(t){const e=fs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=$s(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=Zf(n)!==i||Zf(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function Iw(t){return hs(t)?t:t.contextElement}function Ml(t){const e=Iw(t);if(!$s(e))return As(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=MI(e);let a=(i?Zf(n.width):n.width)/r,l=(i?Zf(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const tF=As(0);function LI(t){const e=Sr(t);return!Cw()||!e.visualViewport?tF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Sr(t)?!1:e}function Ao(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Iw(t);let a=As(1);e&&(r?hs(r)&&(a=Ml(r)):a=Ml(t));const l=nF(i,n,r)?LI(i):As(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,h=s.width/a.x,f=s.height/a.y;if(i){const m=Sr(i),g=r&&hs(r)?Sr(r):r;let E=m,w=bv(E);for(;w&&r&&g!==E;){const x=Ml(w),b=w.getBoundingClientRect(),y=fs(w),v=b.left+(w.clientLeft+parseFloat(y.paddingLeft))*x.x,T=b.top+(w.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,h*=x.x,f*=x.y,c+=v,u+=T,E=Sr(w),w=bv(E)}}return em({width:h,height:f,x:c,y:u})}function kw(t,e){const n=dp(t).scrollLeft;return e?e.left+n:Ao(Ws(t)).left+n}function VI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:kw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function rF(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Ws(r),l=e?up(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=As(1);const h=As(0),f=$s(r);if((f||!f&&!i)&&((Ic(r)!=="body"||Vd(a))&&(c=dp(r)),$s(r))){const g=Ao(r);u=Ml(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const m=a&&!f&&!i?VI(a,c,!0):As(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function sF(t){return Array.from(t.getClientRects())}function iF(t){const e=Ws(t),n=dp(t),r=t.ownerDocument.body,s=wr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=wr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+kw(t);const l=-n.scrollTop;return fs(r).direction==="rtl"&&(a+=wr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function aF(t,e){const n=Sr(t),r=Ws(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=Cw();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}const oF=new Set(["absolute","fixed"]);function lF(t,e){const n=Ao(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=$s(t)?Ml(t):As(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function C1(t,e,n){let r;if(e==="viewport")r=aF(t,n);else if(e==="document")r=iF(Ws(t));else if(hs(e))r=lF(e,n);else{const s=LI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return em(r)}function FI(t,e){const n=Pa(t);return n===e||!hs(n)||ac(n)?!1:fs(n).position==="fixed"||FI(n,e)}function cF(t,e){const n=e.get(t);if(n)return n;let r=ud(t,[],!1).filter(l=>hs(l)&&Ic(l)!=="body"),s=null;const i=fs(t).position==="fixed";let a=i?Pa(t):t;for(;hs(a)&&!ac(a);){const l=fs(a),c=Nw(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&oF.has(s.position)||Vd(a)&&!c&&FI(t,a))?r=r.filter(h=>h!==a):s=l,a=Pa(a)}return e.set(t,r),r}function uF(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?up(e)?[]:cF(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,h)=>{const f=C1(e,h,s);return u.top=wr(f.top,u.top),u.right=ka(f.right,u.right),u.bottom=ka(f.bottom,u.bottom),u.left=wr(f.left,u.left),u},C1(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function dF(t){const{width:e,height:n}=MI(t);return{width:e,height:n}}function hF(t,e,n){const r=$s(e),s=Ws(e),i=n==="fixed",a=Ao(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=As(0);function u(){c.x=kw(s)}if(r||!r&&!i)if((Ic(e)!=="body"||Vd(s))&&(l=dp(e)),r){const g=Ao(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?VI(s,l):As(0),f=a.left+l.scrollLeft-c.x-h.x,m=a.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:a.width,height:a.height}}function Gg(t){return fs(t).position==="static"}function I1(t,e){if(!$s(t)||fs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ws(t)===n&&(n=n.ownerDocument.body),n}function UI(t,e){const n=Sr(t);if(up(t))return n;if(!$s(t)){let s=Pa(t);for(;s&&!ac(s);){if(hs(s)&&!Gg(s))return s;s=Pa(s)}return n}let r=I1(t,e);for(;r&&KV(r)&&Gg(r);)r=I1(r,e);return r&&ac(r)&&Gg(r)&&!Nw(r)?n:r||JV(t)||n}const fF=async function(t){const e=this.getOffsetParent||UI,n=this.getDimensions,r=await n(t.floating);return{reference:hF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mF(t){return fs(t).direction==="rtl"}const pF={convertOffsetParentRelativeRectToViewportRelativeRect:rF,getDocumentElement:Ws,getClippingRect:uF,getOffsetParent:UI,getElementRects:fF,getClientRects:sF,getDimensions:dF,getScale:Ml,isElement:hs,isRTL:mF};function $I(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function gF(t,e){let n=null,r;const s=Ws(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:h,top:f,width:m,height:g}=u;if(l||e(),!m||!g)return;const E=Fh(f),w=Fh(s.clientWidth-(h+m)),x=Fh(s.clientHeight-(f+g)),b=Fh(h),v={rootMargin:-E+"px "+-w+"px "+-x+"px "+-b+"px",threshold:wr(0,ka(1,c))||1};let T=!0;function I(R){const N=R[0].intersectionRatio;if(N!==c){if(!T)return a();N?a(!1,N):r=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!$I(u,t.getBoundingClientRect())&&a(),T=!1}try{n=new IntersectionObserver(I,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,v)}n.observe(t)}return a(!0),i}function yF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Iw(t),h=s||i?[...u?ud(u):[],...ud(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=u&&l?gF(u,n):null;let m=-1,g=null;a&&(g=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=g)==null||v.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let E,w=c?Ao(t):null;c&&x();function x(){const b=Ao(t);w&&!$I(w,b)&&n(),w=b,E=requestAnimationFrame(x)}return n(),()=>{var b;h.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(b=g)==null||b.disconnect(),g=null,c&&cancelAnimationFrame(E)}}const vF=BV,xF=zV,wF=FV,_F=HV,bF=UV,k1=VV,EF=WV,TF=(t,e,n)=>{const r=new Map,s={platform:pF,...n},i={...s.platform,_c:r};return LV(t,e,{...s,platform:i})};var SF=typeof document<"u",NF=function(){},hf=SF?p.useLayoutEffect:NF;function tm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!tm(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!tm(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function BI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function P1(t,e){const n=BI(t);return Math.round(e*n)/n}function Kg(t){const e=p.useRef(t);return hf(()=>{e.current=t}),e}function CF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=p.useState(r);tm(m,r)||g(r);const[E,w]=p.useState(null),[x,b]=p.useState(null),y=p.useCallback($=>{$!==R.current&&(R.current=$,w($))},[]),v=p.useCallback($=>{$!==N.current&&(N.current=$,b($))},[]),T=i||E,I=a||x,R=p.useRef(null),N=p.useRef(null),C=p.useRef(h),P=c!=null,k=Kg(c),D=Kg(s),A=Kg(u),j=p.useCallback(()=>{if(!R.current||!N.current)return;const $={placement:e,strategy:n,middleware:m};D.current&&($.platform=D.current),TF(R.current,N.current,$).then(B=>{const ee={...B,isPositioned:A.current!==!1};F.current&&!tm(C.current,ee)&&(C.current=ee,Ho.flushSync(()=>{f(ee)}))})},[m,e,n,D,A]);hf(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const F=p.useRef(!1);hf(()=>(F.current=!0,()=>{F.current=!1}),[]),hf(()=>{if(T&&(R.current=T),I&&(N.current=I),T&&I){if(k.current)return k.current(T,I,j);j()}},[T,I,j,k,P]);const J=p.useMemo(()=>({reference:R,floating:N,setReference:y,setFloating:v}),[y,v]),H=p.useMemo(()=>({reference:T,floating:I}),[T,I]),te=p.useMemo(()=>{const $={position:n,left:0,top:0};if(!H.floating)return $;const B=P1(H.floating,h.x),ee=P1(H.floating,h.y);return l?{...$,transform:"translate("+B+"px, "+ee+"px)",...BI(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:ee}},[n,l,H.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:j,refs:J,elements:H,floatingStyles:te}),[h,j,J,H,te])}const IF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?k1({element:r.current,padding:s}).fn(n):{}:r?k1({element:r,padding:s}).fn(n):{}}}},kF=(t,e)=>({...vF(t),options:[t,e]}),PF=(t,e)=>({...xF(t),options:[t,e]}),AF=(t,e)=>({...EF(t),options:[t,e]}),jF=(t,e)=>({...wF(t),options:[t,e]}),RF=(t,e)=>({..._F(t),options:[t,e]}),DF=(t,e)=>({...bF(t),options:[t,e]}),OF=(t,e)=>({...IF(t),options:[t,e]});var MF="Arrow",zI=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(Ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});zI.displayName=MF;var LF=zI;function WI(t){const[e,n]=p.useState(void 0);return An(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Pw="Popper",[HI,hp]=ki(Pw),[VF,qI]=HI(Pw),GI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return o.jsx(VF,{scope:e,anchor:r,onAnchorChange:s,children:n})};GI.displayName=Pw;var KI="PopperAnchor",QI=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=qI(KI,n),a=p.useRef(null),l=Et(e,a);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(Ve.div,{...s,ref:l})});QI.displayName=KI;var Aw="PopperContent",[FF,UF]=HI(Aw),YI=p.forwardRef((t,e)=>{var re,Be,rt,je,Pe,Ae;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:E,...w}=t,x=qI(Aw,n),[b,y]=p.useState(null),v=Et(e,xt=>y(xt)),[T,I]=p.useState(null),R=WI(T),N=(R==null?void 0:R.width)??0,C=(R==null?void 0:R.height)??0,P=r+(i!=="center"?"-"+i:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(u)?u:[u],A=D.length>0,j={padding:k,boundary:D.filter(BF),altBoundary:A},{refs:F,floatingStyles:J,placement:H,isPositioned:te,middlewareData:$}=CF({strategy:"fixed",placement:P,whileElementsMounted:(...xt)=>yF(...xt,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[kF({mainAxis:s+C,alignmentAxis:a}),c&&PF({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?AF():void 0,...j}),c&&jF({...j}),RF({...j,apply:({elements:xt,rects:pe,availableWidth:ve,availableHeight:Je})=>{const{width:ct,height:kt}=pe.reference,Fe=xt.floating.style;Fe.setProperty("--radix-popper-available-width",`${ve}px`),Fe.setProperty("--radix-popper-available-height",`${Je}px`),Fe.setProperty("--radix-popper-anchor-width",`${ct}px`),Fe.setProperty("--radix-popper-anchor-height",`${kt}px`)}}),T&&OF({element:T,padding:l}),zF({arrowWidth:N,arrowHeight:C}),m&&DF({strategy:"referenceHidden",...j})]}),[B,ee]=JI(H),le=$r(E);An(()=>{te&&(le==null||le())},[te,le]);const ie=(re=$.arrow)==null?void 0:re.x,he=(Be=$.arrow)==null?void 0:Be.y,we=((rt=$.arrow)==null?void 0:rt.centerOffset)!==0,[Ne,it]=p.useState();return An(()=>{b&&it(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:te?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(je=$.transformOrigin)==null?void 0:je.x,(Pe=$.transformOrigin)==null?void 0:Pe.y].join(" "),...((Ae=$.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(FF,{scope:n,placedSide:B,onArrowChange:I,arrowX:ie,arrowY:he,shouldHideArrow:we,children:o.jsx(Ve.div,{"data-side":B,"data-align":ee,...w,ref:v,style:{...w.style,animation:te?void 0:"none"}})})})});YI.displayName=Aw;var XI="PopperArrow",$F={top:"bottom",right:"left",bottom:"top",left:"right"},ZI=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=UF(XI,r),a=$F[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(LF,{...s,ref:n,style:{...s.style,display:"block"}})})});ZI.displayName=XI;function BF(t){return t!==null}var zF=t=>({name:"transformOrigin",options:t,fn(e){var x,b,y;const{placement:n,rects:r,middlewareData:s}=e,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,h]=JI(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let E="",w="";return u==="bottom"?(E=a?f:`${m}px`,w=`${-c}px`):u==="top"?(E=a?f:`${m}px`,w=`${r.floating.height+c}px`):u==="right"?(E=`${-c}px`,w=a?f:`${g}px`):u==="left"&&(E=`${r.floating.width+c}px`,w=a?f:`${g}px`),{data:{x:E,y:w}}}});function JI(t){const[e,n="center"]=t.split("-");return[e,n]}var ek=GI,tk=QI,nk=YI,rk=ZI,[fp,cQ]=ki("Tooltip",[hp]),mp=hp(),sk="TooltipProvider",WF=700,Ev="tooltip.open",[HF,jw]=fp(sk),ik=t=>{const{__scopeTooltip:e,delayDuration:n=WF,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(HF,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};ik.displayName=sk;var dd="Tooltip",[qF,pp]=fp(dd),ak=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:a,delayDuration:l}=t,c=jw(dd,t.__scopeTooltip),u=mp(e),[h,f]=p.useState(null),m=ci(),g=p.useRef(0),E=a??c.disableHoverableContent,w=l??c.delayDuration,x=p.useRef(!1),[b,y]=Ia({prop:r,defaultProp:s??!1,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ev))):c.onClose(),i==null||i(N)},caller:dd}),v=p.useMemo(()=>b?x.current?"delayed-open":"instant-open":"closed",[b]),T=p.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x.current=!1,y(!0)},[y]),I=p.useCallback(()=>{window.clearTimeout(g.current),g.current=0,y(!1)},[y]),R=p.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,y(!0),g.current=0},w)},[w,y]);return p.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),o.jsx(ek,{...u,children:o.jsx(qF,{scope:e,contentId:m,open:b,stateAttribute:v,trigger:h,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?R():T()},[c.isOpenDelayedRef,R,T]),onTriggerLeave:p.useCallback(()=>{E?I():(window.clearTimeout(g.current),g.current=0)},[I,E]),onOpen:T,onClose:I,disableHoverableContent:E,children:n})})};ak.displayName=dd;var Tv="TooltipTrigger",ok=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=pp(Tv,n),i=jw(Tv,n),a=mp(n),l=p.useRef(null),c=Et(e,l,s.onTriggerChange),u=p.useRef(!1),h=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(tk,{asChild:!0,...a,children:o.jsx(Ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Se(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Se(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Se(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Se(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Se(t.onBlur,s.onClose),onClick:Se(t.onClick,s.onClose)})})});ok.displayName=Tv;var GF="TooltipPortal",[uQ,KF]=fp(GF,{forceMount:void 0}),oc="TooltipContent",lk=p.forwardRef((t,e)=>{const n=KF(oc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=pp(oc,t.__scopeTooltip);return o.jsx(za,{present:r||a.open,children:a.disableHoverableContent?o.jsx(ck,{side:s,...i,ref:e}):o.jsx(QF,{side:s,...i,ref:e})})}),QF=p.forwardRef((t,e)=>{const n=pp(oc,t.__scopeTooltip),r=jw(oc,t.__scopeTooltip),s=p.useRef(null),i=Et(e,s),[a,l]=p.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,m=p.useCallback(()=>{l(null),f(!1)},[f]),g=p.useCallback((E,w)=>{const x=E.currentTarget,b={x:E.clientX,y:E.clientY},y=e5(b,x.getBoundingClientRect()),v=t5(b,y),T=n5(w.getBoundingClientRect()),I=s5([...v,...T]);l(I),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&h){const E=x=>g(x,h),w=x=>g(x,c);return c.addEventListener("pointerleave",E),h.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",E),h.removeEventListener("pointerleave",w)}}},[c,h,g,m]),p.useEffect(()=>{if(a){const E=w=>{const x=w.target,b={x:w.clientX,y:w.clientY},y=(c==null?void 0:c.contains(x))||(h==null?void 0:h.contains(x)),v=!r5(b,a);y?m():v&&(m(),u())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[c,h,a,u,m]),o.jsx(ck,{...t,ref:i})}),[YF,XF]=fp(dd,{isInside:!1}),ZF=t4("TooltipContent"),ck=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,c=pp(oc,n),u=mp(n),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(Ev,h),()=>document.removeEventListener(Ev,h)),[h]),p.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),o.jsx(Md,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:o.jsxs(nk,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(ZF,{children:r}),o.jsx(YF,{scope:n,isInside:!0,children:o.jsx(E4,{id:c.contentId,role:"tooltip",children:s||r})})]})})});lk.displayName=oc;var uk="TooltipArrow",JF=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=mp(n);return XF(uk,n).isInside?null:o.jsx(rk,{...s,...r,ref:e})});JF.displayName=uk;function e5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function t5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function n5(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function r5(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,h=l.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function s5(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),i5(e)}function i5(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var a5=ik,o5=ak,l5=ok,dk=lk;const hk=a5,c5=o5,u5=l5,fk=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(dk,{ref:r,sideOffset:e,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));fk.displayName=dk.displayName;var gp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yp=typeof window>"u"||"Deno"in globalThis;function Zr(){}function d5(t,e){return typeof t=="function"?t(e):t}function h5(t){return typeof t=="number"&&t>=0&&t!==1/0}function f5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Sv(t,e){return typeof t=="function"?t(e):t}function m5(t,e){return typeof t=="function"?t(e):t}function A1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==Rw(a,e.options))return!1}else if(!fd(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function j1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(hd(e.options.mutationKey)!==hd(i))return!1}else if(!fd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Rw(t,e){return((e==null?void 0:e.queryKeyHashFn)||hd)(t)}function hd(t){return JSON.stringify(t,(e,n)=>Nv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function fd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>fd(t[n],e[n])):!1}function mk(t,e){if(t===e)return t;const n=R1(t)&&R1(e);if(n||Nv(t)&&Nv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<a;h++){const f=n?h:i[h];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=mk(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return s===a&&u===s?t:l}return e}function R1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Nv(t){if(!D1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!D1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function D1(t){return Object.prototype.toString.call(t)==="[object Object]"}function p5(t){return new Promise(e=>{setTimeout(e,t)})}function g5(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?mk(t,e):e}function y5(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function v5(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Dw=Symbol();function pk(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Dw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var go,ea,Wl,gS,x5=(gS=class extends gp{constructor(){super();dt(this,go);dt(this,ea);dt(this,Wl);Ue(this,Wl,e=>{if(!yp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){X(this,ea)||this.setEventListener(X(this,Wl))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,ea))==null||e.call(this),Ue(this,ea,void 0))}setEventListener(e){var n;Ue(this,Wl,e),(n=X(this,ea))==null||n.call(this),Ue(this,ea,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){X(this,go)!==e&&(Ue(this,go,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof X(this,go)=="boolean"?X(this,go):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},go=new WeakMap,ea=new WeakMap,Wl=new WeakMap,gS),gk=new x5,Hl,ta,ql,yS,w5=(yS=class extends gp{constructor(){super();dt(this,Hl,!0);dt(this,ta);dt(this,ql);Ue(this,ql,e=>{if(!yp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){X(this,ta)||this.setEventListener(X(this,ql))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,ta))==null||e.call(this),Ue(this,ta,void 0))}setEventListener(e){var n;Ue(this,ql,e),(n=X(this,ta))==null||n.call(this),Ue(this,ta,e(this.setOnline.bind(this)))}setOnline(e){X(this,Hl)!==e&&(Ue(this,Hl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return X(this,Hl)}},Hl=new WeakMap,ta=new WeakMap,ql=new WeakMap,yS),nm=new w5;function _5(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function b5(t){return Math.min(1e3*2**t,3e4)}function yk(t){return(t??"online")==="online"?nm.isOnline():!0}var vk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Qg(t){return t instanceof vk}function xk(t){let e=!1,n=0,r=!1,s;const i=_5(),a=w=>{var x;r||(m(new vk(w)),(x=t.abort)==null||x.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>gk.isFocused()&&(t.networkMode==="always"||nm.isOnline())&&t.canRun(),h=()=>yk(t.networkMode)&&t.canRun(),f=w=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,w),s==null||s(),i.resolve(w))},m=w=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,w),s==null||s(),i.reject(w))},g=()=>new Promise(w=>{var x;s=b=>{(r||u())&&w(b)},(x=t.onPause)==null||x.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),E=()=>{if(r)return;let w;const x=n===0?t.initialPromise:void 0;try{w=x??t.fn()}catch(b){w=Promise.reject(b)}Promise.resolve(w).then(f).catch(b=>{var R;if(r)return;const y=t.retry??(yp?0:3),v=t.retryDelay??b5,T=typeof v=="function"?v(n,b):v,I=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,b);if(e||!I){m(b);return}n++,(R=t.onFail)==null||R.call(t,n,b),p5(T).then(()=>u()?void 0:g()).then(()=>{e?m(b):E()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?E():g().then(E),i)}}var E5=t=>setTimeout(t,0);function T5(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=E5;const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Qn=T5(),yo,vS,wk=(vS=class{constructor(){dt(this,yo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),h5(this.gcTime)&&Ue(this,yo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(yp?1/0:5*60*1e3))}clearGcTimeout(){X(this,yo)&&(clearTimeout(X(this,yo)),Ue(this,yo,void 0))}},yo=new WeakMap,vS),Gl,vo,jr,xo,Fn,kd,wo,Jr,Zs,xS,S5=(xS=class extends wk{constructor(n){super();dt(this,Jr);dt(this,Gl);dt(this,vo);dt(this,jr);dt(this,xo);dt(this,Fn);dt(this,kd);dt(this,wo);Ue(this,wo,!1),Ue(this,kd,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ue(this,xo,n.client),Ue(this,jr,X(this,xo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ue(this,Gl,C5(this.options)),this.state=n.state??X(this,Gl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=X(this,Fn))==null?void 0:n.promise}setOptions(n){this.options={...X(this,kd),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,jr).remove(this)}setData(n,r){const s=g5(this.state.data,n,this.options);return On(this,Jr,Zs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){On(this,Jr,Zs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=X(this,Fn))==null?void 0:s.promise;return(i=X(this,Fn))==null||i.cancel(n),r?r.then(Zr).catch(Zr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,Gl))}isActive(){return this.observers.some(n=>m5(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Sv(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!f5(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=X(this,Fn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=X(this,Fn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),X(this,jr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(X(this,Fn)&&(X(this,wo)?X(this,Fn).cancel({revert:!0}):X(this,Fn).cancelRetry()),this.scheduleGc()),X(this,jr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||On(this,Jr,Zs).call(this,{type:"invalidate"})}fetch(n,r){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(X(this,Fn))return X(this,Fn).continueRetry(),X(this,Fn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(E=>E.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Ue(this,wo,!0),s.signal)})},a=()=>{const g=pk(this.options,r),w=(()=>{const x={client:X(this,xo),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return Ue(this,wo,!1),this.options.persister?this.options.persister(g,w,this):g(w)},c=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:X(this,xo),state:this.state,fetchFn:a};return i(g),g})();(h=this.options.behavior)==null||h.onFetch(c,this),Ue(this,vo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&On(this,Jr,Zs).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=g=>{var E,w,x,b;Qg(g)&&g.silent||On(this,Jr,Zs).call(this,{type:"error",error:g}),Qg(g)||((w=(E=X(this,jr).config).onError)==null||w.call(E,g,this),(b=(x=X(this,jr).config).onSettled)==null||b.call(x,this.state.data,g,this)),this.scheduleGc()};return Ue(this,Fn,xk({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var E,w,x,b;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(y){u(y);return}(w=(E=X(this,jr).config).onSuccess)==null||w.call(E,g,this),(b=(x=X(this,jr).config).onSettled)==null||b.call(x,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,E)=>{On(this,Jr,Zs).call(this,{type:"failed",failureCount:g,error:E})},onPause:()=>{On(this,Jr,Zs).call(this,{type:"pause"})},onContinue:()=>{On(this,Jr,Zs).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),X(this,Fn).start()}},Gl=new WeakMap,vo=new WeakMap,jr=new WeakMap,xo=new WeakMap,Fn=new WeakMap,kd=new WeakMap,wo=new WeakMap,Jr=new WeakSet,Zs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...N5(s.data,this.options),fetchMeta:n.meta??null};case"success":return Ue(this,vo,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Qg(i)&&i.revert&&X(this,vo)?{...X(this,vo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Qn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),X(this,jr).notify({query:this,type:"updated",action:n})})},xS);function N5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function C5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var bs,wS,I5=(wS=class extends gp{constructor(e={}){super();dt(this,bs);this.config=e,Ue(this,bs,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Rw(s,n);let a=this.get(i);return a||(a=new S5({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){X(this,bs).has(e.queryHash)||(X(this,bs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=X(this,bs).get(e.queryHash);n&&(e.destroy(),n===e&&X(this,bs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Qn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return X(this,bs).get(e)}getAll(){return[...X(this,bs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>A1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>A1(e,r)):n}notify(e){Qn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Qn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Qn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},bs=new WeakMap,wS),Es,qn,_o,Ts,Wi,_S,k5=(_S=class extends wk{constructor(n){super();dt(this,Ts);dt(this,Es);dt(this,qn);dt(this,_o);this.mutationId=n.mutationId,Ue(this,qn,n.mutationCache),Ue(this,Es,[]),this.state=n.state||P5(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){X(this,Es).includes(n)||(X(this,Es).push(n),this.clearGcTimeout(),X(this,qn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ue(this,Es,X(this,Es).filter(r=>r!==n)),this.scheduleGc(),X(this,qn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){X(this,Es).length||(this.state.status==="pending"?this.scheduleGc():X(this,qn).remove(this))}continue(){var n;return((n=X(this,_o))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,c,u,h,f,m,g,E,w,x,b,y,v,T,I,R,N,C,P;const r=()=>{On(this,Ts,Wi).call(this,{type:"continue"})};Ue(this,_o,xk({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(k,D)=>{On(this,Ts,Wi).call(this,{type:"failed",failureCount:k,error:D})},onPause:()=>{On(this,Ts,Wi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,qn).canRun(this)}));const s=this.state.status==="pending",i=!X(this,_o).canStart();try{if(s)r();else{On(this,Ts,Wi).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(a=X(this,qn).config).onMutate)==null?void 0:l.call(a,n,this));const D=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));D!==this.state.context&&On(this,Ts,Wi).call(this,{type:"pending",context:D,variables:n,isPaused:i})}const k=await X(this,_o).start();return await((f=(h=X(this,qn).config).onSuccess)==null?void 0:f.call(h,k,n,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,k,n,this.state.context)),await((w=(E=X(this,qn).config).onSettled)==null?void 0:w.call(E,k,null,this.state.variables,this.state.context,this)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,k,null,n,this.state.context)),On(this,Ts,Wi).call(this,{type:"success",data:k}),k}catch(k){try{throw await((v=(y=X(this,qn).config).onError)==null?void 0:v.call(y,k,n,this.state.context,this)),await((I=(T=this.options).onError)==null?void 0:I.call(T,k,n,this.state.context)),await((N=(R=X(this,qn).config).onSettled)==null?void 0:N.call(R,void 0,k,this.state.variables,this.state.context,this)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,k,n,this.state.context)),k}finally{On(this,Ts,Wi).call(this,{type:"error",error:k})}}finally{X(this,qn).runNext(this)}}},Es=new WeakMap,qn=new WeakMap,_o=new WeakMap,Ts=new WeakSet,Wi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Qn.batch(()=>{X(this,Es).forEach(s=>{s.onMutationUpdate(n)}),X(this,qn).notify({mutation:this,type:"updated",action:n})})},_S);function P5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ti,es,Pd,bS,A5=(bS=class extends gp{constructor(e={}){super();dt(this,ti);dt(this,es);dt(this,Pd);this.config=e,Ue(this,ti,new Set),Ue(this,es,new Map),Ue(this,Pd,0)}build(e,n,r){const s=new k5({mutationCache:this,mutationId:++vh(this,Pd)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){X(this,ti).add(e);const n=Uh(e);if(typeof n=="string"){const r=X(this,es).get(n);r?r.push(e):X(this,es).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(X(this,ti).delete(e)){const n=Uh(e);if(typeof n=="string"){const r=X(this,es).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&X(this,es).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Uh(e);if(typeof n=="string"){const r=X(this,es).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Uh(e);if(typeof n=="string"){const s=(r=X(this,es).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qn.batch(()=>{X(this,ti).forEach(e=>{this.notify({type:"removed",mutation:e})}),X(this,ti).clear(),X(this,es).clear()})}getAll(){return Array.from(X(this,ti))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>j1(n,r))}findAll(e={}){return this.getAll().filter(n=>j1(e,n))}notify(e){Qn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Qn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Zr))))}},ti=new WeakMap,es=new WeakMap,Pd=new WeakMap,bS);function Uh(t){var e;return(e=t.options.scope)==null?void 0:e.id}function O1(t){return{onFetch:(e,n)=>{var h,f,m,g,E;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],a=((E=e.state.data)==null?void 0:E.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let w=!1;const x=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},b=pk(e.options,e.fetchOptions),y=async(v,T,I)=>{if(w)return Promise.reject();if(T==null&&v.pages.length)return Promise.resolve(v);const N=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:T,direction:I?"backward":"forward",meta:e.options.meta};return x(D),D})(),C=await b(N),{maxPages:P}=e.options,k=I?v5:y5;return{pages:k(v.pages,C,P),pageParams:k(v.pageParams,T,P)}};if(s&&i.length){const v=s==="backward",T=v?j5:M1,I={pages:i,pageParams:a},R=T(r,I);l=await y(I,R,v)}else{const v=t??i.length;do{const T=c===0?a[0]??r.initialPageParam:M1(r,l);if(c>0&&T==null)break;l=await y(l,T),c++}while(c<v)}return l};e.options.persister?e.fetchFn=()=>{var w,x;return(x=(w=e.options).persister)==null?void 0:x.call(w,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function M1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function j5(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Qt,na,ra,Kl,Ql,sa,Yl,Xl,ES,R5=(ES=class{constructor(t={}){dt(this,Qt);dt(this,na);dt(this,ra);dt(this,Kl);dt(this,Ql);dt(this,sa);dt(this,Yl);dt(this,Xl);Ue(this,Qt,t.queryCache||new I5),Ue(this,na,t.mutationCache||new A5),Ue(this,ra,t.defaultOptions||{}),Ue(this,Kl,new Map),Ue(this,Ql,new Map),Ue(this,sa,0)}mount(){vh(this,sa)._++,X(this,sa)===1&&(Ue(this,Yl,gk.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,Qt).onFocus())})),Ue(this,Xl,nm.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,Qt).onOnline())})))}unmount(){var t,e;vh(this,sa)._--,X(this,sa)===0&&((t=X(this,Yl))==null||t.call(this),Ue(this,Yl,void 0),(e=X(this,Xl))==null||e.call(this),Ue(this,Xl,void 0))}isFetching(t){return X(this,Qt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return X(this,na).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=X(this,Qt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=X(this,Qt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Sv(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return X(this,Qt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=X(this,Qt).get(r.queryHash),i=s==null?void 0:s.state.data,a=d5(e,i);if(a!==void 0)return X(this,Qt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Qn.batch(()=>X(this,Qt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=X(this,Qt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=X(this,Qt);Qn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=X(this,Qt);return Qn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Qn.batch(()=>X(this,Qt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Zr).catch(Zr)}invalidateQueries(t,e={}){return Qn.batch(()=>(X(this,Qt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Qn.batch(()=>X(this,Qt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Zr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Zr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=X(this,Qt).build(this,e);return n.isStaleByTime(Sv(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zr).catch(Zr)}fetchInfiniteQuery(t){return t.behavior=O1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zr).catch(Zr)}ensureInfiniteQueryData(t){return t.behavior=O1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return nm.isOnline()?X(this,na).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,Qt)}getMutationCache(){return X(this,na)}getDefaultOptions(){return X(this,ra)}setDefaultOptions(t){Ue(this,ra,t)}setQueryDefaults(t,e){X(this,Kl).set(hd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...X(this,Kl).values()],n={};return e.forEach(r=>{fd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){X(this,Ql).set(hd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...X(this,Ql).values()],n={};return e.forEach(r=>{fd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...X(this,ra).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Rw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Dw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...X(this,ra).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){X(this,Qt).clear(),X(this,na).clear()}},Qt=new WeakMap,na=new WeakMap,ra=new WeakMap,Kl=new WeakMap,Ql=new WeakMap,sa=new WeakMap,Yl=new WeakMap,Xl=new WeakMap,ES),D5=p.createContext(void 0),O5=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(D5.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},md.apply(this,arguments)}var oa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(oa||(oa={}));const L1="popstate";function M5(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return Cv("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:rm(s)}return V5(e,n,null,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _k(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L5(){return Math.random().toString(36).substr(2,8)}function V1(t,e){return{usr:t.state,key:t.key,idx:e}}function Cv(t,e,n,r){return n===void 0&&(n=null),md({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?kc(e):e,{state:n,key:e&&e.key||r||L5()})}function rm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function kc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function V5(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=oa.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(md({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function f(){l=oa.Pop;let x=h(),b=x==null?null:x-u;u=x,c&&c({action:l,location:w.location,delta:b})}function m(x,b){l=oa.Push;let y=Cv(w.location,x,b);u=h()+1;let v=V1(y,u),T=w.createHref(y);try{a.pushState(v,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(T)}i&&c&&c({action:l,location:w.location,delta:1})}function g(x,b){l=oa.Replace;let y=Cv(w.location,x,b);u=h();let v=V1(y,u),T=w.createHref(y);a.replaceState(v,"",T),i&&c&&c({action:l,location:w.location,delta:0})}function E(x){let b=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:rm(x);return y=y.replace(/ $/,"%20"),Ht(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let w={get action(){return l},get location(){return t(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(L1,f),c=x,()=>{s.removeEventListener(L1,f),c=null}},createHref(x){return e(s,x)},createURL:E,encodeLocation(x){let b=E(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:g,go(x){return a.go(x)}};return w}var F1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(F1||(F1={}));function F5(t,e,n){return n===void 0&&(n="/"),U5(t,e,n,!1)}function U5(t,e,n,r){let s=typeof e=="string"?kc(e):e,i=lc(s.pathname||"/",n);if(i==null)return null;let a=bk(t);$5(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Z5(i);l=Y5(a[c],u,r)}return l}function bk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Ht(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=va([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(Ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bk(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:K5(u,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of Ek(i.path))s(i,a,c)}),e}function Ek(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Ek(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function $5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Q5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const B5=/^:[\w-]+$/,z5=3,W5=2,H5=1,q5=10,G5=-2,U1=t=>t==="*";function K5(t,e){let n=t.split("/"),r=n.length;return n.some(U1)&&(r+=G5),e&&(r+=W5),n.filter(s=>!U1(s)).reduce((s,i)=>s+(B5.test(i)?z5:i===""?H5:q5),r)}function Q5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Y5(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=sm({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=sm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:va([i,f.pathname]),pathnameBase:n3(va([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=va([i,f.pathnameBase]))}return a}function sm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=X5(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let w=l[f]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const E=l[f];return g&&!E?u[m]=void 0:u[m]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function X5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_k(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Z5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _k(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function lc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function J5(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?kc(t):t;return{pathname:n?n.startsWith("/")?n:e3(n,e):e,search:r3(r),hash:s3(s)}}function e3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function t3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ow(t,e){let n=t3(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mw(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=kc(t):(s=md({},t),Ht(!s.pathname||!s.pathname.includes("?"),Yg("?","pathname","search",s)),Ht(!s.pathname||!s.pathname.includes("#"),Yg("#","pathname","hash",s)),Ht(!s.search||!s.search.includes("#"),Yg("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=J5(s,l),u=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const va=t=>t.join("/").replace(/\/\/+/g,"/"),n3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,s3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function i3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Tk=["post","put","patch","delete"];new Set(Tk);const a3=["get",...Tk];new Set(a3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(){return pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pd.apply(this,arguments)}const vp=p.createContext(null),Sk=p.createContext(null),Pi=p.createContext(null),xp=p.createContext(null),Wa=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Nk=p.createContext(null);function o3(t,e){let{relative:n}=e===void 0?{}:e;Pc()||Ht(!1);let{basename:r,navigator:s}=p.useContext(Pi),{hash:i,pathname:a,search:l}=wp(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:va([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Pc(){return p.useContext(xp)!=null}function Hs(){return Pc()||Ht(!1),p.useContext(xp).location}function Ck(t){p.useContext(Pi).static||p.useLayoutEffect(t)}function Ac(){let{isDataRoute:t}=p.useContext(Wa);return t?w3():l3()}function l3(){Pc()||Ht(!1);let t=p.useContext(vp),{basename:e,future:n,navigator:r}=p.useContext(Pi),{matches:s}=p.useContext(Wa),{pathname:i}=Hs(),a=JSON.stringify(Ow(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return Ck(()=>{l.current=!0}),p.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=Mw(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:va([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,a,i,t])}function wp(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(Pi),{matches:s}=p.useContext(Wa),{pathname:i}=Hs(),a=JSON.stringify(Ow(s,r.v7_relativeSplatPath));return p.useMemo(()=>Mw(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function c3(t,e){return u3(t,e)}function u3(t,e,n,r){Pc()||Ht(!1);let{navigator:s}=p.useContext(Pi),{matches:i}=p.useContext(Wa),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Hs(),h;if(e){var f;let x=typeof e=="string"?kc(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ht(!1),h=x}else h=u;let m=h.pathname||"/",g=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let E=F5(t,{pathname:g}),w=p3(E&&E.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:va([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:va([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&w?p.createElement(xp.Provider,{value:{location:pd({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:oa.Pop}},w):w}function d3(){let t=x3(),e=i3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const h3=p.createElement(d3,null);class f3 extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Wa.Provider,{value:this.props.routeContext},p.createElement(Nk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m3(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(vp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Wa.Provider,{value:e},r)}function p3(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||Ht(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:g}=n,E=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||E){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,m)=>{let g,E=!1,w=null,x=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||h3,c&&(u<0&&m===0?(E=!0,x=null):u===m&&(E=!0,x=f.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,m+1)),y=()=>{let v;return g?v=w:E?v=x:f.route.Component?v=p.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=h,p.createElement(m3,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?p.createElement(f3,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var Ik=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ik||{}),im=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(im||{});function g3(t){let e=p.useContext(vp);return e||Ht(!1),e}function y3(t){let e=p.useContext(Sk);return e||Ht(!1),e}function v3(t){let e=p.useContext(Wa);return e||Ht(!1),e}function kk(t){let e=v3(),n=e.matches[e.matches.length-1];return n.route.id||Ht(!1),n.route.id}function x3(){var t;let e=p.useContext(Nk),n=y3(im.UseRouteError),r=kk(im.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function w3(){let{router:t}=g3(Ik.UseNavigateStable),e=kk(im.UseNavigateStable),n=p.useRef(!1);return Ck(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,pd({fromRouteId:e},i)))},[t,e])}function _3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Iv(t){let{to:e,replace:n,state:r,relative:s}=t;Pc()||Ht(!1);let{future:i,static:a}=p.useContext(Pi),{matches:l}=p.useContext(Wa),{pathname:c}=Hs(),u=Ac(),h=Mw(e,Ow(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return p.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Pt(t){Ht(!1)}function b3(t){let{basename:e="/",children:n=null,location:r,navigationType:s=oa.Pop,navigator:i,static:a=!1,future:l}=t;Pc()&&Ht(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:a,future:pd({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=kc(r));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:E="default"}=r,w=p.useMemo(()=>{let x=lc(h,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:g,key:E},navigationType:s}},[c,h,f,m,g,E,s]);return w==null?null:p.createElement(Pi.Provider,{value:u},p.createElement(xp.Provider,{children:n,value:w}))}function Lw(t){let{children:e,location:n}=t;return c3(kv(e),n)}new Promise(()=>{});function kv(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,kv(r.props.children,i));return}r.type!==Pt&&Ht(!1),!r.props.index||!r.props.children||Ht(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=kv(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(this,arguments)}function Pk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function E3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function T3(t,e){return t.button===0&&(!e||e==="_self")&&!E3(t)}const S3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],N3=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],C3="6";try{window.__reactRouterVersion=C3}catch{}const I3=p.createContext({isTransitioning:!1}),k3="startTransition",$1=bx[k3];function P3(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=M5({window:s,v5Compat:!0}));let a=i.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=p.useCallback(f=>{u&&$1?$1(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>a.listen(h),[a,h]),p.useEffect(()=>_3(r),[r]),p.createElement(b3,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const A3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,m=Pk(e,S3),{basename:g}=p.useContext(Pi),E,w=!1;if(typeof u=="string"&&j3.test(u)&&(E=u,A3))try{let v=new URL(window.location.href),T=u.startsWith("//")?new URL(v.protocol+u):new URL(u),I=lc(T.pathname,g);T.origin===v.origin&&I!=null?u=I+T.search+T.hash:w=!0}catch{}let x=o3(u,{relative:s}),b=O3(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function y(v){r&&r(v),v.defaultPrevented||b(v)}return p.createElement("a",am({},m,{href:E||x,onClick:w||i?r:y,ref:n,target:c}))}),R3=p.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:h}=e,f=Pk(e,N3),m=wp(c,{relative:f.relative}),g=Hs(),E=p.useContext(Sk),{navigator:w,basename:x}=p.useContext(Pi),b=E!=null&&M3(m)&&u===!0,y=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,v=g.pathname,T=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;s||(v=v.toLowerCase(),T=T?T.toLowerCase():null,y=y.toLowerCase()),T&&x&&(T=lc(T,x)||T);const I=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let R=v===y||!a&&v.startsWith(y)&&v.charAt(I)==="/",N=T!=null&&(T===y||!a&&T.startsWith(y)&&T.charAt(y.length)==="/"),C={isActive:R,isPending:N,isTransitioning:b},P=R?r:void 0,k;typeof i=="function"?k=i(C):k=[i,R?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(C):l;return p.createElement(yt,am({},f,{"aria-current":P,className:k,ref:n,style:D,to:c,viewTransition:u}),typeof h=="function"?h(C):h)});var Pv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pv||(Pv={}));var B1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(B1||(B1={}));function D3(t){let e=p.useContext(vp);return e||Ht(!1),e}function O3(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=Ac(),u=Hs(),h=wp(t,{relative:a});return p.useCallback(f=>{if(T3(f,n)){f.preventDefault();let m=r!==void 0?r:rm(u)===rm(h);c(t,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,h,r,s,n,t,i,a,l])}function M3(t,e){e===void 0&&(e={});let n=p.useContext(I3);n==null&&Ht(!1);let{basename:r}=D3(Pv.useViewTransitionState),s=wp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=lc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=lc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sm(s.pathname,a)!=null||sm(s.pathname,i)!=null}const L3=()=>{};var z1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},V3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},jk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(m=64)),r.push(n[h],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ak(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):V3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new F3;const m=i<<2|l>>4;if(r.push(m),u!==64){const g=l<<4&240|u>>2;if(r.push(g),f!==64){const E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class F3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U3=function(t){const e=Ak(t);return jk.encodeByteArray(e,!0)},om=function(t){return U3(t).replace(/\./g,"")},Rk=function(t){try{return jk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=()=>$3().__FIREBASE_DEFAULTS__,z3=()=>{if(typeof process>"u"||typeof z1>"u")return;const t=z1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rk(t[1]);return e&&JSON.parse(e)},_p=()=>{try{return L3()||B3()||z3()||W3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dk=t=>{var e,n;return(n=(e=_p())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},H3=t=>{const e=Dk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ok=()=>{var t;return(t=_p())===null||t===void 0?void 0:t.config},Mk=t=>{var e;return(e=_p())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[om(JSON.stringify(n)),om(JSON.stringify(a)),""].join(".")}const Mu={};function K3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Mu))Mu[e]?t.emulator.push(e):t.prod.push(e);return t}function Q3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let W1=!1;function Vk(t,e){if(typeof window>"u"||typeof document>"u"||!jc(window.location.host)||Mu[t]===e||Mu[t]||W1)return;Mu[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=K3().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{W1=!0,a()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=Q3(r),g=n("text"),E=document.getElementById(g)||document.createElement("span"),w=n("learnmore"),x=document.getElementById(w)||document.createElement("a"),b=n("preprendIcon"),y=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const v=m.element;l(v),h(x,w);const T=u();c(y,b),v.append(y,E,x,T),document.body.appendChild(v)}i?(E.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function X3(){var t;const e=(t=_p())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function e6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t6(){const t=Hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function n6(){return!X3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function r6(){try{return typeof indexedDB=="object"}catch{return!1}}function s6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="FirebaseError";class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=i6,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fd.prototype.create)}}class Fd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?a6(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Ai(s,l,r)}}function a6(t,e){return t.replace(o6,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const o6=/\{\$([^}]+)}/g;function l6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(H1(i)&&H1(a)){if(!bi(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function H1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function vu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function c6(t,e){const n=new u6(t,e);return n.subscribe.bind(n)}class u6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d6(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Xg),s.error===void 0&&(s.error=Xg),s.complete===void 0&&(s.complete=Xg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class jo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new q3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m6(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f6(t){return t===io?void 0:t}function m6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const g6={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},y6=tt.INFO,v6={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},x6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=v6[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vw{constructor(e){this.name=e,this._logLevel=y6,this._logHandler=x6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const w6=(t,e)=>e.some(n=>t instanceof n);let q1,G1;function _6(){return q1||(q1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b6(){return G1||(G1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fk=new WeakMap,Av=new WeakMap,Uk=new WeakMap,Zg=new WeakMap,Fw=new WeakMap;function E6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(xa(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Fk.set(n,t)}).catch(()=>{}),Fw.set(e,t),e}function T6(t){if(Av.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Av.set(t,e)}let jv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Av.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Uk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function S6(t){jv=t(jv)}function N6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jg(this),e,...n);return Uk.set(r,e.sort?e.sort():[e]),xa(r)}:b6().includes(t)?function(...e){return t.apply(Jg(this),e),xa(Fk.get(this))}:function(...e){return xa(t.apply(Jg(this),e))}}function C6(t){return typeof t=="function"?N6(t):(t instanceof IDBTransaction&&T6(t),w6(t,_6())?new Proxy(t,jv):t)}function xa(t){if(t instanceof IDBRequest)return E6(t);if(Zg.has(t))return Zg.get(t);const e=C6(t);return e!==t&&(Zg.set(t,e),Fw.set(e,t)),e}const Jg=t=>Fw.get(t);function I6(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=xa(a);return r&&a.addEventListener("upgradeneeded",c=>{r(xa(a.result),c.oldVersion,c.newVersion,xa(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const k6=["get","getKey","getAll","getAllKeys","count"],P6=["put","add","delete","clear"],ey=new Map;function K1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ey.get(e))return ey.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=P6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||k6.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return ey.set(e,i),i}S6(t=>({...t,get:(e,n,r)=>K1(e,n)||t.get(e,n,r),has:(e,n)=>!!K1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(j6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function j6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rv="@firebase/app",Q1="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Vw("@firebase/app"),R6="@firebase/app-compat",D6="@firebase/analytics-compat",O6="@firebase/analytics",M6="@firebase/app-check-compat",L6="@firebase/app-check",V6="@firebase/auth",F6="@firebase/auth-compat",U6="@firebase/database",$6="@firebase/data-connect",B6="@firebase/database-compat",z6="@firebase/functions",W6="@firebase/functions-compat",H6="@firebase/installations",q6="@firebase/installations-compat",G6="@firebase/messaging",K6="@firebase/messaging-compat",Q6="@firebase/performance",Y6="@firebase/performance-compat",X6="@firebase/remote-config",Z6="@firebase/remote-config-compat",J6="@firebase/storage",eU="@firebase/storage-compat",tU="@firebase/firestore",nU="@firebase/ai",rU="@firebase/firestore-compat",sU="firebase",iU="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="[DEFAULT]",aU={[Rv]:"fire-core",[R6]:"fire-core-compat",[O6]:"fire-analytics",[D6]:"fire-analytics-compat",[L6]:"fire-app-check",[M6]:"fire-app-check-compat",[V6]:"fire-auth",[F6]:"fire-auth-compat",[U6]:"fire-rtdb",[$6]:"fire-data-connect",[B6]:"fire-rtdb-compat",[z6]:"fire-fn",[W6]:"fire-fn-compat",[H6]:"fire-iid",[q6]:"fire-iid-compat",[G6]:"fire-fcm",[K6]:"fire-fcm-compat",[Q6]:"fire-perf",[Y6]:"fire-perf-compat",[X6]:"fire-rc",[Z6]:"fire-rc-compat",[J6]:"fire-gcs",[eU]:"fire-gcs-compat",[tU]:"fire-fst",[rU]:"fire-fst-compat",[nU]:"fire-vertex","fire-js":"fire-js",[sU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=new Map,oU=new Map,Ov=new Map;function Y1(t,e){try{t.container.addComponent(e)}catch(n){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cc(t){const e=t.name;if(Ov.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;Ov.set(e,t);for(const n of lm.values())Y1(n,t);for(const n of oU.values())Y1(n,t);return!0}function Uw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _r(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wa=new Fd("app","Firebase",lU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=iU;function $k(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw wa.create("bad-app-name",{appName:String(s)});if(n||(n=Ok()),!n)throw wa.create("no-options");const i=lm.get(s);if(i){if(bi(n,i.options)&&bi(r,i.config))return i;throw wa.create("duplicate-app",{appName:s})}const a=new p6(s);for(const c of Ov.values())a.addComponent(c);const l=new cU(n,r,a);return lm.set(s,l),l}function Bk(t=Dv){const e=lm.get(t);if(!e&&t===Dv&&Ok())return $k();if(!e)throw wa.create("no-app",{appName:t});return e}function _a(t,e,n){var r;let s=(r=aU[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(l.join(" "));return}cc(new jo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="firebase-heartbeat-database",dU=1,gd="firebase-heartbeat-store";let ty=null;function zk(){return ty||(ty=I6(uU,dU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gd)}catch(n){console.warn(n)}}}}).catch(t=>{throw wa.create("idb-open",{originalErrorMessage:t.message})})),ty}async function hU(t){try{const n=(await zk()).transaction(gd),r=await n.objectStore(gd).get(Wk(t));return await n.done,r}catch(e){if(e instanceof Ai)Ei.warn(e.message);else{const n=wa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(n.message)}}}async function X1(t,e){try{const r=(await zk()).transaction(gd,"readwrite");await r.objectStore(gd).put(e,Wk(t)),await r.done}catch(n){if(n instanceof Ai)Ei.warn(n.message);else{const r=wa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(r.message)}}}function Wk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=1024,mU=30;class pU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Z1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>mU){const a=vU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ei.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z1(),{heartbeatsToSend:r,unsentEntries:s}=gU(this._heartbeatsCache.heartbeats),i=om(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ei.warn(n),""}}}function Z1(){return new Date().toISOString().substring(0,10)}function gU(t,e=fU){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),J1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),J1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r6()?s6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return X1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return X1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function J1(t){return om(JSON.stringify({version:2,heartbeats:t})).length}function vU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t){cc(new jo("platform-logger",e=>new A6(e),"PRIVATE")),cc(new jo("heartbeat",e=>new pU(e),"PRIVATE")),_a(Rv,Q1,t),_a(Rv,Q1,"esm2017"),_a("fire-js","")}xU("");var Ns=function(){return Ns=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ns.apply(this,arguments)};function $d(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function wU(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Hk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _U=Hk,qk=new Fd("auth","Firebase",Hk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=new Vw("@firebase/auth");function bU(t,...e){cm.logLevel<=tt.WARN&&cm.warn(`Auth (${Rc}): ${t}`,...e)}function ff(t,...e){cm.logLevel<=tt.ERROR&&cm.error(`Auth (${Rc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,...e){throw Bw(t,...e)}function us(t,...e){return Bw(t,...e)}function $w(t,e,n){const r=Object.assign(Object.assign({},_U()),{[e]:n});return new Fd("auth","Firebase",r).create(e,{appName:t.name})}function ui(t){return $w(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EU(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Br(t,"argument-error"),$w(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qk.create(t,...e)}function Ie(t,e,...n){if(!t)throw Bw(e,...n)}function ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ff(e),new Error(e)}function Ti(t,e){t||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TU(){return eE()==="http:"||eE()==="https:"}function eE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TU()||J3()||"connection"in navigator)?navigator.onLine:!0}function NU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=Y3()||e6()}get(){return SU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kU=new Bd(3e4,6e4);function ji(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qs(t,e,n,r,s={}){return Kk(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=Ud(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return Z3()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&jc(t.emulatorConfig.host)&&(u.credentials="include"),Gk.fetch()(await Qk(t,t.config.apiHost,n,l),u)})}async function Kk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},CU),e);try{const s=new AU(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw $h(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw $h(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw $h(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw $w(t,h,u);Br(t,h)}}catch(s){if(s instanceof Ai)throw s;Br(t,"network-request-failed",{message:String(s)})}}async function zd(t,e,n,r,s={}){const i=await qs(t,e,n,r,s);return"mfaPendingCredential"in i&&Br(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Qk(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?zw(t.config,s):`${t.config.apiScheme}://${s}`;return IU.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function PU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(us(this.auth,"network-request-failed")),kU.get())})}}function $h(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=us(t,e,r);return s.customData._tokenResponse=n,s}function tE(t){return t!==void 0&&t.enterprise!==void 0}class jU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RU(t,e){return qs(t,"GET","/v2/recaptchaConfig",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(t,e){return qs(t,"POST","/v1/accounts:delete",e)}async function um(t,e){return qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OU(t,e=!1){const n=$t(t),r=await n.getIdToken(e),s=Ww(r);Ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Lu(ny(s.auth_time)),issuedAtTime:Lu(ny(s.iat)),expirationTime:Lu(ny(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ny(t){return Number(t)*1e3}function Ww(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const s=Rk(n);return s?JSON.parse(s):(ff("Failed to decode base64 JWT payload"),null)}catch(s){return ff("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function nE(t){const e=Ww(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ai&&MU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function MU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lu(this.lastLoginAt),this.creationTime=Lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await uc(t,um(n,{idToken:r}));Ie(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Yk(i.providerUserInfo):[],l=FU(t.providerData,a),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Lv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function VU(t){const e=$t(t);await dm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FU(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Yk(t){return t.map(e=>{var{providerId:n}=e,r=$d(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(t,e){const n=await Kk(t,{},async()=>{const r=Ud({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await Qk(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&jc(t.emulatorConfig.host)&&(c.credentials="include"),Gk.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $U(t,e){return qs(t,"POST","/v2/accounts:revokeToken",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=nE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await UU(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Ll;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ie(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Ie(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class os{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=$d(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Lv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await uc(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OU(this,e)}reload(){return VU(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new os(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await uc(this,DU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(a=n.photoURL)!==null&&a!==void 0?a:void 0,w=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:v,emailVerified:T,isAnonymous:I,providerData:R,stsTokenManager:N}=n;Ie(v&&N,e,"internal-error");const C=Ll.fromJSON(this.name,N);Ie(typeof v=="string",e,"internal-error"),Bi(f,e.name),Bi(m,e.name),Ie(typeof T=="boolean",e,"internal-error"),Ie(typeof I=="boolean",e,"internal-error"),Bi(g,e.name),Bi(E,e.name),Bi(w,e.name),Bi(x,e.name),Bi(b,e.name),Bi(y,e.name);const P=new os({uid:v,auth:e,email:m,emailVerified:T,displayName:f,isAnonymous:I,photoURL:E,phoneNumber:g,tenantId:w,stsTokenManager:C,createdAt:b,lastLoginAt:y});return R&&Array.isArray(R)&&(P.providerData=R.map(k=>Object.assign({},k))),x&&(P._redirectEventId=x),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ll;s.updateFromServerResponse(n);const i=new os({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await dm(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Yk(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Ll;l.updateFromIdToken(r);const c=new os({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Lv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;function oi(t){Ti(t instanceof Function,"Expected a class definition");let e=rE.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Xk.type="NONE";const sE=Xk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t,e,n){return`firebase:${t}:${e}:${n}`}class Vl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=mf(this.userKey,s.apiKey,i),this.fullPersistenceKey=mf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await um(this.auth,{idToken:e}).catch(()=>{});return n?os._fromGetAccountInfoResponse(this.auth,n,e):null}return os._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vl(oi(sE),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||oi(sE);const a=mf(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(a);if(h){let f;if(typeof h=="string"){const m=await um(e,{idToken:h}).catch(()=>{});if(!m)break;f=await os._fromGetAccountInfoResponse(e,m,h)}else f=os._fromJSON(e,h);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Vl(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new Vl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rP(e))return"Blackberry";if(sP(e))return"Webos";if(Jk(e))return"Safari";if((e.includes("chrome/")||eP(e))&&!e.includes("edge/"))return"Chrome";if(nP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Zk(t=Hn()){return/firefox\//i.test(t)}function Jk(t=Hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eP(t=Hn()){return/crios\//i.test(t)}function tP(t=Hn()){return/iemobile/i.test(t)}function nP(t=Hn()){return/android/i.test(t)}function rP(t=Hn()){return/blackberry/i.test(t)}function sP(t=Hn()){return/webos/i.test(t)}function Hw(t=Hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BU(t=Hn()){var e;return Hw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zU(){return t6()&&document.documentMode===10}function iP(t=Hn()){return Hw(t)||nP(t)||sP(t)||rP(t)||/windows phone/i.test(t)||tP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t,e=[]){let n;switch(t){case"Browser":n=iE(Hn());break;case"Worker":n=`${iE(Hn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HU(t,e={}){return qs(t,"GET","/v2/passwordPolicy",ji(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=6;class GU{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:qU,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aE(this),this.idTokenSubscription=new aE(this),this.beforeStateQueue=new WU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oi(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await um(this,{idToken:e}),r=await os._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_r(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(ui(this));const n=e?$t(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HU(this),n=new GU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $U(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oi(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ri(t){return $t(t)}class aE{constructor(e){this.auth=e,this.observer=null,this.addObserver=c6(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QU(t){bp=t}function oP(t){return bp.loadJS(t)}function YU(){return bp.recaptchaEnterpriseScript}function XU(){return bp.gapiScript}function ZU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class JU{constructor(){this.enterprise=new e9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class e9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const t9="recaptcha-enterprise",lP="NO_RECAPTCHA";class n9{constructor(e){this.type=t9,this.auth=Ri(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{RU(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new jU(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;tE(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(lP)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JU().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&tE(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=YU();c.length!==0&&(c+=l),oP(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function oE(t,e,n,r=!1,s=!1){const i=new n9(t);let a;if(s)a=lP;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function hm(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await oE(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await oE(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(t,e){const n=Uw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(bi(i,e??{}))return s;Br(s,"already-initialized")}return n.initialize({options:e})}function s9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function i9(t,e,n){const r=Ri(t);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=cP(e),{host:a,port:l}=a9(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(bi(u,r.config.emulator)&&bi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,jc(a)?(Lk(`${i}//${a}${c}`),Vk("Auth",!0)):o9()}function cP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function a9(t){const e=cP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:lE(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:lE(a)}}}function lE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function o9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,n){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function l9(t,e){return qs(t,"POST","/v1/accounts:update",e)}async function c9(t,e){return qs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(t,e){return zd(t,"POST","/v1/accounts:signInWithPassword",ji(t,e))}async function uP(t,e){return qs(t,"POST","/v1/accounts:sendOobCode",ji(t,e))}async function d9(t,e){return uP(t,e)}async function h9(t,e){return uP(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t,e){return zd(t,"POST","/v1/accounts:signInWithEmailLink",ji(t,e))}async function m9(t,e){return zd(t,"POST","/v1/accounts:signInWithEmailLink",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends qw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new yd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hm(e,n,"signInWithPassword",u9);case"emailLink":return f9(e,{email:this._email,oobCode:this._password});default:Br(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hm(e,r,"signUpPassword",c9);case"emailLink":return m9(e,{idToken:n,email:this._email,oobCode:this._password});default:Br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t,e){return zd(t,"POST","/v1/accounts:signInWithIdp",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9="http://localhost";class Ro extends qw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=$d(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new Ro(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Fl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fl(e,n)}buildRequest(){const e={requestUri:p9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ud(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y9(t){const e=yu(vu(t)).link,n=e?yu(vu(e)).deep_link_id:null,r=yu(vu(t)).deep_link_id;return(r?yu(vu(r)).link:null)||r||n||e||t}class Gw{constructor(e){var n,r,s,i,a,l;const c=yu(vu(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=g9((s=c.mode)!==null&&s!==void 0?s:null);Ie(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=y9(e);try{return new Gw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,n){return yd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gw.parseLink(n);return Ie(r,"argument-error"),yd._fromEmailAndCode(e,r.code,r.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends Kw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Wd{constructor(){super("facebook.com")}static credential(e){return Ro._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Wd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ro._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.GOOGLE_SIGN_IN_METHOD="google.com";ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Wd{constructor(){super("github.com")}static credential(e){return Ro._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Wd{constructor(){super("twitter.com")}static credential(e,n){return Ro._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v9(t,e){return zd(t,"POST","/v1/accounts:signUp",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await os._fromIdTokenResponse(e,r,s),a=cE(r);return new Do({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=cE(r);return new Do({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function cE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends Ai{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,fm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new fm(e,n,r,s)}}function dP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?fm._fromErrorAndOperation(t,i,e,r):i})}async function x9(t,e,n=!1){const r=await uc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Do._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(t,e,n=!1){const{auth:r}=t;if(_r(r.app))return Promise.reject(ui(r));const s="reauthenticate";try{const i=await uc(t,dP(r,s,e,t),n);Ie(i.idToken,r,"internal-error");const a=Ww(i.idToken);Ie(a,r,"internal-error");const{sub:l}=a;return Ie(t.uid===l,r,"user-mismatch"),Do._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Br(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(t,e,n=!1){if(_r(t.app))return Promise.reject(ui(t));const r="signIn",s=await dP(t,r,e),i=await Do._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function w9(t,e){return fP(Ri(t),e)}async function _9(t,e){return hP($t(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(t){const e=Ri(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function b9(t,e,n){const r=Ri(t);await hm(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",h9)}async function E9(t,e,n){if(_r(t.app))return Promise.reject(ui(t));const r=Ri(t),a=await hm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",v9).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&mP(t),c}),l=await Do._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function T9(t,e,n){return _r(t.app)?Promise.reject(ui(t)):w9($t(t),Ko.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mP(t),r})}async function S9(t,e){const n=$t(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await d9(n.auth,s);i!==t.email&&await t.reload()}function N9(t,e){return C9($t(t),null,e)}async function C9(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const a=await uc(t,l9(r,i));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t,e){return $t(t).setPersistence(e)}function k9(t,e,n,r){return $t(t).onIdTokenChanged(e,n,r)}function P9(t,e,n){return $t(t).beforeAuthStateChanged(e,n)}function A9(t,e,n,r){return $t(t).onAuthStateChanged(e,n,r)}function ry(t){return $t(t).signOut()}const mm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mm,"1"),this.storage.removeItem(mm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=1e3,R9=10;class gP extends pP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);zU()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,R9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},j9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gP.type="LOCAL";const yP=gP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP extends pP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vP.type="SESSION";const xP=vP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ep(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await D9(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ep.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=Qw("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return window}function M9(t){js().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(){return typeof js().WorkerGlobalScope<"u"&&typeof js().importScripts=="function"}async function L9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function F9(){return wP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="firebaseLocalStorageDb",U9=1,pm="firebaseLocalStorage",bP="fbase_key";class Hd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tp(t,e){return t.transaction([pm],e?"readwrite":"readonly").objectStore(pm)}function $9(){const t=indexedDB.deleteDatabase(_P);return new Hd(t).toPromise()}function Vv(){const t=indexedDB.open(_P,U9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pm,{keyPath:bP})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pm)?e(r):(r.close(),await $9(),e(await Vv()))})})}async function uE(t,e,n){const r=Tp(t,!0).put({[bP]:e,value:n});return new Hd(r).toPromise()}async function B9(t,e){const n=Tp(t,!1).get(e),r=await new Hd(n).toPromise();return r===void 0?null:r.value}function dE(t,e){const n=Tp(t,!0).delete(e);return new Hd(n).toPromise()}const z9=800,W9=3;class EP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>W9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ep._getInstance(F9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await L9(),!this.activeServiceWorker)return;this.sender=new O9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vv();return await uE(e,mm,"1"),await dE(e,mm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Tp(s,!1).getAll();return new Hd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EP.type="LOCAL";const H9=EP;new Bd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t,e){return e?oi(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends qw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function q9(t){return fP(t.auth,new Yw(t),t.bypassAuthState)}function G9(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),hP(n,new Yw(t),t.bypassAuthState)}async function K9(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),x9(n,new Yw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q9;case"linkViaPopup":case"linkViaRedirect":return K9;case"reauthViaPopup":case"reauthViaRedirect":return G9;default:Br(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=new Bd(2e3,1e4);async function Y9(t,e,n){if(_r(t.app))return Promise.reject(us(t,"operation-not-supported-in-this-environment"));const r=Ri(t);EU(t,e,Kw);const s=TP(r,n);return new fo(r,"signInViaPopup",e,s).executeNotNull()}class fo extends SP{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=Qw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(us(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(us(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q9.get())};e()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="pendingRedirect",pf=new Map;class Z9 extends SP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pf.get(this.auth._key());if(!e){try{const r=await J9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pf.set(this.auth._key(),e)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J9(t,e){const n=n$(e),r=t$(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function e$(t,e){pf.set(t._key(),e)}function t$(t){return oi(t._redirectPersistence)}function n$(t){return mf(X9,t.config.apiKey,t.name)}async function r$(t,e,n=!1){if(_r(t.app))return Promise.reject(ui(t));const r=Ri(t),s=TP(r,e),a=await new Z9(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=10*60*1e3;class i${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!NP(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(us(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s$&&this.cachedEventUids.clear(),this.cachedEventUids.has(hE(e))}saveEventToCache(e){this.cachedEventUids.add(hE(e)),this.lastProcessedEventTime=Date.now()}}function hE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o$(t,e={}){return qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c$=/^https?/;async function u$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o$(t);for(const n of e)try{if(d$(n))return}catch{}Br(t,"unauthorized-domain")}function d$(t){const e=Mv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!c$.test(n))return!1;if(l$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$=new Bd(3e4,6e4);function fE(){const t=js().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f$(t){return new Promise((e,n)=>{var r,s,i;function a(){fE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fE(),n(us(t,"network-request-failed"))},timeout:h$.get()})}if(!((s=(r=js().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=js().gapi)===null||i===void 0)&&i.load)a();else{const l=ZU("iframefcb");return js()[l]=()=>{gapi.load?a():n(us(t,"network-request-failed"))},oP(`${XU()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw gf=null,e})}let gf=null;function m$(t){return gf=gf||f$(t),gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=new Bd(5e3,15e3),g$="__/auth/iframe",y$="emulator/auth/iframe",v$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w$(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zw(e,y$):`https://${t.config.authDomain}/${g$}`,r={apiKey:e.apiKey,appName:t.name,v:Rc},s=x$.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ud(r).slice(1)}`}async function _$(t){const e=await m$(t),n=js().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:w$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v$,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=us(t,"network-request-failed"),l=js().setTimeout(()=>{i(a)},p$.get());function c(){js().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E$=500,T$=600,S$="_blank",N$="http://localhost";class mE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C$(t,e,n,r=E$,s=T$){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},b$),{width:r.toString(),height:s.toString(),top:i,left:a}),u=Hn().toLowerCase();n&&(l=eP(u)?S$:n),Zk(u)&&(e=e||N$,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[g,E])=>`${m}${g}=${E},`,"");if(BU(u)&&l!=="_self")return I$(e||"",l),new mE(null);const f=window.open(e||"",l,h);Ie(f,t,"popup-blocked");try{f.focus()}catch{}return new mE(f)}function I$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$="__/auth/handler",P$="emulator/auth/handler",A$=encodeURIComponent("fac");async function pE(t,e,n,r,s,i){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rc,eventId:s};if(e instanceof Kw){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",l6(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof Wd){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${A$}=${encodeURIComponent(c)}`:"";return`${j$(t)}?${Ud(l).slice(1)}${u}`}function j$({config:t}){return t.emulator?zw(t,P$):`https://${t.authDomain}/${k$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="webStorageSupport";class R${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xP,this._completeRedirectFn=r$,this._overrideRedirectResult=e$}async _openPopup(e,n,r,s){var i;Ti((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await pE(e,n,r,Mv(),s);return C$(e,a,Qw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await pE(e,n,r,Mv(),s);return M9(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ti(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _$(e),r=new i$(e);return n.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sy,{type:sy},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[sy];a!==void 0&&n(!!a),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iP()||Jk()||Hw()}}const D$=R$;var gE="@firebase/auth",yE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L$(t){cc(new jo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ie(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aP(t)},u=new KU(r,s,i,c);return s9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),cc(new jo("auth-internal",e=>{const n=Ri(e.getProvider("auth").getImmediate());return(r=>new O$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_a(gE,yE,M$(t)),_a(gE,yE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=5*60,F$=Mk("authIdTokenMaxAge")||V$;let vE=null;const U$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>F$)return;const s=n==null?void 0:n.token;vE!==s&&(vE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $$(t=Bk()){const e=Uw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=r9(t,{popupRedirectResolver:D$,persistence:[H9,yP,xP]}),r=Mk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=U$(i.toString());P9(n,a,()=>a(n.currentUser)),k9(n,l=>a(l))}}const s=Dk("auth");return s&&i9(n,`http://${s}`),n}function B$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}QU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=us("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",B$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L$("Browser");var xE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ba,CP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,C){function P(){}P.prototype=C.prototype,N.D=C.prototype,N.prototype=new P,N.prototype.constructor=N,N.C=function(k,D,A){for(var j=Array(arguments.length-2),F=2;F<arguments.length;F++)j[F-2]=arguments[F];return C.prototype[D].apply(k,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,C,P){P||(P=0);var k=Array(16);if(typeof C=="string")for(var D=0;16>D;++D)k[D]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(D=0;16>D;++D)k[D]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=N.g[0],P=N.g[1],D=N.g[2];var A=N.g[3],j=C+(A^P&(D^A))+k[0]+3614090360&4294967295;C=P+(j<<7&4294967295|j>>>25),j=A+(D^C&(P^D))+k[1]+3905402710&4294967295,A=C+(j<<12&4294967295|j>>>20),j=D+(P^A&(C^P))+k[2]+606105819&4294967295,D=A+(j<<17&4294967295|j>>>15),j=P+(C^D&(A^C))+k[3]+3250441966&4294967295,P=D+(j<<22&4294967295|j>>>10),j=C+(A^P&(D^A))+k[4]+4118548399&4294967295,C=P+(j<<7&4294967295|j>>>25),j=A+(D^C&(P^D))+k[5]+1200080426&4294967295,A=C+(j<<12&4294967295|j>>>20),j=D+(P^A&(C^P))+k[6]+2821735955&4294967295,D=A+(j<<17&4294967295|j>>>15),j=P+(C^D&(A^C))+k[7]+4249261313&4294967295,P=D+(j<<22&4294967295|j>>>10),j=C+(A^P&(D^A))+k[8]+1770035416&4294967295,C=P+(j<<7&4294967295|j>>>25),j=A+(D^C&(P^D))+k[9]+2336552879&4294967295,A=C+(j<<12&4294967295|j>>>20),j=D+(P^A&(C^P))+k[10]+4294925233&4294967295,D=A+(j<<17&4294967295|j>>>15),j=P+(C^D&(A^C))+k[11]+2304563134&4294967295,P=D+(j<<22&4294967295|j>>>10),j=C+(A^P&(D^A))+k[12]+1804603682&4294967295,C=P+(j<<7&4294967295|j>>>25),j=A+(D^C&(P^D))+k[13]+4254626195&4294967295,A=C+(j<<12&4294967295|j>>>20),j=D+(P^A&(C^P))+k[14]+2792965006&4294967295,D=A+(j<<17&4294967295|j>>>15),j=P+(C^D&(A^C))+k[15]+1236535329&4294967295,P=D+(j<<22&4294967295|j>>>10),j=C+(D^A&(P^D))+k[1]+4129170786&4294967295,C=P+(j<<5&4294967295|j>>>27),j=A+(P^D&(C^P))+k[6]+3225465664&4294967295,A=C+(j<<9&4294967295|j>>>23),j=D+(C^P&(A^C))+k[11]+643717713&4294967295,D=A+(j<<14&4294967295|j>>>18),j=P+(A^C&(D^A))+k[0]+3921069994&4294967295,P=D+(j<<20&4294967295|j>>>12),j=C+(D^A&(P^D))+k[5]+3593408605&4294967295,C=P+(j<<5&4294967295|j>>>27),j=A+(P^D&(C^P))+k[10]+38016083&4294967295,A=C+(j<<9&4294967295|j>>>23),j=D+(C^P&(A^C))+k[15]+3634488961&4294967295,D=A+(j<<14&4294967295|j>>>18),j=P+(A^C&(D^A))+k[4]+3889429448&4294967295,P=D+(j<<20&4294967295|j>>>12),j=C+(D^A&(P^D))+k[9]+568446438&4294967295,C=P+(j<<5&4294967295|j>>>27),j=A+(P^D&(C^P))+k[14]+3275163606&4294967295,A=C+(j<<9&4294967295|j>>>23),j=D+(C^P&(A^C))+k[3]+4107603335&4294967295,D=A+(j<<14&4294967295|j>>>18),j=P+(A^C&(D^A))+k[8]+1163531501&4294967295,P=D+(j<<20&4294967295|j>>>12),j=C+(D^A&(P^D))+k[13]+2850285829&4294967295,C=P+(j<<5&4294967295|j>>>27),j=A+(P^D&(C^P))+k[2]+4243563512&4294967295,A=C+(j<<9&4294967295|j>>>23),j=D+(C^P&(A^C))+k[7]+1735328473&4294967295,D=A+(j<<14&4294967295|j>>>18),j=P+(A^C&(D^A))+k[12]+2368359562&4294967295,P=D+(j<<20&4294967295|j>>>12),j=C+(P^D^A)+k[5]+4294588738&4294967295,C=P+(j<<4&4294967295|j>>>28),j=A+(C^P^D)+k[8]+2272392833&4294967295,A=C+(j<<11&4294967295|j>>>21),j=D+(A^C^P)+k[11]+1839030562&4294967295,D=A+(j<<16&4294967295|j>>>16),j=P+(D^A^C)+k[14]+4259657740&4294967295,P=D+(j<<23&4294967295|j>>>9),j=C+(P^D^A)+k[1]+2763975236&4294967295,C=P+(j<<4&4294967295|j>>>28),j=A+(C^P^D)+k[4]+1272893353&4294967295,A=C+(j<<11&4294967295|j>>>21),j=D+(A^C^P)+k[7]+4139469664&4294967295,D=A+(j<<16&4294967295|j>>>16),j=P+(D^A^C)+k[10]+3200236656&4294967295,P=D+(j<<23&4294967295|j>>>9),j=C+(P^D^A)+k[13]+681279174&4294967295,C=P+(j<<4&4294967295|j>>>28),j=A+(C^P^D)+k[0]+3936430074&4294967295,A=C+(j<<11&4294967295|j>>>21),j=D+(A^C^P)+k[3]+3572445317&4294967295,D=A+(j<<16&4294967295|j>>>16),j=P+(D^A^C)+k[6]+76029189&4294967295,P=D+(j<<23&4294967295|j>>>9),j=C+(P^D^A)+k[9]+3654602809&4294967295,C=P+(j<<4&4294967295|j>>>28),j=A+(C^P^D)+k[12]+3873151461&4294967295,A=C+(j<<11&4294967295|j>>>21),j=D+(A^C^P)+k[15]+530742520&4294967295,D=A+(j<<16&4294967295|j>>>16),j=P+(D^A^C)+k[2]+3299628645&4294967295,P=D+(j<<23&4294967295|j>>>9),j=C+(D^(P|~A))+k[0]+4096336452&4294967295,C=P+(j<<6&4294967295|j>>>26),j=A+(P^(C|~D))+k[7]+1126891415&4294967295,A=C+(j<<10&4294967295|j>>>22),j=D+(C^(A|~P))+k[14]+2878612391&4294967295,D=A+(j<<15&4294967295|j>>>17),j=P+(A^(D|~C))+k[5]+4237533241&4294967295,P=D+(j<<21&4294967295|j>>>11),j=C+(D^(P|~A))+k[12]+1700485571&4294967295,C=P+(j<<6&4294967295|j>>>26),j=A+(P^(C|~D))+k[3]+2399980690&4294967295,A=C+(j<<10&4294967295|j>>>22),j=D+(C^(A|~P))+k[10]+4293915773&4294967295,D=A+(j<<15&4294967295|j>>>17),j=P+(A^(D|~C))+k[1]+2240044497&4294967295,P=D+(j<<21&4294967295|j>>>11),j=C+(D^(P|~A))+k[8]+1873313359&4294967295,C=P+(j<<6&4294967295|j>>>26),j=A+(P^(C|~D))+k[15]+4264355552&4294967295,A=C+(j<<10&4294967295|j>>>22),j=D+(C^(A|~P))+k[6]+2734768916&4294967295,D=A+(j<<15&4294967295|j>>>17),j=P+(A^(D|~C))+k[13]+1309151649&4294967295,P=D+(j<<21&4294967295|j>>>11),j=C+(D^(P|~A))+k[4]+4149444226&4294967295,C=P+(j<<6&4294967295|j>>>26),j=A+(P^(C|~D))+k[11]+3174756917&4294967295,A=C+(j<<10&4294967295|j>>>22),j=D+(C^(A|~P))+k[2]+718787259&4294967295,D=A+(j<<15&4294967295|j>>>17),j=P+(A^(D|~C))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+A&4294967295}r.prototype.u=function(N,C){C===void 0&&(C=N.length);for(var P=C-this.blockSize,k=this.B,D=this.h,A=0;A<C;){if(D==0)for(;A<=P;)s(this,N,A),A+=this.blockSize;if(typeof N=="string"){for(;A<C;)if(k[D++]=N.charCodeAt(A++),D==this.blockSize){s(this,k),D=0;break}}else for(;A<C;)if(k[D++]=N[A++],D==this.blockSize){s(this,k),D=0;break}}this.h=D,this.o+=C},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;var P=8*this.o;for(C=N.length-8;C<N.length;++C)N[C]=P&255,P/=256;for(this.u(N),N=Array(16),C=P=0;4>C;++C)for(var k=0;32>k;k+=8)N[P++]=this.g[C]>>>k&255;return N};function i(N,C){var P=l;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=C(N)}function a(N,C){this.h=C;for(var P=[],k=!0,D=N.length-1;0<=D;D--){var A=N[D]|0;k&&A==C||(P[D]=A,k=!1)}this.g=P}var l={};function c(N){return-128<=N&&128>N?i(N,function(C){return new a([C|0],0>C?-1:0)}):new a([N|0],0>N?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return f;if(0>N)return x(u(-N));for(var C=[],P=1,k=0;N>=P;k++)C[k]=N/P|0,P*=4294967296;return new a(C,0)}function h(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return x(h(N.substring(1),C));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(C,8)),k=f,D=0;D<N.length;D+=8){var A=Math.min(8,N.length-D),j=parseInt(N.substring(D,D+A),C);8>A?(A=u(Math.pow(C,A)),k=k.j(A).add(u(j))):(k=k.j(P),k=k.add(u(j)))}return k}var f=c(0),m=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(w(this))return-x(this).m();for(var N=0,C=1,P=0;P<this.g.length;P++){var k=this.i(P);N+=(0<=k?k:4294967296+k)*C,C*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(E(this))return"0";if(w(this))return"-"+x(this).toString(N);for(var C=u(Math.pow(N,6)),P=this,k="";;){var D=T(P,C).g;P=b(P,D.j(C));var A=((0<P.g.length?P.g[0]:P.h)>>>0).toString(N);if(P=D,E(P))return A+k;for(;6>A.length;)A="0"+A;k=A+k}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function E(N){if(N.h!=0)return!1;for(var C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function w(N){return N.h==-1}t.l=function(N){return N=b(this,N),w(N)?-1:E(N)?0:1};function x(N){for(var C=N.g.length,P=[],k=0;k<C;k++)P[k]=~N.g[k];return new a(P,~N.h).add(m)}t.abs=function(){return w(this)?x(this):this},t.add=function(N){for(var C=Math.max(this.g.length,N.g.length),P=[],k=0,D=0;D<=C;D++){var A=k+(this.i(D)&65535)+(N.i(D)&65535),j=(A>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);k=j>>>16,A&=65535,j&=65535,P[D]=j<<16|A}return new a(P,P[P.length-1]&-2147483648?-1:0)};function b(N,C){return N.add(x(C))}t.j=function(N){if(E(this)||E(N))return f;if(w(this))return w(N)?x(this).j(x(N)):x(x(this).j(N));if(w(N))return x(this.j(x(N)));if(0>this.l(g)&&0>N.l(g))return u(this.m()*N.m());for(var C=this.g.length+N.g.length,P=[],k=0;k<2*C;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<N.g.length;D++){var A=this.i(k)>>>16,j=this.i(k)&65535,F=N.i(D)>>>16,J=N.i(D)&65535;P[2*k+2*D]+=j*J,y(P,2*k+2*D),P[2*k+2*D+1]+=A*J,y(P,2*k+2*D+1),P[2*k+2*D+1]+=j*F,y(P,2*k+2*D+1),P[2*k+2*D+2]+=A*F,y(P,2*k+2*D+2)}for(k=0;k<C;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=C;k<2*C;k++)P[k]=0;return new a(P,0)};function y(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function v(N,C){this.g=N,this.h=C}function T(N,C){if(E(C))throw Error("division by zero");if(E(N))return new v(f,f);if(w(N))return C=T(x(N),C),new v(x(C.g),x(C.h));if(w(C))return C=T(N,x(C)),new v(x(C.g),C.h);if(30<N.g.length){if(w(N)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var P=m,k=C;0>=k.l(N);)P=I(P),k=I(k);var D=R(P,1),A=R(k,1);for(k=R(k,2),P=R(P,2);!E(k);){var j=A.add(k);0>=j.l(N)&&(D=D.add(P),A=j),k=R(k,1),P=R(P,1)}return C=b(N,D.j(C)),new v(D,C)}for(D=f;0<=N.l(C);){for(P=Math.max(1,Math.floor(N.m()/C.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),A=u(P),j=A.j(C);w(j)||0<j.l(N);)P-=k,A=u(P),j=A.j(C);E(A)&&(A=m),D=D.add(A),N=b(N,j)}return new v(D,N)}t.A=function(N){return T(this,N).h},t.and=function(N){for(var C=Math.max(this.g.length,N.g.length),P=[],k=0;k<C;k++)P[k]=this.i(k)&N.i(k);return new a(P,this.h&N.h)},t.or=function(N){for(var C=Math.max(this.g.length,N.g.length),P=[],k=0;k<C;k++)P[k]=this.i(k)|N.i(k);return new a(P,this.h|N.h)},t.xor=function(N){for(var C=Math.max(this.g.length,N.g.length),P=[],k=0;k<C;k++)P[k]=this.i(k)^N.i(k);return new a(P,this.h^N.h)};function I(N){for(var C=N.g.length+1,P=[],k=0;k<C;k++)P[k]=N.i(k)<<1|N.i(k-1)>>>31;return new a(P,N.h)}function R(N,C){var P=C>>5;C%=32;for(var k=N.g.length-P,D=[],A=0;A<k;A++)D[A]=0<C?N.i(A+P)>>>C|N.i(A+P+1)<<32-C:N.i(A+P);return new a(D,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CP=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,ba=a}).apply(typeof xE<"u"?xE:typeof self<"u"?self:typeof window<"u"?window:{});var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IP,xu,kP,yf,Fv,PP,AP,jP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,S){return d==Array.prototype||d==Object.prototype||(d[_]=S.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bh=="object"&&Bh];for(var _=0;_<d.length;++_){var S=d[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(d,_){if(_)e:{var S=r;d=d.split(".");for(var O=0;O<d.length-1;O++){var z=d[O];if(!(z in S))break e;S=S[z]}d=d[d.length-1],O=S[d],_=_(O),_!=O&&_!=null&&e(S,d,{configurable:!0,writable:!0,value:_})}}function i(d,_){d instanceof String&&(d+="");var S=0,O=!1,z={next:function(){if(!O&&S<d.length){var G=S++;return{value:_(G,d[G]),done:!1}}return O=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(d){return d||function(){return i(this,function(_,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function u(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function h(d,_,S){return d.call.apply(d.bind,arguments)}function f(d,_,S){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,O),d.apply(_,z)}}return function(){return d.apply(_,arguments)}}function m(d,_,S){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function g(d,_){var S=Array.prototype.slice.call(arguments,1);return function(){var O=S.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function E(d,_){function S(){}S.prototype=_.prototype,d.aa=_.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(O,z,G){for(var ae=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)ae[Nt-2]=arguments[Nt];return _.prototype[z].apply(O,ae)}}function w(d){const _=d.length;if(0<_){const S=Array(_);for(let O=0;O<_;O++)S[O]=d[O];return S}return[]}function x(d,_){for(let S=1;S<arguments.length;S++){const O=arguments[S];if(c(O)){const z=d.length||0,G=O.length||0;d.length=z+G;for(let ae=0;ae<G;ae++)d[z+ae]=O[ae]}else d.push(O)}}class b{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function y(d){return/^[\s\xa0]*$/.test(d)}function v(){var d=l.navigator;return d&&(d=d.userAgent)?d:""}function T(d){return T[" "](d),d}T[" "]=function(){};var I=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function R(d,_,S){for(const O in d)_.call(S,d[O],O,d)}function N(d,_){for(const S in d)_.call(void 0,d[S],S,d)}function C(d){const _={};for(const S in d)_[S]=d[S];return _}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,_){let S,O;for(let z=1;z<arguments.length;z++){O=arguments[z];for(S in O)d[S]=O[S];for(let G=0;G<P.length;G++)S=P[G],Object.prototype.hasOwnProperty.call(O,S)&&(d[S]=O[S])}}function D(d){var _=1;d=d.split(":");const S=[];for(;0<_&&d.length;)S.push(d.shift()),_--;return d.length&&S.push(d.join(":")),S}function A(d){l.setTimeout(()=>{throw d},0)}function j(){var d=B;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class F{constructor(){this.h=this.g=null}add(_,S){const O=J.get();O.set(_,S),this.h?this.h.next=O:this.g=O,this.h=O}}var J=new b(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let te,$=!1,B=new F,ee=()=>{const d=l.Promise.resolve(void 0);te=()=>{d.then(le)}};var le=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(S){A(S)}var _=J;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}$=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};l.addEventListener("test",S,_),l.removeEventListener("test",S,_)}catch{}return d}();function Ne(d,_){if(he.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(I){e:{try{T(_.nodeName);var z=!0;break e}catch{}z=!1}z||(_=null)}}else S=="mouseover"?_=d.fromElement:S=="mouseout"&&(_=d.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:it[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ne.aa.h.call(this)}}E(Ne,he);var it={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),Be=0;function rt(d,_,S,O,z){this.listener=d,this.proxy=null,this.src=_,this.type=S,this.capture=!!O,this.ha=z,this.key=++Be,this.da=this.fa=!1}function je(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Pe(d){this.src=d,this.g={},this.h=0}Pe.prototype.add=function(d,_,S,O,z){var G=d.toString();d=this.g[G],d||(d=this.g[G]=[],this.h++);var ae=xt(d,_,O,z);return-1<ae?(_=d[ae],S||(_.fa=!1)):(_=new rt(_,this.src,G,!!O,z),_.fa=S,d.push(_)),_};function Ae(d,_){var S=_.type;if(S in d.g){var O=d.g[S],z=Array.prototype.indexOf.call(O,_,void 0),G;(G=0<=z)&&Array.prototype.splice.call(O,z,1),G&&(je(_),d.g[S].length==0&&(delete d.g[S],d.h--))}}function xt(d,_,S,O){for(var z=0;z<d.length;++z){var G=d[z];if(!G.da&&G.listener==_&&G.capture==!!S&&G.ha==O)return z}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),ve={};function Je(d,_,S,O,z){if(Array.isArray(_)){for(var G=0;G<_.length;G++)Je(d,_[G],S,O,z);return null}return S=W(S),d&&d[re]?d.K(_,S,u(O)?!!O.capture:!!O,z):ct(d,_,S,!1,O,z)}function ct(d,_,S,O,z,G){if(!_)throw Error("Invalid event type");var ae=u(z)?!!z.capture:!!z,Nt=K(d);if(Nt||(d[pe]=Nt=new Pe(d)),S=Nt.add(_,S,O,ae,G),S.proxy)return S;if(O=kt(),S.proxy=O,O.src=d,O.listener=S,d.addEventListener)we||(z=ae),z===void 0&&(z=!1),d.addEventListener(_.toString(),O,z);else if(d.attachEvent)d.attachEvent(U(_.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return S}function kt(){function d(S){return _.call(d.src,d.listener,S)}const _=M;return d}function Fe(d,_,S,O,z){if(Array.isArray(_))for(var G=0;G<_.length;G++)Fe(d,_[G],S,O,z);else O=u(O)?!!O.capture:!!O,S=W(S),d&&d[re]?(d=d.i,_=String(_).toString(),_ in d.g&&(G=d.g[_],S=xt(G,S,O,z),-1<S&&(je(G[S]),Array.prototype.splice.call(G,S,1),G.length==0&&(delete d.g[_],d.h--)))):d&&(d=K(d))&&(_=d.g[_.toString()],d=-1,_&&(d=xt(_,S,O,z)),(S=-1<d?_[d]:null)&&L(S))}function L(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[re])Ae(_.i,d);else{var S=d.type,O=d.proxy;_.removeEventListener?_.removeEventListener(S,O,d.capture):_.detachEvent?_.detachEvent(U(S),O):_.addListener&&_.removeListener&&_.removeListener(O),(S=K(_))?(Ae(S,d),S.h==0&&(S.src=null,_[pe]=null)):je(d)}}}function U(d){return d in ve?ve[d]:ve[d]="on"+d}function M(d,_){if(d.da)d=!0;else{_=new Ne(_,this);var S=d.listener,O=d.ha||d.src;d.fa&&L(d),d=S.call(O,_)}return d}function K(d){return d=d[pe],d instanceof Pe?d:null}var V="__closure_events_fn_"+(1e9*Math.random()>>>0);function W(d){return typeof d=="function"?d:(d[V]||(d[V]=function(_){return d.handleEvent(_)}),d[V])}function q(){ie.call(this),this.i=new Pe(this),this.M=this,this.F=null}E(q,ie),q.prototype[re]=!0,q.prototype.removeEventListener=function(d,_,S,O){Fe(this,d,_,S,O)};function oe(d,_){var S,O=d.F;if(O)for(S=[];O;O=O.F)S.push(O);if(d=d.M,O=_.type||_,typeof _=="string")_=new he(_,d);else if(_ instanceof he)_.target=_.target||d;else{var z=_;_=new he(O,d),k(_,z)}if(z=!0,S)for(var G=S.length-1;0<=G;G--){var ae=_.g=S[G];z=Ce(ae,O,!0,_)&&z}if(ae=_.g=d,z=Ce(ae,O,!0,_)&&z,z=Ce(ae,O,!1,_)&&z,S)for(G=0;G<S.length;G++)ae=_.g=S[G],z=Ce(ae,O,!1,_)&&z}q.prototype.N=function(){if(q.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var S=d.g[_],O=0;O<S.length;O++)je(S[O]);delete d.g[_],d.h--}}this.F=null},q.prototype.K=function(d,_,S,O){return this.i.add(String(d),_,!1,S,O)},q.prototype.L=function(d,_,S,O){return this.i.add(String(d),_,!0,S,O)};function Ce(d,_,S,O){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var z=!0,G=0;G<_.length;++G){var ae=_[G];if(ae&&!ae.da&&ae.capture==S){var Nt=ae.listener,Sn=ae.ha||ae.src;ae.fa&&Ae(d.i,ae),z=Nt.call(Sn,O)!==!1&&z}}return z&&!O.defaultPrevented}function Tt(d,_,S){if(typeof d=="function")S&&(d=m(d,S));else if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:l.setTimeout(d,_||0)}function an(d){d.g=Tt(()=>{d.g=null,d.i&&(d.i=!1,an(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Bt extends ie{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:an(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vn(d){ie.call(this),this.h=d,this.g={}}E(vn,ie);var et=[];function Rt(d){R(d.g,function(_,S){this.g.hasOwnProperty(S)&&L(_)},d),d.g={}}vn.prototype.N=function(){vn.aa.N.call(this),Rt(this)},vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=l.JSON.stringify,qr=l.JSON.parse,$c=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Oi(){}Oi.prototype.h=null;function Bc(d){return d.h||(d.h=d.i())}function zc(){}var Za={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ja(){he.call(this,"d")}E(Ja,he);function Ar(){he.call(this,"c")}E(Ar,he);var Gs={},Re=null;function at(){return Re=Re||new q}Gs.La="serverreachability";function St(d){he.call(this,Gs.La,d)}E(St,he);function En(d){const _=at();oe(_,new St(_))}Gs.STAT_EVENT="statevent";function nr(d,_){he.call(this,Gs.STAT_EVENT,d),this.stat=_}E(nr,he);function Ft(d){const _=at();oe(_,new nr(_,d))}Gs.Ma="timingevent";function ys(d,_){he.call(this,Gs.Ma,d),this.size=_}E(ys,he);function Tn(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},_)}function rr(){this.g=!0}rr.prototype.xa=function(){this.g=!1};function Z2(d,_,S,O,z,G){d.info(function(){if(d.g)if(G)for(var ae="",Nt=G.split("&"),Sn=0;Sn<Nt.length;Sn++){var ut=Nt[Sn].split("=");if(1<ut.length){var Rn=ut[0];ut=ut[1];var Dn=Rn.split("_");ae=2<=Dn.length&&Dn[1]=="type"?ae+(Rn+"="+ut+"&"):ae+(Rn+"=redacted&")}}else ae=null;else ae=G;return"XMLHTTP REQ ("+O+") [attempt "+z+"]: "+_+`
`+S+`
`+ae})}function J2(d,_,S,O,z,G,ae){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+z+"]: "+_+`
`+S+`
`+G+" "+ae})}function el(d,_,S,O){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+tD(d,S)+(O?" "+O:"")})}function eD(d,_){d.info(function(){return"TIMEOUT: "+_})}rr.prototype.info=function(){};function tD(d,_){if(!d.g)return _;if(!_)return null;try{var S=JSON.parse(_);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var O=S[d];if(!(2>O.length)){var z=O[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return bn(S)}catch{return _}}var sh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},f0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sg;function ih(){}E(ih,Oi),ih.prototype.g=function(){return new XMLHttpRequest},ih.prototype.i=function(){return{}},sg=new ih;function Mi(d,_,S,O){this.j=d,this.i=_,this.l=S,this.R=O||1,this.U=new vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new m0}function m0(){this.i=null,this.g="",this.h=!1}var p0={},ig={};function ag(d,_,S){d.L=1,d.v=ch(Ks(_)),d.m=S,d.P=!0,g0(d,null)}function g0(d,_){d.F=Date.now(),ah(d),d.A=Ks(d.v);var S=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),P0(S.i,"t",O),d.C=0,S=d.j.J,d.h=new m0,d.g=K0(d.j,S?_:null,!d.m),0<d.O&&(d.M=new Bt(m(d.Y,d,d.g),d.O)),_=d.U,S=d.g,O=d.ca;var z="readystatechange";Array.isArray(z)||(z&&(et[0]=z.toString()),z=et);for(var G=0;G<z.length;G++){var ae=Je(S,z[G],O||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),En(),Z2(d.i,d.u,d.A,d.l,d.R,d.m)}Mi.prototype.ca=function(d){d=d.target;const _=this.M;_&&Qs(d)==3?_.j():this.Y(d)},Mi.prototype.Y=function(d){try{if(d==this.g)e:{const Dn=Qs(this.g);var _=this.g.Ba();const rl=this.g.Z();if(!(3>Dn)&&(Dn!=3||this.g&&(this.h.h||this.g.oa()||L0(this.g)))){this.J||Dn!=4||_==7||(_==8||0>=rl?En(3):En(2)),og(this);var S=this.g.Z();this.X=S;t:if(y0(this)){var O=L0(this.g);d="";var z=O.length,G=Qs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){eo(this),Wc(this);var ae="";break t}this.h.i=new l.TextDecoder}for(_=0;_<z;_++)this.h.h=!0,d+=this.h.i.decode(O[_],{stream:!(G&&_==z-1)});O.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=S==200,J2(this.i,this.u,this.A,this.l,this.R,Dn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Nt,Sn=this.g;if((Nt=Sn.g?Sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Nt)){var ut=Nt;break t}}ut=null}if(S=ut)el(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lg(this,S);else{this.o=!1,this.s=3,Ft(12),eo(this),Wc(this);break e}}if(this.P){S=!0;let Gr;for(;!this.J&&this.C<ae.length;)if(Gr=nD(this,ae),Gr==ig){Dn==4&&(this.s=4,Ft(14),S=!1),el(this.i,this.l,null,"[Incomplete Response]");break}else if(Gr==p0){this.s=4,Ft(15),el(this.i,this.l,ae,"[Invalid Chunk]"),S=!1;break}else el(this.i,this.l,Gr,null),lg(this,Gr);if(y0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dn!=4||ae.length!=0||this.h.h||(this.s=1,Ft(16),S=!1),this.o=this.o&&S,!S)el(this.i,this.l,ae,"[Invalid Chunked Response]"),eo(this),Wc(this);else if(0<ae.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),mg(Rn),Rn.M=!0,Ft(11))}}else el(this.i,this.l,ae,null),lg(this,ae);Dn==4&&eo(this),this.o&&!this.J&&(Dn==4?W0(this.j,this):(this.o=!1,ah(this)))}else xD(this.g),S==400&&0<ae.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),eo(this),Wc(this)}}}catch{}finally{}};function y0(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function nD(d,_){var S=d.C,O=_.indexOf(`
`,S);return O==-1?ig:(S=Number(_.substring(S,O)),isNaN(S)?p0:(O+=1,O+S>_.length?ig:(_=_.slice(O,O+S),d.C=O+S,_)))}Mi.prototype.cancel=function(){this.J=!0,eo(this)};function ah(d){d.S=Date.now()+d.I,v0(d,d.I)}function v0(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Tn(m(d.ba,d),_)}function og(d){d.B&&(l.clearTimeout(d.B),d.B=null)}Mi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(eD(this.i,this.A),this.L!=2&&(En(),Ft(17)),eo(this),this.s=2,Wc(this)):v0(this,this.S-d)};function Wc(d){d.j.G==0||d.J||W0(d.j,d)}function eo(d){og(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Rt(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function lg(d,_){try{var S=d.j;if(S.G!=0&&(S.g==d||cg(S.h,d))){if(!d.K&&cg(S.h,d)&&S.G==3){try{var O=S.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var z=O;if(z[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)ph(S),fh(S);else break e;fg(S),Ft(18)}}else S.za=z[1],0<S.za-S.T&&37500>z[2]&&S.F&&S.v==0&&!S.C&&(S.C=Tn(m(S.Za,S),6e3));if(1>=_0(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else no(S,11)}else if((d.K||S.g==d)&&ph(S),!y(_))for(z=S.Da.g.parse(_),_=0;_<z.length;_++){let ut=z[_];if(S.T=ut[0],ut=ut[1],S.G==2)if(ut[0]=="c"){S.K=ut[1],S.ia=ut[2];const Rn=ut[3];Rn!=null&&(S.la=Rn,S.j.info("VER="+S.la));const Dn=ut[4];Dn!=null&&(S.Aa=Dn,S.j.info("SVER="+S.Aa));const rl=ut[5];rl!=null&&typeof rl=="number"&&0<rl&&(O=1.5*rl,S.L=O,S.j.info("backChannelRequestTimeoutMs_="+O)),O=S;const Gr=d.g;if(Gr){const yh=Gr.g?Gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yh){var G=O.h;G.g||yh.indexOf("spdy")==-1&&yh.indexOf("quic")==-1&&yh.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ug(G,G.h),G.h=null))}if(O.D){const pg=Gr.g?Gr.g.getResponseHeader("X-HTTP-Session-Id"):null;pg&&(O.ya=pg,Dt(O.I,O.D,pg))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),O=S;var ae=d;if(O.qa=G0(O,O.J?O.ia:null,O.W),ae.K){b0(O.h,ae);var Nt=ae,Sn=O.L;Sn&&(Nt.I=Sn),Nt.B&&(og(Nt),ah(Nt)),O.g=ae}else B0(O);0<S.i.length&&mh(S)}else ut[0]!="stop"&&ut[0]!="close"||no(S,7);else S.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?no(S,7):hg(S):ut[0]!="noop"&&S.l&&S.l.ta(ut),S.v=0)}}En(4)}catch{}}var rD=class{constructor(d,_){this.g=d,this.map=_}};function x0(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function w0(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function _0(d){return d.h?1:d.g?d.g.size:0}function cg(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function ug(d,_){d.g?d.g.add(_):d.h=_}function b0(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}x0.prototype.cancel=function(){if(this.i=E0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function E0(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const S of d.g.values())_=_.concat(S.D);return _}return w(d.i)}function sD(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var _=[],S=d.length,O=0;O<S;O++)_.push(d[O]);return _}_=[],S=0;for(O in d)_[S++]=d[O];return _}function iD(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var _=[];d=d.length;for(var S=0;S<d;S++)_.push(S);return _}_=[],S=0;for(const O in d)_[S++]=O;return _}}}function T0(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var S=iD(d),O=sD(d),z=O.length,G=0;G<z;G++)_.call(void 0,O[G],S&&S[G],d)}var S0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aD(d,_){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var O=d[S].indexOf("="),z=null;if(0<=O){var G=d[S].substring(0,O);z=d[S].substring(O+1)}else G=d[S];_(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function to(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof to){this.h=d.h,oh(this,d.j),this.o=d.o,this.g=d.g,lh(this,d.s),this.l=d.l;var _=d.i,S=new Gc;S.i=_.i,_.g&&(S.g=new Map(_.g),S.h=_.h),N0(this,S),this.m=d.m}else d&&(_=String(d).match(S0))?(this.h=!1,oh(this,_[1]||"",!0),this.o=Hc(_[2]||""),this.g=Hc(_[3]||"",!0),lh(this,_[4]),this.l=Hc(_[5]||"",!0),N0(this,_[6]||"",!0),this.m=Hc(_[7]||"")):(this.h=!1,this.i=new Gc(null,this.h))}to.prototype.toString=function(){var d=[],_=this.j;_&&d.push(qc(_,C0,!0),":");var S=this.g;return(S||_=="file")&&(d.push("//"),(_=this.o)&&d.push(qc(_,C0,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(qc(S,S.charAt(0)=="/"?cD:lD,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",qc(S,dD)),d.join("")};function Ks(d){return new to(d)}function oh(d,_,S){d.j=S?Hc(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function lh(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function N0(d,_,S){_ instanceof Gc?(d.i=_,hD(d.i,d.h)):(S||(_=qc(_,uD)),d.i=new Gc(_,d.h))}function Dt(d,_,S){d.i.set(_,S)}function ch(d){return Dt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Hc(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function qc(d,_,S){return typeof d=="string"?(d=encodeURI(d).replace(_,oD),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function oD(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var C0=/[#\/\?@]/g,lD=/[#\?:]/g,cD=/[#\?]/g,uD=/[#\?@]/g,dD=/#/g;function Gc(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Li(d){d.g||(d.g=new Map,d.h=0,d.i&&aD(d.i,function(_,S){d.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}t=Gc.prototype,t.add=function(d,_){Li(this),this.i=null,d=tl(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(_),this.h+=1,this};function I0(d,_){Li(d),_=tl(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function k0(d,_){return Li(d),_=tl(d,_),d.g.has(_)}t.forEach=function(d,_){Li(this),this.g.forEach(function(S,O){S.forEach(function(z){d.call(_,z,O,this)},this)},this)},t.na=function(){Li(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),S=[];for(let O=0;O<_.length;O++){const z=d[O];for(let G=0;G<z.length;G++)S.push(_[O])}return S},t.V=function(d){Li(this);let _=[];if(typeof d=="string")k0(this,d)&&(_=_.concat(this.g.get(tl(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)_=_.concat(d[S])}return _},t.set=function(d,_){return Li(this),this.i=null,d=tl(this,d),k0(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function P0(d,_,S){I0(d,_),0<S.length&&(d.i=null,d.g.set(tl(d,_),w(S)),d.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var S=0;S<_.length;S++){var O=_[S];const G=encodeURIComponent(String(O)),ae=this.V(O);for(O=0;O<ae.length;O++){var z=G;ae[O]!==""&&(z+="="+encodeURIComponent(String(ae[O]))),d.push(z)}}return this.i=d.join("&")};function tl(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function hD(d,_){_&&!d.j&&(Li(d),d.i=null,d.g.forEach(function(S,O){var z=O.toLowerCase();O!=z&&(I0(this,O),P0(this,z,S))},d)),d.j=_}function fD(d,_){const S=new rr;if(l.Image){const O=new Image;O.onload=g(Vi,S,"TestLoadImage: loaded",!0,_,O),O.onerror=g(Vi,S,"TestLoadImage: error",!1,_,O),O.onabort=g(Vi,S,"TestLoadImage: abort",!1,_,O),O.ontimeout=g(Vi,S,"TestLoadImage: timeout",!1,_,O),l.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else _(!1)}function mD(d,_){const S=new rr,O=new AbortController,z=setTimeout(()=>{O.abort(),Vi(S,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:O.signal}).then(G=>{clearTimeout(z),G.ok?Vi(S,"TestPingServer: ok",!0,_):Vi(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(z),Vi(S,"TestPingServer: error",!1,_)})}function Vi(d,_,S,O,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),O(S)}catch{}}function pD(){this.g=new $c}function gD(d,_,S){const O=S||"";try{T0(d,function(z,G){let ae=z;u(z)&&(ae=bn(z)),_.push(O+G+"="+encodeURIComponent(ae))})}catch(z){throw _.push(O+"type="+encodeURIComponent("_badmap")),z}}function uh(d){this.l=d.Ub||null,this.j=d.eb||!1}E(uh,Oi),uh.prototype.g=function(){return new dh(this.l,this.j)},uh.prototype.i=function(d){return function(){return d}}({});function dh(d,_){q.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(dh,q),t=dh.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Qc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||l).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Qc(this)),this.g&&(this.readyState=3,Qc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;A0(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function A0(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Kc(this):Qc(this),this.readyState==3&&A0(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Kc(this))},t.Qa=function(d){this.g&&(this.response=d,Kc(this))},t.ga=function(){this.g&&Kc(this)};function Kc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Qc(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=_.next();return d.join(`\r
`)};function Qc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(dh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function j0(d){let _="";return R(d,function(S,O){_+=O,_+=":",_+=S,_+=`\r
`}),_}function dg(d,_,S){e:{for(O in S){var O=!1;break e}O=!0}O||(S=j0(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):Dt(d,_,S))}function Kt(d){q.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Kt,q);var yD=/^https?$/i,vD=["POST","PUT"];t=Kt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,S,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sg.g(),this.v=this.o?Bc(this.o):Bc(sg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(G){R0(this,G);return}if(d=S||"",S=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var z in O)S.set(z,O[z]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const G of O.keys())S.set(G,O.get(G));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(S.keys()).find(G=>G.toLowerCase()=="content-type"),z=l.FormData&&d instanceof l.FormData,!(0<=Array.prototype.indexOf.call(vD,_,void 0))||O||z||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of S)this.g.setRequestHeader(G,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{M0(this),this.u=!0,this.g.send(d),this.u=!1}catch(G){R0(this,G)}};function R0(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,D0(d),hh(d)}function D0(d){d.A||(d.A=!0,oe(d,"complete"),oe(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,oe(this,"complete"),oe(this,"abort"),hh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hh(this,!0)),Kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?O0(this):this.bb())},t.bb=function(){O0(this)};function O0(d){if(d.h&&typeof a<"u"&&(!d.v[1]||Qs(d)!=4||d.Z()!=2)){if(d.u&&Qs(d)==4)Tt(d.Ea,0,d);else if(oe(d,"readystatechange"),Qs(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var O;if(O=ae===0){var z=String(d.D).match(S0)[1]||null;!z&&l.self&&l.self.location&&(z=l.self.location.protocol.slice(0,-1)),O=!yD.test(z?z.toLowerCase():"")}S=O}if(S)oe(d,"complete"),oe(d,"success");else{d.m=6;try{var G=2<Qs(d)?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.Z()+"]",D0(d)}}finally{hh(d)}}}}function hh(d,_){if(d.g){M0(d);const S=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||oe(d,"ready");try{S.onreadystatechange=O}catch{}}}function M0(d){d.I&&(l.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Qs(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Qs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),qr(_)}};function L0(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function xD(d){const _={};d=(d.g&&2<=Qs(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(y(d[O]))continue;var S=D(d[O]);const z=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const G=_[z]||[];_[z]=G,G.push(S)}N(_,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yc(d,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||_}function V0(d){this.Aa=0,this.i=[],this.j=new rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yc("baseRetryDelayMs",5e3,d),this.cb=Yc("retryDelaySeedMs",1e4,d),this.Wa=Yc("forwardChannelMaxRetries",2,d),this.wa=Yc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new x0(d&&d.concurrentRequestLimit),this.Da=new pD,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=V0.prototype,t.la=8,t.G=1,t.connect=function(d,_,S,O){Ft(0),this.W=d,this.H=_||{},S&&O!==void 0&&(this.H.OSID=S,this.H.OAID=O),this.F=this.X,this.I=G0(this,null,this.W),mh(this)};function hg(d){if(F0(d),d.G==3){var _=d.U++,S=Ks(d.I);if(Dt(S,"SID",d.K),Dt(S,"RID",_),Dt(S,"TYPE","terminate"),Xc(d,S),_=new Mi(d,d.j,_),_.L=2,_.v=ch(Ks(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(_.v.toString(),"")}catch{}!S&&l.Image&&(new Image().src=_.v,S=!0),S||(_.g=K0(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ah(_)}q0(d)}function fh(d){d.g&&(mg(d),d.g.cancel(),d.g=null)}function F0(d){fh(d),d.u&&(l.clearTimeout(d.u),d.u=null),ph(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&l.clearTimeout(d.s),d.s=null)}function mh(d){if(!w0(d.h)&&!d.s){d.s=!0;var _=d.Ga;te||ee(),$||(te(),$=!0),B.add(_,d),d.B=0}}function wD(d,_){return _0(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Tn(m(d.Ga,d,_),H0(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const z=new Mi(this,this.j,d);let G=this.o;if(this.S&&(G?(G=C(G),k(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var O=this.i[S];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=$0(this,z,_),S=Ks(this.I),Dt(S,"RID",d),Dt(S,"CVER",22),this.D&&Dt(S,"X-HTTP-Session-Id",this.D),Xc(this,S),G&&(this.O?_="headers="+encodeURIComponent(String(j0(G)))+"&"+_:this.m&&dg(S,this.m,G)),ug(this.h,z),this.Ua&&Dt(S,"TYPE","init"),this.P?(Dt(S,"$req",_),Dt(S,"SID","null"),z.T=!0,ag(z,S,null)):ag(z,S,_),this.G=2}}else this.G==3&&(d?U0(this,d):this.i.length==0||w0(this.h)||U0(this))};function U0(d,_){var S;_?S=_.l:S=d.U++;const O=Ks(d.I);Dt(O,"SID",d.K),Dt(O,"RID",S),Dt(O,"AID",d.T),Xc(d,O),d.m&&d.o&&dg(O,d.m,d.o),S=new Mi(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),_&&(d.i=_.D.concat(d.i)),_=$0(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ug(d.h,S),ag(S,O,_)}function Xc(d,_){d.H&&R(d.H,function(S,O){Dt(_,O,S)}),d.l&&T0({},function(S,O){Dt(_,O,S)})}function $0(d,_,S){S=Math.min(d.i.length,S);var O=d.l?m(d.l.Na,d.l,d):null;e:{var z=d.i;let G=-1;for(;;){const ae=["count="+S];G==-1?0<S?(G=z[0].g,ae.push("ofs="+G)):G=0:ae.push("ofs="+G);let Nt=!0;for(let Sn=0;Sn<S;Sn++){let ut=z[Sn].g;const Rn=z[Sn].map;if(ut-=G,0>ut)G=Math.max(0,z[Sn].g-100),Nt=!1;else try{gD(Rn,ae,"req"+ut+"_")}catch{O&&O(Rn)}}if(Nt){O=ae.join("&");break e}}}return d=d.i.splice(0,S),_.D=d,O}function B0(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;te||ee(),$||(te(),$=!0),B.add(_,d),d.v=0}}function fg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Tn(m(d.Fa,d),H0(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,z0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Tn(m(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),fh(this),z0(this))};function mg(d){d.A!=null&&(l.clearTimeout(d.A),d.A=null)}function z0(d){d.g=new Mi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Ks(d.qa);Dt(_,"RID","rpc"),Dt(_,"SID",d.K),Dt(_,"AID",d.T),Dt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Dt(_,"TO",d.ja),Dt(_,"TYPE","xmlhttp"),Xc(d,_),d.m&&d.o&&dg(_,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=ch(Ks(_)),S.m=null,S.P=!0,g0(S,d)}t.Za=function(){this.C!=null&&(this.C=null,fh(this),fg(this),Ft(19))};function ph(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function W0(d,_){var S=null;if(d.g==_){ph(d),mg(d),d.g=null;var O=2}else if(cg(d.h,_))S=_.D,b0(d.h,_),O=1;else return;if(d.G!=0){if(_.o)if(O==1){S=_.m?_.m.length:0,_=Date.now()-_.F;var z=d.B;O=at(),oe(O,new ys(O,S)),mh(d)}else B0(d);else if(z=_.s,z==3||z==0&&0<_.X||!(O==1&&wD(d,_)||O==2&&fg(d)))switch(S&&0<S.length&&(_=d.h,_.i=_.i.concat(S)),z){case 1:no(d,5);break;case 4:no(d,10);break;case 3:no(d,6);break;default:no(d,2)}}}function H0(d,_){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*_}function no(d,_){if(d.j.info("Error code "+_),_==2){var S=m(d.fb,d),O=d.Xa;const z=!O;O=new to(O||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||oh(O,"https"),ch(O),z?fD(O.toString(),S):mD(O.toString(),S)}else Ft(2);d.G=0,d.l&&d.l.sa(_),q0(d),F0(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function q0(d){if(d.G=0,d.ka=[],d.l){const _=E0(d.h);(_.length!=0||d.i.length!=0)&&(x(d.ka,_),x(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function G0(d,_,S){var O=S instanceof to?Ks(S):new to(S);if(O.g!="")_&&(O.g=_+"."+O.g),lh(O,O.s);else{var z=l.location;O=z.protocol,_=_?_+"."+z.hostname:z.hostname,z=+z.port;var G=new to(null);O&&oh(G,O),_&&(G.g=_),z&&lh(G,z),S&&(G.l=S),O=G}return S=d.D,_=d.ya,S&&_&&Dt(O,S,_),Dt(O,"VER",d.la),Xc(d,O),O}function K0(d,_,S){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Kt(new uh({eb:S})):new Kt(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Q0(){}t=Q0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gh(){}gh.prototype.g=function(d,_){return new yr(d,_)};function yr(d,_){q.call(this),this.g=new V0(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!y(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!y(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new nl(this)}E(yr,q),yr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yr.prototype.close=function(){hg(this.g)},yr.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=bn(d),d=S);_.i.push(new rD(_.Ya++,d)),_.G==3&&mh(_)},yr.prototype.N=function(){this.g.l=null,delete this.j,hg(this.g),delete this.g,yr.aa.N.call(this)};function Y0(d){Ja.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const S in _){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}E(Y0,Ja);function X0(){Ar.call(this),this.status=1}E(X0,Ar);function nl(d){this.g=d}E(nl,Q0),nl.prototype.ua=function(){oe(this.g,"a")},nl.prototype.ta=function(d){oe(this.g,new Y0(d))},nl.prototype.sa=function(d){oe(this.g,new X0)},nl.prototype.ra=function(){oe(this.g,"b")},gh.prototype.createWebChannel=gh.prototype.g,yr.prototype.send=yr.prototype.o,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,jP=function(){return new gh},AP=function(){return at()},PP=Gs,Fv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sh.NO_ERROR=0,sh.TIMEOUT=8,sh.HTTP_ERROR=6,yf=sh,f0.COMPLETE="complete",kP=f0,zc.EventType=Za,Za.OPEN="a",Za.CLOSE="b",Za.ERROR="c",Za.MESSAGE="d",q.prototype.listen=q.prototype.K,xu=zc,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,IP=Kt}).apply(typeof Bh<"u"?Bh:typeof self<"u"?self:typeof window<"u"?window:{});const wE="@firebase/firestore",_E="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new Vw("@firebase/firestore");function ul(){return Oo.logLevel}function me(t,...e){if(Oo.logLevel<=tt.DEBUG){const n=e.map(Xw);Oo.debug(`Firestore (${Dc}): ${t}`,...n)}}function Si(t,...e){if(Oo.logLevel<=tt.ERROR){const n=e.map(Xw);Oo.error(`Firestore (${Dc}): ${t}`,...n)}}function Aa(t,...e){if(Oo.logLevel<=tt.WARN){const n=e.map(Xw);Oo.warn(`Firestore (${Dc}): ${t}`,...n)}}function Xw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,RP(t,r,n)}function RP(t,e,n){let r=`FIRESTORE (${Dc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Si(r),new Error(r)}function mt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||RP(e,s,r)}function Le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Un.UNAUTHENTICATED))}shutdown(){}}class W${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class H${constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new di;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new di,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new di)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new DP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class q${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new q$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0,3512);const r=i=>{i.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,me("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Q$(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function Uv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ge(r,s);{const i=OP(),a=Y$(i.encode(EE(t,n)),i.encode(EE(e,n)));return a!==0?a:Ge(r,s)}}n+=r>65535?2:1}return Ge(t.length,e.length)}function EE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Y$(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ge(t[n],e[n]);return Ge(t.length,e.length)}function dc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="__name__";class _s{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _s.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _s?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=_s.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ge(e.length,n.length)}static compareSegments(e,n){const r=_s.isNumericId(e),s=_s.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?_s.extractNumericId(e).compare(_s.extractNumericId(n)):Uv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ba.fromString(e.substring(4,e.length-2))}}class At extends _s{construct(e,n,r){return new At(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new At(n)}static emptyPath(){return new At([])}}const X$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends _s{construct(e,n,r){return new In(e,n,r)}static isValidIdentifier(e){return X$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TE}static keyField(){return new In([TE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ue(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ue(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ue(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new ue(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(n)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(At.fromString(e))}static fromName(e){return new be(At.fromString(e).popFirst(5))}static empty(){return new be(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t,e,n){if(!n)throw new ue(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Z$(t,e,n,r){if(e===!0&&r===!0)throw new ue(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SE(t){if(!be.isDocumentKey(t))throw new ue(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NE(t){if(be.isDocumentKey(t))throw new ue(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function LP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sp(t);throw new ue(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,e){const n={typeString:t};return e&&(n.value=e),n}function qd(t,e){if(!LP(t))throw new ue(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ue(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=-62135596800,IE=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*IE);return new Lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CE)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IE}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qd(e,Lt._jsonSchema))return new Lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Lt._jsonSchemaVersion="firestore/timestamp/1.0",Lt._jsonSchema={type:dn("string",Lt._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Lt(0,0))}static max(){return new De(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=-1;function J$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=De.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new ja(s,be.empty(),e)}function eB(t){return new ja(t.readTime,t.key,vd)}class ja{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ja(De.min(),be.empty(),vd)}static max(){return new ja(De.max(),be.empty(),vd)}}function tB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==nB)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(s=>s?Z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{a[u]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new Z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function sB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Np.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=-1;function Cp(t){return t==null}function gm(t){return t===0&&1/t==-1/0}function iB(t){return typeof t=="number"&&Number.isInteger(t)&&!gm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="";function aB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kE(e)),e=oB(t.get(n),e);return kE(e)}function oB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case VP:n+="";break;default:n+=i}}return n}function kE(t){return t+VP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.comparator=e,this.root=n||Cn.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zh(this.root,e,this.comparator,!0)}}class zh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Cn.RED,this.left=s??Cn.EMPTY,this.right=i??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Cn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Cn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AE(this.data.getIterator())}getIteratorFrom(e){return new AE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yn(this.comparator);return n.data=e,n}}class AE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new Er([])}unionWith(e){let n=new yn(In.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new UP("Invalid base64 string: "+i):i}}(e);return new jn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new jn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const lB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ra(t){if(mt(!!t,39018),typeof t=="string"){let e=0;const n=lB.exec(t);if(mt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Da(t){return typeof t=="string"?jn.fromBase64String(t):jn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="server_timestamp",BP="__type__",zP="__previous_value__",WP="__local_write_time__";function e_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[BP])===null||n===void 0?void 0:n.stringValue)===$P}function Ip(t){const e=t.mapValue.fields[zP];return e_(e)?Ip(e):e}function xd(t){const e=Ra(t.mapValue.fields[WP].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,n,r,s,i,a,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const ym="(default)";class wd{constructor(e,n){this.projectId=e,this.database=n||ym}static empty(){return new wd("","")}get isDefaultDatabase(){return this.database===ym}isEqual(e){return e instanceof wd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="__type__",qP="__max__",Wh={mapValue:{fields:{__type__:{stringValue:qP}}}},GP="__vector__",vm="value";function Oa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?e_(t)?4:dB(t)?9007199254740991:uB(t)?10:11:ke(28295,{value:t})}function Bs(t,e){if(t===e)return!0;const n=Oa(t);if(n!==Oa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xd(t).isEqual(xd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Ra(s.timestampValue),l=Ra(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Da(s.bytesValue).isEqual(Da(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Jt(s.geoPointValue.latitude)===Jt(i.geoPointValue.latitude)&&Jt(s.geoPointValue.longitude)===Jt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Jt(s.integerValue)===Jt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Jt(s.doubleValue),l=Jt(i.doubleValue);return a===l?gm(a)===gm(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return dc(t.arrayValue.values||[],e.arrayValue.values||[],Bs);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(PE(a)!==PE(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Bs(a[c],l[c])))return!1;return!0}(t,e);default:return ke(52216,{left:t})}}function _d(t,e){return(t.values||[]).find(n=>Bs(n,e))!==void 0}function hc(t,e){if(t===e)return 0;const n=Oa(t),r=Oa(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Jt(i.integerValue||i.doubleValue),c=Jt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return jE(t.timestampValue,e.timestampValue);case 4:return jE(xd(t),xd(e));case 5:return Uv(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Da(i),c=Da(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const h=Ge(l[u],c[u]);if(h!==0)return h}return Ge(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Ge(Jt(i.latitude),Jt(a.latitude));return l!==0?l:Ge(Jt(i.longitude),Jt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return RE(t.arrayValue,e.arrayValue);case 10:return function(i,a){var l,c,u,h;const f=i.fields||{},m=a.fields||{},g=(l=f[vm])===null||l===void 0?void 0:l.arrayValue,E=(c=m[vm])===null||c===void 0?void 0:c.arrayValue,w=Ge(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:RE(g,E)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Wh.mapValue&&a===Wh.mapValue)return 0;if(i===Wh.mapValue)return 1;if(a===Wh.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=Uv(c[f],h[f]);if(m!==0)return m;const g=hc(l[c[f]],u[h[f]]);if(g!==0)return g}return Ge(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ke(23264,{le:n})}}function jE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=Ra(t),r=Ra(e),s=Ge(n.seconds,r.seconds);return s!==0?s:Ge(n.nanos,r.nanos)}function RE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=hc(n[s],r[s]);if(i)return i}return Ge(n.length,r.length)}function fc(t){return $v(t)}function $v(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ra(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Da(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=$v(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${$v(n.fields[a])}`;return s+"}"}(t.mapValue):ke(61005,{value:t})}function vf(t){switch(Oa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ip(t);return e?16+vf(e):16;case 5:return 2*t.stringValue.length;case 6:return Da(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+vf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ha(r.fields,(i,a)=>{s+=i.length+vf(a)}),s}(t.mapValue);default:throw ke(13486,{value:t})}}function DE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bv(t){return!!t&&"integerValue"in t}function t_(t){return!!t&&"arrayValue"in t}function OE(t){return!!t&&"nullValue"in t}function ME(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xf(t){return!!t&&"mapValue"in t}function uB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[HP])===null||n===void 0?void 0:n.stringValue)===GP}function Vu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ha(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vu(n)}setAll(e){let n=In.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=Vu(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());xf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];xf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ha(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new lr(Vu(this.value))}}function KP(t){const e=[];return Ha(t.fields,(n,r)=>{const s=new In([n]);if(xf(r)){const i=KP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new Er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Bn(e,0,De.min(),De.min(),De.min(),lr.empty(),0)}static newFoundDocument(e,n,r,s){return new Bn(e,1,n,De.min(),r,s,0)}static newNoDocument(e,n){return new Bn(e,2,n,De.min(),De.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new Bn(e,3,n,De.min(),De.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){this.position=e,this.inclusive=n}}function LE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=be.comparator(be.fromName(a.referenceValue),n.key):r=hc(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function VE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n="asc"){this.field=e,this.dir=n}}function hB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{}class un extends QP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mB(e,n,r):n==="array-contains"?new yB(e,r):n==="in"?new vB(e,r):n==="not-in"?new xB(e,r):n==="array-contains-any"?new wB(e,r):new un(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pB(e,r):new gB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hc(n,this.value)):n!==null&&Oa(this.value)===Oa(n)&&this.matchesComparison(hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ms extends QP{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new ms(e,n)}matches(e){return YP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function YP(t){return t.op==="and"}function XP(t){return fB(t)&&YP(t)}function fB(t){for(const e of t.filters)if(e instanceof ms)return!1;return!0}function zv(t){if(t instanceof un)return t.field.canonicalString()+t.op.toString()+fc(t.value);if(XP(t))return t.filters.map(e=>zv(e)).join(",");{const e=t.filters.map(n=>zv(n)).join(",");return`${t.op}(${e})`}}function ZP(t,e){return t instanceof un?function(r,s){return s instanceof un&&r.op===s.op&&r.field.isEqual(s.field)&&Bs(r.value,s.value)}(t,e):t instanceof ms?function(r,s){return s instanceof ms&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&ZP(a,s.filters[l]),!0):!1}(t,e):void ke(19439)}function JP(t){return t instanceof un?function(n){return`${n.field.canonicalString()} ${n.op} ${fc(n.value)}`}(t):t instanceof ms?function(n){return n.op.toString()+" {"+n.getFilters().map(JP).join(" ,")+"}"}(t):"Filter"}class mB extends un{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class pB extends un{constructor(e,n){super(e,"in",n),this.keys=eA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gB extends un{constructor(e,n){super(e,"not-in",n),this.keys=eA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class yB extends un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return t_(n)&&_d(n.arrayValue,this.value)}}class vB extends un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_d(this.value.arrayValue,n)}}class xB extends un{constructor(e,n){super(e,"not-in",n)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_d(this.value.arrayValue,n)}}class wB extends un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!t_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_d(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Pe=null}}function FE(t,e=null,n=[],r=[],s=null,i=null,a=null){return new _B(t,e,n,r,s,i,a)}function n_(t){const e=Le(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Cp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fc(r)).join(",")),e.Pe=n}return e.Pe}function r_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VE(t.startAt,e.startAt)&&VE(t.endAt,e.endAt)}function Wv(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function bB(t,e,n,r,s,i,a,l){return new Lc(t,e,n,r,s,i,a,l)}function s_(t){return new Lc(t)}function UE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tA(t){return t.collectionGroup!==null}function Fu(t){const e=Le(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new yn(In.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new bd(i,r))}),n.has(In.keyField().canonicalString())||e.Te.push(new bd(In.keyField(),r))}return e.Te}function Rs(t){const e=Le(t);return e.Ie||(e.Ie=EB(e,Fu(t))),e.Ie}function EB(t,e){if(t.limitType==="F")return FE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new bd(s.field,i)});const n=t.endAt?new xm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xm(t.startAt.position,t.startAt.inclusive):null;return FE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hv(t,e){const n=t.filters.concat([e]);return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qv(t,e,n){return new Lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kp(t,e){return r_(Rs(t),Rs(e))&&t.limitType===e.limitType}function nA(t){return`${n_(Rs(t))}|lt:${t.limitType}`}function dl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>JP(s)).join(", ")}]`),Cp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>fc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>fc(s)).join(",")),`Target(${r})`}(Rs(t))}; limitType=${t.limitType})`}function Pp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):be.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Fu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=LE(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,Fu(r),s)||r.endAt&&!function(a,l,c){const u=LE(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,Fu(r),s))}(t,e)}function TB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rA(t){return(e,n)=>{let r=!1;for(const s of Fu(t)){const i=SB(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function SB(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?hc(c,u):ke(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return FP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=new Gt(be.comparator);function Ni(){return NB}const sA=new Gt(be.comparator);function wu(...t){let e=sA;for(const n of t)e=e.insert(n.key,n);return e}function iA(t){let e=sA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mo(){return Uu()}function aA(){return Uu()}function Uu(){return new Qo(t=>t.toString(),(t,e)=>t.isEqual(e))}const CB=new Gt(be.comparator),IB=new yn(be.comparator);function nt(...t){let e=IB;for(const n of t)e=e.add(n);return e}const kB=new yn(Ge);function PB(){return kB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gm(e)?"-0":e}}function oA(t){return{integerValue:""+t}}function AB(t,e){return iB(e)?oA(e):i_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(){this._=void 0}}function jB(t,e,n){return t instanceof Ed?function(s,i){const a={fields:{[BP]:{stringValue:$P},[WP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&e_(i)&&(i=Ip(i)),i&&(a.fields[zP]=i),{mapValue:a}}(n,e):t instanceof mc?cA(t,e):t instanceof pc?uA(t,e):function(s,i){const a=lA(s,i),l=$E(a)+$E(s.Ee);return Bv(a)&&Bv(s.Ee)?oA(l):i_(s.serializer,l)}(t,e)}function RB(t,e,n){return t instanceof mc?cA(t,e):t instanceof pc?uA(t,e):n}function lA(t,e){return t instanceof wm?function(r){return Bv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ed extends Ap{}class mc extends Ap{constructor(e){super(),this.elements=e}}function cA(t,e){const n=dA(e);for(const r of t.elements)n.some(s=>Bs(s,r))||n.push(r);return{arrayValue:{values:n}}}class pc extends Ap{constructor(e){super(),this.elements=e}}function uA(t,e){let n=dA(e);for(const r of t.elements)n=n.filter(s=>!Bs(s,r));return{arrayValue:{values:n}}}class wm extends Ap{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function $E(t){return Jt(t.integerValue||t.doubleValue)}function dA(t){return t_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n){this.field=e,this.transform=n}}function DB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof mc&&s instanceof mc||r instanceof pc&&s instanceof pc?dc(r.elements,s.elements,Bs):r instanceof wm&&s instanceof wm?Bs(r.Ee,s.Ee):r instanceof Ed&&s instanceof Ed}(t.transform,e.transform)}class OB{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jp{}function hA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rp(t.key,Xn.none()):new Gd(t.key,t.data,Xn.none());{const n=t.data,r=lr.empty();let s=new yn(In.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new qa(t.key,r,new Er(s.toArray()),Xn.none())}}function MB(t,e,n){t instanceof Gd?function(s,i,a){const l=s.value.clone(),c=zE(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof qa?function(s,i,a){if(!wf(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=zE(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(fA(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function $u(t,e,n,r){return t instanceof Gd?function(i,a,l,c){if(!wf(i.precondition,a))return l;const u=i.value.clone(),h=WE(i.fieldTransforms,c,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof qa?function(i,a,l,c){if(!wf(i.precondition,a))return l;const u=WE(i.fieldTransforms,c,a),h=a.data;return h.setAll(fA(i)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,l){return wf(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function LB(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=lA(r.transform,s||null);i!=null&&(n===null&&(n=lr.empty()),n.set(r.field,i))}return n||null}function BE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&dc(r,s,(i,a)=>DB(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gd extends jp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qa extends jp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function fA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zE(t,e,n){const r=new Map;mt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,RB(a,l,n[s]))}return r}function WE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,jB(i,a,e))}return r}class Rp extends jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VB extends jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&MB(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$u(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$u(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aA();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=hA(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,(n,r)=>BE(n,r))&&dc(this.baseMutations,e.baseMutations,(n,r)=>BE(n,r))}}class o_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){mt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return CB}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new o_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UB=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,st;function BB(t){switch(t){case Y.OK:return ke(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function mA(t){if(t===void 0)return Si("GRPC error has no .code"),Y.UNKNOWN;switch(t){case ln.OK:return Y.OK;case ln.CANCELLED:return Y.CANCELLED;case ln.UNKNOWN:return Y.UNKNOWN;case ln.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ln.INTERNAL:return Y.INTERNAL;case ln.UNAVAILABLE:return Y.UNAVAILABLE;case ln.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ln.NOT_FOUND:return Y.NOT_FOUND;case ln.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ln.ABORTED:return Y.ABORTED;case ln.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ln.DATA_LOSS:return Y.DATA_LOSS;default:return ke(39323,{code:t})}}(st=ln||(ln={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=new ba([4294967295,4294967295],0);function HE(t){const e=OP().encode(t),n=new CP;return n.update(e),new Uint8Array(n.digest())}function qE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ba([n,r],0),new ba([s,i],0)]}class l_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _u(`Invalid padding: ${n}`);if(r<0)throw new _u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _u(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ba.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(ba.fromNumber(r)));return s.compare(zB)===1&&(s=new ba([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=HE(e),[r,s]=qE(n);for(let i=0;i<this.hashCount;i++){const a=this.pe(r,s,i);if(!this.ye(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new l_(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.fe===0)return;const n=HE(e),[r,s]=qE(n);for(let i=0;i<this.hashCount;i++){const a=this.pe(r,s,i);this.we(a)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Kd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dp(De.min(),s,new Gt(Ge),Ni(),nt())}}class Kd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kd(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class pA{constructor(e,n){this.targetId=e,this.De=n}}class gA{constructor(e,n,r=jn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class GE{constructor(){this.ve=0,this.Ce=KE(),this.Fe=jn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=nt(),n=nt(),r=nt();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ke(38017,{changeType:i})}}),new Kd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=KE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class WB{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ni(),this.je=Hh(),this.Je=Hh(),this.He=new Gt(Ge)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:ke(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(Wv(i))if(r===0){const a=new be(i.path);this.Xe(n,a,Bn.newNoDocument(a,De.min()))}else mt(r===1,20013,{expectedCount:r});else{const a=this.ot(n);if(a!==r){const l=this._t(e),c=l?this.ut(l,e,a):1;if(c!==0){this.rt(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,u)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Da(r).toUint8Array()}catch(c){if(c instanceof UP)return Aa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new l_(a,s,i)}catch(c){return Aa(c instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.fe===0?null:l}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.We.lt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,a)=>{const l=this.st(a);if(l){if(i.current&&Wv(l.target)){const c=new be(l.target.path);this.Tt(c).has(a)||this.It(a,c)||this.Xe(a,c,Bn.newNoDocument(c,e))}i.Ne&&(n.set(a,i.Le()),i.ke())}});let r=nt();this.Je.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ze.forEach((i,a)=>a.setReadTime(e));const s=new Dp(e,n,this.He,this.ze,r);return this.ze=Ni(),this.je=Hh(),this.Je=Hh(),this.He=new Gt(Ge),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new GE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new yn(Ge),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new yn(Ge),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new GE),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Hh(){return new Gt(be.comparator)}function KE(){return new Gt(be.comparator)}const HB={asc:"ASCENDING",desc:"DESCENDING"},qB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GB={and:"AND",or:"OR"};class KB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gv(t,e){return t.useProto3Json||Cp(e)?e:{value:e}}function _m(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QB(t,e){return _m(t,e.toTimestamp())}function Ds(t){return mt(!!t,49232),De.fromTimestamp(function(n){const r=Ra(n);return new Lt(r.seconds,r.nanos)}(t))}function c_(t,e){return Kv(t,e).canonicalString()}function Kv(t,e){const n=function(s){return new At(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vA(t){const e=At.fromString(t);return mt(EA(e),10190,{key:e.toString()}),e}function Qv(t,e){return c_(t.databaseId,e.path)}function iy(t,e){const n=vA(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(wA(n))}function xA(t,e){return c_(t.databaseId,e)}function YB(t){const e=vA(t);return e.length===4?At.emptyPath():wA(e)}function Yv(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wA(t){return mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function QE(t,e,n){return{name:Qv(t,e),fields:n.value.mapValue.fields}}function XB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ke(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(mt(h===void 0||typeof h=="string",58123),jn.fromBase64String(h||"")):(mt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),jn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const h=u.code===void 0?Y.UNKNOWN:mA(u.code);return new ue(h,u.message||"")}(a);n=new gA(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=iy(t,r.document.name),i=Ds(r.document.updateTime),a=r.document.createTime?Ds(r.document.createTime):De.min(),l=new lr({mapValue:{fields:r.document.fields}}),c=Bn.newFoundDocument(s,i,a,l),u=r.targetIds||[],h=r.removedTargetIds||[];n=new _f(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=iy(t,r.document),i=r.readTime?Ds(r.readTime):De.min(),a=Bn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new _f([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=iy(t,r.document),i=r.removedTargetIds||[];n=new _f([],i,s,null)}else{if(!("filter"in e))return ke(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new $B(s,i),l=r.targetId;n=new pA(l,a)}}return n}function ZB(t,e){let n;if(e instanceof Gd)n={update:QE(t,e.key,e.value)};else if(e instanceof Rp)n={delete:Qv(t,e.key)};else if(e instanceof qa)n={update:QE(t,e.key,e.data),updateMask:oz(e.fieldMask)};else{if(!(e instanceof VB))return ke(16599,{Rt:e.type});n={verify:Qv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Ed)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof mc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof pc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof wm)return{fieldPath:a.field.canonicalString(),increment:l.Ee};throw ke(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:QB(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ke(27497)}(t,e.precondition)),n}function JB(t,e){return t&&t.length>0?(mt(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?Ds(s.updateTime):Ds(i);return a.isEqual(De.min())&&(a=Ds(i)),new OB(a,s.transformResults||[])}(n,e))):[]}function ez(t,e){return{documents:[xA(t,e.path)]}}function tz(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xA(t,s);const i=function(u){if(u.length!==0)return bA(ms.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:hl(m.field),direction:sz(m.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Gv(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:n,parent:s}}function nz(t){let e=YB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){mt(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=_A(f);return m instanceof ms&&XP(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(m=>function(E){return new bd(fl(E.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Cp(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,g=f.values||[];return new xm(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,g=f.values||[];return new xm(g,m)}(n.endAt)),bB(e,s,a,i,l,"F",c,u)}function rz(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _A(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fl(n.unaryFilter.field);return un.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=fl(n.unaryFilter.field);return un.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fl(n.unaryFilter.field);return un.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=fl(n.unaryFilter.field);return un.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}}(t):t.fieldFilter!==void 0?function(n){return un.create(fl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ms.create(n.compositeFilter.filters.map(r=>_A(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ke(1026)}}(n.compositeFilter.op))}(t):ke(30097,{filter:t})}function sz(t){return HB[t]}function iz(t){return qB[t]}function az(t){return GB[t]}function hl(t){return{fieldPath:t.canonicalString()}}function fl(t){return In.fromServerFormat(t.fieldPath)}function bA(t){return t instanceof un?function(n){if(n.op==="=="){if(ME(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NAN"}};if(OE(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ME(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NAN"}};if(OE(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(n.field),op:iz(n.op),value:n.value}}}(t):t instanceof ms?function(n){const r=n.getFilters().map(s=>bA(s));return r.length===1?r[0]:{compositeFilter:{op:az(n.op),filters:r}}}(t):ke(54877,{filter:t})}function oz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,r,s,i=De.min(),a=De.min(),l=jn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e){this.gt=e}}function cz(t){const e=nz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(){this.Dn=new dz}addToCollectionParentIndex(e,n){return this.Dn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(ja.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class dz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new yn(At.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new yn(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TA=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(TA,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new gc(0)}static ur(){return new gc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="LruGarbageCollector",hz=1048576;function ZE([t,e],[n,r]){const s=Ge(t,n);return s===0?Ge(e,r):s}class fz{constructor(e){this.Tr=e,this.buffer=new yn(ZE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ZE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){me(XE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mc(n)?me(XE,"Ignoring IndexedDB error during garbage collection: ",n):await Oc(n)}await this.Rr(3e5)})}}class pz{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Np.ue);const r=new fz(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(YE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YE):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,a,l,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ul()<=tt.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function gz(t,e){return new pz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(){this.changes=new Qo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&$u(r.mutation,s,Er.empty(),Lt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nt()){const s=mo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=wu();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=Ni();const a=Uu(),l=function(){return Uu()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof qa)?i=i.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),$u(h.mutation,u,h.mutation.getFieldMask(),Lt.now())):a.set(u.key,Er.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>a.set(u,h)),n.forEach((u,h)=>{var f;return l.set(u,new vz(h,(f=a.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Uu();let s=new Gt((a,l)=>a-l),i=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Er.empty();h=l.applyToLocalView(u,h),r.set(c,h);const f=(s.get(l.batchId)||nt()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,h=c.value,f=aA();h.forEach(m=>{if(!i.has(m)){const g=hA(n.get(m),r.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return be.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Z.resolve(mo());let l=vd,c=i;return a.next(u=>Z.forEach(u,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?Z.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,nt())).next(h=>({batchId:l,changes:iA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let s=wu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=wu();return this.indexManager.getCollectionParents(e,i).next(l=>Z.forEach(l,c=>{const u=function(f,m){return new Lc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,m)=>{a=a.insert(f,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,Bn.newInvalidDocument(h)))});let l=wu();return a.forEach((c,u)=>{const h=i.get(c);h!==void 0&&$u(h.mutation,u,Er.empty(),Lt.now()),Pp(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ds(s.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:cz(s.bundledQuery),readTime:Ds(s.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(){this.overlays=new Gt(be.comparator),this.kr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=mo();return Z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const s=mo(),i=n.length+1,a=new be(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Gt((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=mo(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=mo(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=s)););return Z.resolve(l)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new UB(n,r));let i=this.kr.get(n);i===void 0&&(i=nt(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(){this.sessionToken=jn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.qr=new yn(xn.Qr),this.$r=new yn(xn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new xn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new xn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new be(new At([])),r=new xn(n,e),s=new xn(n,e+1),i=[];return this.$r.forEachInRange([r,s],a=>{this.Wr(a),i.push(a.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new be(new At([])),r=new xn(n,e),s=new xn(n,e+1);let i=nt();return this.$r.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new xn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return be.comparator(e.key,n.key)||Ge(e.Hr,n.Hr)}static Ur(e,n){return Ge(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new yn(xn.Qr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new FB(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.Yr=this.Yr.add(new xn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Z.resolve(a)}lookupMutationBatch(e,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return Z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Jw:this.er-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xn(n,0),s=new xn(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],a=>{const l=this.Zr(a.Hr);i.push(l)}),Z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yn(Ge);return n.forEach(s=>{const i=new xn(s,0),a=new xn(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,a],l=>{r=r.add(l.Hr)})}),Z.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;be.isDocumentKey(i)||(i=i.child(""));const a=new xn(new be(i),0);let l=new yn(Ge);return this.Yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Hr)),!0)},a),Z.resolve(this.ei(l))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){mt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Z.forEach(n.mutations,s=>{const i=new xn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new xn(n,0),s=this.Yr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e){this.ni=e,this.docs=function(){return new Gt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=Ni();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Bn.newInvalidDocument(s))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ni();const a=n.path,l=new be(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||tB(eB(h),r)<=0||(s.has(h.key)||Pp(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return Z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ke(9500)}ri(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Sz(this)}getSize(e){return Z.resolve(this.size)}}class Sz extends yz{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.persistence=e,this.ii=new Qo(n=>n_(n),r_),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.si=0,this.oi=new u_,this.targetCount=0,this._i=gc.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Z.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new gc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.hr(n),Z.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ii.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),Z.waitFor(i).next(()=>s)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),Z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n){this.ai={},this.overlays={},this.ui=new Np(0),this.ci=!1,this.ci=!0,this.li=new bz,this.referenceDelegate=e(this),this.hi=new Nz(this),this.indexManager=new uz,this.remoteDocumentCache=function(s){return new Tz(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new lz(n),this.Ti=new wz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _z,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new Ez(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new Cz(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return Z.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class Cz extends rB{constructor(e){super(),this.currentSequenceNumber=e}}class d_{constructor(e){this.persistence=e,this.Ai=new u_,this.Ri=null}static Vi(e){return new d_(e)}get mi(){if(this.Ri)return this.Ri;throw ke(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.mi,r=>{const s=be.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,De.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Z.or([()=>Z.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class bm{constructor(e,n){this.persistence=e,this.gi=new Qo(r=>aB(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=gz(this,n)}static Vi(e,n){return new bm(e,n)}Ii(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Z.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?Z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,a=>this.Sr(e,a,n).next(l=>{l||(r++,i.removeEntry(a,De.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Z.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vf(e.data.value)),n}Sr(e,n,r){return Z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return Z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=nt(),s=nt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new h_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return n6()?8:sB(Hn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new Iz;return this.ws(e,n,a).next(l=>{if(i.result=l,this.Rs)return this.Ss(e,n,a,l.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(ul()<=tt.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",dl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(ul()<=tt.DEBUG&&me("QueryEngine","Query:",dl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(ul()<=tt.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",dl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rs(n))):Z.resolve())}ps(e,n){if(UE(n))return Z.resolve(null);let r=Rs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=qv(n,null,"F"),r=Rs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=nt(...i);return this.gs.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.bs(n,l);return this.Ds(n,u,a,c.readTime)?this.ps(e,qv(n,null,"F")):this.vs(e,u,n,c)}))})))}ys(e,n,r,s){return UE(n)||s.isEqual(De.min())?Z.resolve(null):this.gs.getDocuments(e,r).next(i=>{const a=this.bs(n,i);return this.Ds(n,a,r,s)?Z.resolve(null):(ul()<=tt.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),dl(n)),this.vs(e,a,n,J$(s,vd)).next(l=>l))})}bs(e,n){let r=new yn(rA(e));return n.forEach((s,i)=>{Pp(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return ul()<=tt.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",dl(n)),this.gs.getDocumentsMatchingQuery(e,n,ja.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="LocalStore",Pz=3e8;class Az{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new Gt(Ge),this.Ms=new Qo(i=>n_(i),r_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xz(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function jz(t,e,n,r){return new Az(t,e,n,r)}async function NA(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=nt();for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){l.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:a,addedBatchIds:l}))})})}function Rz(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(l,c,u,h){const f=u.batch,m=f.keys();let g=Z.resolve();return m.forEach(E=>{g=g.next(()=>h.getEntry(c,E)).next(w=>{const x=u.docVersions.get(E);mt(x!==null,48541),w.version.compareTo(x)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),h.addEntry(w)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=nt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function CA(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Dz(t,e){const n=Le(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const l=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;l.push(n.hi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.hi.addMatchingKeys(i,h.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(jn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(w,x,b){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=Pz?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,g,h)&&l.push(n.hi.updateTargetData(i,g))});let c=Ni(),u=nt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(Oz(i,a,e.documentUpdates).next(h=>{c=h.Ls,u=h.ks})),!r.isEqual(De.min())){const h=n.hi.getLastRemoteSnapshotVersion(i).next(f=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return Z.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Fs=s,i))}function Oz(t,e,n){let r=nt(),s=nt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Ni();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(De.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):me(f_,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ls:a,ks:s}})}function Mz(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Jw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Lz(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,Z.resolve(s)):n.hi.allocateTargetId(r).next(a=>(s=new la(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Xv(t,e,n){const r=Le(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Mc(a))throw a;me(f_,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function JE(t,e,n){const r=Le(t);let s=De.min(),i=nt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,h){const f=Le(c),m=f.Ms.get(h);return m!==void 0?Z.resolve(f.Fs.get(m)):f.hi.getTargetData(u,h)}(r,a,Rs(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,n?s:De.min(),n?i:nt())).next(l=>(Vz(r,TB(e),l),{documents:l,qs:i})))}function Vz(t,e,n){let r=t.xs.get(e)||De.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class eT{constructor(){this.activeTargetIds=PB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fz{constructor(){this.Fo=new eT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new eT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="ConnectivityMonitor";class nT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){me(tT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){me(tT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function Zv(){return qh===null?qh=function(){return 268435456+Math.round(2147483648*Math.random())}():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="RestConnection",$z={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bz{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===ym?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const a=Zv(),l=this.Go(e,n.toUriEncodedString());me(ay,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,s,i);const{host:u}=new URL(l),h=jc(u);return this.jo(e,l,c,r,h).then(f=>(me(ay,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Aa(ay,`RPC '${e}' ${a} failed with error: `,f,"url: ",l,"request:",r),f})}Jo(e,n,r,s,i,a){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=$z[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class Wz extends Bz{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const a=Zv();return new Promise((l,c)=>{const u=new IP;u.setWithCredentials(!0),u.listenOnce(kP.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case yf.NO_ERROR:const f=u.getResponseJson();me(Vn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),l(f);break;case yf.TIMEOUT:me(Vn,`RPC '${e}' ${a} timed out`),c(new ue(Y.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:const m=u.getStatus();if(me(Vn,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const w=function(b){const y=b.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(y)>=0?y:Y.UNKNOWN}(E.status);c(new ue(w,E.message))}else c(new ue(Y.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ue(Y.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{c_:e,streamId:a,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{me(Vn,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(s);me(Vn,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",h,r,15)})}P_(e,n,r){const s=Zv(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=jP(),l=AP(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");me(Vn,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=a.createWebChannel(h,c);this.T_(f);let m=!1,g=!1;const E=new zz({Ho:x=>{g?me(Vn,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(m||(me(Vn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),me(Vn,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},Yo:()=>f.close()}),w=(x,b,y)=>{x.listen(b,v=>{try{y(v)}catch(T){setTimeout(()=>{throw T},0)}})};return w(f,xu.EventType.OPEN,()=>{g||(me(Vn,`RPC '${e}' stream ${s} transport opened.`),E.s_())}),w(f,xu.EventType.CLOSE,()=>{g||(g=!0,me(Vn,`RPC '${e}' stream ${s} transport closed`),E.__(),this.I_(f))}),w(f,xu.EventType.ERROR,x=>{g||(g=!0,Aa(Vn,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),E.__(new ue(Y.UNAVAILABLE,"The operation could not be completed")))}),w(f,xu.EventType.MESSAGE,x=>{var b;if(!g){const y=x.data[0];mt(!!y,16349);const v=y,T=(v==null?void 0:v.error)||((b=v[0])===null||b===void 0?void 0:b.error);if(T){me(Vn,`RPC '${e}' stream ${s} received error:`,T);const I=T.status;let R=function(P){const k=ln[P];if(k!==void 0)return mA(k)}(I),N=T.message;R===void 0&&(R=Y.INTERNAL,N="Unknown error status: "+I+" with message "+T.message),g=!0,E.__(new ue(R,N)),f.close()}else me(Vn,`RPC '${e}' stream ${s} received:`,y),E.a_(y)}}),w(l,PP.STAT_EVENT,x=>{x.stat===Fv.PROXY?me(Vn,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Fv.NOPROXY&&me(Vn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function oy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(t){return new KB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="PersistentStream";class kA{constructor(e,n,r,s,i,a,l,c){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new IA(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new ue(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return me(rT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(me(rT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hz extends kA{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=XB(this.serializer,e),r=function(i){if(!("targetChange"in i))return De.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?De.min():a.readTime?Ds(a.readTime):De.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Yv(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Wv(c)?{documents:ez(i,c)}:{query:tz(i,c).Vt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=yA(i,a.resumeToken);const u=Gv(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(De.min())>0){l.readTime=_m(i,a.snapshotVersion.toTimestamp());const u=Gv(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=rz(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Yv(this.serializer),n.removeTarget=e,this.k_(n)}}class qz extends kA{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=JB(e.writeResults,e.commitTime),r=Ds(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Yv(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ZB(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{}class Kz extends Gz{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Wo(e,Kv(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(Y.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Jo(e,Kv(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(Y.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Qz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Si(n),this._a=!1):me("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="RemoteStore";class Yz{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(a=>{r.enqueueAndForget(async()=>{Yo(this)&&(me(Mo,"Restarting streams for network reachability change."),await async function(c){const u=Le(c);u.Ia.add(4),await Qd(u),u.Aa.set("Unknown"),u.Ia.delete(4),await Mp(u)}(this))})}),this.Aa=new Qz(r,s)}}async function Mp(t){if(Yo(t))for(const e of t.da)await e(!0)}async function Qd(t){for(const e of t.da)await e(!1)}function PA(t,e){const n=Le(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),y_(n)?g_(n):Vc(n).x_()&&p_(n,e))}function m_(t,e){const n=Le(t),r=Vc(n);n.Ta.delete(e),r.x_()&&AA(n,e),n.Ta.size===0&&(r.x_()?r.B_():Yo(n)&&n.Aa.set("Unknown"))}function p_(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vc(t).H_(e)}function AA(t,e){t.Ra.$e(e),Vc(t).Y_(e)}function g_(t){t.Ra=new WB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Vc(t).start(),t.Aa.aa()}function y_(t){return Yo(t)&&!Vc(t).M_()&&t.Ta.size>0}function Yo(t){return Le(t).Ia.size===0}function jA(t){t.Ra=void 0}async function Xz(t){t.Aa.set("Online")}async function Zz(t){t.Ta.forEach((e,n)=>{p_(t,e)})}async function Jz(t,e){jA(t),y_(t)?(t.Aa.la(e),g_(t)):t.Aa.set("Unknown")}async function e8(t,e,n){if(t.Aa.set("Online"),e instanceof gA&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ta.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ta.delete(l),s.Ra.removeTarget(l))}(t,e)}catch(r){me(Mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Em(t,r)}else if(e instanceof _f?t.Ra.Ye(e):e instanceof pA?t.Ra.it(e):t.Ra.et(e),!n.isEqual(De.min()))try{const r=await CA(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.Ra.Pt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ta.get(u);h&&i.Ta.set(u,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const h=i.Ta.get(c);if(!h)return;i.Ta.set(c,h.withResumeToken(jn.EMPTY_BYTE_STRING,h.snapshotVersion)),AA(i,c);const f=new la(h.target,c,u,h.sequenceNumber);p_(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){me(Mo,"Failed to raise snapshot:",r),await Em(t,r)}}async function Em(t,e,n){if(!Mc(e))throw e;t.Ia.add(1),await Qd(t),t.Aa.set("Offline"),n||(n=()=>CA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(Mo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Mp(t)})}function RA(t,e){return e().catch(n=>Em(t,n,e))}async function Lp(t){const e=Le(t),n=Ma(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Jw;for(;t8(e);)try{const s=await Mz(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,n8(e,s)}catch(s){await Em(e,s)}DA(e)&&OA(e)}function t8(t){return Yo(t)&&t.Pa.length<10}function n8(t,e){t.Pa.push(e);const n=Ma(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function DA(t){return Yo(t)&&!Ma(t).M_()&&t.Pa.length>0}function OA(t){Ma(t).start()}async function r8(t){Ma(t).na()}async function s8(t){const e=Ma(t);for(const n of t.Pa)e.X_(n.mutations)}async function i8(t,e,n){const r=t.Pa.shift(),s=o_.from(r,e,n);await RA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Lp(t)}async function a8(t,e){e&&Ma(t).Z_&&await async function(r,s){if(function(a){return BB(a)&&a!==Y.ABORTED}(s.code)){const i=r.Pa.shift();Ma(r).N_(),await RA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Lp(r)}}(t,e),DA(t)&&OA(t)}async function sT(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),me(Mo,"RemoteStore received new credentials");const r=Yo(n);n.Ia.add(3),await Qd(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Mp(n)}async function o8(t,e){const n=Le(t);e?(n.Ia.delete(2),await Mp(n)):e||(n.Ia.add(2),await Qd(n),n.Aa.set("Unknown"))}function Vc(t){return t.Va||(t.Va=function(n,r,s){const i=Le(n);return i.ia(),new Hz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:Xz.bind(null,t),e_:Zz.bind(null,t),n_:Jz.bind(null,t),J_:e8.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),y_(t)?g_(t):t.Aa.set("Unknown")):(await t.Va.stop(),jA(t))})),t.Va}function Ma(t){return t.ma||(t.ma=function(n,r,s){const i=Le(n);return i.ia(),new qz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:r8.bind(null,t),n_:a8.bind(null,t),ea:s8.bind(null,t),ta:i8.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Lp(t)):(await t.ma.stop(),t.Pa.length>0&&(me(Mo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new v_(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x_(t,e){if(Si("AsyncQueue",`${e}: ${t}`),Mc(t))return new ue(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=wu(),this.sortedSet=new Gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ul;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.fa=new Gt(be.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):ke(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class yc{constructor(e,n,r,s,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new yc(e,n,Ul.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class c8{constructor(){this.queries=aT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=Le(n),i=s.queries;s.queries=aT(),i.forEach((a,l)=>{for(const c of l.wa)c.onError(r)})})(this,new ue(Y.ABORTED,"Firestore shutting down"))}}function aT(){return new Qo(t=>nA(t),kp)}async function MA(t,e){const n=Le(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new l8,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=x_(a,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&w_(n)}async function LA(t,e){const n=Le(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.wa.indexOf(e);a>=0&&(i.wa.splice(a,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function u8(t,e){const n=Le(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.wa)l.Ca(s)&&(r=!0);a.ya=s}}r&&w_(n)}function d8(t,e,n){const r=Le(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function w_(t){t.Da.forEach(e=>{e.next()})}var Jv,oT;(oT=Jv||(Jv={})).Fa="default",oT.Cache="cache";class VA{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Jv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.key=e}}class UA{constructor(e){this.key=e}}class h8{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=nt(),this.mutatedKeys=nt(),this.Xa=rA(e),this.eu=new Ul(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new iT,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),g=Pp(this.query,f)?f:null,E=!!m&&this.mutatedKeys.has(m.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;m&&g?m.data.isEqual(g.data)?E!==w&&(r.track({type:3,doc:g}),x=!0):this.iu(m,g)||(r.track({type:2,doc:g}),x=!0,(c&&this.Xa(g,c)>0||u&&this.Xa(g,u)<0)&&(l=!0)):!m&&g?(r.track({type:0,doc:g}),x=!0):m&&!g&&(r.track({type:1,doc:m}),x=!0,(c||u)&&(l=!0)),x&&(g?(a=a.add(g),i=w?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{eu:a,ru:r,Ds:l,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort((h,f)=>function(g,E){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{At:x})}};return w(g)-w(E)}(h.type,f.type)||this.Xa(h.doc,f.doc)),this.su(r),s=s!=null&&s;const l=n&&!s?this.ou():[],c=this.Za.size===0&&this.current&&!s?1:0,u=c!==this.Ya;return this.Ya=c,a.length!==0||u?{snapshot:new yc(this.query,e.eu,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:l}:{_u:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new iT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=nt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new UA(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new FA(r))}),n}uu(e){this.Ha=e.qs,this.Za=nt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return yc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const __="SyncEngine";class f8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class m8{constructor(e){this.key=e,this.lu=!1}}class p8{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new Qo(l=>nA(l),kp),this.Tu=new Map,this.Iu=new Set,this.du=new Gt(be.comparator),this.Eu=new Map,this.Au=new u_,this.Ru={},this.Vu=new Map,this.mu=gc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function g8(t,e,n=!0){const r=qA(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await $A(r,e,n,!0),s}async function y8(t,e){const n=qA(t);await $A(n,e,!0,!1)}async function $A(t,e,n,r){const s=await Lz(t.localStore,Rs(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await v8(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&PA(t.remoteStore,s),l}async function v8(t,e,n,r,s){t.gu=(f,m,g)=>async function(w,x,b,y){let v=x.view.nu(b);v.Ds&&(v=await JE(w.localStore,x.query,!1).then(({documents:N})=>x.view.nu(N,v)));const T=y&&y.targetChanges.get(x.targetId),I=y&&y.targetMismatches.get(x.targetId)!=null,R=x.view.applyChanges(v,w.isPrimaryClient,T,I);return cT(w,x.targetId,R._u),R.snapshot}(t,f,m,g);const i=await JE(t.localStore,e,!0),a=new h8(e,i.qs),l=a.nu(i.documents),c=Kd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);cT(t,n,u._u);const h=new f8(e,n,a);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),u.snapshot}async function x8(t,e,n){const r=Le(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(a=>!kp(a,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Xv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&m_(r.remoteStore,s.targetId),ex(r,s.targetId)}).catch(Oc)):(ex(r,s.targetId),await Xv(r.localStore,s.targetId,!0))}async function w8(t,e){const n=Le(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),m_(n.remoteStore,r.targetId))}async function _8(t,e,n){const r=I8(t);try{const s=await function(a,l){const c=Le(a),u=Lt.now(),h=l.reduce((g,E)=>g.add(E.key),nt());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=Ni(),w=nt();return c.Os.getEntries(g,h).next(x=>{E=x,E.forEach((b,y)=>{y.isValidDocument()||(w=w.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,E)).next(x=>{f=x;const b=[];for(const y of l){const v=LB(y,f.get(y.key).overlayedDocument);v!=null&&b.push(new qa(y.key,v,KP(v.value.mapValue),Xn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,b,l)}).next(x=>{m=x;const b=x.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(g,x.batchId,b)})}).then(()=>({batchId:m.batchId,changes:iA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Ru[a.currentUser.toKey()];u||(u=new Gt(Ge)),u=u.insert(l,c),a.Ru[a.currentUser.toKey()]=u}(r,s.batchId,n),await Yd(r,s.changes),await Lp(r.remoteStore)}catch(s){const i=x_(s,"Failed to persist write");n.reject(i)}}async function BA(t,e){const n=Le(t);try{const r=await Dz(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Eu.get(i);a&&(mt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.lu=!0:s.modifiedDocuments.size>0?mt(a.lu,14607):s.removedDocuments.size>0&&(mt(a.lu,42227),a.lu=!1))}),await Yd(n,r,e)}catch(r){await Oc(r)}}function lT(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=Le(a);c.onlineState=l;let u=!1;c.queries.forEach((h,f)=>{for(const m of f.wa)m.va(l)&&(u=!0)}),u&&w_(c)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function b8(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let a=new Gt(be.comparator);a=a.insert(i,Bn.newNoDocument(i,De.min()));const l=nt().add(i),c=new Dp(De.min(),new Map,new Gt(Ge),a,l);await BA(r,c),r.du=r.du.remove(i),r.Eu.delete(e),b_(r)}else await Xv(r.localStore,e,!1).then(()=>ex(r,e,n)).catch(Oc)}async function E8(t,e){const n=Le(t),r=e.batch.batchId;try{const s=await Rz(n.localStore,e);WA(n,r,null),zA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yd(n,s)}catch(s){await Oc(s)}}async function T8(t,e,n){const r=Le(t);try{const s=await function(a,l){const c=Le(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(mt(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);WA(r,e,n),zA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yd(r,s)}catch(s){await Oc(s)}}function zA(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function WA(t,e,n){const r=Le(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function ex(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||HA(t,r)})}function HA(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(m_(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),b_(t))}function cT(t,e,n){for(const r of n)r instanceof FA?(t.Au.addReference(r.key,e),S8(t,r)):r instanceof UA?(me(__,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||HA(t,r.key)):ke(19791,{yu:r})}function S8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(me(__,"New document in limbo: "+n),t.Iu.add(r),b_(t))}function b_(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new be(At.fromString(e)),r=t.mu.next();t.Eu.set(r,new m8(n)),t.du=t.du.insert(n,r),PA(t.remoteStore,new la(Rs(s_(n.path)),r,"TargetPurposeLimboResolution",Np.ue))}}async function Yd(t,e,n){const r=Le(t),s=[],i=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((l,c)=>{a.push(r.gu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=h_.Es(c.targetId,u);i.push(f)}}))}),await Promise.all(a),r.hu.J_(s),await async function(c,u){const h=Le(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Z.forEach(u,m=>Z.forEach(m.Is,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>Z.forEach(m.ds,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Mc(f))throw f;me(f_,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const g=h.Fs.get(m),E=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(E);h.Fs=h.Fs.insert(m,w)}}}(r.localStore,i))}async function N8(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){me(__,"User change. New user:",e.toKey());const r=await NA(n.localStore,e);n.currentUser=e,function(i,a){i.Vu.forEach(l=>{l.forEach(c=>{c.reject(new ue(Y.CANCELLED,a))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yd(n,r.Bs)}}function C8(t,e){const n=Le(t),r=n.Eu.get(e);if(r&&r.lu)return nt().add(r.key);{let s=nt();const i=n.Tu.get(e);if(!i)return s;for(const a of i){const l=n.Pu.get(a);s=s.unionWith(l.view.tu)}return s}}function qA(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b8.bind(null,e),e.hu.J_=u8.bind(null,e.eventManager),e.hu.pu=d8.bind(null,e.eventManager),e}function I8(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T8.bind(null,e),e}class Tm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Op(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return jz(this.persistence,new kz,e.initialUser,this.serializer)}Du(e){return new SA(d_.Vi,this.serializer)}bu(e){return new Fz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tm.provider={build:()=>new Tm};class k8 extends Tm{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){mt(this.persistence.referenceDelegate instanceof bm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mz(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new SA(r=>bm.Vi(r,n),this.serializer)}}class tx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=N8.bind(null,this.syncEngine),await o8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new c8}()}createDatastore(e){const n=Op(e.databaseInfo.databaseId),r=function(i){return new Wz(i)}(e.databaseInfo);return function(i,a,l,c){return new Kz(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new Yz(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>lT(this.syncEngine,n,0),function(){return nT.C()?new nT:new Uz}())}createSyncEngine(e,n){return function(s,i,a,l,c,u,h){const f=new p8(s,i,a,l,c,u);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Le(s);me(Mo,"RemoteStore shutting down."),i.Ia.add(5),await Qd(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tx.provider={build:()=>new tx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="FirestoreClient";class P8{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Un.UNAUTHENTICATED,this.clientId=Zw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{me(La,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(me(La,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=x_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ly(t,e){t.asyncQueue.verifyOperationInProgress(),me(La,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await NA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Aa("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{me("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Aa("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function uT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await A8(t);me(La,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>sT(e.remoteStore,s)),t._onlineComponents=e}async function A8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(La,"Using user provided OfflineComponentProvider");try{await ly(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Y.FAILED_PRECONDITION||s.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Aa("Error using user provided cache. Falling back to memory cache: "+n),await ly(t,new Tm)}}else me(La,"Using default OfflineComponentProvider"),await ly(t,new k8(void 0));return t._offlineComponents}async function KA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(La,"Using user provided OnlineComponentProvider"),await uT(t,t._uninitializedComponentsProvider._online)):(me(La,"Using default OnlineComponentProvider"),await uT(t,new tx))),t._onlineComponents}function j8(t){return KA(t).then(e=>e.syncEngine)}async function QA(t){const e=await KA(t),n=e.eventManager;return n.onListen=g8.bind(null,e.syncEngine),n.onUnlisten=x8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=y8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=w8.bind(null,e.syncEngine),n}function R8(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const h=new GA({next:m=>{h.Ou(),a.enqueueAndForget(()=>LA(i,f));const g=m.docs.has(l);!g&&m.fromCache?u.reject(new ue(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new ue(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new VA(s_(l.path),h,{includeMetadataChanges:!0,ka:!0});return MA(i,f)}(await QA(t),t.asyncQueue,e,n,r)),r.promise}function D8(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const h=new GA({next:m=>{h.Ou(),a.enqueueAndForget(()=>LA(i,f)),m.fromCache&&c.source==="server"?u.reject(new ue(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new VA(l,h,{includeMetadataChanges:!0,ka:!0});return MA(i,f)}(await QA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firestore.googleapis.com",hT=!0;class fT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XA,this.ssl=hT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:hT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hz)throw new ue(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new z$;switch(r.type){case"firstParty":return new G$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=dT.get(n);r&&(me("ComponentProvider","Removing Datastore"),dT.delete(n),r.terminate())}(this),Promise.resolve()}}function O8(t,e,n,r={}){var s;t=zr(t,Vp);const i=jc(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(Lk(`https://${c}`),Vk("Firestore",!0)),a.host!==XA&&a.host!==c&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:c,ssl:i,emulatorOptions:r});if(!bi(u,l)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Un.MOCK_USER;else{h=G3(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ue(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Un(m)}t._authCredentials=new W$(new DP(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xo(this.firestore,e,this._query)}}class nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(qd(n,nn._jsonSchema))return new nn(e,r||null,new be(At.fromString(n.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:dn("string",nn._jsonSchemaVersion),referencePath:dn("string")};class Ea extends Xo{constructor(e,n,r){super(e,n,s_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new be(e))}withConverter(e){return new Ea(this.firestore,e,this._path)}}function fr(t,e,...n){if(t=$t(t),MP("collection","path",e),t instanceof Vp){const r=At.fromString(e,...n);return NE(r),new Ea(t,null,r)}{if(!(t instanceof nn||t instanceof Ea))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return NE(r),new Ea(t.firestore,null,r)}}function wt(t,e,...n){if(t=$t(t),arguments.length===1&&(e=Zw.newId()),MP("doc","path",e),t instanceof Vp){const r=At.fromString(e,...n);return SE(r),new nn(t,null,new be(r))}{if(!(t instanceof nn||t instanceof Ea))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return SE(r),new nn(t.firestore,t instanceof Ea?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="AsyncQueue";class pT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new IA(this,"async_queue_retry"),this.oc=()=>{const r=oy();r&&me(mT,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=oy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=oy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new di;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Mc(e))throw e;me(mT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Si("INTERNAL UNHANDLED ERROR: ",gT(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=v_.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&ke(47125,{hc:gT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function gT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ga extends Vp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new pT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pT(e),this._firestoreClient=void 0,await e}}}function M8(t,e){const n=typeof t=="object"?t:Bk(),r=typeof t=="string"?t:ym,s=Uw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=H3("firestore");i&&O8(s,...i)}return s}function Fp(t){if(t._terminated)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||L8(t),t._firestoreClient}function L8(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,h){return new cB(l,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,YA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new P8(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mr(jn.fromBase64String(e))}catch(n){throw new ue(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mr(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qd(e,Mr._jsonSchema))return Mr.fromBase64String(e.bytes)}}Mr._jsonSchemaVersion="firestore/bytes/1.0",Mr._jsonSchema={type:dn("string",Mr._jsonSchemaVersion),bytes:dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Os._jsonSchemaVersion}}static fromJSON(e){if(qd(e,Os._jsonSchema))return new Os(e.latitude,e.longitude)}}Os._jsonSchemaVersion="firestore/geoPoint/1.0",Os._jsonSchema={type:dn("string",Os._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qd(e,Ms._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ms(e.vectorValues);throw new ue(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ms._jsonSchemaVersion="firestore/vectorValue/1.0",Ms._jsonSchema={type:dn("string",Ms._jsonSchemaVersion),vectorValues:dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=/^__.*__$/;class F8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gd(e,this.data,n,this.fieldTransforms)}}class ZA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ec:t})}}class Up{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Up(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Sm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(JA(this.Ec)&&V8.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class U8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Op(e)}Dc(e,n,r,s=!1){return new Up({Ec:e,methodName:n,bc:r,path:In.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zd(t){const e=t._freezeSettings(),n=Op(t._databaseId);return new U8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function E_(t,e,n,r,s,i={}){const a=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);C_("Data must be an object, but it was:",a,r);const l=rj(r,a);let c,u;if(i.merge)c=new Er(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=nx(e,f,n);if(!a.contains(m))throw new ue(Y.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ij(h,m)||h.push(m)}c=new Er(h),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new F8(new lr(l),c,u)}class $p extends Fc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $p}}function ej(t,e,n){return new Up({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class T_ extends Fc{_toFieldTransform(e){return new a_(e.path,new Ed)}isEqual(e){return e instanceof T_}}class S_ extends Fc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=ej(this,e,!0),r=this.vc.map(i=>Zo(i,n)),s=new mc(r);return new a_(e.path,s)}isEqual(e){return e instanceof S_&&bi(this.vc,e.vc)}}class N_ extends Fc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=ej(this,e,!0),r=this.vc.map(i=>Zo(i,n)),s=new pc(r);return new a_(e.path,s)}isEqual(e){return e instanceof N_&&bi(this.vc,e.vc)}}function tj(t,e,n,r){const s=t.Dc(1,e,n);C_("Data must be an object, but it was:",s,r);const i=[],a=lr.empty();Ha(r,(c,u)=>{const h=I_(e,c,n);u=$t(u);const f=s.gc(h);if(u instanceof $p)i.push(h);else{const m=Zo(u,f);m!=null&&(i.push(h),a.set(h,m))}});const l=new Er(i);return new ZA(a,l,s.fieldTransforms)}function nj(t,e,n,r,s,i){const a=t.Dc(1,e,n),l=[nx(e,r,n)],c=[s];if(i.length%2!=0)throw new ue(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(nx(e,i[m])),c.push(i[m+1]);const u=[],h=lr.empty();for(let m=l.length-1;m>=0;--m)if(!ij(u,l[m])){const g=l[m];let E=c[m];E=$t(E);const w=a.gc(g);if(E instanceof $p)u.push(g);else{const x=Zo(E,w);x!=null&&(u.push(g),h.set(g,x))}}const f=new Er(u);return new ZA(h,f,a.fieldTransforms)}function $8(t,e,n,r=!1){return Zo(n,t.Dc(r?4:3,e))}function Zo(t,e){if(sj(t=$t(t)))return C_("Unsupported field value:",e,t),rj(t,e);if(t instanceof Fc)return function(r,s){if(!JA(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=Zo(l,s.yc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Lt.fromDate(r);return{timestampValue:_m(s.serializer,i)}}if(r instanceof Lt){const i=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_m(s.serializer,i)}}if(r instanceof Os)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mr)return{bytesValue:yA(s.serializer,r._byteString)};if(r instanceof nn){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:c_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ms)return function(a,l){return{mapValue:{fields:{[HP]:{stringValue:GP},[vm]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.wc("VectorValues must only contain numeric values.");return i_(l.serializer,u)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${Sp(r)}`)}(t,e)}function rj(t,e){const n={};return FP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(t,(r,s)=>{const i=Zo(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function sj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof Os||t instanceof Mr||t instanceof nn||t instanceof Fc||t instanceof Ms)}function C_(t,e,n){if(!sj(n)||!LP(n)){const r=Sp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function nx(t,e,n){if((e=$t(e))instanceof Xd)return e._internalPath;if(typeof e=="string")return I_(t,e);throw Sm("Field path arguments must be of type string or ",t,!1,void 0,n)}const B8=new RegExp("[~\\*/\\[\\]]");function I_(t,e,n){if(e.search(B8)>=0)throw Sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xd(...e.split("."))._internalPath}catch{throw Sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sm(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new ue(Y.INVALID_ARGUMENT,l+t+c)}function ij(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z8 extends aj{data(){return super.data()}}function Bp(t,e){return typeof e=="string"?I_(t,e):e instanceof Xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class k_{}class oj extends k_{}function Zn(t,e,...n){let r=[];e instanceof k_&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof P_).length,l=i.filter(c=>c instanceof zp).length;if(a>1||a>0&&l>0)throw new ue(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class zp extends oj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zp(e,n,r)}_apply(e){const n=this._parse(e);return lj(e._query,n),new Xo(e.firestore,e.converter,Hv(e._query,n))}_parse(e){const n=Zd(e.firestore);return function(i,a,l,c,u,h,f){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ue(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){vT(f,h);const E=[];for(const w of f)E.push(yT(c,i,w));m={arrayValue:{values:E}}}else m=yT(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||vT(f,h),m=$8(l,a,f,h==="in"||h==="not-in");return un.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gn(t,e,n){const r=e,s=Bp("where",t);return zp._create(s,r,n)}class P_ extends k_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new P_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ms.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)lj(a,c),a=Hv(a,c)}(e._query,n),new Xo(e.firestore,e.converter,Hv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class A_ extends oj{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new A_(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new ue(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ue(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bd(i,a)}(e._query,this._field,this._direction);return new Xo(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new Lc(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Ka(t,e="asc"){const n=e,r=Bp("orderBy",t);return A_._create(r,n)}function yT(t,e,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new ue(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tA(e)&&n.indexOf("/")!==-1)throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(At.fromString(n));if(!be.isDocumentKey(r))throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return DE(t,new be(r))}if(n instanceof nn)return DE(t,n._key);throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sp(n)}.`)}function vT(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lj(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class H8{convertValue(e,n="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ha(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[vm].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>Jt(a.doubleValue));return new Ms(i)}convertGeoPoint(e){return new Os(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ip(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xd(e));default:return null}}convertTimestamp(e){const n=Ra(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=At.fromString(e);mt(EA(r),9688,{name:e});const s=new wd(r.get(1),r.get(3)),i=new be(r.popFirst(5));return s.isEqual(n)||Si(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class bu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class To extends aj{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=To._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}To._jsonSchemaVersion="firestore/documentSnapshot/1.0",To._jsonSchema={type:dn("string",To._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class bf extends To{data(e={}){return super.data(e)}}class $l{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new bu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bf(this._firestore,this._userDataWriter,r.key,r,new bu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new bf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new bu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new bf(s._firestore,s._userDataWriter,l.doc.key,l.doc,new bu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:q8(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$l._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){t=zr(t,nn);const e=zr(t.firestore,Ga);return R8(Fp(e),t._key).then(n=>G8(e,t,n))}$l._jsonSchemaVersion="firestore/querySnapshot/1.0",$l._jsonSchema={type:dn("string",$l._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class cj extends H8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function Jn(t){t=zr(t,Xo);const e=zr(t.firestore,Ga),n=Fp(e),r=new cj(e);return W8(t._query),D8(n,t._query).then(s=>new $l(e,r,t,s))}function ao(t,e,n){t=zr(t,nn);const r=zr(t.firestore,Ga),s=j_(t.converter,e,n);return Jd(r,[E_(Zd(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Xn.none())])}function Di(t,e,n,...r){t=zr(t,nn);const s=zr(t.firestore,Ga),i=Zd(s);let a;return a=typeof(e=$t(e))=="string"||e instanceof Xd?nj(i,"updateDoc",t._key,e,n,r):tj(i,"updateDoc",t._key,e),Jd(s,[a.toMutation(t._key,Xn.exists(!0))])}function R_(t){return Jd(zr(t.firestore,Ga),[new Rp(t._key,Xn.none())])}function Qa(t,e){const n=zr(t.firestore,Ga),r=wt(t),s=j_(t.converter,e);return Jd(n,[E_(Zd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function Jd(t,e){return function(r,s){const i=new di;return r.asyncQueue.enqueueAndForget(async()=>_8(await j8(r),s,i)),i.promise}(Fp(t),e)}function G8(t,e,n){const r=n.docs.get(e._key),s=new cj(t);return new To(t,s,e._key,r,new bu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Zd(e)}set(e,n,r){this._verifyNotCommitted();const s=cy(e,this._firestore),i=j_(s.converter,n,r),a=E_(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(a.toMutation(s._key,Xn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=cy(e,this._firestore);let a;return a=typeof(n=$t(n))=="string"||n instanceof Xd?nj(this._dataReader,"WriteBatch.update",i._key,n,r,s):tj(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(a.toMutation(i._key,Xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=cy(e,this._firestore);return this._mutations=this._mutations.concat(new Rp(n._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cy(t,e){if((t=$t(t)).firestore!==e)throw new ue(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ye(){return new T_("serverTimestamp")}function Q8(...t){return new S_("arrayUnion",t)}function Y8(...t){return new N_("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t){return Fp(t=zr(t,Ga)),new K8(t,e=>Jd(t,e))}(function(e,n=!0){(function(s){Dc=s})(Rc),cc(new jo("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new Ga(new H$(r.getProvider("auth-internal")),new K$(a,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wd(u.options.projectId,h)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),_a(wE,_E,e),_a(wE,_E,"esm2017")})();var Z8="firebase",J8="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_a(Z8,J8,"app");const e7={apiKey:"AIzaSyDvxFHXf3JsSv3FSd_aEGoFAdb0VmduwdM",authDomain:"qtonz-sports.firebaseapp.com",projectId:"qtonz-sports",storageBucket:"qtonz-sports.firebasestorage.app",messagingSenderId:"61854773542",appId:"1:61854773542:web:5114c630865f5a929091e7"},uj=$k(e7),ws=$$(uj),qe=M8(uj);I9(ws,yP).catch(t=>{console.error("Failed to set Firebase auth persistence:",t)});const dj=p.createContext(void 0),t7=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(!0),[i,a]=p.useState(!1),[l,c]=p.useState(!1),u=Ac();p.useEffect(()=>{const x=A9(ws,async b=>{n(b),b?await h(b.uid):(a(!1),c(!1)),s(!1)});return()=>x()},[]);const h=async x=>{try{const b=await Lo(wt(qe,"user_roles",x)),y=b.exists()?b.data():null,v=(y==null?void 0:y.roles)??[];a(v.includes("admin")),c(!v.includes("admin"))}catch(b){console.error("Error checking admin role:",b),a(!1),c(!1)}},f=async(x,b,y)=>{try{const T=(await E9(ws,x,b)).user;return await ao(wt(qe,"profiles",T.uid),{name:(y==null?void 0:y.name)||"",email:x,phone:(y==null?void 0:y.phone)||"",department:(y==null?void 0:y.department)||"",gender:(y==null?void 0:y.gender)||"",created_at:Ye(),updated_at:Ye()},{merge:!0}),await ao(wt(qe,"user_roles",T.uid),{roles:["player"],updated_at:Ye(),created_at:Ye()},{merge:!0}),await S9(T),await ry(ws),{error:null}}catch(v){return{error:v}}},m=async(x,b)=>{try{if(!(await T9(ws,x,b)).user.emailVerified)throw await ry(ws),new Error("Please verify your email address before logging in.");return u("/"),{error:null}}catch(y){return{error:y}}},g=async()=>{try{const x=new ni,y=(await Y9(ws,x)).user;return(await Lo(wt(qe,"profiles",y.uid))).exists()?{error:null,user:y,isNewUser:!1}:(await ao(wt(qe,"profiles",y.uid),{name:y.displayName||"",email:y.email||"",created_at:Ye(),updated_at:Ye()},{merge:!0}),await ao(wt(qe,"user_roles",y.uid),{roles:["player"],updated_at:Ye(),created_at:Ye()},{merge:!0}),{error:null,user:y,isNewUser:!0})}catch(x){return{error:x}}},E=async x=>{try{const b=ws.currentUser;if(!b)throw new Error("No authenticated user found");return await ao(wt(qe,"profiles",b.uid),{name:b.displayName||"",email:b.email||"",phone:(x==null?void 0:x.phone)||"",department:(x==null?void 0:x.department)||"",gender:(x==null?void 0:x.gender)||"",password:(x==null?void 0:x.password)||"",created_at:Ye(),updated_at:Ye()},{merge:!0}),await ao(wt(qe,"user_roles",b.uid),{roles:["player"],updated_at:Ye(),created_at:Ye()},{merge:!0}),{error:null}}catch(b){return{error:b}}},w=async()=>{await ry(ws),a(!1),u("/")};return o.jsx(dj.Provider,{value:{user:e,loading:r,isAdmin:i,isPlayer:l,signUp:f,signIn:m,signInWithGoogle:g,signUpWithGoogle:E,signOut:w},children:t})},gr=()=>{const t=p.useContext(dj);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},n7=qo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_e=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?Sc:"button";return o.jsx(a,{className:de(n7({variant:e,size:n,className:t})),ref:i,...s})});_e.displayName="Button";const r7=()=>{const{user:t,signOut:e,isAdmin:n,isPlayer:r}=gr(),[s,i]=p.useState(!1);return o.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 w-full border-b border-border/40 glass-card shadow-lg",children:[o.jsxs("div",{className:"container flex h-16 md:h-18 items-center justify-between px-4 md:px-6",children:[o.jsxs(yt,{to:"/",className:"group flex items-center space-x-2 transition-transform hover:scale-105",children:[o.jsxs("div",{className:"relative",children:[o.jsx(rn,{className:"h-6 w-6 md:h-7 md:w-7 text-primary transition-all group-hover:rotate-12 group-hover:text-accent"}),o.jsx("div",{className:"absolute inset-0 blur-lg bg-primary/30 group-hover:bg-accent/40 transition-all"})]}),o.jsx("span",{className:"text-xl md:text-2xl font-bold gradient-text font-['Outfit']",children:"SportsBracket"})]}),o.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[o.jsxs(yt,{to:"/leaderboard",className:"text-sm font-semibold text-foreground hover:text-primary transition-all hover:scale-105 relative group",children:["Leaderboard",o.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-accent transition-all group-hover:w-full"})]}),r&&o.jsxs(yt,{to:"/dashboard",className:"text-sm font-semibold text-foreground hover:text-primary transition-all hover:scale-105 relative group",children:["Player Dashboard",o.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-accent transition-all group-hover:w-full"})]}),n&&o.jsxs(yt,{to:"/admin",className:"text-sm font-semibold text-foreground hover:text-primary transition-all hover:scale-105 relative group",children:["Admin",o.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary to-accent transition-all group-hover:w-full"})]})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-3",children:t?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-sm font-medium text-muted-foreground bg-muted px-3 py-1.5 rounded-full",children:t.displayName}),o.jsxs(_e,{variant:"ghost",onClick:e,className:"hover-lift",children:[o.jsx(Xf,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(yt,{to:"/login",children:o.jsx(_e,{variant:"ghost",className:"hover-lift",children:"Login"})}),o.jsx(yt,{to:"/register",children:o.jsx(_e,{className:"bg-gradient-to-r from-primary to-accent hover:shadow-lg hover:scale-105 transition-all",children:"Register"})})]})}),o.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-muted/50 transition-all active:scale-95",onClick:()=>i(!s),"aria-label":"Toggle menu",children:s?o.jsx(lp,{className:"h-6 w-6 text-primary"}):o.jsx(rL,{className:"h-6 w-6 text-primary"})})]}),s&&o.jsx("div",{className:"md:hidden border-t border-border/40 glass animate-slide-down",children:o.jsxs("div",{className:"container py-4 space-y-3 px-4",children:[o.jsx(yt,{to:"/leaderboard",className:"block py-3 px-4 text-sm font-semibold text-foreground hover:text-primary hover:bg-primary/10 rounded-lg transition-all",onClick:()=>i(!1),children:"Leaderboard"}),r&&o.jsx(yt,{to:"/dashboard",className:"block py-3 px-4 text-sm font-semibold text-foreground hover:text-primary hover:bg-primary/10 rounded-lg transition-all",onClick:()=>i(!1),children:"Player Dashboard"}),n&&o.jsx(yt,{to:"/admin",className:"block py-3 px-4 text-sm font-semibold text-foreground hover:text-primary hover:bg-primary/10 rounded-lg transition-all",onClick:()=>i(!1),children:"Admin"}),o.jsx("div",{className:"flex flex-col space-y-3 pt-4 border-t border-border/40",children:t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-4 py-2 bg-muted rounded-lg",children:o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:t.email})}),o.jsxs(_e,{variant:"ghost",onClick:()=>{e(),i(!1)},className:"w-full justify-start hover:bg-destructive/10 hover:text-destructive",children:[o.jsx(Xf,{className:"h-4 w-4 mr-2"}),"Logout"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(yt,{to:"/login",onClick:()=>i(!1),children:o.jsx(_e,{variant:"outline",className:"w-full hover-lift",children:"Login"})}),o.jsx(yt,{to:"/register",onClick:()=>i(!1),children:o.jsx(_e,{className:"w-full bg-gradient-to-r from-primary to-accent hover:shadow-lg transition-all",children:"Register"})})]})})]})})]})},s7=()=>o.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-primary via-secondary to-accent py-16 md:py-24 lg:py-32",children:[o.jsxs("div",{className:"container relative z-10 px-4 md:px-6",children:[o.jsxs("div",{className:"mx-auto max-w-5xl text-center",children:[o.jsxs("div",{className:"mb-6 md:mb-8 inline-flex items-center rounded-full bg-white/10 px-4 md:px-6 py-2 md:py-2.5 backdrop-blur-sm border border-white/20 animate-slide-down hover:scale-105 transition-transform",children:[o.jsx(rn,{className:"mr-2 h-4 w-4 md:h-5 md:w-5 text-accent animate-pulse"}),o.jsx("span",{className:"text-xs md:text-sm font-semibold text-white",children:"Sports Week 2025"}),o.jsx(_I,{className:"ml-2 h-4 w-4 md:h-5 md:w-5 text-warning"})]}),o.jsxs("h1",{className:"mb-6 md:mb-8 text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-black tracking-tight text-white leading-tight animate-slide-up",children:["Tournament Management",o.jsx("br",{}),o.jsx("span",{className:"bg-gradient-to-r from-accent via-warning to-accent bg-clip-text text-transparent animate-pulse",children:"Made Simple"})]}),o.jsx("p",{className:"mb-8 md:mb-10 text-base md:text-lg lg:text-xl text-white/95 max-w-3xl mx-auto leading-relaxed px-4 md:px-0 animate-fade-in",children:"Organize, track, and manage your sports tournaments with ease. From registration to final results, we've got you covered with cutting-edge technology."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center animate-scale-in px-4 md:px-0",children:[o.jsx(yt,{to:"/register",className:"w-full sm:w-auto",children:o.jsxs(_e,{size:"lg",className:"w-full sm:w-auto bg-gradient-to-r from-accent to-warning hover:from-warning hover:to-accent text-white font-bold shadow-2xl hover:shadow-accent/50 hover:scale-110 transition-all group",children:["Register Now",o.jsx(H4,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})}),o.jsx(yt,{to:"/leaderboard",className:"w-full sm:w-auto",children:o.jsx(_e,{size:"lg",variant:"outline",className:"w-full sm:w-auto glass-card border-white/30 text-white hover:bg-white/20 hover:scale-105 transition-all font-semibold",children:"View Leaderboard"})})]})]}),o.jsxs("div",{className:"mt-12 md:mt-20 grid gap-4 md:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 px-4 md:px-0",children:[o.jsxs("div",{className:"group rounded-2xl p-6 md:p-8 bg-white/15 backdrop-blur-md border border-white/30 hover:border-white/50 hover:bg-white/20 transition-all hover:scale-105 hover:-translate-y-2 animate-slide-up shadow-xl",children:[o.jsxs("div",{className:"relative inline-block mb-4 md:mb-6",children:[o.jsx(rn,{className:"h-10 w-10 md:h-12 md:w-12 text-white drop-shadow-lg group-hover:rotate-12 transition-transform"}),o.jsx("div",{className:"absolute inset-0 blur-xl bg-accent/40 group-hover:bg-accent/60 transition-all"})]}),o.jsx("h3",{className:"mb-2 md:mb-3 text-lg md:text-xl font-bold text-white drop-shadow-md",children:"7 Sports"}),o.jsx("p",{className:"text-sm md:text-base text-white drop-shadow-sm leading-relaxed",children:"Cricket, Volleyball, Chess, Table Tennis, Carrom, Pool, Pickleball"})]}),o.jsxs("div",{className:"group rounded-2xl p-6 md:p-8 bg-white/15 backdrop-blur-md border border-white/30 hover:border-white/50 hover:bg-white/20 transition-all hover:scale-105 hover:-translate-y-2 animate-slide-up shadow-xl",style:{animationDelay:"0.1s"},children:[o.jsxs("div",{className:"relative inline-block mb-4 md:mb-6",children:[o.jsx(xi,{className:"h-10 w-10 md:h-12 md:w-12 text-white drop-shadow-lg group-hover:scale-110 transition-transform"}),o.jsx("div",{className:"absolute inset-0 blur-xl bg-warning/40 group-hover:bg-warning/60 transition-all"})]}),o.jsx("h3",{className:"mb-2 md:mb-3 text-lg md:text-xl font-bold text-white drop-shadow-md",children:"Team Management"}),o.jsx("p",{className:"text-sm md:text-base text-white drop-shadow-sm leading-relaxed",children:"Create teams, pairs, and track individual players seamlessly"})]}),o.jsxs("div",{className:"group rounded-2xl p-6 md:p-8 bg-white/15 backdrop-blur-md border border-white/30 hover:border-white/50 hover:bg-white/20 transition-all hover:scale-105 hover:-translate-y-2 sm:col-span-2 lg:col-span-1 animate-slide-up shadow-xl",style:{animationDelay:"0.2s"},children:[o.jsxs("div",{className:"relative inline-block mb-4 md:mb-6",children:[o.jsx(vi,{className:"h-10 w-10 md:h-12 md:w-12 text-white drop-shadow-lg group-hover:rotate-6 transition-transform"}),o.jsx("div",{className:"absolute inset-0 blur-xl bg-info/40 group-hover:bg-info/60 transition-all"})]}),o.jsx("h3",{className:"mb-2 md:mb-3 text-lg md:text-xl font-bold text-white drop-shadow-md",children:"Live Brackets"}),o.jsx("p",{className:"text-sm md:text-base text-white drop-shadow-sm leading-relaxed",children:"Real-time tournament brackets with instant result updates"})]})]})]}),o.jsx("div",{className:"absolute top-0 left-0 -translate-x-1/2 -translate-y-1/2 w-64 h-64 md:w-96 md:h-96 bg-accent/30 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute bottom-0 right-0 translate-x-1/2 translate-y-1/2 w-64 h-64 md:w-96 md:h-96 bg-warning/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 md:w-[600px] md:h-[600px] bg-white/5 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute top-10 left-10 w-2 h-2 bg-white/40 rounded-full animate-ping"}),o.jsx("div",{className:"absolute top-20 right-20 w-3 h-3 bg-accent/60 rounded-full animate-ping",style:{animationDelay:"0.5s"}}),o.jsx("div",{className:"absolute bottom-20 left-20 w-2 h-2 bg-warning/60 rounded-full animate-ping",style:{animationDelay:"1s"}})]}),Ee=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ee.displayName="Card";const Ke=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",t),...e}));Ke.displayName="CardHeader";const Qe=p.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight",t),...e}));Qe.displayName="CardTitle";const Wr=p.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:de("text-sm text-muted-foreground",t),...e}));Wr.displayName="CardDescription";const Te=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:de("p-6 pt-0",t),...e}));Te.displayName="CardContent";const i7=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",t),...e}));i7.displayName="CardFooter";const a7=qo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Zt({className:t,variant:e,...n}){return o.jsx("div",{className:de(a7({variant:e}),t),...n})}const o7=({name:t,type:e,playersPerTeam:n,icon:r})=>{const s=()=>{switch(e){case"SINGLE":return"1v1";case"PAIR":return"2v2";case"TEAM":return`${n}v${n}`}},i=()=>{switch(e){case"SINGLE":return"default";case"PAIR":return"secondary";case"TEAM":return"outline"}};return o.jsx(Ee,{className:"overflow-hidden transition-all hover:shadow-lg hover:-translate-y-1 cursor-pointer",children:o.jsxs(Te,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"rounded-lg bg-primary/10 p-3 text-primary",children:r}),o.jsx(Zt,{variant:i(),className:"text-xs",children:s()})]}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:t}),o.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx(xi,{className:"mr-1 h-4 w-4"}),o.jsxs("span",{children:[e==="SINGLE"?"Individual":e==="PAIR"?"Doubles":"Team"," Competition"]})]})]})})},l7=()=>{const t=[{name:"Cricket",type:"TEAM",playersPerTeam:11,icon:o.jsx(ww,{className:"h-6 w-6"})},{name:"Volleyball",type:"TEAM",playersPerTeam:6,icon:o.jsx(cL,{className:"h-6 w-6"})},{name:"Chess",type:"SINGLE",playersPerTeam:1,icon:o.jsx(X4,{className:"h-6 w-6"})},{name:"Table Tennis",type:"PAIR",playersPerTeam:2,icon:o.jsx(p1,{className:"h-6 w-6"})},{name:"Carrom",type:"PAIR",playersPerTeam:2,icon:o.jsx(iL,{className:"h-6 w-6"})},{name:"8 Ball Pool",type:"PAIR",playersPerTeam:2,icon:o.jsx(p1,{className:"h-6 w-6"})},{name:"Pickleball",type:"PAIR",playersPerTeam:2,icon:o.jsx(_I,{className:"h-6 w-6"})}];return o.jsx("section",{className:"py-12 md:py-20 lg:py-24 bg-gradient-to-b from-muted/30 to-background",children:o.jsxs("div",{className:"container px-4 md:px-6",children:[o.jsxs("div",{className:"text-center mb-10 md:mb-16 animate-fade-in",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black tracking-tight mb-4 md:mb-6",children:o.jsx("span",{className:"gradient-text",children:"Tournament Games"})}),o.jsx("p",{className:"text-base md:text-lg lg:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed px-4 md:px-0",children:"Compete in 7 exciting sports across different formats - singles, doubles, and team events"})]}),o.jsx("div",{className:"grid gap-4 md:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:t.map((e,n)=>o.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${n*.1}s`},children:o.jsx(o7,{...e})},e.name))})]})})},c7=()=>o.jsx("section",{className:"py-16 md:py-24",children:o.jsxs("div",{className:"container",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight text-foreground md:text-4xl mb-4",children:"Interactive Tournament Brackets"}),o.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Visualize and track tournament progress with our clean bracket system"})]}),o.jsxs(Ee,{className:"overflow-hidden",children:[o.jsx(Ke,{className:"bg-gradient-to-r from-primary to-primary/80",children:o.jsx(Qe,{className:"text-white",children:"Sample Bracket - 8 Teams"})}),o.jsx(Te,{className:"p-8",children:o.jsxs("div",{className:"flex justify-center items-center gap-8",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Quarter Finals"}),[1,2,3,4].map(t=>o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-card hover:border-primary transition-colors cursor-pointer",children:o.jsxs("div",{className:"text-sm font-medium",children:["Team ",t*2-1]})}),o.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-card hover:border-primary transition-colors cursor-pointer",children:o.jsxs("div",{className:"text-sm font-medium",children:["Team ",t*2]})})]},t))]}),o.jsxs("div",{className:"space-y-16",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Semi Finals"}),[1,2].map(t=>o.jsx("div",{className:"border border-border rounded-lg px-4 py-3 bg-muted hover:border-primary transition-colors cursor-pointer min-w-[120px]",children:o.jsxs("div",{className:"text-sm font-medium text-muted-foreground",children:["Winner ",t]})},t))]}),o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Final"}),o.jsx("div",{className:"border-2 border-accent rounded-lg px-4 py-3 bg-accent/5 hover:border-accent transition-colors cursor-pointer min-w-[120px]",children:o.jsx("div",{className:"text-sm font-semibold text-accent",children:"Champion"})})]})]})})]}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"Supports 8, 16, and 32 team brackets with automatic advancement"})})]})}),u7=()=>o.jsx("footer",{className:"border-t border-border bg-muted/30",children:o.jsxs("div",{className:"container py-12",children:[o.jsxs("div",{className:"grid gap-8 md:grid-cols-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(rn,{className:"h-6 w-6 text-primary"}),o.jsx("span",{className:"text-xl font-bold text-foreground",children:"SportsBracket"})]}),o.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Complete tournament management system for organizing and tracking sports events. Built for Sports Week 2025."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{children:o.jsx(yt,{to:"/games",className:"text-muted-foreground hover:text-primary transition-colors",children:"Games"})}),o.jsx("li",{children:o.jsx(yt,{to:"/schedule",className:"text-muted-foreground hover:text-primary transition-colors",children:"Schedule"})}),o.jsx("li",{children:o.jsx(yt,{to:"/results",className:"text-muted-foreground hover:text-primary transition-colors",children:"Results"})}),o.jsx("li",{children:o.jsx(yt,{to:"/leaderboard",className:"text-muted-foreground hover:text-primary transition-colors",children:"Leaderboard"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Account"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{children:o.jsx(yt,{to:"/login",className:"text-muted-foreground hover:text-primary transition-colors",children:"Login"})}),o.jsx("li",{children:o.jsx(yt,{to:"/register",className:"text-muted-foreground hover:text-primary transition-colors",children:"Register"})})]})]})]}),o.jsx("div",{className:"mt-8 pt-8 border-t border-border text-center text-sm text-muted-foreground",children:" 2025 SportsBracket. Sports Week Tournament Management System."})]})}),d7=()=>o.jsxs("div",{className:"min-h-screen",children:[o.jsx(r7,{}),o.jsx(s7,{}),o.jsx(l7,{}),o.jsx(c7,{}),o.jsx(u7,{})]});var uy="focusScope.autoFocusOnMount",dy="focusScope.autoFocusOnUnmount",xT={bubbles:!1,cancelable:!0},h7="FocusScope",D_=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=p.useState(null),u=$r(s),h=$r(i),f=p.useRef(null),m=Et(e,w=>c(w)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let w=function(v){if(g.paused||!l)return;const T=v.target;l.contains(T)?f.current=T:Hi(f.current,{select:!0})},x=function(v){if(g.paused||!l)return;const T=v.relatedTarget;T!==null&&(l.contains(T)||Hi(f.current,{select:!0}))},b=function(v){if(document.activeElement===document.body)for(const I of v)I.removedNodes.length>0&&Hi(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",x);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",x),y.disconnect()}}},[r,l,g.paused]),p.useEffect(()=>{if(l){_T.add(g);const w=document.activeElement;if(!l.contains(w)){const b=new CustomEvent(uy,xT);l.addEventListener(uy,u),l.dispatchEvent(b),b.defaultPrevented||(f7(v7(hj(l)),{select:!0}),document.activeElement===w&&Hi(l))}return()=>{l.removeEventListener(uy,u),setTimeout(()=>{const b=new CustomEvent(dy,xT);l.addEventListener(dy,h),l.dispatchEvent(b),b.defaultPrevented||Hi(w??document.body,{select:!0}),l.removeEventListener(dy,h),_T.remove(g)},0)}}},[l,u,h,g]);const E=p.useCallback(w=>{if(!n&&!r||g.paused)return;const x=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,b=document.activeElement;if(x&&b){const y=w.currentTarget,[v,T]=m7(y);v&&T?!w.shiftKey&&b===T?(w.preventDefault(),n&&Hi(v,{select:!0})):w.shiftKey&&b===v&&(w.preventDefault(),n&&Hi(T,{select:!0})):b===y&&w.preventDefault()}},[n,r,g.paused]);return o.jsx(Ve.div,{tabIndex:-1,...a,ref:m,onKeyDown:E})});D_.displayName=h7;function f7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Hi(r,{select:e}),document.activeElement!==n)return}function m7(t){const e=hj(t),n=wT(e,t),r=wT(e.reverse(),t);return[n,r]}function hj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function wT(t,e){for(const n of t)if(!p7(n,{upTo:e}))return n}function p7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function g7(t){return t instanceof HTMLInputElement&&"select"in t}function Hi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&g7(t)&&e&&t.select()}}var _T=y7();function y7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=bT(t,e),t.unshift(e)},remove(e){var n;t=bT(t,e),(n=t[0])==null||n.resume()}}}function bT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function v7(t){return t.filter(e=>e.tagName!=="A")}var hy=0;function fj(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ET()),document.body.insertAdjacentElement("beforeend",t[1]??ET()),hy++,()=>{hy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),hy--}},[])}function ET(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ef="right-scroll-bar-position",Tf="width-before-scroll-bar",x7="with-scroll-bars-hidden",w7="--removed-body-scroll-bar-size";function fy(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _7(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var b7=typeof window<"u"?p.useLayoutEffect:p.useEffect,TT=new WeakMap;function E7(t,e){var n=_7(null,function(r){return t.forEach(function(s){return fy(s,r)})});return b7(function(){var r=TT.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||fy(l,null)}),i.forEach(function(l){s.has(l)||fy(l,a)})}TT.set(n,t)},[t]),n}function T7(t){return t}function S7(t,e){e===void 0&&(e=T7);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var h=a;a=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),n}}}};return s}function N7(t){t===void 0&&(t={});var e=S7(null);return e.options=Ns({async:!0,ssr:!1},t),e}var mj=function(t){var e=t.sideCar,n=$d(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Ns({},n))};mj.isSideCarExport=!0;function C7(t,e){return t.useMedium(e),mj}var pj=N7(),my=function(){},Wp=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:my,onWheelCapture:my,onTouchMoveCapture:my}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,g=t.noRelative,E=t.noIsolation,w=t.inert,x=t.allowPinchZoom,b=t.as,y=b===void 0?"div":b,v=t.gapMode,T=$d(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=m,R=E7([n,e]),N=Ns(Ns({},T),s);return p.createElement(p.Fragment,null,h&&p.createElement(I,{sideCar:pj,removeScrollBar:u,shards:f,noRelative:g,noIsolation:E,inert:w,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:v}),a?p.cloneElement(p.Children.only(l),Ns(Ns({},N),{ref:R})):p.createElement(y,Ns({},N,{className:c,ref:R}),l))});Wp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wp.classNames={fullWidth:Tf,zeroRight:Ef};var I7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function k7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=I7();return e&&t.setAttribute("nonce",e),t}function P7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function A7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var j7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=k7())&&(P7(e,n),A7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},R7=function(){var t=j7();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},gj=function(){var t=R7(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},D7={left:0,top:0,right:0,gap:0},py=function(t){return parseInt(t||"",10)||0},O7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[py(n),py(r),py(s)]},M7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return D7;var e=O7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},L7=gj(),Bl="data-scroll-locked",V7=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(x7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Bl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ef,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Tf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ef," .").concat(Ef,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Tf," .").concat(Tf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Bl,`] {
    `).concat(w7,": ").concat(l,`px;
  }
`)},ST=function(){var t=parseInt(document.body.getAttribute(Bl)||"0",10);return isFinite(t)?t:0},F7=function(){p.useEffect(function(){return document.body.setAttribute(Bl,(ST()+1).toString()),function(){var t=ST()-1;t<=0?document.body.removeAttribute(Bl):document.body.setAttribute(Bl,t.toString())}},[])},U7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;F7();var i=p.useMemo(function(){return M7(s)},[s]);return p.createElement(L7,{styles:V7(i,!e,s,n?"":"!important")})},rx=!1;if(typeof window<"u")try{var Gh=Object.defineProperty({},"passive",{get:function(){return rx=!0,!0}});window.addEventListener("test",Gh,Gh),window.removeEventListener("test",Gh,Gh)}catch{rx=!1}var il=rx?{passive:!1}:!1,$7=function(t){return t.tagName==="TEXTAREA"},yj=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!$7(t)&&n[e]==="visible")},B7=function(t){return yj(t,"overflowY")},z7=function(t){return yj(t,"overflowX")},NT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=vj(t,r);if(s){var i=xj(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},W7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},H7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},vj=function(t,e){return t==="v"?B7(e):z7(e)},xj=function(t,e){return t==="v"?W7(e):H7(e)},q7=function(t,e){return t==="h"&&e==="rtl"?-1:1},G7=function(t,e,n,r,s){var i=q7(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),u=!1,h=a>0,f=0,m=0;do{if(!l)break;var g=xj(t,l),E=g[0],w=g[1],x=g[2],b=w-x-i*E;(E||b)&&vj(t,l)&&(f+=b,m+=E);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(u=!0),u},Kh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},CT=function(t){return[t.deltaX,t.deltaY]},IT=function(t){return t&&"current"in t?t.current:t},K7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Q7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Y7=0,al=[];function X7(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(Y7++)[0],i=p.useState(gj)[0],a=p.useRef(t);p.useEffect(function(){a.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=wU([t.lockRef.current],(t.shards||[]).map(IT),!0).filter(Boolean);return w.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(w,x){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!a.current.allowPinchZoom;var b=Kh(w),y=n.current,v="deltaX"in w?w.deltaX:y[0]-b[0],T="deltaY"in w?w.deltaY:y[1]-b[1],I,R=w.target,N=Math.abs(v)>Math.abs(T)?"h":"v";if("touches"in w&&N==="h"&&R.type==="range")return!1;var C=NT(N,R);if(!C)return!0;if(C?I=N:(I=N==="v"?"h":"v",C=NT(N,R)),!C)return!1;if(!r.current&&"changedTouches"in w&&(v||T)&&(r.current=I),!I)return!0;var P=r.current||I;return G7(P,x,w,P==="h"?v:T,!0)},[]),c=p.useCallback(function(w){var x=w;if(!(!al.length||al[al.length-1]!==i)){var b="deltaY"in x?CT(x):Kh(x),y=e.current.filter(function(I){return I.name===x.type&&(I.target===x.target||x.target===I.shadowParent)&&K7(I.delta,b)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var v=(a.current.shards||[]).map(IT).filter(Boolean).filter(function(I){return I.contains(x.target)}),T=v.length>0?l(x,v[0]):!a.current.noIsolation;T&&x.cancelable&&x.preventDefault()}}},[]),u=p.useCallback(function(w,x,b,y){var v={name:w,delta:x,target:b,should:y,shadowParent:Z7(b)};e.current.push(v),setTimeout(function(){e.current=e.current.filter(function(T){return T!==v})},1)},[]),h=p.useCallback(function(w){n.current=Kh(w),r.current=void 0},[]),f=p.useCallback(function(w){u(w.type,CT(w),w.target,l(w,t.lockRef.current))},[]),m=p.useCallback(function(w){u(w.type,Kh(w),w.target,l(w,t.lockRef.current))},[]);p.useEffect(function(){return al.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,il),document.addEventListener("touchmove",c,il),document.addEventListener("touchstart",h,il),function(){al=al.filter(function(w){return w!==i}),document.removeEventListener("wheel",c,il),document.removeEventListener("touchmove",c,il),document.removeEventListener("touchstart",h,il)}},[]);var g=t.removeScrollBar,E=t.inert;return p.createElement(p.Fragment,null,E?p.createElement(i,{styles:Q7(s)}):null,g?p.createElement(U7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Z7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const J7=C7(pj,X7);var O_=p.forwardRef(function(t,e){return p.createElement(Wp,Ns({},t,{ref:e,sideCar:J7}))});O_.classNames=Wp.classNames;var eW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ol=new WeakMap,Qh=new WeakMap,Yh={},gy=0,wj=function(t){return t&&(t.host||wj(t.parentNode))},tW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=wj(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},nW=function(t,e,n,r){var s=tW(e,Array.isArray(t)?t:[t]);Yh[n]||(Yh[n]=new WeakMap);var i=Yh[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var g=m.getAttribute(r),E=g!==null&&g!=="false",w=(ol.get(m)||0)+1,x=(i.get(m)||0)+1;ol.set(m,w),i.set(m,x),a.push(m),w===1&&E&&Qh.set(m,!0),x===1&&m.setAttribute(n,"true"),E||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return h(e),l.clear(),gy++,function(){a.forEach(function(f){var m=ol.get(f)-1,g=i.get(f)-1;ol.set(f,m),i.set(f,g),m||(Qh.has(f)||f.removeAttribute(r),Qh.delete(f)),g||f.removeAttribute(n)}),gy--,gy||(ol=new WeakMap,ol=new WeakMap,Qh=new WeakMap,Yh={})}},_j=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=eW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),nW(r,s,n,"aria-hidden")):function(){return null}},Hp="Dialog",[bj,pQ]=ki(Hp),[rW,ps]=bj(Hp),Ej=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=p.useRef(null),c=p.useRef(null),[u,h]=Ia({prop:r,defaultProp:s??!1,onChange:i,caller:Hp});return o.jsx(rW,{scope:e,triggerRef:l,contentRef:c,contentId:ci(),titleId:ci(),descriptionId:ci(),open:u,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:a,children:n})};Ej.displayName=Hp;var Tj="DialogTrigger",Sj=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ps(Tj,n),i=Et(e,s.triggerRef);return o.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":V_(s.open),...r,ref:i,onClick:Se(t.onClick,s.onOpenToggle)})});Sj.displayName=Tj;var M_="DialogPortal",[sW,Nj]=bj(M_,{forceMount:void 0}),Cj=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ps(M_,e);return o.jsx(sW,{scope:e,forceMount:n,children:p.Children.map(r,a=>o.jsx(za,{present:n||i.open,children:o.jsx(sp,{asChild:!0,container:s,children:a})}))})};Cj.displayName=M_;var Nm="DialogOverlay",Ij=p.forwardRef((t,e)=>{const n=Nj(Nm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ps(Nm,t.__scopeDialog);return i.modal?o.jsx(za,{present:r||i.open,children:o.jsx(aW,{...s,ref:e})}):null});Ij.displayName=Nm;var iW=ic("DialogOverlay.RemoveScroll"),aW=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ps(Nm,n);return o.jsx(O_,{as:iW,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Ve.div,{"data-state":V_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Vo="DialogContent",kj=p.forwardRef((t,e)=>{const n=Nj(Vo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ps(Vo,t.__scopeDialog);return o.jsx(za,{present:r||i.open,children:i.modal?o.jsx(oW,{...s,ref:e}):o.jsx(lW,{...s,ref:e})})});kj.displayName=Vo;var oW=p.forwardRef((t,e)=>{const n=ps(Vo,t.__scopeDialog),r=p.useRef(null),s=Et(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return _j(i)},[]),o.jsx(Pj,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Se(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Se(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:Se(t.onFocusOutside,i=>i.preventDefault())})}),lW=p.forwardRef((t,e)=>{const n=ps(Vo,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return o.jsx(Pj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Pj=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=ps(Vo,n),c=p.useRef(null),u=Et(e,c);return fj(),o.jsxs(o.Fragment,{children:[o.jsx(D_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Md,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":V_(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(cW,{titleId:l.titleId}),o.jsx(dW,{contentRef:c,descriptionId:l.descriptionId})]})]})}),L_="DialogTitle",Aj=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ps(L_,n);return o.jsx(Ve.h2,{id:s.titleId,...r,ref:e})});Aj.displayName=L_;var jj="DialogDescription",Rj=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ps(jj,n);return o.jsx(Ve.p,{id:s.descriptionId,...r,ref:e})});Rj.displayName=jj;var Dj="DialogClose",Oj=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ps(Dj,n);return o.jsx(Ve.button,{type:"button",...r,ref:e,onClick:Se(t.onClick,()=>s.onOpenChange(!1))})});Oj.displayName=Dj;function V_(t){return t?"open":"closed"}var Mj="DialogTitleWarning",[gQ,Lj]=ZM(Mj,{contentName:Vo,titleName:L_,docsSlug:"dialog"}),cW=({titleId:t})=>{const e=Lj(Mj),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},uW="DialogDescriptionWarning",dW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Lj(uW).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Vj=Ej,hW=Sj,Fj=Cj,qp=Ij,Gp=kj,Kp=Aj,Qp=Rj,Uj=Oj;const hi=Vj,F_=hW,fW=Fj,$j=p.forwardRef(({className:t,...e},n)=>o.jsx(qp,{ref:n,className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));$j.displayName=qp.displayName;const Ls=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(fW,{children:[o.jsx($j,{}),o.jsxs(Gp,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(Uj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(lp,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ls.displayName=Gp.displayName;const Vs=({className:t,...e})=>o.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Vs.displayName="DialogHeader";const Fs=p.forwardRef(({className:t,...e},n)=>o.jsx(Kp,{ref:n,className:de("text-lg font-semibold leading-none tracking-tight",t),...e}));Fs.displayName=Kp.displayName;const sx=p.forwardRef(({className:t,...e},n)=>o.jsx(Qp,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));sx.displayName=Qp.displayName;const ft=p.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ft.displayName="Input";var mW=Object.defineProperty,pW=Object.defineProperties,gW=Object.getOwnPropertyDescriptors,Cm=Object.getOwnPropertySymbols,Bj=Object.prototype.hasOwnProperty,zj=Object.prototype.propertyIsEnumerable,kT=(t,e,n)=>e in t?mW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yW=(t,e)=>{for(var n in e||(e={}))Bj.call(e,n)&&kT(t,n,e[n]);if(Cm)for(var n of Cm(e))zj.call(e,n)&&kT(t,n,e[n]);return t},vW=(t,e)=>pW(t,gW(e)),xW=(t,e)=>{var n={};for(var r in t)Bj.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Cm)for(var r of Cm(t))e.indexOf(r)<0&&zj.call(t,r)&&(n[r]=t[r]);return n};function wW(t){let e=setTimeout(t,0),n=setTimeout(t,10),r=setTimeout(t,50);return[e,n,r]}function _W(t){let e=p.useRef();return p.useEffect(()=>{e.current=t}),e.current}var bW=18,Wj=40,EW=`${Wj}px`,TW=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function SW({containerRef:t,inputRef:e,pushPasswordManagerStrategy:n,isFocused:r}){let[s,i]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(!1),h=p.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&s&&a,[s,a,n]),f=p.useCallback(()=>{let m=t.current,g=e.current;if(!m||!g||c||n==="none")return;let E=m,w=E.getBoundingClientRect().left+E.offsetWidth,x=E.getBoundingClientRect().top+E.offsetHeight/2,b=w-bW,y=x;document.querySelectorAll(TW).length===0&&document.elementFromPoint(b,y)===m||(i(!0),u(!0))},[t,e,c,n]);return p.useEffect(()=>{let m=t.current;if(!m||n==="none")return;function g(){let w=window.innerWidth-m.getBoundingClientRect().right;l(w>=Wj)}g();let E=setInterval(g,1e3);return()=>{clearInterval(E)}},[t,n]),p.useEffect(()=>{let m=r||document.activeElement===e.current;if(n==="none"||!m)return;let g=setTimeout(f,0),E=setTimeout(f,2e3),w=setTimeout(f,5e3),x=setTimeout(()=>{u(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(E),clearTimeout(w),clearTimeout(x)}},[e,r,n,f]),{hasPWMBadge:s,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:EW}}var Hj=p.createContext({}),qj=p.forwardRef((t,e)=>{var n=t,{value:r,onChange:s,maxLength:i,textAlign:a="left",pattern:l,placeholder:c,inputMode:u="numeric",onComplete:h,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:m,containerClassName:g,noScriptCSSFallback:E=NW,render:w,children:x}=n,b=xW(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),y,v,T,I,R;let[N,C]=p.useState(typeof b.defaultValue=="string"?b.defaultValue:""),P=r??N,k=_W(P),D=p.useCallback(pe=>{s==null||s(pe),C(pe)},[s]),A=p.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),j=p.useRef(null),F=p.useRef(null),J=p.useRef({value:P,onChange:D,isIOS:typeof window<"u"&&((v=(y=window==null?void 0:window.CSS)==null?void 0:y.supports)==null?void 0:v.call(y,"-webkit-touch-callout","none"))}),H=p.useRef({prev:[(T=j.current)==null?void 0:T.selectionStart,(I=j.current)==null?void 0:I.selectionEnd,(R=j.current)==null?void 0:R.selectionDirection]});p.useImperativeHandle(e,()=>j.current,[]),p.useEffect(()=>{let pe=j.current,ve=F.current;if(!pe||!ve)return;J.current.value!==pe.value&&J.current.onChange(pe.value),H.current.prev=[pe.selectionStart,pe.selectionEnd,pe.selectionDirection];function Je(){if(document.activeElement!==pe){ie(null),we(null);return}let Fe=pe.selectionStart,L=pe.selectionEnd,U=pe.selectionDirection,M=pe.maxLength,K=pe.value,V=H.current.prev,W=-1,q=-1,oe;if(K.length!==0&&Fe!==null&&L!==null){let Bt=Fe===L,vn=Fe===K.length&&K.length<M;if(Bt&&!vn){let et=Fe;if(et===0)W=0,q=1,oe="forward";else if(et===M)W=et-1,q=et,oe="backward";else if(M>1&&K.length>1){let Rt=0;if(V[0]!==null&&V[1]!==null){oe=et<V[1]?"backward":"forward";let bn=V[0]===V[1]&&V[0]<M;oe==="backward"&&!bn&&(Rt=-1)}W=Rt+et,q=Rt+et+1}}W!==-1&&q!==-1&&W!==q&&j.current.setSelectionRange(W,q,oe)}let Ce=W!==-1?W:Fe,Tt=q!==-1?q:L,an=oe??U;ie(Ce),we(Tt),H.current.prev=[Ce,Tt,an]}if(document.addEventListener("selectionchange",Je,{capture:!0}),Je(),document.activeElement===pe&&ee(!0),!document.getElementById("input-otp-style")){let Fe=document.createElement("style");if(Fe.id="input-otp-style",document.head.appendChild(Fe),Fe.sheet){let L="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";lu(Fe.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),lu(Fe.sheet,`[data-input-otp]:autofill { ${L} }`),lu(Fe.sheet,`[data-input-otp]:-webkit-autofill { ${L} }`),lu(Fe.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),lu(Fe.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let ct=()=>{ve&&ve.style.setProperty("--root-height",`${pe.clientHeight}px`)};ct();let kt=new ResizeObserver(ct);return kt.observe(pe),()=>{document.removeEventListener("selectionchange",Je,{capture:!0}),kt.disconnect()}},[]);let[te,$]=p.useState(!1),[B,ee]=p.useState(!1),[le,ie]=p.useState(null),[he,we]=p.useState(null);p.useEffect(()=>{wW(()=>{var pe,ve,Je,ct;(pe=j.current)==null||pe.dispatchEvent(new Event("input"));let kt=(ve=j.current)==null?void 0:ve.selectionStart,Fe=(Je=j.current)==null?void 0:Je.selectionEnd,L=(ct=j.current)==null?void 0:ct.selectionDirection;kt!==null&&Fe!==null&&(ie(kt),we(Fe),H.current.prev=[kt,Fe,L])})},[P,B]),p.useEffect(()=>{k!==void 0&&P!==k&&k.length<i&&P.length===i&&(h==null||h(P))},[i,h,k,P]);let Ne=SW({containerRef:F,inputRef:j,pushPasswordManagerStrategy:f,isFocused:B}),it=p.useCallback(pe=>{let ve=pe.currentTarget.value.slice(0,i);if(ve.length>0&&A&&!A.test(ve)){pe.preventDefault();return}typeof k=="string"&&ve.length<k.length&&document.dispatchEvent(new Event("selectionchange")),D(ve)},[i,D,k,A]),re=p.useCallback(()=>{var pe;if(j.current){let ve=Math.min(j.current.value.length,i-1),Je=j.current.value.length;(pe=j.current)==null||pe.setSelectionRange(ve,Je),ie(ve),we(Je)}ee(!0)},[i]),Be=p.useCallback(pe=>{var ve,Je;let ct=j.current;if(!m&&(!J.current.isIOS||!pe.clipboardData||!ct))return;let kt=pe.clipboardData.getData("text/plain"),Fe=m?m(kt):kt;pe.preventDefault();let L=(ve=j.current)==null?void 0:ve.selectionStart,U=(Je=j.current)==null?void 0:Je.selectionEnd,M=(L!==U?P.slice(0,L)+Fe+P.slice(U):P.slice(0,L)+Fe+P.slice(L)).slice(0,i);if(M.length>0&&A&&!A.test(M))return;ct.value=M,D(M);let K=Math.min(M.length,i-1),V=M.length;ct.setSelectionRange(K,V),ie(K),we(V)},[i,D,A,P]),rt=p.useMemo(()=>({position:"relative",cursor:b.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[b.disabled]),je=p.useMemo(()=>({position:"absolute",inset:0,width:Ne.willPushPWMBadge?`calc(100% + ${Ne.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:Ne.willPushPWMBadge?`inset(0 ${Ne.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:a,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[Ne.PWM_BADGE_SPACE_WIDTH,Ne.willPushPWMBadge,a]),Pe=p.useMemo(()=>p.createElement("input",vW(yW({autoComplete:b.autoComplete||"one-time-code"},b),{"data-input-otp":!0,"data-input-otp-placeholder-shown":P.length===0||void 0,"data-input-otp-mss":le,"data-input-otp-mse":he,inputMode:u,pattern:A==null?void 0:A.source,"aria-placeholder":c,style:je,maxLength:i,value:P,ref:j,onPaste:pe=>{var ve;Be(pe),(ve=b.onPaste)==null||ve.call(b,pe)},onChange:it,onMouseOver:pe=>{var ve;$(!0),(ve=b.onMouseOver)==null||ve.call(b,pe)},onMouseLeave:pe=>{var ve;$(!1),(ve=b.onMouseLeave)==null||ve.call(b,pe)},onFocus:pe=>{var ve;re(),(ve=b.onFocus)==null||ve.call(b,pe)},onBlur:pe=>{var ve;ee(!1),(ve=b.onBlur)==null||ve.call(b,pe)}})),[it,re,Be,u,je,i,he,le,b,A==null?void 0:A.source,P]),Ae=p.useMemo(()=>({slots:Array.from({length:i}).map((pe,ve)=>{var Je;let ct=B&&le!==null&&he!==null&&(le===he&&ve===le||ve>=le&&ve<he),kt=P[ve]!==void 0?P[ve]:null,Fe=P[0]!==void 0?null:(Je=c==null?void 0:c[ve])!=null?Je:null;return{char:kt,placeholderChar:Fe,isActive:ct,hasFakeCaret:ct&&kt===null}}),isFocused:B,isHovering:!b.disabled&&te}),[B,te,i,he,le,b.disabled,P]),xt=p.useMemo(()=>w?w(Ae):p.createElement(Hj.Provider,{value:Ae},x),[x,Ae,w]);return p.createElement(p.Fragment,null,E!==null&&p.createElement("noscript",null,p.createElement("style",null,E)),p.createElement("div",{ref:F,"data-input-otp-container":!0,style:rt,className:g},xt,p.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Pe)))});qj.displayName="Input";function lu(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var NW=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const Gj=p.forwardRef(({className:t,containerClassName:e,...n},r)=>o.jsx(qj,{ref:r,containerClassName:de("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:de("disabled:cursor-not-allowed",t),...n}));Gj.displayName="InputOTP";const Kj=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:de("flex items-center",t),...e}));Kj.displayName="InputOTPGroup";const oo=p.forwardRef(({index:t,className:e,...n},r)=>{const s=p.useContext(Hj),{char:i,hasFakeCaret:a,isActive:l}=s.slots[t];return o.jsxs("div",{ref:r,className:de("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",e),...n,children:[i,a&&o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"animate-caret-blink h-4 w-px bg-foreground duration-1000"})})]})});oo.displayName="InputOTPSlot";const CW=p.forwardRef(({...t},e)=>o.jsx("div",{ref:e,role:"separator",...t,children:o.jsx(Y4,{})}));CW.displayName="InputOTPSeparator";var IW="Label",Qj=p.forwardRef((t,e)=>o.jsx(Ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Qj.displayName=IW;var Yj=Qj;const kW=qo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=p.forwardRef(({className:t,...e},n)=>o.jsx(Yj,{ref:n,className:de(kW(),t),...e}));ze.displayName=Yj.displayName;const PW=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(!1),[h,f]=p.useState(""),[m,g]=p.useState(""),[E,w]=p.useState(!1),[x,b]=p.useState(!1),{signIn:y,signInWithGoogle:v,user:T}=gr(),{toast:I}=pr(),R=Ac();p.useEffect(()=>{T&&R("/")},[T,R]);const N=async D=>{D.preventDefault(),i(!0);try{const{error:A}=await y(t,n);A&&I({title:"Login failed",description:A.message,variant:"destructive"})}catch(A){I({title:"Error",description:A.message,variant:"destructive"})}finally{i(!1)}},C=async()=>{i(!0);try{const{error:D,isNewUser:A}=await v();D?I({title:"Google sign-in failed",description:D.message,variant:"destructive"}):A&&R("/register",{state:{isNewUser:!0}})}catch(D){I({title:"Error",description:D.message,variant:"destructive"})}finally{i(!1)}},P=async()=>{if(!h){I({title:"Email required",description:"Please enter your email address",variant:"destructive"});return}w(!0);try{await b9(ws,h),I({title:"Password reset email sent",description:"Check your email for password reset instructions"}),l(!1)}catch(D){I({title:"Error",description:D.message,variant:"destructive"})}finally{w(!1)}},k=async()=>{if(m.length!==6){I({title:"Invalid OTP",description:"Please enter a valid 6-digit OTP",variant:"destructive"});return}b(!0);try{I({title:"OTP verified",description:"Password reset functionality implemented"}),u(!1),g("")}catch(D){I({title:"Error",description:D.message,variant:"destructive"})}finally{b(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsxs(yt,{to:"/",className:"inline-flex items-center space-x-2 mb-4",children:[o.jsx(rn,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold text-foreground",children:"SportsBracket"})]})}),o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:"Welcome Back"}),o.jsx(Wr,{children:"Login to manage your tournament participation"})]}),o.jsx(Te,{children:o.jsxs("form",{className:"space-y-4",onSubmit:N,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"email",children:"Email"}),o.jsx(ft,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:D=>e(D.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"password",children:"Password"}),o.jsx(ft,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:D=>r(D.target.value),required:!0})]}),o.jsx(_e,{className:"w-full",type:"submit",disabled:s,children:s?"Logging in...":"Login"}),o.jsx(_e,{className:"w-full",variant:"outline",onClick:C,disabled:s,children:"Continue with Google"}),o.jsxs("div",{className:"text-center text-sm space-y-2",children:[o.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-primary hover:underline",children:"Forgot password?"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),o.jsx(yt,{to:"/register",className:"text-primary hover:underline",children:"Register here"})]})]})]})})]}),o.jsx(hi,{open:a,onOpenChange:l,children:o.jsxs(Ls,{children:[o.jsxs(Vs,{children:[o.jsx(Fs,{children:"Reset Password"}),o.jsx(sx,{children:"Enter your email address and we'll send you a password reset link."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"forgot-email",children:"Email"}),o.jsx(ft,{id:"forgot-email",type:"email",placeholder:"Enter your email",value:h,onChange:D=>f(D.target.value)})]}),o.jsx(_e,{className:"w-full",onClick:P,disabled:E,children:E?"Sending...":"Send Reset Email"})]})]})}),o.jsx(hi,{open:c,onOpenChange:u,children:o.jsxs(Ls,{children:[o.jsxs(Vs,{children:[o.jsx(Fs,{children:"Enter OTP"}),o.jsx(sx,{children:"Enter the 6-digit code sent to your email."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(Gj,{value:m,onChange:g,maxLength:6,children:o.jsxs(Kj,{children:[o.jsx(oo,{index:0}),o.jsx(oo,{index:1}),o.jsx(oo,{index:2}),o.jsx(oo,{index:3}),o.jsx(oo,{index:4}),o.jsx(oo,{index:5})]})})}),o.jsx(_e,{className:"w-full",onClick:k,disabled:x,children:x?"Verifying...":"Verify OTP"})]})]})})]})})};function PT(t,[e,n]){return Math.min(n,Math.max(e,t))}var AW=p.createContext(void 0);function U_(t){const e=p.useContext(AW);return t||e||"ltr"}function Xj(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var jW=[" ","Enter","ArrowUp","ArrowDown"],RW=[" ","Enter"],Fo="Select",[Yp,Xp,DW]=fw(Fo),[Uc,yQ]=ki(Fo,[DW,hp]),Zp=hp(),[OW,Ya]=Uc(Fo),[MW,LW]=Uc(Fo),Zj=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:g,form:E}=t,w=Zp(e),[x,b]=p.useState(null),[y,v]=p.useState(null),[T,I]=p.useState(!1),R=U_(u),[N,C]=Ia({prop:r,defaultProp:s??!1,onChange:i,caller:Fo}),[P,k]=Ia({prop:a,defaultProp:l,onChange:c,caller:Fo}),D=p.useRef(null),A=x?E||!!x.closest("form"):!0,[j,F]=p.useState(new Set),J=Array.from(j).map(H=>H.props.value).join(";");return o.jsx(ek,{...w,children:o.jsxs(OW,{required:g,scope:e,trigger:x,onTriggerChange:b,valueNode:y,onValueNodeChange:v,valueNodeHasChildren:T,onValueNodeHasChildrenChange:I,contentId:ci(),value:P,onValueChange:k,open:N,onOpenChange:C,dir:R,triggerPointerDownPosRef:D,disabled:m,children:[o.jsx(Yp.Provider,{scope:e,children:o.jsx(MW,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(H=>{F(te=>new Set(te).add(H))},[]),onNativeOptionRemove:p.useCallback(H=>{F(te=>{const $=new Set(te);return $.delete(H),$})},[]),children:n})}),A?o.jsxs(bR,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:f,value:P,onChange:H=>k(H.target.value),disabled:m,form:E,children:[P===void 0?o.jsx("option",{value:""}):null,Array.from(j)]},J):null]})})};Zj.displayName=Fo;var Jj="SelectTrigger",eR=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Zp(n),a=Ya(Jj,n),l=a.disabled||r,c=Et(e,a.onTriggerChange),u=Xp(n),h=p.useRef("touch"),[f,m,g]=TR(w=>{const x=u().filter(v=>!v.disabled),b=x.find(v=>v.value===a.value),y=SR(x,w,b);y!==void 0&&a.onValueChange(y.value)}),E=w=>{l||(a.onOpenChange(!0),g()),w&&(a.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return o.jsx(tk,{asChild:!0,...i,children:o.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ER(a.value)?"":void 0,...s,ref:c,onClick:Se(s.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&E(w)}),onPointerDown:Se(s.onPointerDown,w=>{h.current=w.pointerType;const x=w.target;x.hasPointerCapture(w.pointerId)&&x.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(E(w),w.preventDefault())}),onKeyDown:Se(s.onKeyDown,w=>{const x=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&m(w.key),!(x&&w.key===" ")&&jW.includes(w.key)&&(E(),w.preventDefault())})})})});eR.displayName=Jj;var tR="SelectValue",nR=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=Ya(tR,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=Et(e,c.onValueNodeChange);return An(()=>{u(h)},[u,h]),o.jsx(Ve.span,{...l,ref:f,style:{pointerEvents:"none"},children:ER(c.value)?o.jsx(o.Fragment,{children:a}):i})});nR.displayName=tR;var VW="SelectIcon",rR=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(Ve.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});rR.displayName=VW;var FW="SelectPortal",sR=t=>o.jsx(sp,{asChild:!0,...t});sR.displayName=FW;var Uo="SelectContent",iR=p.forwardRef((t,e)=>{const n=Ya(Uo,t.__scopeSelect),[r,s]=p.useState();if(An(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ho.createPortal(o.jsx(aR,{scope:t.__scopeSelect,children:o.jsx(Yp.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(oR,{...t,ref:e})});iR.displayName=Uo;var Yr=10,[aR,Xa]=Uc(Uo),UW="SelectContentImpl",$W=ic("SelectContent.RemoveScroll"),oR=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:E,hideWhenDetached:w,avoidCollisions:x,...b}=t,y=Ya(Uo,n),[v,T]=p.useState(null),[I,R]=p.useState(null),N=Et(e,re=>T(re)),[C,P]=p.useState(null),[k,D]=p.useState(null),A=Xp(n),[j,F]=p.useState(!1),J=p.useRef(!1);p.useEffect(()=>{if(v)return _j(v)},[v]),fj();const H=p.useCallback(re=>{const[Be,...rt]=A().map(Ae=>Ae.ref.current),[je]=rt.slice(-1),Pe=document.activeElement;for(const Ae of re)if(Ae===Pe||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===Be&&I&&(I.scrollTop=0),Ae===je&&I&&(I.scrollTop=I.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Pe))return},[A,I]),te=p.useCallback(()=>H([C,v]),[H,C,v]);p.useEffect(()=>{j&&te()},[j,te]);const{onOpenChange:$,triggerPointerDownPosRef:B}=y;p.useEffect(()=>{if(v){let re={x:0,y:0};const Be=je=>{var Pe,Ae;re={x:Math.abs(Math.round(je.pageX)-(((Pe=B.current)==null?void 0:Pe.x)??0)),y:Math.abs(Math.round(je.pageY)-(((Ae=B.current)==null?void 0:Ae.y)??0))}},rt=je=>{re.x<=10&&re.y<=10?je.preventDefault():v.contains(je.target)||$(!1),document.removeEventListener("pointermove",Be),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Be),document.addEventListener("pointerup",rt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Be),document.removeEventListener("pointerup",rt,{capture:!0})}}},[v,$,B]),p.useEffect(()=>{const re=()=>$(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[$]);const[ee,le]=TR(re=>{const Be=A().filter(Pe=>!Pe.disabled),rt=Be.find(Pe=>Pe.ref.current===document.activeElement),je=SR(Be,re,rt);je&&setTimeout(()=>je.ref.current.focus())}),ie=p.useCallback((re,Be,rt)=>{const je=!J.current&&!rt;(y.value!==void 0&&y.value===Be||je)&&(P(re),je&&(J.current=!0))},[y.value]),he=p.useCallback(()=>v==null?void 0:v.focus(),[v]),we=p.useCallback((re,Be,rt)=>{const je=!J.current&&!rt;(y.value!==void 0&&y.value===Be||je)&&D(re)},[y.value]),Ne=r==="popper"?ix:lR,it=Ne===ix?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:E,hideWhenDetached:w,avoidCollisions:x}:{};return o.jsx(aR,{scope:n,content:v,viewport:I,onViewportChange:R,itemRefCallback:ie,selectedItem:C,onItemLeave:he,itemTextRefCallback:we,focusSelectedItem:te,selectedItemText:k,position:r,isPositioned:j,searchRef:ee,children:o.jsx(O_,{as:$W,allowPinchZoom:!0,children:o.jsx(D_,{asChild:!0,trapped:y.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Se(s,re=>{var Be;(Be=y.trigger)==null||Be.focus({preventScroll:!0}),re.preventDefault()}),children:o.jsx(Md,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:o.jsx(Ne,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:re=>re.preventDefault(),...b,...it,onPlaced:()=>F(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Se(b.onKeyDown,re=>{const Be=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Be&&re.key.length===1&&le(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let je=A().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(re.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Pe=re.target,Ae=je.indexOf(Pe);je=je.slice(Ae+1)}setTimeout(()=>H(je)),re.preventDefault()}})})})})})})});oR.displayName=UW;var BW="SelectItemAlignedPosition",lR=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ya(Uo,n),a=Xa(Uo,n),[l,c]=p.useState(null),[u,h]=p.useState(null),f=Et(e,N=>h(N)),m=Xp(n),g=p.useRef(!1),E=p.useRef(!0),{viewport:w,selectedItem:x,selectedItemText:b,focusSelectedItem:y}=a,v=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&w&&x&&b){const N=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(i.dir!=="rtl"){const Pe=k.left-C.left,Ae=P.left-Pe,xt=N.left-Ae,pe=N.width+xt,ve=Math.max(pe,C.width),Je=window.innerWidth-Yr,ct=PT(Ae,[Yr,Math.max(Yr,Je-ve)]);l.style.minWidth=pe+"px",l.style.left=ct+"px"}else{const Pe=C.right-k.right,Ae=window.innerWidth-P.right-Pe,xt=window.innerWidth-N.right-Ae,pe=N.width+xt,ve=Math.max(pe,C.width),Je=window.innerWidth-Yr,ct=PT(Ae,[Yr,Math.max(Yr,Je-ve)]);l.style.minWidth=pe+"px",l.style.right=ct+"px"}const D=m(),A=window.innerHeight-Yr*2,j=w.scrollHeight,F=window.getComputedStyle(u),J=parseInt(F.borderTopWidth,10),H=parseInt(F.paddingTop,10),te=parseInt(F.borderBottomWidth,10),$=parseInt(F.paddingBottom,10),B=J+H+j+$+te,ee=Math.min(x.offsetHeight*5,B),le=window.getComputedStyle(w),ie=parseInt(le.paddingTop,10),he=parseInt(le.paddingBottom,10),we=N.top+N.height/2-Yr,Ne=A-we,it=x.offsetHeight/2,re=x.offsetTop+it,Be=J+H+re,rt=B-Be;if(Be<=we){const Pe=D.length>0&&x===D[D.length-1].ref.current;l.style.bottom="0px";const Ae=u.clientHeight-w.offsetTop-w.offsetHeight,xt=Math.max(Ne,it+(Pe?he:0)+Ae+te),pe=Be+xt;l.style.height=pe+"px"}else{const Pe=D.length>0&&x===D[0].ref.current;l.style.top="0px";const xt=Math.max(we,J+w.offsetTop+(Pe?ie:0)+it)+rt;l.style.height=xt+"px",w.scrollTop=Be-we+w.offsetTop}l.style.margin=`${Yr}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,l,u,w,x,b,i.dir,r]);An(()=>v(),[v]);const[T,I]=p.useState();An(()=>{u&&I(window.getComputedStyle(u).zIndex)},[u]);const R=p.useCallback(N=>{N&&E.current===!0&&(v(),y==null||y(),E.current=!1)},[v,y]);return o.jsx(WW,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:R,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:o.jsx(Ve.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});lR.displayName=BW;var zW="SelectPopperPosition",ix=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Yr,...i}=t,a=Zp(n);return o.jsx(nk,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ix.displayName=zW;var[WW,$_]=Uc(Uo,{}),ax="SelectViewport",cR=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Xa(ax,n),a=$_(ax,n),l=Et(e,i.onViewportChange),c=p.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Yp.Slot,{scope:n,children:o.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Se(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const g=Math.abs(c.current-h.scrollTop);if(g>0){const E=window.innerHeight-Yr*2,w=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(w,x);if(b<E){const y=b+g,v=Math.min(E,y),T=y-v;f.style.height=v+"px",f.style.bottom==="0px"&&(h.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});cR.displayName=ax;var uR="SelectGroup",[HW,qW]=Uc(uR),GW=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ci();return o.jsx(HW,{scope:n,id:s,children:o.jsx(Ve.div,{role:"group","aria-labelledby":s,...r,ref:e})})});GW.displayName=uR;var dR="SelectLabel",hR=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=qW(dR,n);return o.jsx(Ve.div,{id:s.id,...r,ref:e})});hR.displayName=dR;var Im="SelectItem",[KW,fR]=Uc(Im),mR=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=Ya(Im,n),c=Xa(Im,n),u=l.value===r,[h,f]=p.useState(i??""),[m,g]=p.useState(!1),E=Et(e,y=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,y,r,s)}),w=ci(),x=p.useRef("touch"),b=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(KW,{scope:n,value:r,disabled:s,textId:w,isSelected:u,onItemTextChange:p.useCallback(y=>{f(v=>v||((y==null?void 0:y.textContent)??"").trim())},[]),children:o.jsx(Yp.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:o.jsx(Ve.div,{role:"option","aria-labelledby":w,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:E,onFocus:Se(a.onFocus,()=>g(!0)),onBlur:Se(a.onBlur,()=>g(!1)),onClick:Se(a.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:Se(a.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:Se(a.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:Se(a.onPointerMove,y=>{var v;x.current=y.pointerType,s?(v=c.onItemLeave)==null||v.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Se(a.onPointerLeave,y=>{var v;y.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:Se(a.onKeyDown,y=>{var T;((T=c.searchRef)==null?void 0:T.current)!==""&&y.key===" "||(RW.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});mR.displayName=Im;var Eu="SelectItemText",pR=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=Ya(Eu,n),l=Xa(Eu,n),c=fR(Eu,n),u=LW(Eu,n),[h,f]=p.useState(null),m=Et(e,b=>f(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),g=h==null?void 0:h.textContent,E=p.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:w,onNativeOptionRemove:x}=u;return An(()=>(w(E),()=>x(E)),[w,x,E]),o.jsxs(o.Fragment,{children:[o.jsx(Ve.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ho.createPortal(i.children,a.valueNode):null]})});pR.displayName=Eu;var gR="SelectItemIndicator",yR=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return fR(gR,n).isSelected?o.jsx(Ve.span,{"aria-hidden":!0,...r,ref:e}):null});yR.displayName=gR;var ox="SelectScrollUpButton",vR=p.forwardRef((t,e)=>{const n=Xa(ox,t.__scopeSelect),r=$_(ox,t.__scopeSelect),[s,i]=p.useState(!1),a=Et(e,r.onScrollButtonChange);return An(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(wR,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});vR.displayName=ox;var lx="SelectScrollDownButton",xR=p.forwardRef((t,e)=>{const n=Xa(lx,t.__scopeSelect),r=$_(lx,t.__scopeSelect),[s,i]=p.useState(!1),a=Et(e,r.onScrollButtonChange);return An(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;i(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(wR,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});xR.displayName=lx;var wR=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Xa("SelectScrollButton",n),a=p.useRef(null),l=Xp(n),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),An(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),o.jsx(Ve.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Se(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Se(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Se(s.onPointerLeave,()=>{c()})})}),QW="SelectSeparator",_R=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Ve.div,{"aria-hidden":!0,...r,ref:e})});_R.displayName=QW;var cx="SelectArrow",YW=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Zp(n),i=Ya(cx,n),a=Xa(cx,n);return i.open&&a.position==="popper"?o.jsx(rk,{...s,...r,ref:e}):null});YW.displayName=cx;var XW="SelectBubbleInput",bR=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=p.useRef(null),i=Et(r,s),a=Xj(e);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&h){const f=new Event("change",{bubbles:!0});h.call(l,e),l.dispatchEvent(f)}},[a,e]),o.jsx(Ve.select,{...n,style:{...HC,...n.style},ref:i,defaultValue:e})});bR.displayName=XW;function ER(t){return t===""||t===void 0}function TR(t){const e=$r(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function SR(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=ZW(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function ZW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var JW=Zj,NR=eR,eH=nR,tH=rR,nH=sR,CR=iR,rH=cR,IR=hR,kR=mR,sH=pR,iH=yR,PR=vR,AR=xR,jR=_R;const Ct=JW,It=eH,_t=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(NR,{ref:r,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(tH,{asChild:!0,children:o.jsx(pI,{className:"h-4 w-4 opacity-50"})})]}));_t.displayName=NR.displayName;const RR=p.forwardRef(({className:t,...e},n)=>o.jsx(PR,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(K4,{className:"h-4 w-4"})}));RR.displayName=PR.displayName;const DR=p.forwardRef(({className:t,...e},n)=>o.jsx(AR,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(pI,{className:"h-4 w-4"})}));DR.displayName=AR.displayName;const bt=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(nH,{children:o.jsxs(CR,{ref:s,className:de("relative z-[100] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(RR,{}),o.jsx(rH,{className:de("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(DR,{})]})}));bt.displayName=CR.displayName;const aH=p.forwardRef(({className:t,...e},n)=>o.jsx(IR,{ref:n,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));aH.displayName=IR.displayName;const We=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(kR,{ref:r,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(iH,{children:o.jsx(mI,{className:"h-4 w-4"})})}),o.jsx(sH,{children:e})]}));We.displayName=kR.displayName;const oH=p.forwardRef(({className:t,...e},n)=>o.jsx(jR,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...e}));oH.displayName=jR.displayName;const lH=()=>{var y;const t=Hs(),[e,n]=p.useState({name:"",email:"",phone:"",department:"",gender:"",password:""}),[r,s]=p.useState(!1),[i,a]=p.useState((y=t.state)!=null&&y.isNewUser?2:1),[l,c]=p.useState(null),{signUp:u,signInWithGoogle:h,signUpWithGoogle:f,user:m}=gr(),{toast:g}=pr(),E=Ac();p.useEffect(()=>{var v;(v=t.state)!=null&&v.isNewUser&&m&&(c(m),g({title:"Profile Update Required",description:"Please update your profile details to complete registration."}),window.history.replaceState({},document.title))},[t.state,m]),p.useEffect(()=>{m&&i===1&&E("/")},[m,E,i]);const w=async v=>{v.preventDefault(),s(!0);try{const{error:T}=await u(e.email,e.password,{name:e.name,department:e.department,gender:e.gender,phone:e.phone});T?g({title:"Registration failed",description:T.message,variant:"destructive"}):(g({title:"Registration successful!",description:"A verification email has been sent to your email address. Please verify it before logging in."}),E("/login"))}catch(T){g({title:"Error",description:T.message,variant:"destructive"})}finally{s(!1)}},x=async()=>{s(!0);try{const{error:v,user:T,isNewUser:I}=await h();v?g({title:"Google sign-in failed",description:v.message,variant:"destructive"}):T&&I?(c(T),g({title:"Profile Update Required",description:"Please update your profile details to complete registration."}),a(2)):T&&!I&&E("/")}catch(v){g({title:"Error",description:v.message,variant:"destructive"})}finally{s(!1)}},b=async v=>{v.preventDefault(),s(!0);try{const{error:T}=await f({department:e.department,gender:e.gender});T?g({title:"Registration failed",description:T.message,variant:"destructive"}):(g({title:"Registration successful!",description:"Welcome to SportsBracket!"}),E("/"))}catch(T){g({title:"Error",description:T.message,variant:"destructive"})}finally{s(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 px-4 py-12",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsxs(yt,{to:"/",className:"inline-flex items-center space-x-2 mb-4",children:[o.jsx(rn,{className:"h-8 w-8 text-primary"}),o.jsx("span",{className:"text-2xl font-bold text-foreground",children:"SportsBracket"})]})}),o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:i===1?"Create Account":"Complete Profile"}),o.jsx(Wr,{children:i===1?"Register manually or with Google to participate":"Please provide additional details to complete your registration"})]}),o.jsx(Te,{children:i===1?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"name",children:"Full Name"}),o.jsx(ft,{id:"name",placeholder:"John Doe",value:e.name,onChange:v=>n({...e,name:v.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"email",children:"Email"}),o.jsx(ft,{id:"email",type:"email",placeholder:"john@example.com",value:e.email,onChange:v=>n({...e,email:v.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"department",children:"Department / Class"}),o.jsx(ft,{id:"department",placeholder:"Ex: CSE-A",value:e.department,onChange:v=>n({...e,department:v.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"gender",children:"Gender"}),o.jsxs(Ct,{value:e.gender,onValueChange:v=>n({...e,gender:v}),children:[o.jsx(_t,{id:"gender",children:o.jsx(It,{placeholder:"Select gender"})}),o.jsxs(bt,{children:[o.jsx(We,{value:"male",children:"Male"}),o.jsx(We,{value:"female",children:"Female"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"password",children:"Password"}),o.jsx(ft,{id:"password",type:"password",placeholder:"******",value:e.password,onChange:v=>n({...e,password:v.target.value}),required:!0})]}),o.jsx(_e,{className:"w-full",type:"submit",disabled:r,children:r?"Registering...":"Register"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),o.jsxs(_e,{className:"w-full",onClick:x,disabled:r,variant:"outline",type:"button",children:[o.jsx("svg",{className:"mr-2 h-4 w-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:o.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Google"]}),o.jsxs("div",{className:"text-center text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),o.jsx(yt,{to:"/login",className:"text-primary hover:underline",children:"Login here"})]})]}):o.jsxs("form",{className:"space-y-4",onSubmit:b,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{children:"Full Name"}),o.jsx(ft,{value:(l==null?void 0:l.displayName)||"",disabled:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{children:"Email"}),o.jsx(ft,{value:(l==null?void 0:l.email)||"",disabled:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"department-google",children:"Department / Class"}),o.jsx(ft,{id:"department-google",placeholder:"Enter your department or class",value:e.department,onChange:v=>n({...e,department:v.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"gender-google",children:"Gender"}),o.jsxs(Ct,{value:e.gender,onValueChange:v=>n({...e,gender:v}),children:[o.jsx(_t,{id:"gender-google",children:o.jsx(It,{placeholder:"Select gender"})}),o.jsxs(bt,{children:[o.jsx(We,{value:"male",children:"Male"}),o.jsx(We,{value:"female",children:"Female"}),o.jsx(We,{value:"other",children:"Other"})]})]})]}),o.jsx(_e,{className:"w-full",type:"submit",disabled:r,children:r?"Completing registration...":"Complete Registration"}),o.jsx("div",{className:"text-center",children:o.jsx(_e,{variant:"ghost",onClick:()=>a(1),className:"text-sm",type:"button",children:"Back"})})]})})]})]})})},cH=fr(qe,"tournaments"),Cr=async()=>{const t=Zn(cH,Ka("created_at","desc"));return(await Jn(t)).docs.map(n=>({id:n.id,...n.data()}))},uH=fr(qe,"leaderboard"),OR=async t=>{const e=Zn(uH,gn("tournament_id","==",t),Ka("points","desc"));return(await Jn(e)).docs.map(r=>({id:r.id,...r.data()}))},km=fr(qe,"matches"),MR=fr(qe,"match_results"),So=async t=>{const e=[gn("tournament_id","==",t.tournamentId)];t.gameId&&e.push(gn("game_id","==",t.gameId));const n=Zn(km,...e);return(await Jn(n)).docs.map(i=>({id:i.id,...i.data()})).sort((i,a)=>i.round_index!==a.round_index?i.round_index-a.round_index:i.match_order-a.match_order)},B_=async t=>{if(t.length===0)return[];const e=[];for(let s=0;s<t.length;s+=10)e.push(t.slice(s,s+10));const n=[];for(const s of e){const i=Zn(km,gn("participant_a_id","in",s)),a=await Jn(i),l=Zn(km,gn("participant_b_id","in",s)),c=await Jn(l),u=new Map;a.docs.forEach(h=>u.set(h.id,{id:h.id,...h.data()})),c.docs.forEach(h=>u.set(h.id,{id:h.id,...h.data()})),u.forEach(h=>n.push(h))}return Array.from(new Map(n.map(s=>[s.id,s])).values())},dH=async t=>(await Qa(km,{...t,created_at:Ye(),updated_at:Ye()})).id,Sf=async(t,e)=>{await Di(wt(qe,"matches",t),{...e,updated_at:Ye()})},hH=async(t,e)=>{const n=await Qa(MR,{...e,match_id:t,created_at:Ye(),updated_at:Ye()});return await Sf(t,{status:"COMPLETED",winner_participant_id:e.winner_participant_id}),n.id},fH=async t=>{if(t.length===0)return[];const e=[];for(let r=0;r<t.length;r+=10)e.push(t.slice(r,r+10));const n=[];for(const r of e){const s=Zn(MR,gn("match_id","in",r));(await Jn(s)).docs.forEach(a=>n.push({id:a.id,...a.data()}))}return n},mH=fr(qe,"games"),mr=async t=>{const e=[Ka("created_at","desc")];t&&e.unshift(gn("tournament_id","==",t));const n=Zn(mH,...e);return(await Jn(n)).docs.map(s=>({id:s.id,...s.data()}))},Jp=fr(qe,"participants"),eh=async t=>{const e=[];t.tournamentId&&e.push(gn("tournament_id","==",t.tournamentId)),t.gameId&&e.push(gn("game_id","==",t.gameId)),e.push(Ka("created_at","asc"));const n=Zn(Jp,...e);return(await Jn(n)).docs.map(s=>({id:s.id,...s.data()}))},z_=async t=>{const e=Zn(Jp,gn("user_id","==",t));return(await Jn(e)).docs.map(r=>({id:r.id,...r.data()}))},W_=async t=>{if(t.length===0)return[];const e=[];for(let r=0;r<t.length;r+=10)e.push(t.slice(r,r+10));const n=[];for(const r of e){const s=Zn(Jp,gn("team_id","in",r));(await Jn(s)).docs.forEach(a=>n.push({id:a.id,...a.data()}))}return n},LR=async t=>(await Qa(Jp,{...t,created_at:Ye(),updated_at:Ye()})).id,pH=fr(qe,"profiles"),VR=fr(qe,"user_roles"),gs=async()=>{const t=Zn(pH,Ka("created_at","desc"));return(await Jn(t)).docs.map(n=>({id:n.id,...n.data()}))},gH=async t=>{try{const e=await Lo(wt(VR,t));return e.exists()?e.data().roles||[]:[]}catch(e){return console.error("Error fetching user role:",e),[]}},yH=async()=>{try{const t=await gs();return await Promise.all(t.map(async n=>{const r=await gH(n.id);return{...n,roles:r}}))}catch(t){return console.error("Error fetching users with roles:",t),[]}},vH=async(t,e)=>{try{await ao(wt(VR,t),{roles:e,updated_at:Ye()},{merge:!0})}catch(n){throw console.error("Error updating user role:",n),n}},xH=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(""),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState([]),[E,w]=p.useState(!1);p.useEffect(()=>{gs().then(g)},[]),p.useEffect(()=>{Cr().then(I=>{e(I),I.length>0&&r(I[0].id)})},[]),p.useEffect(()=>{if(!n){i([]),l([]),f([]);return}w(!0),Promise.all([OR(n),So({tournamentId:n}),mr(n),eh({tournamentId:n})]).then(([I,R,N,C])=>{i(I),l(R),f(N),u(C)}).finally(()=>w(!1))},[n]);const x=p.useMemo(()=>c.reduce((I,R)=>(I[R.id]=R,I),{}),[c]),b=p.useMemo(()=>m.reduce((I,R)=>(I[R.id]=R,I),{}),[m]),y=I=>{var N,C;if(!I)return"TBD";const R=x[I];return R?R.type==="USER"&&R.user_id?((N=b[R.user_id])==null?void 0:N.name)||"Unknown":"Team "+(((C=R.team_id)==null?void 0:C.slice(-4))||""):"TBD"},v=s.slice(0,3),T=s.slice(3);return o.jsx("div",{className:"min-h-screen bg-muted/30 py-12",children:o.jsxs("div",{className:"container space-y-8",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm uppercase text-muted-foreground tracking-wide",children:"Standings"}),o.jsx("h1",{className:"text-3xl font-bold",children:"Leaderboard"}),o.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl",children:"Track the top performers across all sports and divisions. Standings update automatically after each verified match result."})]}),o.jsxs("div",{className:"w-full md:w-64",children:[o.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Tournament"}),o.jsxs(Ct,{value:n,onValueChange:r,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:"Select tournament"})}),o.jsx(bt,{children:t.map(I=>o.jsx(We,{value:I.id,children:I.name},I.id))})]})]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex items-center justify-between",children:[o.jsx(Qe,{children:"Top Performers"}),E&&o.jsx(zn,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),o.jsx(Te,{children:v.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:"No leaderboard data yet."}):o.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:v.map((I,R)=>o.jsxs("div",{className:"rounded-xl border bg-gradient-to-br from-background to-muted/50 p-5 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground uppercase tracking-wide",children:I.entity_type.toLowerCase()}),o.jsx(nL,{className:`h-5 w-5 ${R===0?"text-yellow-500":"text-muted-foreground"}`})]}),o.jsx("h3",{className:"text-2xl font-bold mt-3",children:I.name}),o.jsxs("div",{className:"mt-auto pt-6 flex items-center justify-between text-sm font-medium",children:[o.jsxs("span",{children:[I.points," pts"]}),o.jsxs("span",{children:[I.wins,"-",I.losses]})]})]},I.id))})})]}),T.length>0&&o.jsxs(Ee,{children:[o.jsx(Ke,{children:o.jsx(Qe,{children:"Full Standings"})}),o.jsx(Te,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left text-muted-foreground border-b",children:[o.jsx("th",{className:"py-2 pr-4",children:"Rank"}),o.jsx("th",{className:"py-2 pr-4",children:"Name"}),o.jsx("th",{className:"py-2 pr-4",children:"Type"}),o.jsx("th",{className:"py-2 pr-4",children:"Points"}),o.jsx("th",{className:"py-2 pr-4",children:"Wins"}),o.jsx("th",{className:"py-2 pr-4",children:"Losses"})]})}),o.jsx("tbody",{children:T.map((I,R)=>o.jsxs("tr",{className:"border-b last:border-0",children:[o.jsx("td",{className:"py-2 pr-4",children:I.rank??R+4}),o.jsx("td",{className:"py-2 pr-4 font-medium",children:I.name}),o.jsx("td",{className:"py-2 pr-4 capitalize",children:I.entity_type.toLowerCase()}),o.jsx("td",{className:"py-2 pr-4",children:I.points}),o.jsx("td",{className:"py-2 pr-4",children:I.wins}),o.jsx("td",{className:"py-2 pr-4",children:I.losses})]},I.id))})]})})})]}),o.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[o.jsxs(Ee,{className:"border-primary/20 bg-primary/5",children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsxs(Qe,{className:"text-lg font-bold flex items-center gap-2",children:[o.jsx(vI,{className:"h-5 w-5 text-primary"}),"Live & Upcoming"]}),o.jsx(Zt,{variant:"outline",className:"bg-primary/10",children:"Ongoing"})]}),o.jsx(Te,{className:"space-y-4",children:a.filter(I=>I.status.toUpperCase()!=="COMPLETED"&&I.status.toUpperCase()!=="CANCELLED").length===0?o.jsx("p",{className:"text-sm text-muted-foreground py-4 text-center",children:"No ongoing matches"}):a.filter(I=>I.status.toUpperCase()!=="COMPLETED"&&I.status.toUpperCase()!=="CANCELLED").slice(0,5).map(I=>{var R;return o.jsxs("div",{className:"p-4 bg-background rounded-xl border border-primary/20 shadow-sm transition-all hover:shadow-md hover:scale-[1.01] relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-primary/40 group-hover:bg-primary transition-colors"}),o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("span",{className:"text-[10px] font-bold text-primary uppercase tracking-widest px-2 py-0.5 bg-primary/10 rounded",children:(R=h.find(N=>N.id===I.game_id))==null?void 0:R.name}),o.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-semibold text-muted-foreground uppercase",children:[o.jsx("span",{className:"flex h-1.5 w-1.5 rounded-full bg-primary animate-pulse"}),"LIVE"]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"font-bold text-sm text-foreground",children:y(I.participant_a_id)})}),o.jsxs("div",{className:"flex flex-col items-center gap-1 min-w-[40px]",children:[o.jsx("div",{className:"text-[9px] font-black text-muted-foreground/50 italic",children:"VS"}),o.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-muted-foreground font-medium",children:[o.jsx(Go,{className:"h-2.5 w-2.5"}),I.match_time?new Date(I.match_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"TBD"]})]}),o.jsx("div",{className:"flex-1 text-right",children:o.jsx("p",{className:"font-bold text-sm text-foreground",children:y(I.participant_b_id)})})]})]},I.id)})})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsxs(Qe,{className:"text-lg font-bold flex items-center gap-2",children:[o.jsx(rn,{className:"h-5 w-5 text-yellow-500"}),"Recent Results"]}),o.jsx(Zt,{variant:"secondary",children:"Finished"})]}),o.jsx(Te,{className:"space-y-4",children:a.filter(I=>I.status.toUpperCase()==="COMPLETED").length===0?o.jsx("p",{className:"text-sm text-muted-foreground py-4 text-center",children:"No completed matches yet"}):a.filter(I=>I.status.toUpperCase()==="COMPLETED").slice(0,5).map(I=>{var R;return o.jsxs("div",{className:"p-4 bg-muted/40 rounded-xl border border-border shadow-sm transition-all hover:bg-muted/50",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest px-2 py-0.5 bg-muted rounded",children:(R=h.find(N=>N.id===I.game_id))==null?void 0:R.name}),o.jsx(Zt,{variant:"secondary",className:"bg-green-100 text-green-700 hover:bg-green-100 border-none text-[9px] font-bold px-1.5 py-0",children:"MATCH OVER"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{className:`flex-1 text-center p-2 rounded-lg transition-colors ${I.winner_participant_id===I.participant_a_id?"bg-green-500/10 border border-green-500/20":"opacity-60"}`,children:[o.jsx("p",{className:`font-bold text-sm truncate ${I.winner_participant_id===I.participant_a_id?"text-green-600":"text-muted-foreground font-medium"}`,children:y(I.participant_a_id)}),I.winner_participant_id===I.participant_a_id&&o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx(rn,{className:"h-2.5 w-2.5 text-green-600"}),o.jsx("span",{className:"text-[9px] font-black text-green-600 tracking-tighter uppercase",children:"Winner"})]})]}),o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("div",{className:"text-[10px] font-black text-muted-foreground/30 px-1 py-0.5",children:"FT"})}),o.jsxs("div",{className:`flex-1 text-center p-2 rounded-lg transition-colors ${I.winner_participant_id===I.participant_b_id?"bg-green-500/10 border border-green-500/20":"opacity-60"}`,children:[o.jsx("p",{className:`font-bold text-sm truncate ${I.winner_participant_id===I.participant_b_id?"text-green-600":"text-muted-foreground font-medium"}`,children:y(I.participant_b_id)}),I.winner_participant_id===I.participant_b_id&&o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx(rn,{className:"h-2.5 w-2.5 text-green-600"}),o.jsx("span",{className:"text-[9px] font-black text-green-600 tracking-tighter uppercase",children:"Winner"})]})]})]})]},I.id)})})]})]})]})})},wH=t=>t?new Date(t).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"}):"TBD",_H=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState(!1);p.useEffect(()=>{Cr().then(x=>{i(x),x.length>0&&e(x[0].id)})},[]),p.useEffect(()=>{if(!t){l([]),u([]);return}(async()=>{g(!0);const[b,y,v]=await Promise.all([mr(t),So({tournamentId:t,gameId:n||void 0}),eh({tournamentId:t,gameId:n||void 0})]);l(b),u(y),f(v),g(!1)})()},[t,n]);const E=p.useMemo(()=>h.reduce((x,b)=>(x[b.id]=b,x),{}),[h]),w=c.filter(x=>x.status!=="COMPLETED");return o.jsx("div",{className:"min-h-screen bg-muted/30 py-12",children:o.jsxs("div",{className:"container space-y-8",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm uppercase text-muted-foreground tracking-wide",children:"Live Schedule"}),o.jsx("h1",{className:"text-3xl font-bold",children:"Matches & Fixtures"}),o.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl",children:"Stay on top of every match happening this week. Filter by tournament or sport to find exact fixtures, venues, and kickoff times."})]}),o.jsxs("div",{className:"w-full md:w-[28rem] flex flex-col gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Tournament"}),o.jsxs(Ct,{value:t,onValueChange:e,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:"Select tournament"})}),o.jsx(bt,{children:s.map(x=>o.jsx(We,{value:x.id,children:x.name},x.id))})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-muted-foreground font-medium mb-1",children:"Game"}),o.jsxs(Ct,{value:n,onValueChange:r,disabled:!t,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:"All games"})}),o.jsxs(bt,{children:[o.jsx(We,{value:"",children:"All games"}),a.map(x=>o.jsx(We,{value:x.id,children:x.name},x.id))]})]})]})]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex items-center justify-between",children:[o.jsx(Qe,{children:"Upcoming & Live Matches"}),m&&o.jsx(zn,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),o.jsx(Te,{children:t?w.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:"No scheduled matches yet. Check back later once brackets are published."}):o.jsx("div",{className:"grid gap-4",children:w.map(x=>{var T;const b=x.participant_a_id?E[x.participant_a_id]:void 0,y=x.participant_b_id?E[x.participant_b_id]:void 0,v=((T=a.find(I=>I.id===x.game_id))==null?void 0:T.name)??"Tournament Game";return o.jsxs("div",{className:"rounded-xl border bg-background p-5",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-muted-foreground tracking-wide",children:v}),o.jsx("h3",{className:"text-lg font-semibold",children:x.round_name})]}),o.jsx(Zt,{variant:x.status==="SCHEDULED"?"secondary":"default",children:x.status==="SCHEDULED"?"Scheduled":x.status.toLowerCase()})]}),o.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Participant A"}),o.jsx("p",{className:"text-lg font-medium",children:(b==null?void 0:b.user_id)||(b==null?void 0:b.team_id)||"TBD"})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Participant B"}),o.jsx("p",{className:"text-lg font-medium",children:(y==null?void 0:y.user_id)||(y==null?void 0:y.team_id)||"TBD"})]})]}),o.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-muted-foreground",children:[o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(Go,{className:"h-4 w-4"}),wH(x.match_time)]}),o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(op,{className:"h-4 w-4"}),x.venue||"Venue TBD"]})]})]},x.id)})}):o.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a tournament to view fixtures."})})]})]})})},yy=768;function bH(){const[t,e]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${yy-1}px)`),r=()=>{e(window.innerWidth<yy)};return n.addEventListener("change",r),e(window.innerWidth<yy),()=>n.removeEventListener("change",r)},[]),!!t}var EH="Separator",AT="horizontal",TH=["horizontal","vertical"],FR=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=AT,...s}=t,i=SH(r)?r:AT,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(Ve.div,{"data-orientation":i,...l,...s,ref:e})});FR.displayName=EH;function SH(t){return TH.includes(t)}var UR=FR;const $R=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>o.jsx(UR,{ref:s,decorative:n,orientation:e,className:de("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));$R.displayName=UR.displayName;const NH=Vj,CH=Fj,BR=p.forwardRef(({className:t,...e},n)=>o.jsx(qp,{className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));BR.displayName=qp.displayName;const IH=qo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),zR=p.forwardRef(({side:t="right",className:e,children:n,...r},s)=>o.jsxs(CH,{children:[o.jsx(BR,{}),o.jsxs(Gp,{ref:s,className:de(IH({side:t}),e),...r,children:[n,o.jsxs(Uj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(lp,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zR.displayName=Gp.displayName;const WR=p.forwardRef(({className:t,...e},n)=>o.jsx(Kp,{ref:n,className:de("text-lg font-semibold text-foreground",t),...e}));WR.displayName=Kp.displayName;const kH=p.forwardRef(({className:t,...e},n)=>o.jsx(Qp,{ref:n,className:de("text-sm text-muted-foreground",t),...e}));kH.displayName=Qp.displayName;function jT({className:t,...e}){return o.jsx("div",{className:de("animate-pulse rounded-md bg-muted",t),...e})}const PH="sidebar:state",AH=60*60*24*7,jH="16rem",RH="18rem",DH="3rem",OH="b",HR=p.createContext(null);function eg(){const t=p.useContext(HR);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const H_=p.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:s,children:i,...a},l)=>{const c=bH(),[u,h]=p.useState(!1),[f,m]=p.useState(t),g=e??f,E=p.useCallback(y=>{const v=typeof y=="function"?y(g):y;n?n(v):m(v),document.cookie=`${PH}=${v}; path=/; max-age=${AH}`},[n,g]),w=p.useCallback(()=>c?h(y=>!y):E(y=>!y),[c,E,h]);p.useEffect(()=>{const y=v=>{v.key===OH&&(v.metaKey||v.ctrlKey)&&(v.preventDefault(),w())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[w]);const x=g?"expanded":"collapsed",b=p.useMemo(()=>({state:x,open:g,setOpen:E,isMobile:c,openMobile:u,setOpenMobile:h,toggleSidebar:w}),[x,g,E,c,u,h,w]);return o.jsx(HR.Provider,{value:b,children:o.jsx(hk,{delayDuration:0,children:o.jsx("div",{style:{"--sidebar-width":jH,"--sidebar-width-icon":DH,...s},className:de("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...a,children:i})})})});H_.displayName="SidebarProvider";const q_=p.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:s,...i},a)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:h}=eg();return n==="none"?o.jsx("div",{className:de("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:a,...i,children:s}):l?o.jsx(NH,{open:u,onOpenChange:h,...i,children:o.jsxs(zR,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":RH},side:t,children:[o.jsx(WR,{className:"sr-only",children:"Navigation"}),o.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):o.jsxs("div",{ref:a,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":e,"data-side":t,children:[o.jsx("div",{className:de("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),o.jsx("div",{className:de("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:o.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});q_.displayName="Sidebar";const G_=p.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:s}=eg();return o.jsxs(_e,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:de("h-7 w-7",t),onClick:i=>{e==null||e(i),s()},...n,children:[o.jsx(sL,{}),o.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});G_.displayName="SidebarTrigger";const MH=p.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=eg();return o.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:de("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});MH.displayName="SidebarRail";const LH=p.forwardRef(({className:t,...e},n)=>o.jsx("main",{ref:n,className:de("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));LH.displayName="SidebarInset";const VH=p.forwardRef(({className:t,...e},n)=>o.jsx(ft,{ref:n,"data-sidebar":"input",className:de("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));VH.displayName="SidebarInput";const FH=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"header",className:de("flex flex-col gap-2 p-2",t),...e}));FH.displayName="SidebarHeader";const UH=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"footer",className:de("flex flex-col gap-2 p-2",t),...e}));UH.displayName="SidebarFooter";const $H=p.forwardRef(({className:t,...e},n)=>o.jsx($R,{ref:n,"data-sidebar":"separator",className:de("mx-2 w-auto bg-sidebar-border",t),...e}));$H.displayName="SidebarSeparator";const K_=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"content",className:de("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));K_.displayName="SidebarContent";const Q_=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"group",className:de("relative flex w-full min-w-0 flex-col p-2",t),...e}));Q_.displayName="SidebarGroup";const Y_=p.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?Sc:"div";return o.jsx(s,{ref:r,"data-sidebar":"group-label",className:de("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});Y_.displayName="SidebarGroupLabel";const BH=p.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?Sc:"button";return o.jsx(s,{ref:r,"data-sidebar":"group-action",className:de("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});BH.displayName="SidebarGroupAction";const X_=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"group-content",className:de("w-full text-sm",t),...e}));X_.displayName="SidebarGroupContent";const Z_=p.forwardRef(({className:t,...e},n)=>o.jsx("ul",{ref:n,"data-sidebar":"menu",className:de("flex w-full min-w-0 flex-col gap-1",t),...e}));Z_.displayName="SidebarMenu";const J_=p.forwardRef(({className:t,...e},n)=>o.jsx("li",{ref:n,"data-sidebar":"menu-item",className:de("group/menu-item relative",t),...e}));J_.displayName="SidebarMenuItem";const zH=qo("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),e0=p.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:s,className:i,...a},l)=>{const c=t?Sc:"button",{isMobile:u,state:h}=eg(),f=o.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:de(zH({variant:n,size:r}),i),...a});return s?(typeof s=="string"&&(s={children:s}),o.jsxs(c5,{children:[o.jsx(u5,{asChild:!0,children:f}),o.jsx(fk,{side:"right",align:"center",hidden:h!=="collapsed"||u,...s})]})):f});e0.displayName="SidebarMenuButton";const WH=p.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},s)=>{const i=e?Sc:"button";return o.jsx(i,{ref:s,"data-sidebar":"menu-action",className:de("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});WH.displayName="SidebarMenuAction";const HH=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:de("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));HH.displayName="SidebarMenuBadge";const qH=p.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const s=p.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return o.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:de("flex h-8 items-center gap-2 rounded-md px-2",t),...n,children:[e&&o.jsx(jT,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),o.jsx(jT,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});qH.displayName="SidebarMenuSkeleton";const GH=p.forwardRef(({className:t,...e},n)=>o.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:de("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));GH.displayName="SidebarMenuSub";const KH=p.forwardRef(({...t},e)=>o.jsx("li",{ref:e,...t}));KH.displayName="SidebarMenuSubItem";const QH=p.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...s},i)=>{const a=t?Sc:"a";return o.jsx(a,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:de("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});QH.displayName="SidebarMenuSubButton";const qR=p.forwardRef(({className:t,activeClassName:e,pendingClassName:n,to:r,...s},i)=>o.jsx(R3,{ref:i,to:r,className:({isActive:a,isPending:l})=>de(t,a&&e,l&&n),...s}));qR.displayName="NavLink";const YH=[{title:"Overview",url:"/admin",icon:J4},{title:"Registrations",url:"/admin/registrations",icon:Q4},{title:"Participants",url:"/admin/participants",icon:xi},{title:"Tournaments",url:"/admin/tournaments",icon:rn},{title:"Games",url:"/admin/games",icon:vw},{title:"Teams",url:"/admin/teams",icon:aL},{title:"Schedule",url:"/admin/schedule",icon:q4},{title:"Matches",url:"/admin/matches",icon:vi},{title:"Leaderboard",url:"/admin/leaderboard",icon:G4},{title:"Users",url:"/admin/users",icon:oL}];function XH(){const t=Hs();return o.jsx(q_,{collapsible:"icon",children:o.jsx(K_,{children:o.jsxs(Q_,{children:[o.jsx(Y_,{children:"Admin Panel"}),o.jsx(X_,{children:o.jsx(Z_,{children:YH.map(e=>o.jsx(J_,{children:o.jsx(e0,{asChild:!0,isActive:t.pathname===e.url,tooltip:e.title,children:o.jsxs(qR,{to:e.url,className:"hover:bg-muted/50",activeClassName:"bg-muted text-primary font-medium",children:[o.jsx(e.icon,{className:"h-4 w-4"}),o.jsx("span",{children:e.title})]})})},e.title))})})]})})})}function ZH(){const{signOut:t,user:e}=gr();return o.jsxs("header",{className:"sticky top-0 z-50 h-16 border-b bg-card flex items-center justify-between px-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(G_,{}),o.jsxs(yt,{to:"/admin",className:"flex items-center gap-2",children:[o.jsx(rn,{className:"h-6 w-6 text-primary"}),o.jsx("span",{className:"text-lg font-bold",children:"Admin Dashboard"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.displayName}),o.jsxs(_e,{variant:"outline",size:"sm",onClick:t,children:[o.jsx(Xf,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}const JH=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState(""),[a,l]=p.useState(!0),[c,u]=p.useState(!1),[h,f]=p.useState(null),[m,g]=p.useState({name:"",game_type:"SINGLE",players_per_team:1,is_active:!0,tournament_id:""}),{toast:E}=pr();p.useEffect(()=>{w()},[]),p.useEffect(()=>{s?x():e([])},[s]);const w=async()=>{try{const R=await Cr();r(R),R.length>0&&!s&&i(R[0].id)}catch(R){E({title:"Error",description:R.message,variant:"destructive"})}},x=async()=>{if(s)try{l(!0);const R=await mr(s);e(R)}catch(R){E({title:"Error",description:R.message,variant:"destructive"})}finally{l(!1)}},b=async R=>{if(R.preventDefault(),!m.tournament_id){E({title:"Error",description:"Please select a tournament",variant:"destructive"});return}try{h?(await Di(wt(qe,"games",h),{...m,updated_at:Ye()}),E({title:"Game updated successfully"})):(await Qa(fr(qe,"games"),{...m,created_at:Ye(),updated_at:Ye()}),E({title:"Game created successfully"})),u(!1),T(),x()}catch(N){E({title:"Error",description:N.message,variant:"destructive"})}},y=R=>{f(R.id),g({name:R.name,game_type:R.game_type,players_per_team:R.players_per_team,is_active:R.is_active,tournament_id:R.tournament_id||s}),u(!0)},v=async R=>{if(confirm("Are you sure you want to delete this game?"))try{await R_(wt(qe,"games",R)),E({title:"Game deleted successfully"}),x()}catch(N){E({title:"Error",description:N.message,variant:"destructive"})}},T=()=>{g({name:"",game_type:"SINGLE",players_per_team:1,is_active:!0,tournament_id:s}),f(null)},I=R=>{const N=n.find(C=>C.id===R);return(N==null?void 0:N.name)||"Unknown Tournament"};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Games"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Configure sports and game settings"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"w-full md:w-64",children:[o.jsx(ze,{htmlFor:"tournament-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Tournament"}),o.jsxs(Ct,{value:s,onValueChange:i,children:[o.jsx(_t,{id:"tournament-select",children:o.jsx(It,{placeholder:"Select tournament"})}),o.jsx(bt,{children:n.map(R=>o.jsx(We,{value:R.id,children:R.name},R.id))})]})]}),o.jsxs(hi,{open:c,onOpenChange:R=>{u(R),R&&!h&&g(N=>({...N,tournament_id:s})),R||T()},children:[o.jsx(F_,{asChild:!0,children:o.jsxs(_e,{disabled:!s,children:[o.jsx(ld,{className:"h-4 w-4 mr-2"}),"Add Game"]})}),o.jsxs(Ls,{children:[o.jsx(Vs,{children:o.jsxs(Fs,{children:[h?"Edit":"Create"," Game"]})}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"tournament_id",children:"Tournament"}),o.jsxs(Ct,{value:m.tournament_id,onValueChange:R=>g({...m,tournament_id:R}),disabled:!!h,children:[o.jsx(_t,{id:"tournament_id",children:o.jsx(It,{placeholder:"Select tournament"})}),o.jsx(bt,{children:n.map(R=>o.jsx(We,{value:R.id,children:R.name},R.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"name",children:"Game Name"}),o.jsx(ft,{id:"name",value:m.name,onChange:R=>g({...m,name:R.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"game_type",children:"Game Type"}),o.jsxs(Ct,{value:m.game_type,onValueChange:R=>g({...m,game_type:R}),children:[o.jsx(_t,{children:o.jsx(It,{})}),o.jsxs(bt,{children:[o.jsx(We,{value:"SINGLE",children:"Single (1v1)"}),o.jsx(We,{value:"PAIR",children:"Pair (2v2)"}),o.jsx(We,{value:"TEAM",children:"Team"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"players_per_team",children:"Players Per Team"}),o.jsx(ft,{id:"players_per_team",type:"number",min:"1",value:m.players_per_team,onChange:R=>g({...m,players_per_team:parseInt(R.target.value)}),required:!0})]}),o.jsxs(_e,{type:"submit",className:"w-full",children:[h?"Update":"Create"," Game"]})]})]})]})]})]}),s?a?o.jsx(Ee,{children:o.jsx(Te,{className:"py-8 text-center text-muted-foreground",children:"Loading games..."})}):t.length===0?o.jsx(Ee,{children:o.jsx(Te,{className:"py-8 text-center text-muted-foreground",children:'No games found for this tournament. Click "Add Game" to create one.'})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(R=>o.jsxs(Ee,{children:[o.jsx(Ke,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Qe,{children:R.name}),R.tournament_id&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:I(R.tournament_id)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(_e,{variant:"outline",size:"sm",onClick:()=>y(R),children:o.jsx(xw,{className:"h-4 w-4"})}),o.jsx(_e,{variant:"outline",size:"sm",onClick:()=>v(R.id),children:o.jsx(_w,{className:"h-4 w-4"})})]})]})}),o.jsxs(Te,{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Type:"}),o.jsx("span",{className:"font-medium",children:R.game_type})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Players:"}),o.jsx("span",{className:"font-medium",children:R.players_per_team})]}),o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${R.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:R.is_active?"Active":"Inactive"})]})]},R.id))}):o.jsx(Ee,{children:o.jsx(Te,{className:"py-8 text-center text-muted-foreground",children:"Please select a tournament to view or create games."})})]})};var tg="Checkbox",[eq,vQ]=ki(tg),[tq,t0]=eq(tg);function nq(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:a,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:f}=t,[m,g]=Ia({prop:n,defaultProp:s??!1,onChange:c,caller:tg}),[E,w]=p.useState(null),[x,b]=p.useState(null),y=p.useRef(!1),v=E?!!a||!!E.closest("form"):!0,T={checked:m,disabled:i,setChecked:g,control:E,setControl:w,name:l,form:a,value:h,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Ta(s)?!1:s,isFormControl:v,bubbleInput:x,setBubbleInput:b};return o.jsx(tq,{scope:e,...T,children:rq(f)?f(T):r})}var GR="CheckboxTrigger",KR=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:a,disabled:l,checked:c,required:u,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:E}=t0(GR,t),w=Et(s,h),x=p.useRef(c);return p.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const y=()=>f(x.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[i,f]),o.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":Ta(c)?"mixed":c,"aria-required":u,"data-state":JR(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:w,onKeyDown:Se(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Se(n,b=>{f(y=>Ta(y)?!0:!y),E&&g&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});KR.displayName=GR;var n0=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c,onCheckedChange:u,form:h,...f}=t;return o.jsx(nq,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:a,onCheckedChange:u,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:m})=>o.jsxs(o.Fragment,{children:[o.jsx(KR,{...f,ref:e,__scopeCheckbox:n}),m&&o.jsx(ZR,{__scopeCheckbox:n})]})})});n0.displayName=tg;var QR="CheckboxIndicator",YR=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=t0(QR,n);return o.jsx(za,{present:r||Ta(i.checked)||i.checked===!0,children:o.jsx(Ve.span,{"data-state":JR(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});YR.displayName=QR;var XR="CheckboxBubbleInput",ZR=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:l,disabled:c,name:u,value:h,form:f,bubbleInput:m,setBubbleInput:g}=t0(XR,t),E=Et(n,g),w=Xj(i),x=WI(r);p.useEffect(()=>{const y=m;if(!y)return;const v=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(v,"checked").set,R=!s.current;if(w!==i&&I){const N=new Event("click",{bubbles:R});y.indeterminate=Ta(i),I.call(y,Ta(i)?!1:i),y.dispatchEvent(N)}},[m,w,i,s]);const b=p.useRef(Ta(i)?!1:i);return o.jsx(Ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??b.current,required:l,disabled:c,name:u,value:h,form:f,...e,tabIndex:-1,ref:E,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ZR.displayName=XR;function rq(t){return typeof t=="function"}function Ta(t){return t==="indeterminate"}function JR(t){return Ta(t)?"indeterminate":t?"checked":"unchecked"}const ux=p.forwardRef(({className:t,...e},n)=>o.jsx(n0,{ref:n,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(YR,{className:de("flex items-center justify-center text-current"),children:o.jsx(mI,{className:"h-4 w-4"})})}));ux.displayName=n0.displayName;const e2=fr(qe,"teams"),Jo=async t=>{const e=[];t.tournamentId&&e.push(gn("tournament_id","==",t.tournamentId)),t.gameId&&e.push(gn("game_id","==",t.gameId)),t.userId&&e.push(gn("player_ids","array-contains",t.userId));const n=Zn(e2,...e);return(await Jn(n)).docs.map(i=>({id:i.id,...i.data()})).sort((i,a)=>{const l=new Date(i.created_at||0).getTime();return new Date(a.created_at||0).getTime()-l})},RT=async t=>(await Qa(e2,{...t,created_at:Ye(),updated_at:Ye()})).id,sq=async(t,e)=>{await Di(wt(qe,"teams",t),{...e,updated_at:Ye()})},iq=async(t,e)=>{await Di(wt(qe,"teams",t),{player_ids:Q8(e),updated_at:Ye()})},aq=async t=>{await R_(wt(qe,"teams",t))},t2=fr(qe,"registrations"),fi=async t=>{const e=[];t.tournamentId&&e.push(gn("tournament_id","==",t.tournamentId)),t.gameId&&e.push(gn("game_id","==",t.gameId)),t.status&&e.push(gn("status","==",t.status)),t.userId&&e.push(gn("user_id","==",t.userId));const n=Zn(t2,...e,Ka("created_at","desc"));return(await Jn(n)).docs.map(s=>({id:s.id,...s.data()}))},oq=async t=>{await Qa(t2,{...t,status:"pending",created_at:Ye(),updated_at:Ye()})},lq=async(t,e)=>{await Di(wt(qe,"registrations",t),{status:e,updated_at:Ye()})},n2=fr(qe,"notifications"),r2=async t=>{const e=Zn(n2,gn("user_id","==",t),Ka("created_at","desc"));return(await Jn(e)).docs.map(r=>({id:r.id,...r.data()}))},Td=async t=>{await Qa(n2,{...t,is_read:!1,created_at:Ye(),updated_at:Ye()})},DT=async t=>{await Di(wt(qe,"notifications",t),{is_read:!0,updated_at:Ye()})},cq=()=>{var L,U;const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState(""),[m,g]=p.useState(""),[E,w]=p.useState(!0),[x,b]=p.useState(!1),[y,v]=p.useState(!1),[T,I]=p.useState(!1),[R,N]=p.useState(null),[C,P]=p.useState(null),[k,D]=p.useState({name:"",is_pair:!1,status:"pending",tournament_id:"",game_id:""}),[A,j]=p.useState([]),[F,J]=p.useState([]),[H,te]=p.useState(""),{toast:$}=pr(),B=s.find(M=>M.id===m),ee=(B==null?void 0:B.game_type)==="TEAM",le=(B==null?void 0:B.game_type)==="PAIR",ie=(B==null?void 0:B.game_type)==="SINGLE";p.useEffect(()=>{he(),it()},[]),p.useEffect(()=>{h?we():(i([]),g(""))},[h]),p.useEffect(()=>{h&&m?(Ne(),re()):(e([]),u([]))},[h,m]);const he=async()=>{try{const M=await Cr();r(M),M.length>0&&!h&&f(M[0].id)}catch(M){$({title:"Error",description:M.message,variant:"destructive"})}},we=async()=>{if(h)try{const M=await mr(h);i(M),M.length>0&&!m&&g(M[0].id)}catch(M){$({title:"Error",description:M.message,variant:"destructive"})}},Ne=async()=>{if(!(!h||!m))try{w(!0);const M=await Jo({tournamentId:h,gameId:m});e(M)}catch(M){$({title:"Error",description:M.message,variant:"destructive"})}finally{w(!1)}},it=async()=>{try{const M=await gs();l(M)}catch(M){$({title:"Error",description:M.message,variant:"destructive"})}},re=async()=>{if(!(!h||!m))try{const M=await fi({tournamentId:h,gameId:m});u(M)}catch(M){$({title:"Error fetching registrations",description:M.message,variant:"destructive"})}},Be=async M=>{if(M.preventDefault(),!k.tournament_id||!k.game_id){$({title:"Error",description:"Please select a tournament and game",variant:"destructive"});return}if(!le&&!k.name.trim()){$({title:"Error",description:"Team name is required",variant:"destructive"});return}try{R?(await sq(R,{name:k.name,is_pair:k.is_pair,status:k.status}),$({title:`${le?"Pair":"Team"} updated successfully`})):(await RT({...k,name:le?`Pair ${Date.now()}`:k.name,player_ids:[]}),$({title:`${le?"Pair":"Team"} created successfully`})),b(!1),pe(),Ne()}catch(K){$({title:"Error",description:K.message,variant:"destructive"})}},rt=M=>{N(M.id),D({name:M.name,is_pair:M.is_pair,status:M.status,tournament_id:M.tournament_id,game_id:M.game_id}),b(!0)},je=async M=>{if(confirm("Are you sure you want to delete this team?"))try{await aq(M),$({title:"Team deleted successfully"}),Ne()}catch(K){$({title:"Error",description:K.message,variant:"destructive"})}},Pe=M=>{P(M),j(M.player_ids),v(!0)},Ae=async()=>{if(F.length===2)try{const M=a.find(q=>q.id===F[0]),K=a.find(q=>q.id===F[1]),V=M&&K?`${M.name} & ${K.name}`:`Pair ${Date.now()}`,W=await RT({tournament_id:h,game_id:m,name:V,is_pair:!0,player_ids:F,status:"confirmed"});await LR({tournament_id:h,game_id:m,type:"TEAM",team_id:W}),$({title:"Pair created successfully"});for(const q of F)await Td({user_id:q,title:"Team Assignment",message:`You have been added to a pair for ${Je(m)} in ${ve(h)}.`,type:"team_assignment"});I(!1),J([]),Ne()}catch(M){$({title:"Error",description:M.message,variant:"destructive"})}},xt=async()=>{if(C)try{const M=C.player_ids.filter(V=>!A.includes(V));for(const V of M)await Di(wt(qe,"teams",C.id),{player_ids:Y8(V),updated_at:Ye()});const K=A.filter(V=>!C.player_ids.includes(V));for(const V of K)await iq(C.id,V);$({title:"Team players updated successfully"});for(const V of K)await Td({user_id:V,title:"Team Assignment",message:`You have been added to team ${C.name} for ${Je(m)} in ${ve(h)}.`,type:"team_assignment"});v(!1),P(null),Ne()}catch(M){$({title:"Error",description:M.message,variant:"destructive"})}},pe=()=>{D({name:"",is_pair:!1,status:"pending",tournament_id:h,game_id:m}),N(null)},ve=M=>{const K=n.find(V=>V.id===M);return(K==null?void 0:K.name)||"Unknown Tournament"},Je=M=>{const K=s.find(V=>V.id===M);return(K==null?void 0:K.name)||"Unknown Game"},ct=M=>{const K=a.find(V=>V.id===M);return(K==null?void 0:K.name)||"Unknown User"},kt=M=>c.some(K=>K.user_id===M),Fe=M=>t.find(V=>V.player_ids.includes(M)&&(C?V.id!==C.id:!0));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Teams"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Create and manage teams for tournaments"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"w-full md:w-64",children:[o.jsx(ze,{htmlFor:"tournament-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Tournament"}),o.jsxs(Ct,{value:h,onValueChange:f,children:[o.jsx(_t,{id:"tournament-select",children:o.jsx(It,{placeholder:"Select tournament"})}),o.jsx(bt,{children:n.map(M=>o.jsx(We,{value:M.id,children:M.name},M.id))})]})]}),o.jsxs("div",{className:"w-full md:w-64",children:[o.jsx(ze,{htmlFor:"game-select",className:"text-xs uppercase text-muted-foreground font-medium mb-1 block",children:"Game"}),o.jsxs(Ct,{value:m,onValueChange:g,disabled:!h,children:[o.jsx(_t,{id:"game-select",children:o.jsx(It,{placeholder:"Select game"})}),o.jsx(bt,{children:s.map(M=>o.jsx(We,{value:M.id,children:M.name},M.id))})]})]}),o.jsxs(hi,{open:x,onOpenChange:M=>{b(M),M&&!R&&D(K=>({...K,tournament_id:h,game_id:m,is_pair:!1})),M||pe()},children:[ee&&o.jsx(F_,{asChild:!0,children:o.jsxs(_e,{disabled:!h||!m,children:[o.jsx(ld,{className:"h-4 w-4 mr-2"}),"Add Team"]})}),o.jsxs(Ls,{children:[o.jsx(Vs,{children:o.jsxs(Fs,{children:[R?"Edit":"Create"," Team"]})}),o.jsxs("form",{onSubmit:Be,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"tournament_id",children:"Tournament"}),o.jsxs(Ct,{value:k.tournament_id,onValueChange:M=>D({...k,tournament_id:M}),disabled:!!R,children:[o.jsx(_t,{id:"tournament_id",children:o.jsx(It,{placeholder:"Select tournament"})}),o.jsx(bt,{children:n.map(M=>o.jsx(We,{value:M.id,children:M.name},M.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"game_id",children:"Game"}),o.jsxs(Ct,{value:k.game_id,onValueChange:M=>D({...k,game_id:M}),disabled:!!R,children:[o.jsx(_t,{id:"game_id",children:o.jsx(It,{placeholder:"Select game"})}),o.jsx(bt,{children:s.map(M=>o.jsx(We,{value:M.id,children:M.name},M.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"name",children:"Team Name"}),o.jsx(ft,{id:"name",value:k.name,onChange:M=>D({...k,name:M.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"status",children:"Status"}),o.jsxs(Ct,{value:k.status,onValueChange:M=>D({...k,status:M}),children:[o.jsx(_t,{children:o.jsx(It,{})}),o.jsxs(bt,{children:[o.jsx(We,{value:"pending",children:"Pending"}),o.jsxs(We,{value:"confirmed",disabled:R?(((L=t.find(M=>M.id===R))==null?void 0:L.player_ids.length)||0)<((B==null?void 0:B.players_per_team)||1):!0,children:["Confirmed ",R&&(((U=t.find(M=>M.id===R))==null?void 0:U.player_ids.length)||0)<((B==null?void 0:B.players_per_team)||1)?"(Add players first)":""]})]})]})]}),o.jsxs(_e,{type:"submit",className:"w-full",children:[R?"Update":"Create"," Team"]})]})]})]}),le&&o.jsxs(_e,{disabled:!h||!m,onClick:()=>I(!0),children:[o.jsx(ld,{className:"h-4 w-4 mr-2"}),"Add Pair"]})]})]}),!h||!m?o.jsx(Ee,{children:o.jsx(Te,{className:"py-8 text-center text-muted-foreground",children:"Please select a tournament and game to view or create teams."})}):ie?o.jsx(Ee,{children:o.jsx(Te,{className:"py-8 text-center text-muted-foreground",children:"Single player games don't require team management. Players are managed through registrations."})}):E?o.jsx(Ee,{children:o.jsxs(Te,{className:"py-8 text-center text-muted-foreground",children:["Loading ",le?"pairs":"teams","..."]})}):t.length===0?o.jsx(Ee,{children:o.jsxs(Te,{className:"py-8 text-center text-muted-foreground",children:["No ",le?"pairs":"teams",' found for this tournament and game. Click "Add ',le?"Pair":"Team",'" to create one.']})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(M=>o.jsxs(Ee,{children:[o.jsx(Ke,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Qe,{children:M.is_pair?M.player_ids.length===2?`${ct(M.player_ids[0])} & ${ct(M.player_ids[1])}`:`Pair ${M.id.slice(-4)}`:M.name}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[ve(M.tournament_id)," - ",Je(M.game_id)]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(_e,{variant:"outline",size:"sm",onClick:()=>Pe(M),children:o.jsx(xi,{className:"h-4 w-4"})}),!M.is_pair&&o.jsx(_e,{variant:"outline",size:"sm",onClick:()=>rt(M),children:o.jsx(xw,{className:"h-4 w-4"})}),o.jsx(_e,{variant:"outline",size:"sm",onClick:()=>je(M.id),children:o.jsx(_w,{className:"h-4 w-4"})})]})]})}),o.jsxs(Te,{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Type:"}),o.jsx("span",{className:"font-medium",children:M.is_pair?"Pair":"Team"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Players:"}),o.jsx("span",{className:"font-medium",children:M.player_ids.length})]}),o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${M.status==="confirmed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:M.status})]})]},M.id))}),o.jsx(hi,{open:T,onOpenChange:M=>{I(M),M||(J([]),te(""))},children:o.jsxs(Ls,{className:"max-w-2xl",children:[o.jsx(Vs,{children:o.jsx(Fs,{children:"Create Pair"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Select exactly 2 players for this pair",F.length>0&&o.jsxs("span",{className:"font-medium",children:[" (",F.length," selected)"]})]}),o.jsx("div",{className:"space-y-2",children:o.jsx(ft,{placeholder:"Search users by name or email...",value:H,onChange:M=>te(M.target.value),className:"w-full"})}),o.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.filter(M=>(M.name.toLowerCase().includes(H.toLowerCase())||M.email.toLowerCase().includes(H.toLowerCase()))&&kt(M.id)).map(M=>{const K=Fe(M.id),V=!!K&&!F.includes(M.id)||!F.includes(M.id)&&F.length>=2;return o.jsxs("div",{className:"flex items-center space-x-2 p-2 border-b",children:[o.jsx(ux,{id:`pair-user-${M.id}`,checked:F.includes(M.id),disabled:V,onCheckedChange:W=>{J(W?q=>[...q,M.id]:q=>q.filter(oe=>oe!==M.id))}}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(ze,{htmlFor:`pair-user-${M.id}`,className:V&&K?"text-muted-foreground":"",children:[M.name," (",M.email,")"]}),K&&o.jsxs("p",{className:"text-xs text-red-500",children:["Already in ",K.is_pair?"a pair":K.name]})]})]},M.id)})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(_e,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),o.jsx(_e,{onClick:Ae,disabled:F.length!==2,children:"Create Pair"})]})]})]})}),o.jsx(hi,{open:y,onOpenChange:M=>{v(M),M||te("")},children:o.jsxs(Ls,{className:"max-w-2xl",children:[o.jsx(Vs,{children:o.jsxs(Fs,{children:["Manage Players - ",C!=null&&C.is_pair?C.player_ids.length===2?`${ct(C.player_ids[0])} & ${ct(C.player_ids[1])}`:`Pair ${C.id.slice(-4)}`:C==null?void 0:C.name]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[C!=null&&C.is_pair?"Select exactly 2 players for this pair":`Select up to ${(B==null?void 0:B.players_per_team)||1} players for this team`,A.length>0&&o.jsxs("span",{className:"font-medium",children:[" (",A.length," selected)"]})]}),o.jsx("div",{className:"space-y-2",children:o.jsx(ft,{placeholder:"Search users by name or email...",value:H,onChange:M=>te(M.target.value),className:"w-full"})}),o.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.filter(M=>(M.name.toLowerCase().includes(H.toLowerCase())||M.email.toLowerCase().includes(H.toLowerCase()))&&kt(M.id)).map(M=>{const K=Fe(M.id),V=C!=null&&C.is_pair?2:(B==null?void 0:B.players_per_team)||1,W=!!K&&!A.includes(M.id)||!A.includes(M.id)&&A.length>=V;return o.jsxs("div",{className:"flex items-center space-x-2 p-2 border-b",children:[o.jsx(ux,{id:`user-${M.id}`,checked:A.includes(M.id),disabled:W,onCheckedChange:q=>{j(q?oe=>[...oe,M.id]:oe=>oe.filter(Ce=>Ce!==M.id))}}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(ze,{htmlFor:`user-${M.id}`,className:W&&K?"text-muted-foreground":"",children:[M.name," (",M.email,")"]}),K&&o.jsxs("p",{className:"text-xs text-red-500",children:["Already in ",K.is_pair?"a pair":K.name]})]})]},M.id)})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(_e,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),o.jsx(_e,{onClick:xt,children:"Update Players"})]})]})]})})]})},uq=(t,e)=>{const n=e-t;return n===0?"Final":n===1?"Semi Final":n===2?"Quarter Final":`Round ${t+1}`},dq=t=>Math.pow(2,Math.ceil(Math.log2(Math.max(1,t)))),hq=(t,e=[])=>{var h,f,m;const n=[...t].sort((g,E)=>{if(g.seed&&E.seed)return g.seed-E.seed;if(g.seed)return-1;if(E.seed)return 1;const w=y=>y?typeof y=="string"?new Date(y).getTime():y.toDate?y.toDate().getTime():y instanceof Date?y.getTime():0:0,x=w(g.created_at),b=w(E.created_at);return x-b}),r=n.length,s=dq(r),i=Math.log2(s),a=[],l=new Array(s).fill(null);n.forEach((g,E)=>{l[E]=g});let c=s/2,u=[];for(let g=0;g<i;g++){const E=[];for(let w=0;w<c;w++){const x=((h=e.shift())==null?void 0:h.id)||crypto.randomUUID(),b=w*2,y={id:x,round_index:g,round_name:uq(g,i-1),match_order:w,participant_a_id:g===0?(f=l[b])==null?void 0:f.id:void 0,participant_b_id:g===0?(m=l[b+1])==null?void 0:m.id:void 0};if(u.length){const v=u[w*2],T=u[w*2+1],I=a.find(N=>N.id===v);I&&(I.next_match_id=x,I.winner_slot_in_next="A");const R=a.find(N=>N.id===T);R&&(R.next_match_id=x,R.winner_slot_in_next="B")}a.push(y),E.push(x)}u=E,c=c/2}return a},fq=async(t,e,n)=>{const r=X8(qe);n.forEach(s=>{const i=wt(qe,"matches",s.id);r.set(i,{tournament_id:t,game_id:e,...s,participant_a_id:s.participant_a_id??null,participant_b_id:s.participant_b_id??null,next_match_id:s.next_match_id??null,winner_slot_in_next:s.winner_slot_in_next??null,status:"SCHEDULED",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{merge:!0})}),await r.commit()},mq=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState(""),[E,w]=p.useState(""),[x,b]=p.useState(!1),{toast:y}=pr();p.useEffect(()=>{Cr().then(e),gs().then(u)},[]),p.useEffect(()=>{w("")},[m]),p.useEffect(()=>{(async()=>{if(!m){r([]),i([]),l([]),f([]);return}b(!0);try{const[D,A,j,F]=await Promise.all([mr(m),eh({tournamentId:m,gameId:E||void 0}),So({tournamentId:m,gameId:E||void 0}),Jo({tournamentId:m,gameId:E||void 0})]);r(D),i(A),l(j),f(F)}catch(D){y({title:"Error loading data",description:D.message,variant:"destructive"}),r([]),i([]),l([]),f([])}finally{b(!1)}})()},[m,E]);const v=p.useMemo(()=>s.reduce((k,D)=>(k[D.id]=D,k),{}),[s]),T=p.useMemo(()=>c.reduce((k,D)=>(k[D.id]=D,k),{}),[c]),I=p.useMemo(()=>h.reduce((k,D)=>(k[D.id]=D,k),{}),[h]),R=k=>{var D,A;return k?k.type==="USER"&&k.user_id?((D=T[k.user_id])==null?void 0:D.name)||"Unknown User":k.type==="TEAM"&&k.team_id?((A=I[k.team_id])==null?void 0:A.name)||"Unknown Team":"Unknown Participant":"TBD"},N=p.useMemo(()=>a.reduce((k,D)=>(k[D.round_index]||(k[D.round_index]=[]),k[D.round_index].push(D),k),{}),[a]),C=async()=>{if(!m||!E){y({title:"Select tournament and game",description:"Both tournament and game are required to generate bracket.",variant:"destructive"});return}if(s.length<2){y({title:"Not enough participants",description:"At least two participants are required to create a bracket.",variant:"destructive"});return}try{b(!0);const k=hq(s);await fq(m,E,k);const D=await So({tournamentId:m,gameId:E});l(D),y({title:"Bracket generated",description:"Matches created successfully."})}catch(k){y({title:"Generation failed",description:k.message,variant:"destructive"})}finally{b(!1)}},P=async(k,D)=>{try{await hH(k.id,{tournament_id:k.tournament_id,game_id:k.game_id,winner_participant_id:D,score_details:"",points_awarded:{[D]:3},submitted_by:"admin"}),k.next_match_id&&k.winner_slot_in_next&&await Sf(k.next_match_id,k.winner_slot_in_next==="A"?{participant_a_id:D}:{participant_b_id:D});const A=await So({tournamentId:m,gameId:E||void 0});l(A),y({title:"Result recorded"})}catch(A){y({title:"Failed to record result",description:A.message,variant:"destructive"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),o.jsxs(Ct,{value:m,onValueChange:g,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:"Select tournament"})}),o.jsx(bt,{children:t.map(k=>o.jsx(We,{value:k.id,children:k.name},k.id))})]})]}),o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-sm font-medium",children:"Game"}),o.jsxs(Ct,{value:E,onValueChange:w,disabled:!m,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:"Select game"})}),o.jsx(bt,{children:n.map(k=>o.jsx(We,{value:k.id,children:k.name},k.id))})]})]}),o.jsxs(_e,{onClick:C,disabled:!E||x,children:[o.jsx(vI,{className:"h-4 w-4 mr-2"}),"Generate Bracket"]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Qe,{children:"Match Schedule"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Auto-generated bracket with manual override support."})]}),x&&o.jsx(zn,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),o.jsx(Te,{children:m?a.length===0?o.jsx("p",{className:"text-muted-foreground text-sm",children:"No matches yet. Generate a bracket or create matches manually."}):Object.entries(N).map(([k,D])=>o.jsxs("div",{className:"mb-6",children:[o.jsxs("p",{className:"text-sm font-semibold mb-3 uppercase text-muted-foreground",children:["Round ",Number(k)+1]}),o.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:D.map(A=>{const j=A.participant_a_id?v[A.participant_a_id]:void 0,F=A.participant_b_id?v[A.participant_b_id]:void 0;return o.jsx(Ee,{children:o.jsxs(Te,{className:"space-y-3 pt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-muted-foreground",children:"Match"}),o.jsx("p",{className:"font-semibold",children:A.round_name})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md ${A.status.toUpperCase()==="COMPLETED"?A.winner_participant_id===(j==null?void 0:j.id)?"bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800":"bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 opacity-70":""}`,children:[o.jsx("span",{className:"truncate max-w-[150px] font-medium",title:R(j),children:R(j)}),o.jsx(_e,{variant:A.winner_participant_id===(j==null?void 0:j.id)?"default":"outline",size:"sm",disabled:!j||A.status.toUpperCase()==="COMPLETED",onClick:()=>j&&P(A,j.id),className:A.winner_participant_id===(j==null?void 0:j.id)?"bg-green-600 hover:bg-green-700 h-7":"h-7",children:A.winner_participant_id===(j==null?void 0:j.id)?"Winner":"Win"})]}),o.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md ${A.status.toUpperCase()==="COMPLETED"?A.winner_participant_id===(F==null?void 0:F.id)?"bg-green-100 dark:bg-green-900/30 border border-green-200 dark:border-green-800":"bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 opacity-70":""}`,children:[o.jsx("span",{className:"truncate max-w-[150px] font-medium",title:R(F),children:R(F)}),o.jsx(_e,{variant:A.winner_participant_id===(F==null?void 0:F.id)?"default":"outline",size:"sm",disabled:!F||A.status.toUpperCase()==="COMPLETED",onClick:()=>F&&P(A,F.id),className:A.winner_participant_id===(F==null?void 0:F.id)?"bg-green-600 hover:bg-green-700 h-7":"h-7",children:A.winner_participant_id===(F==null?void 0:F.id)?"Winner":"Win"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(ft,{type:"datetime-local",disabled:A.status.toUpperCase()==="COMPLETED",value:(()=>{var H;if(!A.match_time)return"";let J;return(H=A.match_time)!=null&&H.toDate?J=A.match_time.toDate():A.match_time instanceof Date?J=A.match_time:J=new Date(A.match_time),isNaN(J.getTime())?"":new Date(J.getTime()-J.getTimezoneOffset()*6e4).toISOString().slice(0,16)})(),onChange:J=>Sf(A.id,{match_time:new Date(J.target.value).toISOString()})}),o.jsx(ft,{placeholder:"Venue",disabled:A.status.toUpperCase()==="COMPLETED",value:A.venue||"",onChange:J=>Sf(A.id,{venue:J.target.value})})]})]})},A.id)})})]},k)):o.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament and game to view matches."})})]})]})},pq=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState(!1),[a,l]=p.useState(null),[c,u]=p.useState({name:"",start_date:"",end_date:"",is_active:!0}),{toast:h}=pr(),f=b=>{if(!b)return"N/A";let y;if(typeof b=="object"&&b.toDate?y=b.toDate():typeof b=="object"&&b.seconds?y=new Date(b.seconds*1e3):y=new Date(b),isNaN(y.getTime()))return"N/A";const v=String(y.getDate()).padStart(2,"0"),T=String(y.getMonth()+1).padStart(2,"0"),I=y.getFullYear();return`${v}/${T}/${I}`};p.useEffect(()=>{m()},[]);const m=async()=>{try{const b=Zn(fr(qe,"tournaments"),Ka("created_at","desc")),v=(await Jn(b)).docs.map(T=>{const I=T.data();return{id:T.id,name:I.name??"",start_date:I.start_date||"",end_date:I.end_date||"",is_active:I.is_active??!0}});e(v)}catch(b){h({title:"Error",description:b.message,variant:"destructive"})}finally{r(!1)}},g=async b=>{b.preventDefault();try{a?(await Di(wt(qe,"tournaments",a),{...c,updated_at:Ye()}),h({title:"Tournament updated successfully"})):(await Qa(fr(qe,"tournaments"),{...c,created_at:Ye(),updated_at:Ye()}),h({title:"Tournament created successfully"})),i(!1),x(),m()}catch(y){h({title:"Error",description:y.message,variant:"destructive"})}},E=b=>{l(b.id),u({name:b.name,start_date:b.start_date||"",end_date:b.end_date||"",is_active:b.is_active}),i(!0)},w=async b=>{if(confirm("Are you sure you want to delete this tournament?"))try{await R_(wt(qe,"tournaments",b)),h({title:"Tournament deleted successfully"}),m()}catch(y){h({title:"Error",description:y.message,variant:"destructive"})}},x=()=>{u({name:"",start_date:"",end_date:"",is_active:!0}),l(null)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Tournaments"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage tournament configurations"})]}),o.jsxs(hi,{open:s,onOpenChange:b=>{i(b),b||x()},children:[o.jsx(F_,{asChild:!0,children:o.jsxs(_e,{children:[o.jsx(ld,{className:"h-4 w-4 mr-2"}),"Add Tournament"]})}),o.jsxs(Ls,{children:[o.jsx(Vs,{children:o.jsxs(Fs,{children:[a?"Edit":"Create"," Tournament"]})}),o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"name",children:"Tournament Name"}),o.jsx(ft,{id:"name",value:c.name,onChange:b=>u({...c,name:b.target.value}),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"start_date",children:"Start Date"}),o.jsx(ft,{id:"start_date",type:"date",value:c.start_date,onChange:b=>u({...c,start_date:b.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"end_date",children:"End Date"}),o.jsx(ft,{id:"end_date",type:"date",value:c.end_date,onChange:b=>u({...c,end_date:b.target.value})})]})]}),o.jsxs(_e,{type:"submit",className:"w-full",children:[a?"Update":"Create"," Tournament"]})]})]})]})]}),n?o.jsx("p",{children:"Loading..."}):o.jsx("div",{className:"grid gap-4",children:t.map(b=>o.jsxs(Ee,{children:[o.jsx(Ke,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Qe,{children:b.name}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:b.start_date&&b.end_date&&`${f(b.start_date)} - ${f(b.end_date)}`})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(_e,{variant:"outline",size:"sm",onClick:()=>E(b),children:o.jsx(xw,{className:"h-4 w-4"})}),o.jsx(_e,{variant:"outline",size:"sm",onClick:()=>w(b.id),children:o.jsx(_w,{className:"h-4 w-4"})})]})]})}),o.jsx(Te,{children:o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b.is_active?"Active":"Inactive"})})]},b.id))})]})},gq=()=>{const[t,e]=p.useState({activeTournamentsCount:0,activeTournamentName:"Loading...",totalGames:0,registeredPlayers:0,scheduledMatches:0}),[n,r]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const[i,a,l]=await Promise.all([Cr(),gs(),mr()]),c=i.filter(f=>f.is_active),u=c[0]||i[0];let h=0;u&&(h=(await So({tournamentId:u.id})).length),e({activeTournamentsCount:c.length,activeTournamentName:u?u.name:"No Tournaments",totalGames:l.length,registeredPlayers:a.length,scheduledMatches:h})}catch(i){console.error("Error fetching dashboard data:",i),e(a=>({...a,activeTournamentName:"Error loading data"}))}finally{r(!1)}})()},[]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Overview"}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Welcome to the Sports Week Admin Dashboard"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Active Tournaments"}),o.jsx(rn,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.activeTournamentsCount}),o.jsx("p",{className:"text-xs text-muted-foreground",children:t.activeTournamentName})]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Total Games"}),o.jsx(vw,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.totalGames}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all tournaments"})]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Registered Players"}),o.jsx(xi,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.registeredPlayers}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total registered users"})]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Scheduled Matches"}),o.jsx(vi,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n?"-":t.scheduledMatches}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"For current tournament"})]})]})]}),o.jsxs(Ee,{children:[o.jsx(Ke,{children:o.jsx(Qe,{children:"Quick Start Guide"})}),o.jsxs(Te,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"1"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Create a Tournament"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Set up Sports Week 2025 with start and end dates"})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"2"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Add Games"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure games like Chess, Cricket, Volleyball, etc."})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"3"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Create Teams"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Build teams and pairs for various games"})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold",children:"4"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Schedule Matches"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Create match fixtures with dates, times, and venues"})]})]})]})]})]})},yq=async(t,e)=>{await Td({user_id:t,title:"Game Registration Approved! ",message:`Your registration for "${e.gameName}" in ${e.tournamentName} has been approved. Good luck!`,type:"registration"})},vq=async(t,e)=>{await Td({user_id:t,title:"Game Registration Update",message:`Your registration for "${e.gameName}" in ${e.tournamentName} was not approved. Please contact the admin for more information.`,type:"registration"})},xq={pending:"secondary",approved:"default",rejected:"destructive"},wq=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState(!1),{toast:E}=pr();p.useEffect(()=>{(async()=>{const[T,I]=await Promise.all([Cr(),gs()]);i(T),f(I)})()},[]),p.useEffect(()=>{if(!t){l([]),u([]);return}(async()=>{g(!0);const[T,I]=await Promise.all([mr(t),fi({tournamentId:t,gameId:n||void 0})]);l(T),u(I),g(!1)})()},[t,n]);const w=p.useMemo(()=>s.find(v=>v.id===t),[s,t]),x=async(v,T)=>{await lq(v.id,T);const I=a.find(N=>N.id===v.game_id),R=(I==null?void 0:I.name)||"Unknown Game";T==="approved"?(await LR({tournament_id:v.tournament_id,game_id:v.game_id,type:"USER",user_id:v.user_id}),await yq(v.user_id,{tournamentName:(w==null?void 0:w.name)||"Tournament",gameName:R}),console.debug("Participant created/Approved notification sent")):T==="rejected"&&await vq(v.user_id,{tournamentName:(w==null?void 0:w.name)||"Tournament",gameName:R})},b=async(v,T)=>{try{await x(v,T),E({title:`Registration ${T}`,description:T==="approved"?"Player added to participants list.":"Player notified of rejection."});const I=await fi({tournamentId:v.tournament_id,gameId:n||void 0});u(I)}catch(I){E({title:"Action failed",description:I.message,variant:"destructive"})}},y=async()=>{const v=c.filter(T=>T.status==="pending");if(v.length===0){E({title:"No pending registrations",description:"There are no pending requests to approve."});return}g(!0);try{await Promise.all(v.map(I=>x(I,"approved"))),E({title:"Batch Approval Successful",description:`Approved ${v.length} registrations.`});const T=await fi({tournamentId:t,gameId:n||void 0});u(T)}catch(T){E({title:"Batch Action failed",description:T.message,variant:"destructive"})}finally{g(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),o.jsxs(Ct,{value:t,onValueChange:e,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:"Select tournament"})}),o.jsx(bt,{children:s.map(v=>o.jsx(We,{value:v.id,children:v.name},v.id))})]})]}),o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-sm font-medium",children:"Game"}),o.jsxs(Ct,{value:n,onValueChange:r,disabled:!t,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:"All games"})}),o.jsxs(bt,{children:[o.jsx(We,{value:"all",children:"All games"}),a.map(v=>o.jsx(We,{value:v.id,children:v.name},v.id))]})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(_e,{onClick:y,disabled:m||!t||c.filter(v=>v.status==="pending").length===0,children:[m?o.jsx(zn,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Approve All showing requests"]})}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Qe,{children:"Registrations"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Approve or reject player registrations for the selected tournament."})]}),m&&o.jsx(zn,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),o.jsx(Te,{children:t?c.length===0?o.jsx("p",{className:"text-muted-foreground text-sm",children:"No registrations found."}):o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsx("div",{className:"max-h-[600px] overflow-y-auto overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"sticky top-0 bg-background z-10",children:o.jsxs("tr",{className:"border-b bg-muted/50",children:[o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"User"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Email"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Game"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Status"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Actions"})]})}),o.jsx("tbody",{children:c.map(v=>{const T=h.find(R=>R.id===v.user_id),I=a.find(R=>R.id===v.game_id);return o.jsxs("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[o.jsx("td",{className:"py-3 px-4",children:o.jsx("p",{className:"font-medium",children:(T==null?void 0:T.name)??v.user_id})}),o.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:(T==null?void 0:T.email)??""}),o.jsx("td",{className:"py-3 px-4 text-sm",children:(I==null?void 0:I.name)??"Unknown"}),o.jsx("td",{className:"py-3 px-4",children:o.jsx(Zt,{variant:xq[v.status],children:v.status})}),o.jsx("td",{className:"py-3 px-4",children:o.jsx("div",{className:"flex items-center gap-2",children:v.status==="pending"&&o.jsxs(o.Fragment,{children:[o.jsx(_e,{variant:"outline",size:"sm",onClick:()=>b(v,"approved"),children:"Approve"}),o.jsx(_e,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>b(v,"rejected"),children:"Reject"})]})})})]},v.id)})})]})})}):o.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view registrations."})})]})]})},_q={pending:"secondary",approved:"default",rejected:"destructive"},bq=()=>{const[t,e]=p.useState(""),[n,r]=p.useState("all"),[s,i]=p.useState("all"),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState([]),[E,w]=p.useState(!1);pr();const x=T=>{if(!T)return"N/A";let I;if(typeof T=="object"&&T.toDate?I=T.toDate():typeof T=="object"&&T.seconds?I=new Date(T.seconds*1e3):I=new Date(T),isNaN(I.getTime()))return"N/A";const R=String(I.getDate()).padStart(2,"0"),N=String(I.getMonth()+1).padStart(2,"0"),C=I.getFullYear();return`${R}/${N}/${C}`};p.useEffect(()=>{(async()=>{const[I,R]=await Promise.all([Cr(),gs()]);l(I),g(R)})()},[]),p.useEffect(()=>{if(!t){u([]),f([]);return}(async()=>{w(!0);const[I,R]=await Promise.all([mr(t),fi({tournamentId:t,gameId:n&&n!=="all"?n:void 0,status:s!=="all"?s:void 0})]);u(I),f(R),w(!1)})()},[t,n,s]);const b=p.useMemo(()=>h,[h]),y=T=>{const I=m.find(R=>R.id===T);return{name:(I==null?void 0:I.name)??T,email:(I==null?void 0:I.email)??""}},v=T=>{var I;return((I=c.find(R=>R.id===T))==null?void 0:I.name)??"Unknown Game"};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),o.jsxs(Ct,{value:t,onValueChange:e,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:"Select tournament"})}),o.jsx(bt,{children:a.map(T=>o.jsx(We,{value:T.id,children:T.name},T.id))})]})]}),o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-sm font-medium",children:"Game"}),o.jsxs(Ct,{value:n,onValueChange:r,disabled:!t,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:"All games"})}),o.jsxs(bt,{children:[o.jsx(We,{value:"all",children:"All games"}),c.map(T=>o.jsx(We,{value:T.id,children:T.name},T.id))]})]})]}),o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-sm font-medium",children:"Registration Status"}),o.jsxs(Ct,{value:s,onValueChange:i,disabled:!t,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:"All statuses"})}),o.jsxs(bt,{children:[o.jsx(We,{value:"all",children:"All statuses"}),o.jsx(We,{value:"approved",children:"Approved only"}),o.jsx(We,{value:"pending",children:"Pending only"}),o.jsx(We,{value:"rejected",children:"Rejected only"})]})]})]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Qe,{children:"Participants List"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"View all user registrations with approval status and game details."})]}),E&&o.jsx(zn,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),o.jsx(Te,{children:t?b.length===0?o.jsx("p",{className:"text-muted-foreground text-sm",children:"No registrations found."}):o.jsx("div",{className:"border rounded-lg overflow-hidden",children:o.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"sticky top-0 bg-background z-10",children:o.jsxs("tr",{className:"border-b bg-muted/50",children:[o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"User"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Email"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Game"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Status"}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-sm",children:"Registered At"})]})}),o.jsx("tbody",{children:b.map(T=>{const I=y(T.user_id);return o.jsxs("tr",{className:"border-b hover:bg-muted/50 transition-colors",children:[o.jsx("td",{className:"py-3 px-4",children:o.jsx("p",{className:"font-medium",children:I.name})}),o.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:I.email}),o.jsx("td",{className:"py-3 px-4 text-sm",children:v(T.game_id)}),o.jsx("td",{className:"py-3 px-4",children:o.jsx(Zt,{variant:_q[T.status],children:T.status})}),o.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:x(T.created_at)})]},T.id)})})]})})}):o.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view participants."})})]}),t&&b.length>0&&o.jsxs(Ee,{children:[o.jsx(Ke,{children:o.jsx(Qe,{children:"Summary"})}),o.jsx(Te,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Registrations"}),o.jsx("p",{className:"text-2xl font-bold",children:h.length})]}),o.jsxs("div",{className:"bg-green-50 dark:bg-green-950/20 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved"}),o.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:h.filter(T=>T.status==="approved").length})]}),o.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950/20 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),o.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:h.filter(T=>T.status==="pending").length})]}),o.jsxs("div",{className:"bg-red-50 dark:bg-red-950/20 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected"}),o.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:h.filter(T=>T.status==="rejected").length})]})]})})]})]})},Eq=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(""),[s,i]=p.useState([]),[a,l]=p.useState(!1);return p.useEffect(()=>{Cr().then(e)},[]),p.useEffect(()=>{if(!n){i([]);return}l(!0),OR(n).then(i).finally(()=>l(!1))},[n]),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-wrap gap-4 items-end",children:o.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-64",children:[o.jsx("p",{className:"text-sm font-medium",children:"Tournament"}),o.jsxs(Ct,{value:n,onValueChange:r,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:"Select tournament"})}),o.jsx(bt,{children:t.map(c=>o.jsx(We,{value:c.id,children:c.name},c.id))})]})]})}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex items-center justify-between",children:[o.jsx(Qe,{children:"Leaderboard"}),a&&o.jsx(zn,{className:"h-5 w-5 animate-spin text-muted-foreground"})]}),o.jsx(Te,{children:n?s.length===0?o.jsx("p",{className:"text-muted-foreground text-sm",children:"No leaderboard data yet."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left text-muted-foreground border-b",children:[o.jsx("th",{className:"py-2 pr-4",children:"Rank"}),o.jsx("th",{className:"py-2 pr-4",children:"Name"}),o.jsx("th",{className:"py-2 pr-4",children:"Type"}),o.jsx("th",{className:"py-2 pr-4",children:"Points"}),o.jsx("th",{className:"py-2 pr-4",children:"Wins"}),o.jsx("th",{className:"py-2 pr-4",children:"Losses"})]})}),o.jsx("tbody",{children:s.map((c,u)=>o.jsxs("tr",{className:"border-b last:border-0",children:[o.jsx("td",{className:"py-2 pr-4",children:c.rank??u+1}),o.jsx("td",{className:"py-2 pr-4 font-medium",children:c.name}),o.jsx("td",{className:"py-2 pr-4 capitalize",children:c.entity_type.toLowerCase()}),o.jsx("td",{className:"py-2 pr-4",children:c.points}),o.jsx("td",{className:"py-2 pr-4",children:c.wins}),o.jsx("td",{className:"py-2 pr-4",children:c.losses})]},c.id))})]})}):o.jsx("p",{className:"text-muted-foreground text-sm",children:"Select a tournament to view standings."})})]})]})};function hn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function zs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function r0(t,e){const n=hn(t);if(isNaN(e))return zs(t,NaN);if(!e)return n;const r=n.getDate(),s=zs(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const s2=6048e5,Tq=864e5;let Sq={};function th(){return Sq}function $o(t,e){var l,c,u,h;const n=th(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=hn(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Pm(t){return $o(t,{weekStartsOn:1})}function i2(t){const e=hn(t),n=e.getFullYear(),r=zs(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Pm(r),i=zs(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Pm(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Am(t){const e=hn(t);return e.setHours(0,0,0,0),e}function OT(t){const e=hn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Nq(t,e){const n=Am(t),r=Am(e),s=+n-OT(n),i=+r-OT(r);return Math.round((s-i)/Tq)}function Cq(t){const e=i2(t),n=zs(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Pm(n)}function Iq(t){return zs(t,Date.now())}function Sd(t,e){const n=Am(t),r=Am(e);return+n==+r}function kq(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Bu(t){if(!kq(t)&&typeof t!="number")return!1;const e=hn(t);return!isNaN(Number(e))}function a2(t){const e=hn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function o2(t,e){const n=hn(t.start),r=hn(t.end);let s=+n>+r;const i=s?+n:+r,a=s?r:n;a.setHours(0,0,0,0);let l=1;const c=[];for(;+a<=i;)c.push(hn(a)),a.setDate(a.getDate()+l),a.setHours(0,0,0,0);return s?c.reverse():c}function l2(t){const e=hn(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Pq(t){const e=hn(t),n=zs(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function c2(t,e){var l,c;const n=th(),r=n.weekStartsOn??((c=(l=n.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,s=hn(t),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}const Aq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jq=(t,e,n)=>{let r;const s=Aq[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function vy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Rq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Dq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Oq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mq={date:vy({formats:Rq,defaultWidth:"full"}),time:vy({formats:Dq,defaultWidth:"full"}),dateTime:vy({formats:Oq,defaultWidth:"full"})},Lq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vq=(t,e,n,r)=>Lq[t];function cu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Fq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Uq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$q={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Bq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hq=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},qq={ordinalNumber:Hq,era:cu({values:Fq,defaultWidth:"wide"}),quarter:cu({values:Uq,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cu({values:$q,defaultWidth:"wide"}),day:cu({values:Bq,defaultWidth:"wide"}),dayPeriod:cu({values:zq,defaultWidth:"wide",formattingValues:Wq,defaultFormattingWidth:"wide"})};function uu(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Kq(l,f=>f.test(a)):Gq(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(a.length);return{value:u,rest:h}}}function Gq(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Kq(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Qq(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const Yq=/^(\d+)(th|st|nd|rd)?/i,Xq=/\d+/i,Zq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Jq={any:[/^b/i,/^(a|c)/i]},eG={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tG={any:[/1/i,/2/i,/3/i,/4/i]},nG={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rG={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sG={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lG={ordinalNumber:Qq({matchPattern:Yq,parsePattern:Xq,valueCallback:t=>parseInt(t,10)}),era:uu({matchPatterns:Zq,defaultMatchWidth:"wide",parsePatterns:Jq,defaultParseWidth:"any"}),quarter:uu({matchPatterns:eG,defaultMatchWidth:"wide",parsePatterns:tG,defaultParseWidth:"any",valueCallback:t=>t+1}),month:uu({matchPatterns:nG,defaultMatchWidth:"wide",parsePatterns:rG,defaultParseWidth:"any"}),day:uu({matchPatterns:sG,defaultMatchWidth:"wide",parsePatterns:iG,defaultParseWidth:"any"}),dayPeriod:uu({matchPatterns:aG,defaultMatchWidth:"any",parsePatterns:oG,defaultParseWidth:"any"})},cG={code:"en-US",formatDistance:jq,formatLong:Mq,formatRelative:Vq,localize:qq,match:lG,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uG(t){const e=hn(t);return Nq(e,Pq(e))+1}function dG(t){const e=hn(t),n=+Pm(e)-+Cq(e);return Math.round(n/s2)+1}function u2(t,e){var h,f,m,g;const n=hn(t),r=n.getFullYear(),s=th(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,a=zs(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=$o(a,e),c=zs(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=$o(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function hG(t,e){var l,c,u,h;const n=th(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=u2(t,e),i=zs(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),$o(i,e)}function fG(t,e){const n=hn(t),r=+$o(n,e)-+hG(n,e);return Math.round(r/s2)+1}function gt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const zi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return gt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):gt(n+1,2)},d(t,e){return gt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return gt(t.getHours()%12||12,e.length)},H(t,e){return gt(t.getHours(),e.length)},m(t,e){return gt(t.getMinutes(),e.length)},s(t,e){return gt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return gt(s,e.length)}},ll={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},MT={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return zi.y(t,e)},Y:function(t,e,n,r){const s=u2(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return gt(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):gt(i,e.length)},R:function(t,e){const n=i2(t);return gt(n,e.length)},u:function(t,e){const n=t.getFullYear();return gt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return gt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return gt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return zi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return gt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=fG(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):gt(s,e.length)},I:function(t,e,n){const r=dG(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):gt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):zi.d(t,e)},D:function(t,e,n){const r=uG(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):gt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return gt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return gt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return gt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=ll.noon:r===0?s=ll.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=ll.evening:r>=12?s=ll.afternoon:r>=4?s=ll.morning:s=ll.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return zi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):zi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):gt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):gt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):zi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):zi.s(t,e)},S:function(t,e){return zi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return VT(r);case"XXXX":case"XX":return lo(r);case"XXXXX":case"XXX":default:return lo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return VT(r);case"xxxx":case"xx":return lo(r);case"xxxxx":case"xxx":default:return lo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+LT(r,":");case"OOOO":default:return"GMT"+lo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+LT(r,":");case"zzzz":default:return"GMT"+lo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return gt(r,e.length)},T:function(t,e,n){const r=t.getTime();return gt(r,e.length)}};function LT(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+gt(i,2)}function VT(t,e){return t%60===0?(t>0?"-":"+")+gt(Math.abs(t)/60,2):lo(t,e)}function lo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=gt(Math.trunc(r/60),2),i=gt(r%60,2);return n+s+e+i}const FT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},d2=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},mG=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return FT(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",FT(r,e)).replace("{{time}}",d2(s,e))},pG={p:d2,P:mG},gG=/^D+$/,yG=/^Y+$/,vG=["D","DD","YY","YYYY"];function xG(t){return gG.test(t)}function wG(t){return yG.test(t)}function _G(t,e,n){const r=bG(t,e,n);if(console.warn(r),vG.includes(t))throw new RangeError(r)}function bG(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const EG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,SG=/^'([^]*?)'?$/,NG=/''/g,CG=/[a-zA-Z]/;function Or(t,e,n){var h,f,m,g;const r=th(),s=r.locale??cG,i=r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,a=r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,l=hn(t);if(!Bu(l))throw new RangeError("Invalid time value");let c=e.match(TG).map(E=>{const w=E[0];if(w==="p"||w==="P"){const x=pG[w];return x(E,s.formatLong)}return E}).join("").match(EG).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const w=E[0];if(w==="'")return{isToken:!1,value:IG(E)};if(MT[w])return{isToken:!0,value:E};if(w.match(CG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:E}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(E=>{if(!E.isToken)return E.value;const w=E.value;(wG(w)||xG(w))&&_G(w,e,String(t));const x=MT[w[0]];return x(l,w,s.localize,u)}).join("")}function IG(t){const e=t.match(SG);return e?e[1].replace(NG,"'"):t}function h2(t,e){const n=hn(t),r=hn(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function jm(t){return Sd(t,Iq(t))}function f2(t,e){return r0(t,-e)}const kG=()=>{const[t,e]=p.useState(new Date),[n,r]=p.useState(null),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState([]),[E,w]=p.useState([]),[x,b]=p.useState([]),[y,v]=p.useState(!0),[T,I]=p.useState(!1),{toast:R}=pr(),[N,C]=p.useState(""),[P,k]=p.useState(""),[D,A]=p.useState(""),[j,F]=p.useState(""),[J,H]=p.useState(""),[te,$]=p.useState(""),[B,ee]=p.useState(!1);p.useEffect(()=>{le(),we()},[]),p.useEffect(()=>{N?ie(N):(u([]),k(""))},[N]),p.useEffect(()=>{N&&P?he(N,P):(g([]),b([]),A(""),F(""))},[N,P]);const le=async()=>{try{const[V,W,q]=await Promise.all([Cr(),mr(),gs()]);l(V),f(W),w(q)}catch(V){console.error("Error loading initial data:",V)}},ie=async V=>{try{const W=await mr(V);u(W)}catch(W){console.error("Error loading games:",W)}},he=async(V,W)=>{try{const[q,oe]=await Promise.all([Jo({tournamentId:V,gameId:W}),eh({tournamentId:V,gameId:W})]);g(q),b(oe)}catch(q){console.error("Error loading participants/teams:",q)}},we=async()=>{v(!0);try{const V=await Cr();if(V.length===0)i([]);else{const W=await Promise.all(V.map(q=>So({tournamentId:q.id})));i(W.flat())}}catch(V){console.error("Error loading matches:",V)}finally{v(!1)}},Ne=async()=>{if(!n||!N||!P||!D||!j||!J){R({title:"Please fill all fields",variant:"destructive"});return}if(D===j){R({title:"Participants must be different",variant:"destructive"});return}ee(!0);try{const[V,W]=J.split(":").map(Number),q=new Date(n);q.setHours(V,W);const oe={tournament_id:N,game_id:P,participant_a_id:D,participant_b_id:j,match_time:q.toISOString(),status:"SCHEDULED",venue:te,round_index:0,round_name:"Scheduled Match",match_order:0};await dH(oe),R({title:"Match scheduled successfully"}),I(!1),we(),it();const Ce=x.find(et=>et.id===D),Tt=x.find(et=>et.id===j),an=c.find(et=>et.id===P),Bt=async et=>{await Td({user_id:et,title:"New Match Scheduled",message:`A new match for ${(an==null?void 0:an.name)||"your game"} has been scheduled at ${Or(q,"PPp")}.`,type:"MATCH_SCHEDULED",payload:{match_id:"new",game_id:P}})},vn=async et=>{if(et){if(et.type==="USER"&&et.user_id)await Bt(et.user_id);else if(et.type==="TEAM"&&et.team_id){const Rt=m.find(bn=>bn.id===et.team_id);if(Rt!=null&&Rt.player_ids)for(const bn of Rt.player_ids)await Bt(bn)}}};await Promise.all([vn(Ce),vn(Tt)])}catch(V){R({title:"Error scheduling match",description:V.message,variant:"destructive"})}finally{ee(!1)}},it=()=>{A(""),F(""),H(""),$("")},re=V=>s.filter(W=>{var oe;if(!W.match_time)return!1;const q=(oe=W.match_time)!=null&&oe.toDate?W.match_time.toDate():new Date(W.match_time);return Bu(q)?Sd(q,V):!1}),Be=p.useMemo(()=>h.reduce((V,W)=>(V[W.id]=W,V),{}),[h]),rt=p.useMemo(()=>E.reduce((V,W)=>(V[W.id]=W,V),{}),[E]),je=p.useMemo(()=>m.reduce((V,W)=>(V[W.id]=W,V),{}),[m]),Pe=V=>{var W,q;return V.type==="USER"&&V.user_id?((W=rt[V.user_id])==null?void 0:W.name)||"Unknown User":V.type==="TEAM"&&V.team_id?((q=je[V.team_id])==null?void 0:q.name)||"Unknown Team":"Unknown"},Ae=l2(t),xt=a2(Ae),pe=$o(Ae),ve=c2(xt),Je=o2({start:pe,end:ve}),ct=[];for(let V=0;V<Je.length;V+=7)ct.push(Je.slice(V,V+7));const kt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Fe=c.find(V=>V.id===P),L=(Fe==null?void 0:Fe.game_type)==="SINGLE",U=L?"Player":"Team",M=p.useMemo(()=>x.filter(V=>L?V.type==="USER":V.type==="TEAM"),[x,L]),K=p.useMemo(()=>{if(!P)return new Set;const V=new Set;return s.filter(W=>{var q;return W.game_id===P&&((q=W.status)==null?void 0:q.toUpperCase())!=="CANCELLED"}).forEach(W=>{W.participant_a_id&&V.add(W.participant_a_id),W.participant_b_id&&V.add(W.participant_b_id)}),V},[s,P]);return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Matches Schedule"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage and view match schedules"})]})}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-semibold",children:Or(t,"MMMM yyyy")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(_e,{variant:"outline",size:"icon",onClick:()=>e(f2(t,1)),children:o.jsx(gI,{className:"h-4 w-4"})}),o.jsx(_e,{variant:"outline",size:"icon",onClick:()=>e(r0(t,1)),children:o.jsx(yI,{className:"h-4 w-4"})})]})]}),o.jsx(Ee,{children:o.jsxs(Te,{className:"p-0",children:[o.jsx("div",{className:"grid grid-cols-7 border-b",children:kt.map(V=>o.jsx("div",{className:"p-4 text-center font-medium text-sm text-muted-foreground border-r last:border-r-0",children:V},V))}),ct.map((V,W)=>o.jsx("div",{className:"grid grid-cols-7 border-b last:border-b-0",children:V.map((q,oe)=>{const Ce=re(q),Tt=n&&Sd(q,n),an=h2(q,t);return o.jsxs("div",{className:`min-h-[120px] p-2 border-r last:border-r-0 transition-colors cursor-pointer hover:bg-muted/50
                                            ${an?"":"bg-muted/10 text-muted-foreground"}
                                            ${Tt?"bg-primary/5 ring-1 ring-inset ring-primary":""}
                                            ${jm(q)?"bg-accent/50":""}
                                        `,onClick:()=>{r(q),I(!0)},children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("span",{className:`text-sm font-medium h-7 w-7 flex items-center justify-center rounded-full
                                                ${jm(q)?"bg-primary text-primary-foreground":""}
                                            `,children:Or(q,"d")}),Ce.length>0&&o.jsx("span",{className:"text-xs font-bold text-primary bg-primary/10 px-1.5 py-0.5 rounded-full",children:Ce.length})]}),o.jsxs("div",{className:"space-y-1",children:[Ce.slice(0,3).map(Bt=>{var Rt,bn;const vn=(Rt=Bt.match_time)!=null&&Rt.toDate?Bt.match_time.toDate():new Date(Bt.match_time),et=((bn=Be[Bt.game_id])==null?void 0:bn.name)||"Unknown Game";return Bu(vn)?o.jsxs("div",{className:"text-xs p-1 rounded bg-secondary truncate",children:[Or(vn,"HH:mm")," - ",et]},Bt.id):null}),Ce.length>3&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["+ ",Ce.length-3," more"]})]})]},oe)})},W))]})}),o.jsx(hi,{open:T,onOpenChange:I,children:o.jsxs(Ls,{className:"max-w-2xl",children:[o.jsx(Vs,{children:o.jsxs(Fs,{children:["Schedule for ",n?Or(n,"MMMM d, yyyy"):""]})}),o.jsxs("div",{className:"grid gap-6 py-4",children:[n&&re(n).length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase",children:"Scheduled Matches"}),re(n).map(V=>{var Ce,Tt;const W=(Ce=V.match_time)!=null&&Ce.toDate?V.match_time.toDate():new Date(V.match_time),q=Bu(W)?Or(W,"HH:mm"):"TBD",oe=((Tt=Be[V.game_id])==null?void 0:Tt.name)||"Unknown Game";return o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Go,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:q}),o.jsx("span",{className:"font-medium",children:oe})]}),V.venue&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx(op,{className:"h-3 w-3"}),V.venue]})]},V.id)})]}),o.jsxs("div",{className:"space-y-4 border-t pt-4",children:[o.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[o.jsx(ld,{className:"h-4 w-4"})," Schedule New Match"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{children:"Tournament"}),o.jsxs(Ct,{value:N,onValueChange:C,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:"Select tournament"})}),o.jsx(bt,{children:a.map(V=>o.jsx(We,{value:V.id,children:V.name},V.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{children:"Game"}),o.jsxs(Ct,{value:P,onValueChange:k,disabled:!N,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:"Select game"})}),o.jsx(bt,{children:c.map(V=>o.jsx(We,{value:V.id,children:V.name},V.id))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ze,{children:[U," A"]}),o.jsxs(Ct,{value:D,onValueChange:A,disabled:!P,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:`Select ${U.toLowerCase()}`})}),o.jsx(bt,{children:M.map(V=>{const W=K.has(V.id);return o.jsxs(We,{value:V.id,disabled:W,children:[Pe(V),W&&" (Already Scheduled)"]},V.id)})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ze,{children:[U," B"]}),o.jsxs(Ct,{value:j,onValueChange:F,disabled:!P,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:`Select ${U.toLowerCase()}`})}),o.jsx(bt,{children:M.filter(V=>V.id!==D).map(V=>{const W=K.has(V.id);return o.jsxs(We,{value:V.id,disabled:W,children:[Pe(V),W&&" (Already Scheduled)"]},V.id)})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{children:"Time"}),o.jsx(ft,{type:"time",value:J,onChange:V=>H(V.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{children:"Location"}),o.jsx(ft,{placeholder:"Court 1, Field A, etc.",value:te,onChange:V=>$(V.target.value)})]})]}),o.jsxs(_e,{onClick:Ne,disabled:B||!J||!D||!j,className:"w-full",children:[B?o.jsx(zn,{className:"h-4 w-4 animate-spin mr-2"}):null,"Schedule Match"]})]})]})]})})]})},PG=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState(null),[a,l]=p.useState(""),[c,u]=p.useState(null),{isAdmin:h}=gr();p.useEffect(()=>{f()},[]);const f=async()=>{try{r(!0),i(null);const x=await yH();e(x)}catch(x){console.error("Error loading users:",x),i("Failed to load users. Please try again.")}finally{r(!1)}},m=async(x,b)=>{try{u(x),i(null),await vH(x,[b]),e(y=>y.map(v=>v.id===x?{...v,roles:[b]}:v))}catch(y){console.error("Error updating user role:",y),i("Failed to update user role. Please try again.")}finally{u(null)}},g=t.filter(x=>{var b,y,v;return((b=x.name)==null?void 0:b.toLowerCase().includes(a.toLowerCase()))||((y=x.email)==null?void 0:y.toLowerCase().includes(a.toLowerCase()))||((v=x.department)==null?void 0:v.toLowerCase().includes(a.toLowerCase()))}),E=x=>x.includes("admin")?"role-badge admin":"role-badge player",w=x=>x.includes("admin")?"Admin":"Player";return h?o.jsxs("div",{className:"users-management",children:[o.jsxs("div",{className:"users-header",children:[o.jsxs("div",{className:"header-content",children:[o.jsx("h1",{children:"Users Management"}),o.jsx("p",{className:"subtitle",children:"Manage user roles and permissions"})]}),o.jsxs("div",{className:"header-stats",children:[o.jsxs("div",{className:"stat-card",children:[o.jsx("span",{className:"stat-value",children:t.length}),o.jsx("span",{className:"stat-label",children:"Total Users"})]}),o.jsxs("div",{className:"stat-card",children:[o.jsx("span",{className:"stat-value",children:t.filter(x=>x.roles.includes("admin")).length}),o.jsx("span",{className:"stat-label",children:"Admins"})]}),o.jsxs("div",{className:"stat-card",children:[o.jsx("span",{className:"stat-value",children:t.filter(x=>x.roles.includes("player")).length}),o.jsx("span",{className:"stat-label",children:"Players"})]})]})]}),o.jsxs("div",{className:"users-controls",children:[o.jsxs("div",{className:"search-box",children:[o.jsxs("svg",{className:"search-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[o.jsx("circle",{cx:"11",cy:"11",r:"8"}),o.jsx("path",{d:"m21 21-4.35-4.35"})]}),o.jsx("input",{type:"text",placeholder:"Search by name, email, or department...",value:a,onChange:x=>l(x.target.value),className:"search-input"})]}),o.jsxs("button",{onClick:f,className:"refresh-btn",disabled:n,children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"})}),"Refresh"]})]}),s&&o.jsxs("div",{className:"error-banner",children:[o.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),s]}),n?o.jsxs("div",{className:"loading-container",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:"Loading users..."})]}):o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"users-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Name"}),o.jsx("th",{children:"Email"}),o.jsx("th",{children:"Phone"}),o.jsx("th",{children:"Department"}),o.jsx("th",{children:"Gender"}),o.jsx("th",{children:"Current Role"}),o.jsx("th",{children:"Change Role"})]})}),o.jsx("tbody",{children:g.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"no-data",children:a?"No users found matching your search.":"No users available."})}):g.map(x=>{var b;return o.jsxs("tr",{children:[o.jsx("td",{className:"user-name",children:o.jsxs("div",{className:"name-cell",children:[o.jsx("div",{className:"avatar",children:((b=x.name)==null?void 0:b.charAt(0).toUpperCase())||"U"}),o.jsx("span",{children:x.name||"N/A"})]})}),o.jsx("td",{children:x.email||"N/A"}),o.jsx("td",{children:x.phone||"N/A"}),o.jsx("td",{children:x.department||"N/A"}),o.jsx("td",{className:"gender-cell",children:x.gender?o.jsx("span",{className:"gender-badge",children:x.gender}):"N/A"}),o.jsx("td",{children:o.jsx("span",{className:E(x.roles),children:w(x.roles)})}),o.jsx("td",{children:o.jsxs("div",{className:"role-selector",children:[o.jsxs("select",{value:x.roles.includes("admin")?"admin":"player",onChange:y=>m(x.id,y.target.value),disabled:c===x.id,className:"role-select",children:[o.jsx("option",{value:"player",children:"Player"}),o.jsx("option",{value:"admin",children:"Admin"})]}),c===x.id&&o.jsx("div",{className:"updating-indicator",children:o.jsx("div",{className:"mini-spinner"})})]})})]},x.id)})})]})})]}):o.jsx("div",{className:"users-management",children:o.jsxs("div",{className:"error-message",children:[o.jsx("h2",{children:"Access Denied"}),o.jsx("p",{children:"You don't have permission to access this page."})]})})},AG=()=>{const{loading:t,isAdmin:e}=gr();return p.useEffect(()=>{const n=document.body,r=n.style.paddingTop;return n.style.paddingTop="0",()=>{n.style.paddingTop=r}},[]),t?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading..."})}):e?o.jsx(H_,{children:o.jsxs("div",{className:"min-h-screen flex w-full bg-muted/30",children:[o.jsx(XH,{}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx(ZH,{}),o.jsx("main",{className:"flex-1 p-6",children:o.jsxs(Lw,{children:[o.jsx(Pt,{path:"/",element:o.jsx(gq,{})}),o.jsx(Pt,{path:"/registrations",element:o.jsx(wq,{})}),o.jsx(Pt,{path:"/participants",element:o.jsx(bq,{})}),o.jsx(Pt,{path:"/tournaments",element:o.jsx(pq,{})}),o.jsx(Pt,{path:"/games",element:o.jsx(JH,{})}),o.jsx(Pt,{path:"/teams",element:o.jsx(cq,{})}),o.jsx(Pt,{path:"/matches",element:o.jsx(mq,{})}),o.jsx(Pt,{path:"/leaderboard",element:o.jsx(Eq,{})}),o.jsx(Pt,{path:"/users",element:o.jsx(PG,{})}),o.jsx(Pt,{path:"/schedule",element:o.jsx(kG,{})})]})})]})]})}):o.jsx(Iv,{to:"/",replace:!0})},jG=[{title:"Dashboard",url:"/dashboard",icon:Z4},{title:"Register for Games",url:"/dashboard/register",icon:vw},{title:"My Games",url:"/dashboard/my-games",icon:eL},{title:"Notifications",url:"/dashboard/notifications",icon:Ou},{title:"My Tournaments",url:"/dashboard/tournaments",icon:rn},{title:"My Matches",url:"/dashboard/matches",icon:ww},{title:"Schedule",url:"/dashboard/schedule",icon:vi},{title:"Profile",url:"/dashboard/profile",icon:wI}];function RG(){const t=Hs();return o.jsx(q_,{collapsible:"icon",children:o.jsx(K_,{children:o.jsxs(Q_,{children:[o.jsx(Y_,{children:"Player Panel"}),o.jsx(X_,{children:o.jsx(Z_,{children:jG.map(e=>o.jsx(J_,{children:o.jsx(e0,{asChild:!0,isActive:t.pathname===e.url,tooltip:e.title,children:o.jsxs(yt,{to:e.url,children:[o.jsx(e.icon,{className:"h-4 w-4"}),o.jsx("span",{children:e.title})]})})},e.title))})})]})})})}function DG(){const{signOut:t,user:e}=gr(),[n,r]=p.useState(""),[s,i]=p.useState(0);return p.useEffect(()=>{(async()=>{if(e!=null&&e.uid)try{const l=await Lo(wt(qe,"profiles",e.uid));if(l.exists()){const c=l.data();r(c.name||e.displayName||e.email||"")}else r(e.displayName||e.email||"")}catch(l){console.error("Error fetching profile:",l),r(e.displayName||e.email||"")}})()},[e]),p.useEffect(()=>{const a=async()=>{if(e!=null&&e.uid)try{const u=(await r2(e.uid)).filter(h=>!h.is_read).length;i(u)}catch(c){console.error("Error loading notifications:",c)}};a();const l=setInterval(a,3e4);return()=>clearInterval(l)},[e]),o.jsxs("header",{className:"sticky top-0 z-50 h-16 border-b bg-card flex items-center justify-between px-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(G_,{}),o.jsxs(yt,{to:"/dashboard",className:"flex items-center gap-2",children:[o.jsx(wI,{className:"h-6 w-6 text-primary"}),o.jsx("span",{className:"text-lg font-bold",children:"Player Dashboard"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(yt,{to:"/dashboard/notifications",children:o.jsxs(_e,{variant:"ghost",size:"icon",className:"relative",children:[o.jsx(Ou,{className:"h-5 w-5"}),s>0&&o.jsx(Zt,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:s>9?"9+":s})]})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:n}),o.jsxs(_e,{variant:"outline",size:"sm",onClick:t,children:[o.jsx(Xf,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}var nh=t=>t.type==="checkbox",po=t=>t instanceof Date,Kn=t=>t==null;const m2=t=>typeof t=="object";var sn=t=>!Kn(t)&&!Array.isArray(t)&&m2(t)&&!po(t),p2=t=>sn(t)&&t.target?nh(t.target)?t.target.checked:t.target.value:t,OG=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,g2=(t,e)=>t.has(OG(e)),MG=t=>{const e=t.constructor&&t.constructor.prototype;return sn(e)&&e.hasOwnProperty("isPrototypeOf")},s0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function fn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(s0&&(t instanceof Blob||r))&&(n||sn(t)))if(e=n?[]:{},!n&&!MG(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=fn(t[s]));else return t;return e}var ng=t=>/^\w*$/.test(t),en=t=>t===void 0,i0=t=>Array.isArray(t)?t.filter(Boolean):[],a0=t=>i0(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ce=(t,e,n)=>{if(!e||!sn(t))return n;const r=(ng(e)?[e]:a0(e)).reduce((s,i)=>Kn(s)?s:s[i],t);return en(r)||r===t?en(t[e])?n:t[e]:r},xr=t=>typeof t=="boolean",pt=(t,e,n)=>{let r=-1;const s=ng(e)?[e]:a0(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==a){const u=t[l];c=sn(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Rm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},is={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},y2=Q.createContext(null);y2.displayName="HookFormContext";const o0=()=>Q.useContext(y2);var v2=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==is.all&&(e._proxyFormState[a]=!r||is.all),n&&(n[a]=!0),t[a]}});return s};const l0=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function LG(t){const e=o0(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,l]=Q.useState(n._formState),c=Q.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return l0(()=>n._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[s,r,i]),Q.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),Q.useMemo(()=>v2(a,n,c.current,!1),[a,n])}var Is=t=>typeof t=="string",x2=(t,e,n,r,s)=>Is(t)?(r&&e.watch.add(t),ce(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ce(n,i))):(r&&(e.watchAll=!0),n),dx=t=>Kn(t)||!m2(t);function ri(t,e,n=new WeakSet){if(dx(t)||dx(e))return t===e;if(po(t)&&po(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(po(a)&&po(l)||sn(a)&&sn(l)||Array.isArray(a)&&Array.isArray(l)?!ri(a,l,n):a!==l)return!1}}return!0}function VG(t){const e=o0(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a,compute:l}=t||{},c=Q.useRef(s),u=Q.useRef(l),h=Q.useRef(void 0);u.current=l;const f=Q.useMemo(()=>n._getWatch(r,c.current),[n,r]),[m,g]=Q.useState(u.current?u.current(f):f);return l0(()=>n._subscribe({name:r,formState:{values:!0},exact:a,callback:E=>{if(!i){const w=x2(r,n._names,E.values||n._formValues,!1,c.current);if(u.current){const x=u.current(w);ri(x,h.current)||(g(x),h.current=x)}else g(w)}}}),[n,i,r,a]),Q.useEffect(()=>n._removeUnmounted()),m}function FG(t){const e=o0(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i,defaultValue:a}=t,l=g2(s._names.array,n),c=Q.useMemo(()=>ce(s._formValues,n,ce(s._defaultValues,n,a)),[s,n,a]),u=VG({control:s,name:n,defaultValue:c,exact:!0}),h=LG({control:s,name:n,exact:!0}),f=Q.useRef(t),m=Q.useRef(s.register(n,{...t.rules,value:u,...xr(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const g=Q.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ce(h.errors,n)},isDirty:{enumerable:!0,get:()=>!!ce(h.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ce(h.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ce(h.validatingFields,n)},error:{enumerable:!0,get:()=>ce(h.errors,n)}}),[h,n]),E=Q.useCallback(y=>m.current.onChange({target:{value:p2(y),name:n},type:Rm.CHANGE}),[n]),w=Q.useCallback(()=>m.current.onBlur({target:{value:ce(s._formValues,n),name:n},type:Rm.BLUR}),[n,s._formValues]),x=Q.useCallback(y=>{const v=ce(s._fields,n);v&&y&&(v._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:T=>y.setCustomValidity(T),reportValidity:()=>y.reportValidity()})},[s._fields,n]),b=Q.useMemo(()=>({name:n,value:u,...xr(r)||h.disabled?{disabled:h.disabled||r}:{},onChange:E,onBlur:w,ref:x}),[n,r,h.disabled,E,w,x,u]);return Q.useEffect(()=>{const y=s._options.shouldUnregister||i;s.register(n,{...f.current.rules,...xr(f.current.disabled)?{disabled:f.current.disabled}:{}});const v=(T,I)=>{const R=ce(s._fields,T);R&&R._f&&(R._f.mount=I)};if(v(n,!0),y){const T=fn(ce(s._options.defaultValues,n));pt(s._defaultValues,n,T),en(ce(s._formValues,n))&&pt(s._formValues,n,T)}return!l&&s.register(n),()=>{(l?y&&!s._state.action:y)?s.unregister(n):v(n,!1)}},[n,s,l,i]),Q.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),Q.useMemo(()=>({field:b,formState:h,fieldState:g}),[b,h,g])}const UG=t=>t.render(FG(t));var w2=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},zu=t=>Array.isArray(t)?t:[t],UT=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},sr=t=>sn(t)&&!Object.keys(t).length,c0=t=>t.type==="file",as=t=>typeof t=="function",Dm=t=>{if(!s0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},_2=t=>t.type==="select-multiple",u0=t=>t.type==="radio",$G=t=>u0(t)||nh(t),xy=t=>Dm(t)&&t.isConnected;function BG(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=en(t)?r++:t[e[r++]];return t}function zG(t){for(const e in t)if(t.hasOwnProperty(e)&&!en(t[e]))return!1;return!0}function on(t,e){const n=Array.isArray(e)?e:ng(e)?[e]:a0(e),r=n.length===1?t:BG(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(sn(r)&&sr(r)||Array.isArray(r)&&zG(r))&&on(t,n.slice(0,-1)),t}var b2=t=>{for(const e in t)if(as(t[e]))return!0;return!1};function Om(t,e={}){const n=Array.isArray(t);if(sn(t)||n)for(const r in t)Array.isArray(t[r])||sn(t[r])&&!b2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Om(t[r],e[r])):Kn(t[r])||(e[r]=!0);return e}function E2(t,e,n){const r=Array.isArray(t);if(sn(t)||r)for(const s in t)Array.isArray(t[s])||sn(t[s])&&!b2(t[s])?en(e)||dx(n[s])?n[s]=Array.isArray(t[s])?Om(t[s],[]):{...Om(t[s])}:E2(t[s],Kn(e)?{}:e[s],n[s]):n[s]=!ri(t[s],e[s]);return n}var du=(t,e)=>E2(t,e,Om(e));const $T={value:!1,isValid:!1},BT={value:!0,isValid:!0};var T2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!en(t[0].attributes.value)?en(t[0].value)||t[0].value===""?BT:{value:t[0].value,isValid:!0}:BT:$T}return $T},S2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>en(t)?t:e?t===""?NaN:t&&+t:n&&Is(t)?new Date(t):r?r(t):t;const zT={isValid:!1,value:null};var N2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,zT):zT;function WT(t){const e=t.ref;return c0(e)?e.files:u0(e)?N2(t.refs).value:_2(e)?[...e.selectedOptions].map(({value:n})=>n):nh(e)?T2(t.refs).value:S2(en(e.value)?t.ref.value:e.value,t)}var WG=(t,e,n,r)=>{const s={};for(const i of t){const a=ce(e,i);a&&pt(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Mm=t=>t instanceof RegExp,hu=t=>en(t)?t:Mm(t)?t.source:sn(t)?Mm(t.value)?t.value.source:t.value:t,HT=t=>({isOnSubmit:!t||t===is.onSubmit,isOnBlur:t===is.onBlur,isOnChange:t===is.onChange,isOnAll:t===is.all,isOnTouch:t===is.onTouched});const qT="AsyncFunction";var HG=t=>!!t&&!!t.validate&&!!(as(t.validate)&&t.validate.constructor.name===qT||sn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===qT)),qG=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),GT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Wu=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ce(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Wu(l,e))break}else if(sn(l)&&Wu(l,e))break}}};function KT(t,e,n){const r=ce(t,n);if(r||ng(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=ce(e,i),l=ce(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var GG=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return sr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||is.all))},KG=(t,e,n)=>!t||!e||t===e||zu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),QG=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,YG=(t,e)=>!i0(ce(t,e)).length&&on(t,e),XG=(t,e,n)=>{const r=zu(ce(t,n));return pt(r,"root",e[n]),pt(t,n,r),t},Nf=t=>Is(t);function QT(t,e,n="validate"){if(Nf(t)||Array.isArray(t)&&t.every(Nf)||xr(t)&&!t)return{type:n,message:Nf(t)?t:"",ref:e}}var cl=t=>sn(t)&&!Mm(t)?t:{value:t,message:""},YT=async(t,e,n,r,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:h,min:f,max:m,pattern:g,validate:E,name:w,valueAsNumber:x,mount:b}=t._f,y=ce(n,w);if(!b||e.has(w))return{};const v=l?l[0]:a,T=A=>{s&&v.reportValidity&&(v.setCustomValidity(xr(A)?"":A||""),v.reportValidity())},I={},R=u0(a),N=nh(a),C=R||N,P=(x||c0(a))&&en(a.value)&&en(y)||Dm(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,k=w2.bind(null,w,r,I),D=(A,j,F,J=Xs.maxLength,H=Xs.minLength)=>{const te=A?j:F;I[w]={type:A?J:H,message:te,ref:a,...k(A?J:H,te)}};if(i?!Array.isArray(y)||!y.length:c&&(!C&&(P||Kn(y))||xr(y)&&!y||N&&!T2(l).isValid||R&&!N2(l).isValid)){const{value:A,message:j}=Nf(c)?{value:!!c,message:c}:cl(c);if(A&&(I[w]={type:Xs.required,message:j,ref:v,...k(Xs.required,j)},!r))return T(j),I}if(!P&&(!Kn(f)||!Kn(m))){let A,j;const F=cl(m),J=cl(f);if(!Kn(y)&&!isNaN(y)){const H=a.valueAsNumber||y&&+y;Kn(F.value)||(A=H>F.value),Kn(J.value)||(j=H<J.value)}else{const H=a.valueAsDate||new Date(y),te=ee=>new Date(new Date().toDateString()+" "+ee),$=a.type=="time",B=a.type=="week";Is(F.value)&&y&&(A=$?te(y)>te(F.value):B?y>F.value:H>new Date(F.value)),Is(J.value)&&y&&(j=$?te(y)<te(J.value):B?y<J.value:H<new Date(J.value))}if((A||j)&&(D(!!A,F.message,J.message,Xs.max,Xs.min),!r))return T(I[w].message),I}if((u||h)&&!P&&(Is(y)||i&&Array.isArray(y))){const A=cl(u),j=cl(h),F=!Kn(A.value)&&y.length>+A.value,J=!Kn(j.value)&&y.length<+j.value;if((F||J)&&(D(F,A.message,j.message),!r))return T(I[w].message),I}if(g&&!P&&Is(y)){const{value:A,message:j}=cl(g);if(Mm(A)&&!y.match(A)&&(I[w]={type:Xs.pattern,message:j,ref:a,...k(Xs.pattern,j)},!r))return T(j),I}if(E){if(as(E)){const A=await E(y,n),j=QT(A,v);if(j&&(I[w]={...j,...k(Xs.validate,j.message)},!r))return T(j.message),I}else if(sn(E)){let A={};for(const j in E){if(!sr(A)&&!r)break;const F=QT(await E[j](y,n),v,j);F&&(A={...F,...k(j,F.message)},T(F.message),r&&(I[w]=A))}if(!sr(A)&&(I[w]={ref:v,...A},!r))return I}}return T(!0),I};const ZG={mode:is.onSubmit,reValidateMode:is.onChange,shouldFocusError:!0};function JG(t={}){let e={...ZG,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:as(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=sn(e.defaultValues)||sn(e.values)?fn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:fn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...h};const m={array:UT(),state:UT()},g=e.criteriaMode===is.all,E=L=>U=>{clearTimeout(u),u=setTimeout(L,U)},w=async L=>{if(!e.disabled&&(h.isValid||f.isValid||L)){const U=e.resolver?sr((await N()).errors):await P(r,!0);U!==n.isValid&&m.state.next({isValid:U})}},x=(L,U)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((L||Array.from(l.mount)).forEach(M=>{M&&(U?pt(n.validatingFields,M,U):on(n.validatingFields,M))}),m.state.next({validatingFields:n.validatingFields,isValidating:!sr(n.validatingFields)}))},b=(L,U=[],M,K,V=!0,W=!0)=>{if(K&&M&&!e.disabled){if(a.action=!0,W&&Array.isArray(ce(r,L))){const q=M(ce(r,L),K.argA,K.argB);V&&pt(r,L,q)}if(W&&Array.isArray(ce(n.errors,L))){const q=M(ce(n.errors,L),K.argA,K.argB);V&&pt(n.errors,L,q),YG(n.errors,L)}if((h.touchedFields||f.touchedFields)&&W&&Array.isArray(ce(n.touchedFields,L))){const q=M(ce(n.touchedFields,L),K.argA,K.argB);V&&pt(n.touchedFields,L,q)}(h.dirtyFields||f.dirtyFields)&&(n.dirtyFields=du(s,i)),m.state.next({name:L,isDirty:D(L,U),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else pt(i,L,U)},y=(L,U)=>{pt(n.errors,L,U),m.state.next({errors:n.errors})},v=L=>{n.errors=L,m.state.next({errors:n.errors,isValid:!1})},T=(L,U,M,K)=>{const V=ce(r,L);if(V){const W=ce(i,L,en(M)?ce(s,L):M);en(W)||K&&K.defaultChecked||U?pt(i,L,U?W:WT(V._f)):F(L,W),a.mount&&w()}},I=(L,U,M,K,V)=>{let W=!1,q=!1;const oe={name:L};if(!e.disabled){if(!M||K){(h.isDirty||f.isDirty)&&(q=n.isDirty,n.isDirty=oe.isDirty=D(),W=q!==oe.isDirty);const Ce=ri(ce(s,L),U);q=!!ce(n.dirtyFields,L),Ce?on(n.dirtyFields,L):pt(n.dirtyFields,L,!0),oe.dirtyFields=n.dirtyFields,W=W||(h.dirtyFields||f.dirtyFields)&&q!==!Ce}if(M){const Ce=ce(n.touchedFields,L);Ce||(pt(n.touchedFields,L,M),oe.touchedFields=n.touchedFields,W=W||(h.touchedFields||f.touchedFields)&&Ce!==M)}W&&V&&m.state.next(oe)}return W?oe:{}},R=(L,U,M,K)=>{const V=ce(n.errors,L),W=(h.isValid||f.isValid)&&xr(U)&&n.isValid!==U;if(e.delayError&&M?(c=E(()=>y(L,M)),c(e.delayError)):(clearTimeout(u),c=null,M?pt(n.errors,L,M):on(n.errors,L)),(M?!ri(V,M):V)||!sr(K)||W){const q={...K,...W&&xr(U)?{isValid:U}:{},errors:n.errors,name:L};n={...n,...q},m.state.next(q)}},N=async L=>{x(L,!0);const U=await e.resolver(i,e.context,WG(L||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(L),U},C=async L=>{const{errors:U}=await N(L);if(L)for(const M of L){const K=ce(U,M);K?pt(n.errors,M,K):on(n.errors,M)}else n.errors=U;return U},P=async(L,U,M={valid:!0})=>{for(const K in L){const V=L[K];if(V){const{_f:W,...q}=V;if(W){const oe=l.array.has(W.name),Ce=V._f&&HG(V._f);Ce&&h.validatingFields&&x([K],!0);const Tt=await YT(V,l.disabled,i,g,e.shouldUseNativeValidation&&!U,oe);if(Ce&&h.validatingFields&&x([K]),Tt[W.name]&&(M.valid=!1,U))break;!U&&(ce(Tt,W.name)?oe?XG(n.errors,Tt,W.name):pt(n.errors,W.name,Tt[W.name]):on(n.errors,W.name))}!sr(q)&&await P(q,U,M)}}return M.valid},k=()=>{for(const L of l.unMount){const U=ce(r,L);U&&(U._f.refs?U._f.refs.every(M=>!xy(M)):!xy(U._f.ref))&&re(L)}l.unMount=new Set},D=(L,U)=>!e.disabled&&(L&&U&&pt(i,L,U),!ri(ee(),s)),A=(L,U,M)=>x2(L,l,{...a.mount?i:en(U)?s:Is(L)?{[L]:U}:U},M,U),j=L=>i0(ce(a.mount?i:s,L,e.shouldUnregister?ce(s,L,[]):[])),F=(L,U,M={})=>{const K=ce(r,L);let V=U;if(K){const W=K._f;W&&(!W.disabled&&pt(i,L,S2(U,W)),V=Dm(W.ref)&&Kn(U)?"":U,_2(W.ref)?[...W.ref.options].forEach(q=>q.selected=V.includes(q.value)):W.refs?nh(W.ref)?W.refs.forEach(q=>{(!q.defaultChecked||!q.disabled)&&(Array.isArray(V)?q.checked=!!V.find(oe=>oe===q.value):q.checked=V===q.value||!!V)}):W.refs.forEach(q=>q.checked=q.value===V):c0(W.ref)?W.ref.value="":(W.ref.value=V,W.ref.type||m.state.next({name:L,values:fn(i)})))}(M.shouldDirty||M.shouldTouch)&&I(L,V,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&B(L)},J=(L,U,M)=>{for(const K in U){if(!U.hasOwnProperty(K))return;const V=U[K],W=L+"."+K,q=ce(r,W);(l.array.has(L)||sn(V)||q&&!q._f)&&!po(V)?J(W,V,M):F(W,V,M)}},H=(L,U,M={})=>{const K=ce(r,L),V=l.array.has(L),W=fn(U);pt(i,L,W),V?(m.array.next({name:L,values:fn(i)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&M.shouldDirty&&m.state.next({name:L,dirtyFields:du(s,i),isDirty:D(L,W)})):K&&!K._f&&!Kn(W)?J(L,W,M):F(L,W,M),GT(L,l)&&m.state.next({...n,name:L}),m.state.next({name:a.mount?L:void 0,values:fn(i)})},te=async L=>{a.mount=!0;const U=L.target;let M=U.name,K=!0;const V=ce(r,M),W=Ce=>{K=Number.isNaN(Ce)||po(Ce)&&isNaN(Ce.getTime())||ri(Ce,ce(i,M,Ce))},q=HT(e.mode),oe=HT(e.reValidateMode);if(V){let Ce,Tt;const an=U.type?WT(V._f):p2(L),Bt=L.type===Rm.BLUR||L.type===Rm.FOCUS_OUT,vn=!qG(V._f)&&!e.resolver&&!ce(n.errors,M)&&!V._f.deps||QG(Bt,ce(n.touchedFields,M),n.isSubmitted,oe,q),et=GT(M,l,Bt);pt(i,M,an),Bt?(V._f.onBlur&&V._f.onBlur(L),c&&c(0)):V._f.onChange&&V._f.onChange(L);const Rt=I(M,an,Bt),bn=!sr(Rt)||et;if(!Bt&&m.state.next({name:M,type:L.type,values:fn(i)}),vn)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?Bt&&w():Bt||w()),bn&&m.state.next({name:M,...et?{}:Rt});if(!Bt&&et&&m.state.next({...n}),e.resolver){const{errors:qr}=await N([M]);if(W(an),K){const $c=KT(n.errors,r,M),Oi=KT(qr,r,$c.name||M);Ce=Oi.error,M=Oi.name,Tt=sr(qr)}}else x([M],!0),Ce=(await YT(V,l.disabled,i,g,e.shouldUseNativeValidation))[M],x([M]),W(an),K&&(Ce?Tt=!1:(h.isValid||f.isValid)&&(Tt=await P(r,!0)));K&&(V._f.deps&&B(V._f.deps),R(M,Tt,Ce,Rt))}},$=(L,U)=>{if(ce(n.errors,U)&&L.focus)return L.focus(),1},B=async(L,U={})=>{let M,K;const V=zu(L);if(e.resolver){const W=await C(en(L)?L:V);M=sr(W),K=L?!V.some(q=>ce(W,q)):M}else L?(K=(await Promise.all(V.map(async W=>{const q=ce(r,W);return await P(q&&q._f?{[W]:q}:q)}))).every(Boolean),!(!K&&!n.isValid)&&w()):K=M=await P(r);return m.state.next({...!Is(L)||(h.isValid||f.isValid)&&M!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:M}:{},errors:n.errors}),U.shouldFocus&&!K&&Wu(r,$,L?V:l.mount),K},ee=L=>{const U={...a.mount?i:s};return en(L)?U:Is(L)?ce(U,L):L.map(M=>ce(U,M))},le=(L,U)=>({invalid:!!ce((U||n).errors,L),isDirty:!!ce((U||n).dirtyFields,L),error:ce((U||n).errors,L),isValidating:!!ce(n.validatingFields,L),isTouched:!!ce((U||n).touchedFields,L)}),ie=L=>{L&&zu(L).forEach(U=>on(n.errors,U)),m.state.next({errors:L?n.errors:{}})},he=(L,U,M)=>{const K=(ce(r,L,{_f:{}})._f||{}).ref,V=ce(n.errors,L)||{},{ref:W,message:q,type:oe,...Ce}=V;pt(n.errors,L,{...Ce,...U,ref:K}),m.state.next({name:L,errors:n.errors,isValid:!1}),M&&M.shouldFocus&&K&&K.focus&&K.focus()},we=(L,U)=>as(L)?m.state.subscribe({next:M=>"values"in M&&L(A(void 0,U),M)}):A(L,U,!0),Ne=L=>m.state.subscribe({next:U=>{KG(L.name,U.name,L.exact)&&GG(U,L.formState||h,ct,L.reRenderRoot)&&L.callback({values:{...i},...n,...U,defaultValues:s})}}).unsubscribe,it=L=>(a.mount=!0,f={...f,...L.formState},Ne({...L,formState:f})),re=(L,U={})=>{for(const M of L?zu(L):l.mount)l.mount.delete(M),l.array.delete(M),U.keepValue||(on(r,M),on(i,M)),!U.keepError&&on(n.errors,M),!U.keepDirty&&on(n.dirtyFields,M),!U.keepTouched&&on(n.touchedFields,M),!U.keepIsValidating&&on(n.validatingFields,M),!e.shouldUnregister&&!U.keepDefaultValue&&on(s,M);m.state.next({values:fn(i)}),m.state.next({...n,...U.keepDirty?{isDirty:D()}:{}}),!U.keepIsValid&&w()},Be=({disabled:L,name:U})=>{(xr(L)&&a.mount||L||l.disabled.has(U))&&(L?l.disabled.add(U):l.disabled.delete(U))},rt=(L,U={})=>{let M=ce(r,L);const K=xr(U.disabled)||xr(e.disabled);return pt(r,L,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:L}},name:L,mount:!0,...U}}),l.mount.add(L),M?Be({disabled:xr(U.disabled)?U.disabled:e.disabled,name:L}):T(L,!0,U.value),{...K?{disabled:U.disabled||e.disabled}:{},...e.progressive?{required:!!U.required,min:hu(U.min),max:hu(U.max),minLength:hu(U.minLength),maxLength:hu(U.maxLength),pattern:hu(U.pattern)}:{},name:L,onChange:te,onBlur:te,ref:V=>{if(V){rt(L,U),M=ce(r,L);const W=en(V.value)&&V.querySelectorAll&&V.querySelectorAll("input,select,textarea")[0]||V,q=$G(W),oe=M._f.refs||[];if(q?oe.find(Ce=>Ce===W):W===M._f.ref)return;pt(r,L,{_f:{...M._f,...q?{refs:[...oe.filter(xy),W,...Array.isArray(ce(s,L))?[{}]:[]],ref:{type:W.type,name:L}}:{ref:W}}}),T(L,!1,void 0,W)}else M=ce(r,L,{}),M._f&&(M._f.mount=!1),(e.shouldUnregister||U.shouldUnregister)&&!(g2(l.array,L)&&a.action)&&l.unMount.add(L)}}},je=()=>e.shouldFocusError&&Wu(r,$,l.mount),Pe=L=>{xr(L)&&(m.state.next({disabled:L}),Wu(r,(U,M)=>{const K=ce(r,M);K&&(U.disabled=K._f.disabled||L,Array.isArray(K._f.refs)&&K._f.refs.forEach(V=>{V.disabled=K._f.disabled||L}))},0,!1))},Ae=(L,U)=>async M=>{let K;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let V=fn(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:W,values:q}=await N();n.errors=W,V=fn(q)}else await P(r);if(l.disabled.size)for(const W of l.disabled)on(V,W);if(on(n.errors,"root"),sr(n.errors)){m.state.next({errors:{}});try{await L(V,M)}catch(W){K=W}}else U&&await U({...n.errors},M),je(),setTimeout(je);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:sr(n.errors)&&!K,submitCount:n.submitCount+1,errors:n.errors}),K)throw K},xt=(L,U={})=>{ce(r,L)&&(en(U.defaultValue)?H(L,fn(ce(s,L))):(H(L,U.defaultValue),pt(s,L,fn(U.defaultValue))),U.keepTouched||on(n.touchedFields,L),U.keepDirty||(on(n.dirtyFields,L),n.isDirty=U.defaultValue?D(L,fn(ce(s,L))):D()),U.keepError||(on(n.errors,L),h.isValid&&w()),m.state.next({...n}))},pe=(L,U={})=>{const M=L?fn(L):s,K=fn(M),V=sr(L),W=V?s:K;if(U.keepDefaultValues||(s=M),!U.keepValues){if(U.keepDirtyValues){const q=new Set([...l.mount,...Object.keys(du(s,i))]);for(const oe of Array.from(q))ce(n.dirtyFields,oe)?pt(W,oe,ce(i,oe)):H(oe,ce(W,oe))}else{if(s0&&en(L))for(const q of l.mount){const oe=ce(r,q);if(oe&&oe._f){const Ce=Array.isArray(oe._f.refs)?oe._f.refs[0]:oe._f.ref;if(Dm(Ce)){const Tt=Ce.closest("form");if(Tt){Tt.reset();break}}}}if(U.keepFieldsRef)for(const q of l.mount)H(q,ce(W,q));else r={}}i=e.shouldUnregister?U.keepDefaultValues?fn(s):{}:fn(W),m.array.next({values:{...W}}),m.state.next({values:{...W}})}l={mount:U.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!U.keepIsValid||!!U.keepDirtyValues,a.watch=!!e.shouldUnregister,m.state.next({submitCount:U.keepSubmitCount?n.submitCount:0,isDirty:V?!1:U.keepDirty?n.isDirty:!!(U.keepDefaultValues&&!ri(L,s)),isSubmitted:U.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:V?{}:U.keepDirtyValues?U.keepDefaultValues&&i?du(s,i):n.dirtyFields:U.keepDefaultValues&&L?du(s,L):U.keepDirty?n.dirtyFields:{},touchedFields:U.keepTouched?n.touchedFields:{},errors:U.keepErrors?n.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ve=(L,U)=>pe(as(L)?L(i):L,U),Je=(L,U={})=>{const M=ce(r,L),K=M&&M._f;if(K){const V=K.refs?K.refs[0]:K.ref;V.focus&&(V.focus(),U.shouldSelect&&as(V.select)&&V.select())}},ct=L=>{n={...n,...L}},Fe={control:{register:rt,unregister:re,getFieldState:le,handleSubmit:Ae,setError:he,_subscribe:Ne,_runSchema:N,_focusError:je,_getWatch:A,_getDirty:D,_setValid:w,_setFieldArray:b,_setDisabledField:Be,_setErrors:v,_getFieldArray:j,_reset:pe,_resetDefaultValues:()=>as(e.defaultValues)&&e.defaultValues().then(L=>{ve(L,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:Pe,_subjects:m,_proxyFormState:h,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(L){a=L},get _defaultValues(){return s},get _names(){return l},set _names(L){l=L},get _formState(){return n},get _options(){return e},set _options(L){e={...e,...L}}},subscribe:it,trigger:B,register:rt,handleSubmit:Ae,watch:we,setValue:H,getValues:ee,reset:ve,resetField:xt,clearErrors:ie,unregister:re,setError:he,setFocus:Je,getFieldState:le};return{...Fe,formControl:Fe}}function XT(t={}){const e=Q.useRef(void 0),n=Q.useRef(void 0),[r,s]=Q.useState({isDirty:!1,isValidating:!1,isLoading:as(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:as(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!as(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=JG(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,l0(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),Q.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Q.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Q.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Q.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Q.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),Q.useEffect(()=>{t.values&&!ri(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),Q.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=v2(r,i),e.current}const ZT=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ce(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},C2=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?ZT(r.ref,n,t):r.refs&&r.refs.forEach(s=>ZT(s,n,t))}},eK=(t,e)=>{e.shouldUseNativeValidation&&C2(t,e);const n={};for(const r in t){const s=ce(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(tK(e.names||Object.keys(t),r)){const a=Object.assign({},ce(n,r));pt(a,"root",i),pt(n,r,a)}else pt(n,r,i)}return n},tK=(t,e)=>t.some(n=>n.startsWith(e+"."));var nK=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var c=n[a].types,u=c&&c[r.code];n[a]=w2(a,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},JT=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&C2({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:eK(nK(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},ht;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ht||(ht={}));var eS;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(eS||(eS={}));const ye=ht.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ki=t=>{switch(typeof t){case"undefined":return ye.undefined;case"string":return ye.string;case"number":return Number.isNaN(t)?ye.nan:ye.number;case"boolean":return ye.boolean;case"function":return ye.function;case"bigint":return ye.bigint;case"symbol":return ye.symbol;case"object":return Array.isArray(t)?ye.array:t===null?ye.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ye.promise:typeof Map<"u"&&t instanceof Map?ye.map:typeof Set<"u"&&t instanceof Set?ye.set:typeof Date<"u"&&t instanceof Date?ye.date:ye.object;default:return ye.unknown}},se=ht.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ci extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(e){if(!(e instanceof Ci))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ht.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ci.create=t=>new Ci(t);const hx=(t,e)=>{let n;switch(t.code){case se.invalid_type:t.received===ye.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case se.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ht.jsonStringifyReplacer)}`;break;case se.unrecognized_keys:n=`Unrecognized key(s) in object: ${ht.joinValues(t.keys,", ")}`;break;case se.invalid_union:n="Invalid input";break;case se.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ht.joinValues(t.options)}`;break;case se.invalid_enum_value:n=`Invalid enum value. Expected ${ht.joinValues(t.options)}, received '${t.received}'`;break;case se.invalid_arguments:n="Invalid function arguments";break;case se.invalid_return_type:n="Invalid function return type";break;case se.invalid_date:n="Invalid date";break;case se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ht.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case se.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case se.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case se.custom:n="Invalid input";break;case se.invalid_intersection_types:n="Intersection results could not be merged";break;case se.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case se.not_finite:n="Number must be finite";break;default:n=e.defaultError,ht.assertNever(t)}return{message:n}};let rK=hx;function sK(){return rK}const iK=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function fe(t,e){const n=sK(),r=iK({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===hx?void 0:hx].filter(s=>!!s)});t.common.issues.push(r)}class Ir{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Oe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return Ir.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Oe;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const Oe=Object.freeze({status:"aborted"}),Tu=t=>({status:"dirty",value:t}),Hr=t=>({status:"valid",value:t}),tS=t=>t.status==="aborted",nS=t=>t.status==="dirty",vc=t=>t.status==="valid",Lm=t=>typeof Promise<"u"&&t instanceof Promise;var xe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(xe||(xe={}));class Va{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const rS=(t,e)=>{if(vc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ci(t.common.issues);return this._error=n,this._error}}};function Xe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:s}}class lt{get description(){return this._def.description}_getType(e){return Ki(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ki(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ir,ctx:{common:e.parent.common,data:e.data,parsedType:Ki(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Lm(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ki(e)},s=this._parseSync({data:e,path:r.path,parent:r});return rS(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ki(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return vc(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>vc(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ki(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Lm(s)?s:Promise.resolve(s));return rS(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),l=()=>i.addIssue({code:se.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new wc({schema:this,typeName:Me.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Sa.create(this,this._def)}nullable(){return _c.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Us.create(this)}promise(){return $m.create(this,this._def)}or(e){return Fm.create([this,e],this._def)}and(e){return Um.create(this,e,this._def)}transform(e){return new wc({...Xe(this._def),schema:this,typeName:Me.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new mx({...Xe(this._def),innerType:this,defaultValue:n,typeName:Me.ZodDefault})}brand(){return new IK({typeName:Me.ZodBranded,type:this,...Xe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new px({...Xe(this._def),innerType:this,catchValue:n,typeName:Me.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return d0.create(this,e)}readonly(){return gx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const aK=/^c[^\s-]{8,}$/i,oK=/^[0-9a-z]+$/,lK=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cK=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,uK=/^[a-z0-9_-]{21}$/i,dK=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,hK=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fK=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,mK="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let wy;const pK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,yK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,xK=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,wK=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,I2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_K=new RegExp(`^${I2}$`);function k2(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function bK(t){return new RegExp(`^${k2(t)}$`)}function EK(t){let e=`${I2}T${k2(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function TK(t,e){return!!((e==="v4"||!e)&&pK.test(t)||(e==="v6"||!e)&&yK.test(t))}function SK(t,e){if(!dK.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function NK(t,e){return!!((e==="v4"||!e)&&gK.test(t)||(e==="v6"||!e)&&vK.test(t))}class ca extends lt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ye.string){const i=this._getOrReturnCtx(e);return fe(i,{code:se.invalid_type,expected:ye.string,received:i.parsedType}),Oe}const r=new Ir;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,l=e.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?fe(s,{code:se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&fe(s,{code:se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")fK.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"email",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")wy||(wy=new RegExp(mK,"u")),wy.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"emoji",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")cK.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"uuid",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")uK.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"nanoid",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")aK.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"cuid",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")oK.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"cuid2",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")lK.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"ulid",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),fe(s,{validation:"url",code:se.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"regex",code:se.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),fe(s,{code:se.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),fe(s,{code:se.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),fe(s,{code:se.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?EK(i).test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{code:se.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?_K.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{code:se.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?bK(i).test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{code:se.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?hK.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"duration",code:se.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?TK(e.data,i.version)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"ip",code:se.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?SK(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"jwt",code:se.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?NK(e.data,i.version)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"cidr",code:se.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?xK.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"base64",code:se.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?wK.test(e.data)||(s=this._getOrReturnCtx(e,s),fe(s,{validation:"base64url",code:se.invalid_string,message:i.message}),r.dirty()):ht.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:se.invalid_string,...xe.errToObj(r)})}_addCheck(e){return new ca({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...xe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...xe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...xe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...xe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...xe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...xe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...xe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...xe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...xe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...xe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...xe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...xe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...xe.errToObj(n)})}nonempty(e){return this.min(1,xe.errToObj(e))}trim(){return new ca({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ca({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ca({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ca.create=t=>new ca({checks:[],typeName:Me.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Xe(t)});function CK(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class Nd extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ye.number){const i=this._getOrReturnCtx(e);return fe(i,{code:se.invalid_type,expected:ye.number,received:i.parsedType}),Oe}let r;const s=new Ir;for(const i of this._def.checks)i.kind==="int"?ht.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:se.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:se.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:se.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?CK(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),fe(r,{code:se.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:se.not_finite,message:i.message}),s.dirty()):ht.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,s){return new Nd({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(s)}]})}_addCheck(e){return new Nd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ht.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Nd.create=t=>new Nd({checks:[],typeName:Me.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Xe(t)});class Cd extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ye.bigint)return this._getInvalidInput(e);let r;const s=new Ir;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:se.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:se.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:se.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ht.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return fe(n,{code:se.invalid_type,expected:ye.bigint,received:n.parsedType}),Oe}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,s){return new Cd({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(s)}]})}_addCheck(e){return new Cd({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Cd.create=t=>new Cd({checks:[],typeName:Me.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Xe(t)});class sS extends lt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ye.boolean){const r=this._getOrReturnCtx(e);return fe(r,{code:se.invalid_type,expected:ye.boolean,received:r.parsedType}),Oe}return Hr(e.data)}}sS.create=t=>new sS({typeName:Me.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Xe(t)});class Vm extends lt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ye.date){const i=this._getOrReturnCtx(e);return fe(i,{code:se.invalid_type,expected:ye.date,received:i.parsedType}),Oe}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return fe(i,{code:se.invalid_date}),Oe}const r=new Ir;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:se.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),fe(s,{code:se.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ht.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Vm({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:xe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:xe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Vm.create=t=>new Vm({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Me.ZodDate,...Xe(t)});class iS extends lt{_parse(e){if(this._getType(e)!==ye.symbol){const r=this._getOrReturnCtx(e);return fe(r,{code:se.invalid_type,expected:ye.symbol,received:r.parsedType}),Oe}return Hr(e.data)}}iS.create=t=>new iS({typeName:Me.ZodSymbol,...Xe(t)});class aS extends lt{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:se.invalid_type,expected:ye.undefined,received:r.parsedType}),Oe}return Hr(e.data)}}aS.create=t=>new aS({typeName:Me.ZodUndefined,...Xe(t)});class oS extends lt{_parse(e){if(this._getType(e)!==ye.null){const r=this._getOrReturnCtx(e);return fe(r,{code:se.invalid_type,expected:ye.null,received:r.parsedType}),Oe}return Hr(e.data)}}oS.create=t=>new oS({typeName:Me.ZodNull,...Xe(t)});class lS extends lt{constructor(){super(...arguments),this._any=!0}_parse(e){return Hr(e.data)}}lS.create=t=>new lS({typeName:Me.ZodAny,...Xe(t)});class cS extends lt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Hr(e.data)}}cS.create=t=>new cS({typeName:Me.ZodUnknown,...Xe(t)});class Fa extends lt{_parse(e){const n=this._getOrReturnCtx(e);return fe(n,{code:se.invalid_type,expected:ye.never,received:n.parsedType}),Oe}}Fa.create=t=>new Fa({typeName:Me.ZodNever,...Xe(t)});class uS extends lt{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:se.invalid_type,expected:ye.void,received:r.parsedType}),Oe}return Hr(e.data)}}uS.create=t=>new uS({typeName:Me.ZodVoid,...Xe(t)});class Us extends lt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ye.array)return fe(n,{code:se.invalid_type,expected:ye.array,received:n.parsedType}),Oe;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(a||l)&&(fe(n,{code:a?se.too_big:se.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(fe(n,{code:se.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(fe(n,{code:se.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>s.type._parseAsync(new Va(n,a,n.path,l)))).then(a=>Ir.mergeArray(r,a));const i=[...n.data].map((a,l)=>s.type._parseSync(new Va(n,a,n.path,l)));return Ir.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Us({...this._def,minLength:{value:e,message:xe.toString(n)}})}max(e,n){return new Us({...this._def,maxLength:{value:e,message:xe.toString(n)}})}length(e,n){return new Us({...this._def,exactLength:{value:e,message:xe.toString(n)}})}nonempty(e){return this.min(1,e)}}Us.create=(t,e)=>new Us({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Me.ZodArray,...Xe(e)});function ml(t){if(t instanceof Yt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Sa.create(ml(r))}return new Yt({...t._def,shape:()=>e})}else return t instanceof Us?new Us({...t._def,type:ml(t.element)}):t instanceof Sa?Sa.create(ml(t.unwrap())):t instanceof _c?_c.create(ml(t.unwrap())):t instanceof Bo?Bo.create(t.items.map(e=>ml(e))):t}class Yt extends lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ht.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ye.object){const u=this._getOrReturnCtx(e);return fe(u,{code:se.invalid_type,expected:ye.object,received:u.parsedType}),Oe}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Fa&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const h=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new Va(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Fa){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(u==="strict")l.length>0&&(fe(s,{code:se.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const f=s.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new Va(s,f,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const f=await h.key,m=await h.value;u.push({key:f,value:m,alwaysSet:h.alwaysSet})}return u}).then(u=>Ir.mergeObjectSync(r,u)):Ir.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return xe.errToObj,new Yt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:xe.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Yt({...this._def,unknownKeys:"strip"})}passthrough(){return new Yt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Yt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Yt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Me.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Yt({...this._def,catchall:e})}pick(e){const n={};for(const r of ht.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Yt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ht.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Yt({...this._def,shape:()=>n})}deepPartial(){return ml(this)}partial(e){const n={};for(const r of ht.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new Yt({...this._def,shape:()=>n})}required(e){const n={};for(const r of ht.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Sa;)i=i._def.innerType;n[r]=i}return new Yt({...this._def,shape:()=>n})}keyof(){return P2(ht.objectKeys(this.shape))}}Yt.create=(t,e)=>new Yt({shape:()=>t,unknownKeys:"strip",catchall:Fa.create(),typeName:Me.ZodObject,...Xe(e)});Yt.strictCreate=(t,e)=>new Yt({shape:()=>t,unknownKeys:"strict",catchall:Fa.create(),typeName:Me.ZodObject,...Xe(e)});Yt.lazycreate=(t,e)=>new Yt({shape:t,unknownKeys:"strip",catchall:Fa.create(),typeName:Me.ZodObject,...Xe(e)});class Fm extends lt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new Ci(l.ctx.common.issues));return fe(n,{code:se.invalid_union,unionErrors:a}),Oe}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new Ci(c));return fe(n,{code:se.invalid_union,unionErrors:l}),Oe}}get options(){return this._def.options}}Fm.create=(t,e)=>new Fm({options:t,typeName:Me.ZodUnion,...Xe(e)});function fx(t,e){const n=Ki(t),r=Ki(e);if(t===e)return{valid:!0,data:t};if(n===ye.object&&r===ye.object){const s=ht.objectKeys(e),i=ht.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of i){const c=fx(t[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(n===ye.array&&r===ye.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],c=fx(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===ye.date&&r===ye.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Um extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(tS(i)||tS(a))return Oe;const l=fx(i.value,a.value);return l.valid?((nS(i)||nS(a))&&n.dirty(),{status:n.value,value:l.data}):(fe(r,{code:se.invalid_intersection_types}),Oe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Um.create=(t,e,n)=>new Um({left:t,right:e,typeName:Me.ZodIntersection,...Xe(n)});class Bo extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.array)return fe(r,{code:se.invalid_type,expected:ye.array,received:r.parsedType}),Oe;if(r.data.length<this._def.items.length)return fe(r,{code:se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Oe;!this._def.rest&&r.data.length>this._def.items.length&&(fe(r,{code:se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Va(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>Ir.mergeArray(n,a)):Ir.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Bo({...this._def,rest:e})}}Bo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bo({items:t,typeName:Me.ZodTuple,rest:null,...Xe(e)})};class dS extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.map)return fe(r,{code:se.invalid_type,expected:ye.map,received:r.parsedType}),Oe;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new Va(r,l,r.path,[u,"key"])),value:i._parse(new Va(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return Oe;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return Oe;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}}}}dS.create=(t,e,n)=>new dS({valueType:e,keyType:t,typeName:Me.ZodMap,...Xe(n)});class Id extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.set)return fe(r,{code:se.invalid_type,expected:ye.set,received:r.parsedType}),Oe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(fe(r,{code:se.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(fe(r,{code:se.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const h of c){if(h.status==="aborted")return Oe;h.status==="dirty"&&n.dirty(),u.add(h.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new Va(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,n){return new Id({...this._def,minSize:{value:e,message:xe.toString(n)}})}max(e,n){return new Id({...this._def,maxSize:{value:e,message:xe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Id.create=(t,e)=>new Id({valueType:t,minSize:null,maxSize:null,typeName:Me.ZodSet,...Xe(e)});class hS extends lt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}hS.create=(t,e)=>new hS({getter:t,typeName:Me.ZodLazy,...Xe(e)});class fS extends lt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return fe(n,{received:n.data,code:se.invalid_literal,expected:this._def.value}),Oe}return{status:"valid",value:e.data}}get value(){return this._def.value}}fS.create=(t,e)=>new fS({value:t,typeName:Me.ZodLiteral,...Xe(e)});function P2(t,e){return new xc({values:t,typeName:Me.ZodEnum,...Xe(e)})}class xc extends lt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return fe(n,{expected:ht.joinValues(r),received:n.parsedType,code:se.invalid_type}),Oe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return fe(n,{received:n.data,code:se.invalid_enum_value,options:r}),Oe}return Hr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return xc.create(e,{...this._def,...n})}exclude(e,n=this._def){return xc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}xc.create=P2;class mS extends lt{_parse(e){const n=ht.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ye.string&&r.parsedType!==ye.number){const s=ht.objectValues(n);return fe(r,{expected:ht.joinValues(s),received:r.parsedType,code:se.invalid_type}),Oe}if(this._cache||(this._cache=new Set(ht.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ht.objectValues(n);return fe(r,{received:r.data,code:se.invalid_enum_value,options:s}),Oe}return Hr(e.data)}get enum(){return this._def.values}}mS.create=(t,e)=>new mS({values:t,typeName:Me.ZodNativeEnum,...Xe(e)});class $m extends lt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.promise&&n.common.async===!1)return fe(n,{code:se.invalid_type,expected:ye.promise,received:n.parsedType}),Oe;const r=n.parsedType===ye.promise?n.data:Promise.resolve(n.data);return Hr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}$m.create=(t,e)=>new $m({type:t,typeName:Me.ZodPromise,...Xe(e)});class wc extends lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{fe(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return Oe;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Oe:c.status==="dirty"||n.value==="dirty"?Tu(c.value):c});{if(n.value==="aborted")return Oe;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?Oe:l.status==="dirty"||n.value==="dirty"?Tu(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Oe:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Oe:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!vc(a))return Oe;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>vc(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:n.value,value:l})):Oe);ht.assertNever(s)}}wc.create=(t,e,n)=>new wc({schema:t,typeName:Me.ZodEffects,effect:e,...Xe(n)});wc.createWithPreprocess=(t,e,n)=>new wc({schema:e,effect:{type:"preprocess",transform:t},typeName:Me.ZodEffects,...Xe(n)});class Sa extends lt{_parse(e){return this._getType(e)===ye.undefined?Hr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sa.create=(t,e)=>new Sa({innerType:t,typeName:Me.ZodOptional,...Xe(e)});class _c extends lt{_parse(e){return this._getType(e)===ye.null?Hr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_c.create=(t,e)=>new _c({innerType:t,typeName:Me.ZodNullable,...Xe(e)});class mx extends lt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}mx.create=(t,e)=>new mx({innerType:t,typeName:Me.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Xe(e)});class px extends lt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Lm(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ci(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ci(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}px.create=(t,e)=>new px({innerType:t,typeName:Me.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Xe(e)});class pS extends lt{_parse(e){if(this._getType(e)!==ye.nan){const r=this._getOrReturnCtx(e);return fe(r,{code:se.invalid_type,expected:ye.nan,received:r.parsedType}),Oe}return{status:"valid",value:e.data}}}pS.create=t=>new pS({typeName:Me.ZodNaN,...Xe(t)});class IK extends lt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class d0 extends lt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Oe:i.status==="dirty"?(n.dirty(),Tu(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Oe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new d0({in:e,out:n,typeName:Me.ZodPipeline})}}class gx extends lt{_parse(e){const n=this._def.innerType._parse(e),r=s=>(vc(s)&&(s.value=Object.freeze(s.value)),s);return Lm(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}gx.create=(t,e)=>new gx({innerType:t,typeName:Me.ZodReadonly,...Xe(e)});Yt.lazycreate;var Me;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Me||(Me={}));const zl=ca.create;Fa.create;Us.create;const A2=Yt.create;Yt.strictCreate;Fm.create;Um.create;Bo.create;const kK=xc.create;$m.create;Sa.create;_c.create;const PK=A2({name:zl().min(1,"Name is required"),phone:zl().min(10,"Phone number must be at least 10 digits"),gender:kK(["male","female","other"],{required_error:"Please select a gender"}),department:zl().min(1,"Department is required")}),AK=A2({currentPassword:zl().min(1,"Current password is required"),newPassword:zl().min(6,"New password must be at least 6 characters"),confirmPassword:zl().min(6,"Please confirm your new password")}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),jK=()=>{const{user:t}=gr(),{toast:e}=pr(),[n,r]=p.useState(!0),[s,i]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(!1),h=XT({resolver:JT(PK)}),f=XT({resolver:JT(AK)});p.useEffect(()=>{if(t){m();const w=t.providerData.some(x=>x.providerId==="password");u(w)}},[t]);const m=async()=>{try{const w=await Lo(wt(qe,"profiles",t.uid));if(w.exists()){const x=w.data();h.reset({name:x.name||"",phone:x.phone||"",gender:x.gender||"",department:x.department||""})}}catch(w){console.error("Error fetching profile:",w),e({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{r(!1)}},g=async w=>{if(t){i(!0);try{await Di(wt(qe,"profiles",t.uid),{...w,updated_at:Ye()}),e({title:"Success",description:"Profile updated successfully"})}catch(x){console.error("Error updating profile:",x),e({title:"Error",description:"Failed to update profile",variant:"destructive"})}finally{i(!1)}}},E=async w=>{if(!(!t||!t.email)){l(!0);try{const x=Ko.credential(t.email,w.currentPassword);await _9(t,x),await N9(t,w.newPassword),e({title:"Success",description:"Password changed successfully"}),f.reset()}catch(x){console.error("Error changing password:",x);let b="Failed to change password";x.code==="auth/wrong-password"?b="Current password is incorrect":x.code==="auth/weak-password"&&(b="New password is too weak"),e({title:"Error",description:b,variant:"destructive"})}finally{l(!1)}}};return n?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx(zn,{className:"h-8 w-8 animate-spin"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Profile Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:"Profile Information"}),o.jsx(Wr,{children:"Update your personal details"})]}),o.jsx(Te,{children:o.jsxs("form",{onSubmit:h.handleSubmit(g),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"name",children:"Full Name"}),o.jsx(ft,{id:"name",...h.register("name"),placeholder:"Enter your full name"}),h.formState.errors.name&&o.jsx("p",{className:"text-sm text-red-500",children:h.formState.errors.name.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"phone",children:"Mobile Number"}),o.jsx(ft,{id:"phone",...h.register("phone"),placeholder:"Enter your mobile number"}),h.formState.errors.phone&&o.jsx("p",{className:"text-sm text-red-500",children:h.formState.errors.phone.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"gender",children:"Gender"}),o.jsx(UG,{name:"gender",control:h.control,render:({field:w})=>o.jsxs(Ct,{value:w.value,onValueChange:w.onChange,children:[o.jsx(_t,{children:o.jsx(It,{placeholder:"Select gender"})}),o.jsxs(bt,{children:[o.jsx(We,{value:"male",children:"Male"}),o.jsx(We,{value:"female",children:"Female"}),o.jsx(We,{value:"other",children:"Other"})]})]})}),h.formState.errors.gender&&o.jsx("p",{className:"text-sm text-red-500",children:h.formState.errors.gender.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"department",children:"Department"}),o.jsx(ft,{id:"department",...h.register("department"),placeholder:"Enter your department"}),h.formState.errors.department&&o.jsx("p",{className:"text-sm text-red-500",children:h.formState.errors.department.message})]}),o.jsxs(_e,{type:"submit",disabled:s,children:[s&&o.jsx(zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Profile"]})]})})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:"Change Password"}),o.jsx(Wr,{children:"Update your account password"})]}),o.jsx(Te,{children:o.jsxs("form",{onSubmit:f.handleSubmit(E),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"currentPassword",children:"Current Password"}),o.jsx(ft,{id:"currentPassword",type:"password",...f.register("currentPassword"),placeholder:"Enter current password"}),f.formState.errors.currentPassword&&o.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.currentPassword.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"newPassword",children:"New Password"}),o.jsx(ft,{id:"newPassword",type:"password",...f.register("newPassword"),placeholder:"Enter new password"}),f.formState.errors.newPassword&&o.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.newPassword.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"confirmPassword",children:"Confirm New Password"}),o.jsx(ft,{id:"confirmPassword",type:"password",...f.register("confirmPassword"),placeholder:"Confirm new password"}),f.formState.errors.confirmPassword&&o.jsx("p",{className:"text-sm text-red-500",children:f.formState.errors.confirmPassword.message})]}),o.jsxs(_e,{type:"submit",disabled:a,children:[a&&o.jsx(zn,{className:"mr-2 h-4 w-4 animate-spin"}),"Change Password"]})]})})]})]})]})},RK=qo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),rs=p.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:de(RK({variant:e}),t),...n}));rs.displayName="Alert";const DK=p.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:de("mb-1 font-medium leading-none tracking-tight",t),...e}));DK.displayName="AlertTitle";const ss=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:de("text-sm [&_p]:leading-relaxed",t),...e}));ss.displayName="AlertDescription";const OK=()=>{const{user:t}=gr(),{toast:e}=pr(),[n,r]=p.useState([]),[s,i]=p.useState(""),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState(!1),[m,g]=p.useState(!1),E=v=>{if(!v)return"N/A";let T;if(typeof v=="object"&&v.toDate?T=v.toDate():typeof v=="object"&&v.seconds?T=new Date(v.seconds*1e3):T=new Date(v),isNaN(T.getTime()))return"N/A";const I=String(T.getDate()).padStart(2,"0"),R=String(T.getMonth()+1).padStart(2,"0"),N=T.getFullYear();return`${I}/${R}/${N}`};p.useEffect(()=>{(async()=>{f(!0);try{const T=await Cr();console.log("Fetched tournaments:",T);const I=T.filter(R=>R.is_active);console.log("Available tournaments:",I),r(I),I.length===0&&e({title:"No Tournaments",description:"No active tournaments found. Please ensure tournaments are created in admin panel."})}catch(T){console.error("Error loading tournaments:",T),e({title:"Error",description:"Failed to load tournaments",variant:"destructive"})}finally{f(!1)}})()},[e]),p.useEffect(()=>{if(!s||!t){l([]),u([]);return}(async()=>{g(!0);try{const[T,I]=await Promise.all([mr(s),fi({tournamentId:s})]);console.log("Fetched games for tournament:",s,T),l(T),console.log("User registrations:",I);const R=I.filter(N=>N.user_id===t.uid);console.log("User's registrations:",R),u(R),T.length===0&&e({title:"No Games",description:"No games found in this tournament. Please ensure games are created in admin panel."})}catch(T){console.error("Error loading games:",T),e({title:"Error",description:"Failed to load games",variant:"destructive"})}finally{g(!1)}})()},[s,t,e]);const w=v=>c.find(T=>T.game_id===v),x=async v=>{if(!(!t||!s))try{await oq({tournament_id:s,game_id:v,user_id:t.uid}),e({title:"Registration Submitted",description:"Your registration has been submitted for admin approval."});const I=(await fi({tournamentId:s})).filter(R=>R.user_id===t.uid);u(I)}catch(T){console.error("Error registering:",T),e({title:"Registration Failed",description:T.message||"Failed to submit registration",variant:"destructive"})}},b=v=>{switch(v){case"SINGLE":return"Single Player";case"PAIR":return"Pair (2 Players)";case"TEAM":return"Team";default:return v}},y=n.find(v=>v.id===s);return h?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx(zn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Register for Games"}),o.jsx("p",{className:"text-muted-foreground",children:"Browse available tournaments and register for games"})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:"Select Tournament"}),o.jsx(Wr,{children:"Choose a tournament to view available games"})]}),o.jsx(Te,{children:n.length===0?o.jsx(rs,{children:o.jsx(ss,{children:"No active tournaments available at the moment. Please check back later."})}):o.jsxs(Ct,{value:s,onValueChange:i,children:[o.jsx(_t,{className:"w-full",children:o.jsx(It,{placeholder:"Select a tournament"})}),o.jsx(bt,{children:n.map(v=>o.jsx(We,{value:v.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"h-4 w-4"}),o.jsx("span",{children:v.name}),o.jsx(Zt,{variant:"outline",className:"ml-2",children:v.status})]})},v.id))})]})})]}),y&&o.jsxs(Ee,{className:"border-primary/20 bg-primary/5",children:[o.jsx(Ke,{children:o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"h-5 w-5"}),y.name]})}),o.jsxs(Te,{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(vi,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:"Start Date:"}),o.jsx("span",{className:"font-medium",children:E(y.start_date)})]}),y.end_date&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(vi,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:"End Date:"}),o.jsx("span",{className:"font-medium",children:E(y.end_date)})]})]})]}),s&&o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:"Available Games"}),o.jsxs(Wr,{children:[a.length," game",a.length!==1?"s":""," available for registration"]})]}),o.jsx(Te,{children:m?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(zn,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):a.length===0?o.jsx(rs,{children:o.jsx(ss,{children:"No active games available in this tournament yet."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(v=>{const T=w(v.id),I=!!T,R=(T==null?void 0:T.status)==="pending",N=(T==null?void 0:T.status)==="approved",C=(T==null?void 0:T.status)==="rejected";return o.jsxs(Ee,{className:"relative overflow-hidden",children:[o.jsx(Ke,{children:o.jsxs(Qe,{className:"text-lg flex items-start justify-between",children:[o.jsx("span",{children:v.name}),N&&o.jsx(yw,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),R&&o.jsx(Go,{className:"h-5 w-5 text-yellow-500 flex-shrink-0"}),C&&o.jsx(xI,{className:"h-5 w-5 text-red-500 flex-shrink-0"})]})}),o.jsxs(Te,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(xi,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:"Type:"}),o.jsx(Zt,{variant:"secondary",children:b(v.game_type)})]}),v.game_type!=="SINGLE"&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(xi,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:"Players per team:"}),o.jsx("span",{className:"font-medium",children:v.players_per_team})]})]}),I&&o.jsx("div",{className:"pt-2",children:o.jsxs(Zt,{variant:N?"default":R?"secondary":"destructive",className:"w-full justify-center py-2",children:[N&&" Approved",R&&" Pending Approval",C&&" Rejected"]})}),!I&&o.jsx(_e,{className:"w-full",onClick:()=>x(v.id),children:"Register Now"}),C&&o.jsx(_e,{className:"w-full",variant:"outline",onClick:()=>x(v.id),children:"Register Again"})]})]},v.id)})})})]}),!s&&n.length>0&&o.jsx(rs,{children:o.jsx(ss,{children:"Please select a tournament above to view available games."})})]})};var _y="rovingFocusGroup.onEntryFocus",MK={bubbles:!1,cancelable:!0},rh="RovingFocusGroup",[yx,j2,LK]=fw(rh),[VK,R2]=ki(rh,[LK]),[FK,UK]=VK(rh),D2=p.forwardRef((t,e)=>o.jsx(yx.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(yx.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx($K,{...t,ref:e})})}));D2.displayName=rh;var $K=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=t,m=p.useRef(null),g=Et(e,m),E=U_(i),[w,x]=Ia({prop:a,defaultProp:l??null,onChange:c,caller:rh}),[b,y]=p.useState(!1),v=$r(u),T=j2(n),I=p.useRef(!1),[R,N]=p.useState(0);return p.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(_y,v),()=>C.removeEventListener(_y,v)},[v]),o.jsx(FK,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:w,onItemFocus:p.useCallback(C=>x(C),[x]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(C=>C+1),[]),onFocusableItemRemove:p.useCallback(()=>N(C=>C-1),[]),children:o.jsx(Ve.div,{tabIndex:b||R===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:Se(t.onMouseDown,()=>{I.current=!0}),onFocus:Se(t.onFocus,C=>{const P=!I.current;if(C.target===C.currentTarget&&P&&!b){const k=new CustomEvent(_y,MK);if(C.currentTarget.dispatchEvent(k),!k.defaultPrevented){const D=T().filter(H=>H.focusable),A=D.find(H=>H.active),j=D.find(H=>H.id===w),J=[A,j,...D].filter(Boolean).map(H=>H.ref.current);L2(J,h)}}I.current=!1}),onBlur:Se(t.onBlur,()=>y(!1))})})}),O2="RovingFocusGroupItem",M2=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...l}=t,c=ci(),u=i||c,h=UK(O2,n),f=h.currentTabStopId===u,m=j2(n),{onFocusableItemAdd:g,onFocusableItemRemove:E,currentTabStopId:w}=h;return p.useEffect(()=>{if(r)return g(),()=>E()},[r,g,E]),o.jsx(yx.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:o.jsx(Ve.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Se(t.onMouseDown,x=>{r?h.onItemFocus(u):x.preventDefault()}),onFocus:Se(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:Se(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=WK(x,h.orientation,h.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let v=m().filter(T=>T.focusable).map(T=>T.ref.current);if(b==="last")v.reverse();else if(b==="prev"||b==="next"){b==="prev"&&v.reverse();const T=v.indexOf(x.currentTarget);v=h.loop?HK(v,T+1):v.slice(T+1)}setTimeout(()=>L2(v))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:w!=null}):a})})});M2.displayName=O2;var BK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function WK(t,e,n){const r=zK(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return BK[r]}function L2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function HK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qK=D2,GK=M2,rg="Tabs",[KK,xQ]=ki(rg,[R2]),V2=R2(),[QK,h0]=KK(rg),F2=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=U_(l),[f,m]=Ia({prop:r,onChange:s,defaultProp:i??"",caller:rg});return o.jsx(QK,{scope:n,baseId:ci(),value:f,onValueChange:m,orientation:a,dir:h,activationMode:c,children:o.jsx(Ve.div,{dir:h,"data-orientation":a,...u,ref:e})})});F2.displayName=rg;var U2="TabsList",$2=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=h0(U2,n),a=V2(n);return o.jsx(qK,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(Ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});$2.displayName=U2;var B2="TabsTrigger",z2=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=h0(B2,n),l=V2(n),c=q2(a.baseId,r),u=G2(a.baseId,r),h=r===a.value;return o.jsx(GK,{asChild:!0,...l,focusable:!s,active:h,children:o.jsx(Ve.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:Se(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:Se(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:Se(t.onFocus,()=>{const f=a.activationMode!=="manual";!h&&!s&&f&&a.onValueChange(r)})})})});z2.displayName=B2;var W2="TabsContent",H2=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=h0(W2,n),c=q2(l.baseId,r),u=G2(l.baseId,r),h=r===l.value,f=p.useRef(h);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(za,{present:s||h,children:({present:m})=>o.jsx(Ve.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});H2.displayName=W2;function q2(t,e){return`${t}-trigger-${e}`}function G2(t,e){return`${t}-content-${e}`}var YK=F2,K2=$2,Q2=z2,Y2=H2;const XK=YK,X2=p.forwardRef(({className:t,...e},n)=>o.jsx(K2,{ref:n,className:de("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));X2.displayName=K2.displayName;const pl=p.forwardRef(({className:t,...e},n)=>o.jsx(Q2,{ref:n,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));pl.displayName=Q2.displayName;const gl=p.forwardRef(({className:t,...e},n)=>o.jsx(Y2,{ref:n,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));gl.displayName=Y2.displayName;const ZK=()=>{const{user:t}=gr(),{toast:e}=pr(),[n,r]=p.useState([]),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState([]),[h,f]=p.useState([]),[m,g]=p.useState(!0),E=N=>{if(!N)return"N/A";let C;if(typeof N=="object"&&N.toDate?C=N.toDate():typeof N=="object"&&N.seconds?C=new Date(N.seconds*1e3):C=new Date(N),isNaN(C.getTime()))return"N/A";const P=String(C.getDate()).padStart(2,"0"),k=String(C.getMonth()+1).padStart(2,"0"),D=C.getFullYear();return`${P}/${k}/${D}`};p.useEffect(()=>{(async()=>{if(t){g(!0);try{const[C,P,k,D,A]=await Promise.all([fi({}),mr(),Cr(),Jo({userId:t.uid}),gs()]),j=C.filter(F=>F.user_id===t.uid);r(j),l(P),u(k),i(D),f(A)}catch(C){console.error("Error loading data:",C),e({title:"Error",description:"Failed to load your games",variant:"destructive"})}finally{g(!1)}}})()},[t,e]);const w=N=>a.find(C=>C.id===N),x=N=>c.find(C=>C.id===N),b=N=>{var C;return((C=h.find(P=>P.id===N))==null?void 0:C.name)||"Unknown User"},y=N=>{switch(N){case"SINGLE":return"Single Player";case"PAIR":return"Pair (2 Players)";case"TEAM":return"Team";default:return N}},v=n.filter(N=>N.status==="pending"),T=n.filter(N=>N.status==="approved"),I=n.filter(N=>N.status==="rejected"),R=({registration:N})=>{const C=w(N.game_id),P=x(N.tournament_id);return!C||!P?null:o.jsxs(Ee,{children:[o.jsx(Ke,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qe,{className:"text-lg",children:C.name}),o.jsxs(Wr,{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"h-4 w-4"}),P.name]})]}),o.jsx("div",{className:"flex flex-col items-end gap-2",children:o.jsxs(Zt,{variant:N.status==="approved"?"default":N.status==="pending"?"secondary":"destructive",children:[N.status==="approved"&&o.jsx(yw,{className:"h-3 w-3 mr-1"}),N.status==="pending"&&o.jsx(Go,{className:"h-3 w-3 mr-1"}),N.status==="rejected"&&o.jsx(xI,{className:"h-3 w-3 mr-1"}),N.status]})})]})}),o.jsxs(Te,{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xi,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:"Type:"})]}),o.jsx(Zt,{variant:"outline",children:y(C.game_type)}),P.start_date&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vi,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:"Start:"})]}),o.jsx("span",{className:"font-medium",children:E(P.start_date)})]})]}),N.notes&&o.jsx("div",{className:"pt-3 border-t",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium",children:"Note:"})," ",N.notes]})}),o.jsxs("div",{className:"pt-2 text-xs text-muted-foreground",children:["Registered on ",E(N.created_at)]})]})]})};return m?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx(zn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Games"}),o.jsx("p",{className:"text-muted-foreground",children:"View and manage your game registrations"})]}),n.length===0&&s.length===0?o.jsx(Ee,{children:o.jsx(Te,{className:"pt-6",children:o.jsx(rs,{children:o.jsxs(ss,{className:"text-center",children:["You haven't registered for any games or joined any teams yet. Visit the ",o.jsx("strong",{children:"Register for Games"})," page to get started!"]})})})}):o.jsxs(XK,{defaultValue:"all",className:"space-y-4",children:[o.jsxs(X2,{className:"grid w-full grid-cols-5 max-w-3xl",children:[o.jsxs(pl,{value:"all",children:["All (",n.length,")"]}),o.jsxs(pl,{value:"teams",children:["Teams (",s.length,")"]}),o.jsxs(pl,{value:"pending",children:["Pending (",v.length,")"]}),o.jsxs(pl,{value:"approved",children:["Approved (",T.length,")"]}),o.jsxs(pl,{value:"rejected",children:["Rejected (",I.length,")"]})]}),o.jsx(gl,{value:"all",className:"space-y-4",children:n.length===0?o.jsx(rs,{children:o.jsx(ss,{children:"No registrations found."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(N=>o.jsx(R,{registration:N},N.id))})}),o.jsx(gl,{value:"teams",className:"space-y-4",children:s.length===0?o.jsx(rs,{children:o.jsx(ss,{children:"You are not part of any teams yet."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map(N=>{const C=x(N.tournament_id),P=w(N.game_id),k=N.player_ids.filter(D=>D!==(t==null?void 0:t.uid)).map(D=>b(D));return o.jsxs(Ee,{children:[o.jsx(Ke,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Qe,{className:"text-lg",children:N.name}),o.jsxs(Wr,{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"h-4 w-4"}),C==null?void 0:C.name," - ",P==null?void 0:P.name]})]}),o.jsx(Zt,{variant:N.status==="confirmed"?"default":"secondary",children:N.status})]})}),o.jsxs(Te,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground min-w-[60px]",children:[o.jsx(xi,{className:"h-4 w-4"}),o.jsx("span",{children:"Type:"})]}),o.jsx("span",{className:"font-medium",children:N.is_pair?"Pair":"Team"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(lL,{className:"h-4 w-4"}),o.jsx("span",{children:"Teammates:"})]}),k.length>0?o.jsx("div",{className:"flex flex-wrap gap-2 pl-6",children:k.map((D,A)=>o.jsx(Zt,{variant:"outline",className:"bg-muted/50",children:D},A))}):o.jsx("span",{className:"text-sm text-muted-foreground pl-6 italic",children:"No other members yet"})]})]})]},N.id)})})}),o.jsx(gl,{value:"pending",className:"space-y-4",children:v.length===0?o.jsx(rs,{children:o.jsx(ss,{children:"No pending registrations. All your registrations have been processed."})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:v.map(N=>o.jsx(R,{registration:N},N.id))})}),o.jsx(gl,{value:"approved",className:"space-y-4",children:T.length===0?o.jsx(rs,{children:o.jsx(ss,{children:"No approved registrations yet. Check back later!"})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:T.map(N=>o.jsx(R,{registration:N},N.id))})}),o.jsx(gl,{value:"rejected",className:"space-y-4",children:I.length===0?o.jsx(rs,{children:o.jsx(ss,{children:"No rejected registrations. Great!"})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:I.map(N=>o.jsx(R,{registration:N},N.id))})})]})]})},JK=()=>{const{user:t}=gr(),[e,n]=p.useState([]),[r,s]=p.useState([]),[i,a]=p.useState([]),[l,c]=p.useState([]),[u,h]=p.useState([]),[f,m]=p.useState(!0);p.useEffect(()=>{(async()=>{if(t){m(!0);try{const[T,I,R,N]=await Promise.all([Jo({userId:t.uid}),z_(t.uid),mr(),gs()]),C=T.map(F=>F.id),P=await W_(C),D=[...I,...P].map(F=>F.id),[A,j]=await Promise.all([B_(D),eh({})]);n(A),s(j),a(T),c(R),h(N)}catch(T){console.error("Error loading matches:",T)}finally{m(!1)}}})()},[t]);const g=p.useMemo(()=>u.reduce((v,T)=>(v[T.id]=T,v),{}),[u]);p.useMemo(()=>[],[]);const E=v=>{var I,R;if(!v)return"TBD";const T=r.find(N=>N.id===v);return T?T.type==="USER"&&T.user_id?((I=g[T.user_id])==null?void 0:I.name)||"User":"Team "+(((R=T.team_id)==null?void 0:R.slice(-4))||""):"Participant"},w=v=>{var T;return((T=l.find(I=>I.id===v))==null?void 0:T.name)||"Unknown Game"},x=v=>{if(!v)return"TBD";const T=v!=null&&v.toDate?v.toDate():new Date(v);return Bu(T)?Or(T,"PPp"):"TBD"},b=e.filter(v=>v.status.toUpperCase()!=="COMPLETED"&&v.status.toUpperCase()!=="CANCELLED"),y=e.filter(v=>v.status.toUpperCase()==="COMPLETED");return f?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(zn,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"My Matches"}),o.jsx("p",{className:"text-muted-foreground",children:"Detailed view of your scheduled and past matches"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("section",{children:[o.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2 mb-4",children:[o.jsx(vi,{className:"h-5 w-5 text-primary"}),"Upcoming Matches"]}),b.length>0?o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:b.map(v=>o.jsxs(Ee,{className:"hover:shadow-md transition-shadow",children:[o.jsx(Ke,{className:"pb-2",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Zt,{variant:"outline",className:"mb-2",children:w(v.game_id)}),o.jsx(Qe,{className:"text-lg",children:v.round_name})]}),o.jsx(Zt,{children:v.status})]})}),o.jsxs(Te,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-y",children:[o.jsx("div",{className:"text-center flex-1 font-semibold",children:E(v.participant_a_id)}),o.jsx("div",{className:"px-3 text-muted-foreground font-bold italic",children:"VS"}),o.jsx("div",{className:"text-center flex-1 font-semibold",children:E(v.participant_b_id)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-muted-foreground pt-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Go,{className:"h-4 w-4"}),o.jsx("span",{children:x(v.match_time)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(op,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:v.venue||"Venue TBD"})]})]})]})]},v.id))}):o.jsx(Ee,{className:"bg-muted/50 border-dashed",children:o.jsx(Te,{className:"py-8 text-center text-muted-foreground",children:"No upcoming matches scheduled yet."})})]}),o.jsxs("section",{children:[o.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2 mb-4",children:[o.jsx(rn,{className:"h-5 w-5 text-yellow-500"}),"Match History"]}),y.length>0?o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:y.map(v=>o.jsxs(Ee,{className:"bg-muted/20",children:[o.jsx(Ke,{className:"pb-2",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Zt,{variant:"secondary",className:"mb-2",children:w(v.game_id)}),o.jsx(Qe,{className:"text-lg opacity-80",children:v.round_name})]}),o.jsx(Zt,{variant:"outline",className:"bg-green-100 text-green-700 border-green-200",children:"Completed"})]})}),o.jsxs(Te,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm py-2 border-y",children:[o.jsxs("div",{className:`text-center flex-1 ${v.winner_participant_id===v.participant_a_id?"font-bold text-green-600":"opacity-60"}`,children:[E(v.participant_a_id),v.winner_participant_id===v.participant_a_id&&" "]}),o.jsx("div",{className:"px-3 text-muted-foreground font-bold italic",children:"VS"}),o.jsxs("div",{className:`text-center flex-1 ${v.winner_participant_id===v.participant_b_id?"font-bold text-green-600":"opacity-60"}`,children:[E(v.participant_b_id),v.winner_participant_id===v.participant_b_id&&" "]})]}),o.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:["Match played on ",x(v.match_time)]})]})]},v.id))}):o.jsx(Ee,{className:"bg-muted/50 border-dashed",children:o.jsx(Te,{className:"py-8 text-center text-muted-foreground",children:"No past match history available."})})]})]})]})},eQ=()=>{const{user:t}=gr(),{toast:e}=pr(),[n,r]=p.useState([]),[s,i]=p.useState(!0),a=async()=>{if(t){i(!0);try{const m=await r2(t.uid);r(m)}catch(m){console.error("Error loading notifications:",m),e({title:"Error",description:"Failed to load notifications",variant:"destructive"})}finally{i(!1)}}};p.useEffect(()=>{a()},[t]);const l=async m=>{try{await DT(m),r(n.map(g=>g.id===m?{...g,is_read:!0}:g)),e({title:"Marked as read",description:"Notification marked as read"})}catch(g){e({title:"Error",description:g.message||"Failed to mark notification as read",variant:"destructive"})}},c=async()=>{try{const m=n.filter(g=>!g.is_read);await Promise.all(m.map(g=>DT(g.id))),r(n.map(g=>({...g,is_read:!0}))),e({title:"All marked as read",description:"All notifications marked as read"})}catch(m){e({title:"Error",description:m.message||"Failed to mark all notifications as read",variant:"destructive"})}},u=m=>{if(!m)return"";let g;if(m!=null&&m.toDate?g=m.toDate():m!=null&&m.seconds?g=new Date(m.seconds*1e3):g=new Date(m),isNaN(g.getTime()))return"Invalid Date";const w=new Date().getTime()-g.getTime(),x=Math.floor(w/6e4),b=Math.floor(w/36e5),y=Math.floor(w/864e5);if(x<1)return"Just now";if(x<60)return`${x} minute${x!==1?"s":""} ago`;if(b<24)return`${b} hour${b!==1?"s":""} ago`;if(y<7)return`${y} day${y!==1?"s":""} ago`;const v=String(g.getDate()).padStart(2,"0"),T=String(g.getMonth()+1).padStart(2,"0"),I=g.getFullYear();return`${v}/${T}/${I}`},h=m=>{switch(m){case"registration":return o.jsx(yw,{className:"h-5 w-5 text-green-500"});case"match":return o.jsx(Ou,{className:"h-5 w-5 text-blue-500"});default:return o.jsx(Ou,{className:"h-5 w-5 text-muted-foreground"})}},f=n.filter(m=>!m.is_read).length;return s?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsx(zn,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Notifications"}),o.jsx("p",{className:"text-muted-foreground",children:f>0?`You have ${f} unread notification${f!==1?"s":""}`:"You're all caught up!"})]}),f>0&&o.jsx(_e,{variant:"outline",onClick:c,children:"Mark All as Read"})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(Ou,{className:"h-5 w-5"}),"All Notifications"]}),o.jsx(Wr,{children:"Your recent notifications and updates"})]}),o.jsx(Te,{children:n.length===0?o.jsx(rs,{children:o.jsx(ss,{children:"No notifications yet. You'll receive notifications when your game registrations are approved or when matches are scheduled."})}):o.jsx("div",{className:"space-y-3",children:n.map(m=>o.jsx(Ee,{className:`${m.is_read?"opacity-60 hover:opacity-80":"border-primary/50 bg-primary/5"} transition-opacity`,children:o.jsx(Te,{className:"pt-6",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:m.is_read?o.jsx(tL,{className:"h-5 w-5 text-muted-foreground"}):h(m.type)}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"font-semibold",children:m.title}),!m.is_read&&o.jsx(Zt,{variant:"default",className:"h-5 px-1.5 text-xs",children:"New"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:m.message})]}),!m.is_read&&o.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>l(m.id),children:"Mark as read"})]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[o.jsx("span",{children:u(m.created_at)}),m.type&&o.jsx(Zt,{variant:"outline",className:"text-xs",children:m.type})]})]})]})})},m.id))})})]})]})},tQ=()=>{const{user:t}=gr(),e=Ac(),[n,r]=p.useState(new Date),[s,i]=p.useState(null),[a,l]=p.useState([]),[c,u]=p.useState(!0),[h,f]=p.useState(!1),[m,g]=p.useState([]);p.useState([]);const[E,w]=p.useState([]),[x,b]=p.useState([]);p.useEffect(()=>{(async()=>{if(t){u(!0);try{const[j,F,J]=await Promise.all([mr(),gs(),Jo({userId:t.uid})]);g(j),w(F),b(J);const H=J.map(ie=>ie.id),[te,$]=await Promise.all([z_(t.uid),W_(H)]),ee=[...te,...$].map(ie=>ie.id),le=await B_(ee);l(le)}catch(j){console.error("Error loading schedule:",j)}finally{u(!1)}}})()},[t]);const y=A=>a.filter(j=>{var J;if(!j.match_time)return!1;const F=(J=j.match_time)!=null&&J.toDate?j.match_time.toDate():new Date(j.match_time);return Sd(F,A)}),v=A=>{var j;return((j=m.find(F=>F.id===A))==null?void 0:j.name)||"Unknown Game"},T=()=>{f(!1),e("/dashboard/matches")},I=l2(n),R=a2(I),N=$o(I),C=c2(R),P=o2({start:N,end:C}),k=[];for(let A=0;A<P.length;A+=7)k.push(P.slice(A,A+7));const D=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"My Schedule"}),o.jsx("p",{className:"text-muted-foreground",children:"View and track your upcoming matches"})]})}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-semibold",children:Or(n,"MMMM yyyy")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(_e,{variant:"outline",size:"icon",onClick:()=>r(f2(n,1)),children:o.jsx(gI,{className:"h-4 w-4"})}),o.jsx(_e,{variant:"outline",size:"icon",onClick:()=>r(r0(n,1)),children:o.jsx(yI,{className:"h-4 w-4"})})]})]}),o.jsx(Ee,{children:o.jsxs(Te,{className:"p-0",children:[o.jsx("div",{className:"grid grid-cols-7 border-b",children:D.map(A=>o.jsx("div",{className:"p-4 text-center font-medium text-sm text-muted-foreground border-r last:border-r-0",children:A},A))}),k.map((A,j)=>o.jsx("div",{className:"grid grid-cols-7 border-b last:border-b-0",children:A.map((F,J)=>{const H=y(F),te=s&&Sd(F,s),$=h2(F,n);return o.jsxs("div",{className:`min-h-[120px] p-2 border-r last:border-r-0 transition-colors cursor-pointer hover:bg-muted/50
                                            ${$?"":"bg-muted/10 text-muted-foreground"}
                                            ${te?"bg-primary/5 ring-1 ring-inset ring-primary":""}
                                            ${jm(F)?"bg-accent/50":""}
                                        `,onClick:()=>{H.length>0&&(i(F),f(!0))},children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("span",{className:`text-sm font-medium h-7 w-7 flex items-center justify-center rounded-full
                                                ${jm(F)?"bg-primary text-primary-foreground":""}
                                            `,children:Or(F,"d")}),H.length>0&&o.jsx("span",{className:"text-xs font-bold text-primary bg-primary/10 px-1.5 py-0.5 rounded-full",children:H.length})]}),o.jsxs("div",{className:"space-y-1",children:[H.slice(0,3).map(B=>{var le;const ee=(le=B.match_time)!=null&&le.toDate?B.match_time.toDate():new Date(B.match_time);return o.jsxs("div",{className:"text-xs p-1 rounded bg-secondary truncate",children:[Or(ee,"HH:mm")," - ",v(B.game_id)]},B.id)}),H.length>3&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["+ ",H.length-3," more"]})]})]},J)})},j))]})}),o.jsx(hi,{open:h,onOpenChange:f,children:o.jsxs(Ls,{className:"max-w-md",children:[o.jsx(Vs,{children:o.jsxs(Fs,{children:["Matches on ",s?Or(s,"MMMM d, yyyy"):""]})}),o.jsx("div",{className:"space-y-4 py-4",children:s&&y(s).map(A=>{var F;const j=(F=A.match_time)!=null&&F.toDate?A.match_time.toDate():new Date(A.match_time);return o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:T,children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"font-semibold",children:v(A.game_id)})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Go,{className:"h-3 w-3"}),o.jsx("span",{children:Or(j,"HH:mm")})]}),A.venue&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(op,{className:"h-3 w-3"}),o.jsx("span",{children:A.venue})]})]}),o.jsx(_e,{variant:"ghost",size:"sm",children:"View Details"})]},A.id)})})]})})]})},nQ=()=>{const{user:t,loading:e,isAdmin:n}=gr(),[r,s]=p.useState(""),[i,a]=p.useState({activeTournaments:0,matchesPlayed:0,wins:0,upcomingMatches:0}),[l,c]=p.useState([]),[u,h]=p.useState([]),f=m=>{if(!m)return"N/A";let g;if(typeof m=="object"&&m.toDate?g=m.toDate():g=new Date(m),isNaN(g.getTime()))return"N/A";const E=String(g.getDate()).padStart(2,"0"),w=String(g.getMonth()+1).padStart(2,"0"),x=g.getFullYear();return`${E}/${w}/${x}`};return p.useEffect(()=>{(async()=>{if(t)try{const g=await Lo(wt(qe,"profiles",t.uid));if(g.exists()){const H=g.data();s(H.name||t.displayName||t.email||"User")}else s(t.displayName||t.email||"User");const E=await fi({userId:t.uid,status:"approved"}),w=Array.from(new Set(E.map(H=>H.tournament_id))),x=w.map(H=>Lo(wt(qe,"tournaments",H))),y=(await Promise.all(x)).map(H=>H.exists()?{id:H.id,...H.data()}:null).filter(H=>H!==null&&(H.status==="active"||H.status==="draft"));c(y);const v=await z_(t.uid),I=(await Jo({userId:t.uid})).map(H=>H.id),R=await W_(I),C=[...v,...R].map(H=>H.id);let P=await B_(C);P.sort((H,te)=>{const $=new Date(H.match_time||H.updated_at||H.created_at||0).getTime();return new Date(te.match_time||te.updated_at||te.created_at||0).getTime()-$});const k=P.slice(0,5).map(H=>({title:`Match: ${H.round_name}`,description:`Status: ${H.status}`,date:f(H.match_time||H.created_at)}));if(k.length===0&&E.length>0){const H=[...E].sort((te,$)=>{const B=new Date(te.created_at||0).getTime();return new Date($.created_at||0).getTime()-B});k.push(...H.slice(0,5).map(te=>({title:"Joined Tournament",description:"Registration Approved",date:f(te.created_at)})))}h(k);const D=P.filter(H=>H.status==="COMPLETED").length,A=P.filter(H=>H.status==="SCHEDULED").length,j=P.filter(H=>H.status==="COMPLETED").map(H=>H.id),J=(await fH(j)).filter(H=>C.includes(H.winner_participant_id)).length;a({activeTournaments:w.length,matchesPlayed:D,wins:J,upcomingMatches:A})}catch(g){console.error("Error fetching dashboard data:",g),s(t.displayName||t.email||"User")}})()},[t]),p.useEffect(()=>{const m=document.body,g=m.style.paddingTop;return m.style.paddingTop="0",()=>{m.style.paddingTop=g}},[]),e?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading..."})}):t?n?o.jsx(Iv,{to:"/admin",replace:!0}):o.jsx(H_,{children:o.jsxs("div",{className:"min-h-screen flex w-full bg-muted/30",children:[o.jsx(RG,{}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx(DG,{}),o.jsx("main",{className:"flex-1 p-6",children:o.jsxs(Lw,{children:[o.jsx(Pt,{index:!0,element:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Player Dashboard"}),o.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",r,"!"]})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4 mb-8",children:[o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Tournaments Joined"}),o.jsx(rn,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:i.activeTournaments}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Active tournaments"})]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Matches Played"}),o.jsx(ww,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:i.matchesPlayed}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total matches"})]})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Wins"}),o.jsx(rn,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:i.wins}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Victories achieved"})]})]}),o.jsx(yt,{to:"/dashboard/schedule",children:o.jsxs(Ee,{className:"hover:bg-muted/50 cursor-pointer transition-colors",children:[o.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Qe,{className:"text-sm font-medium",children:"Upcoming Matches"}),o.jsx(vi,{className:"h-4 w-4 text-primary"})]}),o.jsxs(Te,{children:[o.jsx("div",{className:"text-2xl font-bold",children:i.upcomingMatches}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled matches"})]})]})})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:"Recent Activity"}),o.jsx(Wr,{children:"Your latest tournament activities"})]}),o.jsx(Te,{children:u.length>0?o.jsx("div",{className:"space-y-4",children:u.map((m,g)=>o.jsxs("div",{className:"flex items-center justify-between border-b last:border-0 pb-2 last:pb-0",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:m.title}),o.jsx("p",{className:"text-xs text-muted-foreground",children:m.description})]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:m.date})]},g))}):o.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No recent activity yet. Join a tournament to get started!"})})]}),o.jsxs(Ee,{children:[o.jsxs(Ke,{children:[o.jsx(Qe,{children:"Current Tournaments"}),o.jsx(Wr,{children:"Tournaments you're participating in"})]}),o.jsx(Te,{children:l.length>0?o.jsx("div",{className:"space-y-4",children:l.map(m=>o.jsxs("div",{className:"flex items-center justify-between border-b last:border-0 pb-2 last:pb-0",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:m.name}),o.jsx(Zt,{variant:m.status==="active"?"default":"secondary",className:"mt-1",children:m.status})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-xs text-muted-foreground",children:f(m.start_date)})})]},m.id))}):o.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No active tournaments. Browse available tournaments to join!"})})]})]})]})}),o.jsx(Pt,{path:"register",element:o.jsx(OK,{})}),o.jsx(Pt,{path:"my-games",element:o.jsx(ZK,{})}),o.jsx(Pt,{path:"matches",element:o.jsx(JK,{})}),o.jsx(Pt,{path:"schedule",element:o.jsx(tQ,{})}),o.jsx(Pt,{path:"notifications",element:o.jsx(eQ,{})}),o.jsx(Pt,{path:"profile",element:o.jsx(jK,{})})]})})]})]})}):o.jsx(Iv,{to:"/login",replace:!0})},rQ=()=>{const t=Hs();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},sQ=new R5,iQ=()=>o.jsx(O5,{client:sQ,children:o.jsxs(hk,{children:[o.jsx(HL,{}),o.jsx(EV,{}),o.jsx(P3,{basename:"/SportsBracket/",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:o.jsx(t7,{children:o.jsxs(Lw,{children:[o.jsx(Pt,{path:"/",element:o.jsx(d7,{})}),o.jsx(Pt,{path:"/leaderboard",element:o.jsx(xH,{})}),o.jsx(Pt,{path:"/schedule",element:o.jsx(_H,{})}),o.jsx(Pt,{path:"/login",element:o.jsx(PW,{})}),o.jsx(Pt,{path:"/register",element:o.jsx(lH,{})}),o.jsx(Pt,{path:"/dashboard/*",element:o.jsx(nQ,{})}),o.jsx(Pt,{path:"/admin/*",element:o.jsx(AG,{})}),o.jsx(Pt,{path:"*",element:o.jsx(rQ,{})})]})})})]})});VC(document.getElementById("root")).render(o.jsx(iQ,{}));
